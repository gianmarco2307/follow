import{a as oe,b as it,c as RI,f as Va,g as H}from"./chunk-5G567QLT.js";function QM(n,e){return Object.is(n,e)}var pi=null,Cf=!1,bg=1,Gs=Symbol("SIGNAL");function zt(n){let e=pi;return pi=n,e}function JB(){return Cf}var Tf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function OI(n){if(Cf)throw new Error("");if(pi===null)return;pi.consumerOnSignalRead(n);let e=pi.nextProducerIndex++;if(Ou(pi),e<pi.producerNode.length&&pi.producerNode[e]!==n&&Ef(pi)){let t=pi.producerNode[e];Sg(t,pi.producerIndexOfThis[e])}pi.producerNode[e]!==n&&(pi.producerNode[e]=n,pi.producerIndexOfThis[e]=Ef(pi)?tk(n,pi,e):0),pi.producerLastReadVersion[e]=n.version}function eU(){bg++}function ZM(n){if(!(Ef(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===bg)){if(!n.producerMustRecompute(n)&&!xg(n)){n.dirty=!1,n.lastCleanEpoch=bg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=bg}}function XM(n){if(n.liveConsumerNode===void 0)return;let e=Cf;Cf=!0;try{for(let t of n.liveConsumerNode)t.dirty||ek(t)}finally{Cf=e}}function JM(){return pi?.consumerAllowSignalWrites!==!1}function ek(n){n.dirty=!0,XM(n),n.consumerMarkedDirty?.(n)}function Eg(n){return n&&(n.nextProducerIndex=0),zt(n)}function Tg(n,e){if(zt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ef(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Sg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xg(n){Ou(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ZM(t),i!==t.version))return!0}return!1}function FI(n){if(Ou(n),Ef(n))for(let e=0;e<n.producerNode.length;e++)Sg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tk(n,e,t){if(nk(n),Ou(n),n.liveConsumerNode.length===0)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=tk(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Sg(n,e){if(nk(n),Ou(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Sg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ou(r),r.producerIndexOfThis[i]=e}}function Ef(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ou(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function nk(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ik(n){let e=Object.create(tU);e.computation=n;let t=()=>{if(ZM(e),OI(e),e.value===Cg)throw e.error;return e.value};return t[Gs]=e,t}var MI=Symbol("UNSET"),kI=Symbol("COMPUTING"),Cg=Symbol("ERRORED"),tU=it(oe({},Tf),{value:MI,dirty:!0,error:null,equal:QM,producerMustRecompute(n){return n.value===MI||n.value===kI},producerRecomputeValue(n){if(n.value===kI)throw new Error("Detected cycle in computations.");let e=n.value;n.value=kI;let t=Eg(n),i;try{i=n.computation()}catch(r){i=Cg,n.error=r}finally{Tg(n,t)}if(e!==MI&&e!==Cg&&i!==Cg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function nU(){throw new Error}var rk=nU;function sk(){rk()}function ok(n){rk=n}var iU=null;function ak(n){let e=Object.create(ck);e.value=n;let t=()=>(OI(e),e.value);return t[Gs]=e,t}function LI(n,e){JM()||sk(),n.equal(n.value,e)||(n.value=e,rU(n))}function lk(n,e){JM()||sk(),LI(n,e(n.value))}var ck=it(oe({},Tf),{equal:QM,value:void 0});function rU(n){n.version++,eU(),XM(n),iU?.()}function uk(n,e,t){let i=Object.create(sU);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(FI(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=PI)}let a=()=>{if(i.fn===null)return;if(JB())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!xg(i))return;i.hasRun=!0;let l=Eg(i);try{i.cleanupFn(),i.cleanupFn=PI,i.fn(r)}finally{Tg(i,l)}};return i.ref={notify:()=>ek(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[Gs]:i},i.ref}var PI=()=>{},sU=it(oe({},Tf),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:PI});function dt(n){return typeof n=="function"}function Fu(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Dg=Fu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function nc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Vn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(dt(i))try{i()}catch(s){e=s instanceof Dg?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{dk(s)}catch(o){e=e??[],o instanceof Dg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dk(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&nc(t,e)}remove(e){let{_finalizers:t}=this;t&&nc(t,e),e instanceof n&&e._removeParent(this)}};Vn.EMPTY=(()=>{let n=new Vn;return n.closed=!0,n})();var NI=Vn.EMPTY;function Ag(n){return n instanceof Vn||n&&"closed"in n&&dt(n.remove)&&dt(n.add)&&dt(n.unsubscribe)}function dk(n){dt(n)?n():n.unsubscribe()}var ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lu={setTimeout(n,e,...t){let{delegate:i}=Lu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Lu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rg(n){Lu.setTimeout(()=>{let{onUnhandledError:e}=ps;if(e)e(n);else throw n})}function ic(){}var hk=VI("C",void 0,void 0);function fk(n){return VI("E",void 0,n)}function pk(n){return VI("N",n,void 0)}function VI(n,e,t){return{kind:n,value:e,error:t}}var rc=null;function Nu(n){if(ps.useDeprecatedSynchronousErrorHandling){let e=!rc;if(e&&(rc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=rc;if(rc=null,t)throw i}}else n()}function mk(n){ps.useDeprecatedSynchronousErrorHandling&&rc&&(rc.errorThrown=!0,rc.error=n)}var sc=class extends Vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ag(e)&&e.add(this)):this.destination=lU}static create(e,t,i){return new Vu(e,t,i)}next(e){this.isStopped?UI(pk(e),this):this._next(e)}error(e){this.isStopped?UI(fk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?UI(hk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oU=Function.prototype.bind;function BI(n,e){return oU.call(n,e)}var jI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Mg(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Mg(i)}else Mg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mg(t)}}},Vu=class extends sc{constructor(e,t,i){super();let r;if(dt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&BI(e.next,s),error:e.error&&BI(e.error,s),complete:e.complete&&BI(e.complete,s)}):r=e}this.destination=new jI(r)}};function Mg(n){ps.useDeprecatedSynchronousErrorHandling?mk(n):Rg(n)}function aU(n){throw n}function UI(n,e){let{onStoppedNotification:t}=ps;t&&Lu.setTimeout(()=>t(n,e))}var lU={closed:!0,next:ic,error:aU,complete:ic};var Bu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Sr(n){return n}function kg(...n){return zI(n)}function zI(n){return n.length===0?Sr:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=uU(t)?t:new Vu(t,i,r);return Nu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=gk(i),new i((r,s)=>{let o=new Vu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Bu](){return this}pipe(...t){return zI(t)(this)}toPromise(t){return t=gk(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function gk(n){var e;return(e=n??ps.Promise)!==null&&e!==void 0?e:Promise}function cU(n){return n&&dt(n.next)&&dt(n.error)&&dt(n.complete)}function uU(n){return n&&n instanceof sc||cU(n)&&Ag(n)}function HI(n){return dt(n?.lift)}function Rt(n){return e=>{if(HI(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(n,e,t,i,r){return new $I(n,e,t,i,r)}var $I=class extends sc{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uu(){return Rt((n,e)=>{let t=null;n._refCount++;let i=xt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var ju=class extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,HI(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vn;let t=this.getSubject();e.add(this.source.subscribe(xt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vn.EMPTY)}return e}refCount(){return Uu()(this)}};var _k=Fu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var sn=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Pg(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new _k}next(t){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?NI:(this.currentObservers=null,s.push(t),new Vn(()=>{this.currentObservers=null,nc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new pt;return t.source=this,t}}return n.create=(e,t)=>new Pg(e,t),n})(),Pg=class extends sn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:NI}};var ni=class extends sn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var GI={now(){return(GI.delegate||Date).now()},delegate:void 0};var Og=class extends Vn{constructor(e,t){super()}schedule(e,t=0){return this}};var xf={setInterval(n,e,...t){let{delegate:i}=xf;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zu=class extends Og{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return xf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&xf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,nc(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Hu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Hu.now=GI.now;var $u=class extends Hu{constructor(e,t=Hu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Gu=new $u(zu),WI=Gu;var Fg=class extends zu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Lg=class extends $u{};var qI=new Lg(Fg);var Dr=new pt(n=>n.complete());function Ng(n){return n&&dt(n.schedule)}function yk(n){return n[n.length-1]}function Vg(n){return dt(yk(n))?n.pop():void 0}function Ba(n){return Ng(yk(n))?n.pop():void 0}function KI(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function wk(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function vk(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(n){return this instanceof oc?(this.v=n,this):new oc(n)}function Ik(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(_){return Promise.resolve(_).then(p,h)}}function a(p,_){i[p]&&(r[p]=function(I){return new Promise(function(b,E){s.push([p,I,b,E])>1||l(p,I)})},_&&(r[p]=_(r[p])))}function l(p,_){try{c(i[p](_))}catch(I){f(s[0][3],I)}}function c(p){p.value instanceof oc?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,_){p(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function bk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vk=="function"?vk(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Bg=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ug(n){return dt(n?.then)}function jg(n){return dt(n[Bu])}function zg(n){return Symbol.asyncIterator&&dt(n?.[Symbol.asyncIterator])}function Hg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $g=dU();function Gg(n){return dt(n?.[$g])}function Wg(n){return Ik(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield oc(t.read());if(r)return yield oc(void 0);yield yield oc(i)}}finally{t.releaseLock()}})}function qg(n){return dt(n?.getReader)}function Dn(n){if(n instanceof pt)return n;if(n!=null){if(jg(n))return hU(n);if(Bg(n))return fU(n);if(Ug(n))return pU(n);if(zg(n))return Ck(n);if(Gg(n))return mU(n);if(qg(n))return gU(n)}throw Hg(n)}function hU(n){return new pt(e=>{let t=n[Bu]();if(dt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fU(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function pU(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rg)})}function mU(n){return new pt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ck(n){return new pt(e=>{_U(n,e).catch(t=>e.error(t))})}function gU(n){return Ck(Wg(n))}function _U(n,e){var t,i,r,s;return wk(this,void 0,void 0,function*(){try{for(t=bk(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function dr(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Ua(n,e=0){return Rt((t,i)=>{t.subscribe(xt(i,r=>dr(i,n,()=>i.next(r),e),()=>dr(i,n,()=>i.complete(),e),r=>dr(i,n,()=>i.error(r),e)))})}function ja(n,e=0){return Rt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Ek(n,e){return Dn(n).pipe(ja(e),Ua(e))}function Tk(n,e){return Dn(n).pipe(ja(e),Ua(e))}function xk(n,e){return new pt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Sk(n,e){return new pt(t=>{let i;return dr(t,e,()=>{i=n[$g](),dr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>dt(i?.return)&&i.return()})}function Kg(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{dr(t,e,()=>{let i=n[Symbol.asyncIterator]();dr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Dk(n,e){return Kg(Wg(n),e)}function Ak(n,e){if(n!=null){if(jg(n))return Ek(n,e);if(Bg(n))return xk(n,e);if(Ug(n))return Tk(n,e);if(zg(n))return Kg(n,e);if(Gg(n))return Sk(n,e);if(qg(n))return Dk(n,e)}throw Hg(n)}function Ht(n,e){return e?Ak(n,e):Dn(n)}function He(...n){let e=Ba(n);return Ht(n,e)}function Wu(n,e){let t=dt(n)?n:()=>n,i=r=>r.error(t());return new pt(e?r=>e.schedule(i,0,r):i)}function YI(n){return!!n&&(n instanceof pt||dt(n.lift)&&dt(n.subscribe))}var jo=Fu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Rk(n){return n instanceof Date&&!isNaN(n)}function st(n,e){return Rt((t,i)=>{let r=0;t.subscribe(xt(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:yU}=Array;function vU(n,e){return yU(e)?n(...e):n(e)}function Yg(n){return st(e=>vU(n,e))}var{isArray:wU}=Array,{getPrototypeOf:IU,prototype:bU,keys:CU}=Object;function Qg(n){if(n.length===1){let e=n[0];if(wU(e))return{args:e,keys:null};if(EU(e)){let t=CU(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function EU(n){return n&&typeof n=="object"&&IU(n)===bU}function Zg(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Sf(...n){let e=Ba(n),t=Vg(n),{args:i,keys:r}=Qg(n);if(i.length===0)return Ht([],e);let s=new pt(TU(i,e,r?o=>Zg(r,o):Sr));return t?s.pipe(Yg(t)):s}function TU(n,e,t=Sr){return i=>{Mk(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)Mk(e,()=>{let c=Ht(n[l],e),u=!1;c.subscribe(xt(i,h=>{s[l]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function Mk(n,e,t){n?dr(t,n,e):e()}function kk(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},p=I=>c<i?_(I):l.push(I),_=I=>{s&&e.next(I),c++;let b=!1;Dn(t(I,u++)).subscribe(xt(e,E=>{r?.(E),s?p(E):e.next(E)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let E=l.shift();o?dr(e,o,()=>_(E)):_(E)}f()}catch(E){e.error(E)}}))};return n.subscribe(xt(e,p,()=>{h=!0,f()})),()=>{a?.()}}function qn(n,e,t=1/0){return dt(e)?qn((i,r)=>st((s,o)=>e(i,s,r,o))(Dn(n(i,r))),t):(typeof e=="number"&&(t=e),Rt((i,r)=>kk(i,r,n,t)))}function za(n=1/0){return qn(Sr,n)}function Pk(){return za(1)}function qu(...n){return Pk()(Ht(n,Ba(n)))}function Xg(n){return new pt(e=>{Dn(n()).subscribe(e)})}function QI(...n){let e=Vg(n),{args:t,keys:i}=Qg(n),r=new pt(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let h=!1;Dn(t[u]).subscribe(xt(s,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?Zg(i,a):a),s.complete())}))}});return e?r.pipe(Yg(e)):r}function Ok(n=0,e,t=WI){let i=-1;return e!=null&&(Ng(e)?t=e:i=e),new pt(r=>{let s=Rk(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ZI(n=0,e=Gu){return n<0&&(n=0),Ok(n,n,e)}function ii(n,e){return Rt((t,i)=>{let r=0;t.subscribe(xt(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Ha(n){return Rt((e,t)=>{let i=null,r=!1,s;i=e.subscribe(xt(t,void 0,void 0,o=>{s=Dn(n(o,Ha(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Fk(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(xt(o,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function zo(n,e){return dt(e)?qn(n,e,1):qn(n,1)}function XI(n){return Rt((e,t)=>{let i=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let a=r;r=null,t.next(a)}};e.subscribe(xt(t,a=>{s?.unsubscribe(),i=!0,r=a,s=xt(t,o,ic),Dn(n(a)).subscribe(s)},()=>{o(),t.complete()},void 0,()=>{r=s=null}))})}function $a(n){return Rt((e,t)=>{let i=!1;e.subscribe(xt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ho(n){return n<=0?()=>Dr:Rt((e,t)=>{let i=0;e.subscribe(xt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function JI(n){return st(()=>n)}function Jg(n=xU){return Rt((e,t)=>{let i=!1;e.subscribe(xt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function xU(){return new jo}function ac(n){return Rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ws(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):Sr,Ho(1),t?$a(e):Jg(()=>new jo))}function Ku(n){return n<=0?()=>Dr:Rt((e,t)=>{let i=[];e.subscribe(xt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function e1(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):Sr,Ku(1),t?$a(e):Jg(()=>new jo))}function e_(n,e){return Rt(Fk(n,e,arguments.length>=2,!0))}function t_(...n){let e=Ba(n);return Rt((t,i)=>{(e?qu(n,t,e):qu(n,t)).subscribe(i)})}function hr(n,e){return Rt((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(xt(i,l=>{r?.unsubscribe();let c=0,u=s++;Dn(n(l,u)).subscribe(r=xt(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function t1(n){return Rt((e,t)=>{Dn(n).subscribe(xt(t,()=>t.complete(),ic)),!t.closed&&e.subscribe(t)})}function Kn(n,e,t){let i=dt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Rt((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(xt(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Sr}var EP="https://g.co/ng/security#xss",he=class extends Error{constructor(e,t){super(L_(e,t)),this.code=e}};function L_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Bf(n){return{toString:n}.toString()}var n_="__parameters__";function SU(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function TP(n,e,t){return Bf(()=>{let i=SU(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let h=l.hasOwnProperty(n_)?l[n_]:Object.defineProperty(l,n_,{value:[]})[n_];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Ar=globalThis;function cn(n){for(let e in n)if(n[e]===cn)return e;throw Error("Could not find renamed property on target object.")}function DU(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function sr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(sr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function _1(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var AU=cn({__forward_ref__:cn});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return sr(this())},n}function rr(n){return xP(n)?n():n}function xP(n){return typeof n=="function"&&n.hasOwnProperty(AU)&&n.__forward_ref__===Cn}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Re(n){return{providers:n.providers||[],imports:n.imports||[]}}function N_(n){return Lk(n,DP)||Lk(n,AP)}function SP(n){return N_(n)!==null}function Lk(n,e){return n.hasOwnProperty(e)?n[e]:null}function RU(n){let e=n&&(n[DP]||n[AP]);return e||null}function Nk(n){return n&&(n.hasOwnProperty(Vk)||n.hasOwnProperty(MU))?n[Vk]:null}var DP=cn({\u0275prov:cn}),Vk=cn({\u0275inj:cn}),AP=cn({ngInjectableDef:cn}),MU=cn({ngInjectorDef:cn}),Pe=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function RP(n){return n&&!!n.\u0275providers}var kU=cn({\u0275cmp:cn}),PU=cn({\u0275dir:cn}),OU=cn({\u0275pipe:cn}),FU=cn({\u0275mod:cn}),m_=cn({\u0275fac:cn}),Df=cn({__NG_ELEMENT_ID__:cn}),Bk=cn({__NG_ENV_ID__:cn});function dc(n){return typeof n=="string"?n:n==null?"":String(n)}function LU(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dc(n)}function NU(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new he(-200,n)}function wb(n,e){throw new he(-201,!1)}var Dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dt||{}),y1;function MP(){return y1}function fr(n){let e=y1;return y1=n,e}function kP(n,e,t){let i=N_(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Dt.Optional)return null;if(e!==void 0)return e;wb(n,"Injector")}var VU={},Af=VU,v1="__NG_DI_FLAG__",g_="ngTempTokenPath",BU="ngTokenPath",UU=/\n/gm,jU="\u0275",Uk="__source",Ju;function zU(){return Ju}function Ga(n){let e=Ju;return Ju=n,e}function HU(n,e=Dt.Default){if(Ju===void 0)throw new he(-203,!1);return Ju===null?kP(n,void 0,e):Ju.get(n,e&Dt.Optional?null:void 0,e)}function Oe(n,e=Dt.Default){return(MP()||HU)(rr(n),e)}function fe(n,e=Dt.Default){return Oe(n,V_(e))}function V_(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function w1(n){let e=[];for(let t=0;t<n.length;t++){let i=rr(n[t]);if(Array.isArray(i)){if(i.length===0)throw new he(900,!1);let r,s=Dt.Default;for(let o=0;o<i.length;o++){let a=i[o],l=$U(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(Oe(r,s))}else e.push(Oe(i))}return e}function PP(n,e){return n[v1]=e,n.prototype[v1]=e,n}function $U(n){return n[v1]}function GU(n,e,t,i){let r=n[g_];throw e[Uk]&&r.unshift(e[Uk]),n.message=WU(`
`+n.message,r,t,i),n[BU]=r,n[g_]=null,n}function WU(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==jU?n.slice(2):n;let r=sr(e);if(Array.isArray(e))r=e.map(sr).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):sr(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(UU,`
  `)}`}var Mi=PP(TP("Optional"),8);var B_=PP(TP("SkipSelf"),4);function hc(n,e){let t=n.hasOwnProperty(m_);return t?n[m_]:null}function qU(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function KU(n){return n.flat(Number.POSITIVE_INFINITY)}function Ib(n,e){n.forEach(t=>Array.isArray(t)?Ib(t,e):e(t))}function OP(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function __(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YU(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function QU(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function U_(n,e,t){let i=Uf(n,e);return i>=0?n[i|1]=t:(i=~i,QU(n,i,e,t)),i}function n1(n,e){let t=Uf(n,e);if(t>=0)return n[t|1]}function Uf(n,e){return ZU(n,e,1)}function ZU(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var td={},pr=[],nd=new Pe(""),FP=new Pe("",-1),LP=new Pe(""),y_=class{get(e,t=Af){if(t===Af){let i=new Error(`NullInjectorError: No provider for ${sr(e)}!`);throw i.name="NullInjectorError",i}return t}},NP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(NP||{}),Ys=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ys||{}),j=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(j||{});function XU(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function I1(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];JU(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function VP(n){return n===3||n===4||n===6}function JU(n){return n.charCodeAt(0)===64}function Rf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?jk(n,t,r,null,e[++i]):jk(n,t,r,null,null))}}return n}function jk(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var BP="ng-template";function ej(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&XU(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(bb(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function bb(n){return n.type===4&&n.value!==BP}function tj(n,e,t){let i=n.type===4&&!t?BP:n.value;return e===i}function nj(n,e,t){let i=4,r=n.attrs,s=r!==null?sj(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!ms(i)&&!ms(l))return!1;if(o&&ms(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!tj(n,l,t)||l===""&&e.length===1){if(ms(i))return!1;o=!0}}else if(i&8){if(r===null||!ej(n,r,l,t)){if(ms(i))return!1;o=!0}}else{let c=e[++a],u=ij(l,r,bb(n),t);if(u===-1){if(ms(i))return!1;o=!0;continue}if(c!==""){let h;if(u>s?h="":h=r[u+1].toLowerCase(),i&2&&c!==h){if(ms(i))return!1;o=!0}}}}return ms(i)||o}function ms(n){return(n&1)===0}function ij(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return oj(e,n)}function UP(n,e,t=!1){for(let i=0;i<e.length;i++)if(nj(n,e[i],t))return!0;return!1}function rj(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function sj(n){for(let e=0;e<n.length;e++){let t=n[e];if(VP(t))return e}return n.length}function oj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function aj(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function zk(n,e){return n?":not("+e.trim()+")":e}function lj(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ms(o)&&(e+=zk(s,r),r=""),i=o,s=s||!ms(i);t++}return r!==""&&(e+=zk(s,r)),e}function cj(n){return n.map(lj).join(",")}function uj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!ms(r))break;r=s}i++}return{attrs:e,classes:t}}function ee(n){return Bf(()=>{let e=GP(n),t=it(oe({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===NP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ys.Emulated,styles:n.styles||pr,_:null,schemas:n.schemas||null,tView:null,id:""});WP(t);let i=n.dependencies;return t.directiveDefs=$k(i,!1),t.pipeDefs=$k(i,!0),t.id=fj(t),t})}function dj(n){return qa(n)||jP(n)}function hj(n){return n!==null}function Me(n){return Bf(()=>({type:n.type,bootstrap:n.bootstrap||pr,declarations:n.declarations||pr,imports:n.imports||pr,exports:n.exports||pr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hk(n,e){if(n==null)return td;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=j.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==j.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Nt(n){return Bf(()=>{let e=GP(n);return WP(e),e})}function j_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function qa(n){return n[kU]||null}function jP(n){return n[PU]||null}function zP(n){return n[OU]||null}function HP(n){let e=qa(n)||jP(n)||zP(n);return e!==null?e.standalone:!1}function $P(n,e){let t=n[FU]||null;if(!t&&e===!0)throw new Error(`Type ${sr(n)} does not have '\u0275mod' property.`);return t}function GP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||td,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||pr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hk(n.inputs,e),outputs:Hk(n.outputs),debugInfo:null}}function WP(n){n.features?.forEach(e=>e(n))}function $k(n,e){if(!n)return null;let t=e?zP:dj;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(hj)}function fj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hd(n){return{\u0275providers:n}}function Cb(...n){return{\u0275providers:qP(!0,n),\u0275fromNgModule:!0}}function qP(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return Ib(e,o=>{let a=o;b1(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&KP(r,s),t}function KP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Eb(r,s=>{e(s,i)})}}function b1(n,e,t,i){if(n=rr(n),!n)return!1;let r=null,s=Nk(n),o=!s&&qa(n);if(!s&&!o){let l=n.ngModule;if(s=Nk(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)b1(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{Ib(s.imports,u=>{b1(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&KP(c,e)}if(!a){let c=hc(r)||(()=>new r);e({provide:r,useFactory:c,deps:pr},r),e({provide:LP,useValue:r,multi:!0},r),e({provide:nd,useValue:()=>Oe(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;Eb(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function Eb(n,e){for(let t of n)RP(t)&&(t=t.\u0275providers),Array.isArray(t)?Eb(t,e):e(t)}var pj=cn({provide:String,useValue:cn});function YP(n){return n!==null&&typeof n=="object"&&pj in n}function mj(n){return!!(n&&n.useExisting)}function gj(n){return!!(n&&n.useFactory)}function id(n){return typeof n=="function"}function _j(n){return!!n.useClass}var z_=new Pe(""),l_={},yj={},i1;function Tb(){return i1===void 0&&(i1=new y_),i1}var ji=class{},Mf=class extends ji{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,E1(e,o=>this.processProvider(o)),this.records.set(FP,Yu(void 0,this)),r.has("environment")&&this.records.set(ji,Yu(void 0,this));let s=this.records.get(z_);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LP,pr,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=zt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),zt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ga(this),i=fr(void 0),r;try{return e()}finally{Ga(t),fr(i)}}get(e,t=Af,i=Dt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bk))return e[Bk](this);i=V_(i);let r,s=Ga(this),o=fr(void 0);try{if(!(i&Dt.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Cj(e)&&N_(e);c&&this.injectableDefInScope(c)?l=Yu(C1(e),l_):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Dt.Self?Tb():this.parent;return t=i&Dt.Optional&&t===Af?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[g_]=a[g_]||[]).unshift(sr(e)),s)throw a;return GU(a,e,"R3InjectorError",this.source)}else throw a}finally{fr(o),Ga(s)}}resolveInjectorInitializers(){let e=zt(null),t=Ga(this),i=fr(void 0),r;try{let s=this.get(nd,pr,Dt.Self);for(let o of s)o()}finally{Ga(t),fr(i),zt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(sr(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){e=rr(e);let t=id(e)?e:rr(e&&e.provide),i=wj(e);if(!id(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Yu(void 0,l_,!0),r.factory=()=>w1(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=zt(null);try{return t.value===l_&&(t.value=yj,t.value=t.factory()),typeof t.value=="object"&&t.value&&bj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{zt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=rr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function C1(n){let e=N_(n),t=e!==null?e.factory:hc(n);if(t!==null)return t;if(n instanceof Pe)throw new he(204,!1);if(n instanceof Function)return vj(n);throw new he(204,!1)}function vj(n){if(n.length>0)throw new he(204,!1);let t=RU(n);return t!==null?()=>t.factory(n):()=>new n}function wj(n){if(YP(n))return Yu(void 0,n.useValue);{let e=QP(n);return Yu(e,l_)}}function QP(n,e,t){let i;if(id(n)){let r=rr(n);return hc(r)||C1(r)}else if(YP(n))i=()=>rr(n.useValue);else if(gj(n))i=()=>n.useFactory(...w1(n.deps||[]));else if(mj(n))i=()=>Oe(rr(n.useExisting));else{let r=rr(n&&(n.useClass||n.provide));if(Ij(n))i=()=>new r(...w1(n.deps));else return hc(r)||C1(r)}return i}function Yu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ij(n){return!!n.deps}function bj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Cj(n){return typeof n=="function"||typeof n=="object"&&n instanceof Pe}function E1(n,e){for(let t of n)Array.isArray(t)?E1(t,e):t&&RP(t)?E1(t.\u0275providers,e):e(t)}function Is(n,e){n instanceof Mf&&n.assertNotDestroyed();let t,i=Ga(n),r=fr(void 0);try{return e()}finally{Ga(i),fr(r)}}function ZP(){return MP()!==void 0||zU()!=null}function XP(n){if(!ZP())throw new he(-203,!1)}function Ej(n){return typeof n=="function"}var Wo=0,mt=1,Ye=2,Ri=3,gs=4,Mr=5,kf=6,Pf=7,Zr=8,rd=9,_s=10,bn=11,Of=12,Gk=13,fd=14,ys=15,jf=16,Qu=17,$o=18,H_=19,JP=20,Wa=21,c_=22,fc=23,or=25,eO=1;var pc=7,v_=8,sd=9,mr=10,xb=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(xb||{});function cc(n){return Array.isArray(n)&&typeof n[eO]=="object"}function qo(n){return Array.isArray(n)&&n[eO]===!0}function Sb(n){return(n.flags&4)!==0}function $_(n){return n.componentOffset>-1}function G_(n){return(n.flags&1)===1}function Ka(n){return!!n.template}function Tj(n){return(n[Ye]&512)!==0}var T1=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function tO(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function hn(){return nO}function nO(n){return n.type.prototype.ngOnChanges&&(n.setInput=Sj),xj}hn.ngInherit=!0;function xj(){let n=rO(this),e=n?.current;if(e){let t=n.previous;if(t===td)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Sj(n,e,t,i,r){let s=this.declaredInputs[i],o=rO(n)||Dj(n,{previous:td,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new T1(c&&c.currentValue,t,l===td),tO(n,e,r,t)}var iO="__ngSimpleChanges__";function rO(n){return n[iO]||null}function Dj(n,e){return n[iO]=e}var Wk=null;var qs=function(n,e,t){Wk?.(n,e,t)},sO="svg",Aj="math",Rj=!1;function Mj(){return Rj}function Qs(n){for(;Array.isArray(n);)n=n[Wo];return n}function oO(n,e){return Qs(e[n])}function Xr(n,e){return Qs(e[n.index])}function Db(n,e){return n.data[e]}function aO(n,e){return n[e]}function Za(n,e){let t=e[n];return cc(t)?t:t[Wo]}function kj(n){return(n[Ye]&4)===4}function Ab(n){return(n[Ye]&128)===128}function Pj(n){return qo(n[Ri])}function od(n,e){return e==null?null:n[e]}function lO(n){n[Qu]=0}function Oj(n){n[Ye]&1024||(n[Ye]|=1024,Ab(n)&&Ff(n))}function Fj(n,e){for(;n>0;)e=e[fd],n--;return e}function Rb(n){return!!(n[Ye]&9216||n[fc]?.dirty)}function x1(n){n[_s].changeDetectionScheduler?.notify(1),Rb(n)?Ff(n):n[Ye]&64&&(Mj()?(n[Ye]|=1024,Ff(n)):n[_s].changeDetectionScheduler?.notify())}function Ff(n){n[_s].changeDetectionScheduler?.notify();let e=Lf(n);for(;e!==null&&!(e[Ye]&8192||(e[Ye]|=8192,!Ab(e)));)e=Lf(e)}function cO(n,e){if((n[Ye]&256)===256)throw new he(911,!1);n[Wa]===null&&(n[Wa]=[]),n[Wa].push(e)}function Lj(n,e){if(n[Wa]===null)return;let t=n[Wa].indexOf(e);t!==-1&&n[Wa].splice(t,1)}function Lf(n){let e=n[Ri];return qo(e)?e[Ri]:e}var vt={lFrame:gO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Nj(){return vt.lFrame.elementDepthCount}function Vj(){vt.lFrame.elementDepthCount++}function Bj(){vt.lFrame.elementDepthCount--}function uO(){return vt.bindingsEnabled}function dO(){return vt.skipHydrationRootTNode!==null}function Uj(n){return vt.skipHydrationRootTNode===n}function jj(){vt.skipHydrationRootTNode=null}function Ze(){return vt.lFrame.lView}function An(){return vt.lFrame.tView}function B(n){return vt.lFrame.contextLView=n,n[Zr]}function U(n){return vt.lFrame.contextLView=null,n}function zi(){let n=hO();for(;n!==null&&n.type===64;)n=n.parent;return n}function hO(){return vt.lFrame.currentTNode}function zj(){let n=vt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ic(n,e){let t=vt.lFrame;t.currentTNode=n,t.isParent=e}function Mb(){return vt.lFrame.isParent}function kb(){vt.lFrame.isParent=!1}function Hj(){return vt.lFrame.contextLView}function Xs(){let n=vt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $j(){return vt.lFrame.bindingIndex}function Gj(n){return vt.lFrame.bindingIndex=n}function zf(){return vt.lFrame.bindingIndex++}function Pb(n){let e=vt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Wj(){return vt.lFrame.inI18n}function qj(n,e){let t=vt.lFrame;t.bindingIndex=t.bindingRootIndex=n,S1(e)}function Kj(){return vt.lFrame.currentDirectiveIndex}function S1(n){vt.lFrame.currentDirectiveIndex=n}function Yj(n){let e=vt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function fO(){return vt.lFrame.currentQueryIndex}function Ob(n){vt.lFrame.currentQueryIndex=n}function Qj(n){let e=n[mt];return e.type===2?e.declTNode:e.type===1?n[Mr]:null}function pO(n,e,t){if(t&Dt.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Dt.Host);)if(r=Qj(s),r===null||(s=s[fd],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=vt.lFrame=mO();return i.currentTNode=e,i.lView=n,!0}function Fb(n){let e=mO(),t=n[mt];vt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mO(){let n=vt.lFrame,e=n===null?null:n.child;return e===null?gO(n):e}function gO(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _O(){let n=vt.lFrame;return vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yO=_O;function Lb(){let n=_O();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zj(n){return(vt.lFrame.contextLView=Fj(n,vt.lFrame.contextLView))[Zr]}function Xa(){return vt.lFrame.selectedIndex}function mc(n){vt.lFrame.selectedIndex=n}function W_(){let n=vt.lFrame;return Db(n.tView,n.selectedIndex)}function Ne(){vt.lFrame.currentNamespace=sO}function Xj(){return vt.lFrame.currentNamespace}var vO=!0;function q_(){return vO}function K_(n){vO=n}function Jj(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=nO(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Y_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function u_(n,e,t){wO(n,e,3,t)}function d_(n,e,t,i){(n[Ye]&3)===t&&wO(n,e,t,i)}function r1(n,e){let t=n[Ye];(t&3)===e&&(t&=16383,t+=1,n[Ye]=t)}function wO(n,e,t,i){let r=i!==void 0?n[Qu]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Qu]+=65536),(a<s||s==-1)&&(ez(n,t,e,l),n[Qu]=(n[Qu]&4294901760)+l+2),l++}function qk(n,e){qs(4,n,e);let t=zt(null);try{e.call(n)}finally{zt(t),qs(5,n,e)}}function ez(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[Ye]>>14<n[Qu]>>16&&(n[Ye]&3)===e&&(n[Ye]+=16384,qk(a,s)):qk(a,s)}var ed=-1,gc=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function tz(n){return n instanceof gc}function nz(n){return(n.flags&8)!==0}function iz(n){return(n.flags&16)!==0}function IO(n){return n!==ed}function w_(n){return n&32767}function rz(n){return n>>16}function I_(n,e){let t=rz(n),i=e;for(;t>0;)i=i[fd],t--;return i}var D1=!0;function b_(n){let e=D1;return D1=n,e}var sz=256,bO=sz-1,CO=5,oz=0,Ks={};function az(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Df)&&(i=t[Df]),i==null&&(i=t[Df]=oz++);let r=i&bO,s=1<<r;e.data[n+(r>>CO)]|=s}function C_(n,e){let t=EO(n,e);if(t!==-1)return t;let i=e[mt];i.firstCreatePass&&(n.injectorIndex=e.length,s1(i.data,n),s1(e,null),s1(i.blueprint,null));let r=Nb(n,e),s=n.injectorIndex;if(IO(r)){let o=w_(r),a=I_(r,e),l=a[mt].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function s1(n,e){n.push(0,0,0,0,0,0,0,0,e)}function EO(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Nb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=AO(r),i===null)return ed;if(t++,r=r[fd],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ed}function A1(n,e,t){az(n,e,t)}function lz(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(VP(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function TO(n,e,t){if(t&Dt.Optional||n!==void 0)return n;wb(e,"NodeInjector")}function xO(n,e,t,i){if(t&Dt.Optional&&i===void 0&&(i=null),!(t&(Dt.Self|Dt.Host))){let r=n[rd],s=fr(void 0);try{return r?r.get(e,i,t&Dt.Optional):kP(e,i,t&Dt.Optional)}finally{fr(s)}}return TO(i,e,t)}function SO(n,e,t,i=Dt.Default,r){if(n!==null){if(e[Ye]&2048&&!(i&Dt.Self)){let o=hz(n,e,t,i,Ks);if(o!==Ks)return o}let s=DO(n,e,t,i,Ks);if(s!==Ks)return s}return xO(e,t,i,r)}function DO(n,e,t,i,r){let s=uz(t);if(typeof s=="function"){if(!pO(e,n,i))return i&Dt.Host?TO(r,t,i):xO(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Dt.Optional))wb(t);else return o}finally{yO()}}else if(typeof s=="number"){let o=null,a=EO(n,e),l=ed,c=i&Dt.Host?e[ys][Mr]:null;for((a===-1||i&Dt.SkipSelf)&&(l=a===-1?Nb(n,e):e[a+8],l===ed||!Yk(i,!1)?a=-1:(o=e[mt],a=w_(l),e=I_(l,e)));a!==-1;){let u=e[mt];if(Kk(s,a,u.data)){let h=cz(a,e,t,o,i,c);if(h!==Ks)return h}l=e[a+8],l!==ed&&Yk(i,e[mt].data[a+8]===c)&&Kk(s,a,e)?(o=u,a=w_(l),e=I_(l,e)):a=-1}}return r}function cz(n,e,t,i,r,s){let o=e[mt],a=o.data[n+8],l=i==null?$_(a)&&D1:i!=o&&(a.type&3)!==0,c=r&Dt.Host&&s===a,u=h_(a,o,t,l,c);return u!==null?_c(e,o,u,a):Ks}function h_(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,h=i?a:a+u,f=r?a+u:c;for(let p=h;p<f;p++){let _=o[p];if(p<l&&t===_||p>=l&&_.type===t)return p}if(r){let p=o[l];if(p&&Ka(p)&&p.type===t)return l}return null}function _c(n,e,t,i){let r=n[t],s=e.data;if(tz(r)){let o=r;o.resolving&&NU(LU(s[t]));let a=b_(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?fr(o.injectImpl):null,u=pO(n,i,Dt.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Jj(t,s[t],e)}finally{c!==null&&fr(c),b_(a),o.resolving=!1,yO()}}return r}function uz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Df)?n[Df]:void 0;return typeof e=="number"?e>=0?e&bO:dz:e}function Kk(n,e,t){let i=1<<n;return!!(t[e+(n>>CO)]&i)}function Yk(n,e){return!(n&Dt.Self)&&!(n&Dt.Host&&e)}var uc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return SO(this._tNode,this._lView,e,V_(i),t)}};function dz(){return new uc(zi(),Ze())}function Le(n){return Bf(()=>{let e=n.prototype.constructor,t=e[m_]||R1(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[m_]||R1(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function R1(n){return xP(n)?()=>{let e=R1(rr(n));return e&&e()}:hc(n)}function hz(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Ye]&2048&&!(o[Ye]&512);){let a=DO(s,o,t,i|Dt.Self,Ks);if(a!==Ks)return a;let l=s.parent;if(!l){let c=o[JP];if(c){let u=c.get(t,Ks,i);if(u!==Ks)return u}l=AO(o),o=o[fd]}s=l}return r}function AO(n){let e=n[mt],t=e.type;return t===2?e.declTNode:t===1?n[Mr]:null}function Vb(n){return lz(zi(),n)}function Qk(n,e=null,t=null,i){let r=RO(n,e,t,i);return r.resolveInjectorInitializers(),r}function RO(n,e=null,t=null,i,r=new Set){let s=[t||pr,Cb(n)];return i=i||(typeof n=="object"?void 0:sr(n)),new Mf(s,e||Tb(),i||null,r)}var mi=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return Qk({name:""},r,i,"");{let s=i.name??"";return Qk({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Af,e.NULL=new y_,e.\u0275prov=we({token:e,providedIn:"any",factory:()=>Oe(FP)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var fz="ngOriginalError";function o1(n){return n[fz]}var vs=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&o1(e);for(;t&&o1(t);)t=o1(t);return t||null}},MO=new Pe("",{providedIn:"root",factory:()=>fe(vs).handleError.bind(void 0)}),Q_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pz,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),M1=class extends Q_{constructor(e){super(),this._lView=e}onDestroy(e){return cO(this._lView,e),()=>Lj(this._lView,e)}};function pz(){return new M1(Ze())}function mz(){return pd(zi(),Ze())}function pd(n,e){return new nt(Xr(n,e))}var nt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=mz;let n=e;return n})();function gz(n){return n instanceof nt?n.nativeElement:n}var k1=class extends sn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ZP()&&(this.destroyRef=fe(Q_,{optional:!0})??void 0)}emit(e){let t=zt(null);try{super.next(e)}finally{zt(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=a1(s),r&&(r=a1(r)),o&&(o=a1(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Vn&&e.add(a),a}};function a1(n){return e=>{setTimeout(n,void 0,e)}}var X=k1;function _z(){return this._results[Symbol.iterator]()}var P1=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_z)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=KU(e);(this._changesDetected=!qU(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function kO(n){return(n.flags&128)===128}var PO=new Map,yz=0;function vz(){return yz++}function wz(n){PO.set(n[H_],n)}function Iz(n){PO.delete(n[H_])}var Zk="__ngContext__";function Ya(n,e){cc(e)?(n[Zk]=e[H_],wz(e)):n[Zk]=e}function OO(n){return LO(n[Of])}function FO(n){return LO(n[gs])}function LO(n){for(;n!==null&&!qo(n);)n=n[gs];return n}var O1;function NO(n){O1=n}function VO(){if(O1!==void 0)return O1;if(typeof document<"u")return document;throw new he(210,!1)}var Bb=new Pe("",{providedIn:"root",factory:()=>bz}),bz="ng",Ub=new Pe(""),Gt=new Pe("",{providedIn:"platform",factory:()=>"unknown"});var jb=new Pe(""),zb=new Pe("",{providedIn:"root",factory:()=>VO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Cz="h",Ez="b";var Tz=()=>null;function Hb(n,e,t=!1){return Tz(n,e,t)}var BO=!1,xz=new Pe("",{providedIn:"root",factory:()=>BO});var i_;function Sz(){if(i_===void 0&&(i_=null,Ar.trustedTypes))try{i_=Ar.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return i_}function Z_(n){return Sz()?.createHTML(n)||n}var r_;function UO(){if(r_===void 0&&(r_=null,Ar.trustedTypes))try{r_=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return r_}function Xk(n){return UO()?.createHTML(n)||n}function Jk(n){return UO()?.createScriptURL(n)||n}var E_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EP})`}};function Ja(n){return n instanceof E_?n.changingThisBreaksApplicationSecurity:n}function X_(n,e){let t=Dz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${EP})`)}return t===e}function Dz(n){return n instanceof E_&&n.getTypeName()||null}function Az(n){let e=new L1(n);return Rz()?new F1(e):e}var F1=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Z_(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},L1=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Z_(e),t}};function Rz(){try{return!!new window.DOMParser().parseFromString(Z_(""),"text/html")}catch{return!1}}var Mz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $b(n){return n=String(n),n.match(Mz)?n:"unsafe:"+n}function Ko(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Hf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var jO=Ko("area,br,col,hr,img,wbr"),zO=Ko("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HO=Ko("rp,rt"),kz=Hf(HO,zO),Pz=Hf(zO,Ko("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oz=Hf(HO,Ko("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eP=Hf(jO,Pz,Oz,kz),$O=Ko("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fz=Ko("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lz=Ko("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Nz=Hf($O,Fz,Lz),Vz=Ko("script,style,template"),N1=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=jz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Uz(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=tP(e).toLowerCase();if(!eP.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Nz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;$O[a]&&(l=$b(l)),this.buf.push(" ",o,'="',nP(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=tP(e).toLowerCase();eP.hasOwnProperty(t)&&!jO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(nP(e))}};function Bz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Uz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw GO(e);return e}function jz(n){let e=n.firstChild;if(e&&Bz(n,e))throw GO(e);return e}function tP(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function GO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var zz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hz=/([^\#-~ |!])/g;function nP(n){return n.replace(/&/g,"&amp;").replace(zz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Hz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var s_;function WO(n,e){let t=null;try{s_=s_||Az(n);let i=e?String(e):"";t=s_.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=s_.getInertBodyElement(i)}while(i!==s);let a=new N1().sanitizeChildren(iP(t)||t);return Z_(a)}finally{if(t){let i=iP(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function iP(n){return"content"in n&&$z(n)?n.content:null}function $z(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var $f=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($f||{});function md(n){let e=Gb();return e?Xk(e.sanitize($f.HTML,n)||""):X_(n,"HTML")?Xk(Ja(n)):WO(VO(),dc(n))}function bc(n){let e=Gb();return e?e.sanitize($f.URL,n)||"":X_(n,"URL")?Ja(n):$b(dc(n))}function Gz(n){let e=Gb();if(e)return Jk(e.sanitize($f.RESOURCE_URL,n)||"");if(X_(n,"ResourceURL"))return Jk(Ja(n));throw new he(904,!1)}function Wz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Gz:bc}function qO(n,e,t){return Wz(e,t)(n)}function Gb(){let n=Ze();return n&&n[_s].sanitizer}var qz=/^>|^->|<!--|-->|--!>|<!-$/g,Kz=/(<|>)/g,Yz="\u200B$1\u200B";function Qz(n){return n.replace(qz,e=>e.replace(Kz,Yz))}function KO(n){return n.ownerDocument}function YO(n){return n instanceof Function?n():n}function Zz(n){return(n??fe(mi)).get(Gt)==="browser"}var Zs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zs||{}),Xz;function Wb(n,e){return Xz(n,e)}function Zu(n,e,t,i,r){if(i!=null){let s,o=!1;qo(i)?s=i:cc(i)&&(o=!0,i=i[Wo]);let a=Qs(i);n===0&&t!==null?r==null?eF(e,t,a):x_(e,t,a,r||null,!0):n===1&&t!==null?x_(e,t,a,r||null,!0):n===2?pH(e,a,o):n===3&&e.destroyNode(a),s!=null&&gH(e,n,s,t,r)}}function Jz(n,e){return n.createText(e)}function eH(n,e,t){n.setValue(e,t)}function tH(n,e){return n.createComment(Qz(e))}function QO(n,e,t){return n.createElement(e,t)}function nH(n,e){ZO(n,e),e[Wo]=null,e[Mr]=null}function iH(n,e,t,i,r,s){i[Wo]=r,i[Mr]=e,e0(n,i,t,1,r,s)}function ZO(n,e){e[_s].changeDetectionScheduler?.notify(1),e0(n,e,e[bn],2,null,null)}function rH(n){let e=n[Of];if(!e)return l1(n[mt],n);for(;e;){let t=null;if(cc(e))t=e[Of];else{let i=e[mr];i&&(t=i)}if(!t){for(;e&&!e[gs]&&e!==n;)cc(e)&&l1(e[mt],e),e=e[Ri];e===null&&(e=n),cc(e)&&l1(e[mt],e),t=e&&e[gs]}e=t}}function sH(n,e,t,i){let r=mr+i,s=t.length;i>0&&(t[r-1][gs]=e),i<s-mr?(e[gs]=t[r],OP(t,mr+i,e)):(t.push(e),e[gs]=null),e[Ri]=t;let o=e[jf];o!==null&&t!==o&&oH(o,e);let a=e[$o];a!==null&&a.insertView(n),x1(e),e[Ye]|=128}function oH(n,e){let t=n[sd],r=e[Ri][Ri][ys];e[ys]!==r&&(n[Ye]|=xb.HasTransplantedViews),t===null?n[sd]=[e]:t.push(e)}function XO(n,e){let t=n[sd],i=t.indexOf(e);t.splice(i,1)}function T_(n,e){if(n.length<=mr)return;let t=mr+e,i=n[t];if(i){let r=i[jf];r!==null&&r!==n&&XO(r,i),e>0&&(n[t-1][gs]=i[gs]);let s=__(n,mr+e);nH(i[mt],i);let o=s[$o];o!==null&&o.detachView(s[mt]),i[Ri]=null,i[gs]=null,i[Ye]&=-129}return i}function qb(n,e){if(!(e[Ye]&256)){let t=e[bn];t.destroyNode&&e0(n,e,t,3,null,null),rH(e)}}function l1(n,e){if(e[Ye]&256)return;let t=zt(null);try{e[Ye]&=-129,e[Ye]|=256,e[fc]&&FI(e[fc]),lH(n,e),aH(n,e),e[mt].type===1&&e[bn].destroy();let i=e[jf];if(i!==null&&qo(e[Ri])){i!==e[Ri]&&XO(i,e);let r=e[$o];r!==null&&r.detachView(n)}Iz(e)}finally{zt(t)}}function aH(n,e){let t=n.cleanup,i=e[Pf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Pf]=null);let r=e[Wa];if(r!==null){e[Wa]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function lH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof gc)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];qs(4,a,l);try{l.call(a)}finally{qs(5,a,l)}}else{qs(4,r,s);try{s.call(r)}finally{qs(5,r,s)}}}}}function JO(n,e,t){return cH(n,e.parent,t)}function cH(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Wo];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ys.None||s===Ys.Emulated)return null}return Xr(i,t)}}function x_(n,e,t,i,r){n.insertBefore(e,t,i,r)}function eF(n,e,t){n.appendChild(e,t)}function rP(n,e,t,i,r){i!==null?x_(n,e,t,i,r):eF(n,e,t)}function uH(n,e,t,i){n.removeChild(e,t,i)}function Kb(n,e){return n.parentNode(e)}function dH(n,e){return n.nextSibling(e)}function tF(n,e,t){return fH(n,e,t)}function hH(n,e,t){return n.type&40?Xr(n,t):null}var fH=hH,sP;function J_(n,e,t,i){let r=JO(n,i,e),s=e[bn],o=i.parent||e[Mr],a=tF(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)rP(s,r,t[l],a,!1);else rP(s,r,t,a,!1);sP!==void 0&&sP(s,i,e,t,r)}function f_(n,e){if(e!==null){let t=e.type;if(t&3)return Xr(e,n);if(t&4)return V1(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return f_(n,i);{let r=n[e.index];return qo(r)?V1(-1,r):Qs(r)}}else{if(t&32)return Wb(e,n)()||Qs(n[e.index]);{let i=nF(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Lf(n[ys]);return f_(r,i)}else return f_(n,e.next)}}}return null}function nF(n,e){if(e!==null){let i=n[ys][Mr],r=e.projection;return i.projection[r]}return null}function V1(n,e){let t=mr+n+1;if(t<e.length){let i=e[t],r=i[mt].firstChild;if(r!==null)return f_(i,r)}return e[pc]}function pH(n,e,t){let i=Kb(n,e);i&&uH(n,i,e,t)}function Yb(n,e,t,i,r,s,o){for(;t!=null;){let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Ya(Qs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)Yb(n,e,t.child,i,r,s,!1),Zu(e,n,r,a,s);else if(l&32){let c=Wb(t,i),u;for(;u=c();)Zu(e,n,r,u,s);Zu(e,n,r,a,s)}else l&16?iF(n,e,i,t,r,s):Zu(e,n,r,a,s);t=o?t.projectionNext:t.next}}function e0(n,e,t,i,r,s){Yb(t,i,n.firstChild,e,r,s,!1)}function mH(n,e,t){let i=e[bn],r=JO(n,t,e),s=t.parent||e[Mr],o=tF(s,t,e);iF(i,0,e,t,r,o)}function iF(n,e,t,i,r,s){let o=t[ys],l=o[Mr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Zu(e,n,r,u,s)}else{let c=l,u=o[Ri];kO(i)&&(c.flags|=128),Yb(n,e,c,u,r,s,!0)}}function gH(n,e,t,i,r){let s=t[pc],o=Qs(t);s!==o&&Zu(e,n,i,s,r);for(let a=mr;a<t.length;a++){let l=t[a];e0(l[mt],l,n,e,i,s)}}function _H(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Zs.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Zs.Important),n.setStyle(t,i,r,s))}}function yH(n,e,t){n.setAttribute(e,"style",t)}function rF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sF(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&I1(n,e,i),r!==null&&rF(n,e,r),s!==null&&yH(n,e,s)}var kr={};function y(n=1){oF(An(),Ze(),Xa()+n,!1)}function oF(n,e,t,i){if(!i)if((e[Ye]&3)===3){let s=n.preOrderCheckHooks;s!==null&&u_(e,s,t)}else{let s=n.preOrderHooks;s!==null&&d_(e,s,0,t)}mc(t)}function G(n,e=Dt.Default){let t=Ze();if(t===null)return Oe(n,e);let i=zi();return SO(i,t,rr(n),e)}function aF(){let n="invalid";throw new Error(n)}function lF(n,e,t,i,r,s){let o=zt(null);try{let a=null;r&j.SignalBased&&(a=e[i][Gs]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&j.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):tO(e,a,i,s)}finally{zt(o)}}function vH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)mc(~r);else{let s=r,o=t[++i],a=t[++i];qj(o,s);let l=e[s];a(2,l)}}}finally{mc(-1)}}function t0(n,e,t,i,r,s,o,a,l,c,u){let h=e.blueprint.slice();return h[Wo]=r,h[Ye]=i|4|128|8|64,(c!==null||n&&n[Ye]&2048)&&(h[Ye]|=2048),lO(h),h[Ri]=h[fd]=n,h[Zr]=t,h[_s]=o||n&&n[_s],h[bn]=a||n&&n[bn],h[rd]=l||n&&n[rd]||null,h[Mr]=s,h[H_]=vz(),h[kf]=u,h[JP]=c,h[ys]=e.type==2?n[ys]:h,h}function gd(n,e,t,i,r){let s=n.data[e];if(s===null)s=wH(n,e,t,i,r),Wj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=zj();s.injectorIndex=o===null?-1:o.injectorIndex}return Ic(s,!0),s}function wH(n,e,t,i,r){let s=hO(),o=Mb(),a=o?s:s&&s.parent,l=n.data[e]=xH(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function cF(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function uF(n,e,t,i,r){let s=Xa(),o=i&2;try{mc(-1),o&&e.length>or&&oF(n,e,or,!1),qs(o?2:0,r),t(i,r)}finally{mc(s),qs(o?3:1,r)}}function Qb(n,e,t){if(Sb(e)){let i=zt(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{zt(i)}}}function Zb(n,e,t){uO()&&(kH(n,e,t,Xr(t,e)),(t.flags&64)===64&&fF(n,e,t))}function Xb(n,e,t=Xr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function dF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Jb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Jb(n,e,t,i,r,s,o,a,l,c,u){let h=or+i,f=h+r,p=IH(h,f),_=typeof c=="function"?c():c;return p[mt]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function IH(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:kr);return t}function bH(n,e,t,i){let s=i.get(xz,BO)||t===Ys.ShadowDom,o=n.selectRootElement(e,s);return CH(o),o}function CH(n){EH(n)}var EH=()=>null;function TH(n,e,t,i){let r=gF(e);r.push(t),n.firstCreatePass&&_F(n).push(i,r.length-1)}function xH(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return dO()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oP(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=j.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?aP(i,t,c,a,l):aP(i,t,c,a)}return i}function aP(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function SH(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let h=s[u],f=t?t.get(h):null,p=f?f.inputs:null,_=f?f.outputs:null;l=oP(0,h.inputs,u,l,p),c=oP(1,h.outputs,u,c,_);let I=l!==null&&o!==null&&!bb(e)?HH(l,u,o):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function DH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function eC(n,e,t,i,r,s,o,a){let l=Xr(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(nC(n,t,u,i,r),$_(e)&&AH(t,e.index)):e.type&3?(i=DH(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function AH(n,e){let t=Za(e,n);t[Ye]&16||(t[Ye]|=64)}function tC(n,e,t,i){if(uO()){let r=i===null?null:{"":-1},s=OH(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&hF(n,e,t,o,r,a),r&&FH(t,i,r)}t.mergedAttrs=Rf(t.mergedAttrs,t.attrs)}function hF(n,e,t,i,r,s){for(let c=0;c<i.length;c++)A1(C_(t,e),n,i[c].type);NH(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=cF(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Rf(t.mergedAttrs,u.hostAttrs),VH(n,t,e,l,u),LH(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}SH(n,t,s)}function RH(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;MH(o)!=a&&o.push(a),o.push(t,i,s)}}function MH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function kH(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;$_(t)&&BH(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||C_(t,e),Ya(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=_c(e,n,a,t);if(Ya(c,e),o!==null&&zH(e,a-r,c,l,t,o),Ka(l)){let u=Za(t.index,e);u[Zr]=_c(e,n,a,t)}}}function fF(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=Kj();try{mc(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];S1(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PH(l,c)}}finally{mc(-1),S1(o)}}function PH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function OH(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(UP(e,o.selectors,!1))if(i||(i=[]),Ka(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;B1(n,e,l)}else i.unshift(o),B1(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function B1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function FH(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new he(-301,!1);i.push(e[r],s)}}}function LH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ka(e)&&(t[""]=n)}}function NH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function VH(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=hc(r.type,!0)),o=new gc(s,Ka(r),G);n.blueprint[i]=o,t[i]=o,RH(n,e,i,cF(n,t,r.hostVars,kr),r)}function BH(n,e,t){let i=Xr(e,n),r=dF(t),s=n[_s].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=n0(n,t0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function UH(n,e,t,i,r,s){let o=Xr(n,e);jH(e[bn],o,s,n.value,t,i,r)}function jH(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?dc(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function zH(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],h=o[a++];lF(i,t,l,c,u,h)}}function HH(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function pF(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function mF(n,e){let t=n.contentQueries;if(t!==null){let i=zt(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];Ob(s),a.contentQueries(2,e[o],o)}}}finally{zt(i)}}}function n0(n,e){return n[Of]?n[Gk][gs]=e:n[Of]=e,n[Gk]=e,e}function U1(n,e,t){Ob(0);let i=zt(null);try{e(n,t)}finally{zt(i)}}function gF(n){return n[Pf]||(n[Pf]=[])}function _F(n){return n.cleanup||(n.cleanup=[])}function yF(n,e){let t=n[rd],i=t?t.get(vs,null):null;i&&i.handleError(e)}function nC(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],u=n.data[o];lF(u,c,i,a,l,r)}}function vF(n,e,t){let i=oO(e,n);eH(n[bn],i,t)}function $H(n,e){let t=Za(e,n),i=t[mt];GH(i,t);let r=t[Wo];r!==null&&t[kf]===null&&(t[kf]=Hb(r,t[rd])),iC(i,t,t[Zr])}function GH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function iC(n,e,t){Fb(e);try{let i=n.viewQuery;i!==null&&U1(1,i,t);let r=n.template;r!==null&&uF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[$o]?.finishViewCreation(n),n.staticContentQueries&&mF(n,e),n.staticViewQueries&&U1(2,n.viewQuery,t);let s=n.components;s!==null&&WH(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ye]&=-5,Lb()}}function WH(n,e){for(let t=0;t<e.length;t++)$H(n,e[t])}function wF(n,e,t,i){let r=zt(null);try{let s=e.tView,a=n[Ye]&4096?4096:16,l=t0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[jf]=c;let u=n[$o];return u!==null&&(l[$o]=u.createEmbeddedView(s)),iC(s,l,t),l}finally{zt(r)}}function qH(n,e){let t=mr+e;if(t<n.length)return n[t]}function j1(n,e){return!e||e.firstChild===null||kO(n)}function IF(n,e,t,i=!0){let r=e[mt];if(sH(r,e,n,t),i){let o=V1(t,n),a=e[bn],l=Kb(a,n[pc]);l!==null&&iH(r,n[Mr],a,e,l,o)}let s=e[kf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function KH(n,e){let t=T_(n,e);return t!==void 0&&qb(t[mt],t),t}function S_(n,e,t,i,r=!1){for(;t!==null;){let s=e[t.index];s!==null&&i.push(Qs(s)),qo(s)&&YH(s,i);let o=t.type;if(o&8)S_(n,e,t.child,i);else if(o&32){let a=Wb(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=nF(e,t);if(Array.isArray(a))i.push(...a);else{let l=Lf(e[ys]);S_(l[mt],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function YH(n,e){for(let t=mr;t<n.length;t++){let i=n[t],r=i[mt].firstChild;r!==null&&S_(i[mt],i,r,e)}n[pc]!==n[Wo]&&e.push(n[pc])}var bF=[];function QH(n){return n[fc]??ZH(n)}function ZH(n){let e=bF.pop()??Object.create(JH);return e.lView=n,e}function XH(n){n.lView[fc]!==n&&(n.lView=null,bF.push(n))}var JH=it(oe({},Tf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ff(n.lView)},consumerOnSignalRead(){this.lView[fc]=this}}),CF=100;function EF(n,e=!0,t=0){let i=n[_s],r=i.rendererFactory,s=!1;s||r.begin?.();try{e$(n,t)}catch(o){throw e&&yF(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function e$(n,e){z1(n,e);let t=0;for(;Rb(n);){if(t===CF)throw new he(103,!1);t++,z1(n,1)}}function t$(n,e,t,i){let r=e[Ye];if((r&256)===256)return;let s=!1;!s&&e[_s].inlineEffectRunner?.flush(),Fb(e);let o=null,a=null;!s&&n$(n)&&(a=QH(e),o=Eg(a));try{lO(e),Gj(n.bindingStartIndex),t!==null&&uF(n,e,t,2,i);let l=(r&3)===3;if(!s)if(l){let h=n.preOrderCheckHooks;h!==null&&u_(e,h,null)}else{let h=n.preOrderHooks;h!==null&&d_(e,h,0,null),r1(e,0)}if(i$(e),TF(e,0),n.contentQueries!==null&&mF(n,e),!s)if(l){let h=n.contentCheckHooks;h!==null&&u_(e,h)}else{let h=n.contentHooks;h!==null&&d_(e,h,1),r1(e,1)}vH(n,e);let c=n.components;c!==null&&SF(e,c,0);let u=n.viewQuery;if(u!==null&&U1(2,u,i),!s)if(l){let h=n.viewCheckHooks;h!==null&&u_(e,h)}else{let h=n.viewHooks;h!==null&&d_(e,h,2),r1(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[c_]){for(let h of e[c_])h();e[c_]=null}s||(e[Ye]&=-73)}catch(l){throw Ff(e),l}finally{a!==null&&(Tg(a,o),XH(a)),Lb()}}function n$(n){return n.type!==2}function TF(n,e){for(let t=OO(n);t!==null;t=FO(t))for(let i=mr;i<t.length;i++){let r=t[i];xF(r,e)}}function i$(n){for(let e=OO(n);e!==null;e=FO(e)){if(!(e[Ye]&xb.HasTransplantedViews))continue;let t=e[sd];for(let i=0;i<t.length;i++){let r=t[i],s=r[Ri];Oj(r)}}}function r$(n,e,t){let i=Za(e,n);xF(i,t)}function xF(n,e){Ab(n)&&z1(n,e)}function z1(n,e){let i=n[mt],r=n[Ye],s=n[fc],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&xg(s)),s&&(s.dirty=!1),n[Ye]&=-9217,o)t$(i,n,i.template,n[Zr]);else if(r&8192){TF(n,1);let a=i.components;a!==null&&SF(n,a,1)}}function SF(n,e,t){for(let i=0;i<e.length;i++)r$(n,e[i],t)}function rC(n){for(n[_s].changeDetectionScheduler?.notify();n;){n[Ye]|=64;let e=Lf(n);if(Tj(n)&&!e)return n;n=e}return null}var yc=class{get rootNodes(){let e=this._lView,t=e[mt];return S_(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zr]}set context(e){this._lView[Zr]=e}get destroyed(){return(this._lView[Ye]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ri];if(qo(e)){let t=e[v_],i=t?t.indexOf(this):-1;i>-1&&(T_(e,i),__(t,i))}this._attachedToViewContainer=!1}qb(this._lView[mt],this._lView)}onDestroy(e){cO(this._lView,e)}markForCheck(){rC(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){x1(this._lView),this._lView[Ye]|=128}detectChanges(){this._lView[Ye]|=1024,EF(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ZO(this._lView[mt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e,x1(this._lView)}},ws=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a$;let n=e;return n})(),s$=ws,o$=class extends s${constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=wF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new yc(r)}};function a$(){return i0(zi(),Ze())}function i0(n,e){return n.type&4?new o$(e,n,pd(n,e)):null}var X1e=new RegExp(`^(\\d+)*(${Ez}|${Cz})*(.*)`);var l$=()=>null;function H1(n,e){return l$(n,e)}var ad=class{},$1=class{},D_=class{};function c$(n){let e=Error(`No component factory found for ${sr(n)}.`);return e[u$]=n,e}var u$="ngComponent";var G1=class{resolveComponentFactory(e){throw c$(e)}},r0=(()=>{let e=class e{};e.NULL=new G1;let n=e;return n})(),vc=class{},Jt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>d$();let n=e;return n})();function d$(){let n=Ze(),e=zi(),t=Za(e.index,n);return(cc(t)?t:n)[bn]}var h$=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),c1={};var lP=new Set;function Js(n){lP.has(n)||(lP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function cP(...n){}function f$(){let n=typeof Ar.requestAnimationFrame=="function",e=Ar[n?"requestAnimationFrame":"setTimeout"],t=Ar[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ke=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=f$().nativeRequestAnimationFrame,g$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new he(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,p$,cP,cP);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},p$={};function sC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function m$(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ar,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,W1(n),n.isCheckStableRunning=!0,sC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),W1(n))}function g$(n){let e=()=>{m$(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(_$(a))return t.invokeTask(r,s,o,a);try{return uP(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dP(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return uP(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),dP(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,W1(n),sC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function W1(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dP(n){n._nesting--,sC(n)}function _$(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var Xu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xu||{}),y$={destroy(){}};function s0(n,e){!e&&XP(s0);let t=e?.injector??fe(mi);if(!Zz(t))return y$;Js("NgAfterNextRender");let i=t.get(oC),r=i.handler??=new K1,s=e?.phase??Xu.MixedReadWrite,o=()=>{r.unregister(l),a()},a=t.get(Q_).onDestroy(o),l=Is(t,()=>new q1(s,()=>{o(),n()}));return r.register(l),{destroy:o}}var q1=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=fe(Ke),this.errorHandler=fe(vs,{optional:!0}),fe(ad,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},K1=class{constructor(){this.executingCallbacks=!1,this.buckets={[Xu.EarlyRead]:new Set,[Xu.Write]:new Set,[Xu.MixedReadWrite]:new Set,[Xu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},oC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function A_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=_1(r,a);else if(s==2){let l=a,c=e[++o];i=_1(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var R_=class extends r0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qa(e);return new ld(t,this.ngModule)}};function hP(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function v$(n){let e=n.toLowerCase();return e==="svg"?sO:e==="math"?Aj:null}var Y1=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=V_(i);let r=this.injector.get(e,c1,i);return r!==c1||t===c1?r:this.parentInjector.get(e,t,i)}},ld=class extends D_{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=hP(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return hP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=zt(null);try{r=r||this.ngModule;let o=r instanceof ji?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Y1(e,o):e,l=a.get(vc,null);if(l===null)throw new he(407,!1);let c=a.get(h$,null),u=a.get(oC,null),h=a.get(ad,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},p=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",I=i?bH(p,i,this.componentDef.encapsulation,a):QO(p,_,v$(_)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let E=null;I!==null&&(E=Hb(I,a,!0));let M=Jb(0,null,null,1,0,null,null,null,null,null,null),P=t0(null,M,null,b,null,null,f,p,a,null,E);Fb(P);let F,$;try{let Y=this.componentDef,R,C=null;Y.findHostDirectiveDefs?(R=[],C=new Map,Y.findHostDirectiveDefs(Y,R,C),R.push(Y)):R=[Y];let T=w$(P,I),O=I$(T,I,Y,R,P,f,p);$=Db(M,or),I&&E$(p,Y,I,i),t!==void 0&&T$($,this.ngContentSelectors,t),F=C$(O,Y,R,C,P,[x$]),iC(M,P,null)}finally{Lb()}return new Q1(this.componentType,F,pd($,P),P,$)}finally{zt(s)}}},Q1=class extends $1{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yc(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;nC(s[mt],s,r,e,t),this.previousInputValues.set(e,t);let o=Za(this._tNode.index,s);rC(o)}}get injector(){return new uc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w$(n,e){let t=n[mt],i=or;return n[i]=e,gd(t,i,2,"#host",null)}function I$(n,e,t,i,r,s,o){let a=r[mt];b$(i,n,e,o);let l=null;e!==null&&(l=Hb(e,r[rd]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=t0(r,dF(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&B1(a,n,i.length-1),n0(r,h),r[n.index]=h}function b$(n,e,t,i){for(let r of n)e.mergedAttrs=Rf(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(A_(e,e.mergedAttrs,!0),t!==null&&sF(i,t,e))}function C$(n,e,t,i,r,s){let o=zi(),a=r[mt],l=Xr(o,r);hF(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let h=o.directiveStart+u,f=_c(r,a,h,o);Ya(f,r)}fF(a,r,o),l&&Ya(l,r);let c=_c(r,a,o.directiveStart+o.componentOffset,o);if(n[Zr]=r[Zr]=c,s!==null)for(let u of s)u(c,e);return Qb(a,o,r),c}function E$(n,e,t,i){if(i)I1(n,t,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=uj(e.selectors[0]);r&&I1(n,t,r),s&&s.length>0&&rF(n,t,s.join(" "))}}function T$(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function x$(){let n=zi();Y_(Ze()[mt],n)}var bs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S$;let n=e;return n})();function S$(){let n=zi();return AF(n,Ze())}var D$=bs,DF=class extends D${constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new uc(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nb(this._hostTNode,this._hostLView);if(IO(e)){let t=I_(e,this._hostLView),i=w_(e),r=t[mt].data[i+8];return new uc(r,t)}else return new uc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=H1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,j1(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!Ej(e),a;if(o)a=t;else{let _=t||{};a=_.index,i=_.injector,r=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let l=o?e:new ld(qa(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let I=(o?c:this.parentInjector).get(ji,null);I&&(s=I)}let u=qa(l.componentType??{}),h=H1(this._lContainer,u?.id??null),f=h?.firstChild??null,p=l.create(c,r,f,s);return this.insertImpl(p.hostView,a,j1(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Pj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ri],c=new DF(l,l[Mr],l[Ri]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return IF(o,r,s,i),e.attachToViewContainerRef(),OP(u1(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);i&&(__(u1(this._lContainer),t),qb(i[mt],i))}detach(e){let t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);return i&&__(u1(this._lContainer),t)!=null?new yc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function fP(n){return n[v_]}function u1(n){return n[v_]||(n[v_]=[])}function AF(n,e){let t,i=e[n.index];return qo(i)?t=i:(t=pF(i,e,null,n),e[n.index]=t,n0(e,t)),R$(t,e,n,i),new DF(t,n,e)}function A$(n,e){let t=n[bn],i=t.createComment(""),r=Xr(e,n),s=Kb(t,r);return x_(t,s,i,dH(t,r),!1),i}var R$=P$,M$=()=>!1;function k$(n,e,t){return M$(n,e,t)}function P$(n,e,t,i){if(n[pc])return;let r;t.type&8?r=Qs(i):r=A$(e,t),n[pc]=r}var Z1=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},X1=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)aC(e,t).matches!==null&&this.queries[t].setDirty()}},M_=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=j$(e):this.predicate=e}},J1=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},eb=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,O$(t,s)),this.matchTNodeWithReadOption(e,t,h_(t,e,s,!1,!1))}else i===ws?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,h_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nt||r===bs||r===ws&&t.type&4)this.addMatch(t.index,-2);else{let s=h_(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function O$(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function F$(n,e){return n.type&11?pd(n,e):n.type&4?i0(n,e):null}function L$(n,e,t,i){return t===-1?F$(e,n):t===-2?N$(n,e,i):_c(n,n[mt],t,e)}function N$(n,e,t){if(t===nt)return pd(e,n);if(t===ws)return i0(e,n);if(t===bs)return AF(e,n)}function RF(n,e,t,i){let r=e[$o].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(L$(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function tb(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=RF(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let h=mr;h<u.length;h++){let f=u[h];f[jf]===f[Ri]&&tb(f[mt],f,c,i)}if(u[sd]!==null){let h=u[sd];for(let f=0;f<h.length;f++){let p=h[f];tb(p[mt],p,c,i)}}}}}return i}function V$(n,e){return n[$o].queries[e].queryList}function MF(n,e,t){let i=new P1((t&4)===4);return TH(n,e,i,i.destroy),(e[$o]??=new X1).queries.push(new Z1(i))-1}function B$(n,e,t){let i=An();return i.firstCreatePass&&(kF(i,new M_(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),MF(i,Ze(),e)}function U$(n,e,t,i){let r=An();if(r.firstCreatePass){let s=zi();kF(r,new M_(e,t,i),s.index),z$(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return MF(r,Ze(),t)}function j$(n){return n.split(",").map(e=>e.trim())}function kF(n,e,t){n.queries===null&&(n.queries=new J1),n.queries.track(new eb(e,t))}function z$(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function aC(n,e){return n.queries.getByIndex(e)}function H$(n,e){let t=n[mt],i=aC(t,e);return i.crossesNgTemplate?tb(t,n,e,[]):RF(t,n,i,e)}function $$(n){return typeof n=="function"&&n[Gs]!==void 0}function Rn(n,e){Js("NgSignals");let t=ak(n),i=t[Gs];return e?.equal&&(i.equal=e.equal),t.set=r=>LI(i,r),t.update=r=>lk(i,r),t.asReadonly=G$.bind(t),t}function G$(){let n=this[Gs];if(n.readonlyFn===void 0){let e=()=>this();e[Gs]=n,n.readonlyFn=e}return n.readonlyFn}function PF(n){return $$(n)&&typeof n.set=="function"}function W$(n){return Object.getPrototypeOf(n.prototype).constructor}function ke(n){let e=W$(n.type),t=!0,i=[n];for(;e;){let r;if(Ka(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=o_(n.inputs),o.inputTransforms=o_(n.inputTransforms),o.declaredInputs=o_(n.declaredInputs),o.outputs=o_(n.outputs);let a=r.hostBindings;a&&Z$(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&Y$(n,l),c&&Q$(n,c),q$(n,r),DU(n.outputs,r.outputs),Ka(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}K$(i)}function q$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function K$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Rf(r.hostAttrs,t=Rf(t,r.hostAttrs))}}function o_(n){return n===td?{}:n===pr?[]:n}function Y$(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function Q$(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function Z$(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Ct(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Qa=class{},Nf=class{};var nb=class extends Qa{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);let r=$P(e);this._bootstrapComponents=YO(r.bootstrap),this._r3Injector=RO(e,t,[{provide:Qa,useValue:this},{provide:r0,useValue:this.componentFactoryResolver},...i],sr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ib=class extends Nf{constructor(e){super(),this.moduleType=e}create(e){return new nb(this.moduleType,e,[])}};var k_=class extends Qa{constructor(e){super(),this.componentFactoryResolver=new R_(this),this.instance=null;let t=new Mf([...e.providers,{provide:Qa,useValue:this},{provide:r0,useValue:this.componentFactoryResolver}],e.parent||Tb(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function o0(n,e,t=null){return new k_({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Cc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ni(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function OF(n){return lC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function X$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function lC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Yo(n,e,t){return n[e]=t}function a0(n,e){return n[e]}function Rr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function cd(n,e,t,i){let r=Rr(n,e,t);return Rr(n,e+1,i)||r}function FF(n,e,t,i,r){let s=cd(n,e,t,i);return Rr(n,e+2,r)||s}function l0(n,e,t,i,r,s){let o=cd(n,e,t,i);return cd(n,e+2,r,s)||o}function J$(n){return(n.flags&32)===32}function eG(n,e,t,i,r,s,o,a,l){let c=e.consts,u=gd(e,n,4,o||null,od(c,a));tC(e,t,u,od(c,l)),Y_(e,u);let h=u.tView=Jb(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function D(n,e,t,i,r,s,o,a){let l=Ze(),c=An(),u=n+or,h=c.firstCreatePass?eG(u,c,l,e,t,i,r,s,o):c.data[u];Ic(h,!1);let f=tG(c,l,h,n);q_()&&J_(c,l,f,h),Ya(f,l);let p=pF(f,l,f,h);return l[u]=p,n0(l,p),k$(p,h,l),G_(h)&&Zb(c,l,h),o!=null&&Xb(l,h,a),D}var tG=nG;function nG(n,e,t,i){return K_(!0),e[bn].createComment("")}function z(n,e,t,i){let r=Ze(),s=zf();if(Rr(r,s,e)){let o=An(),a=W_();UH(a,r,n,e,t,i)}return z}function LF(n,e,t,i){return Rr(n,zf(),t)?e+dc(t)+i:kr}function iG(n,e,t,i,r,s){let o=$j(),a=cd(n,o,t,r);return Pb(2),a?e+dc(t)+i+dc(r)+s:kr}function a_(n,e){return n<<17|e<<2}function wc(n){return n>>17&32767}function rG(n){return(n&2)==2}function sG(n,e){return n&131071|e<<17}function rb(n){return n|2}function ud(n){return(n&131068)>>2}function d1(n,e){return n&-131069|e<<2}function oG(n){return(n&1)===1}function sb(n){return n|1}function aG(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=wc(o),l=ud(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Uf(h,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=wc(n[a+1]);n[i+1]=a_(f,a),f!==0&&(n[f+1]=d1(n[f+1],i)),n[a+1]=sG(n[a+1],i)}else n[i+1]=a_(a,0),a!==0&&(n[a+1]=d1(n[a+1],i)),a=i;else n[i+1]=a_(l,0),a===0?a=i:n[l+1]=d1(n[l+1],i),l=i;c&&(n[i+1]=rb(n[i+1])),pP(n,u,i,!0),pP(n,u,i,!1),lG(e,u,n,i,s),o=a_(a,l),s?e.classBindings=o:e.styleBindings=o}function lG(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Uf(s,e)>=0&&(t[i+1]=sb(t[i+1]))}function pP(n,e,t,i){let r=n[t+1],s=e===null,o=i?wc(r):ud(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];cG(l,e)&&(a=!0,n[o+1]=i?sb(c):rb(c)),o=i?wc(c):ud(c)}a&&(n[t+1]=i?rb(r):sb(r))}function cG(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Uf(n,e)>=0:!1}var ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NF(n){return n.substring(ri.key,ri.keyEnd)}function uG(n){return n.substring(ri.value,ri.valueEnd)}function dG(n){return UF(n),VF(n,dd(n,0,ri.textEnd))}function VF(n,e){let t=ri.textEnd;return t===e?-1:(e=ri.keyEnd=fG(n,ri.key=e,t),dd(n,e,t))}function hG(n){return UF(n),BF(n,dd(n,0,ri.textEnd))}function BF(n,e){let t=ri.textEnd,i=ri.key=dd(n,e,t);return t===i?-1:(i=ri.keyEnd=pG(n,i,t),i=mP(n,i,t,58),i=ri.value=dd(n,i,t),i=ri.valueEnd=mG(n,i,t),mP(n,i,t,59))}function UF(n){ri.key=0,ri.keyEnd=0,ri.value=0,ri.valueEnd=0,ri.textEnd=n.length}function dd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function pG(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function mP(n,e,t,i){return e=dd(n,e,t),e<t&&e++,e}function mG(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=gP(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=gP(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function gP(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function g(n,e,t){let i=Ze(),r=zf();if(Rr(i,r,e)){let s=An(),o=W_();eC(s,o,i,n,e,i[bn],t,!1)}return g}function ob(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";nC(n,t,s[o],o,i)}function Gf(n,e,t){return jF(n,e,t,!1),Gf}function Yn(n,e){return jF(n,e,null,!0),Yn}function c0(n){zF(GF,gG,n,!1)}function gG(n,e){for(let t=hG(e);t>=0;t=BF(e,t))GF(n,NF(e),uG(e))}function se(n){zF(CG,_G,n,!0)}function _G(n,e){for(let t=dG(e);t>=0;t=VF(e,t))U_(n,NF(e),!0)}function jF(n,e,t,i){let r=Ze(),s=An(),o=Pb(2);if(s.firstUpdatePass&&$F(s,n,o,i),e!==kr&&Rr(r,o,e)){let a=s.data[Xa()];WF(s,a,r,r[bn],n,r[o+1]=TG(e,t),i,o)}}function zF(n,e,t,i){let r=An(),s=Pb(2);r.firstUpdatePass&&$F(r,null,s,i);let o=Ze();if(t!==kr&&Rr(o,s,t)){let a=r.data[Xa()];if(qF(a,i)&&!HF(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=_1(l,t||"")),ob(r,a,o,t,i)}else EG(r,a,o,o[bn],o[s+1],o[s+1]=bG(n,e,t),i,s)}}function HF(n,e){return e>=n.expandoStartIndex}function $F(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Xa()],o=HF(n,t);qF(s,i)&&e===null&&!o&&(e=!1),e=yG(r,s,e,i),aG(r,s,e,t,o,i)}}function yG(n,e,t,i){let r=Yj(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=h1(null,n,e,t,i),t=Vf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=h1(r,n,e,t,i),s===null){let l=vG(n,e,i);l!==void 0&&Array.isArray(l)&&(l=h1(null,n,e,l[1],i),l=Vf(l,e.attrs,i),wG(n,e,i,l))}else s=IG(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function vG(n,e,t){let i=t?e.classBindings:e.styleBindings;if(ud(i)!==0)return n[wc(i)]}function wG(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[wc(r)]=i}function IG(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Vf(i,o,t)}return Vf(i,e.attrs,t)}function h1(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Vf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Vf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),U_(n,o,t?!0:e[++s]))}return n===void 0?null:n}function bG(n,e,t){if(t==null||t==="")return pr;let i=[],r=Ja(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function GF(n,e,t){U_(n,e,Ja(t))}function CG(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&U_(n,i,t)}function EG(n,e,t,i,r,s,o,a){r===kr&&(r=pr);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,_=null,I;u===h?(l+=2,c+=2,f!==p&&(_=h,I=p)):h===null||u!==null&&u<h?(l+=2,_=u):(c+=2,_=h,I=p),_!==null&&WF(n,e,t,i,_,I,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function WF(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=oG(c)?_P(l,e,t,r,ud(c),o):void 0;if(!P_(u)){P_(s)||rG(c)&&(s=_P(l,null,t,r,a,o));let h=oO(Xa(),t);_H(i,o,h,r,s)}}function _P(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=u===null,f=t[r+1];f===kr&&(f=h?pr:void 0);let p=h?n1(f,i):u===i?f:void 0;if(c&&!P_(p)&&(p=n1(l,i)),P_(p)&&(a=p,o))return a;let _=n[r+1];r=o?wc(_):ud(_)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=n1(l,i))}return a}function P_(n){return n!==void 0}function TG(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=sr(Ja(n)))),n}function qF(n,e){return(n.flags&(e?8:16))!==0}function Pr(n,e,t){Js("NgControlFlow");let i=Ze(),r=zf(),s=xG(i,or+n),o=0;if(Rr(i,r,e)){let a=zt(null);try{if(KH(s,o),e!==-1){let l=SG(i[mt],or+e),c=H1(s,l.tView.ssrId),u=wF(i,l,t,{dehydratedView:c});IF(s,u,o,j1(l,c))}}finally{zt(a)}}else{let a=qH(s,o);a!==void 0&&(a[Zr]=t)}}function xG(n,e){return n[e]}function SG(n,e){return Db(n,e)}function DG(n,e,t,i,r,s){let o=e.consts,a=od(o,r),l=gd(e,n,2,i,a);return tC(e,t,l,od(o,s)),l.attrs!==null&&A_(l,l.attrs,!1),l.mergedAttrs!==null&&A_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function x(n,e,t,i){let r=Ze(),s=An(),o=or+n,a=r[bn],l=s.firstCreatePass?DG(o,s,r,e,t,i):s.data[o],c=AG(s,r,l,a,e,n);r[o]=c;let u=G_(l);return Ic(l,!0),sF(a,c,l),!J$(l)&&q_()&&J_(s,r,c,l),Nj()===0&&Ya(c,r),Vj(),u&&(Zb(s,r,l),Qb(s,l,r)),i!==null&&Xb(r,l),x}function A(){let n=zi();Mb()?kb():(n=n.parent,Ic(n,!1));let e=n;Uj(e)&&jj(),Bj();let t=An();return t.firstCreatePass&&(Y_(t,n),Sb(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&nz(e)&&ob(t,e,Ze(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iz(e)&&ob(t,e,Ze(),e.stylesWithoutHost,!1),A}function W(n,e,t,i){return x(n,e,t,i),A(),W}var AG=(n,e,t,i,r,s)=>(K_(!0),QO(i,r,Xj()));function RG(n,e,t,i,r){let s=e.consts,o=od(s,i),a=gd(e,n,8,"ng-container",o);o!==null&&A_(a,o,!0);let l=od(s,r);return tC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ae(n,e,t){let i=Ze(),r=An(),s=n+or,o=r.firstCreatePass?RG(s,r,i,e,t):r.data[s];Ic(o,!0);let a=MG(r,i,o,n);return i[s]=a,q_()&&J_(r,i,a,o),Ya(a,i),G_(o)&&(Zb(r,i,o),Qb(r,o,i)),t!=null&&Xb(i,o),ae}function le(){let n=zi(),e=An();return Mb()?kb():(n=n.parent,Ic(n,!1)),e.firstCreatePass&&(Y_(e,n),Sb(n)&&e.queries.elementEnd(n)),le}function ge(n,e,t){return ae(n,e,t),le(),ge}var MG=(n,e,t,i)=>(K_(!0),tH(e[bn],""));function pe(){return Ze()}var lc=void 0;function kG(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var PG=["en",[["a","p"],["AM","PM"],lc],[["AM","PM"],lc,lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lc,"{1} 'at' {0}",lc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",kG],f1={};function Jr(n){let e=OG(n),t=yP(e);if(t)return t;let i=e.split("-")[0];if(t=yP(i),t)return t;if(i==="en")return PG;throw new he(701,!1)}function yP(n){return n in f1||(f1[n]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[n]),f1[n]}var Bn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Bn||{});function OG(n){return n.toLowerCase().replace(/_/g,"-")}var O_="en-US";var FG=O_;function LG(n){typeof n=="string"&&(FG=n.toLowerCase().replace(/_/g,"-"))}function J(n,e,t,i){let r=Ze(),s=An(),o=zi();return KF(s,r,r[bn],o,n,e,i),J}function NG(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Pf],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function KF(n,e,t,i,r,s,o){let a=G_(i),c=n.firstCreatePass&&_F(n),u=e[Zr],h=gF(e),f=!0;if(i.type&3||o){let I=Xr(i,e),b=o?o(I):I,E=h.length,M=o?F=>o(Qs(F[i.index])):i.index,P=null;if(!o&&a&&(P=NG(n,e,r,i.index)),P!==null){let F=P.__ngLastListenerFn__||P;F.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1}else{s=wP(i,e,u,s,!1);let F=t.listen(b,r,s);h.push(s,F),c&&c.push(r,M,E,E+1)}}else s=wP(i,e,u,s,!1);let p=i.outputs,_;if(f&&p!==null&&(_=p[r])){let I=_.length;if(I)for(let b=0;b<I;b+=2){let E=_[b],M=_[b+1],$=e[E][M].subscribe(s),Y=h.length;h.push(s,$),c&&c.push(r,i.index,Y,-(Y+1))}}}function vP(n,e,t,i){let r=zt(null);try{return qs(6,e,t),t(i)!==!1}catch(s){return yF(n,s),!1}finally{qs(7,e,t),zt(r)}}function wP(n,e,t,i,r){return function s(o){if(o===Function)return i;let a=n.componentOffset>-1?Za(n.index,e):e;rC(a);let l=vP(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=vP(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function v(n=1){return Zj(n)}function VG(n,e){let t=null,i=rj(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?UP(n,s,!0):aj(i,s))return r}return t}function si(n){let e=Ze()[ys][Mr];if(!e.projection){let t=n?n.length:1,i=e.projection=YU(t,null),r=i.slice(),s=e.child;for(;s!==null;){let o=n?VG(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Qn(n,e=0,t){let i=Ze(),r=An(),s=gd(r,or+n,16,null,t||null);s.projection===null&&(s.projection=e),kb(),(!i[kf]||dO())&&(s.flags&32)!==32&&mH(r,i,s)}function cC(n,e,t){return YF(n,"",e,"",t),cC}function YF(n,e,t,i,r){let s=Ze(),o=LF(s,e,t,i);if(o!==kr){let a=An(),l=W_();eC(a,l,s,n,o,s[bn],r,!1)}return YF}function Bt(n,e,t,i){U$(n,e,t,i)}function We(n,e,t){B$(n,e,t)}function be(n){let e=Ze(),t=An(),i=fO();Ob(i+1);let r=aC(t,i);if(n.dirty&&kj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=H$(e,i);n.reset(s,gz),n.notifyOnChanges()}return!0}return!1}function Ce(){return V$(Ze(),fO())}function BG(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Mt(n){let e=Hj();return aO(e,or+n)}function ce(n,e=""){let t=Ze(),i=An(),r=n+or,s=i.firstCreatePass?gd(i,r,1,e,null):i.data[r],o=UG(i,t,s,e,n);t[r]=o,q_()&&J_(i,t,o,s),Ic(s,!1)}var UG=(n,e,t,i,r)=>(K_(!0),Jz(e[bn],i));function $e(n){return on("",n,""),$e}function on(n,e,t){let i=Ze(),r=LF(i,n,e,t);return r!==kr&&vF(i,Xa(),r),on}function uC(n,e,t,i,r){let s=Ze(),o=iG(s,n,e,t,i,r);return o!==kr&&vF(s,Xa(),o),uC}function eo(n,e,t){PF(e)&&(e=e());let i=Ze(),r=zf();if(Rr(i,r,e)){let s=An(),o=W_();eC(s,o,i,n,e,i[bn],t,!1)}return eo}function Qo(n,e){let t=PF(n);return t&&n.set(e),t}function to(n,e){let t=Ze(),i=An(),r=zi();return KF(i,t,t[bn],r,n,e),to}function jG(n,e,t){let i=An();if(i.firstCreatePass){let r=Ka(n);ab(t,i.data,i.blueprint,r,!0),ab(e,i.data,i.blueprint,r,!1)}}function ab(n,e,t,i,r){if(n=rr(n),Array.isArray(n))for(let s=0;s<n.length;s++)ab(n[s],e,t,i,r);else{let s=An(),o=Ze(),a=zi(),l=id(n)?n:rr(n.provide),c=QP(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(id(n)||!n.multi){let p=new gc(c,r,G),_=m1(l,e,r?u:u+f,h);_===-1?(A1(C_(a,o),s,l),p1(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[_]=p,o[_]=p)}else{let p=m1(l,e,u+f,h),_=m1(l,e,u,u+f),I=p>=0&&t[p],b=_>=0&&t[_];if(r&&!b||!r&&!I){A1(C_(a,o),s,l);let E=$G(r?HG:zG,t.length,r,i,c);!r&&b&&(t[_].providerFactory=E),p1(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(E),o.push(E)}else{let E=QF(t[r?_:p],c,!r&&i);p1(s,n,p>-1?p:_,E)}!r&&i&&b&&t[_].componentProviders++}}}function p1(n,e,t,i){let r=id(e),s=_j(e);if(r||s){let l=(s?rr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function QF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function m1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function zG(n,e,t,i){return lb(this.multi,[])}function HG(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=_c(t,t[mt],this.providerFactory.index,i);s=a.slice(0,o),lb(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],lb(r,s);return s}function lb(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function $G(n,e,t,i,r){let s=new gc(n,t,G);return s.multi=[],s.index=e,s.componentProviders=0,QF(s,r,i&&!t),s}function yn(n,e=[]){return t=>{t.providersResolver=(i,r)=>jG(i,r?r(n):n,e)}}var GG=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=qP(!1,i.type),s=r.length>0?o0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=we({token:e,providedIn:"environment",factory:()=>new e(Oe(ji))});let n=e;return n})();function ye(n){Js("NgStandalone"),n.getStandaloneInjector=e=>e.get(GG).getOrCreateStandaloneInjector(n)}function oi(n,e,t){let i=Xs()+n,r=Ze();return r[i]===kr?Yo(r,i,t?e.call(t):e()):a0(r,i)}function Se(n,e,t,i){return WG(Ze(),Xs(),n,e,t,i)}function tn(n,e,t,i,r){return ZF(Ze(),Xs(),n,e,t,i,r)}function ai(n,e,t,i,r,s){return qG(Ze(),Xs(),n,e,t,i,r,s)}function dC(n,e,t,i,r,s,o){return KG(Ze(),Xs(),n,e,t,i,r,s,o)}function _d(n,e,t,i,r,s,o,a){let l=Xs()+n,c=Ze(),u=l0(c,l,t,i,r,s);return Rr(c,l+4,o)||u?Yo(c,l+5,a?e.call(a,t,i,r,s,o):e(t,i,r,s,o)):a0(c,l+5)}function Ec(n,e,t,i,r,s,o,a,l){let c=Xs()+n,u=Ze(),h=l0(u,c,t,i,r,s);return cd(u,c+4,o,a)||h?Yo(u,c+6,l?e.call(l,t,i,r,s,o,a):e(t,i,r,s,o,a)):a0(u,c+6)}function u0(n,e,t,i,r,s,o,a,l,c){let u=Xs()+n,h=Ze(),f=l0(h,u,t,i,r,s);return FF(h,u+4,o,a,l)||f?Yo(h,u+7,c?e.call(c,t,i,r,s,o,a,l):e(t,i,r,s,o,a,l)):a0(h,u+7)}function hC(n,e,t,i){return YG(Ze(),Xs(),n,e,t,i)}function Wf(n,e){let t=n[e];return t===kr?void 0:t}function WG(n,e,t,i,r,s){let o=e+t;return Rr(n,o,r)?Yo(n,o+1,s?i.call(s,r):i(r)):Wf(n,o+1)}function ZF(n,e,t,i,r,s,o){let a=e+t;return cd(n,a,r,s)?Yo(n,a+2,o?i.call(o,r,s):i(r,s)):Wf(n,a+2)}function qG(n,e,t,i,r,s,o,a){let l=e+t;return FF(n,l,r,s,o)?Yo(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Wf(n,l+3)}function KG(n,e,t,i,r,s,o,a,l){let c=e+t;return l0(n,c,r,s,o,a)?Yo(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Wf(n,c+4)}function YG(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Rr(n,o++,r[l])&&(a=!0);return a?Yo(n,o,i.apply(s,r)):Wf(n,o)}function ki(n,e){let t=An(),i,r=n+or;t.firstCreatePass?(i=QG(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=hc(i.type,!0)),o,a=fr(G);try{let l=b_(!1),c=s();return b_(l),BG(t,Ze(),r,c),c}finally{fr(a)}}function QG(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Pi(n,e,t,i){let r=n+or,s=Ze(),o=aO(s,r);return ZG(s,r)?ZF(s,Xs(),e,o.transform,t,i,o):o.transform(t,i)}function ZG(n,e){return n[mt].data[e].pure}function an(n,e){return i0(n,e)}var Go=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},XF=new Go("17.3.11"),d0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var JF=new Pe("");function Tc(n){return!!n&&typeof n.then=="function"}function eL(n){return!!n&&typeof n.subscribe=="function"}var h0=new Pe(""),tL=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=fe(h0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Tc(o))i.push(o);else if(eL(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qf=new Pe("");function XG(){ok(()=>{throw new he(600,!1)})}function JG(n){return n.isBoundToModule}function eW(n,e,t){try{let i=t();return Tc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var yd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(MO),this.afterRenderEffectManager=fe(oC),this.externalTestViews=new Set,this.beforeRender=new sn,this.afterTick=new sn,this.componentTypes=[],this.components=[],this.isStable=fe(Cc).hasPendingTasks.pipe(st(i=>!i)),this._injector=fe(ji)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof D_;if(!this._injector.get(tL).done){let p=!s&&HP(i),_=!1;throw new he(405,_)}let a;s?a=i:a=this._injector.get(r0).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=JG(a)?void 0:this._injector.get(Qa),c=r||a.selector,u=a.create(mi.NULL,[],c,l),h=u.location.nativeElement,f=u.injector.get(JF,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),g1(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new he(101,!1);let r=zt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,zt(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===CF)throw new he(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)tW(a,o,l)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cb(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cb(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;g1(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(qf,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>g1(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new he(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function g1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tW(n,e,t){!e&&!cb(n)||nW(n,t,e)}function cb(n){return Rb(n)}function nW(n,e,t){let i;t?(i=0,n[Ye]|=1024):n[Ye]&64?i=0:i=1,EF(n,e,i)}var ub=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},f0=(()=>{let e=class e{compileModuleSync(i){return new ib(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=$P(i),o=YO(s.declarations).reduce((a,l)=>{let c=qa(l);return c&&a.push(new ld(c)),a},[]);return new ub(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var iW=(()=>{let e=class e{constructor(){this.zone=fe(Ke),this.applicationRef=fe(yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function rW(n){return[{provide:Ke,useFactory:n},{provide:nd,multi:!0,useFactory:()=>{let e=fe(iW,{optional:!0});return()=>e.initialize()}},{provide:nd,multi:!0,useFactory:()=>{let e=fe(lW);return()=>{e.initialize()}}},{provide:MO,useFactory:sW}]}function sW(){let n=fe(Ke),e=fe(vs);return t=>n.runOutsideAngular(()=>e.handleError(t))}function oW(n){let e=rW(()=>new Ke(aW(n)));return hd([[],e])}function aW(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lW=(()=>{let e=class e{constructor(){this.subscription=new Vn,this.initialized=!1,this.zone=fe(Ke),this.pendingTasks=fe(Cc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function cW(){return typeof $localize<"u"&&$localize.locale||O_}var p0=new Pe("",{providedIn:"root",factory:()=>fe(p0,Dt.Optional|Dt.SkipSelf)||cW()});var nL=new Pe("");var p_=null;function uW(n=[],e){return mi.create({name:e,providers:[{provide:z_,useValue:"platform"},{provide:nL,useValue:new Set([()=>p_=null])},...n]})}function dW(n=[]){if(p_)return p_;let e=uW(n);return p_=e,XG(),hW(e),e}function hW(n){n.get(Ub,null)?.forEach(t=>t())}var wt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fW;let n=e;return n})();function fW(n){return pW(zi(),Ze(),(n&16)===16)}function pW(n,e,t){if($_(n)&&!t){let i=Za(n.index,e);return new yc(i,i)}else if(n.type&47){let i=e[ys];return new yc(i,e)}return null}var db=class{constructor(){}supports(e){return OF(e)}create(e){return new hb(e)}},mW=(n,e)=>e,hb=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mW}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<IP(i,r,s)?t:i,a=IP(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let p=f<s.length?s[f]:s[f]=0,_=p+f;u<=_&&_<c&&(s[f]=p+1)}let h=o.previousIndex;s[h]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!OF(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,X$(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new fb(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new F_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new F_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},fb=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},pb=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},F_=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new pb,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IP(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var mb=class{constructor(){}supports(e){return e instanceof Map||lC(e)}create(){return new gb}},gb=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||lC(e)))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new _b(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},_b=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function bP(){return new fC([new db])}var fC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||bP()),deps:[[e,new B_,new Mi]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new he(901,!1)}};e.\u0275prov=we({token:e,providedIn:"root",factory:bP});let n=e;return n})();function CP(){return new pC([new mb])}var pC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||CP()),deps:[[e,new B_,new Mi]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new he(901,!1)}};e.\u0275prov=we({token:e,providedIn:"root",factory:CP});let n=e;return n})();function iL(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=dW(i),s=[oW(),...t||[]],a=new k_({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ke);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(vs,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:p=>{c.handleError(p)}})});let h=()=>a.destroy(),f=r.get(nL);return f.add(h),a.onDestroy(()=>{u.unsubscribe(),f.delete(h)}),eW(c,l,()=>{let p=a.get(tL);return p.runInitializers(),p.donePromise.then(()=>{let _=a.get(p0,O_);LG(_||O_);let I=a.get(yd);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function K(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ve(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function el(n,e){Js("NgSignals");let t=ik(n);return e?.equal&&(t[Gs].equal=e.equal),t}var gW=new Pe("",{providedIn:"root",factory:()=>fe(_W)}),_W=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>new yb});let n=e;return n})(),yb=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=fe(Cc),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},vb=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=uk(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(vs,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Kf(n,e){Js("NgSignals"),!e?.injector&&XP(Kf);let t=e?.injector??fe(mi),i=e?.manualCleanup!==!0?t.get(Q_):null,r=new vb(t.get(gW),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(wt,null,{optional:!0});return!s||!(s._lView[Ye]&8)?r.watcher.notify():(s._lView[c_]??=[]).push(r.watcher.notify),r}function rL(n){let e=qa(n);if(!e)return null;let t=new ld(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var dL=null;function ea(){return dL}function hL(n){dL??=n}var C0=class{};var It=new Pe(""),CC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(yW),providedIn:"platform"});let n=e;return n})(),fL=new Pe(""),yW=(()=>{let e=class e extends CC{constructor(){super(),this._doc=fe(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ea().getBaseHref(this._doc)}onPopState(i){let r=ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function EC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function sL(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Xo(n){return n&&n[0]!=="?"?"?"+n:n}var ta=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(TC),providedIn:"root"});let n=e;return n})(),pL=new Pe(""),TC=(()=>{let e=class e extends ta{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??fe(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return EC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Xo(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Xo(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Xo(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Oe(CC),Oe(pL,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),mL=(()=>{let e=class e extends ta{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=EC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Xo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Xo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Oe(CC),Oe(pL,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),wd=(()=>{let e=class e{constructor(i){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=IW(sL(oL(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Xo(r))}normalize(i){return e.stripTrailingSlash(wW(this._basePath,oL(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Xo(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Xo(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Xo,e.joinWithSlash=EC,e.stripTrailingSlash=sL,e.\u0275fac=function(r){return new(r||e)(Oe(ta))},e.\u0275prov=we({token:e,factory:()=>vW(),providedIn:"root"});let n=e;return n})();function vW(){return new wd(Oe(ta))}function wW(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function oL(n){return n.replace(/\/index.html$/,"")}function IW(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ar=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ar||{}),un=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(un||{}),Or=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Or||{}),tl={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bW(n){return Jr(n)[Bn.LocaleId]}function CW(n,e,t){let i=Jr(n),r=[i[Bn.DayPeriodsFormat],i[Bn.DayPeriodsStandalone]],s=es(r,e);return es(s,t)}function EW(n,e,t){let i=Jr(n),r=[i[Bn.DaysFormat],i[Bn.DaysStandalone]],s=es(r,e);return es(s,t)}function TW(n,e,t){let i=Jr(n),r=[i[Bn.MonthsFormat],i[Bn.MonthsStandalone]],s=es(r,e);return es(s,t)}function xW(n,e){let i=Jr(n)[Bn.Eras];return es(i,e)}function m0(n,e){let t=Jr(n);return es(t[Bn.DateFormat],e)}function g0(n,e){let t=Jr(n);return es(t[Bn.TimeFormat],e)}function _0(n,e){let i=Jr(n)[Bn.DateTimeFormat];return es(i,e)}function T0(n,e){let t=Jr(n),i=t[Bn.NumberSymbols][e];if(typeof i>"u"){if(e===tl.CurrencyDecimal)return t[Bn.NumberSymbols][tl.Decimal];if(e===tl.CurrencyGroup)return t[Bn.NumberSymbols][tl.Group]}return i}function gL(n){if(!n[Bn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Bn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function SW(n){let e=Jr(n);return gL(e),(e[Bn.ExtraData][2]||[]).map(i=>typeof i=="string"?mC(i):[mC(i[0]),mC(i[1])])}function DW(n,e,t){let i=Jr(n);gL(i);let r=[i[Bn.ExtraData][0],i[Bn.ExtraData][1]],s=es(r,e)||[];return es(s,t)||[]}function es(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function mC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var AW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,y0={},RW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Jo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Jo||{}),Yt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Yt||{}),Kt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Kt||{});function MW(n,e,t,i){let r=UW(n);e=Zo(t,e)||e;let o=[],a;for(;e;)if(a=RW.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=yL(i,l),r=BW(r,i,!0));let c="";return o.forEach(u=>{let h=NW(u);c+=h?h(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function E0(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Zo(n,e){let t=bW(n);if(y0[t]??={},y0[t][e])return y0[t][e];let i="";switch(e){case"shortDate":i=m0(n,Or.Short);break;case"mediumDate":i=m0(n,Or.Medium);break;case"longDate":i=m0(n,Or.Long);break;case"fullDate":i=m0(n,Or.Full);break;case"shortTime":i=g0(n,Or.Short);break;case"mediumTime":i=g0(n,Or.Medium);break;case"longTime":i=g0(n,Or.Long);break;case"fullTime":i=g0(n,Or.Full);break;case"short":let r=Zo(n,"shortTime"),s=Zo(n,"shortDate");i=v0(_0(n,Or.Short),[r,s]);break;case"medium":let o=Zo(n,"mediumTime"),a=Zo(n,"mediumDate");i=v0(_0(n,Or.Medium),[o,a]);break;case"long":let l=Zo(n,"longTime"),c=Zo(n,"longDate");i=v0(_0(n,Or.Long),[l,c]);break;case"full":let u=Zo(n,"fullTime"),h=Zo(n,"fullDate");i=v0(_0(n,Or.Full),[u,h]);break}return i&&(y0[t][e]=i),i}function v0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Cs(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function kW(n,e){return Cs(n,3).substring(0,e)}function Zn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=PW(n,s);if((t>0||a>-t)&&(a+=t),n===Yt.Hours)a===0&&t===-12&&(a=12);else if(n===Yt.FractionalSeconds)return kW(a,e);let l=T0(o,tl.MinusSign);return Cs(a,e,l,i,r)}}function PW(n,e){switch(n){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function fn(n,e,t=ar.Format,i=!1){return function(r,s){return OW(r,s,n,e,t,i)}}function OW(n,e,t,i,r,s){switch(t){case Kt.Months:return TW(e,r,i)[n.getMonth()];case Kt.Days:return EW(e,r,i)[n.getDay()];case Kt.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=SW(e),u=DW(e,r,i),h=c.findIndex(f=>{if(Array.isArray(f)){let[p,_]=f,I=o>=p.hours&&a>=p.minutes,b=o<_.hours||o===_.hours&&a<_.minutes;if(p.hours<_.hours){if(I&&b)return!0}else if(I||b)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return CW(e,r,i)[o<12?0:1];case Kt.Eras:return xW(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function w0(n){return function(e,t,i){let r=-1*i,s=T0(t,tl.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Jo.Short:return(r>=0?"+":"")+Cs(o,2,s)+Cs(Math.abs(r%60),2,s);case Jo.ShortGMT:return"GMT"+(r>=0?"+":"")+Cs(o,1,s);case Jo.Long:return"GMT"+(r>=0?"+":"")+Cs(o,2,s)+":"+Cs(Math.abs(r%60),2,s);case Jo.Extended:return i===0?"Z":(r>=0?"+":"")+Cs(o,2,s)+":"+Cs(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var FW=0,b0=4;function LW(n){let e=E0(n,FW,1).getDay();return E0(n,0,1+(e<=b0?b0:b0+7)-e)}function _L(n){let e=n.getDay(),t=e===0?-3:b0-e;return E0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function gC(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=_L(t),o=LW(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Cs(r,n,T0(i,tl.MinusSign))}}function I0(n,e=!1){return function(t,i){let s=_L(t).getFullYear();return Cs(s,n,T0(i,tl.MinusSign),e)}}var _C={};function NW(n){if(_C[n])return _C[n];let e;switch(n){case"G":case"GG":case"GGG":e=fn(Kt.Eras,un.Abbreviated);break;case"GGGG":e=fn(Kt.Eras,un.Wide);break;case"GGGGG":e=fn(Kt.Eras,un.Narrow);break;case"y":e=Zn(Yt.FullYear,1,0,!1,!0);break;case"yy":e=Zn(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=Zn(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=Zn(Yt.FullYear,4,0,!1,!0);break;case"Y":e=I0(1);break;case"YY":e=I0(2,!0);break;case"YYY":e=I0(3);break;case"YYYY":e=I0(4);break;case"M":case"L":e=Zn(Yt.Month,1,1);break;case"MM":case"LL":e=Zn(Yt.Month,2,1);break;case"MMM":e=fn(Kt.Months,un.Abbreviated);break;case"MMMM":e=fn(Kt.Months,un.Wide);break;case"MMMMM":e=fn(Kt.Months,un.Narrow);break;case"LLL":e=fn(Kt.Months,un.Abbreviated,ar.Standalone);break;case"LLLL":e=fn(Kt.Months,un.Wide,ar.Standalone);break;case"LLLLL":e=fn(Kt.Months,un.Narrow,ar.Standalone);break;case"w":e=gC(1);break;case"ww":e=gC(2);break;case"W":e=gC(1,!0);break;case"d":e=Zn(Yt.Date,1);break;case"dd":e=Zn(Yt.Date,2);break;case"c":case"cc":e=Zn(Yt.Day,1);break;case"ccc":e=fn(Kt.Days,un.Abbreviated,ar.Standalone);break;case"cccc":e=fn(Kt.Days,un.Wide,ar.Standalone);break;case"ccccc":e=fn(Kt.Days,un.Narrow,ar.Standalone);break;case"cccccc":e=fn(Kt.Days,un.Short,ar.Standalone);break;case"E":case"EE":case"EEE":e=fn(Kt.Days,un.Abbreviated);break;case"EEEE":e=fn(Kt.Days,un.Wide);break;case"EEEEE":e=fn(Kt.Days,un.Narrow);break;case"EEEEEE":e=fn(Kt.Days,un.Short);break;case"a":case"aa":case"aaa":e=fn(Kt.DayPeriods,un.Abbreviated);break;case"aaaa":e=fn(Kt.DayPeriods,un.Wide);break;case"aaaaa":e=fn(Kt.DayPeriods,un.Narrow);break;case"b":case"bb":case"bbb":e=fn(Kt.DayPeriods,un.Abbreviated,ar.Standalone,!0);break;case"bbbb":e=fn(Kt.DayPeriods,un.Wide,ar.Standalone,!0);break;case"bbbbb":e=fn(Kt.DayPeriods,un.Narrow,ar.Standalone,!0);break;case"B":case"BB":case"BBB":e=fn(Kt.DayPeriods,un.Abbreviated,ar.Format,!0);break;case"BBBB":e=fn(Kt.DayPeriods,un.Wide,ar.Format,!0);break;case"BBBBB":e=fn(Kt.DayPeriods,un.Narrow,ar.Format,!0);break;case"h":e=Zn(Yt.Hours,1,-12);break;case"hh":e=Zn(Yt.Hours,2,-12);break;case"H":e=Zn(Yt.Hours,1);break;case"HH":e=Zn(Yt.Hours,2);break;case"m":e=Zn(Yt.Minutes,1);break;case"mm":e=Zn(Yt.Minutes,2);break;case"s":e=Zn(Yt.Seconds,1);break;case"ss":e=Zn(Yt.Seconds,2);break;case"S":e=Zn(Yt.FractionalSeconds,1);break;case"SS":e=Zn(Yt.FractionalSeconds,2);break;case"SSS":e=Zn(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=w0(Jo.Short);break;case"ZZZZZ":e=w0(Jo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=w0(Jo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=w0(Jo.Long);break;default:return null}return _C[n]=e,e}function yL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function VW(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function BW(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=yL(e,r);return VW(n,i*(s-r))}function UW(n){if(aL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return E0(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(AW))return jW(i)}let e=new Date(n);if(!aL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function jW(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function aL(n){return n instanceof Date&&!isNaN(n.valueOf())}function x0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var yC=/\s+/,lL=[],kt=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=lL,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(yC):lL}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(yC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(yC).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(G(nt),G(Jt))},e.\u0275dir=Nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[j.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var vC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gi=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new vC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),cL(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);cL(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(bs),G(ws),G(fC))},e.\u0275dir=Nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function cL(n,e){n.context.$implicit=e.item}var St=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new wC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){uL("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){uL("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(bs),G(ws))},e.\u0275dir=Nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),wC=class{constructor(){this.$implicit=null,this.ngIf=null}};function uL(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${sr(e)}'.`)}var Pt=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Zs.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(G(nt),G(pC),G(Jt))},e.\u0275dir=Nt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),Vt=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(G(bs))},e.\u0275dir=Nt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[hn]});let n=e;return n})();function zW(n,e){return new he(2100,!1)}var HW="mediumDate",$W=new Pe(""),GW=new Pe(""),S0=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??HW,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return MW(i,a,o||this.locale,l)}catch(a){throw zW(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(G(p0,16),G($W,24),G(GW,24))},e.\u0275pipe=j_({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var ht=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Re({});let n=e;return n})(),xC="browser",WW="server";function nn(n){return n===xC}function D0(n){return n===WW}var vL=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>nn(fe(Gt))?new IC(fe(It),window):new bC});let n=e;return n})(),IC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=qW(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function qW(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var bC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vd=class{};var Qf=class{},R0=class{},xc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var DC=class{encodeKey(e){return wL(e)}encodeValue(e){return wL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function QW(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var ZW=/%(\d[a-f0-9])/gi,XW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wL(n){return encodeURIComponent(n).replace(ZW,(e,t)=>XW[t]??e)}function A0(n){return`${n}`}var nl=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new DC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QW(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(A0):[A0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(A0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(A0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var AC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function JW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bL(n){return typeof Blob<"u"&&n instanceof Blob}function CL(n){return typeof FormData<"u"&&n instanceof FormData}function eq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Yf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(JW(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xc,this.context??=new AC,!this.params)this.params=new nl,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IL(this.body)||bL(this.body)||CL(this.body)||eq(this.body)?this.body:this.body instanceof nl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CL(this.body)?null:bL(this.body)?this.body.type||null:IL(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof nl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,i,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Id=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Id||{}),Zf=class{constructor(e,t=P0.Ok,i="OK"){this.headers=e.headers||new xc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},RC=class n extends Zf{constructor(e={}){super(e),this.type=Id.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},M0=class n extends Zf{constructor(e={}){super(e),this.type=Id.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},k0=class extends Zf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},P0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(P0||{});function SC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var MC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Yf)o=i;else{let c;s.headers instanceof xc?c=s.headers:c=new xc(s.headers);let u;s.params&&(s.params instanceof nl?u=s.params:u=new nl({fromObject:s.params})),o=new Yf(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=He(o).pipe(zo(c=>this.handler.handle(c)));if(i instanceof Yf||s.observe==="events")return a;let l=a.pipe(ii(c=>c instanceof M0));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(st(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(st(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(st(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(st(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new nl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,SC(s,r))}post(i,r,s={}){return this.request("POST",i,SC(s,r))}put(i,r,s={}){return this.request("PUT",i,SC(s,r))}};e.\u0275fac=function(r){return new(r||e)(Oe(Qf))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function tq(n,e){return e(n)}function nq(n,e,t){return(i,r)=>Is(t,()=>e(i,s=>n(s,r)))}var xL=new Pe(""),iq=new Pe(""),rq=new Pe("");var EL=(()=>{let e=class e extends Qf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=fe(Cc);let s=fe(rq,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(xL),...this.injector.get(iq,[])]));this.chain=s.reduceRight((o,a)=>nq(o,a,this.injector),tq)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(ac(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(Oe(R0),Oe(ji))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();var sq=/^\)\]\}',?\n/;function oq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var TL=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new he(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ht(r.\u0275loadImpl()):He(null)).pipe(hr(()=>new pt(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((b,E)=>a.setRequestHeader(b,E.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let b=i.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(i.responseType){let b=i.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let b=a.statusText||"OK",E=new xc(a.getAllResponseHeaders()),M=oq(a)||i.url;return c=new RC({headers:E,status:a.status,statusText:b,url:M}),c},h=()=>{let{headers:b,status:E,statusText:M,url:P}=u(),F=null;E!==P0.NoContent&&(F=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=F?P0.Ok:0);let $=E>=200&&E<300;if(i.responseType==="json"&&typeof F=="string"){let Y=F;F=F.replace(sq,"");try{F=F!==""?JSON.parse(F):null}catch(R){F=Y,$&&($=!1,F={error:R,text:F})}}$?(o.next(new M0({body:F,headers:b,status:E,statusText:M,url:P||void 0})),o.complete()):o.error(new k0({error:F,headers:b,status:E,statusText:M,url:P||void 0}))},f=b=>{let{url:E}=u(),M=new k0({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});o.error(M)},p=!1,_=b=>{p||(o.next(u()),p=!0);let E={type:Id.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),i.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),o.next(E)},I=b=>{let E={type:Id.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),o.next(E)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),i.reportProgress&&(a.addEventListener("progress",_),l!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(l),o.next({type:Id.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),i.reportProgress&&(a.removeEventListener("progress",_),l!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(Oe(vd))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),SL=new Pe(""),aq="XSRF-TOKEN",lq=new Pe("",{providedIn:"root",factory:()=>aq}),cq="X-XSRF-TOKEN",uq=new Pe("",{providedIn:"root",factory:()=>cq}),O0=class{},dq=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=x0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(Oe(It),Oe(Gt),Oe(lq))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function hq(n,e){let t=n.url.toLowerCase();if(!fe(SL)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=fe(O0).getToken(),r=fe(uq);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function DL(...n){let e=[MC,TL,EL,{provide:Qf,useExisting:EL},{provide:R0,useExisting:TL},{provide:xL,useValue:hq,multi:!0},{provide:SL,useValue:!0},{provide:O0,useClass:dq}];for(let t of n)e.push(...t.\u0275providers);return hd(e)}var OC=class extends C0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},FC=class n extends OC{static makeCurrent(){hL(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=pq();return t==null?null:mq(t)}resetBaseElement(){Xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return x0(document.cookie,e)}},Xf=null;function pq(){return Xf=Xf||document.querySelector("base"),Xf?Xf.getAttribute("href"):null}function mq(n){return new URL(n,document.baseURI).pathname}var gq=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),LC=new Pe(""),ML=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new he(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(Oe(LC),Oe(Ke))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),F0=class{constructor(e){this._doc=e}},kC="ng-app-id",kL=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=D0(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${kC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(kC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(kC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(Oe(It),Oe(Bb),Oe(zb,8),Oe(Gt))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),PC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},VC=/%COMP%/g,PL="%COMP%",_q=`_nghost-${PL}`,yq=`_ngcontent-${PL}`,vq=!0,wq=new Pe("",{providedIn:"root",factory:()=>vq});function Iq(n){return yq.replace(VC,n)}function bq(n){return _q.replace(VC,n)}function OL(n,e){return e.map(t=>t.replace(VC,n))}var L0=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=D0(l),this.defaultRenderer=new Jf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ys.ShadowDom&&(r=it(oe({},r),{encapsulation:Ys.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof N0?s.applyToHost(i):s instanceof ep&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Ys.Emulated:o=new N0(c,u,r,this.appId,h,a,l,f);break;case Ys.ShadowDom:return new NC(c,u,i,r,a,l,this.nonce,f);default:o=new ep(c,u,r,h,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(Oe(ML),Oe(kL),Oe(Bb),Oe(wq),Oe(It),Oe(Gt),Oe(Ke),Oe(zb))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),Jf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(PC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(AL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(AL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new he(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=PC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=PC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Zs.DashCase|Zs.Important)?e.style.setProperty(t,i,r&Zs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Zs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=ea().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function AL(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var NC=class extends Jf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=OL(r.id,r.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ep=class extends Jf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?OL(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},N0=class extends ep{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=Iq(c),this.hostAttr=bq(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},Cq=(()=>{let e=class e extends F0{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(Oe(It))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),RL=["alt","control","meta","shift"],Eq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xq=(()=>{let e=class e extends F0{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ea().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),RL.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=Eq[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),RL.forEach(a=>{if(a!==s){let l=Tq[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(Oe(It))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function FL(n,e){return iL(oe({rootComponent:n},Sq(e)))}function Sq(n){return{appProviders:[...kq,...n?.providers??[]],platformProviders:Mq}}function Dq(){FC.makeCurrent()}function Aq(){return new vs}function Rq(){return NO(document),document}var Mq=[{provide:Gt,useValue:xC},{provide:Ub,useValue:Dq,multi:!0},{provide:It,useFactory:Rq,deps:[]}];var kq=[{provide:z_,useValue:"root"},{provide:vs,useFactory:Aq,deps:[]},{provide:LC,useClass:Cq,multi:!0,deps:[It,Ke,Gt]},{provide:LC,useClass:xq,multi:!0,deps:[It]},L0,kL,ML,{provide:vc,useExisting:L0},{provide:vd,useClass:gq,deps:[]},[]];var LL=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(Oe(It))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var bt="primary",gp=Symbol("RouteTitle"),HC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xd(n){return new HC(n)}function Oq(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!no(n[t],e[t]))return!1;return!0}function no(n,e){let t=n?$C(n):void 0,i=e?$C(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!GL(n[r],e[r]))return!1;return!0}function $C(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function GL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function WL(n){return n.length>0?n[n.length-1]:null}function al(n){return YI(n)?n:Tc(n)?Ht(Promise.resolve(n)):He(n)}var Lq={exact:KL,subset:YL},qL={exact:Nq,subset:Vq,ignored:()=>!0};function NL(n,e,t){return Lq[t.paths](n.root,e.root,t.matrixParams)&&qL[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Nq(n,e){return no(n,e)}function KL(n,e,t){if(!Dc(n.segments,e.segments)||!U0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!KL(n.children[i],e.children[i],t))return!1;return!0}function Vq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GL(n[t],e[t]))}function YL(n,e,t){return QL(n,e,e.segments,t)}function QL(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Dc(r,t)||e.hasChildren()||!U0(r,t,i))}else if(n.segments.length===t.length){if(!Dc(n.segments,t)||!U0(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!YL(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Dc(n.segments,r)||!U0(n.segments,r,i)||!n.children[bt]?!1:QL(n.children[bt],e,s,i)}}function U0(n,e,t){return e.every((i,r)=>qL[t](n[r].parameters,i.parameters))}var il=class{constructor(e=new en([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){return jq.serialize(this)}},en=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return j0(this)}},Sc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xd(this.parameters),this._parameterMap}toString(){return XL(this)}};function Bq(n,e){return Dc(n,e)&&n.every((t,i)=>no(t.parameters,e[i].parameters))}function Dc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function Uq(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===bt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==bt&&(t=t.concat(e(r,i)))}),t}var _p=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>new ap,providedIn:"root"});let n=e;return n})(),ap=class{parse(e){let t=new WC(e);return new il(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${tp(e.root,!0)}`,i=$q(e.queryParams),r=typeof e.fragment=="string"?`#${zq(e.fragment)}`:"";return`${t}${i}${r}`}},jq=new ap;function j0(n){return n.segments.map(e=>XL(e)).join("/")}function tp(n,e){if(!n.hasChildren())return j0(n);if(e){let t=n.children[bt]?tp(n.children[bt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==bt&&i.push(`${r}:${tp(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=Uq(n,(i,r)=>r===bt?[tp(n.children[bt],!1)]:[`${r}:${tp(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[bt]!=null?`${j0(n)}/${t[0]}`:`${j0(n)}/(${t.join("//")})`}}function ZL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V0(n){return ZL(n).replace(/%3B/gi,";")}function zq(n){return encodeURI(n)}function GC(n){return ZL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function z0(n){return decodeURIComponent(n)}function VL(n){return z0(n.replace(/\+/g,"%20"))}function XL(n){return`${GC(n.path)}${Hq(n.parameters)}`}function Hq(n){return Object.entries(n).map(([e,t])=>`;${GC(e)}=${GC(t)}`).join("")}function $q(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${V0(t)}=${V0(r)}`).join("&"):`${V0(t)}=${V0(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Gq=/^[^\/()?;#]+/;function BC(n){let e=n.match(Gq);return e?e[0]:""}var Wq=/^[^\/()?;=#]+/;function qq(n){let e=n.match(Wq);return e?e[0]:""}var Kq=/^[^=?&#]+/;function Yq(n){let e=n.match(Kq);return e?e[0]:""}var Qq=/^[^&#]+/;function Zq(n){let e=n.match(Qq);return e?e[0]:""}var WC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[bt]=new en(e,t)),i}parseSegment(){let e=BC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new Sc(z0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=qq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=BC(this.remaining);r&&(i=r,this.capture(i))}e[z0(t)]=z0(i)}parseQueryParam(e){let t=Yq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=Zq(this.remaining);o&&(i=o,this.capture(i))}let r=VL(t),s=VL(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=BC(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new he(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[bt]:new en([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}};function JL(n){return n.segments.length>0?new en([],{[bt]:n}):n}function eN(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=eN(r);if(i===bt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new en(n.segments,e);return Xq(t)}function Xq(n){if(n.numberOfChildren===1&&n.children[bt]){let e=n.children[bt];return new en(n.segments.concat(e.segments),e.children)}return n}function Sd(n){return n instanceof il}function Jq(n,e,t=null,i=null){let r=tN(n);return nN(r,e,t,i)}function tN(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new en(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=JL(i);return e??r}function nN(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return UC(r,r,r,t,i);let s=eK(e);if(s.toRoot())return UC(r,r,new en([],{}),t,i);let o=tK(s,r,n),a=o.processChildren?rp(o.segmentGroup,o.index,s.commands):rN(o.segmentGroup,o.index,s.commands);return UC(r,o.segmentGroup,a,t,i)}function H0(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function lp(n){return typeof n=="object"&&n!=null&&n.outlets}function UC(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=iN(n,e,t);let a=JL(eN(o));return new il(a,s,r)}function iN(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=iN(s,e,t)}),new en(n.segments,i)}var $0=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&H0(i[0]))throw new he(4003,!1);let r=i.find(lp);if(r&&r!==WL(i))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eK(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new $0(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new $0(t,e,i)}var Ed=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function tK(n,e,t){if(n.isAbsolute)return new Ed(e,!0,0);if(!t)return new Ed(e,!1,NaN);if(t.parent===null)return new Ed(t,!0,0);let i=H0(n.commands[0])?0:1,r=t.segments.length-1+i;return nK(t,r,n.numberOfDoubleDots)}function nK(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new he(4005,!1);r=i.segments.length}return new Ed(i,!1,r-s)}function iK(n){return lp(n[0])?n[0].outlets:{[bt]:n}}function rN(n,e,t){if(n??=new en([],{}),n.segments.length===0&&n.hasChildren())return rp(n,e,t);let i=rK(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new en(n.segments.slice(0,i.pathIndex),{});return s.children[bt]=new en(n.segments.slice(i.pathIndex),n.children),rp(s,0,r)}else return i.match&&r.length===0?new en(n.segments,{}):i.match&&!n.hasChildren()?qC(n,e,t):i.match?rp(n,0,r):qC(n,e,t)}function rp(n,e,t){if(t.length===0)return new en(n.segments,{});{let i=iK(t),r={};if(Object.keys(i).some(s=>s!==bt)&&n.children[bt]&&n.numberOfChildren===1&&n.children[bt].segments.length===0){let s=rp(n.children[bt],e,t);return new en(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=rN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new en(n.segments,r)}}function rK(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(lp(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!UL(l,c,o))return s;i+=2}else{if(!UL(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function qC(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(lp(s)){let l=sK(s.outlets);return new en(i,l)}if(r===0&&H0(t[0])){let l=n.segments[e];i.push(new Sc(l.path,BL(t[0]))),r++;continue}let o=lp(s)?s.outlets[bt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&H0(a)?(i.push(new Sc(o,BL(a))),r+=2):(i.push(new Sc(o,{})),r++)}return new en(i,{})}function sK(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=qC(new en([],{}),0,i))}),e}function BL(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function UL(n,e,t){return n==t.path&&no(e,t.parameters)}var sp="imperative",vi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vi||{}),ts=class{constructor(e,t){this.id=e,this.url=t}},Dd=class extends ts{constructor(e,t,i="imperative",r=null){super(e,t),this.type=vi.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nr=class extends ts{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=vi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lr||{}),G0=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(G0||{}),rl=class extends ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=vi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sl=class extends ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=vi.NavigationSkipped}},cp=class extends ts{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=vi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},W0=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=vi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KC=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=vi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YC=class extends ts{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=vi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},QC=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=vi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ZC=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=vi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},XC=class{constructor(e){this.route=e,this.type=vi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},JC=class{constructor(e){this.route=e,this.type=vi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eE=class{constructor(e){this.snapshot=e,this.type=vi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tE=class{constructor(e){this.snapshot=e,this.type=vi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nE=class{constructor(e){this.snapshot=e,this.type=vi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iE=class{constructor(e){this.snapshot=e,this.type=vi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q0=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=vi.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},up=class{},dp=class{constructor(e){this.url=e}};var rE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yp,this.attachRef=null}},yp=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new rE,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),K0=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=sE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=sE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=oE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return oE(e,this._root).map(t=>t.value)}};function sE(n,e){if(n===e.value)return e;for(let t of e.children){let i=sE(n,t);if(i)return i}return null}function oE(n,e){if(n===e.value)return[e];for(let t of e.children){let i=oE(n,t);if(i.length)return i.unshift(e),i}return[]}var Fr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Cd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Y0=class extends K0{constructor(e,t){super(e),this.snapshot=t,gE(this,e)}toString(){return this.snapshot.toString()}};function sN(n){let e=oK(n),t=new ni([new Sc("",{})]),i=new ni({}),r=new ni({}),s=new ni({}),o=new ni(""),a=new ns(t,i,s,o,r,bt,n,e.root);return a.snapshot=e.root,new Y0(new Fr(a,[]),e)}function oK(n){let e={},t={},i={},r="",s=new hp([],e,i,r,t,bt,n,null,{});return new Q0("",new Fr(s,[]))}var ns=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(st(c=>c[gp]))??He(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(st(e=>xd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(st(e=>xd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mE(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:oe(oe({},e.params),n.params),data:oe(oe({},e.data),n.data),resolve:oe(oe(oe(oe({},n.data),e.data),r?.data),n._resolvedData)}:i={params:oe({},n.params),data:oe({},n.data),resolve:oe(oe({},n.data),n._resolvedData??{})},r&&aN(r)&&(i.resolve[gp]=r.title),i}var hp=class{get title(){return this.data?.[gp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Q0=class extends K0{constructor(e,t){super(t),this.url=e,gE(this,t)}toString(){return oN(this._root)}};function gE(n,e){e.value._routerState=n,e.children.forEach(t=>gE(n,t))}function oN(n){let e=n.children.length>0?` { ${n.children.map(oN).join(", ")} } `:"";return`${n.value}${e}`}function jC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,no(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),no(e.params,t.params)||n.paramsSubject.next(t.params),Fq(e.url,t.url)||n.urlSubject.next(t.url),no(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aE(n,e){let t=no(n.params,e.params)&&Bq(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||aE(n.parent,e.parent))}function aN(n){return typeof n.title=="string"||n.title===null}var vp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=fe(yp),this.location=fe(bs),this.changeDetector=fe(wt),this.environmentInjector=fe(ji),this.inputBinder=fe(ey,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new lE(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hn]});let n=e;return n})(),lE=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ns?this.route:e===yp?this.childContexts:this.parent.get(e,t)}},ey=new Pe(""),jL=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Sf([r.queryParams,r.params,r.data]).pipe(hr(([o,a,l],c)=>(l=oe(oe(oe({},o),a),l),c===0?He(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=rL(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function aK(n,e,t){let i=fp(n,e._root,t?t._root:void 0);return new Y0(i,e)}function fp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=lK(n,e,t);return new Fr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fp(n,a)),o}}let i=cK(e.value),r=e.children.map(s=>fp(n,s));return new Fr(i,r)}}function lK(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fp(n,i,r);return fp(n,i)})}function cK(n){return new ns(new ni(n.url),new ni(n.params),new ni(n.queryParams),new ni(n.fragment),new ni(n.data),n.outlet,n.component,n)}var lN="ngNavigationCancelingError";function cN(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Sd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=uN(!1,Lr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function uN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[lN]=!0,t.cancellationCode=e,t}function uK(n){return dN(n)&&Sd(n.url)}function dN(n){return!!n&&n[lN]}var dK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ee({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(r,s){r&1&&W(0,"router-outlet")},dependencies:[vp],encapsulation:2});let n=e;return n})();function hK(n,e){return n.providers&&!n._injector&&(n._injector=o0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _E(n){let e=n.children&&n.children.map(_E),t=e?it(oe({},n),{children:e}):oe({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=dK),t}function io(n){return n.outlet||bt}function fK(n,e){let t=n.filter(i=>io(i)===e);return t.push(...n.filter(i=>io(i)!==e)),t}function wp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pK=(n,e,t,i)=>st(r=>(new cE(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),cE=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),jC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Cd(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Cd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Cd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Cd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new iE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tE(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(jC(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=wp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Z0=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Td=class{constructor(e,t){this.component=e,this.route=t}};function mK(n,e,t){let i=n._root,r=e?e._root:null;return np(i,r,t,[i.value])}function gK(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Rd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!SP(n)?n:e.get(n):i}function np(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Cd(e);return n.children.forEach(o=>{_K(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>op(a,t.getContext(o),r)),r}function _K(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=yK(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Z0(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?np(n,e,a?a.children:null,i,r):np(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Td(a.outlet.component,o))}else o&&op(e,a,r),r.canActivateChecks.push(new Z0(i)),s.component?np(n,null,a?a.children:null,i,r):np(n,null,t,i,r);return r}function yK(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Dc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dc(n.url,e.url)||!no(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aE(n,e)||!no(n.queryParams,e.queryParams);case"paramsChange":default:return!aE(n,e)}}function op(n,e,t){let i=Cd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?op(o,e.children.getContext(s),t):op(o,null,t):op(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Td(e.outlet.component,r)):t.canDeactivateChecks.push(new Td(null,r)):t.canDeactivateChecks.push(new Td(null,r))}function Ip(n){return typeof n=="function"}function vK(n){return typeof n=="boolean"}function wK(n){return n&&Ip(n.canLoad)}function IK(n){return n&&Ip(n.canActivate)}function bK(n){return n&&Ip(n.canActivateChild)}function CK(n){return n&&Ip(n.canDeactivate)}function EK(n){return n&&Ip(n.canMatch)}function hN(n){return n instanceof jo||n?.name==="EmptyError"}var B0=Symbol("INITIAL_VALUE");function Ad(){return hr(n=>Sf(n.map(e=>e.pipe(Ho(1),t_(B0)))).pipe(st(e=>{for(let t of e)if(t!==!0){if(t===B0)return B0;if(t===!1||t instanceof il)return t}return!0}),ii(e=>e!==B0),Ho(1)))}function TK(n,e){return qn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?He(it(oe({},t),{guardsResult:!0})):xK(o,i,r,n).pipe(qn(a=>a&&vK(a)?SK(i,s,n,e):He(a)),st(a=>it(oe({},t),{guardsResult:a})))})}function xK(n,e,t,i){return Ht(n).pipe(qn(r=>kK(r.component,r.route,t,e,i)),Ws(r=>r!==!0,!0))}function SK(n,e,t,i){return Ht(e).pipe(zo(r=>qu(AK(r.route.parent,i),DK(r.route,i),MK(n,r.path,t),RK(n,r.route,t))),Ws(r=>r!==!0,!0))}function DK(n,e){return n!==null&&e&&e(new nE(n)),He(!0)}function AK(n,e){return n!==null&&e&&e(new eE(n)),He(!0)}function RK(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return He(!0);let r=i.map(s=>Xg(()=>{let o=wp(e)??t,a=Rd(s,o),l=IK(a)?a.canActivate(e,n):Is(o,()=>a(e,n));return al(l).pipe(Ws())}));return He(r).pipe(Ad())}function MK(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gK(o)).filter(o=>o!==null).map(o=>Xg(()=>{let a=o.guards.map(l=>{let c=wp(o.node)??t,u=Rd(l,c),h=bK(u)?u.canActivateChild(i,n):Is(c,()=>u(i,n));return al(h).pipe(Ws())});return He(a).pipe(Ad())}));return He(s).pipe(Ad())}function kK(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return He(!0);let o=s.map(a=>{let l=wp(e)??r,c=Rd(a,l),u=CK(c)?c.canDeactivate(n,e,t,i):Is(l,()=>c(n,e,t,i));return al(u).pipe(Ws())});return He(o).pipe(Ad())}function PK(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return He(!0);let s=r.map(o=>{let a=Rd(o,n),l=wK(a)?a.canLoad(e,t):Is(n,()=>a(e,t));return al(l)});return He(s).pipe(Ad(),fN(i))}function fN(n){return kg(Kn(e=>{if(Sd(e))throw cN(n,e)}),st(e=>e===!0))}function OK(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return He(!0);let s=r.map(o=>{let a=Rd(o,n),l=EK(a)?a.canMatch(e,t):Is(n,()=>a(e,t));return al(l)});return He(s).pipe(Ad(),fN(i))}var pp=class{constructor(e){this.segmentGroup=e||null}},X0=class extends Error{constructor(e){super(),this.urlTree=e}};function bd(n){return Wu(new pp(n))}function FK(n){return Wu(new he(4e3,!1))}function LK(n){return Wu(uN(!1,Lr.GuardRejected))}var uE=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return He(i);if(r.numberOfChildren>1||!r.children[bt])return FK(e.redirectTo);r=r.children[bt]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new X0(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new il(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new en(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new he(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},dE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NK(n,e,t,i,r){let s=yE(n,e,t);return s.matched?(i=hK(e,i),OK(i,e,t,r).pipe(st(o=>o===!0?s:oe({},dE)))):He(s)}function yE(n,e,t){if(e.path==="**")return VK(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?oe({},dE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Oq)(t,n,e);if(!r)return oe({},dE);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?oe(oe({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function VK(n){return{matched:!0,parameters:n.length>0?WL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zL(n,e,t,i){return t.length>0&&jK(n,t,i)?{segmentGroup:new en(e,UK(i,new en(t,n.children))),slicedSegments:[]}:t.length===0&&zK(n,t,i)?{segmentGroup:new en(n.segments,BK(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new en(n.segments,n.children),slicedSegments:t}}function BK(n,e,t,i){let r={};for(let s of t)if(ty(n,e,s)&&!i[io(s)]){let o=new en([],{});r[io(s)]=o}return oe(oe({},i),r)}function UK(n,e){let t={};t[bt]=e;for(let i of n)if(i.path===""&&io(i)!==bt){let r=new en([],{});t[io(i)]=r}return t}function jK(n,e,t){return t.some(i=>ty(n,e,i)&&io(i)!==bt)}function zK(n,e,t){return t.some(i=>ty(n,e,i))}function ty(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function HK(n,e,t,i){return io(n)!==i&&(i===bt||!ty(e,t,n))?!1:yE(e,n,t).matched}function $K(n,e,t){return e.length===0&&!n.children[t]}var hE=class{};function GK(n,e,t,i,r,s,o="emptyOnly"){return new fE(n,e,t,i,r,o,s).recognize()}var WK=31,fE=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new uE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new he(4002,`'${e.segmentGroup}'`)}recognize(){let e=zL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(st(t=>{let i=new hp([],Object.freeze({}),Object.freeze(oe({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),r=new Fr(i,t),s=new Q0("",r),o=Jq(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,bt).pipe(Ha(i=>{if(i instanceof X0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof pp?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=mE(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(st(s=>s instanceof Fr?[s]:[]))}processChildren(e,t,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Ht(r).pipe(zo(s=>{let o=i.children[s],a=fK(t,s);return this.processSegmentGroup(e,a,o,s)}),e_((s,o)=>(s.push(...o),s)),$a(null),e1(),qn(s=>{if(s===null)return bd(i);let o=pN(s);return qK(o),He(o)}))}processSegment(e,t,i,r,s,o){return Ht(t).pipe(zo(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Ha(l=>{if(l instanceof pp)return He(null);throw l}))),Ws(a=>!!a),Ha(a=>{if(hN(a))return $K(i,r,s)?He(new hE):bd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return HK(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):bd(r):bd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=yE(t,r,s);if(!a)return bd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WK&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(qn(f=>this.processSegment(e,i,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){let o=NK(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),o.pipe(hr(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(hr(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:f}=a,p=new hp(u,f,Object.freeze(oe({},this.urlTree.queryParams)),this.urlTree.fragment,YK(i),io(i),i.component??i._loadedComponent??null,i,QK(i)),{segmentGroup:_,slicedSegments:I}=zL(t,u,h,l);if(I.length===0&&_.hasChildren())return this.processChildren(c,l,_).pipe(st(E=>E===null?null:new Fr(p,E)));if(l.length===0&&I.length===0)return He(new Fr(p,[]));let b=io(i)===s;return this.processSegment(c,l,_,I,b?bt:s,!0).pipe(st(E=>new Fr(p,E instanceof Fr?[E]:[])))}))):bd(t)))}getChildConfig(e,t,i){return t.children?He({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?He({routes:t._loadedRoutes,injector:t._loadedInjector}):PK(e,t,i,this.urlSerializer).pipe(qn(r=>r?this.configLoader.loadChildren(e,t).pipe(Kn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):LK(t))):He({routes:[],injector:e})}};function qK(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}function KK(n){let e=n.value.routeConfig;return e&&e.path===""}function pN(n){let e=[],t=new Set;for(let i of n){if(!KK(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=pN(i.children);e.push(new Fr(i.value,r))}return e.filter(i=>!t.has(i))}function YK(n){return n.data||{}}function QK(n){return n.resolve||{}}function ZK(n,e,t,i,r,s){return qn(o=>GK(n,e,t,i,o.extractedUrl,r,s).pipe(st(({state:a,tree:l})=>it(oe({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function XK(n,e){return qn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return He(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of mN(l))o.add(c);let a=0;return Ht(o).pipe(zo(l=>s.has(l)?JK(l,i,n,e):(l.data=mE(l,l.parent,n).resolve,He(void 0))),Kn(()=>a++),Ku(1),qn(l=>a===o.size?He(t):Dr))})}function mN(n){let e=n.children.map(t=>mN(t)).flat();return[n,...e]}function JK(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!aN(r)&&(s[gp]=r.title),eY(s,n,e,i).pipe(st(o=>(n._resolvedData=o,n.data=mE(n,n.parent,t).resolve,null)))}function eY(n,e,t,i){let r=$C(n);if(r.length===0)return He({});let s={};return Ht(r).pipe(qn(o=>tY(n[o],e,t,i).pipe(Ws(),Kn(a=>{s[o]=a}))),Ku(1),JI(s),Ha(o=>hN(o)?Dr:Wu(o)))}function tY(n,e,t,i){let r=wp(e)??i,s=Rd(n,r),o=s.resolve?s.resolve(e,t):Is(r,()=>s(e,t));return al(o)}function zC(n){return hr(e=>{let t=n(e);return t?Ht(t).pipe(st(()=>e)):He(e)})}var gN=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===bt);return r}getResolvedTitleForRoute(i){return i.data[gp]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(nY),providedIn:"root"});let n=e;return n})(),nY=(()=>{let e=class e extends gN{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Oe(LL))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bp=new Pe("",{providedIn:"root",factory:()=>({})}),mp=new Pe(""),vE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(f0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return He(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=al(i.loadComponent()).pipe(st(_N),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),ac(()=>{this.componentLoaders.delete(i)})),s=new ju(r,()=>new sn).pipe(Uu());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return He({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iY(r,this.compiler,i,this.onLoadEndListener).pipe(ac(()=>{this.childrenLoaders.delete(r)})),a=new ju(o,()=>new sn).pipe(Uu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function iY(n,e,t,i){return al(n.loadChildren()).pipe(st(_N),qn(r=>r instanceof Nf||Array.isArray(r)?He(r):Ht(e.compileModuleAsync(r))),st(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(mp,[],{optional:!0,self:!0}).flat()),{routes:o.map(_E),injector:s}}))}function rY(n){return n&&typeof n=="object"&&"default"in n}function _N(n){return rY(n)?n.default:n}var wE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(sY),providedIn:"root"});let n=e;return n})(),sY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),yN=new Pe(""),vN=new Pe("");function oY(n,e,t){let i=n.get(vN),r=n.get(It);return n.get(Ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),aY(n))),{onViewTransitionCreated:l}=i;return l&&Is(n,()=>l({transition:a,from:e,to:t})),o})}function aY(n){return new Promise(e=>{s0(e,{injector:n})})}var IE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn,this.transitionAbortSubject=new sn,this.configLoader=fe(vE),this.environmentInjector=fe(ji),this.urlSerializer=fe(_p),this.rootContexts=fe(yp),this.location=fe(wd),this.inputBindingEnabled=fe(ey,{optional:!0})!==null,this.titleStrategy=fe(gN),this.options=fe(bp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=fe(wE),this.createViewTransition=fe(yN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null;let i=s=>this.events.next(new XC(s)),r=s=>this.events.next(new JC(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(it(oe(oe({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ni({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(o=>o.id!==0),st(o=>it(oe({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),hr(o=>{let a=!1,l=!1;return He(o).pipe(hr(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Lr.SupersededByNewNavigation),Dr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?it(oe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&h!=="reload"){let f="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.rawUrl),f,G0.IgnoredSameUrlNavigation)),c.resolve(null),Dr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return He(c).pipe(hr(f=>{let p=this.transitions?.getValue();return this.events.next(new Dd(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Dr:Promise.resolve(f)}),ZK(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Kn(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=it(oe({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new W0(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:p,source:_,restoredState:I,extras:b}=c,E=new Dd(f,this.urlSerializer.serialize(p),_,I);this.events.next(E);let M=sN(this.rootComponentType).snapshot;return this.currentTransition=o=it(oe({},c),{targetSnapshot:M,urlAfterRedirects:p,extras:it(oe({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,He(o)}else{let f="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.extractedUrl),f,G0.IgnoredByUrlHandlingStrategy)),c.resolve(null),Dr}}),Kn(c=>{let u=new KC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),st(c=>(this.currentTransition=o=it(oe({},c),{guards:mK(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),TK(this.environmentInjector,c=>this.events.next(c)),Kn(c=>{if(o.guardsResult=c.guardsResult,Sd(c.guardsResult))throw cN(this.urlSerializer,c.guardsResult);let u=new YC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ii(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Lr.GuardRejected),!1)),zC(c=>{if(c.guards.canActivateChecks.length)return He(c).pipe(Kn(u=>{let h=new QC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),hr(u=>{let h=!1;return He(u).pipe(XK(this.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Lr.NoDataFromResolver)}}))}),Kn(u=>{let h=new ZC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),zC(c=>{let u=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(Kn(p=>{h.component=p}),st(()=>{})));for(let p of h.children)f.push(...u(p));return f};return Sf(u(c.targetSnapshot.root)).pipe($a(null),Ho(1))}),zC(()=>this.afterPreactivation()),hr(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Ht(h).pipe(st(()=>o)):He(o)}),st(c=>{let u=aK(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=it(oe({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Kn(()=>{this.events.next(new up)}),pK(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ho(1),Kn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),t1(this.transitionAbortSubject.pipe(Kn(c=>{throw c}))),ac(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Lr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ha(c=>{if(l=!0,dN(c))this.events.next(new rl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),uK(c)?this.events.next(new dp(c.url)):o.resolve(!1);else{this.events.next(new cp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Dr}))}))}cancelNavigationTransition(i,r,s){let o=new rl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lY(n){return n!==sp}var cY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(uY),providedIn:"root"});let n=e;return n})(),pE=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},uY=(()=>{let e=class e extends pE{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),wN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>fe(dY),providedIn:"root"});let n=e;return n})(),dY=(()=>{let e=class e extends wN{constructor(){super(...arguments),this.location=fe(wd),this.urlSerializer=fe(_p),this.options=fe(bp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=fe(wE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new il,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Dd)this.stateMemento=this.createStateMemento();else if(i instanceof sl)this.rawUrlTree=r.initialUrl;else if(i instanceof W0){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof up?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof rl&&(i.code===Lr.GuardRejected||i.code===Lr.NoDataFromResolver)?this.restoreHistory(r):i instanceof cp?this.restoreHistory(r,!0):i instanceof Nr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=oe(oe({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=oe(oe({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ip=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ip||{});function IN(n,e){n.events.pipe(ii(t=>t instanceof Nr||t instanceof rl||t instanceof cp||t instanceof sl),st(t=>t instanceof Nr||t instanceof sl?ip.COMPLETE:(t instanceof rl?t.code===Lr.Redirect||t.code===Lr.SupersededByNewNavigation:!1)?ip.REDIRECTING:ip.FAILED),ii(t=>t!==ip.REDIRECTING),Ho(1)).subscribe(()=>{e()})}function hY(n){throw n}var fY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=fe(d0),this.stateManager=fe(wN),this.options=fe(bp,{optional:!0})||{},this.pendingTasks=fe(Cc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=fe(IE),this.urlSerializer=fe(_p),this.location=fe(wd),this.urlHandlingStrategy=fe(wE),this._events=new sn,this.errorHandler=this.options.errorHandler||hY,this.navigated=!1,this.routeReuseStrategy=fe(cY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=fe(mp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!fe(ey,{optional:!0}),this.eventsSubscription=new Vn,this.isNgZoneEnabled=fe(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rl&&r.code!==Lr.Redirect&&r.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nr)this.navigated=!0;else if(r instanceof dp){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||lY(s.source)};this.scheduleNavigation(a,sp,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}gY(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=oe({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(_E),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=oe(oe({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let p=s?s.snapshot:this.routerState.snapshot.root;f=tN(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return nN(f,i,h,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Sd(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,sp,null,r)}navigate(i,r={skipLocationChange:!1}){return mY(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=oe({},fY):r===!1?s=oe({},pY):s=r,Sd(i))return NL(this.currentUrlTree,i,s);let o=this.parseUrl(i);return NL(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,p)=>{l=f,c=p});let h=this.pendingTasks.add();return IN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function mY(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new he(4008,!1)}function gY(n){return!(n instanceof up)&&!(n instanceof dp)}var ol=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new sn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:qO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(G(yi),G(ns),Vb("tabindex"),G(Jt),G(nt),G(ta))},e.\u0275dir=Nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&J("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&z("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[j.HasDecoratorInputTransform,"preserveFragment","preserveFragment",K],skipLocationChange:[j.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",K],replaceUrl:[j.HasDecoratorInputTransform,"replaceUrl","replaceUrl",K],routerLink:"routerLink"},standalone:!0,features:[Ct,hn]});let n=e;return n})(),ny=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof Nr&&this.update()})}ngAfterContentInit(){He(this.links.changes,He(null)).pipe(za()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ht(i).pipe(za()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=_Y(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(G(yi),G(nt),G(Jt),G(wt),G(ol,8))},e.\u0275dir=Nt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Bt(o,ol,5),r&2){let a;be(a=Ce())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[hn]});let n=e;return n})();function _Y(n){return!!n.paths}var J0=class{};var yY=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ii(i=>i instanceof Nr),zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=o0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ht(s).pipe(za())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=He(null);let o=s.pipe(qn(a=>a===null?He(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ht([o,a]).pipe(za())}else return o})}};e.\u0275fac=function(r){return new(r||e)(Oe(yi),Oe(f0),Oe(ji),Oe(J0),Oe(vE))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bN=new Pe(""),vY=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=fe(ji),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Dd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Nr?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof sl&&i.code===G0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof q0&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>H(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),s0(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new q0(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){aF()},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function CN(n,...e){return hd([{provide:mp,multi:!0,useValue:n},[],{provide:ns,useFactory:EN,deps:[yi]},{provide:qf,multi:!0,useFactory:TN},e.map(t=>t.\u0275providers)])}function EN(n){return n.routerState.root}function Cp(n,e){return{\u0275kind:n,\u0275providers:e}}function TN(){let n=fe(mi);return e=>{let t=n.get(yd);if(e!==t.components[0])return;let i=n.get(yi),r=n.get(xN);n.get(bE)===1&&i.initialNavigation(),n.get(SN,null,Dt.Optional)?.setUpPreloading(),n.get(bN,null,Dt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var xN=new Pe("",{factory:()=>new sn}),bE=new Pe("",{providedIn:"root",factory:()=>1});function wY(){return Cp(2,[{provide:bE,useValue:0},{provide:h0,multi:!0,deps:[mi],useFactory:e=>{let t=e.get(fL,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(yi),s=e.get(xN);IN(r,()=>{i(!0)}),e.get(IE).afterPreactivation=()=>(i(!0),s.closed?He(void 0):s),r.initialNavigation()}))}}])}function IY(){return Cp(3,[{provide:h0,multi:!0,useFactory:()=>{let e=fe(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:bE,useValue:2}])}var SN=new Pe("");function bY(n){return Cp(0,[{provide:SN,useExisting:yY},{provide:J0,useExisting:n}])}function CY(){return Cp(8,[jL,{provide:ey,useExisting:jL}])}function EY(n){let e=[{provide:yN,useValue:oY},{provide:vN,useValue:oe({skipNextTransition:!!n?.skipInitialTransition},n)}];return Cp(9,e)}var HL=new Pe("ROUTER_FORROOT_GUARD"),TY=[wd,{provide:_p,useClass:ap},yi,yp,{provide:ns,useFactory:EN,deps:[yi]},vE,[]],ll=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[TY,[],{provide:mp,multi:!0,useValue:i},{provide:HL,useFactory:AY,deps:[[yi,new Mi,new B_]]},{provide:bp,useValue:r||{}},r?.useHash?SY():DY(),xY(),r?.preloadingStrategy?bY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RY(r):[],r?.bindToComponentInputs?CY().\u0275providers:[],r?.enableViewTransitions?EY().\u0275providers:[],MY()]}}static forChild(i){return{ngModule:e,providers:[{provide:mp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(Oe(HL,8))},e.\u0275mod=Me({type:e}),e.\u0275inj=Re({});let n=e;return n})();function xY(){return{provide:bN,useFactory:()=>{let n=fe(vL),e=fe(Ke),t=fe(bp),i=fe(IE),r=fe(_p);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vY(r,i,n,e,t)}}}function SY(){return{provide:ta,useClass:mL}}function DY(){return{provide:ta,useClass:TC}}function AY(n){return"guarded"}function RY(n){return[n.initialNavigation==="disabled"?IY().\u0275providers:[],n.initialNavigation==="enabledBlocking"?wY().\u0275providers:[]]}var $L=new Pe("");function MY(){return[{provide:$L,useFactory:TN},{provide:qf,multi:!0,useExisting:$L}]}var iy=[{label:"Sabato Sera",option:"24-sera"},{label:"Domenica Mattina",option:"25-mattina"},{label:"Domenica Sera",option:"25-sera"},{label:"Luned\xEC Sera",option:"26-sera"}];var ne=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return oe(oe({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},DN=0;function Ut(n="pn_id_"){return DN++,`${n}${DN}`}function kY(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var Un=kY();var wi=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),CE=(()=>{class n{static AND="and";static OR="or"}return n})(),ry=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let c of i){let u=ne.resolveFieldData(l,c);if(this.filters[s](u,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=ne.removeAccents(i.toString()).toLocaleLowerCase(r);return ne.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=ne.removeAccents(i.toString()).toLocaleLowerCase(r);return ne.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=ne.removeAccents(i.toString()).toLocaleLowerCase(r);return ne.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=ne.removeAccents(i.toString()).toLocaleLowerCase(r),o=ne.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:ne.removeAccents(t.toString()).toLocaleLowerCase(r)==ne.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:ne.removeAccents(t.toString()).toLocaleLowerCase(r)!=ne.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(ne.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cl=(()=>{class n{clickSource=new sn;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pn=(()=>{class n{ripple=!1;inputStyle=Rn("outlined");overlayOptions={};csp=Rn({nonce:void 0});filterMatchModeOptions={text:[wi.STARTS_WITH,wi.CONTAINS,wi.NOT_CONTAINS,wi.ENDS_WITH,wi.EQUALS,wi.NOT_EQUALS],numeric:[wi.EQUALS,wi.NOT_EQUALS,wi.LESS_THAN,wi.LESS_THAN_OR_EQUAL_TO,wi.GREATER_THAN,wi.GREATER_THAN_OR_EQUAL_TO],date:[wi.DATE_IS,wi.DATE_IS_NOT,wi.DATE_BEFORE,wi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new sn;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=oe(oe({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ot=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(G(ws))};static \u0275dir=Nt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[j.None,"pTemplate","name"]},standalone:!0})}return n})(),Xe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({})}return n})(),jn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var L=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=M=>{if(M)return getComputedStyle(M).getPropertyValue("position")==="relative"?M:s(M.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),p=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u},_,I;l.top+a+o.height>h.height?(_=l.top-p.top-o.height,t.style.transformOrigin="bottom",l.top+_<0&&(_=-1*l.top)):(_=a+l.top-p.top,t.style.transformOrigin="top");let b=l.left+o.width-h.width,E=l.left-p.left;o.width>h.width?I=(l.left-p.left)*-1:b>0?I=E-b:I=l.left-p.left,t.style.top=_+"px",t.style.left=I+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),h=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),_,I;u.top+l+o>p.height?(_=u.top+h-o,t.style.transformOrigin="bottom",_<0&&(_=h)):(_=l+u.top+h,t.style.transformOrigin="top"),u.left+a>p.width?I=Math.max(0,u.left+f+c-a):I=u.left+f,t.style.top=_+"px",t.style.left=I+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,f=t.clientHeight,p=this.getOuterHeight(i);u<0?t.scrollTop=h+u:u+p>f&&(t.scrollTop=h+u-f+p)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let h=Array.isArray(c)?r(s,c):Object.entries(c).map(([f,p])=>s==="style"&&(p||p===0)?`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?f:void 0);l=h.length?l.concat(h.filter(f=>!!f)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Es=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=L.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var PY=["*"],Be=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=ne.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ee({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[j.HasDecoratorInputTransform,"spin","spin",K],styleClass:"styleClass"},standalone:!0,features:[Ct,ye],ngContentSelectors:PY,decls:1,vars:0,template:function(i,r){i&1&&(si(),Qn(0))},encapsulation:2,changeDetection:0})}return n})();var kd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Pd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var $i=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){nn(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(L.removeClass(i,"p-ink-active"),!L.getHeight(i)&&!L.getWidth(i)){let a=Math.max(L.getOuterWidth(this.el.nativeElement),L.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=L.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-L.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-L.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),L.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&L.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&L.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),L.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,L.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(Jt),G(nt),G(Ke),G(pn,8))};static \u0275dir=Nt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),gr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({})}return n})();var Od=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Ut()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){nn(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=oe(oe({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(L.hasClass(t.relatedTarget,"p-tooltip")||L.hasClass(t.relatedTarget,"p-tooltip-text")||L.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?L.appendChild(this.container,this.el.nativeElement):L.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),L.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?Un.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Un.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof ws){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+L.getWindowScrollLeft(),r=t.top+L.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+L.getOuterWidth(t),s=i.top+(L.getOuterHeight(t)-L.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?L.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-L.getOuterWidth(this.container),r=t.top+(L.getOuterHeight(this.el.nativeElement)-L.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top-L.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top+L.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=oe(oe({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return L.hasClass(t,"p-inputwrapper")?L.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),a=L.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Es(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):L.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Un.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(G(Gt),G(nt),G(Ke),G(pn),G(Jt),G(bs))};static \u0275dir=Nt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&J("keydown.escape",function(o){return r.onPressEscape(o)},!1,KO)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[j.HasDecoratorInputTransform,"escape","escape",K],showDelay:[j.HasDecoratorInputTransform,"showDelay","showDelay",Ve],hideDelay:[j.HasDecoratorInputTransform,"hideDelay","hideDelay",Ve],life:[j.HasDecoratorInputTransform,"life","life",Ve],positionTop:[j.HasDecoratorInputTransform,"positionTop","positionTop",Ve],positionLeft:[j.HasDecoratorInputTransform,"positionLeft","positionLeft",Ve],autoHide:[j.HasDecoratorInputTransform,"autoHide","autoHide",K],fitContent:[j.HasDecoratorInputTransform,"fitContent","fitContent",K],hideOnEscape:[j.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",K],content:[j.None,"pTooltip","content"],disabled:[j.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ct,hn]})}return n})(),ul=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht]})}return n})();var OY=["content"],FY=["navbar"],LY=["inkbar"],NY=["prevBtn"],VY=["nextBtn"],BY=["tabLink"],UY=["tab"],jY=n=>({"p-tabmenu p-component":!0,"p-tabmenu-scrollable":n}),zY=(n,e,t)=>({"p-tabmenuitem":!0,"p-disabled":n,"p-highlight":e,"p-hidden":t}),HY=(n,e)=>({$implicit:n,index:e}),$Y=()=>({exact:!1});function GY(n,e){n&1&&W(0,"ChevronLeftIcon"),n&2&&z("aria-hidden",!0)}function WY(n,e){}function qY(n,e){n&1&&D(0,WY,0,0,"ng-template")}function KY(n,e){if(n&1){let t=pe();x(0,"button",17,3),J("click",function(){B(t);let r=v();return U(r.navBackward())}),D(2,GY,1,1,"ChevronLeftIcon",18)(3,qY,1,0,null,19),A()}if(n&2){let t=v();y(2),g("ngIf",!t.previousIconTemplate),y(),g("ngTemplateOutlet",t.previousIconTemplate)}}function YY(n,e){if(n&1&&W(0,"span",28),n&2){let t=v(2).$implicit;g("ngClass",t.icon)("ngStyle",t.iconStyle)}}function QY(n,e){if(n&1&&(x(0,"span",29),ce(1),A()),n&2){let t=v(2).$implicit,i=v();y(),$e(i.getItemProp(t,"label"))}}function ZY(n,e){if(n&1&&W(0,"span",30),n&2){let t=v(2).$implicit,i=v();g("innerHTML",i.getItemProp(t,"label"),md)}}function XY(n,e){if(n&1&&(x(0,"span",31),ce(1),A()),n&2){let t=v(2).$implicit,i=v();g("ngClass",t.badgeStyleClass),y(),$e(i.getItemProp(t,"badge"))}}function JY(n,e){if(n&1&&(x(0,"a",24,5),ae(2),D(3,YY,1,2,"span",25)(4,QY,2,1,"span",26)(5,ZY,1,1,"ng-template",null,6,an)(7,XY,2,2,"span",27),le(),A()),n&2){let t=Mt(6),i=v().$implicit,r=v();g("target",r.getItemProp(i,"target")),z("href",r.getItemProp(i,"url"),bc)("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),y(3),g("ngIf",i.icon),y(),g("ngIf",i.escape!==!1)("ngIfElse",t),y(3),g("ngIf",i.badge)}}function eQ(n,e){if(n&1&&W(0,"span",28),n&2){let t=v(2).$implicit;g("ngClass",t.icon)("ngStyle",t.iconStyle),z("aria-hidden",!0)}}function tQ(n,e){if(n&1&&(x(0,"span",29),ce(1),A()),n&2){let t=v(2).$implicit,i=v();y(),$e(i.getItemProp(t,"label"))}}function nQ(n,e){if(n&1&&W(0,"span",30),n&2){let t=v(2).$implicit,i=v();g("innerHTML",i.getItemProp(t,"label"),md)}}function iQ(n,e){if(n&1&&(x(0,"span",31),ce(1),A()),n&2){let t=v(2).$implicit,i=v();g("ngClass",t.badgeStyleClass),y(),$e(i.getItemProp(t,"badge"))}}function rQ(n,e){if(n&1&&(x(0,"a",32,5),ae(2),D(3,eQ,1,3,"span",25)(4,tQ,2,1,"span",26)(5,nQ,1,1,"ng-template",null,7,an)(7,iQ,2,2,"span",27),le(),A()),n&2){let t=Mt(6),i=v().$implicit,r=v();g("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||oi(19,$Y))("target",i.target)("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),z("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),y(3),g("ngIf",i.icon),y(),g("ngIf",i.escape!==!1)("ngIfElse",t),y(3),g("ngIf",i.badge)}}function sQ(n,e){n&1&&ge(0)}function oQ(n,e){if(n&1){let t=pe();x(0,"li",20,4),J("click",function(r){let s=B(t).$implicit,o=v();return U(o.itemClick(r,s))})("keydown",function(r){let s=B(t),o=s.$implicit,a=s.index,l=v();return U(l.onKeydownItem(r,a,o))})("focus",function(){let r=B(t).$implicit,s=v();return U(s.onMenuItemFocus(r))}),D(2,JY,8,10,"a",21)(3,rQ,8,20,"a",22)(4,sQ,1,0,"ng-container",23),A()}if(n&2){let t=e.$implicit,i=e.index,r=v();se(t.styleClass),g("ngStyle",t.style)("ngClass",ai(11,zY,r.getItemProp(t,"disabled"),r.isActive(t),t.visible===!1))("tooltipOptions",t.tooltipOptions),z("data-p-disabled",r.disabled(t))("data-p-highlight",r.focusedItemInfo()===t),y(2),g("ngIf",!t.routerLink&&!r.itemTemplate),y(),g("ngIf",t.routerLink&&!r.itemTemplate),y(),g("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tn(15,HY,t,i))}}function aQ(n,e){n&1&&W(0,"ChevronRightIcon"),n&2&&z("aria-hidden",!0)}function lQ(n,e){}function cQ(n,e){n&1&&D(0,lQ,0,0,"ng-template")}function uQ(n,e){if(n&1){let t=pe();x(0,"button",33,8),J("click",function(){B(t);let r=v();return U(r.navForward())}),D(2,aQ,1,1,"ChevronRightIcon",18)(3,cQ,1,0,null,19),A()}if(n&2){let t=v();y(2),g("ngIf",!t.previousIconTemplate),y(),g("ngTemplateOutlet",t.nextIconTemplate)}}var AN=(()=>{class n{platformId;router;route;cd;set model(t){this._model=t,this._focusableItems=(this._model||[]).reduce((i,r)=>(i.push(r),i),[])}get model(){return this._model}set activeItem(t){this._activeItem=t,this.activeItemChange.emit(t),this.tabChanged=!0}get activeItem(){return this._activeItem}scrollable;popup;style;styleClass;ariaLabel;ariaLabelledBy;activeItemChange=new X;content;navbar;inkbar;prevBtn;nextBtn;tabLink;tab;templates;itemTemplate;previousIconTemplate;nextIconTemplate;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;timerIdForAutoScroll=null;_focusableItems;_model;_activeItem;focusedItemInfo=Rn(null);get focusableItems(){return(!this._focusableItems||!this._focusableItems.length)&&(this._focusableItems=(this.model||[]).reduce((t,i)=>(t.push(i),t),[])),this._focusableItems}constructor(t,i,r,s){this.platformId=t,this.router=i,this.route=r,this.cd=s,this.router.events.pipe(ii(o=>o instanceof Nr)).subscribe(o=>{this.cd.markForCheck()})}ngOnChanges(t){t.activeItem&&this.autoScrollForActiveItem()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){nn(this.platformId)&&(this.updateInkBar(),this.autoScrollForActiveItem(),this.initButtonState())}ngAfterViewChecked(){nn(this.platformId)&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.clearAutoScrollHandler()}isActive(t){if(t.routerLink){let i=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(i,{relativeTo:this.route}).toString(),t.routerLinkActiveOptions?.exact??t.routerLinkActiveOptions??!1)}return t===this.activeItem}getItemProp(t,i){return t?ne.getItemValue(t[i]):void 0}visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1}disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled}onMenuItemFocus(t){this.focusedItemInfo.set(t)}itemClick(t,i){if(i.disabled){t.preventDefault();return}!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.activeItem=i,this.tabChanged=!0,this.cd.markForCheck()}onKeydownItem(t,i,r){let s=i,o={},a=this.tabLink.toArray(),l=this.tab.toArray();switch(t.code){case"ArrowRight":o=this.findNextItem(l,s),s=o.i;break;case"ArrowLeft":o=this.findPrevItem(l,s),s=o.i;break;case"End":o=this.findPrevItem(l,this.model.length),s=o.i,t.preventDefault();break;case"Home":o=this.findNextItem(l,-1),s=o.i,t.preventDefault();break;case"Space":case"Enter":this.itemClick(t,r);break;case"Tab":this.onTabKeyDown(a);break;default:break}a[s]&&a[i]&&(a[i].nativeElement.tabIndex="-1",a[s].nativeElement.tabIndex="0",a[s].nativeElement.focus()),this.cd.markForCheck()}onTabKeyDown(t){t.forEach(i=>{i.nativeElement.tabIndex=L.getAttribute(i.nativeElement.parentElement,"data-p-highlight")?"0":"-1"})}findNextItem(t,i){let r=i+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let s=t[r];return s?L.getAttribute(s.nativeElement,"data-p-disabled")?this.findNextItem(t,r):{nextItem:s.nativeElement,i:r}:null}findPrevItem(t,i){let r=i-1;if(r<0)return{prevItem:t[0],i:0};let s=t[r];return s?L.getAttribute(s.nativeElement,"data-p-disabled")?this.findPrevItem(t,r):{prevItem:s.nativeElement,i:r}:null}updateInkBar(){let t=L.findSingle(this.navbar?.nativeElement,"li.p-highlight");t&&(this.inkbar.nativeElement.style.width=L.getWidth(t)+"px",this.inkbar.nativeElement.style.left=L.getOffset(t).left-L.getOffset(this.navbar?.nativeElement).left+"px")}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+L.getWidth(i):t,0)}updateButtonState(){let t=this.content?.nativeElement,{scrollLeft:i,scrollWidth:r}=t,s=L.getWidth(t);this.backwardIsDisabled=i===0,this.forwardIsDisabled=parseInt(i)===r-s}updateScrollBar(t){let i=this.navbar?.nativeElement.children[t];i&&i&&typeof i.scrollIntoView=="function"&&i.scrollIntoView({block:"nearest",inline:"center"})}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}navBackward(){let t=this.content?.nativeElement,i=L.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft-i;t.scrollLeft=r<=0?0:r}navForward(){let t=this.content?.nativeElement,i=L.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft+i,s=t.scrollWidth-i;t.scrollLeft=r>=s?s:r}autoScrollForActiveItem(){this.scrollable&&(this.clearAutoScrollHandler(),this.timerIdForAutoScroll=setTimeout(()=>{let t=this.model.findIndex(i=>this.isActive(i));t!==-1&&this.updateScrollBar(t)}))}clearAutoScrollHandler(){this.timerIdForAutoScroll&&(clearTimeout(this.timerIdForAutoScroll),this.timerIdForAutoScroll=null)}initButtonState(){this.scrollable&&Promise.resolve().then(()=>{this.updateButtonState(),this.cd.markForCheck()})}static \u0275fac=function(i){return new(i||n)(G(Gt),G(yi),G(ns),G(wt))};static \u0275cmp=ee({type:n,selectors:[["p-tabMenu"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(OY,5),We(FY,5),We(LY,5),We(NY,5),We(VY,5),We(BY,5),We(UY,5)),i&2){let s;be(s=Ce())&&(r.content=s.first),be(s=Ce())&&(r.navbar=s.first),be(s=Ce())&&(r.inkbar=s.first),be(s=Ce())&&(r.prevBtn=s.first),be(s=Ce())&&(r.nextBtn=s.first),be(s=Ce())&&(r.tabLink=s),be(s=Ce())&&(r.tab=s)}},hostAttrs:[1,"p-element"],inputs:{model:"model",activeItem:"activeItem",scrollable:[j.HasDecoratorInputTransform,"scrollable","scrollable",K],popup:[j.HasDecoratorInputTransform,"popup","popup",K],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{activeItemChange:"activeItemChange"},features:[Ct,hn],decls:11,vars:11,consts:[["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["tab",""],["tabLink",""],["htmlLabel",""],["htmlRouteLabel",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabmenu-nav-container"],["class","p-tabmenu-nav-prev p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],[1,"p-tabmenu-nav-content",3,"scroll"],["role","menubar",1,"p-tabmenu-nav","p-reset"],["role","presentation","pTooltip","",3,"ngStyle","class","ngClass","tooltipOptions","click","keydown","focus",4,"ngFor","ngForOf"],["role","none",1,"p-tabmenu-ink-bar"],["class","p-tabmenu-nav-next p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-prev","p-tabmenu-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation","pTooltip","",3,"click","keydown","focus","ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"target",4,"ngIf"],["role","menuitem","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"target"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-next","p-tabmenu-nav-btn","p-link",3,"click"]],template:function(i,r){if(i&1){let s=pe();x(0,"div",9)(1,"div",10),D(2,KY,4,2,"button",11),x(3,"div",12,0),J("scroll",function(a){return B(s),U(r.onScroll(a))}),x(5,"ul",13,1),D(7,oQ,5,18,"li",14),W(8,"li",15,2),A()(),D(10,uQ,4,2,"button",16),A()()}i&2&&(se(r.styleClass),g("ngClass",Se(9,jY,r.scrollable))("ngStyle",r.style),y(2),g("ngIf",r.scrollable&&!r.backwardIsDisabled),y(3),z("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel),y(2),g("ngForOf",r.focusableItems),y(3),g("ngIf",r.scrollable&&!r.forwardIsDisabled))},dependencies:()=>[kt,gi,St,Vt,Pt,ol,ny,$i,Od,kd,Pd],styles:[`@layer primeng{.p-tabmenu-nav-container{position:relative}.p-tabmenu-scrollable .p-tabmenu-nav-container{overflow:hidden}.p-tabmenu-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabmenu-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabmenu-nav-prev{left:0}.p-tabmenu-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabmenu-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:nowrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1;white-space:nowrap}.p-tabmenu-ink-bar{display:none;z-index:1}.p-tabmenu-nav-content::-webkit-scrollbar{display:none}.p-tabmenuitem:not(.p-hidden){display:flex}}
`],encapsulation:2,changeDetection:0})}return n})(),RN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,ll,Xe,gr,ul,kd,Pd,ll,Xe,ul]})}return n})();var MN=(()=>{let e=class e{constructor(i){this.router=i,this.tabs=[]}ngOnInit(){this.tabs=iy,this.activeItem=this.whatActiveItem(),this.router.navigate([`home/${this.activeItem.option}`])}whatActiveItem(){let i=new Date;return i.getDate()<=24?this.tabs[0]:i.getDate()===25?i.getHours()<=18?this.tabs[1]:this.tabs[2]:this.tabs[3]}onActiveItemChange(i){this.activeItem=i,this.router.navigate([`home/${this.activeItem.option}`])}};e.\u0275fac=function(r){return new(r||e)(G(yi))},e.\u0275cmp=ee({type:e,selectors:[["app-tab"]],standalone:!0,features:[ye],decls:1,vars:2,consts:[[3,"activeItemChange","model","activeItem"]],template:function(r,s){r&1&&(x(0,"p-tabMenu",0),J("activeItemChange",function(a){return s.onActiveItemChange(a)}),A()),r&2&&g("model",s.tabs)("activeItem",s.activeItem)},dependencies:[RN,AN],styles:["[_nghost-%COMP%]     .p-tabmenu-nav{display:flex;justify-content:center}@media (max-width: 630px){[_nghost-%COMP%]     .p-tabmenu-nav{justify-content:unset}}[_nghost-%COMP%]     .p-tabmenu .p-tabmenu-nav .p-tabmenuitem.p-highlight .p-menuitem-link{border-color:var(--verde);color:var(--verde)}"]});let n=e;return n})();var kN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ee({type:e,selectors:[["app-home"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,s){r&1&&W(0,"app-tab")(1,"router-outlet")},dependencies:[vp,MN]});let n=e;return n})();var jN=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(G(Jt),G(nt))},e.\u0275dir=Nt({type:e});let n=e;return n})(),hQ=(()=>{let e=class e extends jN{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275dir=Nt({type:e,features:[ke]});let n=e;return n})(),li=new Pe("");var fQ={provide:li,useExisting:Cn(()=>hy),multi:!0};function pQ(){let n=ea()?ea().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var mQ=new Pe(""),hy=(()=>{let e=class e extends jN{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pQ())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(G(Jt),G(nt),G(mQ,8))},e.\u0275dir=Nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&J("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[yn([fQ]),ke]});let n=e;return n})();function dl(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function zN(n){return n!=null&&typeof n.length=="number"}var AE=new Pe(""),RE=new Pe(""),gQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ld=class{static min(e){return _Q(e)}static max(e){return yQ(e)}static required(e){return vQ(e)}static requiredTrue(e){return wQ(e)}static email(e){return IQ(e)}static minLength(e){return bQ(e)}static maxLength(e){return CQ(e)}static pattern(e){return EQ(e)}static nullValidator(e){return HN(e)}static compose(e){return YN(e)}static composeAsync(e){return ZN(e)}};function _Q(n){return e=>{if(dl(e.value)||dl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function yQ(n){return e=>{if(dl(e.value)||dl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function vQ(n){return dl(n.value)?{required:!0}:null}function wQ(n){return n.value===!0?null:{required:!0}}function IQ(n){return dl(n.value)||gQ.test(n.value)?null:{email:!0}}function bQ(n){return e=>dl(e.value)||!zN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function CQ(n){return e=>zN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function EQ(n){if(!n)return HN;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(dl(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function HN(n){return null}function $N(n){return n!=null}function GN(n){return Tc(n)?Ht(n):n}function WN(n){let e={};return n.forEach(t=>{e=t!=null?oe(oe({},e),t):e}),Object.keys(e).length===0?null:e}function qN(n,e){return e.map(t=>t(n))}function TQ(n){return!n.validate}function KN(n){return n.map(e=>TQ(e)?e:t=>e.validate(t))}function YN(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){return WN(qN(t,e))}}function QN(n){return n!=null?YN(KN(n)):null}function ZN(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){let i=qN(t,e).map(GN);return QI(i).pipe(st(WN))}}function XN(n){return n!=null?ZN(KN(n)):null}function PN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JN(n){return n._rawValidators}function e3(n){return n._rawAsyncValidators}function TE(n){return n?Array.isArray(n)?n:[n]:[]}function oy(n,e){return Array.isArray(n)?n.includes(e):n===e}function ON(n,e){let t=TE(e);return TE(n).forEach(r=>{oy(t,r)||t.push(r)}),t}function FN(n,e){return TE(e).filter(t=>!oy(n,t))}var ay=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Rc=class extends ay{get formDirective(){return null}get path(){return null}},na=class extends ay{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ly=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},xQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$Ee=it(oe({},xQ),{"[class.ng-submitted]":"isSubmitted"}),Vd=(()=>{let e=class e extends ly{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(G(na,2))},e.\u0275dir=Nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Yn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ke]});let n=e;return n})(),t3=(()=>{let e=class e extends ly{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(G(Rc,10))},e.\u0275dir=Nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Yn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[ke]});let n=e;return n})();var Ep="VALID",sy="INVALID",Fd="PENDING",Tp="DISABLED";function ME(n){return(fy(n)?n.validators:n)||null}function SQ(n){return Array.isArray(n)?QN(n):n||null}function kE(n,e){return(fy(e)?e.asyncValidators:n)||null}function DQ(n){return Array.isArray(n)?XN(n):n||null}function fy(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function n3(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new he(1e3,"");if(!i[t])throw new he(1001,"")}function i3(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new he(1002,"")})}var Nd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ep}get invalid(){return this.status===sy}get pending(){return this.status==Fd}get disabled(){return this.status===Tp}get enabled(){return this.status!==Tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ON(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ON(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FN(e,this._rawAsyncValidators))}hasValidator(e){return oy(this._rawValidators,e)}hasAsyncValidator(e){return oy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fd,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tp,this.errors=null,this._forEachChild(i=>{i.disable(it(oe({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(oe({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ep,this._forEachChild(i=>{i.enable(it(oe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(it(oe({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ep||this.status===Fd)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tp:Ep}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fd,this._hasOwnPendingAsyncValidator=!0;let t=GN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Tp:this.errors?sy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fd)?Fd:this._anyControlsHaveStatus(sy)?sy:Ep}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=DQ(this._rawAsyncValidators)}},cy=class extends Nd{constructor(e,t,i){super(ME(t),kE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i3(this,!0,e),Object.keys(e).forEach(i=>{n3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xE=class extends cy{};var py=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>my}),my="always";function r3(n,e){return[...e.path,n]}function SE(n,e,t=my){PE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),RQ(n,e),kQ(n,e),MQ(n,e),AQ(n,e)}function LN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),dy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function uy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AQ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function PE(n,e){let t=JN(n);e.validator!==null?n.setValidators(PN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=e3(n);e.asyncValidator!==null?n.setAsyncValidators(PN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();uy(e._rawValidators,r),uy(e._rawAsyncValidators,r)}function dy(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=JN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=e3(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return uy(e._rawValidators,i),uy(e._rawAsyncValidators,i),t}function RQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&s3(n,e)})}function MQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&s3(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function s3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kQ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function PQ(n,e){n==null,PE(n,e)}function OQ(n,e){return dy(n,e)}function o3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function FQ(n){return Object.getPrototypeOf(n.constructor)===hQ}function LQ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function a3(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===hy?t=s:FQ(s)?i=s:r=s}),r||i||t||null}function NQ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function NN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function VN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xp=class extends Nd{constructor(e=null,t,i){super(ME(t),kE(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(VN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){VN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VQ=n=>n instanceof xp;var BQ={provide:na,useExisting:Cn(()=>Mc)},BN=Promise.resolve(),Mc=(()=>{let e=class e extends na{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new xp,this._registered=!1,this.name="",this.update=new X,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=a3(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),o3(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){SE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){BN.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&K(r);BN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?r3(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(G(Rc,9),G(AE,10),G(RE,10),G(li,10),G(wt,8),G(py,8))},e.\u0275dir=Nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"],options:[j.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([BQ]),ke,hn]});let n=e;return n})(),l3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var c3=new Pe("");var UQ={provide:Rc,useExisting:Cn(()=>OE)},OE=(()=>{let e=class e extends Rc{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return SE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){LN(i.control||null,i,!1),NQ(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,LQ(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(LN(r||null,i),VQ(s)&&(SE(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);PQ(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&OQ(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PE(this.form,this),this._oldForm&&dy(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(G(AE,10),G(RE,10),G(py,8))},e.\u0275dir=Nt({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&J("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[j.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([UQ]),ke,hn]});let n=e;return n})();var jQ={provide:na,useExisting:Cn(()=>FE)},FE=(()=>{let e=class e extends na{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=a3(this,o)}ngOnChanges(i){this._added||this._setUpControl(),o3(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return r3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(G(Rc,13),G(AE,10),G(RE,10),G(li,10),G(c3,8))},e.\u0275dir=Nt({type:e,selectors:[["","formControlName",""]],inputs:{name:[j.None,"formControlName","name"],isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([jQ]),ke,hn]});let n=e;return n})();var u3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Re({});let n=e;return n})(),DE=class extends Nd{constructor(e,t,i){super(ME(t),kE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){i3(this,!1,e),e.forEach((i,r)=>{n3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function UN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var d3=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return UN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cy(s,o)}record(i,r=null){let s=this._reduceControls(i);return new xE(s,r)}control(i,r,s){let o={};return this.useNonNullable?(UN(r)?o=r:(o.validators=r,o.asyncValidators=s),new xp(i,it(oe({},o),{nonNullable:!0}))):new xp(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new DE(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof xp)return i;if(i instanceof Nd)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var kc=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:py,useValue:i.callSetDisabledState??my}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Re({imports:[u3]});let n=e;return n})(),h3=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:c3,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:py,useValue:i.callSetDisabledState??my}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Re({imports:[u3]});let n=e;return n})();var hl=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,s){this.el=t,this.ngModel=i,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(G(nt),G(Mc,8),G(wt),G(pn))};static \u0275dir=Nt({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&J("input",function(o){return r.onInput(o)}),i&2&&Yn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),is=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht]})}return n})();var zQ=["*"],f3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ee({type:n,selectors:[["p-floatLabel"]],ngContentSelectors:zQ,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,r){i&1&&(si(),x(0,"span",0),Qn(1),A())},encapsulation:2,changeDetection:0})}return n})(),p3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe,ll,Xe]})}return n})();var at=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(at||{}),ro="*";function Bd(n,e){return{type:at.Trigger,name:n,definitions:e,options:{}}}function Ts(n,e=null){return{type:at.Animate,styles:e,timings:n}}function m3(n,e=null){return{type:at.Sequence,steps:n,options:e}}function Gi(n){return{type:at.Style,styles:n,offset:null}}function g3(n,e,t){return{type:at.State,name:n,styles:e,options:t}}function xs(n,e,t=null){return{type:at.Transition,expr:n,animation:e,options:t}}function LE(n,e=null){return{type:at.Reference,animation:n,options:e}}function NE(n,e=null){return{type:at.AnimateRef,animation:n,options:e}}var fl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Sp=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},yy="!";var VE=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var BE=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var Ii=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Wi=(()=>{class n{autofocus=!1;focused=!1;platformId=fe(Gt);document=fe(It);host=fe(nt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){nn(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=L.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},standalone:!0,features:[Ct]})}return n})(),_r=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({})}return n})();var $Q=["input"],GQ=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),WQ=n=>({value:"visible",params:n}),qQ=n=>({width:n});function KQ(n,e){if(n&1){let t=pe();x(0,"TimesIcon",10),J("click",function(){B(t);let r=v(2);return U(r.clear())}),A()}n&2&&(g("styleClass","p-password-clear-icon"),z("data-pc-section","clearIcon"))}function YQ(n,e){}function QQ(n,e){n&1&&D(0,YQ,0,0,"ng-template")}function ZQ(n,e){if(n&1){let t=pe();ae(0),D(1,KQ,1,2,"TimesIcon",7),x(2,"span",8),J("click",function(){B(t);let r=v();return U(r.clear())}),D(3,QQ,1,0,null,9),A(),le()}if(n&2){let t=v();y(),g("ngIf",!t.clearIconTemplate),y(),z("data-pc-section","clearIcon"),y(),g("ngTemplateOutlet",t.clearIconTemplate)}}function XQ(n,e){if(n&1){let t=pe();x(0,"EyeSlashIcon",12),J("click",function(){B(t);let r=v(3);return U(r.onMaskToggle())}),A()}n&2&&z("data-pc-section","hideIcon")}function JQ(n,e){}function eZ(n,e){n&1&&D(0,JQ,0,0,"ng-template")}function tZ(n,e){if(n&1){let t=pe();x(0,"span",12),J("click",function(){B(t);let r=v(3);return U(r.onMaskToggle())}),D(1,eZ,1,0,null,9),A()}if(n&2){let t=v(3);y(),g("ngTemplateOutlet",t.hideIconTemplate)}}function nZ(n,e){if(n&1&&(ae(0),D(1,XQ,1,1,"EyeSlashIcon",11)(2,tZ,2,1,"span",11),le()),n&2){let t=v(2);y(),g("ngIf",!t.hideIconTemplate),y(),g("ngIf",t.hideIconTemplate)}}function iZ(n,e){if(n&1){let t=pe();x(0,"EyeIcon",12),J("click",function(){B(t);let r=v(3);return U(r.onMaskToggle())}),A()}n&2&&z("data-pc-section","showIcon")}function rZ(n,e){}function sZ(n,e){n&1&&D(0,rZ,0,0,"ng-template")}function oZ(n,e){if(n&1){let t=pe();x(0,"span",12),J("click",function(){B(t);let r=v(3);return U(r.onMaskToggle())}),D(1,sZ,1,0,null,9),A()}if(n&2){let t=v(3);y(),g("ngTemplateOutlet",t.showIconTemplate)}}function aZ(n,e){if(n&1&&(ae(0),D(1,iZ,1,1,"EyeIcon",11)(2,oZ,2,1,"span",11),le()),n&2){let t=v(2);y(),g("ngIf",!t.showIconTemplate),y(),g("ngIf",t.showIconTemplate)}}function lZ(n,e){if(n&1&&(ae(0),D(1,nZ,3,2,"ng-container",5)(2,aZ,3,2,"ng-container",5),le()),n&2){let t=v();y(),g("ngIf",t.unmasked),y(),g("ngIf",!t.unmasked)}}function cZ(n,e){n&1&&ge(0)}function uZ(n,e){n&1&&ge(0)}function dZ(n,e){if(n&1&&(ae(0),D(1,uZ,1,0,"ng-container",9),le()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.contentTemplate)}}function hZ(n,e){if(n&1&&(x(0,"div",15),W(1,"div",3),ki(2,"mapper"),A(),x(3,"div",16),ce(4),A()),n&2){let t=v(2);z("data-pc-section","meter"),y(),g("ngClass",Pi(2,6,t.meter,t.strengthClass))("ngStyle",Se(9,qQ,t.meter?t.meter.width:"")),z("data-pc-section","meterLabel"),y(2),z("data-pc-section","info"),y(),$e(t.infoText)}}function fZ(n,e){n&1&&ge(0)}function pZ(n,e){if(n&1){let t=pe();x(0,"div",13,1),J("click",function(r){B(t);let s=v();return U(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){B(t);let s=v();return U(s.onAnimationStart(r))})("@overlayAnimation.done",function(r){B(t);let s=v();return U(s.onAnimationEnd(r))}),D(2,cZ,1,0,"ng-container",9)(3,dZ,2,1,"ng-container",14)(4,hZ,5,11,"ng-template",null,2,an)(6,fZ,1,0,"ng-container",9),A()}if(n&2){let t=Mt(5),i=v();g("ngClass","p-password-panel p-component")("@overlayAnimation",Se(10,WQ,tn(7,GQ,i.showTransitionOptions,i.hideTransitionOptions))),z("data-pc-section","panel"),y(2),g("ngTemplateOutlet",i.headerTemplate),y(),g("ngIf",i.contentTemplate)("ngIfElse",t),y(3),g("ngTemplateOutlet",i.footerTemplate)}}var mZ=(()=>{class n{transform(t,i,...r){return i(t,...r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=j_({name:"mapper",type:n,pure:!0})}return n})(),gZ={provide:li,useExisting:Cn(()=>UE),multi:!0},UE=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new X;onBlur=new X;onClear=new X;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.config=o,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,Un.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(t){switch(t.toState){case"void":Un.clear(t.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=L.getOuterWidth(this.input.nativeElement)+"px",L.absolutePosition(this.overlay,this.input.nativeElement)):L.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyUp(t){if(this.feedback){let i=t.target.value;if(this.updateUI(i),t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(t){let i=null,r=null;switch(this.testStrength(t)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null;break}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}writeValue(t){t===void 0?this.value=null:this.value=t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){nn(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Es(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(nn(this.platformId)&&!this.resizeListener){let t=this.document.defaultView;this.resizeListener=this.renderer.listen(t,"resize",()=>{this.overlayVisible&&!L.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(jn.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(jn.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(jn.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(jn.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Un.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(Jt),G(wt),G(pn),G(nt),G(cl))};static \u0275cmp=ee({type:n,selectors:[["p-password"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&We($Q,5),i&2){let s;be(s=Ce())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[j.HasDecoratorInputTransform,"maxLength","maxLength",Ve],strongLabel:"strongLabel",inputId:"inputId",feedback:[j.HasDecoratorInputTransform,"feedback","feedback",K],appendTo:"appendTo",toggleMask:[j.HasDecoratorInputTransform,"toggleMask","toggleMask",K],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[yn([gZ]),Ct],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(i,r){if(i&1){let s=pe();x(0,"div",3),ki(1,"mapper"),x(2,"input",4,0),ki(4,"mapper"),ki(5,"mapper"),J("input",function(a){return B(s),U(r.onInput(a))})("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))})("keyup",function(a){return B(s),U(r.onKeyUp(a))}),A(),D(6,ZQ,4,3,"ng-container",5)(7,lZ,3,2,"ng-container",5)(8,pZ,7,12,"div",6),A()}i&2&&(se(r.styleClass),g("ngClass",Pi(1,26,r.toggleMask,r.containerClass))("ngStyle",r.style),z("data-pc-name","password")("data-pc-section","root"),y(2),se(r.inputStyleClass),g("ngClass",Pi(4,29,r.disabled,r.inputFieldClass))("disabled",r.disabled)("ngStyle",r.inputStyle)("value",r.value)("variant",r.variant)("autofocus",r.autofocus),z("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",Pi(5,32,r.unmasked,r.inputType))("placeholder",r.placeholder)("autocomplete",r.autocomplete)("maxlength",r.maxLength)("data-pc-section","input"),y(4),g("ngIf",r.showClear&&r.value!=null),y(),g("ngIf",r.toggleMask),y(),g("ngIf",r.overlayVisible))},dependencies:()=>[kt,St,Vt,Pt,hl,Wi,Ii,BE,VE,mZ],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Bd("overlayAnimation",[xs(":enter",[Gi({opacity:0,transform:"scaleY(0.8)"}),Ts("{{showTransitionParams}}")]),xs(":leave",[Ts("{{hideTransitionParams}}",Gi({opacity:0}))])])]},changeDetection:0})}return n})(),_3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,is,_r,Ii,BE,VE,Xe]})}return n})();var pl=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var yZ=["*"],y3=n=>({class:n});function vZ(n,e){n&1&&ge(0)}function wZ(n,e){if(n&1&&W(0,"span",8),n&2){let t=v(3);g("ngClass",t.iconClass()),z("aria-hidden",!0)("data-pc-section","loadingicon")}}function IZ(n,e){if(n&1&&W(0,"SpinnerIcon",9),n&2){let t=v(3);g("styleClass",t.spinnerIconClass())("spin",!0),z("aria-hidden",!0)("data-pc-section","loadingicon")}}function bZ(n,e){if(n&1&&(ae(0),D(1,wZ,1,3,"span",6)(2,IZ,1,4,"SpinnerIcon",7),le()),n&2){let t=v(2);y(),g("ngIf",t.loadingIcon),y(),g("ngIf",!t.loadingIcon)}}function CZ(n,e){}function EZ(n,e){if(n&1&&D(0,CZ,0,0,"ng-template",10),n&2){let t=v(2);g("ngIf",t.loadingIconTemplate)}}function TZ(n,e){if(n&1&&(ae(0),D(1,bZ,3,2,"ng-container",2)(2,EZ,1,1,null,5),le()),n&2){let t=v();y(),g("ngIf",!t.loadingIconTemplate),y(),g("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Se(3,y3,t.iconClass()))}}function xZ(n,e){if(n&1&&W(0,"span",8),n&2){let t=v(2);g("ngClass",t.iconClass()),z("data-pc-section","icon")}}function SZ(n,e){}function DZ(n,e){if(n&1&&D(0,SZ,0,0,"ng-template",10),n&2){let t=v(2);g("ngIf",!t.icon&&t.iconTemplate)}}function AZ(n,e){if(n&1&&(ae(0),D(1,xZ,1,2,"span",6)(2,DZ,1,1,null,5),le()),n&2){let t=v();y(),g("ngIf",t.icon&&!t.iconTemplate),y(),g("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Se(3,y3,t.iconClass()))}}function RZ(n,e){if(n&1&&(x(0,"span",11),ce(1),A()),n&2){let t=v();z("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),y(),$e(t.label)}}function MZ(n,e){if(n&1&&(x(0,"span",8),ce(1),A()),n&2){let t=v();se(t.badgeClass),g("ngClass",t.badgeStyleClass()),z("data-pc-section","badge"),y(),$e(t.badge)}}var ml={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},vy=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ml);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){L.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[ml.button,ml.component];return this.icon&&!this.label&&ne.isEmpty(this.htmlElement.textContent)&&t.push(ml.iconOnly),this.loading&&(t.push(ml.disabled,ml.loading),!this.icon&&this.label&&t.push(ml.labelOnly),this.icon&&!this.label&&!ne.isEmpty(this.htmlElement.textContent)&&t.push(ml.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!L.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!L.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&L.addClass(i,r);let s=this.getIconClass();s&&L.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=L.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=L.findSingle(this.htmlElement,".p-button-icon"),i=L.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(G(nt),G(It))};static \u0275dir=Nt({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[j.HasDecoratorInputTransform,"raised","raised",K],rounded:[j.HasDecoratorInputTransform,"rounded","rounded",K],text:[j.HasDecoratorInputTransform,"text","text",K],outlined:[j.HasDecoratorInputTransform,"outlined","outlined",K],size:"size",plain:[j.HasDecoratorInputTransform,"plain","plain",K]},standalone:!0,features:[Ct]})}return n})(),Dp=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new X;onFocus=new X;onBlur=new X;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(G(nt))};static \u0275cmp=ee({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Yn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],loading:[j.HasDecoratorInputTransform,"loading","loading",K],loadingIcon:"loadingIcon",raised:[j.HasDecoratorInputTransform,"raised","raised",K],rounded:[j.HasDecoratorInputTransform,"rounded","rounded",K],text:[j.HasDecoratorInputTransform,"text","text",K],plain:[j.HasDecoratorInputTransform,"plain","plain",K],severity:"severity",outlined:[j.HasDecoratorInputTransform,"outlined","outlined",K],link:[j.HasDecoratorInputTransform,"link","link",K],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Ct,ye],ngContentSelectors:yZ,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(si(),x(0,"button",0),J("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),Qn(1),D(2,vZ,1,0,"ng-container",1)(3,TZ,3,5,"ng-container",2)(4,AZ,3,5,"ng-container",2)(5,RZ,2,3,"span",3)(6,MZ,2,5,"span",4),A()),i&2&&(g("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),z("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),y(2),g("ngTemplateOutlet",r.contentTemplate),y(),g("ngIf",r.loading),y(),g("ngIf",!r.loading),y(),g("ngIf",!r.contentTemplate&&r.label),y(),g("ngIf",!r.contentTemplate&&r.badge))},dependencies:[St,Vt,Pt,kt,$i,Wi,pl],encapsulation:2,changeDetection:0})}return n})(),Ss=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[Dp,Xe]})}return n})();var w3=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},kZ=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},I3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(t[u],t[h],t[f],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kZ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new zE;let f=s<<2|a>>4;if(i.push(f),c!==64){let p=a<<4&240|c>>2;if(i.push(p),h!==64){let _=c<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},zE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PZ=function(n){let e=w3(n);return I3.encodeByteArray(e,!0)},Ap=function(n){return PZ(n).replace(/\./g,"")},$E=function(n){try{return I3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FZ=()=>OZ().__FIREBASE_DEFAULTS__,LZ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NZ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&$E(n[1]);return e&&JSON.parse(e)},by=()=>{try{return FZ()||LZ()||NZ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GE=n=>{var e,t;return(t=(e=by())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},b3=n=>{let e=GE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},WE=()=>{var n;return(n=by())===null||n===void 0?void 0:n.config},qE=n=>{var e;return(e=by())===null||e===void 0?void 0:e[`_${n}`]};var Iy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function C3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ap(JSON.stringify(t)),Ap(JSON.stringify(o)),""].join(".")}function ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ci())}function VZ(){var n;let e=(n=by())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T3(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function x3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S3(){let n=ci();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D3(){return!VZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KE(){try{return typeof indexedDB=="object"}catch{return!1}}function A3(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var BZ="FirebaseError",Vr=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BZ,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}},ia=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?UZ(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Vr(r,a,i)}};function UZ(n,e){return n.replace(jZ,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var jZ=/\{\$([^}]+)}/g;function R3(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oc(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(v3(s)&&v3(o)){if(!Oc(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function v3(n){return n!==null&&typeof n=="object"}function Rp(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ud(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function jd(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function M3(n,e){let t=new HE(n,e);return t.subscribe.bind(t)}var HE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zZ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=jE),r.error===void 0&&(r.error=jE),r.complete===void 0&&(r.complete=jE);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zZ(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jE(){}var txe=4*60*60*1e3;function qi(n){return n&&n._delegate?n._delegate:n}var rs=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fc="[DEFAULT]";var YE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Iy;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($Z(e))try{this.getOrInitializeService({instanceIdentifier:Fc})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return H(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fc){return this.instances.has(e)}getOptions(e=Fc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HZ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fc){return this.component?this.component.multipleInstances?e:Fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HZ(n){return n===Fc?void 0:n}function $Z(n){return n.instantiationMode==="EAGER"}var Cy=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new YE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var GZ=[],Ot=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ot||{}),WZ={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},qZ=Ot.INFO,KZ={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},YZ=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=KZ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gl=class{constructor(e){this.name=e,this._logLevel=qZ,this._logHandler=YZ,this._userLogHandler=null,GZ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}};var QZ=(n,e)=>e.some(t=>n instanceof t),k3,P3;function ZZ(){return k3||(k3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XZ(){return P3||(P3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var O3=new WeakMap,ZE=new WeakMap,F3=new WeakMap,QE=new WeakMap,JE=new WeakMap;function JZ(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(so(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&O3.set(t,n)}).catch(()=>{}),JE.set(e,n),e}function eX(n){if(ZE.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ZE.set(n,e)}var XE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ZE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||F3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return so(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L3(n){XE=n(XE)}function tX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Ey(this),e,...t);return F3.set(i,e.sort?e.sort():[e]),so(i)}:XZ().includes(n)?function(...e){return n.apply(Ey(this),e),so(O3.get(this))}:function(...e){return so(n.apply(Ey(this),e))}}function nX(n){return typeof n=="function"?tX(n):(n instanceof IDBTransaction&&eX(n),QZ(n,ZZ())?new Proxy(n,XE):n)}function so(n){if(n instanceof IDBRequest)return JZ(n);if(QE.has(n))return QE.get(n);let e=nX(n);return e!==n&&(QE.set(n,e),JE.set(e,n)),e}var Ey=n=>JE.get(n);function V3(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=so(o);return i&&o.addEventListener("upgradeneeded",l=>{i(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var iX=["get","getKey","getAll","getAllKeys","count"],rX=["put","add","delete","clear"],eT=new Map;function N3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(eT.get(e))return eT.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=rX.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||iX.includes(t)))return;let s=function(o,...a){return H(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return eT.set(e,s),s}L3(n=>it(oe({},n),{get:(e,t,i)=>N3(e,t)||n.get(e,t,i),has:(e,t)=>!!N3(e,t)||n.has(e,t)}));var nT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sX(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function sX(n){let e=n.getComponent();return e?.type==="VERSION"}var iT="@firebase/app",B3="0.10.8";var Lc=new gl("@firebase/app"),oX="@firebase/app-compat",aX="@firebase/analytics-compat",lX="@firebase/analytics",cX="@firebase/app-check-compat",uX="@firebase/app-check",dX="@firebase/auth",hX="@firebase/auth-compat",fX="@firebase/database",pX="@firebase/database-compat",mX="@firebase/functions",gX="@firebase/functions-compat",_X="@firebase/installations",yX="@firebase/installations-compat",vX="@firebase/messaging",wX="@firebase/messaging-compat",IX="@firebase/performance",bX="@firebase/performance-compat",CX="@firebase/remote-config",EX="@firebase/remote-config-compat",TX="@firebase/storage",xX="@firebase/storage-compat",SX="@firebase/firestore",DX="@firebase/vertexai-preview",AX="@firebase/firestore-compat",RX="firebase",MX="10.12.5";var rT="[DEFAULT]",kX={[iT]:"fire-core",[oX]:"fire-core-compat",[lX]:"fire-analytics",[aX]:"fire-analytics-compat",[uX]:"fire-app-check",[cX]:"fire-app-check-compat",[dX]:"fire-auth",[hX]:"fire-auth-compat",[fX]:"fire-rtdb",[pX]:"fire-rtdb-compat",[mX]:"fire-fn",[gX]:"fire-fn-compat",[_X]:"fire-iid",[yX]:"fire-iid-compat",[vX]:"fire-fcm",[wX]:"fire-fcm-compat",[IX]:"fire-perf",[bX]:"fire-perf-compat",[CX]:"fire-rc",[EX]:"fire-rc-compat",[TX]:"fire-gcs",[xX]:"fire-gcs-compat",[SX]:"fire-fst",[AX]:"fire-fst-compat",[DX]:"fire-vertex","fire-js":"fire-js",[RX]:"fire-js-all"};var Mp=new Map,PX=new Map,sT=new Map;function U3(n,e){try{n.container.addComponent(e)}catch(t){Lc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yl(n){let e=n.name;if(sT.has(e))return Lc.debug(`There were multiple attempts to register component ${e}.`),!1;sT.set(e,n);for(let t of Mp.values())U3(t,n);for(let t of PX.values())U3(t,n);return!0}function Pp(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oo(n){return n.settings!==void 0}var OX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_l=new ia("app","Firebase",OX);var oT=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _l.create("app-deleted",{appName:this._name})}};var vl=MX;function cT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:rT,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw _l.create("bad-app-name",{appName:String(r)});if(t||(t=WE()),!t)throw _l.create("no-options");let s=Mp.get(r);if(s){if(Oc(t,s.options)&&Oc(i,s.config))return s;throw _l.create("duplicate-app",{appName:r})}let o=new Cy(r);for(let l of sT.values())o.addComponent(l);let a=new oT(t,i,o);return Mp.set(r,a),a}function zd(n=rT){let e=Mp.get(n);if(!e&&n===rT&&WE())return cT();if(!e)throw _l.create("no-app",{appName:n});return e}function Ty(){return Array.from(Mp.values())}function ui(n,e,t){var i;let r=(i=kX[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lc.warn(a.join(" "));return}yl(new rs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var FX="firebase-heartbeat-database",LX=1,kp="firebase-heartbeat-store",tT=null;function $3(){return tT||(tT=V3(FX,LX,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kp)}catch(t){console.warn(t)}}}}).catch(n=>{throw _l.create("idb-open",{originalErrorMessage:n.message})})),tT}function NX(n){return H(this,null,function*(){try{let t=(yield $3()).transaction(kp),i=yield t.objectStore(kp).get(G3(n));return yield t.done,i}catch(e){if(e instanceof Vr)Lc.warn(e.message);else{let t=_l.create("idb-get",{originalErrorMessage:e?.message});Lc.warn(t.message)}}})}function j3(n,e){return H(this,null,function*(){try{let i=(yield $3()).transaction(kp,"readwrite");yield i.objectStore(kp).put(e,G3(n)),yield i.done}catch(t){if(t instanceof Vr)Lc.warn(t.message);else{let i=_l.create("idb-set",{originalErrorMessage:t?.message});Lc.warn(i.message)}}})}function G3(n){return`${n.name}!${n.options.appId}`}var VX=1024,BX=30*24*60*60*1e3,aT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new lT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return H(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z3();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=BX}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return H(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=z3(),{heartbeatsToSend:i,unsentEntries:r}=UX(this._heartbeatsCache.heartbeats),s=Ap(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function z3(){return new Date().toISOString().substring(0,10)}function UX(n,e=VX){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),H3(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),H3(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var lT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return H(this,null,function*(){return KE()?A3().then(()=>!0).catch(()=>!1):!1})}read(){return H(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield NX(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return H(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return j3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return H(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return j3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function H3(n){return Ap(JSON.stringify({version:2,heartbeats:n})).length}function jX(n){yl(new rs("platform-logger",e=>new nT(e),"PRIVATE")),yl(new rs("heartbeat",e=>new aT(e),"PRIVATE")),ui(iT,B3,n),ui(iT,B3,"esm2017"),ui("fire-js","")}jX("");var zX="firebase",HX="10.12.5";ui(zX,HX,"app");var Vc=new Go("ANGULARFIRE2_VERSION");function Sy(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Op=(n,e)=>{let t=e?[e]:Ty(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},$d=class{constructor(){return Op($X)}},$X="app-check";function Hd(){}var xy=class{zone;delegate;constructor(e,t=qI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},uT=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hd,{},Hd,Hd)),t.pipe(Kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gd=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xy(Zone.current)),this.insideAngular=t.run(()=>new xy(Zone.current,Gu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Oe(Ke))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dy(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function GX(n){return Dy().ngZone.runOutsideAngular(()=>n())}function Nc(n){return Dy().ngZone.run(()=>n())}function WX(n){return qX(Dy())(n)}function qX(n){return function(t){return t=t.lift(new uT(n.ngZone)),t.pipe(ja(n.outsideAngular),Ua(n.insideAngular))}}var KX=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Nc(()=>n.apply(void 0,i))},Br=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Nc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hd,{},Hd,Hd))),i[s]=KX(i[s],t));let r=GX(()=>n.apply(this,i));if(!e)if(r instanceof pt){let s=Dy();return r.pipe(ja(s.outsideAngular),Ua(s.insideAngular))}else return Nc(()=>r);return r instanceof pt?r.pipe(WX):r instanceof Promise?Nc(()=>new Promise((s,o)=>r.then(a=>Nc(()=>s(a)),a=>Nc(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Nc(()=>r)};var ra=class{constructor(e){return e}},Bc=class{constructor(){return Ty()}};function YX(n){return n&&n.length===1?n[0]:new ra(zd())}var dT=new Pe("angularfire2._apps"),QX={provide:ra,useFactory:YX,deps:[[new Mi,dT]]},ZX={provide:Bc,deps:[[new Mi,dT]]};function XX(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ra(i)}}var JX=(()=>{class n{constructor(t){ui("angularfire",Vc.full,"core"),ui("angularfire",Vc.full,"app"),ui("angular",XF.full,t.toString())}static \u0275fac=function(i){return new(i||n)(Oe(Gt))};static \u0275mod=Me({type:n});static \u0275inj=Re({providers:[QX,ZX]})}return n})();function W3(n,...e){return{ngModule:JX,providers:[{provide:dT,useFactory:XX(n),multi:!0,deps:[Ke,mi,Gd,...e]}]}}var q3=Br(cT,!0);function dV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hV=dV,fV=new ia("auth","Firebase",dV());var Oy=new gl("@firebase/auth");function eJ(n,...e){Oy.logLevel<=Ot.WARN&&Oy.warn(`Auth (${vl}): ${n}`,...e)}function Ry(n,...e){Oy.logLevel<=Ot.ERROR&&Oy.error(`Auth (${vl}): ${n}`,...e)}function lo(n,...e){throw PT(n,...e)}function Uc(n,...e){return PT(n,...e)}function pV(n,e,t){let i=Object.assign(Object.assign({},hV()),{[e]:t});return new ia("auth","Firebase",i).create(e,{appName:n.name})}function Il(n){return pV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PT(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return fV.create(n,...e)}function Je(n,e,...t){if(!n)throw PT(e,...t)}function sa(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ry(e),new Error(e)}function bl(n,e){n||sa(e)}function mT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tJ(){return K3()==="http:"||K3()==="https:"}function K3(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function nJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tJ()||T3()||"connection"in navigator)?navigator.onLine:!0}function iJ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var jc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,bl(t>e,"Short delay should be less than long delay!"),this.isMobile=E3()||x3()}get(){return nJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function OT(n,e){bl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Fy=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sJ=new jc(3e4,6e4);function Hc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Cl(s,o,a,l){return H(this,arguments,function*(n,e,t,i,r={}){return mV(n,r,()=>H(this,null,function*(){let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});let h=Rp(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),Fy.fetch()(gV(n,n.config.apiHost,t,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function mV(n,e,t){return H(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},rJ),e);try{let r=new gT(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ay(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ay(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ay(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ay(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pV(n,u,c);lo(n,u)}}catch(r){if(r instanceof Vr)throw r;lo(n,"network-request-failed",{message:String(r)})}})}function Gy(s,o,a,l){return H(this,arguments,function*(n,e,t,i,r={}){let c=yield Cl(n,e,t,i,r);return"mfaPendingCredential"in c&&lo(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function gV(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?OT(n.config,r):`${n.config.apiScheme}://${r}`}function oJ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gT=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Uc(this.auth,"network-request-failed")),sJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ay(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Uc(n,e,i);return r.customData._tokenResponse=t,r}function Y3(n){return n!==void 0&&n.enterprise!==void 0}var _T=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oJ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function aJ(n,e){return H(this,null,function*(){return Cl(n,"GET","/v2/recaptchaConfig",Hc(n,e))})}function lJ(n,e){return H(this,null,function*(){return Cl(n,"POST","/v1/accounts:delete",e)})}function _V(n,e){return H(this,null,function*(){return Cl(n,"POST","/v1/accounts:lookup",e)})}function Fp(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FT(n,e=!1){return H(this,null,function*(){let t=qi(n),i=yield t.getIdToken(e),r=LT(i);Je(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Fp(hT(r.auth_time)),issuedAtTime:Fp(hT(r.iat)),expirationTime:Fp(hT(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function hT(n){return Number(n)*1e3}function LT(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ry("JWT malformed, contained fewer than 3 sections"),null;try{let r=$E(t);return r?JSON.parse(r):(Ry("Failed to decode base64 JWT payload"),null)}catch(r){return Ry("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Q3(n){let e=LT(n);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Np(n,e,t=!1){return H(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Vr&&cJ(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function cJ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var yT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>H(this,null,function*(){yield this.iteration()}),t)}iteration(){return H(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vp=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fp(this.lastLoginAt),this.creationTime=Fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ly(n){return H(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Np(n,_V(t,{idToken:i}));Je(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yV(s.providerUserInfo):[],a=uJ(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function NT(n){return H(this,null,function*(){let e=qi(n);yield Ly(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uJ(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function yV(n){return n.map(e=>{var{providerId:t}=e,i=KI(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function dJ(n,e){return H(this,null,function*(){let t=yield mV(n,{},()=>H(this,null,function*(){let i=Rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=gV(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fy.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function hJ(n,e){return H(this,null,function*(){return Cl(n,"POST","/v2/accounts:revokeToken",Hc(n,e))})}var Lp=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Je(e.length!==0,"internal-error");let t=Q3(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return H(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return H(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield dJ(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(Je(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Je(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return sa("not implemented")}};function wl(n,e){Je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Wd=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=KI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vp(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return H(this,null,function*(){let t=yield Np(this,this.stsTokenManager.getToken(this.auth,e));return Je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return FT(this,e)}reload(){return NT(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return H(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ly(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return H(this,null,function*(){if(oo(this.auth.app))return Promise.reject(Il(this.auth));let e=yield this.getIdToken();return yield Np(this,lJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=t.photoURL)!==null&&o!==void 0?o:void 0,I=(a=t.tenantId)!==null&&a!==void 0?a:void 0,b=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=t.createdAt)!==null&&c!==void 0?c:void 0,M=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:P,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:R}=t;Je(P&&R,e,"internal-error");let C=Lp.fromJSON(this.name,R);Je(typeof P=="string",e,"internal-error"),wl(h,e.name),wl(f,e.name),Je(typeof F=="boolean",e,"internal-error"),Je(typeof $=="boolean",e,"internal-error"),wl(p,e.name),wl(_,e.name),wl(I,e.name),wl(b,e.name),wl(E,e.name),wl(M,e.name);let T=new n({uid:P,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:$,photoURL:_,phoneNumber:p,tenantId:I,stsTokenManager:C,createdAt:E,lastLoginAt:M});return Y&&Array.isArray(Y)&&(T.providerData=Y.map(O=>Object.assign({},O))),b&&(T._redirectEventId=b),T}static _fromIdTokenResponse(e,t,i=!1){return H(this,null,function*(){let r=new Lp;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ly(s),s})}static _fromGetAccountInfoResponse(e,t,i){return H(this,null,function*(){let r=t.users[0];Je(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?yV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Lp;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Vp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var Z3=new Map;function oa(n){bl(n instanceof Function,"Expected a class definition");let e=Z3.get(n);return e?(bl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z3.set(n,e),e)}var fJ=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return H(this,null,function*(){return!0})}_set(t,i){return H(this,null,function*(){this.storage[t]=i})}_get(t){return H(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return H(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),vT=fJ;function My(n,e,t){return`firebase:${n}:${e}:${t}`}var Ny=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=My(this.userKey,r.apiKey,s),this.fullPersistenceKey=My("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return H(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Wd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return H(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return H(this,null,function*(){if(!t.length)return new n(oa(vT),e,i);let r=(yield Promise.all(t.map(c=>H(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||oa(vT),o=My(i,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(o);if(u){let h=Wd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>H(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,i))})}};function X3(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CV(e))return"Blackberry";if(EV(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||wV(e))&&!e.includes("edge/"))return"Chrome";if(bV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function vV(n=ci()){return/firefox\//i.test(n)}function VT(n=ci()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wV(n=ci()){return/crios\//i.test(n)}function IV(n=ci()){return/iemobile/i.test(n)}function bV(n=ci()){return/android/i.test(n)}function CV(n=ci()){return/blackberry/i.test(n)}function EV(n=ci()){return/webos/i.test(n)}function Wy(n=ci()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pJ(n=ci()){var e;return Wy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mJ(){return S3()&&document.documentMode===10}function TV(n=ci()){return Wy(n)||bV(n)||EV(n)||CV(n)||/windows phone/i.test(n)||IV(n)}function gJ(){try{return!!(window&&window!==window.top)}catch{return!1}}function xV(n,e=[]){let t;switch(n){case"Browser":t=X3(ci());break;case"Worker":t=`${X3(ci())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vl}/${i}`}var wT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return H(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function _J(t){return H(this,arguments,function*(n,e={}){return Cl(n,"GET","/v2/passwordPolicy",Hc(n,e))})}var yJ=6,IT=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:yJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var bT=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vy(this),this.idTokenSubscription=new Vy(this),this.beforeStateQueue=new wT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oa(t)),this._initializationPromise=this.queue(()=>H(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ny.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return H(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return H(this,null,function*(){try{let t=yield _V(this,{idToken:e}),i=yield Wd._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return H(this,null,function*(){var t;if(oo(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return H(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return H(this,null,function*(){try{yield Ly(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iJ()}_delete(){return H(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return H(this,null,function*(){if(oo(this.app))return Promise.reject(Il(this));let t=e?qi(e):null;return t&&Je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return H(this,null,function*(){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>H(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return H(this,null,function*(){return oo(this.app)?Promise.reject(Il(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oo(this.app)?Promise.reject(Il(this)):this.queue(()=>H(this,null,function*(){yield this.assertedPersistence.setPersistence(oa(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return H(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return H(this,null,function*(){let e=yield _J(this),t=new IT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return H(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield hJ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return H(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return H(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&oa(e)||this._popupRedirectResolver;Je(t,this,"argument-error"),this.redirectPersistenceManager=yield Ny.create(this,[oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return H(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>H(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return H(this,null,function*(){if(e===this.currentUser)return this.queue(()=>H(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return H(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return H(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return H(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&eJ(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function qd(n){return qi(n)}var Vy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=M3(t=>this.observer=t)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qy={loadJS(){return H(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vJ(n){qy=n}function SV(n){return qy.loadJS(n)}function wJ(){return qy.recaptchaEnterpriseScript}function IJ(){return qy.gapiScript}function DV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var bJ="recaptcha-enterprise",CJ="NO_RECAPTCHA",CT=class{constructor(e){this.type=bJ,this.auth=qd(e)}verify(e="verify",t=!1){return H(this,null,function*(){function i(s){return H(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>H(this,null,function*(){aJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new _T(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;Y3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(CJ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&Y3(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wJ();l.length!==0&&(l+=a),SV(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function J3(n,e,t,i=!1){return H(this,null,function*(){let r=new CT(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function eV(n,e,t,i){return H(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield J3(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>H(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield J3(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function BT(n,e){let t=Pp(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Oc(s,e??{}))return r;lo(r,"already-initialized")}return t.initialize({options:e})}function EJ(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(oa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function UT(n,e,t){let i=qd(n);Je(i._canInitEmulator,i,"emulator-config-failed"),Je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=AV(e),{host:o,port:a}=TJ(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||xJ()}function AV(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TJ(n){let e=AV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:tV(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:tV(o)}}}function tV(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function xJ(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Bp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,t){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}};function SJ(n,e){return H(this,null,function*(){return Cl(n,"POST","/v1/accounts:signUp",e)})}function DJ(n,e){return H(this,null,function*(){return Gy(n,"POST","/v1/accounts:signInWithPassword",Hc(n,e))})}function AJ(n,e){return H(this,null,function*(){return Gy(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,e))})}function RJ(n,e){return H(this,null,function*(){return Gy(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,e))})}var Up=class n extends Bp{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return H(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eV(e,t,"signInWithPassword",DJ);case"emailLink":return AJ(e,{email:this._email,oobCode:this._password});default:lo(e,"internal-error")}})}_linkToIdToken(e,t){return H(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eV(e,i,"signUpPassword",SJ);case"emailLink":return RJ(e,{idToken:t,email:this._email,oobCode:this._password});default:lo(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fT(n,e){return H(this,null,function*(){return Gy(n,"POST","/v1/accounts:signInWithIdp",Hc(n,e))})}function MJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kJ(n){let e=Ud(jd(n)).link,t=e?Ud(jd(e)).deep_link_id:null,i=Ud(jd(n)).deep_link_id;return(i?Ud(jd(i)).link:null)||i||t||e||n}var By=class n{constructor(e){var t,i,r,s,o,a;let l=Ud(jd(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=MJ((r=l.mode)!==null&&r!==void 0?r:null);Je(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=kJ(e);try{return new n(t)}catch{return null}}};var RV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Up._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=By.parseLink(i);return Je(r,"argument-error"),Up._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Uy=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ET=class extends Uy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var jp=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return H(this,null,function*(){let s=yield Wd._fromIdTokenResponse(e,i,r),o=nV(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return H(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=nV(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function nV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var TT=class n extends Vr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function MV(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?TT._fromErrorAndOperation(n,s,e,i):s})}function PJ(n,e,t=!1){return H(this,null,function*(){let i=yield Np(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return jp._forOperation(n,"link",i)})}function OJ(n,e,t=!1){return H(this,null,function*(){let{auth:i}=n;if(oo(i.app))return Promise.reject(Il(i));let r="reauthenticate";try{let s=yield Np(n,MV(i,r,e,n),t);Je(s.idToken,i,"internal-error");let o=LT(s.idToken);Je(o,i,"internal-error");let{sub:a}=o;return Je(n.uid===a,i,"user-mismatch"),jp._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&lo(i,"user-mismatch"),s}})}function kV(n,e,t=!1){return H(this,null,function*(){if(oo(n.app))return Promise.reject(Il(n));let i="signIn",r=yield MV(n,i,e),s=yield jp._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function jT(n,e){return H(this,null,function*(){return kV(qd(n),e)})}function FJ(n){return H(this,null,function*(){let e=qd(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zT(n,e,t){return oo(n.app)?Promise.reject(Il(n)):jT(qi(n),RV.credential(e,t)).catch(i=>H(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&FJ(n),i}))}function Hp(n,e,t,i){return qi(n).onIdTokenChanged(e,t,i)}function HT(n,e,t){return qi(n).beforeAuthStateChanged(e,t)}function $T(n){return qi(n).signOut()}var jy="__sak";var zy=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jy,"1"),this.storage.removeItem(jy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function LJ(){let n=ci();return VT(n)||Wy(n)}var NJ=1e3,VJ=10,BJ=(()=>{class n extends zy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LJ()&&gJ(),this.fallbackToPolling=TV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);mJ()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,VJ):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},NJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return H(this,null,function*(){yield Va(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return H(this,null,function*(){let i=yield Va(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return H(this,null,function*(){yield Va(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),PV=BJ;var UJ=(()=>{class n extends zy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),GT=UJ;function jJ(n){return Promise.all(n.map(e=>H(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var zJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return H(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(u=>H(this,null,function*(){return u(i.origin,o)})),c=yield jJ(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OV(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var xT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return H(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=OV("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ao(){return window}function HJ(n){ao().location.href=n}function FV(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}function $J(){return H(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function GJ(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WJ(){return FV()?self:null}var LV="firebaseLocalStorageDb",qJ=1,Hy="firebaseLocalStorage",NV="fbase_key",zc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ky(n,e){return n.transaction([Hy],e?"readwrite":"readonly").objectStore(Hy)}function KJ(){let n=indexedDB.deleteDatabase(LV);return new zc(n).toPromise()}function ST(){let n=indexedDB.open(LV,qJ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Hy,{keyPath:NV})}catch(r){t(r)}}),n.addEventListener("success",()=>H(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Hy)?e(i):(i.close(),yield KJ(),e(yield ST()))}))})}function iV(n,e,t){return H(this,null,function*(){let i=Ky(n,!0).put({[NV]:e,value:t});return new zc(i).toPromise()})}function YJ(n,e){return H(this,null,function*(){let t=Ky(n,!1).get(e),i=yield new zc(t).toPromise();return i===void 0?null:i.value})}function rV(n,e){let t=Ky(n,!0).delete(e);return new zc(t).toPromise()}var QJ=800,ZJ=3,XJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return H(this,null,function*(){return this.db?this.db:(this.db=yield ST(),this.db)})}_withRetries(t){return H(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>ZJ)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return H(this,null,function*(){return FV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return H(this,null,function*(){this.receiver=zJ._getInstance(WJ()),this.receiver._subscribe("keyChanged",(t,i)=>H(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>H(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return H(this,null,function*(){var t,i;if(this.activeServiceWorker=yield $J(),!this.activeServiceWorker)return;this.sender=new xT(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return H(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||GJ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return H(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ST();return yield iV(t,jy,"1"),yield rV(t,jy),!0}catch{}return!1})}_withPendingWrite(t){return H(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return H(this,null,function*(){return this._withPendingWrite(()=>H(this,null,function*(){return yield this._withRetries(r=>iV(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return H(this,null,function*(){let i=yield this._withRetries(r=>YJ(r,t));return this.localCache[t]=i,i})}_remove(t){return H(this,null,function*(){return this._withPendingWrite(()=>H(this,null,function*(){return yield this._withRetries(i=>rV(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return H(this,null,function*(){let t=yield this._withRetries(s=>{let o=Ky(s,!1).getAll();return new zc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>H(this,null,function*(){return this._poll()}),QJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),VV=XJ;var qxe=DV("rcb"),Kxe=new jc(3e4,6e4);function JJ(n,e){return e?oa(e):(Je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var zp=class extends Bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function eee(n){return kV(n.auth,new zp(n),n.bypassAuthState)}function tee(n){let{auth:e,user:t}=n;return Je(t,e,"internal-error"),OJ(t,new zp(n),n.bypassAuthState)}function nee(n){return H(this,null,function*(){let{auth:e,user:t}=n;return Je(t,e,"internal-error"),PJ(t,new zp(n),n.bypassAuthState)})}var DT=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>H(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return H(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eee;case"linkViaPopup":case"linkViaRedirect":return nee;case"reauthViaPopup":case"reauthViaRedirect":return tee;default:lo(this.auth,"internal-error")}}resolve(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Yxe=new jc(2e3,1e4);var iee="pendingRedirect",ky=new Map,AT=class n extends DT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return H(this,null,function*(){let e=ky.get(this.auth._key());if(!e){try{let i=(yield ree(this.resolver,this.auth))?yield Va(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ky.set(this.auth._key(),e)}return this.bypassAuthState||ky.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return H(this,null,function*(){if(e.type==="signInViaRedirect")return Va(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Va(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return H(this,null,function*(){})}cleanUp(){}};function ree(n,e){return H(this,null,function*(){let t=aee(e),i=oee(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function see(n,e){ky.set(n._key(),e)}function oee(n){return oa(n._redirectPersistence)}function aee(n){return My(iee,n.config.apiKey,n.name)}function lee(n,e,t=!1){return H(this,null,function*(){if(oo(n.app))return Promise.reject(Il(n));let i=qd(n),r=JJ(i,e),o=yield new AT(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var cee=10*60*1e3,RT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uee(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!BV(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Uc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cee&&this.cachedEventUids.clear(),this.cachedEventUids.has(sV(e))}saveEventToCache(e){this.cachedEventUids.add(sV(e)),this.lastProcessedEventTime=Date.now()}};function sV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BV({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function uee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BV(n);default:return!1}}function dee(t){return H(this,arguments,function*(n,e={}){return Cl(n,"GET","/v1/projects",e)})}var hee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fee=/^https?/;function pee(n){return H(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield dee(n);for(let t of e)try{if(mee(t))return}catch{}lo(n,"unauthorized-domain")})}function mee(n){let e=mT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!fee.test(t))return!1;if(hee.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var gee=new jc(3e4,6e4);function oV(){let n=ao().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _ee(n){return new Promise((e,t)=>{var i,r,s;function o(){oV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oV(),t(Uc(n,"network-request-failed"))},timeout:gee.get()})}if(!((r=(i=ao().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ao().gapi)===null||s===void 0)&&s.load)o();else{let a=DV("iframefcb");return ao()[a]=()=>{gapi.load?o():t(Uc(n,"network-request-failed"))},SV(`${IJ()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Py=null,e})}var Py=null;function yee(n){return Py=Py||_ee(n),Py}var vee=new jc(5e3,15e3),wee="__/auth/iframe",Iee="emulator/auth/iframe",bee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eee(n){let e=n.config;Je(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?OT(e,Iee):`https://${n.config.authDomain}/${wee}`,i={apiKey:e.apiKey,appName:n.name,v:vl},r=Cee.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Rp(i).slice(1)}`}function Tee(n){return H(this,null,function*(){let e=yield yee(n),t=ao().gapi;return Je(t,n,"internal-error"),e.open({where:document.body,url:Eee(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bee,dontclear:!0},i=>new Promise((r,s)=>H(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Uc(n,"network-request-failed"),a=ao().setTimeout(()=>{s(o)},vee.get());function l(){ao().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var xee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},See=500,Dee=600,Aee="_blank",Ree="http://localhost",$y=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mee(n,e,t,i=See,r=Dee){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},xee),{width:i.toString(),height:r.toString(),top:s,left:o}),c=ci().toLowerCase();t&&(a=wV(c)?Aee:t),vV(c)&&(e=e||Ree,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(pJ(c)&&a!=="_self")return kee(e||"",a),new $y(null);let h=window.open(e||"",a,u);Je(h,n,"popup-blocked");try{h.focus()}catch{}return new $y(h)}function kee(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Pee="__/auth/handler",Oee="emulator/auth/handler",Fee=encodeURIComponent("fac");function aV(n,e,t,i,r,s){return H(this,null,function*(){Je(n.config.authDomain,n,"auth-domain-config-required"),Je(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:vl,eventId:r};if(e instanceof Uy){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",R3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof ET){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${Fee}=${encodeURIComponent(l)}`:"";return`${Lee(n)}?${Rp(a).slice(1)}${c}`})}function Lee({config:n}){return n.emulator?OT(n,Oee):`https://${n.authDomain}/${Pee}`}var pT="webStorageSupport",MT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=lee,this._overrideRedirectResult=see}_openPopup(e,t,i,r){return H(this,null,function*(){var s;bl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield aV(e,t,i,mT(),r);return Mee(e,o,OV())})}_openRedirect(e,t,i,r){return H(this,null,function*(){yield this._originValidation(e);let s=yield aV(e,t,i,mT(),r);return HJ(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(bl(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return H(this,null,function*(){let t=yield Tee(e),i=new RT(e);return t.register("authEvent",r=>(Je(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pT,{type:pT},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[pT];o!==void 0&&t(!!o),lo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pee(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TV()||VT()||Wy()}},UV=MT;var lV="@firebase/auth",cV="1.7.6";var kT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return H(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Nee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vee(n){yl(new rs("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xV(n)},c=new bT(i,r,s,l);return EJ(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yl(new rs("auth-internal",e=>{let t=qd(e.getProvider("auth").getImmediate());return(i=>new kT(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(lV,cV,Nee(n)),ui(lV,cV,"esm2017")}var Bee=5*60,Uee=qE("authIdTokenMaxAge")||Bee,uV=null,jee=n=>e=>H(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Uee)return;let r=t?.token;uV!==r&&(uV=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function WT(n=zd()){let e=Pp(n,"auth");if(e.isInitialized())return e.getImmediate();let t=BT(n,{popupRedirectResolver:UV,persistence:[VV,PV,GT]}),i=qE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=jee(s.toString());HT(t,o,()=>o(t.currentUser)),Hp(t,a=>o(a))}}let r=GE("auth");return r&&UT(t,`http://${r}`),t}function zee(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vJ({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Uc("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",zee().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vee("Browser");function HV(n){return new pt(function(e){var t=Hp(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var $V="auth",$c=class{constructor(e){return e}},$p=class{constructor(){return Op($V)}};var qT=new Pe("angularfire2.auth-instances");function Mte(n,e){let t=Sy($V,n,e);return t&&new $c(t)}function kte(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new $c(i)}}var Pte={provide:$p,deps:[[new Mi,qT]]},Ote={provide:$c,useFactory:Mte,deps:[[new Mi,qT],ra]},Fte=(()=>{class n{constructor(){ui("angularfire",Vc.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({providers:[Ote,Pte]})}return n})();function GV(n,...e){return{ngModule:Fte,providers:[{provide:qT,useFactory:kte(n),multi:!0,deps:[Ke,mi,Gd,Bc,[new Mi,$d],...e]}]}}var WV=Br(HV,!0);var qV=Br(WT,!0);var KV=Br(zT,!0);var YV=Br($T,!0);var El=(()=>{let e=class e{constructor(i){this.firebaseAuth=i,this.user$=WV(this.firebaseAuth),this.currentUser=Rn(void 0)}login(i,r){let s=KV(this.firebaseAuth,i,r).then(()=>{});return Ht(s)}logout(){let i=YV(this.firebaseAuth);return Ht(i)}isLogged(){return this.currentUser()!==null&&this.currentUser()!==void 0}};e.\u0275fac=function(r){return new(r||e)(Oe($c))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var QV=(()=>{let e=class e{constructor(i,r,s,o){this.fb=i,this.http=r,this.router=s,this.authService=o,this.form=this.fb.nonNullable.group({email:["",[Ld.required,Ld.email]],password:["",Ld.required]})}onSubmit(){let i=this.form.getRawValue();this.authService.login(i.email,i.password).subscribe({next:()=>{console.log("Login successful"),this.router.navigate(["/home"])},error:r=>{console.error(r)}})}};e.\u0275fac=function(r){return new(r||e)(G(d3),G(MC),G(yi),G(El))},e.\u0275cmp=ee({type:e,selectors:[["app-login"]],standalone:!0,features:[ye],decls:21,vars:2,consts:[[1,"section"],[3,"ngSubmit","formGroup"],["pInputText","","id","email","formControlName","email"],["for","email"],["formControlName","password","id","password",3,"feedback"],["for","password"],["type","submit","label","Accedi"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h1"),ce(2,"Login"),A(),W(3,"br"),x(4,"form",1),J("ngSubmit",function(){return s.onSubmit()}),x(5,"div")(6,"p-floatLabel"),W(7,"input",2),x(8,"label",3),ce(9,"Email"),A()()(),W(10,"br")(11,"br"),x(12,"div")(13,"p-floatLabel"),W(14,"p-password",4),x(15,"label",5),ce(16,"Password"),A()()(),W(17,"br")(18,"br"),x(19,"div"),W(20,"p-button",6),A()()()),r&2&&(y(4),g("formGroup",s.form),y(10),g("feedback",!1))},dependencies:[h3,l3,hy,Vd,t3,OE,FE,is,hl,p3,f3,_3,UE,Ss,Dp],styles:[".section[_ngcontent-%COMP%]{width:fit-content;margin:2em auto;display:flex;flex-flow:column nowrap;border:1px black solid;border-radius:10px;padding:32px;text-align:center}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}"]});let n=e;return n})();var Nte=["overlay"],Vte=["content"],Bte=["*"],Ute=(n,e,t,i,r,s,o,a,l,c,u,h,f,p)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":h,"p-overlay-right-start":f,"p-overlay-right-end":p}),jte=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),zte=n=>({value:"visible",params:n}),Hte=n=>({mode:n}),$te=n=>({$implicit:n});function Gte(n,e){n&1&&ge(0)}function Wte(n,e){if(n&1){let t=pe();x(0,"div",3,1),J("click",function(r){B(t);let s=v(2);return U(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){B(t);let s=v(2);return U(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){B(t);let s=v(2);return U(s.onOverlayContentAnimationDone(r))}),Qn(2),D(3,Gte,1,0,"ng-container",4),A()}if(n&2){let t=v(2);se(t.contentStyleClass),g("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Se(11,zte,ai(7,jte,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),y(3),g("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Se(15,$te,Se(13,Hte,t.overlayMode)))}}function qte(n,e){if(n&1){let t=pe();x(0,"div",3,0),J("click",function(){B(t);let r=v();return U(r.onOverlayClick())}),D(2,Wte,4,17,"div",2),A()}if(n&2){let t=v();se(t.styleClass),g("ngStyle",t.style)("ngClass",hC(5,Ute,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),y(2),g("ngIf",t.visible)}}var Kte={provide:li,useExisting:Cn(()=>YT),multi:!0},Yte=LE([Gi({transform:"{{transform}}",opacity:0}),Ts("{{showTransitionParams}}")]),Qte=LE([Ts("{{hideTransitionParams}}",Gi({transform:"{{transform}}",opacity:0}))]),YT=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return ne.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return ne.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return ne.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return ne.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new X;onBeforeShow=new X;onShow=new X;onBeforeHide=new X;onHide=new X;onAnimationStart=new X;onAnimationDone=new X;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(nn(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return oe(oe({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return oe(oe({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,c){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&L.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Un.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Un.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Es(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Un.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(nt),G(Jt),G(pn),G(cl),G(wt),G(Ke))};static \u0275cmp=ee({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(Nte,5),We(Vte,5)),i&2){let s;be(s=Ce())&&(r.overlayViewChild=s.first),be(s=Ce())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[yn([Kte])],ngContentSelectors:Bte,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(si(),D(0,qte,3,20,"div",2)),i&2&&g("ngIf",r.modalVisible)},dependencies:[kt,St,Vt,Pt],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Bd("overlayContentAnimation",[xs(":enter",[NE(Yte)]),xs(":leave",[NE(Qte)])])]},changeDetection:0})}return n})(),QT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe,Xe]})}return n})();var Xte=["element"],Jte=["content"],ene=["*"],tne=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),ZT=(n,e)=>({$implicit:n,options:e}),nne=n=>({"p-scroller-loading":n}),ine=n=>({"p-component-overlay":n}),rne=n=>({numCols:n}),ZV=n=>({options:n}),sne=()=>({styleClass:"p-scroller-loading-icon"}),one=(n,e)=>({rows:n,columns:e});function ane(n,e){n&1&&ge(0)}function lne(n,e){if(n&1&&(ae(0),D(1,ane,1,0,"ng-container",10),le()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tn(2,ZT,t.loadedItems,t.getContentOptions()))}}function cne(n,e){n&1&&ge(0)}function une(n,e){if(n&1&&(ae(0),D(1,cne,1,0,"ng-container",10),le()),n&2){let t=e.$implicit,i=e.index,r=v(3);y(),g("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tn(2,ZT,t,r.getOptions(i)))}}function dne(n,e){if(n&1&&(x(0,"div",11,3),D(2,une,2,5,"ng-container",12),A()),n&2){let t=v(2);g("ngClass",Se(5,nne,t.d_loading))("ngStyle",t.contentStyle),z("data-pc-section","content"),y(2),g("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function hne(n,e){if(n&1&&W(0,"div",13),n&2){let t=v(2);g("ngStyle",t.spacerStyle),z("data-pc-section","spacer")}}function fne(n,e){n&1&&ge(0)}function pne(n,e){if(n&1&&(ae(0),D(1,fne,1,0,"ng-container",10),le()),n&2){let t=e.index,i=v(4);y(),g("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Se(4,ZV,i.getLoaderOptions(t,i.both&&Se(2,rne,i._numItemsInViewport.cols))))}}function mne(n,e){if(n&1&&(ae(0),D(1,pne,2,6,"ng-container",15),le()),n&2){let t=v(3);y(),g("ngForOf",t.loaderArr)}}function gne(n,e){n&1&&ge(0)}function _ne(n,e){if(n&1&&(ae(0),D(1,gne,1,0,"ng-container",10),le()),n&2){let t=v(4);y(),g("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",Se(3,ZV,oi(2,sne)))}}function yne(n,e){n&1&&W(0,"SpinnerIcon",16),n&2&&(g("styleClass","p-scroller-loading-icon pi-spin"),z("data-pc-section","loadingIcon"))}function vne(n,e){if(n&1&&D(0,_ne,2,5,"ng-container",6)(1,yne,1,2,"ng-template",null,5,an),n&2){let t=Mt(2),i=v(3);g("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function wne(n,e){if(n&1&&(x(0,"div",14),D(1,mne,2,1,"ng-container",6)(2,vne,3,2,"ng-template",null,4,an),A()),n&2){let t=Mt(3),i=v(2);g("ngClass",Se(4,ine,!i.loaderTemplate)),z("data-pc-section","loader"),y(),g("ngIf",i.loaderTemplate)("ngIfElse",t)}}function Ine(n,e){if(n&1){let t=pe();ae(0),x(1,"div",7,1),J("scroll",function(r){B(t);let s=v();return U(s.onContainerScroll(r))}),D(3,lne,2,5,"ng-container",6)(4,dne,3,7,"ng-template",null,2,an)(6,hne,1,2,"div",8)(7,wne,4,6,"div",9),A(),le()}if(n&2){let t=Mt(5),i=v();y(),se(i._styleClass),g("ngStyle",i._style)("ngClass",ai(12,tne,i.inline,i.both,i.horizontal)),z("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),y(2),g("ngIf",i.contentTemplate)("ngIfElse",t),y(3),g("ngIf",i._showSpacer),y(),g("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function bne(n,e){n&1&&ge(0)}function Cne(n,e){if(n&1&&(ae(0),D(1,bne,1,0,"ng-container",10),le()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tn(5,ZT,t.items,tn(2,one,t._items,t.loadedColumns)))}}function Ene(n,e){if(n&1&&(Qn(0),D(1,Cne,2,8,"ng-container",17)),n&2){let t=v();y(),g("ngIf",t.contentTemplate)}}var Yy=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new X;onScroll=new X;onScrollIndexChange=new X;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){nn(this.platformId)&&!this.initialized&&L.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=L.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=L.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||L.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,h=(E=0,M)=>E<=M?0:E,f=(E,M,P)=>E*M+P,p=(E=0,M=0)=>this.scrollTo({left:E,top:M,behavior:i}),_=this.both?{rows:0,cols:0}:0,I=!1,b=!1;this.both?(_={rows:h(t[0],l[0]),cols:h(t[1],l[1])},p(f(_.cols,u[1],c.left),f(_.rows,u[0],c.top)),b=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,I=_.rows!==s.rows||_.cols!==s.cols):(_=h(t,l),this.horizontal?p(f(_,u,c.left),o):p(a,f(_,u,c.top)),b=this.lastScrollPos!==(this.horizontal?a:o),I=_!==s),this.isRangeChanged=I,b&&(this.first=_)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,h=0)=>this.scrollTo({left:u,top:h,behavior:r}),l=i==="to-start",c=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(c,u)=>u||c?Math.ceil(c/(u||c)):0,o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[L.getWidth(this.contentEl),L.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[L.getWidth(this.elementViewChild.nativeElement),L.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=it(oe({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=it(oe({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(b,E)=>b?b>E?b-E:b:0,o=(b,E)=>E||b?Math.floor(b/(E||b)):0,a=(b,E,M,P,F,$)=>b<=F?F:$?M-P-F:E+F-1,l=(b,E,M,P,F,$,Y)=>b<=$?0:Math.max(0,Y?b<E?M:b-$:b>E?M:b-2*$),c=(b,E,M,P,F,$=!1)=>{let Y=E+P+2*F;return b>=F&&(Y+=F+1),this.getLast(Y,$)},u=s(i.scrollTop,r.top),h=s(i.scrollLeft,r.left),f=this.both?{rows:0,cols:0}:0,p=this.last,_=!1,I=this.lastScrollPos;if(this.both){let b=this.lastScrollPos.top<=u,E=this.lastScrollPos.left<=h;if(!this._appendOnly||this._appendOnly&&(b||E)){let M={rows:o(u,this._itemSize[0]),cols:o(h,this._itemSize[1])},P={rows:a(M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:a(M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)};f={rows:l(M.rows,P.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:l(M.cols,P.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)},p={rows:c(M.rows,f.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(M.cols,f.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},_=f.rows!==this.first.rows||p.rows!==this.last.rows||f.cols!==this.first.cols||p.cols!==this.last.cols||this.isRangeChanged,I={top:u,left:h}}}else{let b=this.horizontal?h:u,E=this.lastScrollPos<=b;if(!this._appendOnly||this._appendOnly&&E){let M=o(b,this._itemSize),P=a(M,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E);f=l(M,P,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E),p=c(M,f,this.last,this.numItemsInViewport,this.d_numToleratedItems),_=f!==this.first||p!==this.last||this.isRangeChanged,I=b}}return{first:f,last:p,isRangeChanged:_,scrollPos:I}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){nn(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=L.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[L.getWidth(this.elementViewChild?.nativeElement),L.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return oe({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(Jt),G(wt),G(Ke))};static \u0275cmp=ee({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(Xte,5),We(Jte,5)),i&2){let s;be(s=Ce())&&(r.elementViewChild=s.first),be(s=Ce())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[hn],ngContentSelectors:ene,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(si(),D(0,Ine,8,16,"ng-container",6)(1,Ene,2,1,"ng-template",null,0,an)),i&2){let s=Mt(2);g("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[kt,gi,St,Vt,Pt,pl],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),Kd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe,pl,Xe]})}return n})();var Tl=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var XT=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"rect",1),A())},encapsulation:2})}return n})();var Yd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var JT=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var Gp=n=>({height:n}),Tne=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),ex=n=>({$implicit:n});function xne(n,e){n&1&&W(0,"CheckIcon",4),n&2&&g("styleClass","p-dropdown-check-icon")}function Sne(n,e){n&1&&W(0,"BlankIcon",4),n&2&&g("styleClass","p-dropdown-blank-icon")}function Dne(n,e){if(n&1&&(ae(0),D(1,xne,1,1,"CheckIcon",3)(2,Sne,1,1,"BlankIcon",3),le()),n&2){let t=v();y(),g("ngIf",t.selected),y(),g("ngIf",!t.selected)}}function Ane(n,e){if(n&1&&(x(0,"span"),ce(1),A()),n&2){let t,i=v();y(),$e((t=i.label)!==null&&t!==void 0?t:"empty")}}function Rne(n,e){n&1&&ge(0)}var Mne=["container"],kne=["filter"],Pne=["focusInput"],One=["editableInput"],Fne=["items"],Lne=["scroller"],Nne=["overlay"],Vne=["firstHiddenFocusableEl"],Bne=["lastHiddenFocusableEl"],Une=n=>({"max-height":n}),JV=n=>({options:n}),jne=n=>({"p-variant-filled":n}),e4=(n,e)=>({$implicit:n,options:e}),zne=()=>({});function Hne(n,e){if(n&1&&(ae(0),ce(1),le()),n&2){let t=v(2);y(),$e(t.label()==="p-emptylabel"?"\xA0":t.label())}}function $ne(n,e){if(n&1&&ge(0,25),n&2){let t=v(2);g("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Se(2,ex,t.selectedOption))}}function Gne(n,e){if(n&1&&(x(0,"span"),ce(1),A()),n&2){let t=v(3);y(),$e(t.label()==="p-emptylabel"?"\xA0":t.label())}}function Wne(n,e){if(n&1&&D(0,Gne,2,1,"span",18),n&2){let t=v(2);g("ngIf",t.isSelectedOptionEmpty())}}function qne(n,e){if(n&1){let t=pe();x(0,"span",23,3),J("focus",function(r){B(t);let s=v();return U(s.onInputFocus(r))})("blur",function(r){B(t);let s=v();return U(s.onInputBlur(r))})("keydown",function(r){B(t);let s=v();return U(s.onKeyDown(r))}),D(2,Hne,2,1,"ng-container",20)(3,$ne,1,4,"ng-container",24)(4,Wne,1,1,"ng-template",null,4,an),A()}if(n&2){let t,i=Mt(5),r=v();g("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),z("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),y(2),g("ngIf",!r.selectedItemTemplate)("ngIfElse",i),y(),g("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function Kne(n,e){if(n&1){let t=pe();x(0,"input",26,5),J("input",function(r){B(t);let s=v();return U(s.onEditableInput(r))})("keydown",function(r){B(t);let s=v();return U(s.onKeyDown(r))})("focus",function(r){B(t);let s=v();return U(s.onInputFocus(r))})("blur",function(r){B(t);let s=v();return U(s.onInputBlur(r))}),A()}if(n&2){let t=v();g("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),z("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function Yne(n,e){if(n&1){let t=pe();x(0,"TimesIcon",29),J("click",function(r){B(t);let s=v(2);return U(s.clear(r))}),A()}n&2&&(g("styleClass","p-dropdown-clear-icon"),z("data-pc-section","clearicon"))}function Qne(n,e){}function Zne(n,e){n&1&&D(0,Qne,0,0,"ng-template")}function Xne(n,e){if(n&1){let t=pe();x(0,"span",30),J("click",function(r){B(t);let s=v(2);return U(s.clear(r))}),D(1,Zne,1,0,null,31),A()}if(n&2){let t=v(2);z("data-pc-section","clearicon"),y(),g("ngTemplateOutlet",t.clearIconTemplate)}}function Jne(n,e){if(n&1&&(ae(0),D(1,Yne,1,2,"TimesIcon",27)(2,Xne,2,2,"span",28),le()),n&2){let t=v();y(),g("ngIf",!t.clearIconTemplate),y(),g("ngIf",t.clearIconTemplate)}}function eie(n,e){n&1&&ge(0)}function tie(n,e){if(n&1&&(ae(0),D(1,eie,1,0,"ng-container",31),le()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.loadingIconTemplate)}}function nie(n,e){if(n&1&&W(0,"span",34),n&2){let t=v(3);g("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function iie(n,e){n&1&&W(0,"span",35),n&2&&se("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function rie(n,e){if(n&1&&(ae(0),D(1,nie,1,1,"span",32)(2,iie,1,2,"span",33),le()),n&2){let t=v(2);y(),g("ngIf",t.loadingIcon),y(),g("ngIf",!t.loadingIcon)}}function sie(n,e){if(n&1&&(ae(0),D(1,tie,2,1,"ng-container",18)(2,rie,3,2,"ng-container",18),le()),n&2){let t=v();y(),g("ngIf",t.loadingIconTemplate),y(),g("ngIf",!t.loadingIconTemplate)}}function oie(n,e){if(n&1&&W(0,"span",39),n&2){let t=v(3);g("ngClass",t.dropdownIcon)}}function aie(n,e){n&1&&W(0,"ChevronDownIcon",40),n&2&&g("styleClass","p-dropdown-trigger-icon")}function lie(n,e){if(n&1&&(ae(0),D(1,oie,1,1,"span",37)(2,aie,1,1,"ChevronDownIcon",38),le()),n&2){let t=v(2);y(),g("ngIf",t.dropdownIcon),y(),g("ngIf",!t.dropdownIcon)}}function cie(n,e){}function uie(n,e){n&1&&D(0,cie,0,0,"ng-template")}function die(n,e){if(n&1&&(x(0,"span",41),D(1,uie,1,0,null,31),A()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.dropdownIconTemplate)}}function hie(n,e){if(n&1&&D(0,lie,3,2,"ng-container",18)(1,die,2,1,"span",36),n&2){let t=v();g("ngIf",!t.dropdownIconTemplate),y(),g("ngIf",t.dropdownIconTemplate)}}function fie(n,e){n&1&&ge(0)}function pie(n,e){n&1&&ge(0)}function mie(n,e){if(n&1&&(ae(0),D(1,pie,1,0,"ng-container",48),le()),n&2){let t=v(3);y(),g("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Se(2,JV,t.filterOptions))}}function gie(n,e){n&1&&W(0,"SearchIcon",40),n&2&&g("styleClass","p-dropdown-filter-icon")}function _ie(n,e){}function yie(n,e){n&1&&D(0,_ie,0,0,"ng-template")}function vie(n,e){if(n&1&&(x(0,"span",52),D(1,yie,1,0,null,31),A()),n&2){let t=v(4);y(),g("ngTemplateOutlet",t.filterIconTemplate)}}function wie(n,e){if(n&1){let t=pe();x(0,"div",49)(1,"input",50,10),J("input",function(r){B(t);let s=v(3);return U(s.onFilterInputChange(r))})("keydown",function(r){B(t);let s=v(3);return U(s.onFilterKeyDown(r))})("blur",function(r){B(t);let s=v(3);return U(s.onFilterBlur(r))}),A(),D(3,gie,1,1,"SearchIcon",38)(4,vie,2,1,"span",51),A()}if(n&2){let t=v(3);y(),g("value",t._filterValue()||"")("ngClass",Se(8,jne,t.variant==="filled"||t.config.inputStyle()==="filled")),z("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),y(2),g("ngIf",!t.filterIconTemplate),y(),g("ngIf",t.filterIconTemplate)}}function Iie(n,e){if(n&1){let t=pe();x(0,"div",47),J("click",function(r){return B(t),U(r.stopPropagation())}),D(1,mie,2,4,"ng-container",20)(2,wie,5,10,"ng-template",null,9,an),A()}if(n&2){let t=Mt(3),i=v(2);y(),g("ngIf",i.filterTemplate)("ngIfElse",t)}}function bie(n,e){n&1&&ge(0)}function Cie(n,e){if(n&1&&D(0,bie,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;v(2);let r=Mt(9);g("ngTemplateOutlet",r)("ngTemplateOutletContext",tn(2,e4,t,i))}}function Eie(n,e){n&1&&ge(0)}function Tie(n,e){if(n&1&&D(0,Eie,1,0,"ng-container",48),n&2){let t=e.options,i=v(4);g("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Se(2,JV,t))}}function xie(n,e){n&1&&(ae(0),D(1,Tie,1,4,"ng-template",54),le())}function Sie(n,e){if(n&1){let t=pe();x(0,"p-scroller",53,11),J("onLazyLoad",function(r){B(t);let s=v(2);return U(s.onLazyLoad.emit(r))}),D(2,Cie,1,5,"ng-template",22)(3,xie,2,0,"ng-container",18),A()}if(n&2){let t=v(2);c0(Se(8,Gp,t.scrollHeight)),g("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),y(3),g("ngIf",t.loaderTemplate)}}function Die(n,e){n&1&&ge(0)}function Aie(n,e){if(n&1&&(ae(0),D(1,Die,1,0,"ng-container",48),le()),n&2){v();let t=Mt(9),i=v();y(),g("ngTemplateOutlet",t)("ngTemplateOutletContext",tn(3,e4,i.visibleOptions(),oi(2,zne)))}}function Rie(n,e){if(n&1&&(x(0,"span"),ce(1),A()),n&2){let t=v(2).$implicit,i=v(3);y(),$e(i.getOptionGroupLabel(t.optionGroup))}}function Mie(n,e){n&1&&ge(0)}function kie(n,e){if(n&1&&(ae(0),x(1,"li",58),D(2,Rie,2,1,"span",18)(3,Mie,1,0,"ng-container",48),A(),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v().options,o=v(2);y(),g("ngStyle",Se(5,Gp,s.itemSize+"px")),z("id",o.id+"_"+o.getOptionIndex(r,s)),y(),g("ngIf",!o.groupTemplate),y(),g("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Se(7,ex,i.optionGroup))}}function Pie(n,e){if(n&1){let t=pe();ae(0),x(1,"p-dropdownItem",59),J("onClick",function(r){B(t);let s=v().$implicit,o=v(3);return U(o.onOptionSelect(r,s))})("onMouseEnter",function(r){B(t);let s=v().index,o=v().options,a=v(2);return U(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),A(),le()}if(n&2){let t=v(),i=t.$implicit,r=t.index,s=v().options,o=v(2);y(),g("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function Oie(n,e){if(n&1&&D(0,kie,4,9,"ng-container",18)(1,Pie,2,10,"ng-container",18),n&2){let t=e.$implicit,i=v(3);g("ngIf",i.isOptionGroup(t)),y(),g("ngIf",!i.isOptionGroup(t))}}function Fie(n,e){if(n&1&&(ae(0),ce(1),le()),n&2){let t=v(4);y(),on(" ",t.emptyFilterMessageLabel," ")}}function Lie(n,e){n&1&&ge(0,null,13)}function Nie(n,e){if(n&1&&(x(0,"li",60),D(1,Fie,2,1,"ng-container",20)(2,Lie,2,0,"ng-container",31),A()),n&2){let t=v().options,i=v(2);g("ngStyle",Se(4,Gp,t.itemSize+"px")),y(),g("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),y(),g("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Vie(n,e){if(n&1&&(ae(0),ce(1),le()),n&2){let t=v(4);y(),on(" ",t.emptyMessageLabel," ")}}function Bie(n,e){n&1&&ge(0,null,14)}function Uie(n,e){if(n&1&&(x(0,"li",60),D(1,Vie,2,1,"ng-container",20)(2,Bie,2,0,"ng-container",31),A()),n&2){let t=v().options,i=v(2);g("ngStyle",Se(4,Gp,t.itemSize+"px")),y(),g("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),y(),g("ngTemplateOutlet",i.emptyTemplate)}}function jie(n,e){if(n&1&&(x(0,"ul",55,12),D(2,Oie,2,2,"ng-template",56)(3,Nie,3,6,"li",57)(4,Uie,3,6,"li",57),A()),n&2){let t=e.$implicit,i=e.options,r=v(2);g("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),z("id",r.id+"_list")("aria-label",r.listLabel),y(2),g("ngForOf",t),y(),g("ngIf",r.filterValue&&r.isEmpty()),y(),g("ngIf",!r.filterValue&&r.isEmpty())}}function zie(n,e){n&1&&ge(0)}function Hie(n,e){if(n&1){let t=pe();x(0,"div",42)(1,"span",43,6),J("focus",function(r){B(t);let s=v();return U(s.onFirstHiddenFocus(r))}),A(),D(3,fie,1,0,"ng-container",31)(4,Iie,4,2,"div",44),x(5,"div",45),D(6,Sie,4,10,"p-scroller",46)(7,Aie,2,6,"ng-container",18)(8,jie,5,7,"ng-template",null,7,an),A(),D(10,zie,1,0,"ng-container",31),x(11,"span",43,8),J("focus",function(r){B(t);let s=v();return U(s.onLastHiddenFocus(r))}),A()()}if(n&2){let t=v();se(t.panelStyleClass),g("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),y(),z("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),y(2),g("ngTemplateOutlet",t.headerTemplate),y(),g("ngIf",t.filter),y(),g("ngStyle",Se(16,Une,t.virtualScroll?"auto":t.scrollHeight||"auto")),y(),g("ngIf",t.virtualScroll),y(),g("ngIf",!t.virtualScroll),y(3),g("ngTemplateOutlet",t.footerTemplate),y(),z("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var $ie={provide:li,useExisting:Cn(()=>Wp),multi:!0},Gie=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new X;onMouseEnter=new X;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ee({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[j.HasDecoratorInputTransform,"selected","selected",K],focused:[j.HasDecoratorInputTransform,"focused","focused",K],label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],visible:[j.HasDecoratorInputTransform,"visible","visible",K],itemSize:[j.HasDecoratorInputTransform,"itemSize","itemSize",Ve],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[j.HasDecoratorInputTransform,"checkmark","checkmark",K]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Ct],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(x(0,"li",0),J("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),D(1,Dne,3,2,"ng-container",1)(2,Ane,2,1,"span",1)(3,Rne,1,0,"ng-container",2),A()),i&2&&(g("id",r.id)("ngStyle",Se(14,Gp,r.itemSize+"px"))("ngClass",ai(16,Tne,r.selected,r.disabled,r.focused)),z("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),y(),g("ngIf",r.checkmark),y(),g("ngIf",!r.template),y(),g("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Se(20,ex,r.option)))},dependencies:()=>[kt,St,Vt,Pt,$i,XT,Tl],encapsulation:2})}return n})(),Wp=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){ne.deepEquals(t,this._options())||this._options.set(t)}onChange=new X;onFilter=new X;onFocus=new X;onBlur=new X;onClick=new X;onShow=new X;onHide=new X;onClear=new X;onLazyLoad=new X;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Rn(null);_placeholder=Rn(void 0);modelValue=Rn(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Rn(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Rn(-1);labelId;listId;clicked=Rn(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(jn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(jn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(jn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=el(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&o.push(it(oe({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(o)}return r}return t});label=el(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=el(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=el(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,Kf(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&ne.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}ne.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&ne.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Ut(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&L.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ne.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return ne.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?ne.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?ne.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?ne.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ne.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ne.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&ne.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=L.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{L.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{L.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&ne.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?ne.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return ne.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())L.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;L.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(i)}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?L.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(G(nt),G(Jt),G(wt),G(Ke),G(ry),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(Mne,5),We(kne,5),We(Pne,5),We(One,5),We(Fne,5),We(Lne,5),We(Nne,5),We(Vne,5),We(Bne,5)),i&2){let s;be(s=Ce())&&(r.containerViewChild=s.first),be(s=Ce())&&(r.filterViewChild=s.first),be(s=Ce())&&(r.focusInputViewChild=s.first),be(s=Ce())&&(r.editableInputViewChild=s.first),be(s=Ce())&&(r.itemsViewChild=s.first),be(s=Ce())&&(r.scroller=s.first),be(s=Ce())&&(r.overlayViewChild=s.first),be(s=Ce())&&(r.firstHiddenFocusableElementOnOverlay=s.first),be(s=Ce())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[j.HasDecoratorInputTransform,"filter","filter",K],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],required:[j.HasDecoratorInputTransform,"required","required",K],editable:[j.HasDecoratorInputTransform,"editable","editable",K],appendTo:"appendTo",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],resetFilterOnHide:[j.HasDecoratorInputTransform,"resetFilterOnHide","resetFilterOnHide",K],checkmark:[j.HasDecoratorInputTransform,"checkmark","checkmark",K],dropdownIcon:"dropdownIcon",loading:[j.HasDecoratorInputTransform,"loading","loading",K],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[j.HasDecoratorInputTransform,"autoDisplayFirst","autoDisplayFirst",K],group:[j.HasDecoratorInputTransform,"group","group",K],showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[j.HasDecoratorInputTransform,"lazy","lazy",K],virtualScroll:[j.HasDecoratorInputTransform,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[j.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Ve],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[j.HasDecoratorInputTransform,"focusOnHover","focusOnHover",K],selectOnFocus:[j.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",K],autoOptionFocus:[j.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",K],autofocusFilter:[j.HasDecoratorInputTransform,"autofocusFilter","autofocusFilter",K],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[yn([$ie]),Ct],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=pe();x(0,"div",15,0),J("click",function(a){return B(s),U(r.onContainerClick(a))}),D(2,qne,6,20,"span",16)(3,Kne,2,8,"input",17)(4,Jne,3,2,"ng-container",18),x(5,"div",19),J("mousedown",function(a){return B(s),U(r.onMouseDown(a))}),D(6,sie,3,2,"ng-container",20)(7,hie,2,2,"ng-template",null,1,an),A(),x(9,"p-overlay",21,2),to("visibleChange",function(a){return B(s),Qo(r.overlayVisible,a)||(r.overlayVisible=a),U(a)}),J("onAnimationStart",function(a){return B(s),U(r.onOverlayAnimationStart(a))})("onHide",function(){return B(s),U(r.hide())}),D(11,Hie,13,18,"ng-template",22),A()()}if(i&2){let s,o=Mt(8);se(r.styleClass),g("ngClass",r.containerClass)("ngStyle",r.style),z("id",r.id),y(2),g("ngIf",!r.editable),y(),g("ngIf",r.editable),y(),g("ngIf",r.isVisibleClearIcon),y(),z("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),y(),g("ngIf",r.loading)("ngIfElse",o),y(3),eo("visible",r.overlayVisible),g("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[kt,gi,St,Vt,Pt,YT,ot,Od,Yy,Wi,Ii,Yd,JT,Gie],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),Gc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,QT,Xe,ul,gr,Kd,_r,Ii,Yd,JT,XT,Tl,QT,Xe,Kd]})}return n})();var tx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var nx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Wie=["container"],qie=["inputfield"],Kie=["contentWrapper"],Yie=[[["p-header"]],[["p-footer"]]],Qie=["p-header","p-footer"],Zie=(n,e,t,i,r)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":e,"p-calendar-timeonly":t,"p-calendar-disabled":i,"p-focus":r}),Xie=n=>({clickCallBack:n}),Jie=n=>({"p-datepicker-icon":n}),ere=(n,e,t,i,r,s)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}),n4=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),tre=n=>({value:"visibleTouchUI",params:n}),nre=n=>({value:"visible",params:n}),ix=n=>({$implicit:n}),ire=(n,e)=>({"p-datepicker-other-month":n,"p-datepicker-today":e}),rre=(n,e)=>({"p-highlight p-datepicker-current-day":n,"p-disabled":e}),r4=(n,e)=>({"p-highlight":n,"p-disabled":e}),i4=n=>[n];function sre(n,e){if(n&1){let t=pe();x(0,"TimesIcon",11),J("click",function(){B(t);let r=v(3);return U(r.clear())}),A()}n&2&&g("styleClass","p-calendar-clear-icon")}function ore(n,e){}function are(n,e){n&1&&D(0,ore,0,0,"ng-template")}function lre(n,e){if(n&1){let t=pe();x(0,"span",12),J("click",function(){B(t);let r=v(3);return U(r.clear())}),D(1,are,1,0,null,13),A()}if(n&2){let t=v(3);y(),g("ngTemplateOutlet",t.clearIconTemplate)}}function cre(n,e){if(n&1&&(ae(0),D(1,sre,1,1,"TimesIcon",9)(2,lre,2,1,"span",10),le()),n&2){let t=v(2);y(),g("ngIf",!t.clearIconTemplate),y(),g("ngIf",t.clearIconTemplate)}}function ure(n,e){if(n&1&&W(0,"span",16),n&2){let t=v(3);g("ngClass",t.icon)}}function dre(n,e){n&1&&W(0,"CalendarIcon")}function hre(n,e){}function fre(n,e){n&1&&D(0,hre,0,0,"ng-template")}function pre(n,e){if(n&1&&(ae(0),D(1,dre,1,0,"CalendarIcon",7)(2,fre,1,0,null,13),le()),n&2){let t=v(3);y(),g("ngIf",!t.triggerIconTemplate),y(),g("ngTemplateOutlet",t.triggerIconTemplate)}}function mre(n,e){if(n&1){let t=pe();x(0,"button",14),J("click",function(r){B(t),v();let s=Mt(1),o=v();return U(o.onButtonClick(r,s))}),D(1,ure,1,1,"span",15)(2,pre,3,2,"ng-container",7),A()}if(n&2){let t,i=v(2);g("disabled",i.disabled),z("aria-label",i.iconButtonAriaLabel)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null),y(),g("ngIf",i.icon),y(),g("ngIf",!i.icon)}}function gre(n,e){if(n&1){let t=pe();x(0,"CalendarIcon",19),J("click",function(r){B(t);let s=v(3);return U(s.onButtonClick(r))}),A()}if(n&2){let t=v(3);g("ngClass",Se(1,Jie,t.showOnFocus))}}function _re(n,e){n&1&&ge(0)}function yre(n,e){if(n&1&&(ae(0),D(1,gre,1,3,"CalendarIcon",17)(2,_re,1,0,"ng-container",18),le()),n&2){let t=v(2);y(),g("ngIf",!t.inputIconTemplate),y(),g("ngTemplateOutlet",t.inputIconTemplate)("ngTemplateOutletContext",Se(3,Xie,t.onButtonClick.bind(t)))}}function vre(n,e){if(n&1){let t=pe();x(0,"input",6,1),J("focus",function(r){B(t);let s=v();return U(s.onInputFocus(r))})("keydown",function(r){B(t);let s=v();return U(s.onInputKeydown(r))})("click",function(){B(t);let r=v();return U(r.onInputClick())})("blur",function(r){B(t);let s=v();return U(s.onInputBlur(r))})("input",function(r){B(t);let s=v();return U(s.onUserInput(r))}),A(),D(2,cre,3,2,"ng-container",7)(3,mre,3,6,"button",8)(4,yre,3,5,"ng-container",7)}if(n&2){let t,i=v();se(i.inputStyleClass),g("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),z("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),y(2),g("ngIf",i.showClear&&!i.disabled&&i.value!=null),y(),g("ngIf",i.showIcon&&i.iconDisplay==="button"),y(),g("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function wre(n,e){n&1&&ge(0)}function Ire(n,e){n&1&&W(0,"ChevronLeftIcon",40),n&2&&g("styleClass","p-datepicker-prev-icon")}function bre(n,e){}function Cre(n,e){n&1&&D(0,bre,0,0,"ng-template")}function Ere(n,e){if(n&1&&(x(0,"span",41),D(1,Cre,1,0,null,13),A()),n&2){let t=v(5);y(),g("ngTemplateOutlet",t.previousIconTemplate)}}function Tre(n,e){if(n&1){let t=pe();x(0,"button",38),J("keydown",function(r){B(t);let s=v(4);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(4);return U(s.onPrevButtonClick(r))}),D(1,Ire,1,1,"ChevronLeftIcon",35)(2,Ere,2,1,"span",39),A()}if(n&2){let t=v(4);z("aria-label",t.prevIconAriaLabel),y(),g("ngIf",!t.previousIconTemplate),y(),g("ngIf",t.previousIconTemplate)}}function xre(n,e){if(n&1){let t=pe();x(0,"button",42),J("click",function(r){B(t);let s=v(4);return U(s.switchToMonthView(r))})("keydown",function(r){B(t);let s=v(4);return U(s.onContainerButtonKeydown(r))}),ce(1),A()}if(n&2){let t=v().$implicit,i=v(3);g("disabled",i.switchViewButtonDisabled()),z("aria-label",i.getTranslation("chooseMonth")),y(),on(" ",i.getMonthName(t.month)," ")}}function Sre(n,e){if(n&1){let t=pe();x(0,"button",43),J("click",function(r){B(t);let s=v(4);return U(s.switchToYearView(r))})("keydown",function(r){B(t);let s=v(4);return U(s.onContainerButtonKeydown(r))}),ce(1),A()}if(n&2){let t=v().$implicit,i=v(3);g("disabled",i.switchViewButtonDisabled()),z("aria-label",i.getTranslation("chooseYear")),y(),on(" ",i.getYear(t)," ")}}function Dre(n,e){if(n&1&&(ae(0),ce(1),le()),n&2){let t=v(5);y(),uC("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function Are(n,e){n&1&&ge(0)}function Rre(n,e){if(n&1&&(x(0,"span",44),D(1,Dre,2,2,"ng-container",7)(2,Are,1,0,"ng-container",18),A()),n&2){let t=v(4);y(),g("ngIf",!t.decadeTemplate),y(),g("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",Se(3,ix,t.yearPickerValues))}}function Mre(n,e){n&1&&W(0,"ChevronRightIcon",40),n&2&&g("styleClass","p-datepicker-next-icon")}function kre(n,e){}function Pre(n,e){n&1&&D(0,kre,0,0,"ng-template")}function Ore(n,e){if(n&1&&(x(0,"span",45),D(1,Pre,1,0,null,13),A()),n&2){let t=v(4);y(),g("ngTemplateOutlet",t.nextIconTemplate)}}function Fre(n,e){if(n&1&&(x(0,"th",51)(1,"span"),ce(2),A()()),n&2){let t=v(5);y(2),$e(t.getTranslation("weekHeader"))}}function Lre(n,e){if(n&1&&(x(0,"th",52)(1,"span"),ce(2),A()()),n&2){let t=e.$implicit;y(2),$e(t)}}function Nre(n,e){if(n&1&&(x(0,"td",55)(1,"span",56),ce(2),A()()),n&2){let t=v().index,i=v(2).$implicit;y(2),on(" ",i.weekNumbers[t]," ")}}function Vre(n,e){if(n&1&&(ae(0),ce(1),le()),n&2){let t=v(2).$implicit;y(),$e(t.day)}}function Bre(n,e){n&1&&ge(0)}function Ure(n,e){if(n&1&&(ae(0),D(1,Bre,1,0,"ng-container",18),le()),n&2){let t=v(2).$implicit,i=v(6);y(),g("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",Se(2,ix,t))}}function jre(n,e){n&1&&ge(0)}function zre(n,e){if(n&1&&(ae(0),D(1,jre,1,0,"ng-container",18),le()),n&2){let t=v(2).$implicit,i=v(6);y(),g("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",Se(2,ix,t))}}function Hre(n,e){if(n&1&&(x(0,"div",59),ce(1),A()),n&2){let t=v(2).$implicit;y(),on(" ",t.day," ")}}function $re(n,e){if(n&1){let t=pe();ae(0),x(1,"span",57),J("click",function(r){B(t);let s=v().$implicit,o=v(6);return U(o.onDateSelect(r,s))})("keydown",function(r){B(t);let s=v().$implicit,o=v(3).index,a=v(3);return U(a.onDateCellKeydown(r,s,o))}),D(2,Vre,2,1,"ng-container",7)(3,Ure,2,4,"ng-container",7)(4,zre,2,4,"ng-container",7),A(),D(5,Hre,2,1,"div",58),le()}if(n&2){let t=v().$implicit,i=v(6);y(),g("ngClass",tn(6,rre,i.isSelected(t)&&t.selectable,!t.selectable)),z("data-date",i.formatDateKey(i.formatDateMetaToDate(t))),y(),g("ngIf",!i.dateTemplate&&(t.selectable||!i.disabledDateTemplate)),y(),g("ngIf",t.selectable||!i.disabledDateTemplate),y(),g("ngIf",!t.selectable),y(),g("ngIf",i.isSelected(t))}}function Gre(n,e){if(n&1&&(x(0,"td",16),D(1,$re,6,9,"ng-container",7),A()),n&2){let t=e.$implicit,i=v(6);g("ngClass",tn(3,ire,t.otherMonth,t.today)),z("aria-label",t.day),y(),g("ngIf",t.otherMonth?i.showOtherMonths:!0)}}function Wre(n,e){if(n&1&&(x(0,"tr"),D(1,Nre,3,1,"td",53)(2,Gre,2,6,"td",54),A()),n&2){let t=e.$implicit,i=v(5);y(),g("ngIf",i.showWeek),y(),g("ngForOf",t)}}function qre(n,e){if(n&1&&(x(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),D(4,Fre,3,1,"th",48)(5,Lre,3,1,"th",49),A()(),x(6,"tbody"),D(7,Wre,3,2,"tr",50),A()()()),n&2){let t=v().$implicit,i=v(3);y(4),g("ngIf",i.showWeek),y(),g("ngForOf",i.weekDays),y(2),g("ngForOf",t.dates)}}function Kre(n,e){if(n&1){let t=pe();x(0,"div",27)(1,"div",28),D(2,Tre,3,3,"button",29),x(3,"div",30),D(4,xre,2,3,"button",31)(5,Sre,2,3,"button",32)(6,Rre,3,5,"span",33),A(),x(7,"button",34),J("keydown",function(r){B(t);let s=v(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(3);return U(s.onNextButtonClick(r))}),D(8,Mre,1,1,"ChevronRightIcon",35)(9,Ore,2,1,"span",36),A()(),D(10,qre,8,3,"div",37),A()}if(n&2){let t=e.index,i=v(3);y(2),g("ngIf",t===0),y(2),g("ngIf",i.currentView==="date"),y(),g("ngIf",i.currentView!=="year"),y(),g("ngIf",i.currentView==="year"),y(),Gf("display",i.numberOfMonths===1||t===i.numberOfMonths-1?"inline-flex":"none"),z("aria-label",i.nextIconAriaLabel),y(),g("ngIf",!i.nextIconTemplate),y(),g("ngIf",i.nextIconTemplate),y(),g("ngIf",i.currentView==="date")}}function Yre(n,e){if(n&1&&(x(0,"div",59),ce(1),A()),n&2){let t=v().$implicit;y(),on(" ",t," ")}}function Qre(n,e){if(n&1){let t=pe();x(0,"span",62),J("click",function(r){let s=B(t).index,o=v(4);return U(o.onMonthSelect(r,s))})("keydown",function(r){let s=B(t).index,o=v(4);return U(o.onMonthCellKeydown(r,s))}),ce(1),D(2,Yre,2,1,"div",58),A()}if(n&2){let t=e.$implicit,i=e.index,r=v(4);g("ngClass",tn(3,r4,r.isMonthSelected(i),r.isMonthDisabled(i))),y(),on(" ",t," "),y(),g("ngIf",r.isMonthSelected(i))}}function Zre(n,e){if(n&1&&(x(0,"div",60),D(1,Qre,3,6,"span",61),A()),n&2){let t=v(3);y(),g("ngForOf",t.monthPickerValues())}}function Xre(n,e){if(n&1&&(x(0,"div",59),ce(1),A()),n&2){let t=v().$implicit;y(),on(" ",t," ")}}function Jre(n,e){if(n&1){let t=pe();x(0,"span",65),J("click",function(r){let s=B(t).$implicit,o=v(4);return U(o.onYearSelect(r,s))})("keydown",function(r){let s=B(t).$implicit,o=v(4);return U(o.onYearCellKeydown(r,s))}),ce(1),D(2,Xre,2,1,"div",58),A()}if(n&2){let t=e.$implicit,i=v(4);g("ngClass",tn(3,r4,i.isYearSelected(t),i.isYearDisabled(t))),y(),on(" ",t," "),y(),g("ngIf",i.isYearSelected(t))}}function ese(n,e){if(n&1&&(x(0,"div",63),D(1,Jre,3,6,"span",64),A()),n&2){let t=v(3);y(),g("ngForOf",t.yearPickerValues())}}function tse(n,e){if(n&1&&(ae(0),x(1,"div",23),D(2,Kre,11,10,"div",24),A(),D(3,Zre,2,1,"div",25)(4,ese,2,1,"div",26),le()),n&2){let t=v(2);y(2),g("ngForOf",t.months),y(),g("ngIf",t.currentView==="month"),y(),g("ngIf",t.currentView==="year")}}function nse(n,e){n&1&&W(0,"ChevronUpIcon")}function ise(n,e){}function rse(n,e){n&1&&D(0,ise,0,0,"ng-template")}function sse(n,e){n&1&&(ae(0),ce(1,"0"),le())}function ose(n,e){n&1&&W(0,"ChevronDownIcon")}function ase(n,e){}function lse(n,e){n&1&&D(0,ase,0,0,"ng-template")}function cse(n,e){n&1&&W(0,"ChevronUpIcon")}function use(n,e){}function dse(n,e){n&1&&D(0,use,0,0,"ng-template")}function hse(n,e){n&1&&(ae(0),ce(1,"0"),le())}function fse(n,e){n&1&&W(0,"ChevronDownIcon")}function pse(n,e){}function mse(n,e){n&1&&D(0,pse,0,0,"ng-template")}function gse(n,e){if(n&1&&(x(0,"div",69)(1,"span"),ce(2),A()()),n&2){let t=v(3);y(2),$e(t.timeSeparator)}}function _se(n,e){n&1&&W(0,"ChevronUpIcon")}function yse(n,e){}function vse(n,e){n&1&&D(0,yse,0,0,"ng-template")}function wse(n,e){n&1&&(ae(0),ce(1,"0"),le())}function Ise(n,e){n&1&&W(0,"ChevronDownIcon")}function bse(n,e){}function Cse(n,e){n&1&&D(0,bse,0,0,"ng-template")}function Ese(n,e){if(n&1){let t=pe();x(0,"div",74)(1,"button",68),J("keydown",function(r){B(t);let s=v(3);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(3);return U(s.incrementSecond(r))})("keydown.space",function(r){B(t);let s=v(3);return U(s.incrementSecond(r))})("mousedown",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(3);return U(r.onTimePickerElementMouseLeave())}),D(2,_se,1,0,"ChevronUpIcon",7)(3,vse,1,0,null,13),A(),x(4,"span"),D(5,wse,2,0,"ng-container",7),ce(6),A(),x(7,"button",68),J("keydown",function(r){B(t);let s=v(3);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(3);return U(s.decrementSecond(r))})("keydown.space",function(r){B(t);let s=v(3);return U(s.decrementSecond(r))})("mousedown",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(3);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(3);return U(r.onTimePickerElementMouseLeave())}),D(8,Ise,1,0,"ChevronDownIcon",7)(9,Cse,1,0,null,13),A()()}if(n&2){let t=v(3);y(),z("aria-label",t.getTranslation("nextSecond")),y(),g("ngIf",!t.incrementIconTemplate),y(),g("ngTemplateOutlet",t.incrementIconTemplate),y(2),g("ngIf",t.currentSecond<10),y(),$e(t.currentSecond),y(),z("aria-label",t.getTranslation("prevSecond")),y(),g("ngIf",!t.decrementIconTemplate),y(),g("ngTemplateOutlet",t.decrementIconTemplate)}}function Tse(n,e){n&1&&W(0,"ChevronUpIcon")}function xse(n,e){}function Sse(n,e){n&1&&D(0,xse,0,0,"ng-template")}function Dse(n,e){n&1&&W(0,"ChevronDownIcon")}function Ase(n,e){}function Rse(n,e){n&1&&D(0,Ase,0,0,"ng-template")}function Mse(n,e){if(n&1){let t=pe();x(0,"div",75)(1,"button",76),J("keydown",function(r){B(t);let s=v(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(3);return U(s.toggleAMPM(r))})("keydown.enter",function(r){B(t);let s=v(3);return U(s.toggleAMPM(r))}),D(2,Tse,1,0,"ChevronUpIcon",7)(3,Sse,1,0,null,13),A(),x(4,"span"),ce(5),A(),x(6,"button",76),J("keydown",function(r){B(t);let s=v(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(3);return U(s.toggleAMPM(r))})("keydown.enter",function(r){B(t);let s=v(3);return U(s.toggleAMPM(r))}),D(7,Dse,1,0,"ChevronDownIcon",7)(8,Rse,1,0,null,13),A()()}if(n&2){let t=v(3);y(),z("aria-label",t.getTranslation("am")),y(),g("ngIf",!t.incrementIconTemplate),y(),g("ngTemplateOutlet",t.incrementIconTemplate),y(2),$e(t.pm?"PM":"AM"),y(),z("aria-label",t.getTranslation("pm")),y(),g("ngIf",!t.decrementIconTemplate),y(),g("ngTemplateOutlet",t.decrementIconTemplate)}}function kse(n,e){if(n&1){let t=pe();x(0,"div",66)(1,"div",67)(2,"button",68),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(2);return U(s.incrementHour(r))})("keydown.space",function(r){B(t);let s=v(2);return U(s.incrementHour(r))})("mousedown",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(2);return U(r.onTimePickerElementMouseLeave())}),D(3,nse,1,0,"ChevronUpIcon",7)(4,rse,1,0,null,13),A(),x(5,"span"),D(6,sse,2,0,"ng-container",7),ce(7),A(),x(8,"button",68),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(2);return U(s.decrementHour(r))})("keydown.space",function(r){B(t);let s=v(2);return U(s.decrementHour(r))})("mousedown",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(2);return U(r.onTimePickerElementMouseLeave())}),D(9,ose,1,0,"ChevronDownIcon",7)(10,lse,1,0,null,13),A()(),x(11,"div",69)(12,"span"),ce(13),A()(),x(14,"div",70)(15,"button",68),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(2);return U(s.incrementMinute(r))})("keydown.space",function(r){B(t);let s=v(2);return U(s.incrementMinute(r))})("mousedown",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(2);return U(r.onTimePickerElementMouseLeave())}),D(16,cse,1,0,"ChevronUpIcon",7)(17,dse,1,0,null,13),A(),x(18,"span"),D(19,hse,2,0,"ng-container",7),ce(20),A(),x(21,"button",68),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=v(2);return U(s.decrementMinute(r))})("keydown.space",function(r){B(t);let s=v(2);return U(s.decrementMinute(r))})("mousedown",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=v(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=v(2);return U(r.onTimePickerElementMouseLeave())}),D(22,fse,1,0,"ChevronDownIcon",7)(23,mse,1,0,null,13),A()(),D(24,gse,3,1,"div",71)(25,Ese,10,8,"div",72)(26,Mse,9,7,"div",73),A()}if(n&2){let t=v(2);y(2),z("aria-label",t.getTranslation("nextHour")),y(),g("ngIf",!t.incrementIconTemplate),y(),g("ngTemplateOutlet",t.incrementIconTemplate),y(2),g("ngIf",t.currentHour<10),y(),$e(t.currentHour),y(),z("aria-label",t.getTranslation("prevHour")),y(),g("ngIf",!t.decrementIconTemplate),y(),g("ngTemplateOutlet",t.decrementIconTemplate),y(3),$e(t.timeSeparator),y(2),z("aria-label",t.getTranslation("nextMinute")),y(),g("ngIf",!t.incrementIconTemplate),y(),g("ngTemplateOutlet",t.incrementIconTemplate),y(2),g("ngIf",t.currentMinute<10),y(),$e(t.currentMinute),y(),z("aria-label",t.getTranslation("prevMinute")),y(),g("ngIf",!t.decrementIconTemplate),y(),g("ngTemplateOutlet",t.decrementIconTemplate),y(),g("ngIf",t.showSeconds),y(),g("ngIf",t.showSeconds),y(),g("ngIf",t.hourFormat=="12")}}function Pse(n,e){if(n&1){let t=pe();x(0,"div",77)(1,"button",78),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(2);return U(s.onTodayButtonClick(r))}),A(),x(2,"button",78),J("keydown",function(r){B(t);let s=v(2);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=v(2);return U(s.onClearButtonClick(r))}),A()()}if(n&2){let t=v(2);y(),g("label",t.getTranslation("today"))("ngClass",Se(4,i4,t.todayButtonStyleClass)),y(),g("label",t.getTranslation("clear"))("ngClass",Se(6,i4,t.clearButtonStyleClass))}}function Ose(n,e){n&1&&ge(0)}function Fse(n,e){if(n&1){let t=pe();x(0,"div",20,2),J("@overlayAnimation.start",function(r){B(t);let s=v();return U(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){B(t);let s=v();return U(s.onOverlayAnimationDone(r))})("click",function(r){B(t);let s=v();return U(s.onOverlayClick(r))}),Qn(2),D(3,wre,1,0,"ng-container",13)(4,tse,5,3,"ng-container",7)(5,kse,27,20,"div",21)(6,Pse,3,8,"div",22),Qn(7,1),D(8,Ose,1,0,"ng-container",13),A()}if(n&2){let t=v();se(t.panelStyleClass),g("ngStyle",t.panelStyle)("ngClass",Ec(15,ere,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,t.view==="month",t.touchUI))("@overlayAnimation",t.touchUI?Se(25,tre,tn(22,n4,t.showTransitionOptions,t.hideTransitionOptions)):Se(30,nre,tn(27,n4,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",t.inline===!0),z("id",t.panelId)("aria-label",t.getTranslation("chooseDate"))("role",t.inline?null:"dialog")("aria-modal",t.inline?null:"true"),y(3),g("ngTemplateOutlet",t.headerTemplate),y(),g("ngIf",!t.timeOnly),y(),g("ngIf",(t.showTime||t.timeOnly)&&t.currentView==="date"),y(),g("ngIf",t.showButtonBar),y(2),g("ngTemplateOutlet",t.footerTemplate)}}var Lse={provide:li,useExisting:Cn(()=>Nse),multi:!0},Nse=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(t){this._minDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){let i=t.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){let i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new X;onBlur=new X;onClose=new X;onSelect=new X;onClear=new X;onInput=new X;onTodayClick=new X;onClearClick=new X;onMonthChange=new X;onYearChange=new X;onClickOutside=new X;onShow=new X;templates;containerViewChild;inputfieldViewChild;set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(t,i,r,s,o,a,l){this.document=t,this.el=i,this.renderer=r,this.cd=s,this.zone=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Ut(),this.panelId=this.attributeSelector+"_panel";let t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"inputicon":this.inputIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"decrementicon":this.decrementIconTemplate=t.template;break;case"incrementicon":this.incrementIconTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.dateTemplate=t.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=L.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,i){this.yearOptions=[];for(let r=t;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),i=this.getTranslation(jn.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[t]),t=t==6?0:++t}monthPickerValues(){let t=[];for(let i=0;i<=11;i++)t.push(this.config.getTranslation("monthNamesShort")[i]);return t}yearPickerValues(){let t=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)t.push(i+r);return t}createMonths(t,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=t+r,o=i;s>11&&(s=s%11-1,o=i+1),this.months.push(this.createMonth(s,o))}}getWeekNumber(t){let i=new Date(t.getTime());if(this.startWeekFromFirstDayOfYear){let s=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+s-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(t,i){let r=[],s=this.getFirstDayOfMonthIndex(t,i),o=this.getDaysCountInMonth(t,i),a=this.getDaysCountInPrevMonth(t,i),l=1,c=new Date,u=[],h=Math.ceil((o+s)/7);for(let f=0;f<h;f++){let p=[];if(f==0){for(let I=a-s+1;I<=a;I++){let b=this.getPreviousMonthAndYear(t,i);p.push({day:I,month:b.month,year:b.year,otherMonth:!0,today:this.isToday(c,I,b.month,b.year),selectable:this.isSelectable(I,b.month,b.year,!0)})}let _=7-p.length;for(let I=0;I<_;I++)p.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)}),l++}else for(let _=0;_<7;_++){if(l>o){let I=this.getNextMonthAndYear(t,i);p.push({day:l-o,month:I.month,year:I.year,otherMonth:!0,today:this.isToday(c,l-o,I.month,I.year),selectable:this.isSelectable(l-o,I.month,I.year,!0)})}else p.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),r.push(p)}return{month:t,year:i,dates:r,weekNumbers:u}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]-i,t[t.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]+i,t[t.length-1]+i)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,i){if(this.disabled||!i.selectable){t.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()}shouldSelectDate(t){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(t,i){this.view==="month"?this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,i){this.view==="year"?this.onDateSelect(t,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value){if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);t+=r,i!==this.value.length-1&&(t+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];t=this.formatDateTime(i),r&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let i=this.keepInvalid?t:null,r=this.isValidDateForTimeConstraints(t);return this.isValidDate(t)?this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t))):this.dataType==="string"&&(i=t),i=r?i:"",i}formatDateMetaToDate(t){return new Date(t.year,t.month,t.day)}formatDateKey(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}setCurrentHourPM(t){this.hourFormat=="12"?(this.pm=t>11,t>=12?this.currentHour=t==12?12:t-12:this.currentHour=t==0?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let i=this.formatDateMetaToDate(t);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(t){if(this.value=t,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(t,i){let r=new Date;r.setDate(1),r.setMonth(t),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}getDaysCountInPrevMonth(t,i){let r=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(t,i){let r,s;return t===0?(r=11,s=i-1):(r=t-1,s=i),{month:r,year:s}}getNextMonthAndYear(t,i){let r,s;return t===11?(r=0,s=i+1):(r=t+1,s=i),{month:r,year:s}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,t),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,t,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(t,i){let r=i??this.currentYear;for(let s=1;s<this.getDaysCountInMonth(t,r)+1;s++)if(this.isSelectable(s,t,r,!1))return!1;return!0}isYearDisabled(t){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,t))}isYearSelected(t){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===t}return!1}isDateEquals(t,i){return t&&ne.isDate(t)?t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year:!1}isDateBetween(t,i,r){let s=!1;if(ne.isDate(t)&&ne.isDate(i)){let o=this.formatDateMetaToDate(r);return t.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return s}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(t,i,r,s){return t.getDate()===i&&t.getMonth()===r&&t.getFullYear()===s}isSelectable(t,i,r,s){let o=!0,a=!0,l=!0,c=!0;return s&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(t,i,r)),this.disabledDays&&(c=!this.isDayDisabled(t,i,r)),o&&a&&l&&c)}isDateDisabled(t,i,r){if(this.disabledDates){for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===t)return!0}return!1}isDayDisabled(t,i,r){if(this.disabledDays){let o=new Date(r,i,t).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return this.currentView==="month"?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:if(this.inline||this.trapFocus(t),this.inline){let i=L.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=t.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break;default:break}}onInputKeydown(t){this.isKeydown=!0,t.keyCode===40&&this.contentViewChild?this.trapFocus(t):t.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault()):t.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):t.keyCode===9&&this.contentViewChild&&(L.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,i,r){let s=t.currentTarget,o=s.parentElement,a=this.formatDateMetaToDate(i);switch(t.which){case 40:{s.tabIndex="-1";let _=L.index(o),I=o.parentElement.nextElementSibling;if(I){let b=I.children[_].children[0];L.hasClass(b,"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(I.children[_].children[0].tabIndex="0",I.children[_].children[0].focus())}else this.navigationState={backward:!1},this.navForward(t);t.preventDefault();break}case 38:{s.tabIndex="-1";let _=L.index(o),I=o.parentElement.previousElementSibling;if(I){let b=I.children[_].children[0];L.hasClass(b,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(b.tabIndex="0",b.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{s.tabIndex="-1";let _=o.previousElementSibling;if(_){let I=_.children[0];L.hasClass(I,"p-disabled")||L.hasClass(I.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!0,r);t.preventDefault();break}case 39:{s.tabIndex="-1";let _=o.nextElementSibling;if(_){let I=_.children[0];L.hasClass(I,"p-disabled")?this.navigateToMonth(!1,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!1,r);t.preventDefault();break}case 13:case 32:{this.onDateSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}case 33:{s.tabIndex="-1";let _=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),I=this.formatDateKey(_);this.navigateToMonth(!0,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 34:{s.tabIndex="-1";let _=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),I=this.formatDateKey(_);this.navigateToMonth(!1,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 36:s.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),u=L.findSingle(s.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),t.preventDefault();break;case 35:s.tabIndex="-1";let h=new Date(a.getFullYear(),a.getMonth()+1,0),f=this.formatDateKey(h),p=L.findSingle(s.offsetParent,`span[data-date='${f}']:not(.p-disabled):not(.p-ink)`);h&&(p.tabIndex="0",p.focus()),t.preventDefault();break;default:break}}onMonthCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=L.index(r);let a=s[t.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onMonthSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}default:break}}onYearCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=L.index(r);let a=s[t.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onYearSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.trapFocus(t);break}default:break}}navigateToMonth(t,i,r){if(t)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let s=this.contentViewChild.nativeElement.children[i-1];if(r){let o=L.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=L.find(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let s=this.contentViewChild.nativeElement.children[i+1];if(r){let o=L.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=L.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=L.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=L.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=L.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(t=i[i.length-1])}else this.currentView==="month"?t=L.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=L.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=L.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let t=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=L.find(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=L.findSingle(t,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&L.find(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=L.find(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=L.findSingle(t,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&L.find(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=L.findSingle(t,"span.p-highlight"),!i){let r=L.findSingle(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=L.findSingle(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(t){let i=L.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let s=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(s=o);i[s].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(t,i){return this.hourFormat=="12"?t===12?i?12:0:i?t+12:t:t}constrainTime(t,i,r,s){let o=[t,i,r],a,l=this.value,c=this.convertTo24Hour(t,s),u=this.isRangeSelection(),h=this.isMultipleSelection();(u||h)&&(this.value||(this.value=[new Date,new Date]),u&&(l=this.value[1]||this.value[0]),h&&(l=this.value[this.value.length-1]));let p=l?l.toDateString():null,_=this.minDate&&p&&this.minDate.toDateString()===p,I=this.maxDate&&p&&this.maxDate.toDateString()===p;switch(_&&(a=this.minDate.getHours()>=12),!0){case(_&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):o[0]=11;case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):o[0]=11,this.pm=!0;case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&this.minDate.getHours()>c):o[0]=this.minDate.getHours();case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(I&&this.maxDate.getHours()<c):o[0]=this.maxDate.getHours();case(I&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(I&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(t){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,s=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(s),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,s),t.preventDefault()}toggleAMPMIfNotMinDate(t){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=t}onTimePickerElementMouseDown(t,i,r){this.disabled||(this.repeat(t,null,i,r),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,i,r,s){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,r,s),this.cd.markForCheck()},o),r){case 0:s===1?this.incrementHour(t):this.decrementHour(t);break;case 1:s===1?this.incrementMinute(t):this.decrementMinute(t);break;case 2:s===1?this.incrementSecond(t):this.decrementSecond(t);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),t.preventDefault()}incrementMinute(t){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}decrementMinute(t){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}incrementSecond(t){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}decrementSecond(t){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?t=[this.value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let i=t.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let s=this.keepInvalid?i:null;this.updateModel(s)}this.filled=i!=null&&i.length,this.onInput.emit(t)}isValidSelection(t){if(this.isSingleSelection())return this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1);let i=t.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=t.length===1||t.length>1&&t[1]>=t[0]),i}parseValueFromString(t){if(!t||t.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){let r=t.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=t.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(t){let i,r=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let s=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,a,o)}else i=this.parseDate(t,s)}return i}populateTime(t,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let s=this.parseTime(i);t.setHours(s.hour),t.setMinutes(s.minute),t.setSeconds(s.second)}isValidDate(t){return ne.isDate(t)&&ne.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[1]||t[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Un.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Un.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t);break}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Un.clear(t.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):L.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),L.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):L.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),L.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),L.blockBodyScroll())}disableModality(){this.mask&&(L.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let t=this.document.body.children,i;for(let r=0;r<t.length;r++){let s=t[r];if(L.hasClass(s,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||L.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(jn.FIRST_DAY_OF_WEEK)}formatDate(t,i){if(!t)return"";let r,s=u=>{let h=r+1<i.length&&i.charAt(r+1)===u;return h&&r++,h},o=(u,h,f)=>{let p=""+h;if(s(u))for(;p.length<f;)p="0"+p;return p},a=(u,h,f,p)=>s(u)?p[h]:f[h],l="",c=!1;if(t)for(r=0;r<i.length;r++)if(c)i.charAt(r)==="'"&&!s("'")?c=!1:l+=i.charAt(r);else switch(i.charAt(r)){case"d":l+=o("d",t.getDate(),2);break;case"D":l+=a("D",t.getDay(),this.getTranslation(jn.DAY_NAMES_SHORT),this.getTranslation(jn.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",t.getMonth()+1,2);break;case"M":l+=a("M",t.getMonth(),this.getTranslation(jn.MONTH_NAMES_SHORT),this.getTranslation(jn.MONTH_NAMES));break;case"y":l+=s("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this.ticksTo1970;break;case"'":s("'")?l+="'":c=!0;break;default:l+=i.charAt(r)}return l}formatTime(t){if(!t)return"";let i="",r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=t.getHours()>11?" PM":" AM"),i}parseTime(t){let i=t.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let s=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(o)||s>23||o>59||this.hourFormat=="12"&&s>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(s!==12&&this.pm?s+=12:!this.pm&&s===12&&(s-=12)),{hour:s,minute:o,second:a}}parseDate(t,i){if(i==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t==="")return null;let r,s,o,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,h=-1,f=-1,p=!1,_,I=P=>{let F=r+1<i.length&&i.charAt(r+1)===P;return F&&r++,F},b=P=>{let F=I(P),$=P==="@"?14:P==="!"?20:P==="y"&&F?4:P==="o"?3:2,Y=P==="y"?$:1,R=new RegExp("^\\d{"+Y+","+$+"}"),C=t.substring(a).match(R);if(!C)throw"Missing number at position "+a;return a+=C[0].length,parseInt(C[0],10)},E=(P,F,$)=>{let Y=-1,R=I(P)?$:F,C=[];for(let T=0;T<R.length;T++)C.push([T,R[T]]);C.sort((T,O)=>-(T[1].length-O[1].length));for(let T=0;T<C.length;T++){let O=C[T][1];if(t.substr(a,O.length).toLowerCase()===O.toLowerCase()){Y=C[T][0],a+=O.length;break}}if(Y!==-1)return Y+1;throw"Unknown name at position "+a},M=()=>{if(t.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(h=1),r=0;r<i.length;r++)if(p)i.charAt(r)==="'"&&!I("'")?p=!1:M();else switch(i.charAt(r)){case"d":h=b("d");break;case"D":E("D",this.getTranslation(jn.DAY_NAMES_SHORT),this.getTranslation(jn.DAY_NAMES));break;case"o":f=b("o");break;case"m":u=b("m");break;case"M":u=E("M",this.getTranslation(jn.MONTH_NAMES_SHORT),this.getTranslation(jn.MONTH_NAMES));break;case"y":c=b("y");break;case"@":_=new Date(b("@")),c=_.getFullYear(),u=_.getMonth()+1,h=_.getDate();break;case"!":_=new Date((b("!")-this.ticksTo1970)/1e4),c=_.getFullYear(),u=_.getMonth()+1,h=_.getDate();break;case"'":I("'")?M():p=!0;break;default:M()}if(a<t.length&&(o=t.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),f>-1){u=1,h=f;do{if(s=this.getDaysCountInMonth(c,u-1),h<=s)break;u++,h-=s}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,h=h===-1?1:h),_=this.daylightSavingAdjust(new Date(c,u-1,h)),_.getFullYear()!==c||_.getMonth()+1!==u||_.getDate()!==h)throw"Invalid date";return _}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(t){return this.keepInvalid?!0:(!this.minDate||t>=this.minDate)&&(!this.maxDate||t<=this.maxDate)}onTodayButtonClick(t){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(t,r),this.onTodayClick.emit(i)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:o}=i[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=o;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;t+=`
                        @media screen and (max-width: ${s}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Es(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return L.hasClass(t.target,"p-datepicker-prev")||L.hasClass(t.target,"p-datepicker-prev-icon")||L.hasClass(t.target,"p-datepicker-next")||L.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!L.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Un.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(G(It),G(nt),G(Jt),G(wt),G(Ke),G(pn),G(cl))};static \u0275cmp=ee({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(Wie,5),We(qie,5),We(Kie,5)),i&2){let s;be(s=Ce())&&(r.containerViewChild=s.first),be(s=Ce())&&(r.inputfieldViewChild=s.first),be(s=Ce())&&(r.content=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[j.HasDecoratorInputTransform,"inline","inline",K],showOtherMonths:[j.HasDecoratorInputTransform,"showOtherMonths","showOtherMonths",K],selectOtherMonths:[j.HasDecoratorInputTransform,"selectOtherMonths","selectOtherMonths",K],showIcon:[j.HasDecoratorInputTransform,"showIcon","showIcon",K],icon:"icon",appendTo:"appendTo",readonlyInput:[j.HasDecoratorInputTransform,"readonlyInput","readonlyInput",K],shortYearCutoff:"shortYearCutoff",monthNavigator:[j.HasDecoratorInputTransform,"monthNavigator","monthNavigator",K],yearNavigator:[j.HasDecoratorInputTransform,"yearNavigator","yearNavigator",K],hourFormat:"hourFormat",timeOnly:[j.HasDecoratorInputTransform,"timeOnly","timeOnly",K],stepYearPicker:[j.HasDecoratorInputTransform,"stepYearPicker","stepYearPicker",Ve],stepHour:[j.HasDecoratorInputTransform,"stepHour","stepHour",Ve],stepMinute:[j.HasDecoratorInputTransform,"stepMinute","stepMinute",Ve],stepSecond:[j.HasDecoratorInputTransform,"stepSecond","stepSecond",Ve],showSeconds:[j.HasDecoratorInputTransform,"showSeconds","showSeconds",K],required:[j.HasDecoratorInputTransform,"required","required",K],showOnFocus:[j.HasDecoratorInputTransform,"showOnFocus","showOnFocus",K],showWeek:[j.HasDecoratorInputTransform,"showWeek","showWeek",K],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[j.HasDecoratorInputTransform,"maxDateCount","maxDateCount",Ve],showButtonBar:[j.HasDecoratorInputTransform,"showButtonBar","showButtonBar",K],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[j.HasDecoratorInputTransform,"keepInvalid","keepInvalid",K],hideOnDateTimeSelect:[j.HasDecoratorInputTransform,"hideOnDateTimeSelect","hideOnDateTimeSelect",K],touchUI:[j.HasDecoratorInputTransform,"touchUI","touchUI",K],timeSeparator:"timeSeparator",focusTrap:[j.HasDecoratorInputTransform,"focusTrap","focusTrap",K],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[yn([Lse]),Ct],ngContentSelectors:Qie,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,r){i&1&&(si(Yie),x(0,"span",3,0),D(2,vre,5,22,"ng-template",4)(3,Fse,9,32,"div",5),A()),i&2&&(se(r.styleClass),g("ngClass",_d(6,Zie,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),y(2),g("ngIf",!r.inline),y(),g("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[kt,gi,St,Vt,Pt,vy,$i,kd,Pd,tx,Yd,Ii,nx,Wi],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Bd("overlayAnimation",[g3("visibleTouchUI",Gi({transform:"translate(-50%,-50%)",opacity:1})),xs("void => visible",[Gi({opacity:0,transform:"scaleY(0.8)"}),Ts("{{showTransitionParams}}",Gi({opacity:1,transform:"*"}))]),xs("visible => void",[Ts("{{hideTransitionParams}}",Gi({opacity:0}))]),xs("void => visibleTouchUI",[Gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Ts("{{showTransitionParams}}")]),xs("visibleTouchUI => void",[Ts("{{hideTransitionParams}}",Gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),s4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Ss,Xe,gr,kd,Pd,tx,Yd,Ii,nx,_r,Ss,Xe]})}return n})();var rx=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ArrowDownIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var sx=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["ArrowUpIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var o4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["FilterIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var a4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["FilterSlashIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var l4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var c4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["SortAltIcon"]],standalone:!0,features:[ke,ye],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),A(),x(6,"defs")(7,"clipPath",5),W(8,"rect",6),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(6),g("id",r.pathId))},encapsulation:2})}return n})();var u4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var d4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var h4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Ut()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["TrashIcon"]],standalone:!0,features:[ke,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0)(1,"g"),W(2,"path",1),A(),x(3,"defs")(4,"clipPath",2),W(5,"rect",3),A()()()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),y(),z("clip-path",r.pathId),y(3),g("id",r.pathId))},encapsulation:2})}return n})();var Qd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ox=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleUpIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Vse=["input"],Bse=(n,e,t)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":t}),f4=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),p4=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function Use(n,e){if(n&1){let t=pe();x(0,"TimesIcon",8),J("click",function(){B(t);let r=v(2);return U(r.clear())}),A()}n&2&&(g("ngClass","p-inputnumber-clear-icon"),z("data-pc-section","clearIcon"))}function jse(n,e){}function zse(n,e){n&1&&D(0,jse,0,0,"ng-template")}function Hse(n,e){if(n&1){let t=pe();x(0,"span",9),J("click",function(){B(t);let r=v(2);return U(r.clear())}),D(1,zse,1,0,null,10),A()}if(n&2){let t=v(2);z("data-pc-section","clearIcon"),y(),g("ngTemplateOutlet",t.clearIconTemplate)}}function $se(n,e){if(n&1&&(ae(0),D(1,Use,1,2,"TimesIcon",6)(2,Hse,2,2,"span",7),le()),n&2){let t=v();y(),g("ngIf",!t.clearIconTemplate),y(),g("ngIf",t.clearIconTemplate)}}function Gse(n,e){if(n&1&&W(0,"span",14),n&2){let t=v(2);g("ngClass",t.incrementButtonIcon),z("data-pc-section","incrementbuttonicon")}}function Wse(n,e){n&1&&W(0,"AngleUpIcon"),n&2&&z("data-pc-section","incrementbuttonicon")}function qse(n,e){}function Kse(n,e){n&1&&D(0,qse,0,0,"ng-template")}function Yse(n,e){if(n&1&&(ae(0),D(1,Wse,1,1,"AngleUpIcon",3)(2,Kse,1,0,null,10),le()),n&2){let t=v(2);y(),g("ngIf",!t.incrementButtonIconTemplate),y(),g("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function Qse(n,e){if(n&1&&W(0,"span",14),n&2){let t=v(2);g("ngClass",t.decrementButtonIcon),z("data-pc-section","decrementbuttonicon")}}function Zse(n,e){n&1&&W(0,"AngleDownIcon"),n&2&&z("data-pc-section","decrementbuttonicon")}function Xse(n,e){}function Jse(n,e){n&1&&D(0,Xse,0,0,"ng-template")}function eoe(n,e){if(n&1&&(ae(0),D(1,Zse,1,1,"AngleDownIcon",3)(2,Jse,1,0,null,10),le()),n&2){let t=v(2);y(),g("ngIf",!t.decrementButtonIconTemplate),y(),g("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function toe(n,e){if(n&1){let t=pe();x(0,"span",11)(1,"button",12),J("mousedown",function(r){B(t);let s=v();return U(s.onUpButtonMouseDown(r))})("mouseup",function(){B(t);let r=v();return U(r.onUpButtonMouseUp())})("mouseleave",function(){B(t);let r=v();return U(r.onUpButtonMouseLeave())})("keydown",function(r){B(t);let s=v();return U(s.onUpButtonKeyDown(r))})("keyup",function(){B(t);let r=v();return U(r.onUpButtonKeyUp())}),D(2,Gse,1,2,"span",13)(3,Yse,3,2,"ng-container",3),A(),x(4,"button",12),J("mousedown",function(r){B(t);let s=v();return U(s.onDownButtonMouseDown(r))})("mouseup",function(){B(t);let r=v();return U(r.onDownButtonMouseUp())})("mouseleave",function(){B(t);let r=v();return U(r.onDownButtonMouseLeave())})("keydown",function(r){B(t);let s=v();return U(s.onDownButtonKeyDown(r))})("keyup",function(){B(t);let r=v();return U(r.onDownButtonKeyUp())}),D(5,Qse,1,2,"span",13)(6,eoe,3,2,"ng-container",3),A()()}if(n&2){let t=v();z("data-pc-section","buttonGroup"),y(),se(t.incrementButtonClass),g("ngClass",oi(17,f4))("disabled",t.disabled),z("aria-hidden",!0)("data-pc-section","incrementbutton"),y(),g("ngIf",t.incrementButtonIcon),y(),g("ngIf",!t.incrementButtonIcon),y(),se(t.decrementButtonClass),g("ngClass",oi(18,p4))("disabled",t.disabled),z("aria-hidden",!0)("data-pc-section",t.decrementbutton),y(),g("ngIf",t.decrementButtonIcon),y(),g("ngIf",!t.decrementButtonIcon)}}function noe(n,e){if(n&1&&W(0,"span",14),n&2){let t=v(2);g("ngClass",t.incrementButtonIcon),z("data-pc-section","incrementbuttonicon")}}function ioe(n,e){n&1&&W(0,"AngleUpIcon"),n&2&&z("data-pc-section","incrementbuttonicon")}function roe(n,e){}function soe(n,e){n&1&&D(0,roe,0,0,"ng-template")}function ooe(n,e){if(n&1&&(ae(0),D(1,ioe,1,1,"AngleUpIcon",3)(2,soe,1,0,null,10),le()),n&2){let t=v(2);y(),g("ngIf",!t.incrementButtonIconTemplate),y(),g("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function aoe(n,e){if(n&1){let t=pe();x(0,"button",12),J("mousedown",function(r){B(t);let s=v();return U(s.onUpButtonMouseDown(r))})("mouseup",function(){B(t);let r=v();return U(r.onUpButtonMouseUp())})("mouseleave",function(){B(t);let r=v();return U(r.onUpButtonMouseLeave())})("keydown",function(r){B(t);let s=v();return U(s.onUpButtonKeyDown(r))})("keyup",function(){B(t);let r=v();return U(r.onUpButtonKeyUp())}),D(1,noe,1,2,"span",13)(2,ooe,3,2,"ng-container",3),A()}if(n&2){let t=v();se(t.incrementButtonClass),g("ngClass",oi(8,f4))("disabled",t.disabled),z("aria-hidden",!0)("data-pc-section","incrementbutton"),y(),g("ngIf",t.incrementButtonIcon),y(),g("ngIf",!t.incrementButtonIcon)}}function loe(n,e){if(n&1&&W(0,"span",14),n&2){let t=v(2);g("ngClass",t.decrementButtonIcon),z("data-pc-section","decrementbuttonicon")}}function coe(n,e){n&1&&W(0,"AngleDownIcon"),n&2&&z("data-pc-section","decrementbuttonicon")}function uoe(n,e){}function doe(n,e){n&1&&D(0,uoe,0,0,"ng-template")}function hoe(n,e){if(n&1&&(ae(0),D(1,coe,1,1,"AngleDownIcon",3)(2,doe,1,0,null,10),le()),n&2){let t=v(2);y(),g("ngIf",!t.decrementButtonIconTemplate),y(),g("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function foe(n,e){if(n&1){let t=pe();x(0,"button",12),J("mousedown",function(r){B(t);let s=v();return U(s.onDownButtonMouseDown(r))})("mouseup",function(){B(t);let r=v();return U(r.onDownButtonMouseUp())})("mouseleave",function(){B(t);let r=v();return U(r.onDownButtonMouseLeave())})("keydown",function(r){B(t);let s=v();return U(s.onDownButtonKeyDown(r))})("keyup",function(){B(t);let r=v();return U(r.onDownButtonKeyUp())}),D(1,loe,1,2,"span",13)(2,hoe,3,2,"ng-container",3),A()}if(n&2){let t=v();se(t.decrementButtonClass),g("ngClass",oi(8,p4))("disabled",t.disabled),z("aria-hidden",!0)("data-pc-section","decrementbutton"),y(),g("ngIf",t.decrementButtonIcon),y(),g("ngIf",!t.decrementButtonIcon)}}var poe={provide:li,useExisting:Cn(()=>ax),multi:!0},ax=(()=>{class n{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}onInput=new X;onFocus=new X;onBlur=new X;onKeyDown=new X;onClear=new X;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(t,i,r,s,o){this.document=t,this.el=i,this.cd=r,this.injector=s,this.config=o}ngOnChanges(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!t[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=t.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=t.template;break}})}ngOnInit(){this.ngControl=this.injector.get(na,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(t.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let t=this.getDecimalChar();return new RegExp(`[${t}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,it(oe({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&t!=this.prefix&&(r=this.prefix+r),this.suffix&&t!=this.suffix&&(r=r+this.suffix),r}return t.toString()}return""}parseValue(t){let i=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),s=new RegExp(this._currency,""),o=t.replace(i,"").replace(r,"").trim().replace(/\s/g,"").replace(s,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(t,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},s),this.spin(t,r)}spin(t,i){let r=this.step*i,s=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(t,o),this.handleOnInput(t,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)}onUserInput(t){this.readonly||(this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let i=t.target.selectionStart,r=t.target.selectionEnd,s=t.target.value,o=null;switch(t.altKey&&t.preventDefault(),t.key){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":for(let a=i;a<=s.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(s.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(s.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(t,o);break;case"Backspace":{if(t.preventDefault(),i===r){if(i==1&&this.prefix||i==s.length&&this.suffix)break;let a=s.charAt(i-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=s.slice(0,i-1)+s.slice(i);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i-1)+h+s.slice(i)}else c===1?(o=s.slice(0,i-1)+"0"+s.slice(i),o=this.parseValue(o)>0?o:""):o=s.slice(0,i-1)+s.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=s.slice(1));this.updateValue(t,o,null,"delete-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break}case"Delete":if(t.preventDefault(),i===r){if(i==0&&this.prefix||i==s.length-1&&this.suffix)break;let a=s.charAt(i),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=s.slice(0,i)+s.slice(i+1);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i)+h+s.slice(i+1)}else c===1?(o=s.slice(0,i)+"0"+s.slice(i+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,i)+s.slice(i+1)}this.updateValue(t,o,null,"delete-back-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break;default:break}this.onKeyDown.emit(t)}onInputKeyPress(t){if(this.readonly)return;let i=t.which||t.keyCode,r=String.fromCharCode(i),s=this.isDecimalSign(r),o=this.isMinusSign(r);i!=13&&t.preventDefault(),!s&&t.code==="NumpadDecimal"&&(s=!0,r=this._decimalChar,i=r.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+r),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(t,r,{isDecimalSign:s,isMinusSign:o});return}this.maxlength&&l.length>this.maxlength||(48<=i&&i<=57||o||s)&&this.insert(t,r,{isDecimalSign:s,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(t){if(!this.disabled&&!this.readonly){t.preventDefault();let i=(t.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let r=this.parseValue(i);r!=null&&this.insert(t,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let s=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let r=t.search(this._minusSign);this._minusSign.lastIndex=0;let s=t.search(this._suffix);this._suffix.lastIndex=0;let o=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:o}}insert(t,i,r={isDecimalSign:!1,isMinusSign:!1}){let s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&s!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:h,currencyCharIndex:f}=this.getCharIndexes(l),p;if(r.isMinusSign)o===0&&(p=l,(u===-1||a!==0)&&(p=this.insertText(l,i,0,a)),this.updateValue(t,p,i,"insert"));else if(r.isDecimalSign)c>0&&o===c?this.updateValue(t,l,i,"insert"):c>o&&c<a?(p=this.insertText(l,i,o,a),this.updateValue(t,p,i,"insert")):c===-1&&this.maxFractionDigits&&(p=this.insertText(l,i,o,a),this.updateValue(t,p,i,"insert"));else{let _=this.numberFormat.resolvedOptions().maximumFractionDigits,I=o!==a?"range-insert":"insert";if(c>0&&o>c){if(o+i.length-(c+1)<=_){let b=f>=o?f-1:h>=o?h:l.length;p=l.slice(0,o)+i+l.slice(o+i.length,b)+l.slice(b),this.updateValue(t,p,i,I)}}else p=this.insertText(l,i,o,a),this.updateValue(t,p,i,I)}}insertText(t,i,r,s){if((i==="."?i:i.split(".")).length===2){let a=t.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,a>0?t.slice(0,r)+this.formatValue(i)+t.slice(s):t||this.formatValue(i)}else return s-r===t.length?this.formatValue(i):r===0?i+t.slice(s):s===t.length?t.slice(0,r)+i:t.slice(0,r)+i+t.slice(s)}deleteRange(t,i,r){let s;return r-i===t.length?s="":i===0?s=t.slice(r):r===t.length?s=t.slice(0,i):s=t.slice(0,i)+t.slice(r),s}initCursor(){let t=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,s=r.length,o=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(t===i||t!==0||i<a)&&(t-=a);let l=r.charAt(t);if(this.isNumeralChar(l))return t+a;let c=t-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(c=t;c<s;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let t=this.input?.nativeElement.value;!this.readonly&&t!==L.getSelection()&&this.initCursor()}isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,i,r,s){let o=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,s,i),this.handleOnInput(t,o,a))}handleOnInput(t,i,r){this.isValueChanged(i,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(t,r),this.onInput.emit({originalEvent:t,value:r,formattedValue:i}))}isValueChanged(t,i){if(i===null&&t!==null)return!0;if(i!=null){let r=typeof t=="string"?this.parseValue(t):t;return i!==r}return!1}validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t}updateInput(t,i,r,s){i=i||"";let o=this.input?.nativeElement.value,a=this.formatValue(t),l=o.length;if(a!==s&&(a=this.concatValues(a,s)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let h=a.length;if(r==="range-insert"){let f=this.parseValue((o||"").slice(0,c)),_=(f!==null?f.toString():"").split("").join(`(${this.groupChar})?`),I=new RegExp(_,"g");I.test(a);let b=i.split("").join(`(${this.groupChar})?`),E=new RegExp(b,"g");E.test(a.slice(I.lastIndex)),u=I.lastIndex+E.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(h===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(r==="delete-back-single"){let f=o.charAt(u-1),p=o.charAt(u),_=l-h,I=this._group.test(p);I&&_===1?u+=1:!I&&this.isNumeralChar(f)&&(u+=-1*_+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(o==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let p=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(p,p)}else u=u+(h-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",t)}concatValues(t,i){if(t&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?t:t.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+i.slice(r):t}return t}getDecimalLength(t){if(t){let i=t.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=i?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(t,i),this.onBlur.emit(t)}formattedValue(){let t=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(t)}updateModel(t,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||n)(G(It),G(nt),G(wt),G(mi),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-inputNumber"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&We(Vse,5),i&2){let s;be(s=Ce())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[j.HasDecoratorInputTransform,"showButtons","showButtons",K],format:[j.HasDecoratorInputTransform,"format","format",K],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[j.HasDecoratorInputTransform,"size","size",Ve],maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[j.HasDecoratorInputTransform,"ariaRequired","ariaRequired",K],name:"name",required:[j.HasDecoratorInputTransform,"required","required",K],autocomplete:"autocomplete",min:[j.HasDecoratorInputTransform,"min","min",Ve],max:[j.HasDecoratorInputTransform,"max","max",Ve],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],step:[j.HasDecoratorInputTransform,"step","step",Ve],allowEmpty:[j.HasDecoratorInputTransform,"allowEmpty","allowEmpty",K],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[j.HasDecoratorInputTransform,"useGrouping","useGrouping",K],variant:"variant",minFractionDigits:[j.HasDecoratorInputTransform,"minFractionDigits","minFractionDigits",t=>Ve(t,null)],maxFractionDigits:[j.HasDecoratorInputTransform,"maxFractionDigits","maxFractionDigits",t=>Ve(t,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[yn([poe]),Ct,hn],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,r){if(i&1){let s=pe();x(0,"span",1)(1,"input",2,0),J("input",function(a){return B(s),U(r.onUserInput(a))})("keydown",function(a){return B(s),U(r.onInputKeyDown(a))})("keypress",function(a){return B(s),U(r.onInputKeyPress(a))})("paste",function(a){return B(s),U(r.onPaste(a))})("click",function(){return B(s),U(r.onInputClick())})("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))}),A(),D(3,$se,3,2,"ng-container",3)(4,toe,7,19,"span",4)(5,aoe,3,9,"button",5)(6,foe,3,9,"button",5),A()}i&2&&(se(r.styleClass),g("ngClass",ai(39,Bse,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),z("data-pc-name","inputnumber")("data-pc-section","root"),y(),se(r.inputStyleClass),Yn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),g("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),z("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),y(2),g("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),y(),g("ngIf",r.showButtons&&r.buttonLayout==="stacked"),y(),g("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),y(),g("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[kt,St,Vt,Pt,hl,vy,Wi,Ii,ox,Qd],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),Wc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,is,Ss,_r,Ii,ox,Qd,Xe]})}return n})();var lx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var cx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ux=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleLeftIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Zd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Qy=n=>({"p-disabled":n}),Zy=n=>({$implicit:n}),goe=n=>({"p-highlight":n});function _oe(n,e){n&1&&ge(0)}function yoe(n,e){if(n&1&&(x(0,"div",15),D(1,_oe,1,0,"ng-container",16),A()),n&2){let t=v(2);z("data-pc-section","start"),y(),g("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Se(3,Zy,t.paginatorState))}}function voe(n,e){if(n&1&&(x(0,"span",17),ce(1),A()),n&2){let t=v(2);y(),$e(t.currentPageReport)}}function woe(n,e){n&1&&W(0,"AngleDoubleLeftIcon",19),n&2&&g("styleClass","p-paginator-icon")}function Ioe(n,e){}function boe(n,e){n&1&&D(0,Ioe,0,0,"ng-template")}function Coe(n,e){if(n&1&&(x(0,"span",20),D(1,boe,1,0,null,21),A()),n&2){let t=v(3);y(),g("ngTemplateOutlet",t.firstPageLinkIconTemplate)}}function Eoe(n,e){if(n&1){let t=pe();x(0,"button",18),J("click",function(r){B(t);let s=v(2);return U(s.changePageToFirst(r))}),D(1,woe,1,1,"AngleDoubleLeftIcon",6)(2,Coe,2,1,"span",7),A()}if(n&2){let t=v(2);g("disabled",t.isFirstPage()||t.empty())("ngClass",Se(5,Qy,t.isFirstPage()||t.empty())),z("aria-label",t.getAriaLabel("firstPageLabel")),y(),g("ngIf",!t.firstPageLinkIconTemplate),y(),g("ngIf",t.firstPageLinkIconTemplate)}}function Toe(n,e){n&1&&W(0,"AngleLeftIcon",19),n&2&&g("styleClass","p-paginator-icon")}function xoe(n,e){}function Soe(n,e){n&1&&D(0,xoe,0,0,"ng-template")}function Doe(n,e){if(n&1&&(x(0,"span",20),D(1,Soe,1,0,null,21),A()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.previousPageLinkIconTemplate)}}function Aoe(n,e){if(n&1){let t=pe();x(0,"button",24),J("click",function(r){let s=B(t).$implicit,o=v(3);return U(o.onPageLinkClick(r,s-1))}),ce(1),A()}if(n&2){let t=e.$implicit,i=v(3);g("ngClass",Se(4,goe,t-1==i.getPage())),z("aria-label",i.getPageAriaLabel(t))("aria-current",t-1==i.getPage()?"page":void 0),y(),on(" ",i.getLocalization(t)," ")}}function Roe(n,e){if(n&1&&(x(0,"span",22),D(1,Aoe,2,6,"button",23),A()),n&2){let t=v(2);y(),g("ngForOf",t.pageLinks)}}function Moe(n,e){if(n&1&&ce(0),n&2){let t=v(3);$e(t.currentPageReport)}}function koe(n,e){n&1&&ge(0)}function Poe(n,e){if(n&1&&D(0,koe,1,0,"ng-container",16),n&2){let t=e.$implicit,i=v(4);g("ngTemplateOutlet",i.jumpToPageItemTemplate)("ngTemplateOutletContext",Se(2,Zy,t))}}function Ooe(n,e){n&1&&(ae(0),D(1,Poe,1,4,"ng-template",28),le())}function Foe(n,e){n&1&&ge(0)}function Loe(n,e){if(n&1&&D(0,Foe,1,0,"ng-container",21),n&2){let t=v(4);g("ngTemplateOutlet",t.dropdownIconTemplate)}}function Noe(n,e){n&1&&D(0,Loe,1,1,"ng-template",29)}function Voe(n,e){if(n&1){let t=pe();x(0,"p-dropdown",25),J("onChange",function(r){B(t);let s=v(2);return U(s.onPageDropdownChange(r))}),D(1,Moe,1,1,"ng-template",26)(2,Ooe,2,0,"ng-container",27)(3,Noe,1,0,null,27),A()}if(n&2){let t=v(2);g("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),z("aria-label",t.getAriaLabel("jumpToPageDropdownLabel")),y(2),g("ngIf",t.jumpToPageItemTemplate),y(),g("ngIf",t.dropdownIconTemplate)}}function Boe(n,e){n&1&&W(0,"AngleRightIcon",19),n&2&&g("styleClass","p-paginator-icon")}function Uoe(n,e){}function joe(n,e){n&1&&D(0,Uoe,0,0,"ng-template")}function zoe(n,e){if(n&1&&(x(0,"span",20),D(1,joe,1,0,null,21),A()),n&2){let t=v(2);y(),g("ngTemplateOutlet",t.nextPageLinkIconTemplate)}}function Hoe(n,e){n&1&&W(0,"AngleDoubleRightIcon",19),n&2&&g("styleClass","p-paginator-icon")}function $oe(n,e){}function Goe(n,e){n&1&&D(0,$oe,0,0,"ng-template")}function Woe(n,e){if(n&1&&(x(0,"span",20),D(1,Goe,1,0,null,21),A()),n&2){let t=v(3);y(),g("ngTemplateOutlet",t.lastPageLinkIconTemplate)}}function qoe(n,e){if(n&1){let t=pe();x(0,"button",30),J("click",function(r){B(t);let s=v(2);return U(s.changePageToLast(r))}),D(1,Hoe,1,1,"AngleDoubleRightIcon",6)(2,Woe,2,1,"span",7),A()}if(n&2){let t=v(2);g("disabled",t.isLastPage()||t.empty())("ngClass",Se(5,Qy,t.isLastPage()||t.empty())),z("aria-label",t.getAriaLabel("lastPageLabel")),y(),g("ngIf",!t.lastPageLinkIconTemplate),y(),g("ngIf",t.lastPageLinkIconTemplate)}}function Koe(n,e){if(n&1){let t=pe();x(0,"p-inputNumber",31),J("ngModelChange",function(r){B(t);let s=v(2);return U(s.changePage(r-1))}),A()}if(n&2){let t=v(2);g("ngModel",t.currentPage())("disabled",t.empty())}}function Yoe(n,e){n&1&&ge(0)}function Qoe(n,e){if(n&1&&D(0,Yoe,1,0,"ng-container",16),n&2){let t=e.$implicit,i=v(4);g("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",Se(2,Zy,t))}}function Zoe(n,e){n&1&&(ae(0),D(1,Qoe,1,4,"ng-template",28),le())}function Xoe(n,e){n&1&&ge(0)}function Joe(n,e){if(n&1&&D(0,Xoe,1,0,"ng-container",21),n&2){let t=v(4);g("ngTemplateOutlet",t.dropdownIconTemplate)}}function eae(n,e){n&1&&D(0,Joe,1,1,"ng-template",29)}function tae(n,e){if(n&1){let t=pe();x(0,"p-dropdown",32),to("ngModelChange",function(r){B(t);let s=v(2);return Qo(s.rows,r)||(s.rows=r),U(r)}),J("onChange",function(r){B(t);let s=v(2);return U(s.onRppChange(r))}),D(1,Zoe,2,0,"ng-container",27)(2,eae,1,0,null,27),A()}if(n&2){let t=v(2);g("options",t.rowsPerPageItems),eo("ngModel",t.rows),g("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)("ariaLabel",t.getAriaLabel("rowsPerPageLabel")),y(),g("ngIf",t.dropdownItemTemplate),y(),g("ngIf",t.dropdownIconTemplate)}}function nae(n,e){n&1&&ge(0)}function iae(n,e){if(n&1&&(x(0,"div",33),D(1,nae,1,0,"ng-container",16),A()),n&2){let t=v(2);z("data-pc-section","end"),y(),g("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Se(3,Zy,t.paginatorState))}}function rae(n,e){if(n&1){let t=pe();x(0,"div",1),D(1,yoe,2,5,"div",2)(2,voe,2,1,"span",3)(3,Eoe,3,7,"button",4),x(4,"button",5),J("click",function(r){B(t);let s=v();return U(s.changePageToPrev(r))}),D(5,Toe,1,1,"AngleLeftIcon",6)(6,Doe,2,1,"span",7),A(),D(7,Roe,2,1,"span",8)(8,Voe,4,8,"p-dropdown",9),x(9,"button",10),J("click",function(r){B(t);let s=v();return U(s.changePageToNext(r))}),D(10,Boe,1,1,"AngleRightIcon",6)(11,zoe,2,1,"span",7),A(),D(12,qoe,3,7,"button",11)(13,Koe,1,2,"p-inputNumber",12)(14,tae,3,8,"p-dropdown",13)(15,iae,2,5,"div",14),A()}if(n&2){let t=v();se(t.styleClass),g("ngStyle",t.style)("ngClass","p-paginator p-component"),z("data-pc-section","paginator")("data-pc-section","root"),y(),g("ngIf",t.templateLeft),y(),g("ngIf",t.showCurrentPageReport),y(),g("ngIf",t.showFirstLastIcon),y(),g("disabled",t.isFirstPage()||t.empty())("ngClass",Se(25,Qy,t.isFirstPage()||t.empty())),z("aria-label",t.getAriaLabel("prevPageLabel")),y(),g("ngIf",!t.previousPageLinkIconTemplate),y(),g("ngIf",t.previousPageLinkIconTemplate),y(),g("ngIf",t.showPageLinks),y(),g("ngIf",t.showJumpToPageDropdown),y(),g("disabled",t.isLastPage()||t.empty())("ngClass",Se(27,Qy,t.isLastPage()||t.empty())),z("aria-label",t.getAriaLabel("nextPageLabel")),y(),g("ngIf",!t.nextPageLinkIconTemplate),y(),g("ngIf",t.nextPageLinkIconTemplate),y(),g("ngIf",t.showFirstLastIcon),y(),g("ngIf",t.showJumpToPageInput),y(),g("ngIf",t.rowsPerPageOptions),y(),g("ngIf",t.templateRight)}}var m4=(()=>{class n{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(t){this._first=t}onPageChange=new X;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(t,i){this.cd=t,this.config=i}ngOnInit(){this.updatePaginatorState()}getAriaLabel(t){return this.config.translation.aria?this.config.translation.aria[t]:void 0}getPageAriaLabel(t){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${t}`):void 0}getLocalization(t){let i=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(i.map((s,o)=>[o,s]));return t>9?String(t).split("").map(o=>r.get(Number(o))).join(""):r.get(t)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=t.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=t.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=t.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=t.template;break}})}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions(),t.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)typeof t=="object"&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(t)),value:t})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let t=this.getPageCount(),i=Math.min(this.pageLinkSize,t),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(t-1,r+i-1);var o=this.pageLinkSize-(s-r+1);return r=Math.max(0,r-o),[r,s]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),i=t[0],r=t[1];for(let s=i;s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(t){var i=this.getPageCount();if(t>=0&&t<i){this._first=this.rows*t;var r={page:t,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){let t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,i){this.changePage(i),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(i){return new(i||n)(G(wt),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-paginator"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[j.HasDecoratorInputTransform,"pageLinkSize","pageLinkSize",Ve],style:"style",styleClass:"styleClass",alwaysShow:[j.HasDecoratorInputTransform,"alwaysShow","alwaysShow",K],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[j.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",K],showFirstLastIcon:[j.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",K],totalRecords:[j.HasDecoratorInputTransform,"totalRecords","totalRecords",Ve],rows:[j.HasDecoratorInputTransform,"rows","rows",Ve],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[j.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[j.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",K],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[j.HasDecoratorInputTransform,"showPageLinks","showPageLinks",K],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Ct,hn],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(i,r){i&1&&D(0,rae,16,29,"div",0),i&2&&g("ngIf",r.alwaysShow?!0:r.pageLinks&&r.pageLinks.length>1)},dependencies:()=>[kt,gi,St,Vt,Pt,Wp,ot,ax,Vd,Mc,$i,lx,cx,ux,Zd],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),g4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Gc,Wc,kc,Xe,gr,lx,cx,ux,Zd,Gc,Wc,kc,Xe]})}return n})();var oae=["container"],aae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-button-icon-only":t}),lae=(n,e)=>({$implicit:n,index:e});function cae(n,e){if(n&1&&W(0,"span",8),n&2){let t=v(2).$implicit;se(t.icon),g("ngClass","p-button-icon p-button-icon-left"),z("data-pc-section","icon")}}function uae(n,e){if(n&1&&(ae(0),D(1,cae,1,4,"span",6),x(2,"span",7),ce(3),A(),le()),n&2){let t=v().$implicit,i=v();y(),g("ngIf",t.icon),y(),z("data-pc-section","label"),y(),$e(i.getOptionLabel(t))}}function dae(n,e){n&1&&ge(0)}function hae(n,e){if(n&1&&D(0,dae,1,0,"ng-container",9),n&2){let t=v(),i=t.$implicit,r=t.index,s=v();g("ngTemplateOutlet",s.selectButtonTemplate)("ngTemplateOutletContext",tn(2,lae,i,r))}}function fae(n,e){if(n&1){let t=pe();x(0,"div",4),J("click",function(r){let s=B(t),o=s.$implicit,a=s.index,l=v();return U(l.onOptionSelect(r,o,a))})("keydown",function(r){let s=B(t),o=s.$implicit,a=s.index,l=v();return U(l.onKeyDown(r,o,a))})("focus",function(r){let s=B(t).index,o=v();return U(o.onFocus(r,s))})("blur",function(){B(t);let r=v();return U(r.onBlur())}),D(1,uae,4,3,"ng-container",5)(2,hae,1,5,"ng-template",null,1,an),A()}if(n&2){let t=e.$implicit,i=e.index,r=Mt(3),s=v();se(t.styleClass),g("role",s.multiple?"checkbox":"radio")("ngClass",ai(14,aae,s.isSelected(t),s.disabled||s.isOptionDisabled(t),t.icon&&!s.getOptionLabel(t)))("autofocus",s.autofocus),z("tabindex",i===s.focusedIndex?"0":"-1")("aria-label",t.label)("aria-checked",s.isSelected(t))("aria-disabled",s.optionDisabled)("title",t.title)("aria-labelledby",s.getOptionLabel(t))("data-pc-section","button"),y(),g("ngIf",!s.itemTemplate)("ngIfElse",r)}}var pae={provide:li,useExisting:Cn(()=>mae),multi:!0},mae=(()=>{class n{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new X;onChange=new X;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(t){this.cd=t}getOptionLabel(t){return this.optionLabel?ne.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?ne.resolveFieldData(t,this.optionValue):this.optionLabel||t.value===void 0?t:t.value}isOptionDisabled(t){return this.optionDisabled?ne.resolveFieldData(t,this.optionDisabled):t.disabled!==void 0?t.disabled:!1}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionSelect(t,i,r){if(this.disabled||this.isOptionDisabled(i))return;let s=this.isSelected(i);if(s&&this.unselectable)return;let o=this.getOptionValue(i),a;if(this.multiple)s?a=this.value.filter(l=>!ne.equals(l,o,this.equalityKey)):a=this.value?[...this.value,o]:[o];else{if(s&&!this.allowEmpty)return;a=s?null:o}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.onOptionClick.emit({originalEvent:t,option:i,index:r})}onKeyDown(t,i,r){switch(t.code){case"Space":{this.onOptionSelect(t,i,r),t.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(t,"next"),t.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(t,"prev"),t.preventDefault();break}default:break}}changeTabIndexes(t,i){let r,s;for(let o=0;o<=this.container.nativeElement.children.length-1;o++)this.container.nativeElement.children[o].getAttribute("tabindex")==="0"&&(r={elem:this.container.nativeElement.children[o],index:o});i==="prev"?r.index===0?s=this.container.nativeElement.children.length-1:s=r.index-1:r.index===this.container.nativeElement.children.length-1?s=0:s=r.index+1,this.focusedIndex=s,this.container.nativeElement.children[s].focus()}onFocus(t,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(i=>!ne.equals(i,this.getOptionValue(t),this.dataKey))}isSelected(t){let i=!1,r=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let s of this.value)if(ne.equals(s,r,this.dataKey)){i=!0;break}}}else i=ne.equals(this.getOptionValue(t),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||n)(G(wt))};static \u0275cmp=ee({type:n,selectors:[["p-selectButton"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,5),i&2){let o;be(o=Ce())&&(r.itemTemplate=o.first)}},viewQuery:function(i,r){if(i&1&&We(oae,5),i&2){let s;be(s=Ce())&&(r.container=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[j.HasDecoratorInputTransform,"unselectable","unselectable",K],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],multiple:[j.HasDecoratorInputTransform,"multiple","multiple",K],allowEmpty:[j.HasDecoratorInputTransform,"allowEmpty","allowEmpty",K],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],dataKey:"dataKey",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[yn([pae]),Ct],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(x(0,"div",2,0),D(2,fae,4,18,"div",3),A()),i&2&&(se(r.styleClass),g("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),z("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),y(2),g("ngForOf",r.options))},dependencies:[kt,gi,St,Vt,Pt,$i,Wi],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return n})(),_4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,gr,Xe,_r,Xe]})}return n})();var gae=(n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),_ae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),yae=(n,e,t)=>({"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function vae(n,e){if(n&1&&W(0,"span",8),n&2){let t=v(2);g("ngClass",t.checkboxTrueIcon),z("data-pc-section","checkIcon")}}function wae(n,e){n&1&&W(0,"CheckIcon",11),n&2&&(g("styleClass","p-checkbox-icon"),z("data-pc-section","checkIcon"))}function Iae(n,e){}function bae(n,e){n&1&&D(0,Iae,0,0,"ng-template")}function Cae(n,e){if(n&1&&(x(0,"span",12),D(1,bae,1,0,null,13),A()),n&2){let t=v(3);z("data-pc-section","checkIcon"),y(),g("ngTemplateOutlet",t.checkIconTemplate)}}function Eae(n,e){if(n&1&&(ae(0),D(1,wae,1,2,"CheckIcon",9)(2,Cae,2,2,"span",10),le()),n&2){let t=v(2);y(),g("ngIf",!t.checkIconTemplate),y(),g("ngIf",t.checkIconTemplate)}}function Tae(n,e){if(n&1&&(ae(0),D(1,vae,1,2,"span",7)(2,Eae,3,2,"ng-container",5),le()),n&2){let t=v();y(),g("ngIf",t.checkboxTrueIcon),y(),g("ngIf",!t.checkboxTrueIcon)}}function xae(n,e){if(n&1&&W(0,"span",8),n&2){let t=v(2);g("ngClass",t.checkboxFalseIcon),z("data-pc-section","uncheckIcon")}}function Sae(n,e){n&1&&W(0,"TimesIcon",11),n&2&&(g("styleClass","p-checkbox-icon"),z("data-pc-section","uncheckIcon"))}function Dae(n,e){}function Aae(n,e){n&1&&D(0,Dae,0,0,"ng-template")}function Rae(n,e){if(n&1&&(x(0,"span",12),D(1,Aae,1,0,null,13),A()),n&2){let t=v(3);z("data-pc-section","uncheckIcon"),y(),g("ngTemplateOutlet",t.uncheckIconTemplate)}}function Mae(n,e){if(n&1&&(ae(0),D(1,Sae,1,2,"TimesIcon",9)(2,Rae,2,2,"span",10),le()),n&2){let t=v(2);y(),g("ngIf",!t.uncheckIconTemplate),y(),g("ngIf",t.uncheckIconTemplate)}}function kae(n,e){if(n&1&&(ae(0),D(1,xae,1,2,"span",7)(2,Mae,3,2,"ng-container",5),le()),n&2){let t=v();y(),g("ngIf",t.checkboxFalseIcon),y(),g("ngIf",!t.checkboxFalseIcon)}}function Pae(n,e){if(n&1){let t=pe();x(0,"label",14),J("click",function(r){B(t);let s=v(),o=Mt(3);return U(s.onClick(r,o))}),ce(1),A()}if(n&2){let t=v();g("ngClass",ai(3,yae,t.value!=null,t.disabled,t.focused)),z("for",t.inputId),y(),$e(t.label)}}var Oae={provide:li,useExisting:Cn(()=>Fae),multi:!0},Fae=(()=>{class n{cd;config;constructor(t,i){this.cd=t,this.config=i}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new X;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}onKeyDown(t){t.key==="Enter"&&(this.toggle(t),t.preventDefault())}toggle(t){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"checkicon":this.checkIconTemplate=t.template;break;case"uncheckicon":this.uncheckIconTemplate=t.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}static \u0275fac=function(i){return new(i||n)(G(wt),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-triStateCheckbox"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onChange:"onChange"},features:[yn([Oae]),Ct],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(i,r){if(i&1){let s=pe();x(0,"div",1),J("click",function(a){B(s);let l=Mt(3);return U(r.onClick(a,l))}),x(1,"div",2)(2,"input",3,0),J("keydown",function(a){return B(s),U(r.onKeyDown(a))})("focus",function(){return B(s),U(r.onFocus())})("blur",function(){return B(s),U(r.onBlur())}),A()(),x(4,"div",4),D(5,Tae,3,2,"ng-container",5)(6,kae,3,2,"ng-container",5),A()(),D(7,Pae,2,7,"label",6)}i&2&&(se(r.styleClass),g("ngStyle",r.style)("ngClass",ai(20,gae,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),z("data-pc-name","tristatecheckbox")("data-pc-section","root"),y(2),g("name",r.name)("readonly",r.readonly)("disabled",r.disabled)("autofocus",r.autofocus),z("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-section","hiddenInput"),y(2),g("ngClass",ai(24,_ae,r.value!=null,r.disabled,r.focused)),z("aria-checked",r.value===!0),y(),g("ngIf",r.value===!0),y(),g("ngIf",r.value===!1),y(),g("ngIf",r.label))},dependencies:()=>[kt,St,Vt,Pt,Wi,Tl,Ii],encapsulation:2,changeDetection:0})}return n})(),y4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe,_r,Tl,Ii,Xe]})}return n})();var Lae=["container"],Nae=["resizeHelper"],Vae=["reorderIndicatorUp"],Bae=["reorderIndicatorDown"],Uae=["wrapper"],jae=["table"],zae=["thead"],Hae=["tfoot"],$ae=["scroller"],Gae=(n,e,t)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":t}),Wae=n=>({maxHeight:n}),v4=n=>({height:n}),w4=(n,e)=>({$implicit:n,options:e}),qae=n=>({columns:n}),Kae=(n,e,t)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":t}),dx=n=>({$implicit:n}),fx=()=>({display:"none"});function Yae(n,e){if(n&1&&W(0,"i"),n&2){let t=v(2);se("p-datatable-loading-icon "+t.loadingIcon)}}function Qae(n,e){n&1&&W(0,"SpinnerIcon",25),n&2&&g("spin",!0)("styleClass","p-datatable-loading-icon")}function Zae(n,e){}function Xae(n,e){n&1&&D(0,Zae,0,0,"ng-template")}function Jae(n,e){if(n&1&&(x(0,"span",26),D(1,Xae,1,0,null,27),A()),n&2){let t=v(3);y(),g("ngTemplateOutlet",t.loadingIconTemplate)}}function ele(n,e){if(n&1&&(ae(0),D(1,Qae,1,2,"SpinnerIcon",23)(2,Jae,2,1,"span",24),le()),n&2){let t=v(2);y(),g("ngIf",!t.loadingIconTemplate),y(),g("ngIf",t.loadingIconTemplate)}}function tle(n,e){if(n&1&&(x(0,"div",21),D(1,Yae,1,2,"i",22)(2,ele,3,2,"ng-container",16),A()),n&2){let t=v();y(),g("ngIf",t.loadingIcon),y(),g("ngIf",!t.loadingIcon)}}function nle(n,e){n&1&&ge(0)}function ile(n,e){if(n&1&&(x(0,"div",28),D(1,nle,1,0,"ng-container",27),A()),n&2){let t=v();y(),g("ngTemplateOutlet",t.captionTemplate)}}function rle(n,e){n&1&&ge(0)}function sle(n,e){if(n&1&&D(0,rle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function ole(n,e){n&1&&D(0,sle,1,1,"ng-template",30)}function ale(n,e){n&1&&ge(0)}function lle(n,e){if(n&1&&D(0,ale,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function cle(n,e){n&1&&D(0,lle,1,1,"ng-template",31)}function ule(n,e){n&1&&ge(0)}function dle(n,e){if(n&1&&D(0,ule,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function hle(n,e){n&1&&D(0,dle,1,1,"ng-template",32)}function fle(n,e){n&1&&ge(0)}function ple(n,e){if(n&1&&D(0,fle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function mle(n,e){n&1&&D(0,ple,1,1,"ng-template",33)}function gle(n,e){n&1&&ge(0)}function _le(n,e){if(n&1&&D(0,gle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function yle(n,e){n&1&&D(0,_le,1,1,"ng-template",34)}function vle(n,e){if(n&1){let t=pe();x(0,"p-paginator",29),J("onPageChange",function(r){B(t);let s=v();return U(s.onPageChange(r))}),D(1,ole,1,0,null,16)(2,cle,1,0,null,16)(3,hle,1,0,null,16)(4,mle,1,0,null,16)(5,yle,1,0,null,16),A()}if(n&2){let t=v();g("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-top"))("locale",t.paginatorLocale),y(),g("ngIf",t.paginatorDropdownIconTemplate),y(),g("ngIf",t.paginatorFirstPageLinkIconTemplate),y(),g("ngIf",t.paginatorPreviousPageLinkIconTemplate),y(),g("ngIf",t.paginatorLastPageLinkIconTemplate),y(),g("ngIf",t.paginatorNextPageLinkIconTemplate)}}function wle(n,e){n&1&&ge(0)}function Ile(n,e){if(n&1&&D(0,wle,1,0,"ng-container",37),n&2){let t=e.$implicit,i=e.options;v(2);let r=Mt(10);g("ngTemplateOutlet",r)("ngTemplateOutletContext",tn(2,w4,t,i))}}function ble(n,e){if(n&1){let t=pe();x(0,"p-scroller",35,3),J("onLazyLoad",function(r){B(t);let s=v();return U(s.onLazyItemLoad(r))}),D(2,Ile,1,5,"ng-template",36),A()}if(n&2){let t=v();c0(Se(15,v4,t.scrollHeight!=="flex"?t.scrollHeight:void 0)),g("items",t.processedData)("columns",t.columns)("scrollHeight",t.scrollHeight!=="flex"?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)("autoSize",!0)}}function Cle(n,e){n&1&&ge(0)}function Ele(n,e){if(n&1&&(ae(0),D(1,Cle,1,0,"ng-container",37),le()),n&2){let t=v(),i=Mt(10);y(),g("ngTemplateOutlet",i)("ngTemplateOutletContext",tn(4,w4,t.processedData,Se(2,qae,t.columns)))}}function Tle(n,e){n&1&&ge(0)}function xle(n,e){n&1&&ge(0)}function Sle(n,e){if(n&1&&W(0,"tbody",44),n&2){let t=v().options,i=v();g("value",i.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function Dle(n,e){if(n&1&&W(0,"tbody",45),n&2){let t=v().options;g("ngStyle",Se(1,v4,"calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px)"))}}function Ale(n,e){n&1&&ge(0)}function Rle(n,e){if(n&1&&(x(0,"tfoot",46,6),D(2,Ale,1,0,"ng-container",37),A()),n&2){let t=v().options,i=v();y(2),g("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",Se(2,dx,t.columns))}}function Mle(n,e){if(n&1&&(x(0,"table",38,4),D(2,Tle,1,0,"ng-container",37),x(3,"thead",39,5),D(5,xle,1,0,"ng-container",37),A(),D(6,Sle,1,5,"tbody",40),W(7,"tbody",41),D(8,Dle,1,3,"tbody",42)(9,Rle,3,4,"tfoot",43),A()),n&2){let t=e.options,i=v();se(i.tableStyleClass),g("ngClass",ai(18,Kae,i.scrollable,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit"))("ngStyle",i.tableStyle),z("id",i.id+"-table"),y(2),g("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",Se(22,dx,t.columns)),y(3),g("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",Se(24,dx,t.columns)),y(),g("ngIf",i.frozenValue||i.frozenBodyTemplate),y(),g("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle)("value",i.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",t),y(),g("ngIf",t.spacerStyle),y(),g("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function kle(n,e){n&1&&ge(0)}function Ple(n,e){if(n&1&&D(0,kle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Ole(n,e){n&1&&D(0,Ple,1,1,"ng-template",30)}function Fle(n,e){n&1&&ge(0)}function Lle(n,e){if(n&1&&D(0,Fle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function Nle(n,e){n&1&&D(0,Lle,1,1,"ng-template",31)}function Vle(n,e){n&1&&ge(0)}function Ble(n,e){if(n&1&&D(0,Vle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function Ule(n,e){n&1&&D(0,Ble,1,1,"ng-template",32)}function jle(n,e){n&1&&ge(0)}function zle(n,e){if(n&1&&D(0,jle,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function Hle(n,e){n&1&&D(0,zle,1,1,"ng-template",33)}function $le(n,e){n&1&&ge(0)}function Gle(n,e){if(n&1&&D(0,$le,1,0,"ng-container",27),n&2){let t=v(3);g("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function Wle(n,e){n&1&&D(0,Gle,1,1,"ng-template",34)}function qle(n,e){if(n&1){let t=pe();x(0,"p-paginator",29),J("onPageChange",function(r){B(t);let s=v();return U(s.onPageChange(r))}),D(1,Ole,1,0,null,16)(2,Nle,1,0,null,16)(3,Ule,1,0,null,16)(4,Hle,1,0,null,16)(5,Wle,1,0,null,16),A()}if(n&2){let t=v();g("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-bottom"))("locale",t.paginatorLocale),y(),g("ngIf",t.paginatorDropdownIconTemplate),y(),g("ngIf",t.paginatorFirstPageLinkIconTemplate),y(),g("ngIf",t.paginatorPreviousPageLinkIconTemplate),y(),g("ngIf",t.paginatorLastPageLinkIconTemplate),y(),g("ngIf",t.paginatorNextPageLinkIconTemplate)}}function Kle(n,e){n&1&&ge(0)}function Yle(n,e){if(n&1&&(x(0,"div",47),D(1,Kle,1,0,"ng-container",27),A()),n&2){let t=v();y(),g("ngTemplateOutlet",t.summaryTemplate)}}function Qle(n,e){n&1&&W(0,"div",48,7),n&2&&g("ngStyle",oi(1,fx))}function Zle(n,e){n&1&&W(0,"ArrowDownIcon")}function Xle(n,e){}function Jle(n,e){n&1&&D(0,Xle,0,0,"ng-template")}function ece(n,e){if(n&1&&(x(0,"span",49,8),D(2,Zle,1,0,"ArrowDownIcon",16)(3,Jle,1,0,null,27),A()),n&2){let t=v();g("ngStyle",oi(3,fx)),y(2),g("ngIf",!t.reorderIndicatorUpIconTemplate),y(),g("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function tce(n,e){n&1&&W(0,"ArrowUpIcon")}function nce(n,e){}function ice(n,e){n&1&&D(0,nce,0,0,"ng-template")}function rce(n,e){if(n&1&&(x(0,"span",50,9),D(2,tce,1,0,"ArrowUpIcon",16)(3,ice,1,0,null,27),A()),n&2){let t=v();g("ngStyle",oi(3,fx)),y(2),g("ngIf",!t.reorderIndicatorDownIconTemplate),y(),g("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}var sce=["pTableBody",""],px=(n,e,t,i,r)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r}),oce=(n,e,t,i,r,s,o)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r,rowgroup:s,rowspan:o}),Xy=(n,e,t,i,r,s)=>({$implicit:n,rowIndex:e,columns:t,expanded:i,editing:r,frozen:s}),I4=(n,e,t,i)=>({$implicit:n,rowIndex:e,columns:t,frozen:i}),b4=(n,e)=>({$implicit:n,frozen:e});function ace(n,e){n&1&&ge(0)}function lce(n,e){if(n&1&&(ae(0,3),D(1,ace,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",_d(2,px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function cce(n,e){n&1&&ge(0)}function uce(n,e){if(n&1&&(ae(0),D(1,cce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",_d(2,px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function dce(n,e){n&1&&ge(0)}function hce(n,e){if(n&1&&(ae(0),D(1,dce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",u0(2,oce,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function fce(n,e){n&1&&ge(0)}function pce(n,e){if(n&1&&(ae(0,3),D(1,fce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",_d(2,px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function mce(n,e){if(n&1&&D(0,lce,2,8,"ng-container",2)(1,uce,2,8,"ng-container",0)(2,hce,2,10,"ng-container",0)(3,pce,2,8,"ng-container",2),n&2){let t=e.$implicit,i=e.index,r=v(2);g("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,i)),y(),g("ngIf",r.dt.rowGroupMode!=="rowspan"),y(),g("ngIf",r.dt.rowGroupMode==="rowspan"),y(),g("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,i))}}function gce(n,e){if(n&1&&(ae(0),D(1,mce,4,4,"ng-template",1),le()),n&2){let t=v();y(),g("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function _ce(n,e){n&1&&ge(0)}function yce(n,e){if(n&1&&(ae(0),D(1,_ce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.template)("ngTemplateOutletContext",Ec(2,Xy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function vce(n,e){n&1&&ge(0)}function wce(n,e){if(n&1&&(ae(0,3),D(1,vce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",Ec(2,Xy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function Ice(n,e){n&1&&ge(0)}function bce(n,e){n&1&&ge(0)}function Cce(n,e){if(n&1&&(ae(0,3),D(1,bce,1,0,"ng-container",4),le()),n&2){let t=v(2),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",Ec(2,Xy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function Ece(n,e){if(n&1&&(ae(0),D(1,Ice,1,0,"ng-container",4)(2,Cce,2,9,"ng-container",2),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",dC(3,I4,i,s.getRowIndex(r),s.columns,s.frozen)),y(),g("ngIf",s.dt.groupFooterTemplate&&s.dt.rowGroupMode==="subheader"&&s.shouldRenderRowGroupFooter(s.value,i,s.getRowIndex(r)))}}function Tce(n,e){if(n&1&&D(0,yce,2,9,"ng-container",0)(1,wce,2,9,"ng-container",2)(2,Ece,3,8,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=v(2);g("ngIf",!r.dt.groupHeaderTemplate),y(),g("ngIf",r.dt.groupHeaderTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,r.getRowIndex(i))),y(),g("ngIf",r.dt.isRowExpanded(t))}}function xce(n,e){if(n&1&&(ae(0),D(1,Tce,3,3,"ng-template",1),le()),n&2){let t=v();y(),g("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Sce(n,e){n&1&&ge(0)}function Dce(n,e){n&1&&ge(0)}function Ace(n,e){if(n&1&&(ae(0),D(1,Dce,1,0,"ng-container",4),le()),n&2){let t=v(),i=t.$implicit,r=t.index,s=v(2);y(),g("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",dC(2,I4,i,s.getRowIndex(r),s.columns,s.frozen))}}function Rce(n,e){if(n&1&&D(0,Sce,1,0,"ng-container",4)(1,Ace,2,7,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=v(2);g("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Ec(3,Xy,t,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen)),y(),g("ngIf",r.dt.isRowExpanded(t))}}function Mce(n,e){if(n&1&&(ae(0),D(1,Rce,2,10,"ng-template",1),le()),n&2){let t=v();y(),g("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function kce(n,e){n&1&&ge(0)}function Pce(n,e){if(n&1&&(ae(0),D(1,kce,1,0,"ng-container",4),le()),n&2){let t=v();y(),g("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",tn(2,b4,t.columns,t.frozen))}}function Oce(n,e){n&1&&ge(0)}function Fce(n,e){if(n&1&&(ae(0),D(1,Oce,1,0,"ng-container",4),le()),n&2){let t=v();y(),g("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",tn(2,b4,t.columns,t.frozen))}}var hx=(()=>{class n{sortSource=new sn;selectionSource=new sn;contextMenuSource=new sn;valueSource=new sn;totalRecordsSource=new sn;columnsSource=new sn;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),mx=(()=>{class n{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new X;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(t,i)=>i;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}selectAllChange=new X;selectionChange=new X;onRowSelect=new X;onRowUnselect=new X;onPage=new X;onSort=new X;onFilter=new X;onLazyLoad=new X;onRowExpand=new X;onRowCollapse=new X;onContextMenuSelect=new X;onColResize=new X;onColReorder=new X;onRowReorder=new X;onEditInit=new X;onEditComplete=new X;onEditCancel=new X;onHeaderCheckboxToggle=new X;sortFunction=new X;firstChange=new X;rowsChange=new X;onStateSave=new X;onStateRestore=new X;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=Ut();styleElement;responsiveStyleElement;window;constructor(t,i,r,s,o,a,l,c,u,h){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=u,this.config=h,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template;break}})}ngAfterViewInit(){nn(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&nn(this.platformId)&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this.isStateful()||(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(t){let i=t||this.processedData;if(i&&this.paginator){let r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(ne.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(ne.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let i=t.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===t.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(t.field);s?r?s.order=s.order*-1:(this._multiSortMeta=[{field:t.field,order:s.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):this.lazy||(this.value.sort((s,o)=>{let a=ne.resolveFieldData(s,t),l=ne.resolveFieldData(o,t),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,i*c}),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter());let r={field:t,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.lazy||(this.value.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0)),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,i,r,s){let o=ne.resolveFieldData(t,r[s].field),a=ne.resolveFieldData(i,r[s].field);return ne.compare(o,a,this.filterLocale)===0?r.length-1>s?this.multisortField(t,i,r,s+1):0:this.compareValuesOnSort(o,a,r[s].order)}compareValuesOnSort(t,i,r){return ne.sort(t,i,r,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i]}return null}isSorted(t){if(this.sortMode==="single")return this.sortField&&this.sortField===t;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==t){i=!0;break}}return i}}handleRowClick(t){let i=t.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if(!(r=="INPUT"||r=="BUTTON"||r=="A"||s=="INPUT"||s=="BUTTON"||s=="A"||L.hasClass(t.originalEvent.target,"p-clickable"))){if(this.selectionMode){let o=t.rowData,a=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&this.anchorRowIndex!=null)L.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=a,this.selectRange(t.originalEvent,a);else{let l=this.isSelected(o);if(!l&&!this.isRowSelectable(o,a))return;let c=this.rowTouched?!1:this.metaKeySelection,u=this.dataKey?String(ne.resolveFieldData(o,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let h=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(l&&h){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let f=this.findIndexInSelection(o);this._selection=this.selection.filter((p,_)=>_!=f),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o,this.selectionChange.emit(o),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(h?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,o],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})):(this._selection=o,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if(this.selectionMode==="multiple")if(l){let h=this.findIndexInSelection(o);this._selection=this.selection.filter((f,p)=>p!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){let i=t.rowData,r=t.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),o=this.dataKey?String(ne.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),o&&(this.selectionKeys={},this.selectionKeys[o]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),o&&(this.selectionKeys[o]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}selectRange(t,i,r){let s,o;this.anchorRowIndex>i?(s=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(s=this.anchorRowIndex,o=i):(s=i,o=i),this.lazy&&this.paginator&&(s-=this.first,o-=this.first);let a=[];for(let l=s;l<=o;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!r){if(!this.isRowSelectable(c,i))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(ne.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:a,type:"row"})}clearSelectionRange(t){let i,r,s=this.rangeRowIndex,o=this.anchorRowIndex;s>o?(i=this.anchorRowIndex,r=this.rangeRowIndex):s<o?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let a=i;a<=r;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((h,f)=>f!=c);let u=this.dataKey?String(ne.resolveFieldData(l,this.dataKey)):null;u&&delete this.selectionKeys[u],this.onRowUnselect.emit({originalEvent:t,data:l,type:"row"})}}isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys[ne.resolveFieldData(t,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1}findIndexInSelection(t){let i=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(t,this.selection[r])){i=r;break}}return i}isRowSelectable(t,i){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:i}))}toggleRowWithRadio(t,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ne.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(ne.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let o=this.findIndexInSelection(i);this._selection=this.selection.filter((a,l)=>l!=o),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,i){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:t,checked:i});else{let r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,s=this.selectionPageOnly&&this._selection?this._selection.filter(o=>!r.some(a=>this.equals(o,a))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((o,a)=>this.rowSelectable({data:o,index:a})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}}equals(t,i){return this.compareSelectionBy==="equals"?t===i:ne.equals(t,i,this.dataKey)}filter(t,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,i){this.filter(t,"global",i)}isFilterBlank(t){return t!=null?!!(typeof t=="string"&&t.trim().length==0||Array.isArray(t)&&t.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let r=!0,s=!1,o=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){o=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let h of u)if(r=this.executeLocalFilter(c,this.value[i],h),h.operator===CE.OR&&r||h.operator===CE.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[i],u);if(!r)break}if(this.filters.global&&!s&&t)for(let l=0;l<t.length;l++){let c=t[l].field||t[l];if(s=this.filterService.filters[this.filters.global.matchMode](ne.resolveFieldData(this.value[i],c),this.filters.global.value,this.filterLocale),s)break}let a;this.filters.global?a=o?o&&r&&s:s:a=o&&r,a&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,i,r){let s=r.value,o=r.matchMode||wi.STARTS_WITH,a=ne.resolveFieldData(i,t),l=this.filterService.filters[o];return l(a,s,this.filterLocale)}hasFilter(){let t=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,t]of Object.entries(this.filters))if(Array.isArray(t))for(let i of t)i.value=null;else t&&(t.value=null)}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let i,r="",s=this.columns;t&&t.selectionOnly?i=this.selection||[]:t&&t.allValues?i=this.value||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));let o=s.filter(u=>u.exportable!==!1&&u.field);r+=o.map(u=>'"'+this.getExportHeader(u)+'"').join(this.csvSeparator);let a=i.map(u=>o.map(h=>{let f=ne.resolveFieldData(u,h.field);return f!=null?this.exportFunction?f=this.exportFunction({data:f,field:h.field}):f=String(f).replace(/"/g,'""'):f="",'"'+f+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(r+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),r],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(t){this.onLazyLoad.emit(it(oe(oe({},this.createLazyLoadMetadata()),t),{rows:t.last-t.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,i,r,s){this.editingCell=t,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&L.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(L.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(t){let i=String(ne.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(t,i){if(L.find(i,".ng-invalid.ng-dirty").length===0){let r=String(ne.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(t){let i=String(ne.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}toggleRow(t,i){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let r=this.groupRowsBy?String(ne.resolveFieldData(t,this.groupRowsBy)):String(ne.resolveFieldData(t,this.dataKey));this.expandedRowKeys[r]!=null?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:t})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return this.groupRowsBy?this.expandedRowKeys[String(ne.resolveFieldData(t,this.groupRowsBy))]===!0:this.expandedRowKeys[String(ne.resolveFieldData(t,this.dataKey))]===!0}isRowEditing(t){return this.editingRowKeys[String(ne.resolveFieldData(t,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(t){let i=L.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,t.type=="touchstart"?this.lastResizerHelperX=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let i=L.getOffset(this.containerViewChild?.nativeElement).left;L.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",t.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+t,s=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15;if(r>=s){if(this.columnResizeMode==="fit"){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&a>15&&this.resizeTableCells(r,a)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let o=this.tableViewChild?.nativeElement.offsetWidth+t;this.setResizeTableWidth(o+"px"),this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",L.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let t=[],i=L.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return L.find(i,"tr > th").forEach(s=>t.push(L.getOuterWidth(s))),t}onColumnDragStart(t,i){this.reorderIconWidth=L.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=L.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();let r=L.getOffset(this.containerViewChild?.nativeElement),s=L.getOffset(i);if(this.draggedColumn!=i){let o=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=L.indexWithinGroup(i,"preorderablecolumn"),l=s.left-r.left,c=r.top-s.top,u=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",t.pageX>u?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&t.preventDefault()}onColumnDrop(t,i){if(t.preventDefault(),this.draggedColumn){let r=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=L.indexWithinGroup(i,"preorderablecolumn"),o=r!=s;if(o&&(s-r==1&&this.dropPosition===-1||r-s==1&&this.dropPosition===1)&&(o=!1),o&&s<r&&this.dropPosition===1&&(s=s+1),o&&s>r&&this.dropPosition===-1&&(s=s-1),o&&(ne.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();ne.reorderArray(a,r+1,s+1),this.updateStyleElement(a,r,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(t,i){let r=L.index(this.resizeColumnElement),s=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(s,r,t,i)}updateStyleElement(t,i,r,s){this.destroyStyleElement(),this.createStyleElement();let o="";t.forEach((a,l)=>{let c=l===i?r:s&&l===i+1?s:a,u=`width: ${c}px !important; max-width: ${c}px !important;`;o+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${u}
                }
            `}),this.renderer.setProperty(this.styleElement,"textContent",o)}onRowDragStart(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}onRowDragOver(t,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=L.getOffset(r).top,o=t.pageY,a=s+L.getOuterHeight(r)/2,l=r.previousElementSibling;o<a?(L.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,l?L.addClass(l,"p-datatable-dragpoint-bottom"):L.addClass(r,"p-datatable-dragpoint-top")):(l?L.removeClass(l,"p-datatable-dragpoint-bottom"):L.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,L.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,i){let r=i.previousElementSibling;r&&L.removeClass(r,"p-datatable-dragpoint-bottom"),L.removeClass(i,"p-datatable-dragpoint-bottom"),L.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,i){if(this.droppedRowIndex!=null){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;ne.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return t==null||t.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(nn(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let t=this.getStorage(),i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){let t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){let i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,s=function(o,a){return typeof a=="string"&&r.test(a)?new Date(a):a};if(i){let o=JSON.parse(i,s);this.paginator&&(this.first!==void 0&&(this.first=o.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=o.rows,this.rowsChange.emit(this.rows))),o.sortField&&(this.restoringSort=!0,this._sortField=o.sortField,this._sortOrder=o.sortOrder),o.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=o.multiSortMeta),o.filters&&(this.restoringFilter=!0,this.filters=o.filters),this.resizableColumns&&(this.columnWidthsState=o.columnWidths,this.tableWidthState=o.tableWidth),o.expandedRowKeys&&(this.expandedRowKeys=o.expandedRowKeys),o.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(o.selection)),this.stateRestored=!0,this.onStateRestore.emit(o)}}saveColumnWidths(t){let i=[];L.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(L.getOuterWidth(s))),t.columnWidths=i.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=L.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),ne.isNotEmpty(t)){this.createStyleElement();let i="";t.forEach((r,s)=>{let o=`width: ${r}px !important; max-width: ${r}px !important`;i+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {
                            ${o}
                        }
                    `}),this.styleElement.textContent=i}}}saveColumnOrder(t){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),t.columnOrder=i}}restoreColumnOrder(){let i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let o=[];s.map(a=>{let l=this.findColumnByKey(a);l&&o.push(l)}),this.columnOrderStateRestored=!0,this.columns=o}}}findColumnByKey(t){if(this.columns){for(let i of this.columns)if(i.key===t||i.field===t)return i}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(nn(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let t=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"textContent",t)}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(t){return[this.paginatorStyleClass,t].filter(i=>!!i).join(" ").trim()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(Jt),G(nt),G(Ke),G(hx),G(wt),G(ry),G(cl),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-table"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(Lae,5),We(Nae,5),We(Vae,5),We(Bae,5),We(Uae,5),We(jae,5),We(zae,5),We(Hae,5),We($ae,5)),i&2){let s;be(s=Ce())&&(r.containerViewChild=s.first),be(s=Ce())&&(r.resizeHelperViewChild=s.first),be(s=Ce())&&(r.reorderIndicatorUpViewChild=s.first),be(s=Ce())&&(r.reorderIndicatorDownViewChild=s.first),be(s=Ce())&&(r.wrapperViewChild=s.first),be(s=Ce())&&(r.tableViewChild=s.first),be(s=Ce())&&(r.tableHeaderViewChild=s.first),be(s=Ce())&&(r.tableFooterViewChild=s.first),be(s=Ce())&&(r.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[j.HasDecoratorInputTransform,"paginator","paginator",K],pageLinks:[j.HasDecoratorInputTransform,"pageLinks","pageLinks",Ve],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[j.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",K],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[j.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",K],showJumpToPageDropdown:[j.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[j.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",K],showFirstLastIcon:[j.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",K],showPageLinks:[j.HasDecoratorInputTransform,"showPageLinks","showPageLinks",K],defaultSortOrder:[j.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",Ve],sortMode:"sortMode",resetPageOnSort:[j.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",K],selectionMode:"selectionMode",selectionPageOnly:[j.HasDecoratorInputTransform,"selectionPageOnly","selectionPageOnly",K],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[j.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",K],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[j.HasDecoratorInputTransform,"lazy","lazy",K],lazyLoadOnInit:[j.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",K],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[j.HasDecoratorInputTransform,"filterDelay","filterDelay",Ve],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[j.HasDecoratorInputTransform,"scrollable","scrollable",K],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[j.HasDecoratorInputTransform,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[j.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Ve],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[j.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",Ve],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[j.HasDecoratorInputTransform,"resizableColumns","resizableColumns",K],columnResizeMode:"columnResizeMode",reorderableColumns:[j.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",K],loading:[j.HasDecoratorInputTransform,"loading","loading",K],loadingIcon:"loadingIcon",showLoader:[j.HasDecoratorInputTransform,"showLoader","showLoader",K],rowHover:[j.HasDecoratorInputTransform,"rowHover","rowHover",K],customSort:[j.HasDecoratorInputTransform,"customSort","customSort",K],showInitialSortBadge:[j.HasDecoratorInputTransform,"showInitialSortBadge","showInitialSortBadge",K],autoLayout:[j.HasDecoratorInputTransform,"autoLayout","autoLayout",K],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[j.HasDecoratorInputTransform,"groupRowsByOrder","groupRowsByOrder",Ve],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[yn([hx]),Ct,hn],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(i,r){i&1&&(x(0,"div",10,0),D(2,tle,3,2,"div",11)(3,ile,2,1,"div",12)(4,vle,6,24,"p-paginator",13),x(5,"div",14,1),D(7,ble,3,17,"p-scroller",15)(8,Ele,2,7,"ng-container",16)(9,Mle,10,26,"ng-template",null,2,an),A(),D(11,qle,6,24,"p-paginator",13)(12,Yle,2,1,"div",17)(13,Qle,2,2,"div",18)(14,ece,4,4,"span",19)(15,rce,4,4,"span",20),A()),i&2&&(se(r.styleClass),g("ngStyle",r.style)("ngClass",ai(16,Gae,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&r.scrollHeight==="flex")),z("id",r.id),y(2),g("ngIf",r.loading&&r.showLoader),y(),g("ngIf",r.captionTemplate),y(),g("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),y(),g("ngStyle",Se(20,Wae,r.virtualScroll?"":r.scrollHeight)),y(2),g("ngIf",r.virtualScroll),y(),g("ngIf",!r.virtualScroll),y(3),g("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),y(),g("ngIf",r.summaryTemplate),y(),g("ngIf",r.resizableColumns),y(),g("ngIf",r.reorderableColumns),y(),g("ngIf",r.reorderableColumns))},dependencies:()=>[kt,St,Vt,Pt,m4,ot,Yy,rx,sx,pl,Lce],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return n})(),Lce=(()=>{class n{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(t,i,r,s){this.dt=t,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(t,i,r){let s=ne.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-(1+this.dt._first)];if(o){let a=ne.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowGroupFooter(t,i,r){let s=ne.resolveFieldData(i,this.dt.groupRowsBy),o=t[r+(1+this.dt._first)];if(o){let a=ne.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowspan(t,i,r){let s=ne.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-1];if(o){let a=ne.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}calculateRowGroupSize(t,i,r){let s=ne.resolveFieldData(i,this.dt.groupRowsBy),o=s,a=0;for(;s===o;){a++;let l=t[++r];if(l)o=ne.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=L.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=L.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,i){return this.dt.virtualScroll?(i=i||this.scrollerOptions,i?i[t]:null):null}getRowIndex(t){let i=this.dt.paginator?this.dt.first+t:t,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}static \u0275fac=function(i){return new(i||n)(G(mx),G(hx),G(wt),G(nt))};static \u0275cmp=ee({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[j.None,"pTableBody","columns"],template:[j.None,"pTableBodyTemplate","template"],value:"value",frozen:[j.HasDecoratorInputTransform,"frozen","frozen",K],frozenRows:[j.HasDecoratorInputTransform,"frozenRows","frozenRows",K],scrollerOptions:"scrollerOptions"},features:[Ct],attrs:sce,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&D(0,gce,2,2,"ng-container",0)(1,xce,2,2,"ng-container",0)(2,Mce,2,2,"ng-container",0)(3,Pce,2,5,"ng-container",0)(4,Fce,2,5,"ng-container",0),i&2&&(g("ngIf",!r.dt.expandedRowTemplate),y(),g("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),y(),g("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),y(),g("ngIf",r.dt.loading),y(),g("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[gi,St,Vt],encapsulation:2})}return n})();var C4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,g4,is,Gc,kc,Ss,_4,s4,Wc,y4,Kd,rx,sx,pl,c4,d4,u4,Tl,o4,a4,l4,h4,Xe,Kd]})}return n})();var Vce=["input"];function Bce(n,e){if(n&1){let t=pe();x(0,"TimesIcon",5),J("click",function(){B(t);let r=v(2);return U(r.clear())}),A()}n&2&&(g("styleClass","p-inputmask-clear-icon"),z("data-pc-section","clearIcon"))}function Uce(n,e){}function jce(n,e){n&1&&D(0,Uce,0,0,"ng-template")}function zce(n,e){if(n&1){let t=pe();x(0,"span",6),J("click",function(){B(t);let r=v(2);return U(r.clear())}),D(1,jce,1,0,null,7),A()}if(n&2){let t=v(2);z("data-pc-section","clearIcon"),y(),g("ngTemplateOutlet",t.clearIconTemplate)}}function Hce(n,e){if(n&1&&(ae(0),D(1,Bce,1,2,"TimesIcon",3)(2,zce,2,2,"span",4),le()),n&2){let t=v();y(),g("ngIf",!t.clearIconTemplate),y(),g("ngIf",t.clearIconTemplate)}}var $ce={provide:li,useExisting:Cn(()=>gx),multi:!0},gx=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new X;onFocus=new X;onBlur=new X;onInput=new X;onKeydown=new X;onClear=new X;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.el=r,this.cd=s,this.config=o}ngOnInit(){if(nn(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let i=0;i<t.length;i++){let r=t[i];r=="?"?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<t.length;i++){let r=t[i];r!="?"&&(this.defs[r]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(r))}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,i){let r,s,o;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof t=="number")s=t,o=typeof i=="number"?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,o):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",s),r.select());else return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(r=this.document.createRange(),s=0-r.duplicate().moveStart("character",-1e5),o=s+r.text.length),{begin:s,end:o}}isCompleted(){let t;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,i){let r,s;if(!(t<0)){for(r=t,s=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(s<this.len&&this.tests[r].test(this.buffer[s]))this.buffer[r]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s);else break;s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let i,r,s,o;for(i=t,r=this.getPlaceholder(t);i<this.len;i++)if(this.tests[i])if(s=this.seekNext(i),o=this.buffer[i],this.buffer[i]=r,s<this.len&&this.tests[s].test(o))r=o;else break}handleAndroidInput(t){var i=this.inputViewChild?.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(r.begin===0)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let i=this.document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(i)}}onInputKeydown(t){if(this.readonly)return;let i=t.which||t.keyCode,r,s,o,a;nn(this.platformId)&&(a=/iphone/i.test(L.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),i===8||i===46||a&&i===127?(r=this.caret(),s=r.begin,o=r.end,o-s===0&&(s=i!==46?this.seekPrev(s):o=this.seekNext(s-1),o=i===46?this.seekNext(o):o),this.clearBuffer(s,o),this.keepBuffer?this.shiftL(s,o-2):this.shiftL(s,o-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):i===13?(this.onInputBlur(t),this.updateModel(t)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var i=t.which||t.keyCode,r=this.caret(),s,o,a,l;t.ctrlKey||t.altKey||t.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(r.end-r.begin!==0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),s=this.seekNext(r.begin-1),s<this.len&&(o=String.fromCharCode(i),this.tests[s].test(o)&&(this.shiftR(s),this.buffer[s]=o,this.writeBuffer(),a=this.seekNext(s),L.isClient()&&/android/i.test(L.getUserAgent())?setTimeout(()=>{this.caret(a)},0):this.caret(a),r.begin<=this.lastRequiredNonMaskPos&&(l=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),l&&this.onComplete.emit())}}clearBuffer(t,i){if(!this.keepBuffer){let r;for(r=t;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let i=this.inputViewChild?.nativeElement.value,r=-1,s,o,a;for(s=0,a=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);a++<i.length;)if(o=i.charAt(a-1),this.tests[s].test(o)){this.keepBuffer||(this.buffer[s]=o),r=s;break}if(a>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(a)&&a++,s<this.partialPosition&&(r=s);return t?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,r+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=this.inputViewChild?.nativeElement.value,i=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask?.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&t.push(r)}return t.join("")}updateModel(t){let i=this.unmask?this.getUnmaskedValue():t.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(nt),G(wt),G(pn))};static \u0275cmp=ee({type:n,selectors:[["p-inputMask"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&We(Vce,7),i&2){let s;be(s=Ce())&&(r.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputmask-clearable",r.showClear&&!r.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[j.HasDecoratorInputTransform,"autoClear","autoClear",K],showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[j.HasDecoratorInputTransform,"size","size",Ve],maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[j.HasDecoratorInputTransform,"ariaRequired","ariaRequired",K],disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],unmask:[j.HasDecoratorInputTransform,"unmask","unmask",K],name:"name",required:[j.HasDecoratorInputTransform,"required","required",K],characterPattern:"characterPattern",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],autoFocus:[j.HasDecoratorInputTransform,"autoFocus","autoFocus",K],autocomplete:"autocomplete",keepBuffer:[j.HasDecoratorInputTransform,"keepBuffer","keepBuffer",K],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[yn([$ce]),Ct],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1){let s=pe();x(0,"input",1,0),J("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))})("keydown",function(a){return B(s),U(r.onInputKeydown(a))})("keypress",function(a){return B(s),U(r.onKeyPress(a))})("input",function(a){return B(s),U(r.onInputChange(a))})("paste",function(a){return B(s),U(r.handleInputChange(a))}),A(),D(2,Hce,3,2,"ng-container",2)}i&2&&(se(r.styleClass),g("ngClass",r.inputClass)("ngStyle",r.style)("disabled",r.disabled)("readonly",r.readonly)("variant",r.variant)("autofocus",r.autofocus),z("id",r.inputId)("type",r.type)("name",r.name)("placeholder",r.placeholder)("title",r.title)("size",r.size)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-required",r.ariaRequired)("required",r.required)("data-pc-name","inputmask")("data-pc-section","root"),y(2),g("ngIf",r.value!=null&&r.filled&&r.showClear&&!r.disabled))},dependencies:()=>[kt,St,Vt,Pt,hl,Wi,Ii],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),E4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,is,_r,Ii,Xe]})}return n})();var T4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x4={};var xl,_x;(function(){var n;function e(R,C){function T(){}T.prototype=C.prototype,R.D=C.prototype,R.prototype=new T,R.prototype.constructor=R,R.C=function(O,N,V){for(var k=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)k[Te-2]=arguments[Te];return C.prototype[N].apply(O,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,C,T){T||(T=0);var O=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)O[N]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(N=0;16>N;++N)O[N]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=R.g[0],T=R.g[1],N=R.g[2];var V=R.g[3],k=C+(V^T&(N^V))+O[0]+3614090360&4294967295;C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+O[1]+3905402710&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+O[2]+606105819&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+O[3]+3250441966&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+O[4]+4118548399&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+O[5]+1200080426&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+O[6]+2821735955&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+O[7]+4249261313&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+O[8]+1770035416&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+O[9]+2336552879&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+O[10]+4294925233&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+O[11]+2304563134&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+O[12]+1804603682&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+O[13]+4254626195&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+O[14]+2792965006&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+O[15]+1236535329&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(N^V&(T^N))+O[1]+4129170786&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+O[6]+3225465664&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+O[11]+643717713&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+O[0]+3921069994&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+O[5]+3593408605&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+O[10]+38016083&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+O[15]+3634488961&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+O[4]+3889429448&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+O[9]+568446438&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+O[14]+3275163606&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+O[3]+4107603335&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+O[8]+1163531501&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+O[13]+2850285829&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+O[2]+4243563512&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+O[7]+1735328473&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+O[12]+2368359562&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(T^N^V)+O[5]+4294588738&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+O[8]+2272392833&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+O[11]+1839030562&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+O[14]+4259657740&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+O[1]+2763975236&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+O[4]+1272893353&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+O[7]+4139469664&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+O[10]+3200236656&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+O[13]+681279174&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+O[0]+3936430074&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+O[3]+3572445317&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+O[6]+76029189&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+O[9]+3654602809&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+O[12]+3873151461&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+O[15]+530742520&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+O[2]+3299628645&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(N^(T|~V))+O[0]+4096336452&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+O[7]+1126891415&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+O[14]+2878612391&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+O[5]+4237533241&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+O[12]+1700485571&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+O[3]+2399980690&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+O[10]+4293915773&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+O[1]+2240044497&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+O[8]+1873313359&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+O[15]+4264355552&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+O[6]+2734768916&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+O[13]+1309151649&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+O[4]+4149444226&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+O[11]+3174756917&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+O[2]+718787259&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+V&4294967295}i.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var T=C-this.blockSize,O=this.B,N=this.h,V=0;V<C;){if(N==0)for(;V<=T;)r(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<C;)if(O[N++]=R.charCodeAt(V++),N==this.blockSize){r(this,O),N=0;break}}else for(;V<C;)if(O[N++]=R[V++],N==this.blockSize){r(this,O),N=0;break}}this.h=N,this.o+=C},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var T=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=T&255,T/=256;for(this.u(R),R=Array(16),C=T=0;4>C;++C)for(var O=0;32>O;O+=8)R[T++]=this.g[C]>>>O&255;return R};function s(R,C){var T=a;return Object.prototype.hasOwnProperty.call(T,R)?T[R]:T[R]=C(R)}function o(R,C){this.h=C;for(var T=[],O=!0,N=R.length-1;0<=N;N--){var V=R[N]|0;O&&V==C||(T[N]=V,O=!1)}this.g=T}var a={};function l(R){return-128<=R&&128>R?s(R,function(C){return new o([C|0],0>C?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return b(c(-R));for(var C=[],T=1,O=0;R>=T;O++)C[O]=R/T|0,T*=4294967296;return new o(C,0)}function u(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return b(u(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(C,8)),O=h,N=0;N<R.length;N+=8){var V=Math.min(8,R.length-N),k=parseInt(R.substring(N,N+V),C);8>V?(V=c(Math.pow(C,V)),O=O.j(V).add(c(k))):(O=O.j(T),O=O.add(c(k)))}return O}var h=l(0),f=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(I(this))return-b(this).m();for(var R=0,C=1,T=0;T<this.g.length;T++){var O=this.i(T);R+=(0<=O?O:4294967296+O)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(I(this))return"-"+b(this).toString(R);for(var C=c(Math.pow(R,6)),T=this,O="";;){var N=F(T,C).g;T=E(T,N.j(C));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(R);if(T=N,_(T))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function I(R){return R.h==-1}n.l=function(R){return R=E(this,R),I(R)?-1:_(R)?0:1};function b(R){for(var C=R.g.length,T=[],O=0;O<C;O++)T[O]=~R.g[O];return new o(T,~R.h).add(f)}n.abs=function(){return I(this)?b(this):this},n.add=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],O=0,N=0;N<=C;N++){var V=O+(this.i(N)&65535)+(R.i(N)&65535),k=(V>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);O=k>>>16,V&=65535,k&=65535,T[N]=k<<16|V}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(R,C){return R.add(b(C))}n.j=function(R){if(_(this)||_(R))return h;if(I(this))return I(R)?b(this).j(b(R)):b(b(this).j(R));if(I(R))return b(this.j(b(R)));if(0>this.l(p)&&0>R.l(p))return c(this.m()*R.m());for(var C=this.g.length+R.g.length,T=[],O=0;O<2*C;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<R.g.length;N++){var V=this.i(O)>>>16,k=this.i(O)&65535,Te=R.i(N)>>>16,Ee=R.i(N)&65535;T[2*O+2*N]+=k*Ee,M(T,2*O+2*N),T[2*O+2*N+1]+=V*Ee,M(T,2*O+2*N+1),T[2*O+2*N+1]+=k*Te,M(T,2*O+2*N+1),T[2*O+2*N+2]+=V*Te,M(T,2*O+2*N+2)}for(O=0;O<C;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=C;O<2*C;O++)T[O]=0;return new o(T,0)};function M(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function P(R,C){this.g=R,this.h=C}function F(R,C){if(_(C))throw Error("division by zero");if(_(R))return new P(h,h);if(I(R))return C=F(b(R),C),new P(b(C.g),b(C.h));if(I(C))return C=F(R,b(C)),new P(b(C.g),C.h);if(30<R.g.length){if(I(R)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var T=f,O=C;0>=O.l(R);)T=$(T),O=$(O);var N=Y(T,1),V=Y(O,1);for(O=Y(O,2),T=Y(T,2);!_(O);){var k=V.add(O);0>=k.l(R)&&(N=N.add(T),V=k),O=Y(O,1),T=Y(T,1)}return C=E(R,N.j(C)),new P(N,C)}for(N=h;0<=R.l(C);){for(T=Math.max(1,Math.floor(R.m()/C.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=c(T),k=V.j(C);I(k)||0<k.l(R);)T-=O,V=c(T),k=V.j(C);_(V)&&(V=f),N=N.add(V),R=E(R,k)}return new P(N,R)}n.A=function(R){return F(this,R).h},n.and=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],O=0;O<C;O++)T[O]=this.i(O)&R.i(O);return new o(T,this.h&R.h)},n.or=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],O=0;O<C;O++)T[O]=this.i(O)|R.i(O);return new o(T,this.h|R.h)},n.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],O=0;O<C;O++)T[O]=this.i(O)^R.i(O);return new o(T,this.h^R.h)};function $(R){for(var C=R.g.length+1,T=[],O=0;O<C;O++)T[O]=R.i(O)<<1|R.i(O-1)>>>31;return new o(T,R.h)}function Y(R,C){var T=C>>5;C%=32;for(var O=R.g.length-T,N=[],V=0;V<O;V++)N[V]=0<C?R.i(V+T)>>>C|R.i(V+T+1)<<32-C:R.i(V+T);return new o(N,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_x=x4.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,xl=x4.Integer=o}).apply(typeof T4<"u"?T4:typeof self<"u"?self:typeof window<"u"?window:{});var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aa={};var yx,vx,Xd,wx,qp,ev,Ix,bx,Cx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,w){return d==Array.prototype||d==Object.prototype||(d[m]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jy=="object"&&Jy];for(var m=0;m<d.length;++m){var w=d[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(d,m){if(m)e:{var w=i;d=d.split(".");for(var S=0;S<d.length-1;S++){var q=d[S];if(!(q in w))break e;w=w[q]}d=d[d.length-1],S=w[d],m=m(S),m!=S&&m!=null&&e(w,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var w=0,S=!1,q={next:function(){if(!S&&w<d.length){var Q=w++;return{value:m(Q,d[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(d){return d||function(){return s(this,function(m,w){return w})}});var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,w){return d.call.apply(d.bind,arguments)}function h(d,m,w){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),d.apply(m,q)}}return function(){return d.apply(m,arguments)}}function f(d,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,m){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function _(d,m){function w(){}w.prototype=m.prototype,d.aa=m.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(S,q,Q){for(var _e=Array(arguments.length-2),ln=2;ln<arguments.length;ln++)_e[ln-2]=arguments[ln];return m.prototype[q].apply(S,_e)}}function I(d){let m=d.length;if(0<m){let w=Array(m);for(let S=0;S<m;S++)w[S]=d[S];return w}return[]}function b(d,m){for(let w=1;w<arguments.length;w++){let S=arguments[w];if(l(S)){let q=d.length||0,Q=S.length||0;d.length=q+Q;for(let _e=0;_e<Q;_e++)d[q+_e]=S[_e]}else d.push(S)}}class E{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(d){return/^[\s\xa0]*$/.test(d)}function P(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Y(d,m,w){for(let S in d)m.call(w,d[S],S,d)}function R(d,m){for(let w in d)m.call(void 0,d[w],w,d)}function C(d){let m={};for(let w in d)m[w]=d[w];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,m){let w,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(w in S)d[w]=S[w];for(let Q=0;Q<T.length;Q++)w=T[Q],Object.prototype.hasOwnProperty.call(S,w)&&(d[w]=S[w])}}function N(d){var m=1;d=d.split(":");let w=[];for(;0<m&&d.length;)w.push(d.shift()),m--;return d.length&&w.push(d.join(":")),w}function V(d){a.setTimeout(()=>{throw d},0)}function k(){var d=Ae;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,w){let S=Ee.get();S.set(m,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new E(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,de=!1,Ae=new Te,xe=()=>{let d=a.Promise.resolve(void 0);ie=()=>{d.then(ze)}};var ze=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(w){V(w)}var m=Ee;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}de=!1};function Ge(){this.s=this.s,this.C=this.C}Ge.prototype.s=!1,Ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return d}();function In(d,m){if(ut.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if($){e:{try{F(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else w=="mouseover"?m=d.fromElement:w=="mouseout"&&(m=d.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ln[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&In.aa.h.call(this)}}_(In,ut);var Ln={2:"touch",3:"pen",4:"mouse"};In.prototype.h=function(){In.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),$n=0;function vn(d,m,w,S,q){this.listener=d,this.proxy=null,this.src=m,this.type=w,this.capture=!!S,this.ha=q,this.key=++$n,this.da=this.fa=!1}function Tn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Di(d){this.src=d,this.g={},this.h=0}Di.prototype.add=function(d,m,w,S,q){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var _e=ka(d,m,S,q);return-1<_e?(m=d[_e],w||(m.fa=!1)):(m=new vn(m,this.src,Q,!!S,q),m.fa=w,d.push(m)),m};function Mo(d,m){var w=m.type;if(w in d.g){var S=d.g[w],q=Array.prototype.indexOf.call(S,m,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(Tn(m),d.g[w].length==0&&(delete d.g[w],d.h--))}}function ka(d,m,w,S){for(var q=0;q<d.length;++q){var Q=d[q];if(!Q.da&&Q.listener==m&&Q.capture==!!w&&Q.ha==S)return q}return-1}var Zl="closure_lm_"+(1e6*Math.random()|0),ko={};function js(d,m,w,S,q){if(S&&S.once)return Po(d,m,w,S,q);if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)js(d,m[Q],w,S,q);return null}return w=Xl(w),d&&d[yt]?d.K(m,w,c(S)?!!S.capture:!!S,q):er(d,m,w,!1,S,q)}function er(d,m,w,S,q,Q){if(!m)throw Error("Invalid event type");var _e=c(q)?!!q.capture:!!q,ln=Hs(d);if(ln||(d[Zl]=ln=new Di(d)),w=ln.add(m,w,S,_e,Q),w.proxy)return w;if(S=Kr(),w.proxy=S,S.src=d,S.listener=w,d.addEventListener)re||(q=_e),q===void 0&&(q=!1),d.addEventListener(m.toString(),S,q);else if(d.attachEvent)d.attachEvent(zs(m.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Kr(){function d(w){return m.call(d.src,d.listener,w)}let m=Pa;return d}function Po(d,m,w,S,q){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Po(d,m[Q],w,S,q);return null}return w=Xl(w),d&&d[yt]?d.L(m,w,c(S)?!!S.capture:!!S,q):er(d,m,w,!0,S,q)}function Oo(d,m,w,S,q){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Oo(d,m[Q],w,S,q);else S=c(S)?!!S.capture:!!S,w=Xl(w),d&&d[yt]?(d=d.i,m=String(m).toString(),m in d.g&&(Q=d.g[m],w=ka(Q,w,S,q),-1<w&&(Tn(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete d.g[m],d.h--)))):d&&(d=Hs(d))&&(m=d.g[m.toString()],d=-1,m&&(d=ka(m,w,S,q)),(w=-1<d?m[d]:null)&&Fo(w))}function Fo(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[yt])Mo(m.i,d);else{var w=d.type,S=d.proxy;m.removeEventListener?m.removeEventListener(w,S,d.capture):m.detachEvent?m.detachEvent(zs(w),S):m.addListener&&m.removeListener&&m.removeListener(S),(w=Hs(m))?(Mo(w,d),w.h==0&&(w.src=null,m[Zl]=null)):Tn(d)}}}function zs(d){return d in ko?ko[d]:ko[d]="on"+d}function Pa(d,m){if(d.da)d=!0;else{m=new In(m,this);var w=d.listener,S=d.ha||d.src;d.fa&&Fo(d),d=w.call(S,m)}return d}function Hs(d){return d=d[Zl],d instanceof Di?d:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(d){return typeof d=="function"?d:(d[xn]||(d[xn]=function(m){return d.handleEvent(m)}),d[xn])}function Gn(){Ge.call(this),this.i=new Di(this),this.M=this,this.F=null}_(Gn,Ge),Gn.prototype[yt]=!0,Gn.prototype.removeEventListener=function(d,m,w,S){Oo(this,d,m,w,S)};function Wn(d,m){var w,S=d.F;if(S)for(w=[];S;S=S.F)w.push(S);if(d=d.M,S=m.type||m,typeof m=="string")m=new ut(m,d);else if(m instanceof ut)m.target=m.target||d;else{var q=m;m=new ut(S,d),O(m,q)}if(q=!0,w)for(var Q=w.length-1;0<=Q;Q--){var _e=m.g=w[Q];q=Lo(_e,S,!0,m)&&q}if(_e=m.g=d,q=Lo(_e,S,!0,m)&&q,q=Lo(_e,S,!1,m)&&q,w)for(Q=0;Q<w.length;Q++)_e=m.g=w[Q],q=Lo(_e,S,!1,m)&&q}Gn.prototype.N=function(){if(Gn.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var w=d.g[m],S=0;S<w.length;S++)Tn(w[S]);delete d.g[m],d.h--}}this.F=null},Gn.prototype.K=function(d,m,w,S){return this.i.add(String(d),m,!1,w,S)},Gn.prototype.L=function(d,m,w,S){return this.i.add(String(d),m,!0,w,S)};function Lo(d,m,w,S){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,Q=0;Q<m.length;++Q){var _e=m[Q];if(_e&&!_e.da&&_e.capture==w){var ln=_e.listener,Ai=_e.ha||_e.src;_e.fa&&Mo(d.i,_e),q=ln.call(Ai,S)!==!1&&q}}return q&&!S.defaultPrevented}function rg(d,m,w){if(typeof d=="function")w&&(d=f(d,w));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function hf(d){d.g=rg(()=>{d.g=null,d.i&&(d.i=!1,hf(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class sg extends Ge{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(d){Ge.call(this),this.h=d,this.g={}}_(No,Ge);var og=[];function ag(d){Y(d.g,function(m,w){this.g.hasOwnProperty(w)&&Fo(m)},d),d.g={}}No.prototype.N=function(){No.aa.N.call(this),ag(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xu=a.JSON.stringify,lg=a.JSON.parse,ff=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Su(){}Su.prototype.h=null;function Du(d){return d.h||(d.h=d.i())}function Oa(){}var ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vo(){ut.call(this,"d")}_(Vo,ut);function Au(){ut.call(this,"c")}_(Au,ut);var $s={},tr=null;function Yr(){return tr=tr||new Gn}$s.La="serverreachability";function nr(d){ut.call(this,$s.La,d)}_(nr,ut);function Vi(d){let m=Yr();Wn(m,new nr(m))}$s.STAT_EVENT="statevent";function ir(d,m){ut.call(this,$s.STAT_EVENT,d),this.stat=m}_(ir,ut);function gn(d){let m=Yr();Wn(m,new ir(m,d))}$s.Ma="timingevent";function Qr(d,m){ut.call(this,$s.Ma,d),this.size=m}_(Qr,ut);function rn(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function hs(d,m,w,S,q,Q){d.info(function(){if(d.g)if(Q)for(var _e="",ln=Q.split("&"),Ai=0;Ai<ln.length;Ai++){var $t=ln[Ai].split("=");if(1<$t.length){var Bi=$t[0];$t=$t[1];var Ui=Bi.split("_");_e=2<=Ui.length&&Ui[1]=="type"?_e+(Bi+"="+$t+"&"):_e+(Bi+"=redacted&")}}else _e=null;else _e=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+m+`
`+w+`
`+_e})}function _I(d,m,w,S,q,Q,_e){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+m+`
`+w+`
`+Q+" "+_e})}function Ru(d,m,w,S){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+PB(d,w)+(S?" "+S:"")})}function kB(d,m){d.info(function(){return"TIMEOUT: "+m})}Nn.prototype.info=function(){};function PB(d,m){if(!d.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var S=w[d];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var _e=1;_e<q.length;_e++)q[_e]=""}}}}return xu(w)}catch{return m}}var cg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yI;function ug(){}_(ug,Su),ug.prototype.g=function(){return new XMLHttpRequest},ug.prototype.i=function(){return{}},yI=new ug;function Fa(d,m,w,S){this.j=d,this.i=m,this.l=w,this.R=S||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hM}function hM(){this.i=null,this.g="",this.h=!1}var fM={},vI={};function wI(d,m,w){d.L=1,d.v=pg(Bo(m)),d.m=w,d.P=!0,pM(d,null)}function pM(d,m){d.F=Date.now(),dg(d),d.A=Bo(d.v);var w=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),DM(w.i,"t",S),d.C=0,w=d.j.J,d.h=new hM,d.g=WM(d.j,w?m:null,!d.m),0<d.O&&(d.M=new sg(f(d.Y,d,d.g),d.O)),m=d.U,w=d.g,S=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(og[0]=q.toString()),q=og);for(var Q=0;Q<q.length;Q++){var _e=js(w,q[Q],S||m.handleEvent,!1,m.h||m);if(!_e)break;m.g[_e.key]=_e}m=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Vi(),hs(d.i,d.u,d.A,d.l,d.R,d.m)}Fa.prototype.ca=function(d){d=d.target;let m=this.M;m&&Uo(d)==3?m.j():this.Y(d)},Fa.prototype.Y=function(d){try{if(d==this.g)e:{let Ui=Uo(this.g);var m=this.g.Ba();let Pu=this.g.Z();if(!(3>Ui)&&(Ui!=3||this.g&&(this.h.h||this.g.oa()||FM(this.g)))){this.J||Ui!=4||m==7||(m==8||0>=Pu?Vi(3):Vi(2)),II(this);var w=this.g.Z();this.X=w;t:if(mM(this)){var S=FM(this.g);d="";var q=S.length,Q=Uo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),pf(this);var _e="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,d+=this.h.i.decode(S[m],{stream:!(Q&&m==q-1)});S.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=w==200,_I(this.i,this.u,this.A,this.l,this.R,Ui,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ln,Ai=this.g;if((ln=Ai.g?Ai.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ln)){var $t=ln;break t}}$t=null}if(w=$t)Ru(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bI(this,w);else{this.o=!1,this.s=3,gn(12),Jl(this),pf(this);break e}}if(this.P){w=!0;let fs;for(;!this.J&&this.C<_e.length;)if(fs=OB(this,_e),fs==vI){Ui==4&&(this.s=4,gn(14),w=!1),Ru(this.i,this.l,null,"[Incomplete Response]");break}else if(fs==fM){this.s=4,gn(15),Ru(this.i,this.l,_e,"[Invalid Chunk]"),w=!1;break}else Ru(this.i,this.l,fs,null),bI(this,fs);if(mM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ui!=4||_e.length!=0||this.h.h||(this.s=1,gn(16),w=!1),this.o=this.o&&w,!w)Ru(this.i,this.l,_e,"[Invalid Chunked Response]"),Jl(this),pf(this);else if(0<_e.length&&!this.W){this.W=!0;var Bi=this.j;Bi.g==this&&Bi.ba&&!Bi.M&&(Bi.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),DI(Bi),Bi.M=!0,gn(11))}}else Ru(this.i,this.l,_e,null),bI(this,_e);Ui==4&&Jl(this),this.o&&!this.J&&(Ui==4?zM(this.j,this):(this.o=!1,dg(this)))}else ZB(this.g),w==400&&0<_e.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Jl(this),pf(this)}}}catch{}finally{}};function mM(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function OB(d,m){var w=d.C,S=m.indexOf(`
`,w);return S==-1?vI:(w=Number(m.substring(w,S)),isNaN(w)?fM:(S+=1,S+w>m.length?vI:(m=m.slice(S,S+w),d.C=S+w,m)))}Fa.prototype.cancel=function(){this.J=!0,Jl(this)};function dg(d){d.S=Date.now()+d.I,gM(d,d.I)}function gM(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=rn(f(d.ba,d),m)}function II(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Fa.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(kB(this.i,this.A),this.L!=2&&(Vi(),gn(17)),Jl(this),this.s=2,pf(this)):gM(this,this.S-d)};function pf(d){d.j.G==0||d.J||zM(d.j,d)}function Jl(d){II(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,ag(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function bI(d,m){try{var w=d.j;if(w.G!=0&&(w.g==d||CI(w.h,d))){if(!d.K&&CI(w.h,d)&&w.G==3){try{var S=w.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)vg(w),_g(w);else break e;SI(w),gn(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=rn(f(w.Za,w),6e3));if(1>=vM(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else tc(w,11)}else if((d.K||w.g==d)&&vg(w),!M(m))for(q=w.Da.g.parse(m),m=0;m<q.length;m++){let $t=q[m];if(w.T=$t[0],$t=$t[1],w.G==2)if($t[0]=="c"){w.K=$t[1],w.ia=$t[2];let Bi=$t[3];Bi!=null&&(w.la=Bi,w.j.info("VER="+w.la));let Ui=$t[4];Ui!=null&&(w.Aa=Ui,w.j.info("SVER="+w.Aa));let Pu=$t[5];Pu!=null&&typeof Pu=="number"&&0<Pu&&(S=1.5*Pu,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;let fs=d.g;if(fs){let Ig=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ig){var Q=S.h;Q.g||Ig.indexOf("spdy")==-1&&Ig.indexOf("quic")==-1&&Ig.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(EI(Q,Q.h),Q.h=null))}if(S.D){let AI=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;AI&&(S.ya=AI,_n(S.I,S.D,AI))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var _e=d;if(S.qa=GM(S,S.J?S.ia:null,S.W),_e.K){wM(S.h,_e);var ln=_e,Ai=S.L;Ai&&(ln.I=Ai),ln.B&&(II(ln),dg(ln)),S.g=_e}else UM(S);0<w.i.length&&yg(w)}else $t[0]!="stop"&&$t[0]!="close"||tc(w,7);else w.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?tc(w,7):xI(w):$t[0]!="noop"&&w.l&&w.l.ta($t),w.v=0)}}Vi(4)}catch{}}var FB=class{constructor(d,m){this.g=d,this.map=m}};function _M(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yM(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vM(d){return d.h?1:d.g?d.g.size:0}function CI(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function EI(d,m){d.g?d.g.add(m):d.h=m}function wM(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}_M.prototype.cancel=function(){if(this.i=IM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function IM(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let w of d.g.values())m=m.concat(w.D);return m}return I(d.i)}function LB(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],w=d.length,S=0;S<w;S++)m.push(d[S]);return m}m=[],w=0;for(S in d)m[w++]=d[S];return m}function NB(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var w=0;w<d;w++)m.push(w);return m}m=[],w=0;for(let S in d)m[w++]=S;return m}}}function bM(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var w=NB(d),S=LB(d),q=S.length,Q=0;Q<q;Q++)m.call(void 0,S[Q],w&&w[Q],d)}var CM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VB(d,m){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var S=d[w].indexOf("="),q=null;if(0<=S){var Q=d[w].substring(0,S);q=d[w].substring(S+1)}else Q=d[w];m(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ec(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ec){this.h=d.h,hg(this,d.j),this.o=d.o,this.g=d.g,fg(this,d.s),this.l=d.l;var m=d.i,w=new _f;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),EM(this,w),this.m=d.m}else d&&(m=String(d).match(CM))?(this.h=!1,hg(this,m[1]||"",!0),this.o=mf(m[2]||""),this.g=mf(m[3]||"",!0),fg(this,m[4]),this.l=mf(m[5]||"",!0),EM(this,m[6]||"",!0),this.m=mf(m[7]||"")):(this.h=!1,this.i=new _f(null,this.h))}ec.prototype.toString=function(){var d=[],m=this.j;m&&d.push(gf(m,TM,!0),":");var w=this.g;return(w||m=="file")&&(d.push("//"),(m=this.o)&&d.push(gf(m,TM,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(gf(w,w.charAt(0)=="/"?jB:UB,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",gf(w,HB)),d.join("")};function Bo(d){return new ec(d)}function hg(d,m,w){d.j=w?mf(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function fg(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function EM(d,m,w){m instanceof _f?(d.i=m,$B(d.i,d.h)):(w||(m=gf(m,zB)),d.i=new _f(m,d.h))}function _n(d,m,w){d.i.set(m,w)}function pg(d){return _n(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function mf(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function gf(d,m,w){return typeof d=="string"?(d=encodeURI(d).replace(m,BB),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function BB(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var TM=/[#\/\?@]/g,UB=/[#\?:]/g,jB=/[#\?]/g,zB=/[#\?@]/g,HB=/#/g;function _f(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function La(d){d.g||(d.g=new Map,d.h=0,d.i&&VB(d.i,function(m,w){d.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}n=_f.prototype,n.add=function(d,m){La(this),this.i=null,d=Mu(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(m),this.h+=1,this};function xM(d,m){La(d),m=Mu(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function SM(d,m){return La(d),m=Mu(d,m),d.g.has(m)}n.forEach=function(d,m){La(this),this.g.forEach(function(w,S){w.forEach(function(q){d.call(m,q,S,this)},this)},this)},n.na=function(){La(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let S=0;S<m.length;S++){let q=d[S];for(let Q=0;Q<q.length;Q++)w.push(m[S])}return w},n.V=function(d){La(this);let m=[];if(typeof d=="string")SM(this,d)&&(m=m.concat(this.g.get(Mu(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)m=m.concat(d[w])}return m},n.set=function(d,m){return La(this),this.i=null,d=Mu(this,d),SM(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function DM(d,m,w){xM(d,m),0<w.length&&(d.i=null,d.g.set(Mu(d,m),I(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var S=m[w];let Q=encodeURIComponent(String(S)),_e=this.V(S);for(S=0;S<_e.length;S++){var q=Q;_e[S]!==""&&(q+="="+encodeURIComponent(String(_e[S]))),d.push(q)}}return this.i=d.join("&")};function Mu(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function $B(d,m){m&&!d.j&&(La(d),d.i=null,d.g.forEach(function(w,S){var q=S.toLowerCase();S!=q&&(xM(this,S),DM(this,q,w))},d)),d.j=m}function GB(d,m){let w=new Nn;if(a.Image){let S=new Image;S.onload=p(Na,w,"TestLoadImage: loaded",!0,m,S),S.onerror=p(Na,w,"TestLoadImage: error",!1,m,S),S.onabort=p(Na,w,"TestLoadImage: abort",!1,m,S),S.ontimeout=p(Na,w,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else m(!1)}function WB(d,m){let w=new Nn,S=new AbortController,q=setTimeout(()=>{S.abort(),Na(w,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Na(w,"TestPingServer: ok",!0,m):Na(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Na(w,"TestPingServer: error",!1,m)})}function Na(d,m,w,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(w)}catch{}}function qB(){this.g=new ff}function KB(d,m,w){let S=w||"";try{bM(d,function(q,Q){let _e=q;c(q)&&(_e=xu(q)),m.push(S+Q+"="+encodeURIComponent(_e))})}catch(q){throw m.push(S+"type="+encodeURIComponent("_badmap")),q}}function yf(d){this.l=d.Ub||null,this.j=d.eb||!1}_(yf,Su),yf.prototype.g=function(){return new mg(this.l,this.j)},yf.prototype.i=function(d){return function(){return d}}({});function mg(d,m){Gn.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(mg,Gn),n=mg.prototype,n.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,wf(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vf(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AM(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function AM(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?vf(this):wf(this),this.readyState==3&&AM(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,vf(this))},n.Qa=function(d){this.g&&(this.response=d,vf(this))},n.ga=function(){this.g&&vf(this)};function vf(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wf(d)}n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=m.next();return d.join(`\r
`)};function wf(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function RM(d){let m="";return Y(d,function(w,S){m+=S,m+=":",m+=w,m+=`\r
`}),m}function TI(d,m,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=RM(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):_n(d,m,w))}function Sn(d){Gn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Sn,Gn);var YB=/^https?$/i,QB=["POST","PUT"];n=Sn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,m,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yI.g(),this.v=this.o?Du(this.o):Du(yI),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(Q){MM(this,Q);return}if(d=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)w.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(let Q of S.keys())w.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QB,m,void 0))||S||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Q,_e]of w)this.g.setRequestHeader(Q,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OM(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){MM(this,Q)}};function MM(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,kM(d),gg(d)}function kM(d){d.A||(d.A=!0,Wn(d,"complete"),Wn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Wn(this,"complete"),Wn(this,"abort"),gg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gg(this,!0)),Sn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?PM(this):this.bb())},n.bb=function(){PM(this)};function PM(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Uo(d)!=4||d.Z()!=2)){if(d.u&&Uo(d)==4)rg(d.Ea,0,d);else if(Wn(d,"readystatechange"),Uo(d)==4){d.h=!1;try{let _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var S;if(S=_e===0){var q=String(d.D).match(CM)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),S=!YB.test(q?q.toLowerCase():"")}w=S}if(w)Wn(d,"complete"),Wn(d,"success");else{d.m=6;try{var Q=2<Uo(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",kM(d)}}finally{gg(d)}}}}function gg(d,m){if(d.g){OM(d);let w=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Wn(d,"ready");try{w.onreadystatechange=S}catch{}}}function OM(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Uo(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Uo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),lg(m)}};function FM(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ZB(d){let m={};d=(d.g&&2<=Uo(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(M(d[S]))continue;var w=N(d[S]);let q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();let Q=m[q]||[];m[q]=Q,Q.push(w)}R(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function If(d,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||m}function LM(d){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=If("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=If("baseRetryDelayMs",5e3,d),this.cb=If("retryDelaySeedMs",1e4,d),this.Wa=If("forwardChannelMaxRetries",2,d),this.wa=If("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new _M(d&&d.concurrentRequestLimit),this.Da=new qB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=LM.prototype,n.la=8,n.G=1,n.connect=function(d,m,w,S){gn(0),this.W=d,this.H=m||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=GM(this,null,this.W),yg(this)};function xI(d){if(NM(d),d.G==3){var m=d.U++,w=Bo(d.I);if(_n(w,"SID",d.K),_n(w,"RID",m),_n(w,"TYPE","terminate"),bf(d,w),m=new Fa(d,d.j,m),m.L=2,m.v=pg(Bo(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=WM(m.j,null),m.g.ea(m.v)),m.F=Date.now(),dg(m)}$M(d)}function _g(d){d.g&&(DI(d),d.g.cancel(),d.g=null)}function NM(d){_g(d),d.u&&(a.clearTimeout(d.u),d.u=null),vg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function yg(d){if(!yM(d.h)&&!d.s){d.s=!0;var m=d.Ga;ie||xe(),de||(ie(),de=!0),Ae.add(m,d),d.B=0}}function XB(d,m){return vM(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=rn(f(d.Ga,d,m),HM(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let q=new Fa(this,this.j,d),Q=this.o;if(this.S&&(Q?(Q=C(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=BM(this,q,m),w=Bo(this.I),_n(w,"RID",d),_n(w,"CVER",22),this.D&&_n(w,"X-HTTP-Session-Id",this.D),bf(this,w),Q&&(this.O?m="headers="+encodeURIComponent(String(RM(Q)))+"&"+m:this.m&&TI(w,this.m,Q)),EI(this.h,q),this.Ua&&_n(w,"TYPE","init"),this.P?(_n(w,"$req",m),_n(w,"SID","null"),q.T=!0,wI(q,w,null)):wI(q,w,m),this.G=2}}else this.G==3&&(d?VM(this,d):this.i.length==0||yM(this.h)||VM(this))};function VM(d,m){var w;m?w=m.l:w=d.U++;let S=Bo(d.I);_n(S,"SID",d.K),_n(S,"RID",w),_n(S,"AID",d.T),bf(d,S),d.m&&d.o&&TI(S,d.m,d.o),w=new Fa(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),m&&(d.i=m.D.concat(d.i)),m=BM(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),EI(d.h,w),wI(w,S,m)}function bf(d,m){d.H&&Y(d.H,function(w,S){_n(m,S,w)}),d.l&&bM({},function(w,S){_n(m,S,w)})}function BM(d,m,w){w=Math.min(d.i.length,w);var S=d.l?f(d.l.Na,d.l,d):null;e:{var q=d.i;let Q=-1;for(;;){let _e=["count="+w];Q==-1?0<w?(Q=q[0].g,_e.push("ofs="+Q)):Q=0:_e.push("ofs="+Q);let ln=!0;for(let Ai=0;Ai<w;Ai++){let $t=q[Ai].g,Bi=q[Ai].map;if($t-=Q,0>$t)Q=Math.max(0,q[Ai].g-100),ln=!1;else try{KB(Bi,_e,"req"+$t+"_")}catch{S&&S(Bi)}}if(ln){S=_e.join("&");break e}}}return d=d.i.splice(0,w),m.D=d,S}function UM(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;ie||xe(),de||(ie(),de=!0),Ae.add(m,d),d.v=0}}function SI(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=rn(f(d.Fa,d),HM(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,jM(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=rn(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),_g(this),jM(this))};function DI(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function jM(d){d.g=new Fa(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Bo(d.qa);_n(m,"RID","rpc"),_n(m,"SID",d.K),_n(m,"AID",d.T),_n(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&_n(m,"TO",d.ja),_n(m,"TYPE","xmlhttp"),bf(d,m),d.m&&d.o&&TI(m,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=pg(Bo(m)),w.m=null,w.P=!0,pM(w,d)}n.Za=function(){this.C!=null&&(this.C=null,_g(this),SI(this),gn(19))};function vg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function zM(d,m){var w=null;if(d.g==m){vg(d),DI(d),d.g=null;var S=2}else if(CI(d.h,m))w=m.D,wM(d.h,m),S=1;else return;if(d.G!=0){if(m.o)if(S==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var q=d.B;S=Yr(),Wn(S,new Qr(S,w)),yg(d)}else UM(d);else if(q=m.s,q==3||q==0&&0<m.X||!(S==1&&XB(d,m)||S==2&&SI(d)))switch(w&&0<w.length&&(m=d.h,m.i=m.i.concat(w)),q){case 1:tc(d,5);break;case 4:tc(d,10);break;case 3:tc(d,6);break;default:tc(d,2)}}}function HM(d,m){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*m}function tc(d,m){if(d.j.info("Error code "+m),m==2){var w=f(d.fb,d),S=d.Xa;let q=!S;S=new ec(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hg(S,"https"),pg(S),q?GB(S.toString(),w):WB(S.toString(),w)}else gn(2);d.G=0,d.l&&d.l.sa(m),$M(d),NM(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function $M(d){if(d.G=0,d.ka=[],d.l){let m=IM(d.h);(m.length!=0||d.i.length!=0)&&(b(d.ka,m),b(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function GM(d,m,w){var S=w instanceof ec?Bo(w):new ec(w);if(S.g!="")m&&(S.g=m+"."+S.g),fg(S,S.s);else{var q=a.location;S=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var Q=new ec(null);S&&hg(Q,S),m&&(Q.g=m),q&&fg(Q,q),w&&(Q.l=w),S=Q}return w=d.D,m=d.ya,w&&m&&_n(S,w,m),_n(S,"VER",d.la),bf(d,S),S}function WM(d,m,w){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new Sn(new yf({eb:w})):new Sn(d.pa),m.Ha(d.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qM(){}n=qM.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wg(){}wg.prototype.g=function(d,m){return new xr(d,m)};function xr(d,m){Gn.call(this),this.g=new LM(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!M(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new ku(this)}_(xr,Gn),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){xI(this.g)},xr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=xu(d),d=w);m.i.push(new FB(m.Ya++,d)),m.G==3&&yg(m)},xr.prototype.N=function(){this.g.l=null,delete this.j,xI(this.g),delete this.g,xr.aa.N.call(this)};function KM(d){Vo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let w in m){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}_(KM,Vo);function YM(){Au.call(this),this.status=1}_(YM,Au);function ku(d){this.g=d}_(ku,qM),ku.prototype.ua=function(){Wn(this.g,"a")},ku.prototype.ta=function(d){Wn(this.g,new KM(d))},ku.prototype.sa=function(d){Wn(this.g,new YM)},ku.prototype.ra=function(){Wn(this.g,"b")},wg.prototype.createWebChannel=wg.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,Cx=aa.createWebChannelTransport=function(){return new wg},bx=aa.getStatEventTarget=function(){return Yr()},Ix=aa.Event=$s,ev=aa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,qp=aa.ErrorCode=cg,dM.COMPLETE="complete",wx=aa.EventType=dM,Oa.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",Gn.prototype.listen=Gn.prototype.K,Xd=aa.WebChannel=Oa,vx=aa.FetchXmlHttpFactory=yf,Sn.prototype.listenOnce=Sn.prototype.L,Sn.prototype.getLastError=Sn.prototype.Ka,Sn.prototype.getLastErrorCode=Sn.prototype.Ba,Sn.prototype.getStatus=Sn.prototype.Z,Sn.prototype.getResponseJson=Sn.prototype.Oa,Sn.prototype.getResponseText=Sn.prototype.oa,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Ha,yx=aa.XhrIo=Sn}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var S4="@firebase/firestore";var bi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");var wh="10.12.5";var Zc=new gl("@firebase/firestore");function Kp(){return Zc.logLevel}function Fe(n,...e){if(Zc.logLevel<=Ot.DEBUG){let t=e.map(oD);Zc.debug(`Firestore (${wh}): ${n}`,...t)}}function ca(n,...e){if(Zc.logLevel<=Ot.ERROR){let t=e.map(oD);Zc.error(`Firestore (${wh}): ${n}`,...t)}}function oh(n,...e){if(Zc.logLevel<=Ot.WARN){let t=e.map(oD);Zc.warn(`Firestore (${wh}): ${n}`,...t)}}function oD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function et(n="Unexpected state"){let e=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: `+n;throw ca(e),new Error(e)}function dn(n,e){n||et()}function lt(n,e){return n}var ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ue=class extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var la=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var sv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}},Ax=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Rx=class{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new la;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new la,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>H(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new la)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string"),new sv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string"),new bi(e)}},Mx=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},kx=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Px=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ox=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string"),this.R=t.token,new Px(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Wce(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var ov=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Wce(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Qt(n,e){return n<e?-1:n>e?1:0}function ah(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Oi=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var gt=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Oi(0,0))}static max(){return new n(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var av=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&et(),i===void 0?i=e.length-t:i>e.length-t&&et(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},kn=class n extends av{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ue(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},qce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ur=class n extends av{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return qce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new Ue(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Ue(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Ue(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var qe=class n{constructor(e){this.path=e}static fromPath(e){return new n(kn.fromString(e))}static fromName(e){return new n(kn.fromString(e).popFirst(5))}static empty(){return new n(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new kn(e.slice()))}};var Fx=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Fx.UNKNOWN_ID=-1;function Kce(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(i===1e9?new Oi(t+1,0):new Oi(t,i));return new Xc(r,qe.empty(),e)}function Yce(n){return new Xc(n.readTime,n.key,-1)}var Xc=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(gt.min(),qe.empty(),-1)}static max(){return new n(gt.max(),qe.empty(),-1)}};function Qce(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=qe.comparator(n.documentKey,e.documentKey),t!==0?t:Qt(n.largestBatchId,e.largestBatchId))}var Zce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function um(n){return H(this,null,function*(){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Zce)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})}var me=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function Xce(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dm(n){return n.name==="IndexedDbTransactionError"}var r5=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Lv(n){return n==null}function em(n){return n===0&&1/n==-1/0}function Jce(n){return typeof n=="number"&&Number.isInteger(n)&&!em(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var eue=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nke=[...eue,"documentOverlays"],tue=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nue=tue,iue=[...nue,"indexConfiguration","indexState","indexEntries"];var ike=[...iue,"globals"];function D4(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ih(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s5(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pn=class n{constructor(e,t){this.comparator=e,this.root=t||ho.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}},nh=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ho=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();let e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}};ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1;ho.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ho(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Yi=class n{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(e){return new lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var uo=class n{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new n([])}unionWith(e){let t=new Yi(Ur.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var cv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qi=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cv("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qi.EMPTY_BYTE_STRING=new Qi("");var rue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(dn(!!n),typeof n=="string"){let e=0,t=rue.exec(n);if(dn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mn(n.seconds),nanos:Mn(n.nanos)}}function Mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dl(n){return typeof n=="string"?Qi.fromBase64String(n):Qi.fromUint8Array(n)}function aD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lD(n){let e=n.mapValue.fields.__previous_value__;return aD(e)?lD(e):e}function tm(n){let e=ua(n.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}var Nx=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},uv=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var tv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aD(n)?4:o5(n)?9007199254740991:10:et()}function mo(n,e){if(n===e)return!0;let t=Jc(n);if(t!==Jc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tm(n).isEqual(tm(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ua(r.timestampValue),a=ua(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Dl(r.bytesValue).isEqual(Dl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Mn(r.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(r.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Mn(r.integerValue)===Mn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Mn(r.doubleValue),a=Mn(s.doubleValue);return o===a?em(o)===em(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ah(n.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(D4(o)!==D4(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mo(o[l],a[l])))return!1;return!0}(n,e);default:return et()}}function nm(n,e){return(n.values||[]).find(t=>mo(t,e))!==void 0}function lh(n,e){if(n===e)return 0;let t=Jc(n),i=Jc(e);if(t!==i)return Qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Mn(s.integerValue||s.doubleValue),l=Mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return A4(n.timestampValue,e.timestampValue);case 4:return A4(tm(n),tm(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Dl(s),l=Dl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=Qt(a[c],l[c]);if(u!==0)return u}return Qt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Qt(Mn(s.latitude),Mn(o.latitude));return a!==0?a:Qt(Mn(s.longitude),Mn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=lh(a[c],l[c]);if(u)return u}return Qt(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===tv.mapValue&&o===tv.mapValue)return 0;if(s===tv.mapValue)return 1;if(o===tv.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let f=Qt(l[h],u[h]);if(f!==0)return f;let p=lh(a[l[h]],c[u[h]]);if(p!==0)return p}return Qt(l.length,u.length)}(n.mapValue,e.mapValue);default:throw et()}}function A4(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qt(n,e);let t=ua(n),i=ua(e),r=Qt(t.seconds,i.seconds);return r!==0?r:Qt(t.nanos,i.nanos)}function ch(n){return Vx(n)}function Vx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ua(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Dl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return qe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=Vx(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Vx(t.fields[o])}`;return r+"}"}(n.mapValue):et()}function Bx(n){return!!n&&"integerValue"in n}function cD(n){return!!n&&"arrayValue"in n}function R4(n){return!!n&&"nullValue"in n}function M4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iv(n){return!!n&&"mapValue"in n}function Qp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ih(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qp(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function o5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ds=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!iv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qp(t)}setAll(e){let t=Ur.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Qp(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());iv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];iv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ih(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Qp(this.value))}};function a5(n){let e=[];return Ih(n.fields,(t,i)=>{let r=new Ur([t]);if(iv(i)){let s=a5(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new uo(e)}var As=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,gt.min(),gt.min(),gt.min(),Ds.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,gt.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,gt.min(),gt.min(),Ds.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,gt.min(),gt.min(),Ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uh=class{constructor(e,t){this.position=e,this.inclusive=t}};function k4(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=qe.comparator(qe.fromName(o.referenceValue),t.key):i=lh(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function P4(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mo(n.position[t],e.position[t]))return!1;return!0}var dh=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sue(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var dv=class{},di=class n extends dv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new jx(e,t,i):t==="array-contains"?new $x(e,i):t==="in"?new Gx(e,i):t==="not-in"?new Wx(e,i):t==="array-contains-any"?new qx(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zx(e,i):new Hx(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(lh(t,this.value)):t!==null&&Jc(this.value)===Jc(t)&&this.matchesComparison(lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},go=class n extends dv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return l5(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function l5(n){return n.op==="and"}function c5(n){return oue(n)&&l5(n)}function oue(n){for(let e of n.filters)if(e instanceof go)return!1;return!0}function Ux(n){if(n instanceof di)return n.field.canonicalString()+n.op.toString()+ch(n.value);if(c5(n))return n.filters.map(e=>Ux(e)).join(",");{let e=n.filters.map(t=>Ux(t)).join(",");return`${n.op}(${e})`}}function u5(n,e){return n instanceof di?function(i,r){return r instanceof di&&i.op===r.op&&i.field.isEqual(r.field)&&mo(i.value,r.value)}(n,e):n instanceof go?function(i,r){return r instanceof go&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&u5(o,r.filters[a]),!0):!1}(n,e):void et()}function d5(n){return n instanceof di?function(t){return`${t.field.canonicalString()} ${t.op} ${ch(t.value)}`}(n):n instanceof go?function(t){return t.op.toString()+" {"+t.getFilters().map(d5).join(" ,")+"}"}(n):"Filter"}var jx=class extends di{constructor(e,t,i){super(e,t,i),this.key=qe.fromName(i.referenceValue)}matches(e){let t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}},zx=class extends di{constructor(e,t){super(e,"in",t),this.keys=h5("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Hx=class extends di{constructor(e,t){super(e,"not-in",t),this.keys=h5("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function h5(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>qe.fromName(i.referenceValue))}var $x=class extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return cD(t)&&nm(t.arrayValue,this.value)}},Gx=class extends di{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&nm(this.value.arrayValue,t)}},Wx=class extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!nm(this.value.arrayValue,t)}},qx=class extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!cD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nm(this.value.arrayValue,i))}};var Kx=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function O4(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Kx(n,e,t,i,r,s,o)}function uD(n){let e=lt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ux(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Lv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ch(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ch(i)).join(",")),e.ue=t}return e.ue}function dD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sue(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!u5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!P4(n.startAt,e.startAt)&&P4(n.endAt,e.endAt)}function Yx(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var hh=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function aue(n,e,t,i,r,s,o,a){return new hh(n,e,t,i,r,s,o,a)}function hD(n){return new hh(n)}function F4(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lue(n){return n.collectionGroup!==null}function Zp(n){let e=lt(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yi(Ur.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dh(s,i))}),t.has(Ur.keyField().canonicalString())||e.ce.push(new dh(Ur.keyField(),i))}return e.ce}function fo(n){let e=lt(n);return e.le||(e.le=cue(e,Zp(n))),e.le}function cue(n,e){if(n.limitType==="F")return O4(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new dh(r.field,s)});let t=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return O4(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Qx(n,e,t){return new hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nv(n,e){return dD(fo(n),fo(e))&&n.limitType===e.limitType}function f5(n){return`${uD(fo(n))}|lt:${n.limitType}`}function Jd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>d5(r)).join(", ")}]`),Lv(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ch(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ch(r)).join(",")),`Target(${i})`}(fo(n))}; limitType=${n.limitType})`}function Vv(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):qe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Zp(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=k4(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Zp(i),r)||i.endAt&&!function(o,a,l){let c=k4(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Zp(i),r))}(n,e)}function uue(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p5(n){return(e,t)=>{let i=!1;for(let r of Zp(n)){let s=due(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function due(n,e,t){let i=n.field.isKeyField()?qe.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?lh(l,c):et()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return et()}}var Al=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ih(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return s5(this.inner)}size(){return this.innerSize}};var hue=new Pn(qe.comparator);function da(){return hue}var m5=new Pn(qe.comparator);function Yp(...n){let e=m5;for(let t of n)e=e.insert(t.key,t);return e}function g5(n){let e=m5;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function qc(){return Xp()}function _5(){return Xp()}function Xp(){return new Al(n=>n.toString(),(n,e)=>n.isEqual(e))}var fue=new Pn(qe.comparator),pue=new Yi(qe.comparator);function Ft(...n){let e=pue;for(let t of n)e=e.add(t);return e}var mue=new Yi(Qt);function gue(){return mue}function y5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function v5(n){return{integerValue:""+n}}function _ue(n,e){return Jce(e)?v5(e):y5(n,e)}var fh=class{constructor(){this._=void 0}};function yue(n,e,t){return n instanceof ph?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&aD(s)&&(s=lD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof eu?I5(n,e):n instanceof tu?b5(n,e):function(r,s){let o=w5(r,s),a=L4(o)+L4(r.Pe);return Bx(o)&&Bx(r.Pe)?v5(a):y5(r.serializer,a)}(n,e)}function vue(n,e,t){return n instanceof eu?I5(n,e):n instanceof tu?b5(n,e):t}function w5(n,e){return n instanceof mh?function(i){return Bx(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ph=class extends fh{},eu=class extends fh{constructor(e){super(),this.elements=e}};function I5(n,e){let t=C5(e);for(let i of n.elements)t.some(r=>mo(r,i))||t.push(i);return{arrayValue:{values:t}}}var tu=class extends fh{constructor(e){super(),this.elements=e}};function b5(n,e){let t=C5(e);for(let i of n.elements)t=t.filter(r=>!mo(r,i));return{arrayValue:{values:t}}}var mh=class extends fh{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function L4(n){return Mn(n.integerValue||n.doubleValue)}function C5(n){return cD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wue(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof eu&&r instanceof eu||i instanceof tu&&r instanceof tu?ah(i.elements,r.elements,mo):i instanceof mh&&r instanceof mh?mo(i.Pe,r.Pe):i instanceof ph&&r instanceof ph}(n.transform,e.transform)}var Zx=class{constructor(e,t){this.version=e,this.transformResults=t}},Qc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var gh=class{};function E5(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hv(n.key,Qc.none()):new nu(n.key,n.data,Qc.none());{let t=n.data,i=Ds.empty(),r=new Yi(Ur.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ha(n.key,i,new uo(r.toArray()),Qc.none())}}function Iue(n,e,t){n instanceof nu?function(r,s,o){let a=r.value.clone(),l=V4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ha?function(r,s,o){if(!rv(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=V4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(T5(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Jp(n,e,t,i){return n instanceof nu?function(s,o,a,l){if(!rv(s.precondition,o))return a;let c=s.value.clone(),u=B4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof ha?function(s,o,a,l){if(!rv(s.precondition,o))return a;let c=B4(s.fieldTransforms,l,o),u=o.data;return u.setAll(T5(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return rv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function bue(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=w5(i.transform,r||null);s!=null&&(t===null&&(t=Ds.empty()),t.set(i.field,s))}return t||null}function N4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ah(i,r,(s,o)=>wue(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var nu=class extends gh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ha=class extends gh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function T5(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function V4(n,e,t){let i=new Map;dn(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,vue(o,a,t[r]))}return i}function B4(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,yue(s,o,e))}return i}var hv=class extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xx=class extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jx=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Iue(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=_5();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=E5(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ft())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(t,i)=>N4(t,i))&&ah(this.baseMutations,e.baseMutations,(t,i)=>N4(t,i))}},eS=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){dn(e.mutations.length===i.length);let r=function(){return fue}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var tS=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nS=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Xn,jt;function Cue(n){switch(n){default:return et();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function x5(n){if(n===void 0)return ca("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Xn.OK:return ue.OK;case Xn.CANCELLED:return ue.CANCELLED;case Xn.UNKNOWN:return ue.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return ue.INTERNAL;case Xn.UNAVAILABLE:return ue.UNAVAILABLE;case Xn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Xn.NOT_FOUND:return ue.NOT_FOUND;case Xn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Xn.ABORTED:return ue.ABORTED;case Xn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Xn.DATA_LOSS:return ue.DATA_LOSS;default:return et()}}(jt=Xn||(Xn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";var U4=null;function Eue(){return new TextEncoder}var Tue=new xl([4294967295,4294967295],0);function j4(n){let e=Eue().encode(n),t=new _x;return t.update(e),new Uint8Array(t.digest())}function z4(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xl([t,i],0),new xl([r,s],0)]}var iS=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Kc(`Invalid padding: ${t}`);if(i<0)throw new Kc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xl.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(xl.fromNumber(i)));return r.compare(Tue)===1&&(r=new xl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=j4(e),[i,r]=z4(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=j4(e),[i,r]=z4(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Kc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fv=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(gt.min(),r,new Pn(Qt),da(),Ft())}},im=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ft(),Ft(),Ft())}};var ih=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},pv=class{constructor(e,t){this.targetId=e,this.me=t}},mv=class{constructor(e,t,i=Qi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},gv=class{constructor(){this.fe=0,this.ge=$4(),this.pe=Qi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ft(),t=Ft(),i=Ft();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:et()}}),new im(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=$4()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rS=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=da(),this.qe=H4(),this.Qe=new Pn(Qt)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Yx(s))if(i===0){let o=new qe(s.path);this.Ue(t,o,As.newNoDocument(o,gt.min()))}else dn(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}U4?.et(function(u,h,f,p,_){var I,b,E,M,P,F;let $={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},Y=h.unchangedNames;return Y&&($.bloomFilter={applied:_===0,hashCount:(I=Y?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(M=(E=(b=Y?.bits)===null||b===void 0?void 0:b.bitmap)===null||E===void 0?void 0:E.length)!==null&&M!==void 0?M:0,padding:(F=(P=Y?.bits)===null||P===void 0?void 0:P.padding)!==null&&F!==void 0?F:0,mightContain:R=>{var C;return(C=p?.mightContain(R))!==null&&C!==void 0&&C}}),$}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Dl(i).toUint8Array()}catch(l){if(l instanceof cv)return oh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iS(o,r,s)}catch(l){return oh(l instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Yx(a.target)){let l=new qe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,As.newNoDocument(l,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let i=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new fv(e,t,this.Qe,this.ke,i);return this.ke=da(),this.qe=H4(),this.Qe=new Pn(Qt),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new gv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Yi(Qt),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function H4(){return new Pn(qe.comparator)}function $4(){return new Pn(qe.comparator)}var xue={asc:"ASCENDING",desc:"DESCENDING"},Sue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Due={and:"AND",or:"OR"},sS=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function oS(n,e){return n.useProto3Json||Lv(e)?e:{value:e}}function _v(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Aue(n,e){return _v(n,e.toTimestamp())}function po(n){return dn(!!n),gt.fromTimestamp(function(t){let i=ua(t);return new Oi(i.seconds,i.nanos)}(n))}function fD(n,e){return aS(n,e).canonicalString()}function aS(n,e){let t=function(r){return new kn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function D5(n){let e=kn.fromString(n);return dn(P5(e)),e}function lS(n,e){return fD(n.databaseId,e.path)}function Ex(n,e){let t=D5(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(R5(t))}function A5(n,e){return fD(n.databaseId,e)}function Rue(n){let e=D5(n);return e.length===4?kn.emptyPath():R5(e)}function cS(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function R5(n){return dn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function G4(n,e,t){return{name:lS(n,e),fields:t.value.mapValue.fields}}function Mue(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(dn(u===void 0||typeof u=="string"),Qi.fromBase64String(u||"")):(dn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Qi.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?ue.UNKNOWN:x5(c.code);return new Ue(u,c.message||"")}(o);t=new mv(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ex(n,i.document.name),s=po(i.document.updateTime),o=i.document.createTime?po(i.document.createTime):gt.min(),a=new Ds({mapValue:{fields:i.document.fields}}),l=As.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new ih(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Ex(n,i.document),s=i.readTime?po(i.readTime):gt.min(),o=As.newNoDocument(r,s),a=i.removedTargetIds||[];t=new ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Ex(n,i.document),s=i.removedTargetIds||[];t=new ih([],s,r,null)}else{if(!("filter"in e))return et();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new nS(r,s),a=i.targetId;t=new pv(a,o)}}return t}function kue(n,e){let t;if(e instanceof nu)t={update:G4(n,e.key,e.value)};else if(e instanceof hv)t={delete:lS(n,e.key)};else if(e instanceof ha)t={update:G4(n,e.key,e.data),updateMask:jue(e.fieldMask)};else{if(!(e instanceof Xx))return et();t={verify:lS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw et()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Aue(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:et()}(n,e.precondition)),t}function Pue(n,e){return n&&n.length>0?(dn(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?po(r.updateTime):po(s);return o.isEqual(gt.min())&&(o=po(s)),new Zx(o,r.transformResults||[])}(t,e))):[]}function Oue(n,e){return{documents:[A5(n,e.path)]}}function Fue(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=A5(n,r);let s=function(c){if(c.length!==0)return k5(go.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:eh(f.field),direction:Vue(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=oS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function Lue(n){let e=Rue(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){dn(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=M5(h);return f instanceof go&&c5(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(_){return new dh(th(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Lv(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){let f=!!h.before,p=h.values||[];return new uh(p,f)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let f=!h.before,p=h.values||[];return new uh(p,f)}(t.endAt)),aue(e,r,o,s,a,"F",l,c)}function Nue(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M5(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=th(t.unaryFilter.field);return di.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=th(t.unaryFilter.field);return di.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=th(t.unaryFilter.field);return di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=th(t.unaryFilter.field);return di.create(o,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(n):n.fieldFilter!==void 0?function(t){return di.create(th(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return go.create(t.compositeFilter.filters.map(i=>M5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return et()}}(t.compositeFilter.op))}(n):et()}function Vue(n){return xue[n]}function Bue(n){return Sue[n]}function Uue(n){return Due[n]}function eh(n){return{fieldPath:n.canonicalString()}}function th(n){return Ur.fromServerFormat(n.fieldPath)}function k5(n){return n instanceof di?function(t){if(t.op==="=="){if(M4(t.value))return{unaryFilter:{field:eh(t.field),op:"IS_NAN"}};if(R4(t.value))return{unaryFilter:{field:eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(M4(t.value))return{unaryFilter:{field:eh(t.field),op:"IS_NOT_NAN"}};if(R4(t.value))return{unaryFilter:{field:eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eh(t.field),op:Bue(t.op),value:t.value}}}(n):n instanceof go?function(t){let i=t.getFilters().map(r=>k5(r));return i.length===1?i[0]:{compositeFilter:{op:Uue(t.op),filters:i}}}(n):et()}function jue(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function P5(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rm=class n{constructor(e,t,i,r,s=gt.min(),o=gt.min(),a=Qi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uS=class{constructor(e){this.ct=e}};function zue(n){let e=Lue({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qx(e,e.limit,"L"):e}var yv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Mn(e.integerValue));else if("doubleValue"in e){let i=Mn(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),em(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ua(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Dl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?o5(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):et()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}St(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),qe.fromName(e).path.forEach(i=>{this.dt(t,60),this.bt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};yv.Dt=new yv;var dS=class{constructor(){this.an=new hS}addToCollectionParentIndex(e,t){return this.an.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Xc.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Xc.min())}updateCollectionGroup(e,t,i){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}},hS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Yi(kn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Yi(kn.comparator)).toArray()}};var ske=new Uint8Array(0);var co=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};co.DEFAULT_COLLECTION_PERCENTILE=10,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,co.DEFAULT=new co(41943040,co.DEFAULT_COLLECTION_PERCENTILE,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),co.DISABLED=new co(-1,0,0);var sm=class n{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new n(0)}static Bn(){return new n(-1)}};var fS=class{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,As.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?me.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var mS=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Jp(i.mutation,r,uo.empty(),Oi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ft()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ft()){let r=qc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Yp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=qc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ft()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=da(),o=Xp(),a=function(){return Xp()}();return t.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ha)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Jp(u.mutation,c,u.mutation.getFieldMask(),Oi.now())):o.set(c.key,uo.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new pS(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Xp(),r=new Pn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=i.get(l)||uo.empty();u=a.applyToLocalView(c,u),i.set(l,u);let h=(r.get(a.batchId)||Ft()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=_5();u.forEach(f=>{if(!s.has(f)){let p=E5(t.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return me.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lue(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):me.resolve(qc()),a=-1,l=s;return o.next(c=>me.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?me.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ft())).next(u=>({batchId:a,changes:g5(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(i=>{let r=Yp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Yp();return this.indexManager.getCollectionParents(e,s).next(a=>me.forEach(a,l=>{let c=function(h,f){return new hh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,As.newInvalidDocument(u)))});let a=Yp();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&Jp(u.mutation,c,uo.empty(),Oi.now()),Vv(t,c)&&(a=a.insert(l,c))}),a})}};var gS=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return me.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:po(r.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(r){return{name:r.name,query:zue(r.bundledQuery),readTime:po(r.readTime)}}(t)),me.resolve()}};var _S=class{constructor(){this.overlays=new Pn(qe.comparator),this.Pr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){let i=qc();return me.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),me.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),me.resolve()}getOverlaysForCollection(e,t,i){let r=qc(),s=t.length+1,o=new qe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return me.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Pn((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=qc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=qc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return me.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new tS(t,i));let s=this.Pr.get(t);s===void 0&&(s=Ft(),this.Pr.set(t,s)),this.Pr.set(t,s.add(i.key))}};var yS=class{constructor(){this.sessionToken=Qi.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}};var om=class{constructor(){this.Ir=new Yi(Jn.Tr),this.Er=new Yi(Jn.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){let i=new Jn(e,t);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Rr(new Jn(e,t))}Vr(e,t){e.forEach(i=>this.removeReference(i,t))}mr(e){let t=new qe(new kn([])),i=new Jn(t,e),r=new Jn(t,e+1),s=[];return this.Er.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let t=new qe(new kn([])),i=new Jn(t,e),r=new Jn(t,e+1),s=Ft();return this.Er.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Jn(e,0),i=this.Ir.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Jn=class{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return qe.comparator(e.key,t.key)||Qt(e.yr,t.yr)}static dr(e,t){return Qt(e.yr,t.yr)||qe.comparator(e.key,t.key)}};var vS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new Yi(Jn.Tr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Jx(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.Sr=this.Sr.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,t){return me.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Dr(i),s=r<0?0:r;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Jn(t,0),r=new Jn(t,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{let a=this.br(o.yr);s.push(a)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yi(Qt);return t.forEach(r=>{let s=new Jn(r,0),o=new Jn(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;qe.isDocumentKey(s)||(s=s.child(""));let o=new Jn(new qe(s),0),a=new Yi(Qt);return this.Sr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},o),me.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.br(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){dn(this.vr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return me.forEach(t.mutations,r=>{let s=new Jn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,t){let i=new Jn(t,0),r=this.Sr.firstAfterOrEqual(i);return me.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wS=class{constructor(e){this.Fr=e,this.docs=function(){return new Pn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return me.resolve(i?i.document.mutableCopy():As.newInvalidDocument(t))}getEntries(e,t){let i=da();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():As.newInvalidDocument(r))}),me.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=da(),o=t.path,a=new qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Qce(Yce(u),i)<=0||(r.has(u.key)||Vv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return me.resolve(s)}getAllFromCollectionGroup(e,t,i,r){et()}Mr(e,t){return me.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new IS(this)}getSize(e){return me.resolve(this.size)}},IS=class extends fS{constructor(e){super(),this.ur=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),me.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}};var bS=class{constructor(e){this.persistence=e,this.Or=new Al(t=>uD(t),dD),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new om,this.targetCount=0,this.Br=sm.Ln()}forEachTarget(e,t){return this.Or.forEach((i,r)=>t(r)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Nr&&(this.Nr=t),me.resolve()}Qn(e){this.Or.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new sm(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Qn(t),me.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),me.waitFor(s).next(()=>r)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){let i=this.Or.get(t)||null;return me.resolve(i)}addMatchingKeys(e,t,i){return this.Lr.Ar(t,i),me.resolve()}removeMatchingKeys(e,t,i){this.Lr.Vr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),me.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),me.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Lr.pr(t);return me.resolve(i)}containsKey(e,t){return me.resolve(this.Lr.containsKey(t))}};var CS=class{constructor(e,t){this.kr={},this.overlays={},this.qr=new r5(0),this.Qr=!1,this.Qr=!0,this.Kr=new yS,this.referenceDelegate=e(this),this.$r=new bS(this),this.indexManager=new dS,this.remoteDocumentCache=function(r){return new wS(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new uS(t),this.Wr=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _S,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.kr[e.toKey()];return i||(i=new vS(t,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);let r=new ES(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(s=>this.referenceDelegate.zr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}jr(e,t){return me.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,t)))}},ES=class extends Lx{constructor(e){super(),this.currentSequenceNumber=e}},TS=class n{constructor(e){this.persistence=e,this.Hr=new om,this.Jr=null}static Yr(e){return new n(e)}get Zr(){if(this.Jr)return this.Jr;throw et()}addReference(e,t,i){return this.Hr.addReference(i,t),this.Zr.delete(i.toString()),me.resolve()}removeReference(e,t,i){return this.Hr.removeReference(i,t),this.Zr.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),me.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach(r=>this.Zr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Zr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Gr(){this.Jr=new Set}zr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Zr,i=>{let r=qe.fromPath(i);return this.Xr(e,r).next(s=>{s||t.removeEntry(r,gt.min())})}).next(()=>(this.Jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Xr(e,t).next(i=>{i?this.Zr.delete(t.toString()):this.Zr.add(t.toString())})}Ur(e){return 0}Xr(e,t){return me.or([()=>me.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}};var xS=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ki=i,this.$i=r}static Ui(e,t){let i=Ft(),r=Ft();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var SS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var DS=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return D3()?8:Xce(ci())>0?6:4}()}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new SS;return this.Zi(e,t,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,t,o,a.size)})}).next(()=>s.result)}Xi(e,t,i,r){return i.documentReadCount<this.zi?(Kp()<=Ot.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",Jd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),me.resolve()):(Kp()<=Ot.DEBUG&&Fe("QueryEngine","Query:",Jd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(Kp()<=Ot.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",Jd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(t))):me.resolve())}Ji(e,t){if(F4(t))return me.resolve(null);let i=fo(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Qx(t,null,"F"),i=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ft(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.es(t,a);return this.ts(t,c,o,l.readTime)?this.Ji(e,Qx(t,null,"F")):this.ns(e,c,t,l)}))})))}Yi(e,t,i,r){return F4(t)||r.isEqual(gt.min())?me.resolve(null):this.Hi.getDocuments(e,i).next(s=>{let o=this.es(t,s);return this.ts(t,o,i,r)?me.resolve(null):(Kp()<=Ot.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jd(t)),this.ns(e,o,t,Kce(r,-1)).next(a=>a))})}es(e,t){let i=new Yi(p5(e));return t.forEach((r,s)=>{Vv(e,s)&&(i=i.add(s))}),i}ts(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zi(e,t,i){return Kp()<=Ot.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Jd(t)),this.Hi.getDocumentsMatchingQuery(e,t,Xc.min(),i)}ns(e,t,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var AS=class{constructor(e,t,i,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new Pn(Qt),this.os=new Al(s=>uD(s),dD),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ss))}};function Hue(n,e,t,i){return new AS(n,e,t,i)}function O5(n,e){return H(this,null,function*(){let t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.cs(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Ft();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})})}function $ue(n,e){let t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,f=h.keys(),p=me.resolve();return f.forEach(_=>{p=p.next(()=>u.getEntry(l,_)).next(I=>{let b=c.docVersions.get(_);dn(b!==null),I.version.compareTo(b)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),u.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ft();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function F5(n){let e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.$r.getLastRemoteSnapshotVersion(t))}function Gue(n,e){let t=lt(n),i=e.snapshotVersion,r=t.ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.us.newChangeBuffer({trackRemovals:!0});r=t.ss;let a=[];e.targetChanges.forEach((u,h)=>{let f=r.get(h);if(!f)return;a.push(t.$r.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.$r.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Qi.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(I,b,E){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,u)&&a.push(t.$r.updateTargetData(s,p))});let l=da(),c=Ft();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Wue(s,o,e.documentUpdates).next(u=>{l=u.hs,c=u.Ps})),!i.isEqual(gt.min())){let u=t.$r.getLastRemoteSnapshotVersion(s).next(h=>t.$r.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return me.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ss=r,s))}function Wue(n,e,t){let i=Ft(),r=Ft();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=da();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:o,Ps:r}})}function que(n,e){let t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Kue(n,e){let t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.$r.getTargetData(i,e).next(s=>s?(r=s,me.resolve(r)):t.$r.allocateTargetId(i).next(o=>(r=new rm(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ss=t.ss.insert(i.targetId,i),t.os.set(e,i.targetId)),i})}function RS(n,e,t){return H(this,null,function*(){let i=lt(n),r=i.ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!dm(o))throw o;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ss=i.ss.remove(e),i.os.delete(r.target)})}function W4(n,e,t){let i=lt(n),r=gt.min(),s=Ft();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let h=lt(l),f=h.os.get(u);return f!==void 0?me.resolve(h.ss.get(f)):h.$r.getTargetData(c,u)}(i,o,fo(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.rs.getDocumentsMatchingQuery(o,e,t?r:gt.min(),t?s:Ft())).next(a=>(Yue(i,uue(e),a),{documents:a,Is:s})))}function Yue(n,e,t){let i=n._s.get(e)||gt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n._s.set(e,i)}var vv=class{constructor(){this.activeTargetIds=gue()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var MS=class{constructor(){this.io=new vv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,i){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new vv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kS=class{oo(e){}shutdown(){}};var wv=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nv=null;function Tx(){return nv===null?nv=function(){return 268435456+Math.round(2147483648*Math.random())}():nv++,"0x"+nv.toString(16)}var Que={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var PS=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var Ki="WebChannelConnection",OS=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+t.host,this.Do=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get vo(){return!1}Fo(t,i,r,s,o){let a=Tx(),l=this.Mo(t,i.toUriEncodedString());Fe("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(t,l,c,r).then(u=>(Fe("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw oh("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}No(t,i,r,s,o,a){return this.Fo(t,i,r,s,o)}xo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}Mo(t,i){let r=Que[t];return`${this.bo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,i,r){let s=Tx();return new Promise((o,a)=>{let l=new yx;l.setWithCredentials(!0),l.listenOnce(wx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qp.NO_ERROR:let u=l.getResponseJson();Fe(Ki,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case qp.TIMEOUT:Fe(Ki,`RPC '${e}' ${s} timed out`),a(new Ue(ue.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:let h=l.getStatus();if(Fe(Ki,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let _=function(b){let E=b.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(E)>=0?E:ue.UNKNOWN}(p.status);a(new Ue(_,p.message))}else a(new Ue(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(ue.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Fe(Ki,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);Fe(Ki,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Lo(e,t,i){let r=Tx(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Cx(),a=bx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new vx({})),this.xo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let u=s.join("");Fe(Ki,`Creating RPC '${e}' stream ${r}: ${u}`,l);let h=o.createWebChannel(u,l),f=!1,p=!1,_=new PS({Po:b=>{p?Fe(Ki,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(f||(Fe(Ki,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),Fe(Ki,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},Io:()=>h.close()}),I=(b,E,M)=>{b.listen(E,P=>{try{M(P)}catch(F){setTimeout(()=>{throw F},0)}})};return I(h,Xd.EventType.OPEN,()=>{p||(Fe(Ki,`RPC '${e}' stream ${r} transport opened.`),_.po())}),I(h,Xd.EventType.CLOSE,()=>{p||(p=!0,Fe(Ki,`RPC '${e}' stream ${r} transport closed`),_.wo())}),I(h,Xd.EventType.ERROR,b=>{p||(p=!0,oh(Ki,`RPC '${e}' stream ${r} transport errored:`,b),_.wo(new Ue(ue.UNAVAILABLE,"The operation could not be completed")))}),I(h,Xd.EventType.MESSAGE,b=>{var E;if(!p){let M=b.data[0];dn(!!M);let P=M,F=P.error||((E=P[0])===null||E===void 0?void 0:E.error);if(F){Fe(Ki,`RPC '${e}' stream ${r} received error:`,F);let $=F.status,Y=function(T){let O=Xn[T];if(O!==void 0)return x5(O)}($),R=F.message;Y===void 0&&(Y=ue.INTERNAL,R="Unknown error status: "+$+" with message "+F.message),p=!0,_.wo(new Ue(Y,R)),h.close()}else Fe(Ki,`RPC '${e}' stream ${r} received:`,M),_.So(M)}}),I(a,Ix.STAT_EVENT,b=>{b.stat===ev.PROXY?Fe(Ki,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===ev.NOPROXY&&Fe(Ki,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.yo()},0),_}};function xx(){return typeof document<"u"?document:null}function Bv(n){return new sS(n,!0)}var Iv=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ai=e,this.timerId=t,this.Bo=i,this.ko=r,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let t=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var bv=class{constructor(e,t,i,r,s,o,a,l){this.ai=e,this.jo=i,this.Ho=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Iv(e,t)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return H(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return H(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,t){return H(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ca(t.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(t)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===t&&this.h_(i,r)},i=>{e(()=>{let r=new Ue(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,t){let i=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(()=>H(this,null,function*(){this.state=0,this.start()}))}P_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget(()=>this.Jo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},FS=class extends bv{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let t=Mue(this.serializer,e),i=function(s){if(!("targetChange"in s))return gt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?po(o.readTime):gt.min()}(e);return this.listener.E_(t,i)}d_(e){let t={};t.database=cS(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Yx(l)?{documents:Oue(s,l)}:{query:Fue(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=S5(s,o.resumeToken);let c=oS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(gt.min())>0){a.readTime=_v(s,o.snapshotVersion.toTimestamp());let c=oS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Nue(this.serializer,e);i&&(t.labels=i),this.__(t)}A_(e){let t={};t.database=cS(this.serializer),t.removeTarget=e,this.__(t)}},LS=class extends bv{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return dn(!!e.streamToken),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let t=Pue(e.writeResults,e.commitTime),i=po(e.commitTime);return this.listener.f_(i,t)}g_(){let e={};e.database=cS(this.serializer),this.__(e)}V_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>kue(this.serializer,i))};this.__(t)}};var NS=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new Ue(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,aS(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(ue.UNKNOWN,s.toString())})}No(e,t,i,r,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,aS(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(ue.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},VS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(ca(t),this.b_=!1):Fe("OnlineStateTracker",t)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var BS=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{i.enqueueAndForget(()=>H(this,null,function*(){iu(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield function(l){return H(this,null,function*(){let c=lt(l);c.N_.add(4),yield hm(c),c.k_.set("Unknown"),c.N_.delete(4),yield Uv(c)})}(this))}))}),this.k_=new VS(i,r)}};function Uv(n){return H(this,null,function*(){if(iu(n))for(let e of n.L_)yield e(!0)})}function hm(n){return H(this,null,function*(){for(let e of n.L_)yield e(!1)})}function L5(n,e){let t=lt(n);t.O_.has(e.targetId)||(t.O_.set(e.targetId,e),_D(t)?gD(t):bh(t).n_()&&mD(t,e))}function pD(n,e){let t=lt(n),i=bh(t);t.O_.delete(e),i.n_()&&N5(t,e),t.O_.size===0&&(i.n_()?i.s_():iu(t)&&t.k_.set("Unknown"))}function mD(n,e){if(n.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bh(n).d_(e)}function N5(n,e){n.q_.xe(e),bh(n).A_(e)}function gD(n){n.q_=new rS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.O_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),bh(n).start(),n.k_.D_()}function _D(n){return iu(n)&&!bh(n).t_()&&n.O_.size>0}function iu(n){return lt(n).N_.size===0}function V5(n){n.q_=void 0}function Zue(n){return H(this,null,function*(){n.k_.set("Online")})}function Xue(n){return H(this,null,function*(){n.O_.forEach((e,t)=>{mD(n,e)})})}function Jue(n,e){return H(this,null,function*(){V5(n),_D(n)?(n.k_.F_(e),gD(n)):n.k_.set("Unknown")})}function ede(n,e,t){return H(this,null,function*(){if(n.k_.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{yield function(r,s){return H(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.O_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.O_.delete(a),r.q_.removeTarget(a))})}(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Cv(n,i)}else if(e instanceof ih?n.q_.Ke(e):e instanceof pv?n.q_.He(e):n.q_.We(e),!t.isEqual(gt.min()))try{let i=yield F5(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.O_.get(c);u&&s.O_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.O_.get(l);if(!u)return;s.O_.set(l,u.withResumeToken(Qi.EMPTY_BYTE_STRING,u.snapshotVersion)),N5(s,l);let h=new rm(u.target,l,c,u.sequenceNumber);mD(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield Cv(n,i)}})}function Cv(n,e,t){return H(this,null,function*(){if(!dm(e))throw e;n.N_.add(1),yield hm(n),n.k_.set("Offline"),t||(t=()=>F5(n.localStore)),n.asyncQueue.enqueueRetryable(()=>H(this,null,function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.N_.delete(1),yield Uv(n)}))})}function B5(n,e){return e().catch(t=>Cv(n,t,e))}function jv(n){return H(this,null,function*(){let e=lt(n),t=Rl(e),i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;tde(e);)try{let r=yield que(e.localStore,i);if(r===null){e.x_.length===0&&t.s_();break}i=r.batchId,nde(e,r)}catch(r){yield Cv(e,r)}U5(e)&&j5(e)})}function tde(n){return iu(n)&&n.x_.length<10}function nde(n,e){n.x_.push(e);let t=Rl(n);t.n_()&&t.R_&&t.V_(e.mutations)}function U5(n){return iu(n)&&!Rl(n).t_()&&n.x_.length>0}function j5(n){Rl(n).start()}function ide(n){return H(this,null,function*(){Rl(n).g_()})}function rde(n){return H(this,null,function*(){let e=Rl(n);for(let t of n.x_)e.V_(t.mutations)})}function sde(n,e,t){return H(this,null,function*(){let i=n.x_.shift(),r=eS.from(i,e,t);yield B5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield jv(n)})}function ode(n,e){return H(this,null,function*(){e&&Rl(n).R_&&(yield function(i,r){return H(this,null,function*(){if(function(o){return Cue(o)&&o!==ue.ABORTED}(r.code)){let s=i.x_.shift();Rl(i).i_(),yield B5(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield jv(i)}})}(n,e)),U5(n)&&j5(n)})}function q4(n,e){return H(this,null,function*(){let t=lt(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");let i=iu(t);t.N_.add(3),yield hm(t),i&&t.k_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.N_.delete(3),yield Uv(t)})}function ade(n,e){return H(this,null,function*(){let t=lt(n);e?(t.N_.delete(2),yield Uv(t)):e||(t.N_.add(2),yield hm(t),t.k_.set("Unknown"))})}function bh(n){return n.Q_||(n.Q_=function(t,i,r){let s=lt(t);return s.y_(),new FS(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:Zue.bind(null,n),Ao:Xue.bind(null,n),Vo:Jue.bind(null,n),E_:ede.bind(null,n)}),n.L_.push(e=>H(this,null,function*(){e?(n.Q_.i_(),_D(n)?gD(n):n.k_.set("Unknown")):(yield n.Q_.stop(),V5(n))}))),n.Q_}function Rl(n){return n.K_||(n.K_=function(t,i,r){let s=lt(t);return s.y_(),new LS(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:ide.bind(null,n),Vo:ode.bind(null,n),m_:rde.bind(null,n),f_:sde.bind(null,n)}),n.L_.push(e=>H(this,null,function*(){e?(n.K_.i_(),yield jv(n)):(yield n.K_.stop(),n.x_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))}))),n.K_}var US=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yD(n,e){if(ca("AsyncQueue",`${e}: ${n}`),dm(n))return new Ue(ue.UNAVAILABLE,`${e}: ${n}`);throw n}var Ev=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qe.comparator(t.key,i.key):(t,i)=>qe.comparator(t.key,i.key),this.keyedMap=Yp(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Tv=class{constructor(){this.U_=new Pn(qe.comparator)}track(e){let t=e.doc.key,i=this.U_.get(t);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(t,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(t):e.type===1&&i.type===2?this.U_=this.U_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):et():this.U_=this.U_.insert(t,e)}W_(){let e=[];return this.U_.inorderTraversal((t,i)=>{e.push(i)}),e}},_h=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Ev.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var jS=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},zS=class{constructor(){this.queries=K4(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(t,i){let r=lt(t),s=r.queries;r.queries=K4(),s.forEach((o,a)=>{for(let l of a.z_)l.onError(i)})})(this,new Ue(ue.ABORTED,"Firestore shutting down"))}};function K4(){return new Al(n=>f5(n),Nv)}function lde(n,e){return H(this,null,function*(){let t=lt(n),i=3,r=e.query,s=t.queries.get(r);s?!s.j_()&&e.H_()&&(i=2):(s=new jS,i=e.H_()?0:1);try{switch(i){case 0:s.G_=yield t.onListen(r,!0);break;case 1:s.G_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=yD(o,`Initialization of query '${Jd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.z_.push(e),e.Y_(t.onlineState),s.G_&&e.Z_(s.G_)&&vD(t)})}function cde(n,e){return H(this,null,function*(){let t=lt(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?r=e.H_()?0:1:!s.j_()&&e.H_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function ude(n,e){let t=lt(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.z_)a.Z_(r)&&(i=!0);o.G_=r}}i&&vD(t)}function dde(n,e,t){let i=lt(n),r=i.queries.get(e);if(r)for(let s of r.z_)s.onError(t);i.queries.delete(e)}function vD(n){n.J_.forEach(e=>{e.next()})}var HS,Y4;(Y4=HS||(HS={})).X_="default",Y4.Cache="cache";var $S=class{constructor(e,t,i){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new _h(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache||!this.H_())return!0;let i=t!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}sa(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==HS.Cache}};var xv=class{constructor(e){this.key=e}},Sv=class{constructor(e){this.key=e}},GS=class{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Ft(),this.mutatedKeys=Ft(),this.da=p5(e),this.Aa=new Ev(this.da)}get Ra(){return this.Ia}Va(e,t){let i=t?t.ma:new Tv,r=t?t.Aa:this.Aa,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let f=r.get(u),p=Vv(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),b=!1;f&&p?f.data.isEqual(p.data)?_!==I&&(i.track({type:3,doc:p}),b=!0):this.fa(f,p)||(i.track({type:2,doc:p}),b=!0,(l&&this.da(p,l)>0||c&&this.da(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),b=!0):f&&!p&&(i.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),s=I?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Aa:o,ma:i,ts:a,mutatedKeys:s}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let o=e.ma.W_();o.sort((u,h)=>function(p,_){let I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return I(p)-I(_)}(u.type,h.type)||this.da(u.doc,h.doc)),this.ga(i),r=r!=null&&r;let a=t&&!r?this.pa():[],l=this.Ea.size===0&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,o.length!==0||c?{snapshot:new _h(this.query,e.Aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Tv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(t=>this.Ia=this.Ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ia=this.Ia.delete(t)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=Ft(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});let t=[];return e.forEach(i=>{this.Ea.has(i)||t.push(new Sv(i))}),this.Ea.forEach(i=>{e.has(i)||t.push(new xv(i))}),t}Sa(e){this.Ia=e.Is,this.Ea=Ft();let t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return _h.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},WS=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},qS=class{constructor(e){this.key=e,this.Da=!1}},KS=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Al(a=>f5(a),Nv),this.Fa=new Map,this.Ma=new Set,this.xa=new Pn(qe.comparator),this.Oa=new Map,this.Na=new om,this.La={},this.Ba=new Map,this.ka=sm.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function hde(n,e,t=!0){return H(this,null,function*(){let i=q5(n),r,s=i.va.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ba()):r=yield z5(i,e,t,!0),r})}function fde(n,e){return H(this,null,function*(){let t=q5(n);yield z5(t,e,!0,!1)})}function z5(n,e,t,i){return H(this,null,function*(){let r=yield Kue(n.localStore,fo(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield pde(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&L5(n.remoteStore,r),a})}function pde(n,e,t,i,r){return H(this,null,function*(){n.Qa=(h,f,p)=>function(I,b,E,M){return H(this,null,function*(){let P=b.view.Va(E);P.ts&&(P=yield W4(I.localStore,b.query,!1).then(({documents:R})=>b.view.Va(R,P)));let F=M&&M.targetChanges.get(b.targetId),$=M&&M.targetMismatches.get(b.targetId)!=null,Y=b.view.applyChanges(P,I.isPrimaryClient,F,$);return Z4(I,b.targetId,Y.ya),Y.snapshot})}(n,h,f,p);let s=yield W4(n.localStore,e,!0),o=new GS(e,s.Is),a=o.Va(s.documents),l=im.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);Z4(n,t,c.ya);let u=new WS(e,t,o);return n.va.set(e,u),n.Fa.has(t)?n.Fa.get(t).push(e):n.Fa.set(t,[e]),c.snapshot})}function mde(n,e,t){return H(this,null,function*(){let i=lt(n),r=i.va.get(e),s=i.Fa.get(r.targetId);if(s.length>1)return i.Fa.set(r.targetId,s.filter(o=>!Nv(o,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield RS(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&pD(i.remoteStore,r.targetId),YS(i,r.targetId)}).catch(um))):(YS(i,r.targetId),yield RS(i.localStore,r.targetId,!0))})}function gde(n,e){return H(this,null,function*(){let t=lt(n),i=t.va.get(e),r=t.Fa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),pD(t.remoteStore,i.targetId))})}function _de(n,e,t){return H(this,null,function*(){let i=Ede(n);try{let r=yield function(o,a){let l=lt(o),c=Oi.now(),u=a.reduce((p,_)=>p.add(_.key),Ft()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=da(),I=Ft();return l.us.getEntries(p,u).next(b=>{_=b,_.forEach((E,M)=>{M.isValidDocument()||(I=I.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(b=>{h=b;let E=[];for(let M of a){let P=bue(M,h.get(M.key).overlayedDocument);P!=null&&E.push(new ha(M.key,P,a5(P.value.mapValue),Qc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,E,a)}).next(b=>{f=b;let E=b.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(p,b.batchId,E)})}).then(()=>({batchId:f.batchId,changes:g5(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.La[o.currentUser.toKey()];c||(c=new Pn(Qt)),c=c.insert(a,l),o.La[o.currentUser.toKey()]=c}(i,r.batchId,t),yield fm(i,r.changes),yield jv(i.remoteStore)}catch(r){let s=yD(r,"Failed to persist write");t.reject(s)}})}function H5(n,e){return H(this,null,function*(){let t=lt(n);try{let i=yield Gue(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Oa.get(s);o&&(dn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Da=!0:r.modifiedDocuments.size>0?dn(o.Da):r.removedDocuments.size>0&&(dn(o.Da),o.Da=!1))}),yield fm(t,i,e)}catch(i){yield um(i)}})}function Q4(n,e,t){let i=lt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.va.forEach((s,o)=>{let a=o.view.Y_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=lt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let f of h.z_)f.Y_(a)&&(c=!0)}),c&&vD(l)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function yde(n,e,t){return H(this,null,function*(){let i=lt(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Oa.get(e),s=r&&r.key;if(s){let o=new Pn(qe.comparator);o=o.insert(s,As.newNoDocument(s,gt.min()));let a=Ft().add(s),l=new fv(gt.min(),new Map,new Pn(Qt),o,a);yield H5(i,l),i.xa=i.xa.remove(s),i.Oa.delete(e),wD(i)}else yield RS(i.localStore,e,!1).then(()=>YS(i,e,t)).catch(um)})}function vde(n,e){return H(this,null,function*(){let t=lt(n),i=e.batch.batchId;try{let r=yield $ue(t.localStore,e);G5(t,i,null),$5(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield fm(t,r)}catch(r){yield um(r)}})}function wde(n,e,t){return H(this,null,function*(){let i=lt(n);try{let r=yield function(o,a){let l=lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(dn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);G5(i,e,t),$5(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield fm(i,r)}catch(r){yield um(r)}})}function $5(n,e){(n.Ba.get(e)||[]).forEach(t=>{t.resolve()}),n.Ba.delete(e)}function G5(n,e,t){let i=lt(n),r=i.La[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function YS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Fa.get(e))n.va.delete(i),t&&n.Ca.Ka(i,t);n.Fa.delete(e),n.isPrimaryClient&&n.Na.mr(e).forEach(i=>{n.Na.containsKey(i)||W5(n,i)})}function W5(n,e){n.Ma.delete(e.path.canonicalString());let t=n.xa.get(e);t!==null&&(pD(n.remoteStore,t),n.xa=n.xa.remove(e),n.Oa.delete(t),wD(n))}function Z4(n,e,t){for(let i of t)i instanceof xv?(n.Na.addReference(i.key,e),Ide(n,i)):i instanceof Sv?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,e),n.Na.containsKey(i.key)||W5(n,i.key)):et()}function Ide(n,e){let t=e.key,i=t.path.canonicalString();n.xa.get(t)||n.Ma.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.Ma.add(i),wD(n))}function wD(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){let e=n.Ma.values().next().value;n.Ma.delete(e);let t=new qe(kn.fromString(e)),i=n.ka.next();n.Oa.set(i,new qS(t)),n.xa=n.xa.insert(t,i),L5(n.remoteStore,new rm(fo(hD(t.path)),i,"TargetPurposeLimboResolution",r5.oe))}}function fm(n,e,t){return H(this,null,function*(){let i=lt(n),r=[],s=[],o=[];i.va.isEmpty()||(i.va.forEach((a,l)=>{o.push(i.Qa(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=xS.Ui(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.Ca.E_(r),yield function(l,c){return H(this,null,function*(){let u=lt(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>me.forEach(c,f=>me.forEach(f.Ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>me.forEach(f.$i,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!dm(h))throw h;Fe("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let p=u.ss.get(f),_=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(_);u.ss=u.ss.insert(f,I)}}})}(i.localStore,s))})}function bde(n,e){return H(this,null,function*(){let t=lt(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());let i=yield O5(t.localStore,e);t.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new Ue(ue.CANCELLED,o))})}),s.Ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield fm(t,i.ls)}})}function Cde(n,e){let t=lt(n),i=t.Oa.get(e);if(i&&i.Da)return Ft().add(i.key);{let r=Ft(),s=t.Fa.get(e);if(!s)return r;for(let o of s){let a=t.va.get(o);r=r.unionWith(a.view.Ra)}return r}}function q5(n){let e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yde.bind(null,e),e.Ca.E_=ude.bind(null,e.eventManager),e.Ca.Ka=dde.bind(null,e.eventManager),e}function Ede(n){let e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wde.bind(null,e),e}var Dv=class{constructor(){this.synchronizeTabs=!1}initialize(e){return H(this,null,function*(){this.serializer=Bv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hue(this.persistence,new DS,e.initialUser,this.serializer)}createPersistence(e){return new CS(TS.Yr,this.serializer)}createSharedClientState(e){return new MS}terminate(){return H(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var QS=class{initialize(e,t){return H(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Q4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bde.bind(null,this.syncEngine),yield ade(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new zS}()}createDatastore(e){let t=Bv(e.databaseInfo.databaseId),i=function(s){return new OS(s)}(e.databaseInfo);return function(s,o,a,l){return new NS(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new BS(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>Q4(this.syncEngine,t,0),function(){return wv.D()?new wv:new kS}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,u){let h=new KS(r,s,o,a,l,c);return u&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return H(this,null,function*(){var e,t;yield function(r){return H(this,null,function*(){let s=lt(r);Fe("RemoteStore","RemoteStore shutting down."),s.N_.add(5),yield hm(s),s.B_.shutdown(),s.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var ZS=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var XS=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=bi.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>H(this,null,function*(){Fe("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(Fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>H(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=yD(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Sx(n,e){return H(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>H(this,null,function*(){i.isEqual(r)||(yield O5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function X4(n,e){return H(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield xde(n);Fe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>q4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>q4(e.remoteStore,r)),n._onlineComponents=e})}function Tde(n){return n.name==="FirebaseError"?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function xde(n){return H(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sx(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Tde(t))throw t;oh("Error using user provided cache. Falling back to memory cache: "+t),yield Sx(n,new Dv)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield Sx(n,new Dv);return n._offlineComponents})}function K5(n){return H(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield X4(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield X4(n,new QS))),n._onlineComponents})}function Sde(n){return K5(n).then(e=>e.syncEngine)}function J4(n){return H(this,null,function*(){let e=yield K5(n),t=e.eventManager;return t.onListen=hde.bind(null,e.syncEngine),t.onUnlisten=mde.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fde.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gde.bind(null,e.syncEngine),t})}function Y5(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var e5=new Map;function Q5(n,e,t){if(!t)throw new Ue(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Dde(n,e,t,i){if(e===!0&&i===!0)throw new Ue(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t5(n){if(!qe.isDocumentKey(n))throw new Ue(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n5(n){if(qe.isDocumentKey(n))throw new Ue(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ID(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":et()}function rh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ID(n);throw new Ue(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Av=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dde("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ue(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ue(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ue(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yh=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ue(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Dx;switch(i.type){case"firstParty":return new kx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ue(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=e5.get(t);i&&(Fe("ComponentProvider","Removing Datastore"),e5.delete(t),i.terminate())}(this),Promise.resolve()}};function Z5(n,e,t,i={}){var r;let s=(n=rh(n,yh))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=bi.MOCK_USER;else{a=C3(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ue(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bi(c)}n._authCredentials=new Ax(new sv(a,l))}}var Rv=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},jr=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Sl=class n extends Rv{constructor(e,t,i){super(e,t,hD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new qe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function X5(n,e,...t){if(n=qi(n),Q5("collection","path",e),n instanceof yh){let i=kn.fromString(e,...t);return n5(i),new Sl(n,null,i)}{if(!(n instanceof jr||n instanceof Sl))throw new Ue(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(kn.fromString(e,...t));return n5(i),new Sl(n.firestore,null,i)}}function J5(n,e,...t){if(n=qi(n),arguments.length===1&&(e=ov.newId()),Q5("doc","path",e),n instanceof yh){let i=kn.fromString(e,...t);return t5(i),new jr(n,null,new qe(i))}{if(!(n instanceof jr||n instanceof Sl))throw new Ue(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(kn.fromString(e,...t));return t5(i),new jr(n.firestore,n instanceof Sl?n.converter:null,new qe(i))}}var JS=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Iv(this,"async_queue_retry"),this.Tu=()=>{let t=xx();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.e_.zo()};let e=xx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let t=xx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let t=new la;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return H(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!dm(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let t=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ca("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=t,t}enqueueAfterDelay(e,t,i){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);let r=US.createAndSchedule(this,e,t,i,s=>this.Ru(s));return this.cu.push(r),r}Eu(){this.lu&&et()}verifyOperationInProgress(){}Vu(){return H(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.cu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let t=this.cu.indexOf(e);this.cu.splice(t,1)}};function i5(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var vh=class extends yh{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new JS}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||n6(this),this._firestoreClient.terminate()}};function e6(n,e){let t=typeof n=="object"?n:zd(),i=typeof n=="string"?n:e||"(default)",r=Pp(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=b3("firestore");s&&Z5(r,...s)}return r}function t6(n){return n._firestoreClient||n6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function n6(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,u){return new Nx(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Y5(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new XS(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var am=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Qi.fromBase64String(e))}catch(t){throw new Ue(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lm=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mv=class{constructor(e){this._methodName=e}};var cm=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}};var Ade=/^__.*__$/,eD=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}};function i6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var tD=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return kv(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(i6(this.yu)&&Ade.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},nD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bv(e)}Ou(e,t,i,r=!1){return new tD({yu:e,methodName:t,xu:i,path:Ur.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Rde(n){let e=n._freezeSettings(),t=Bv(n._databaseId);return new nD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mde(n,e,t,i,r,s={}){let o=n.Ou(s.merge||s.mergeFields?2:0,e,t,r);a6("Data must be an object, but it was:",o,i);let a=s6(i,o),l,c;if(s.merge)l=new uo(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=kde(e,h,t);if(!o.contains(f))throw new Ue(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ode(u,f)||u.push(f)}l=new uo(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new eD(new Ds(a),l,c)}function r6(n,e){if(o6(n=qi(n)))return a6("Unsupported field value:",e,n),s6(n,e);if(n instanceof Mv)return function(i,r){if(!i6(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=r6(a,r.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=qi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _ue(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Oi.fromDate(i);return{timestampValue:_v(r.serializer,s)}}if(i instanceof Oi){let s=new Oi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_v(r.serializer,s)}}if(i instanceof cm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof am)return{bytesValue:S5(r.serializer,i._byteString)};if(i instanceof jr){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${ID(i)}`)}(n,e)}function s6(n,e){let t={};return s5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ih(n,(i,r)=>{let s=r6(r,e.Su(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function o6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Oi||n instanceof cm||n instanceof am||n instanceof jr||n instanceof Mv)}function a6(n,e,t){if(!o6(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=ID(t);throw i==="an object"?e.Fu(n+" a custom object"):e.Fu(n+" "+i)}}function kde(n,e,t){if((e=qi(e))instanceof lm)return e._internalPath;if(typeof e=="string")return l6(n,e);throw kv("Field path arguments must be of type string or ",n,!1,void 0,t)}var Pde=new RegExp("[~\\*/\\[\\]]");function l6(n,e,t){if(e.search(Pde)>=0)throw kv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lm(...e.split("."))._internalPath}catch{throw kv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kv(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Ue(ue.INVALID_ARGUMENT,a+n+l)}function Ode(n,e){return n.some(t=>t.isEqual(e))}var Pv=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(c6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},iD=class extends Pv{data(){return super.data()}};function c6(n,e){return typeof e=="string"?l6(n,e):e instanceof lm?e._internalPath:e._delegate._internalPath}function Fde(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ue(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rD=class{convertValue(e,t="none"){switch(Jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Ih(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new cm(Mn(e.latitude),Mn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=lD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){let t=ua(e);return new Oi(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=kn.fromString(e);dn(P5(i));let r=new uv(i.get(1),i.get(3)),s=new qe(i.popFirst(5));return r.isEqual(t)||ca(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Lde(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Yc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ov=class extends Pv{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(c6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},sh=class extends Ov{data(e={}){return super.data(e)}},sD=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new sh(this._firestore,this._userDataWriter,i.key,i,new Yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new sh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new sh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Nde(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Nde(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}var Fv=class extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new am(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,t)}};function u6(n,e,t){n=rh(n,jr);let i=rh(n.firestore,vh),r=Lde(n.converter,e,t);return Vde(i,[Mde(Rde(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Qc.none())])}function bD(n,...e){var t,i,r;n=qi(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||i5(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(i5(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(n instanceof jr)c=rh(n.firestore,vh),u=hD(n._key.path),l={next:h=>{e[o]&&e[o](Bde(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=rh(n,Rv);c=rh(h.firestore,vh),u=h._query;let f=new Fv(c);l={next:p=>{e[o]&&e[o](new sD(c,f,h,p))},error:e[o+1],complete:e[o+2]},Fde(n._query)}return function(f,p,_,I){let b=new ZS(I),E=new $S(p,b,_);return f.asyncQueue.enqueueAndForget(()=>H(this,null,function*(){return lde(yield J4(f),E)})),()=>{b.Ga(),f.asyncQueue.enqueueAndForget(()=>H(this,null,function*(){return cde(yield J4(f),E)}))}}(t6(c),u,a,l)}function Vde(n,e){return function(i,r){let s=new la;return i.asyncQueue.enqueueAndForget(()=>H(this,null,function*(){return _de(yield Sde(i),r,s)})),s.promise}(t6(n),e)}function Bde(n,e,t){let i=t.docs.get(e._key),r=new Fv(n);return new Ov(n,r,e._key,i,new Yc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){wh=r})(vl),yl(new rs("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new vh(new Rx(i.getProvider("auth-internal")),new Ox(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ue(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uv(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ui(S4,"4.6.5",e),ui(S4,"4.6.5","esm2017")})();var zv=function(){return zv=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zv.apply(this,arguments)};var zde={includeMetadataChanges:!1};function d6(n,e){return e===void 0&&(e=zde),new pt(function(t){var i=bD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function h6(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:zv(zv({},i),(t={},t[e.idField]=n.id,t))}function f6(n){return d6(n,{includeMetadataChanges:!0}).pipe(st(function(e){return e.docs}))}function p6(n,e){return e===void 0&&(e={}),f6(n).pipe(st(function(t){return t.map(function(i){return h6(i,e)})}))}var ru=class{constructor(e){return e}},m6="firestore",CD=class{constructor(){return Op(m6)}};var ED=new Pe("angularfire2.firestore-instances");function Hde(n,e){let t=Sy(m6,n,e);return t&&new ru(t)}function $de(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ru(i)}}var Gde={provide:CD,deps:[[new Mi,ED]]},Wde={provide:ru,useFactory:Hde,deps:[[new Mi,ED],ra]},qde=(()=>{class n{constructor(){ui("angularfire",Vc.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({providers:[Wde,Gde]})}return n})();function g6(n,...e){return{ngModule:qde,providers:[{provide:ED,useFactory:$de(n),multi:!0,deps:[Ke,mi,Gd,Bc,[new Mi,$p],[new Mi,$d],...e]}]}}var _6=Br(p6,!0);var y6=Br(X5,!0);var v6=Br(J5,!0);var w6=Br(e6,!0);var I6=Br(u6,!0);var Hv=(()=>{let e=class e{constructor(i){this.firestore=i,this.percorsi=y6(this.firestore,"percorsi")}getPercorsi(){return _6(this.percorsi,{idField:"id"})}updatePercorso(i,r){let s=v6(this.percorsi,i),o=I6(s,r);return Ht(o)}};e.\u0275fac=function(r){return new(r||e)(Oe(ru))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Yde=()=>({"min-width":"50rem"});function Qde(n,e){n&1&&(x(0,"tr")(1,"th",6),ce(2,"ID"),A(),x(3,"th",6),ce(4,"Arrivo Previsto"),A(),x(5,"th",6),ce(6,"Arrivo Effettivo"),A(),x(7,"th",6),ce(8,"Partenza Prevista"),A(),x(9,"th",6),ce(10,"Partenza Effettiva"),A(),x(11,"th",6),ce(12,"Transito Previsto"),A(),x(13,"th",6),ce(14,"Transito Effettivo"),A(),W(15,"th"),A())}function Zde(n,e){if(n&1){let t=pe();x(0,"td",6),ce(1),ki(2,"date"),A(),x(3,"td",6)(4,"p-inputMask",8),to("ngModelChange",function(r){B(t);let s=v().$implicit;return Qo(s.orarioArrivoEffettivo,r)||(s.orarioArrivoEffettivo=r),U(r)}),A()()}if(n&2){let t=v().$implicit;y(),$e(Pi(2,2,t.orarioArrivoPrevisto,"HH:mm")),y(3),eo("ngModel",t.orarioArrivoEffettivo)}}function Xde(n,e){n&1&&(x(0,"td",6),ce(1,"--:--"),A(),x(2,"td",6),ce(3,"--:--"),A())}function Jde(n,e){if(n&1){let t=pe();x(0,"td",6),ce(1),ki(2,"date"),A(),x(3,"td",6)(4,"p-inputMask",8),to("ngModelChange",function(r){B(t);let s=v().$implicit;return Qo(s.orarioPartenzaEffettivo,r)||(s.orarioPartenzaEffettivo=r),U(r)}),A()()}if(n&2){let t=v().$implicit;y(),$e(Pi(2,2,t.orarioPartenzaPrevisto,"HH:mm")),y(3),eo("ngModel",t.orarioPartenzaEffettivo)}}function ehe(n,e){n&1&&(x(0,"td",6),ce(1,"--:--"),A(),x(2,"td",6),ce(3,"--:--"),A())}function the(n,e){if(n&1){let t=pe();x(0,"td",6),ce(1),ki(2,"date"),A(),x(3,"td",6)(4,"p-inputMask",8),to("ngModelChange",function(r){B(t);let s=v().$implicit;return Qo(s.orarioPassaggioEffettivo,r)||(s.orarioPassaggioEffettivo=r),U(r)}),A()()}if(n&2){let t=v().$implicit;y(),$e(Pi(2,2,t.orarioPassaggioPrevisto,"HH:mm")),y(3),eo("ngModel",t.orarioPassaggioEffettivo)}}function nhe(n,e){n&1&&(x(0,"td",6),ce(1,"--:--"),A(),x(2,"td",6),ce(3,"--:--"),A())}function ihe(n,e){if(n&1){let t=pe();x(0,"tr")(1,"td",6),ce(2),A(),D(3,Zde,5,5)(4,Xde,4,0)(5,Jde,5,5)(6,ehe,4,0)(7,the,5,5)(8,nhe,4,0),x(9,"td",6)(10,"p-button",7),J("click",function(){let r=B(t).rowIndex,s=v();return U(s.saveChanges(r))}),A()()()}if(n&2){let t=e.$implicit;y(2),$e(t.id),y(),Pr(3,t.orarioArrivoPrevisto?3:4),y(2),Pr(5,t.orarioPartenzaPrevisto?5:6),y(2),Pr(7,t.orarioPassaggioPrevisto?7:8)}}var C6=(()=>{let e=class e{constructor(i){this.firestoreService=i,this.tabItems=iy,this.percorso={}}itemChanged(i){this.firestoreService.getPercorsi().subscribe({next:r=>{this.percorso=r.filter(s=>s.id===this.selectedDay.option)[0];for(let s=0;s<this.percorso.checkpoint.length;s++){if(this.percorso.checkpoint[s].orarioArrivoPrevisto){this.percorso.checkpoint[s].orarioArrivoPrevisto=this.percorso.checkpoint[s].orarioArrivoPrevisto.toDate(),this.percorso.checkpoint[s].orarioArrivoEffettivo=this.percorso.checkpoint[s].orarioArrivoEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioArrivoEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPartenzaPrevisto){this.percorso.checkpoint[s].orarioPartenzaPrevisto=this.percorso.checkpoint[s].orarioPartenzaPrevisto.toDate(),this.percorso.checkpoint[s].orarioPartenzaEffettivo=this.percorso.checkpoint[s].orarioPartenzaEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPartenzaEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPassaggioPrevisto){this.percorso.checkpoint[s].orarioPassaggioPrevisto=this.percorso.checkpoint[s].orarioPassaggioPrevisto.toDate(),this.percorso.checkpoint[s].orarioPassaggioEffettivo=this.percorso.checkpoint[s].orarioPassaggioEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPassaggioEffettivo=o[0]+":"+o[1]}}},error:r=>{console.error(r)}})}saveChanges(i){if(this.percorso.checkpoint[i].orarioArrivoPrevisto){let r=[this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[i].orarioArrivoPrevisto),this.percorso.checkpoint[i].orarioArrivoEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioArrivoEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPartenzaPrevisto){let r=[this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[i].orarioPartenzaPrevisto),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPassaggioPrevisto){let r=[this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[i].orarioPassaggioPrevisto),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setMinutes(r[1])}for(let r=0;r<this.percorso.checkpoint.length;r++)if(r!==i){if(this.percorso.checkpoint[r].orarioArrivoPrevisto){let s=[this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[r].orarioArrivoPrevisto),this.percorso.checkpoint[r].orarioArrivoEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioArrivoEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPartenzaPrevisto){let s=[this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[r].orarioPartenzaPrevisto),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPassaggioPrevisto){let s=[this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[r].orarioPassaggioPrevisto),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setMinutes(s[1])}this.firestoreService.updatePercorso(this.selectedDay.option,this.percorso)}}};e.\u0275fac=function(r){return new(r||e)(G(Hv))},e.\u0275cmp=ee({type:e,selectors:[["app-manage"]],standalone:!0,features:[ye],decls:6,vars:5,consts:[[1,"drop-container"],["optionLabel","label","placeholder","Seleziona giorno",3,"ngModelChange","onChange","options","ngModel"],[1,"content"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"in-tr"],["label","Salva",3,"click"],["pInputNumber","","mask","99:99","placeholder","00:00",3,"ngModelChange","ngModel"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"p-dropdown",1),to("ngModelChange",function(a){return Qo(s.selectedDay,a)||(s.selectedDay=a),a}),J("onChange",function(a){return s.itemChanged(a)}),A()(),x(2,"div",2)(3,"p-table",3),D(4,Qde,16,0,"ng-template",4)(5,ihe,11,4,"ng-template",5),A()()),r&2&&(y(),g("options",s.tabItems),eo("ngModel",s.selectedDay),y(2),g("value",s.percorso.checkpoint)("tableStyle",oi(4,Yde)))},dependencies:[Gc,Wp,ot,kc,Vd,Mc,C4,mx,S0,Ss,Dp,E4,gx,Wc],styles:["[_nghost-%COMP%]     .p-dropdown{width:250px;margin:auto}.drop-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}[_nghost-%COMP%]     .p-datatable{margin-top:20px}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}[_nghost-%COMP%]     .p-inputtext{width:75px}.in-tr[_ngcontent-%COMP%]{width:12.5%}"]});let n=e;return n})();var E6=(n,e)=>fe(El).isLogged();var TD=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Ci=TD;var Rs={PROPERTYCHANGE:"propertychange"};var xD=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Ch=xD;function T6(n,e,t){let i,r;t=t||yr;let s=0,o=n.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+t(n[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function yr(n,e){return n>e?1:n<e?-1:0}function Eh(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let s=n[r];if(s===e)return r;if(s<e)return t(e,n[r-1],s)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function x6(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Th(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function Zi(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function S6(n,e,t){let i=e||yr;return n.every(function(r,s){if(s===0)return!0;let o=i(n[s-1],r);return!(o>0||t&&o===0)})}function fa(){return!0}function pa(){return!1}function Ms(){}function $v(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Zi(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function D6(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function _o(n){for(let e in n)delete n[e]}function ks(n){let e;for(e in n)return!1;return!e}var SD=class extends Ch{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let s=t?new Ci(e):e;s.target||(s.target=this.eventTarget_||this);let o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Ms);delete o[i]}return l}disposeInternal(){this.listeners_&&_o(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Ms,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},Ml=SD;var De={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ct(n,e,t,i,r){if(r){let o=t;t=function(){n.removeEventListener(e,t),o.apply(i??this,arguments)}}else i&&i!==n&&(t=t.bind(i));let s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function xh(n,e,t,i){return ct(n,e,t,i,!0)}function At(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),_o(n))}var Sh=class extends Ml{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(De.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ct(this,e[s],t);return r}return ct(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=xh(this,e[s],t)}else i=xh(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)rhe(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};Sh.prototype.on;Sh.prototype.once;Sh.prototype.un;function rhe(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)At(n[e]);else At(n)}var Gv=Sh;function Et(){throw new Error("Unimplemented abstract method.")}var she=0;function _t(n){return n.ol_uid||(n.ol_uid=String(++she))}var Wv=class extends Ci{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},DD=class extends Gv{constructor(e){super(),this.on,this.once,this.un,_t(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Wv(i,e,t)),i=Rs.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Wv(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],ks(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},ei=DD;var Ei={ADD:"add",REMOVE:"remove"};var A6={LENGTH:"length"},Dh=class extends Ci{constructor(e,t,i){super(e),this.element=t,this.index=i}},AD=class extends ei{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(A6.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Dh(Ei.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Dh(Ei.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Dh(Ei.REMOVE,r,e)),this.dispatchEvent(new Dh(Ei.ADD,t,e))}updateLength_(){this.set(A6.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},lr=AD;function Qe(n,e){if(!n)throw new Error(e)}var RD=class n extends ei{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(At(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=ct(e,De.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?ohe(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function ohe(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Qe(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var MD=RD;var BOe=new Array(6);function Ti(){return[1,0,0,1,0,0]}function M6(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function zn(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Fi(n,e,t,i,r,s,o,a){let l=Math.sin(s),c=Math.cos(s);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=o*i*c-a*i*l+e,n[5]=o*r*l+a*r*c+t,n}function qv(n,e){let t=ahe(e);Qe(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-s/t,n[3]=i/t,n[4]=(s*l-o*a)/t,n[5]=-(i*l-r*a)/t,n}function ahe(n){return n[0]*n[3]-n[1]*n[2]}var R6=[1e6,1e6,1e6,1e6,2,2];function k6(n){return"matrix("+n.map((t,i)=>Math.round(t*R6[i])/R6[i]).join(", ")+")"}var ti={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function kD(n){let e=Hn();for(let t=0,i=n.length;t<i;++t)ou(e,n[t]);return e}function lhe(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),s=Math.max.apply(null,n),o=Math.max.apply(null,e);return zr(i,r,s,o,t)}function Ah(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Yv(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Qv(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Ps(n,e){return PD(n,e[0],e[1])}function ma(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function PD(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Kv(n,e){let t=n[0],i=n[1],r=n[2],s=n[3],o=e[0],a=e[1],l=ti.UNKNOWN;return o<t?l=l|ti.LEFT:o>r&&(l=l|ti.RIGHT),a<i?l=l|ti.BELOW:a>s&&(l=l|ti.ABOVE),l===ti.UNKNOWN&&(l=ti.INTERSECTING),l}function Hn(){return[1/0,1/0,-1/0,-1/0]}function zr(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function su(n){return zr(1/0,1/0,-1/0,-1/0,n)}function Zv(n,e){let t=n[0],i=n[1];return zr(t,i,t,i,e)}function Rh(n,e,t,i,r){let s=su(r);return OD(s,n,e,t,i)}function ga(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function P6(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function ou(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function OD(n,e,t,i,r){for(;t<i;t+=r)che(n,e[t],e[t+1]);return n}function che(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Xv(n,e){let t;return t=e(Mh(n)),t||(t=e(kh(n)),t)||(t=e(Ph(n)),t)||(t=e(os(n)),t)?t:!1}function kl(n){let e=0;return Pl(n)||(e=ft(n)*wn(n)),e}function Mh(n){return[n[0],n[1]]}function kh(n){return[n[2],n[1]]}function ss(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function O6(n,e){let t;if(e==="bottom-left")t=Mh(n);else if(e==="bottom-right")t=kh(n);else if(e==="top-left")t=os(n);else if(e==="top-right")t=Ph(n);else throw new Error("Invalid corner");return t}function pm(n,e,t,i,r){let[s,o,a,l,c,u,h,f]=uhe(n,e,t,i);return zr(Math.min(s,a,c,h),Math.min(o,l,u,f),Math.max(s,a,c,h),Math.max(o,l,u,f),r)}function uhe(n,e,t,i){let r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(t),a=Math.sin(t),l=r*o,c=r*a,u=s*o,h=s*a,f=n[0],p=n[1];return[f-l+h,p-c-u,f-l-h,p-c+u,f+l-h,p+c+u,f+l+h,p+c-u,f-l+h,p-c-u]}function wn(n){return n[3]-n[1]}function cr(n,e,t){let i=t||Hn();return En(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):su(i),i}function os(n){return[n[0],n[3]]}function Ph(n){return[n[2],n[3]]}function ft(n){return n[2]-n[0]}function En(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Pl(n){return n[2]<n[0]||n[3]<n[1]}function F6(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function L6(n,e,t){let i=!1,r=Kv(n,e),s=Kv(n,t);if(r===ti.INTERSECTING||s===ti.INTERSECTING)i=!0;else{let o=n[0],a=n[1],l=n[2],c=n[3],u=e[0],h=e[1],f=t[0],p=t[1],_=(p-h)/(f-u),I,b;s&ti.ABOVE&&!(r&ti.ABOVE)&&(I=f-(p-c)/_,i=I>=o&&I<=l),!i&&s&ti.RIGHT&&!(r&ti.RIGHT)&&(b=p-(f-l)*_,i=b>=a&&b<=c),!i&&s&ti.BELOW&&!(r&ti.BELOW)&&(I=f-(p-a)/_,i=I>=o&&I<=l),!i&&s&ti.LEFT&&!(r&ti.LEFT)&&(b=p-(f-o)*_,i=b>=a&&b<=c)}return i}function N6(n,e,t,i){if(Pl(n))return su(t);let r=[];if(i>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)r.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return lhe(s,o,t)}function FD(n,e){let t=e.getExtent(),i=ss(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=ft(t),o=Math.floor((i[0]-t[0])/r)*r;n[0]-=o,n[2]-=o}return n}function Oh(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];FD(n,e);let r=ft(i);if(ft(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}var _a={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var LD=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||_a[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Jv=LD;var mm=6378137,Fh=Math.PI*mm,dhe=[-Fh,-Fh,Fh,Fh],hhe=[-180,-85,180,85],ew=mm*Math.log(Math.tan(Math.PI/2)),Ol=class extends Jv{constructor(e){super({code:e,units:"m",extent:dhe,global:!0,worldExtent:hhe,getPointResolution:function(t,i){return t/Math.cosh(i[1]/mm)}})}},ND=[new Ol("EPSG:3857"),new Ol("EPSG:102100"),new Ol("EPSG:102113"),new Ol("EPSG:900913"),new Ol("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ol("http://www.opengis.net/gml/srs/epsg.xml#3857")];function V6(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t){e[r]=Fh*n[r]/180;let s=mm*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>ew?s=ew:s<-ew&&(s=-ew),e[r+1]=s}return e}function B6(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/Fh,e[r+1]=360*Math.atan(Math.exp(n[r+1]/mm))/Math.PI-90;return e}var fhe=6378137,U6=[-180,-90,180,90],phe=Math.PI*fhe/180,ya=class extends Jv{constructor(e,t){super({code:e,units:"degrees",extent:U6,axisOrientation:t,global:!0,metersPerUnit:phe,worldExtent:U6})}},VD=[new ya("CRS:84"),new ya("EPSG:4326","neu"),new ya("urn:ogc:def:crs:OGC:1.3:CRS84"),new ya("urn:ogc:def:crs:OGC:2:84"),new ya("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ya("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ya("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var BD={};function j6(n){return BD[n]||BD[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function z6(n,e){BD[n]=e}var Lh={};function gm(n,e,t){let i=n.getCode(),r=e.getCode();i in Lh||(Lh[i]={}),Lh[i][r]=t}function H6(n,e){let t;return n in Lh&&e in Lh[n]&&(t=Lh[n][e]),t}function Wt(n,e,t){return Math.min(Math.max(n,e),t)}function $6(n,e,t,i,r,s){let o=r-t,a=s-i;if(o!==0||a!==0){let l=((n-t)*o+(e-i)*a)/(o*o+a*a);l>1?(t=r,i=s):l>0&&(t+=o*l,i+=a*l)}return va(n,e,t,i)}function va(n,e,t,i){let r=t-n,s=i-e;return r*r+s*s}function G6(n){let e=n.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){let l=Math.abs(n[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;let o=n[r];n[r]=n[i],n[i]=o;for(let a=i+1;a<e;a++){let l=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Nh(n){return n*Math.PI/180}function wa(n,e){let t=n%e;return t*e<0?t+e:t}function Xi(n,e,t){return n+t*(e-n)}function tw(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function _m(n,e){return Math.floor(tw(n,e))}function ym(n,e){return Math.ceil(tw(n,e))}function W6(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function au(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Vh(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,s=n[1]*t+n[0]*i;return n[0]=r,n[1]=s,n}function q6(n,e){return n[0]*=e,n[1]*=e,n}function nw(n,e){if(e.canWrapX()){let t=ft(e.getExtent()),i=K6(n,e,t);i&&(n[0]-=i*t)}return n}function K6(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||ft(i),r=Math.floor((n[0]-i[0])/t)),r}var mhe=63710088e-1;function UD(n,e,t){t=t||mhe;let i=Nh(n[1]),r=Nh(e[1]),s=(r-i)/2,o=Nh(e[0]-n[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var Y6={info:1,warn:2,error:3,none:4},ghe=Y6.info;function iw(...n){ghe>Y6.warn||console.warn(...n)}var jD=!0;function zD(n){jD=!(n===void 0?!0:n)}function HD(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function Z6(n,e){if(e!==void 0&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function _he(n){z6(n.getCode(),n),gm(n,n,HD)}function yhe(n){n.forEach(_he)}function xi(n){return typeof n=="string"?j6(n):n||null}function $D(n,e,t,i){n=xi(n);let r,s=n.getPointResolutionFunc();if(s){if(r=s(e,t),i&&i!==n.getUnits()){let o=n.getMetersPerUnit();o&&(r=r*o/_a[i])}}else{let o=n.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{let a=cu(n,xi("EPSG:4326"));if(a===Z6&&o!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=UD(c.slice(0,2),c.slice(2,4)),h=UD(c.slice(4,6),c.slice(6,8));r=(u+h)/2}let l=i?_a[i]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Q6(n){yhe(n),n.forEach(function(e){n.forEach(function(t){e!==t&&gm(e,t,HD)})})}function vhe(n,e,t,i){n.forEach(function(r){e.forEach(function(s){gm(r,s,t),gm(s,r,i)})})}function rw(n,e){return n?typeof n=="string"?xi(n):n:xi(e)}function X6(n,e){return zD(),vm(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function lu(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||cu(n,e)===HD)&&t}function cu(n,e){let t=n.getCode(),i=e.getCode(),r=H6(t,i);return r||(r=Z6),r}function uu(n,e){let t=xi(n),i=xi(e);return cu(t,i)}function vm(n,e,t){return uu(e,t)(n,void 0,n.length)}function J6(n,e,t,i){let r=uu(e,t);return N6(n,r,void 0,i)}var Os=null;function du(){return Os}function wm(n,e){return Os?vm(n,e,Os):n}function Fs(n,e){return Os?vm(n,Os,e):(jD&&!au(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(jD=!1,iw("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Fl(n,e){return Os?J6(n,e,Os):n}function as(n,e){return Os?J6(n,Os,e):n}function e9(n,e){if(!Os)return n;let t=xi(e).getMetersPerUnit(),i=Os.getMetersPerUnit();return t&&i?n*t/i:n}function whe(){Q6(ND),Q6(VD),vhe(VD,ND,V6,B6)}whe();function vr(n,e,t,i,r,s){s=s||[];let o=0;for(let a=e;a<t;a+=i){let l=n[a],c=n[a+1];s[o++]=r[0]*l+r[2]*c+r[4],s[o++]=r[1]*l+r[3]*c+r[5]}return s&&s.length!=o&&(s.length=o),s}function sw(n,e,t,i,r,s,o){o=o||[];let a=Math.cos(r),l=Math.sin(r),c=s[0],u=s[1],h=0;for(let f=e;f<t;f+=i){let p=n[f]-c,_=n[f+1]-u;o[h++]=c+p*a-_*l,o[h++]=u+p*l+_*a;for(let I=f+2;I<f+i;++I)o[h++]=n[I]}return o&&o.length!=h&&(o.length=h),o}function t9(n,e,t,i,r,s,o,a){a=a||[];let l=o[0],c=o[1],u=0;for(let h=e;h<t;h+=i){let f=n[h]-l,p=n[h+1]-c;a[u++]=l+r*f,a[u++]=c+s*p;for(let _=h+2;_<h+i;++_)a[u++]=n[_]}return a&&a.length!=u&&(a.length=u),a}function n9(n,e,t,i,r,s,o){o=o||[];let a=0;for(let l=e;l<t;l+=i){o[a++]=n[l]+r,o[a++]=n[l+1]+s;for(let c=l+2;c<l+i;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}var i9=Ti(),GD=class extends ei{constructor(){super(),this.extent_=Hn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=$v((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Et()}closestPointXY(e,t,i,r){return Et()}containsXY(e,t){let i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Et()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&su(t),this.extentRevision_=this.getRevision()}return F6(this.extent_,e)}rotate(e,t){Et()}scale(e,t,i){Et()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Et()}getType(){return Et()}applyTransform(e){Et()}intersectsExtent(e){return Et()}translate(e,t){Et()}transform(e,t){let i=xi(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){let l=i.getExtent(),c=i.getWorldExtent(),u=wn(c)/wn(l);return Fi(i9,c[0],c[3],u,-u,0,0,0),vr(s,0,s.length,a,i9,o),uu(i,t)(s,o,a)}:uu(i,t);return this.applyTransform(r),this}},r9=GD;var WD=class extends r9{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Rh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Et()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=s9(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Et()}setLayout(e,t,i){let r;if(e)r=s9(e);else{for(let s=0;s<i;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Ihe(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();sw(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=ss(this.getExtent()));let r=this.getFlatCoordinates();if(r){let s=this.getStride();t9(r,0,r.length,s,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();n9(i,0,i.length,r,e,t,i),this.changed()}}};function Ihe(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function s9(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function o9(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return vr(i,0,i.length,r,e,t)}var Bh=WD;function a9(n,e,t,i,r,s,o){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,h;if(c===0&&u===0)h=e;else{let f=((r-a)*c+(s-l)*u)/(c*c+u*u);if(f>1)h=t;else if(f>0){for(let p=0;p<i;++p)o[p]=Xi(n[e+p],n[t+p],f);o.length=i;return}else h=e}for(let f=0;f<i;++f)o[f]=n[h+f];o.length=i}function qD(n,e,t,i,r){let s=n[e],o=n[e+1];for(e+=i;e<t;e+=i){let a=n[e],l=n[e+1],c=va(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function l9(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){let a=t[s];r=qD(n,e,a,i,r),e=a}return r}function KD(n,e,t,i,r,s,o,a,l,c,u){if(e==t)return c;let h,f;if(r===0){if(f=va(o,a,n[e],n[e+1]),f<c){for(h=0;h<i;++h)l[h]=n[e+h];return l.length=i,f}return c}u=u||[NaN,NaN];let p=e+i;for(;p<t;)if(a9(n,p-i,p,i,o,a,u),f=va(o,a,u[0],u[1]),f<c){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(s&&(a9(n,t-i,e,i,o,a,u),f=va(o,a,u[0],u[1]),f<c)){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function c9(n,e,t,i,r,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,f=t.length;h<f;++h){let p=t[h];c=KD(n,e,p,i,r,s,o,a,l,c,u),e=p}return c}function u9(n,e,t,i){for(let r=0,s=t.length;r<s;++r)n[e++]=t[r];return e}function YD(n,e,t,i){for(let r=0,s=t.length;r<s;++r){let o=t[r];for(let a=0;a<i;++a)n[e++]=o[a]}return e}function d9(n,e,t,i,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=YD(n,e,t[o],i);r[s++]=l,e=l}return r.length=s,r}function Im(n,e,t,i,r,s,o){let a=(t-e)/i;if(a<3){for(;e<t;e+=i)s[o++]=n[e],s[o++]=n[e+1];return o}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-i],u=0;for(;c.length>0;){let h=c.pop(),f=c.pop(),p=0,_=n[f],I=n[f+1],b=n[h],E=n[h+1];for(let M=f+i;M<h;M+=i){let P=n[M],F=n[M+1],$=$6(P,F,_,I,b,E);$>p&&(u=M,p=$)}p>r&&(l[(u-e)/i]=1,f+i<u&&c.push(f,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=n[e+h*i],s[o++]=n[e+h*i+1]);return o}function h9(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=Im(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Ll(n,e){return e*Math.round(n/e)}function bhe(n,e,t,i,r,s,o){if(e==t)return o;let a=Ll(n[e],r),l=Ll(n[e+1],r);e+=i,s[o++]=a,s[o++]=l;let c,u;do if(c=Ll(n[e],r),u=Ll(n[e+1],r),e+=i,e==t)return s[o++]=c,s[o++]=u,o;while(c==a&&u==l);for(;e<t;){let h=Ll(n[e],r),f=Ll(n[e+1],r);if(e+=i,h==c&&f==u)continue;let p=c-a,_=u-l,I=h-a,b=f-l;if(p*b==_*I&&(p<0&&I<p||p==I||p>0&&I>p)&&(_<0&&b<_||_==b||_>0&&b>_)){c=h,u=f;continue}s[o++]=c,s[o++]=u,a=c,l=u,c=h,u=f}return s[o++]=c,s[o++]=u,o}function ow(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=bhe(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Nl(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function Uh(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=Nl(n,e,l,i,r[s]),e=l}return r.length=s,r}function QD(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=l.length===1&&l[0]===e?[]:Uh(n,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function ZD(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1],a=0,l=0;for(;e<t;e+=i){let c=n[e]-s,u=n[e+1]-o;r+=l*c-a*u,a=c,l=u}return r/2}function f9(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){let a=t[s];r+=ZD(n,e,a,i),e=a}return r}var XD=class n extends Bh{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<Qv(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),KD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return ZD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Nl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Im(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=YD(this.flatCoordinates,0,e,this.stride),this.changed()}},JD=XD;var e2=class n extends Bh{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let s=this.flatCoordinates,o=va(e,t,s[0],s[1]);if(o<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Zv(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return PD(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=u9(this.flatCoordinates,0,e,this.stride),this.changed()}},jh=e2;function p9(n,e,t,i,r){return!Xv(r,function(o){return!Vl(n,e,t,i,o[0],o[1])})}function Vl(n,e,t,i,r,s){let o=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){let c=n[e],u=n[e+1];l<=s?u>s&&(c-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(c-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function aw(n,e,t,i,r,s){if(t.length===0||!Vl(n,e,t[0],i,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(Vl(n,t[o-1],t[o],i,r,s))return!1;return!0}function bm(n,e,t,i,r,s,o){let a,l,c,u,h,f,p,_=r[s+1],I=[];for(let M=0,P=t.length;M<P;++M){let F=t[M];for(u=n[F-i],f=n[F-i+1],a=e;a<F;a+=i)h=n[a],p=n[a+1],(_<=f&&p<=_||f<=_&&_<=p)&&(c=(_-f)/(p-f)*(h-u)+u,I.push(c)),u=h,f=p}let b=NaN,E=-1/0;for(I.sort(yr),u=I[0],a=1,l=I.length;a<l;++a){h=I[a];let M=Math.abs(h-u);M>E&&(c=(u+h)/2,aw(n,e,t,i,c,_)&&(b=c,E=M)),u=h}return isNaN(b)&&(b=r[s]),o?(o.push(b,_,E),o):[b,_,E]}function m9(n,e,t,i,r){let s=[];for(let o=0,a=t.length;o<a;++o){let l=t[o];s=bm(n,e,l,i,r,2*o,s),e=l[l.length-1]}return s}function g9(n,e,t,i,r){let s;for(e+=i;e<t;e+=i)if(s=r(n.slice(e-i,e),n.slice(e,e+i)),s)return s;return!1}function _9(n,e,t,i,r){let s=OD(Hn(),n,e,t,i);return En(r,s)?ma(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:g9(n,e,t,i,function(o,a){return L6(r,o,a)}):!1}function t2(n,e,t,i,r){return!!(_9(n,e,t,i,r)||Vl(n,e,t,i,r[0],r[1])||Vl(n,e,t,i,r[0],r[3])||Vl(n,e,t,i,r[2],r[1])||Vl(n,e,t,i,r[2],r[3]))}function y9(n,e,t,i,r){if(!t2(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(p9(n,t[s-1],t[s],i,r)&&!_9(n,t[s-1],t[s],i,r))return!1;return!0}function v9(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let s=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=s}e+=i,t-=i}}function n2(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){let a=n[e],l=n[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function w9(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=n2(n,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function i2(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=n2(n,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&v9(n,e,a,i),e=a}return e}function I9(n,e){let t=[],i=0,r=0,s;for(let o=0,a=e.length;o<a;++o){let l=e[o],c=n2(n,i,l,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(r,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=o+1,i=l}return t}var lw=class n extends Bh{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Th(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Qv(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),c9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return aw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return f9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),i2(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Uh(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=ss(this.getExtent());this.flatInteriorPoint_=bm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new jh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new JD(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],s=0;for(let o=0,a=i.length;o<a;++o){let l=i[o],c=new JD(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;w9(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=i2(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=ow(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return y9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=d9(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},b9=lw;function r2(n){if(Pl(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],s=[e,t,e,r,i,r,i,t,e,t];return new lw(s,"XY",[s.length])}var Li={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var tt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Ia={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var hu={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};hu.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};hu.max=hu.whitepoint[2].D65;hu.rgb=function(n,e){e=e||hu.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],s,o,a;return s=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};Ia.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+i*.35758433938387+r*.18048078840183,o=t*.21263900587151+i*.71516867876775+r*.072192315360733,a=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||hu.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};var wr=hu;var cw={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,s,o,a,l,c,u,h,f,p,_,I;if(s=n[0],o=n[1],a=n[2],s===0)return[0,0,0];var b=.0011070564598794539;return e=e||"D65",t=t||2,h=wr.whitepoint[t][e][0],f=wr.whitepoint[t][e][1],p=wr.whitepoint[t][e][2],_=4*h/(h+15*f+3*p),I=9*f/(h+15*f+3*p),i=o/(13*s)+_||0,r=a/(13*s)+I||0,c=s>8?f*Math.pow((s+16)/116,3):f*s*b,l=c*9*i/(4*r)||0,u=c*(12-3*i-20*r)/(4*r)||0,[l,c,u]}};wr.luv=function(n,e,t){var i,r,s,o,a,l,c,u,h,f,p,_,I,b=.008856451679035631,E=903.2962962962961;e=e||"D65",t=t||2,h=wr.whitepoint[t][e][0],f=wr.whitepoint[t][e][1],p=wr.whitepoint[t][e][2],_=4*h/(h+15*f+3*p),I=9*f/(h+15*f+3*p),l=n[0],c=n[1],u=n[2],i=4*l/(l+15*c+3*u)||0,r=9*c/(l+15*c+3*u)||0;var M=c/f;return s=M<=b?E*M:116*Math.pow(M,1/3)-16,o=13*s*(i-_),a=13*s*(r-I),[s,o,a]};var C9={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,s,o;return o=i/360*2*Math.PI,r=t*Math.cos(o),s=t*Math.sin(o),[e,r,s]},xyz:function(n){return cw.xyz(C9.luv(n))}},E9=C9;cw.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]};wr.lchuv=function(n){return cw.lchuv(wr.luv(n))};var s2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var x9=Che,T9={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Che(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),s2[n])t=s2[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;i=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,h){if(u[u.length-1]==="%")return u=parseFloat(u)/100,h===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!h?u*100:r==="lab"?u*125:r==="lch"?h<2?u*150:u*360:r[0]==="o"&&!h?u:r==="oklab"?u*.4:r==="oklch"?h<2?u*.4:u*360:u;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(T9[u]!==void 0)return T9[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}var uw={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,s,o,a,l,c=0;if(t===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+t):i+t-i*t,r=2*i-s,a=[0,0,0];c<3;)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[c++]=l*255;return a}};Ia.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=s-r,a,l,c;return s===r?a=0:e===s?a=(t-i)/o:t===s?a=2+(i-e)/o:i===s&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,c*100]};function o2(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t,i,r=x9(n);if(!r.space)return[];let s=r.space[0]==="h"?uw.min:Ia.min,o=r.space[0]==="h"?uw.max:Ia.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],s[0]),o[0]),e[1]=Math.min(Math.max(r.values[1],s[1]),o[1]),e[2]=Math.min(Math.max(r.values[2],s[2]),o[2]),r.space[0]==="h"&&(e=uw.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function S9(n){return typeof n=="string"?n:Tm(n)}var Ehe=1024,Cm={},a2=0;function D9(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function l2(n){let e=wr.lchuv(Ia.xyz(n));return e[3]=n[3],e}function A9(n){let e=wr.rgb(E9.xyz(n));return e[3]=n[3],e}function Em(n){if(Cm.hasOwnProperty(n))return Cm[n];if(a2>=Ehe){let t=0;for(let i in Cm)t++&3||(delete Cm[i],--a2)}let e=o2(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(let t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return c2(e),Cm[n]=e,++a2,e}function ba(n){return Array.isArray(n)?n:Em(n)}function c2(n){return n[0]=Wt(n[0]+.5|0,0,255),n[1]=Wt(n[1]+.5|0,0,255),n[2]=Wt(n[2]+.5|0,0,255),n[3]=Wt(n[3],0,1),n}function Tm(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}var Bl=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",R9=Bl.includes("firefox"),The=Bl.includes("safari")&&!Bl.includes("chrom"),ZLe=The&&(Bl.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Bl)),M9=Bl.includes("webkit")&&!Bl.includes("edge"),u2=Bl.includes("macintosh"),dw=typeof devicePixelRatio<"u"?devicePixelRatio:1,hw=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,d2=typeof Image<"u"&&Image.prototype.decode;var fw=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function qt(n,e,t,i){let r;return t&&t.length?r=t.shift():hw?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var h2;function zh(){return h2||(h2=qt(1,1)),h2}function yo(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function f2(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function k9(n){for(;n.lastChild;)n.lastChild.remove()}function P9(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--i;continue}n.insertBefore(s,r)}}}function O9(n,e,t){let i=n,r=!0,s=!1,o=!1,a=[xh(i,De.LOAD,function(){o=!0,s||e()})];return i.src&&d2?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():t())})):a.push(xh(i,De.ERROR,t)),function(){r=!1,a.forEach(At)}}function xhe(n,e){return new Promise((t,i)=>{function r(){o(),t(n)}function s(){o(),i(new Error("Image load error"))}function o(){n.removeEventListener("load",r),n.removeEventListener("error",s)}n.addEventListener("load",r),n.addEventListener("error",s),e&&(n.src=e)})}function F9(n,e){return e&&(n.src=e),n.src&&d2?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):xhe(n)}var m2=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=p2(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=p2(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,s){let o=p2(e,t,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===tt.IDLE&&r.load(),r.getImageState()===tt.LOADING?r.ready().then(()=>{this.patternCache_[o]=zh().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=zh().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function p2(n,e,t){let i=t?ba(t):"null";return e+":"+n+":"+i}var Hr=new m2;var xm=null,g2=class extends Ml{constructor(e,t,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?tt.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===tt.LOADED){xm||(xm=qt(1,1,void 0,{willReadFrequently:!0})),xm.drawImage(this.image_,0,0);try{xm.getImageData(0,0,1,1),this.tainted_=!1}catch{xm=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(De.CHANGE)}handleImageError_(){this.imageState_=tt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=tt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=qt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===tt.IDLE){this.image_||this.initializeImage_(),this.imageState_=tt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&F9(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==tt.LOADED)return;let t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);let r=i.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=S9(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===tt.LOADED||this.imageState_===tt.ERROR)e();else{let t=()=>{(this.imageState_===tt.LOADED||this.imageState_===tt.ERROR)&&(this.removeEventListener(De.CHANGE,t),e())};this.addEventListener(De.CHANGE,t)}})),this.ready_}};function Hh(n,e,t,i,r,s){let o=e===void 0?void 0:Hr.get(e,t,r);return o||(o=new g2(n,n&&"src"in n?n.src||void 0:e,t,i,r),Hr.set(e,t,r,o,s)),s&&o&&!Hr.getPattern(e,t,r)&&Hr.set(e,t,r,o,s),o}var _2=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=Hh(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===tt.IDLE&&t.load(),t.getImageState()===tt.LOADING&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},$h=_2;function y2(n,e,t,i,r,s,o){let a,l,c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=n[e],h=n[e+1],f=0,p=[0];for(let b=e+i;b<t;b+=i){let E=n[b],M=n[b+1];f+=Math.sqrt((E-u)*(E-u)+(M-h)*(M-h)),p.push(f),u=E,h=M}let _=r*f,I=T6(p,_);I<0?(l=(_-p[-I-2])/(p[-I-1]-p[-I-2]),a=e+(-I-2)*i):a=e+I*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?n[a+u]:Xi(n[a+u],n[a+i+u],l);return s}function L9(n,e,t,i){let r=n[e],s=n[e+1],o=0;for(let a=e+i;a<t;a+=i){let l=n[a],c=n[a+1];o+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return o}var v2=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},pw=v2;function w2(n){return n[0]>0&&n[1]>0}function N9(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function On(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var I2=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=On(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Et()}getImage(e){return Et()}getHitDetectionImage(){return Et()}getPixelRatio(e){return 1}getImageState(){return Et()}getImageSize(){return Et()}getOrigin(){return Et()}getSize(){return Et()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=On(e)}listenImageChange(e){Et()}load(){Et()}unlistenImageChange(e){Et()}ready(){return Promise.resolve()}},mw=I2;function Ir(n){return n?Array.isArray(n)?Tm(n):typeof n=="object"&&"src"in n?She(n):n:null}function She(n){if(!n.offset||!n.size)return Hr.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=Hr.getPattern(e,void 0,n.color);if(t)return t;let i=Hr.get(n.src,"anonymous",null);if(i.getImageState()!==tt.LOADED)return null;let r=qt(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Hh(r.canvas,e,void 0,tt.LOADED,n.color,!0),Hr.getPattern(e,void 0,n.color)}var Sm="ol-hidden";var Ul="ol-unselectable";var Gh="ol-control",b2="ol-collapsed",Dhe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),V9=["style","variant","weight","size","lineHeight","family"],C2=function(n){let e=n.match(Dhe);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=V9.length;i<r;++i){let s=e[i+1];s!==void 0&&(t[V9[i]]=s)}return t.families=t.family.split(/,\s?/),t};var _w="10px sans-serif",hi="#000",wo="round",br=[],Cr=0,Io="round",Ca=10,Ea="#000",jl="center",fu="middle",Ta=[0,0,0,0],xa=1,vo=new ei,Wh=null,E2,T2={},B9=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",s,o;function a(c,u,h){let f=!0;for(let p=0;p<i;++p){let _=t[p];if(o=gw(c+" "+u+" "+e+_,r),h!=_){let I=gw(c+" "+u+" "+e+h+","+_,r);f=f&&I!=o}}return!!f}function l(){let c=!0,u=vo.getKeys();for(let h=0,f=u.length;h<f;++h){let p=u[h];if(vo.get(p)<100){let[_,I,b]=p.split(`
`);a(_,I,b)?(_o(T2),Wh=null,E2=void 0,vo.set(p,100)):(vo.set(p,vo.get(p)+1,!0),c=!1)}}c&&(clearInterval(s),s=void 0)}return function(c){let u=C2(c);if(!u)return;let h=u.families;for(let f=0,p=h.length;f<p;++f){let _=h[f],I=u.style+`
`+u.weight+`
`+_;vo.get(I)===void 0&&(vo.set(I,100,!0),a(u.style,u.weight,_)||(vo.set(I,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Ahe=function(){let n;return function(e){let t=T2[e];if(t==null){if(hw){let i=C2(e),r=U9(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);T2[e]=t}return t}}();function U9(n,e){return Wh||(Wh=qt(1,1)),n!=E2&&(Wh.font=n,E2=Wh.font),Wh.measureText(e)}function gw(n,e){return U9(n,e).width}function x2(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,s)=>Math.max(r,gw(n,s)),0);return t[e]=i,i}function j9(n,e){let t=[],i=[],r=[],s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let h=e[c];if(h===`
`||c===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}let f=e[c+1]||n.font,p=gw(f,h);t.push(p),o+=p;let _=Ahe(f);i.push(_),l=Math.max(l,_)}return{width:s,height:a,widths:t,heights:i,lineWidths:r}}function z9(n,e,t,i,r,s,o,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=h=>h.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),Rhe(i,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(i,r,s,o,a,0,0,o,a)):n.drawImage(i,r,s,o,a,l,c,o*u[0],a*u[1]),n.restore()}function Rhe(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var S2=class n extends mw{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?tt.LOADING:tt.LOADED,this.imageState_===tt.LOADING&&this.ready().then(()=>this.imageState_=tt.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){let i=this.renderOptions_,r=qt(i.size*e,i.size*e);this.draw_(i,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){let Y=r;r=s,s=Y}let o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),u=r-c,h=Math.sqrt(l*l+u*u),f=h/l;if(e==="miter"&&f<=i)return f*t;let p=t/2/f,_=t/2*(u/h),b=Math.sqrt((r+p)*(r+p)+_*_)-r;if(this.radius2_===void 0||e==="bevel")return b*2;let E=r*Math.sin(a),M=Math.sqrt(r*r-E*E),P=s-M,$=Math.sqrt(E*E+P*P)/E;if($<=i){let Y=$*t/2-s-r;return 2*Math.max(b,Y)}return b*2}createRenderOptions(){let e=wo,t=Io,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=Ir(this.stroke_.getColor()??Ea),a=this.stroke_.getWidth()??xa,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Io,e=this.stroke_.getLineCap()??wo,i=this.stroke_.getMiterLimit()??Ca);let l=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=hi),t.fillStyle=Ir(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=ba(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=qt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){let l=s+a*o,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=hi,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},yw=S2;var D2=class n extends yw{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},vw=D2;var ww=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=H9,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=H9,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function $9(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Qe(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var A2=null;function R2(n,e){if(!A2){let t=new $h({color:"rgba(255,255,255,0.4)"}),i=new pw({color:"#3399CC",width:1.25});A2=[new ww({image:new vw({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return A2}function H9(n){return n.getGeometry()}var zl=ww;var Mhe="#333",M2=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=On(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new $h({color:Mhe}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=On(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},G9=M2;var Zt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var k2=class extends ei{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Zt.OPACITY]=e.opacity!==void 0?e.opacity:1,Qe(typeof t[Zt.OPACITY]=="number","Layer opacity must be a number"),t[Zt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Zt.Z_INDEX]=e.zIndex,t[Zt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Zt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Zt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Zt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Wt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Et()}getLayerStatesArray(e){return Et()}getExtent(){return this.get(Zt.EXTENT)}getMaxResolution(){return this.get(Zt.MAX_RESOLUTION)}getMinResolution(){return this.get(Zt.MIN_RESOLUTION)}getMinZoom(){return this.get(Zt.MIN_ZOOM)}getMaxZoom(){return this.get(Zt.MAX_ZOOM)}getOpacity(){return this.get(Zt.OPACITY)}getSourceState(){return Et()}getVisible(){return this.get(Zt.VISIBLE)}getZIndex(){return this.get(Zt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Zt.EXTENT,e)}setMaxResolution(e){this.set(Zt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Zt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Zt.MAX_ZOOM,e)}setMinZoom(e){this.set(Zt.MIN_ZOOM,e)}setOpacity(e){Qe(typeof e=="number","Layer opacity must be a number"),this.set(Zt.OPACITY,e)}setVisible(e){this.set(Zt.VISIBLE,e)}setZIndex(e){this.set(Zt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Iw=k2;var fi={ANIMATING:0,INTERACTING:1};var ls={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function P2(n,e,t){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;let l=e?0:s[0]*r,c=e?0:s[1]*r,u=a?a[0]:0,h=a?a[1]:0,f=n[0]+l/2+u,p=n[2]-l/2+u,_=n[1]+c/2+h,I=n[3]-c/2+h;f>p&&(f=(p+f)/2,p=f),_>I&&(_=(I+_)/2,I=_);let b=Wt(i[0],f,p),E=Wt(i[1],_,I);if(o&&t&&r){let M=30*r;b+=-M*Math.log(1+Math.max(0,f-i[0])/M)+M*Math.log(1+Math.max(0,i[0]-p)/M),E+=-M*Math.log(1+Math.max(0,_-i[1])/M)+M*Math.log(1+Math.max(0,i[1]-I)/M)}return[b,E]}}function W9(n){return n}function O2(n,e,t,i){let r=ft(e)/t[0],s=wn(e)/t[1];return i?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function F2(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Wt(i,t/2,e*2)}function q9(n,e,t,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){let l=n[0],c=n[n.length-1],u=t?O2(l,t,o,i):l;if(a)return e?F2(r,u,c):Wt(r,c,u);let h=Math.min(u,r),f=Math.floor(Eh(n,h,s));return n[f]>u&&f<n.length-1?n[f+1]:n[f]}}}function K9(n,e,t,i,r,s){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(o,a,l,c){if(o!==void 0){let u=r?O2(e,r,l,s):e;if(c)return i?F2(o,u,t):Wt(o,t,u);let h=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(n)-h),p=-a*(.5-h)+.5,_=Math.min(u,o),I=Math.floor(Math.log(e/_)/Math.log(n)+p),b=Math.max(f,I),E=e/Math.pow(n,b);return Wt(E,t,u)}}}function L2(n,e,t,i,r){return t=t!==void 0?t:!0,function(s,o,a,l){if(s!==void 0){let c=i?O2(n,i,a,r):n;return!t||!l?Wt(s,e,c):F2(s,c,e)}}}function qh(n){if(n!==void 0)return 0}function N2(n){if(n!==void 0)return n}function Y9(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Q9(n){let e=n===void 0?Nh(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}function V2(n){return Math.pow(n,3)}function cs(n){return 1-V2(1-n)}function Z9(n){return 3*n*n-2*n*n*n}function X9(n){return n}var B2=0,j2=class extends ei{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=rw(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&zD(),e.center&&(e.center=Fs(e.center,this.projection_)),e.extent&&(e.extent=as(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in ls)delete t[a];this.setProperties(t,!0);let i=Phe(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=khe(e),s=i.constraint,o=Ohe(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Fs(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Fs(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){i&&bw(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<t;++r){let u=arguments[r],h={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||Z9,callback:i};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;let f=wa(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}Fhe(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(fi.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[fi.ANIMATING]>0}getInteracting(){return this.hints_[fi.INTERACTING]>0}cancelAnimations(){this.setHint(fi.ANIMATING,-this.hints_[fi.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&bw(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){let a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],s=!0;for(let o=0,a=r.length;o<a;++o){let l=r[o];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;let h=l.easing(u);if(l.sourceCenter){let f=l.sourceCenter[0],p=l.sourceCenter[1],_=l.targetCenter[0],I=l.targetCenter[1];this.nextCenter_=l.targetCenter;let b=f+h*(_-f),E=p+h*(I-p);this.targetCenter_=[b,E]}if(l.sourceResolution&&l.targetResolution){let f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){let p=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(f,0,p,!0);this.targetCenter_=this.calculateCenterZoom(_,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=h===1?wa(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){let p=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(p,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(fi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let o=r[0].callback;o&&bw(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Vh(i,e-this.getRotation()),W6(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){let o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&wm(e,this.getProjection())}getCenterInternal(){return this.get(ls.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return Fl(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();Qe(t,"The view center is not defined");let i=this.getResolution();Qe(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return Qe(r!==void 0,"The view rotation is not defined"),pm(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(ls.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(as(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=ft(e)/t[0],r=wn(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(ls.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/t;return function(o){return Math.log(i/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),s=this.padding_;if(s){let o=this.getViewportSizeMinusPadding_();r=U2(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let s=Eh(this.resolutions_,e,1);t=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let t=Wt(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Wt(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Qe(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Qe(!Pl(e),"Cannot fit empty extent provided as `geometry`");let r=as(e,this.getProjection());i=r2(r)}else if(e.getType()==="Circle"){let r=as(e.getExtent(),this.getProjection());i=r2(r),i.rotate(this.getRotation(),ss(r))}else{let r=du();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,f=s.length;h<f;h+=o){let p=s[h]*i-s[h+1]*r,_=s[h]*r+s[h+1]*i;a=Math.min(a,p),l=Math.min(l,_),c=Math.max(c,p),u=Math.max(u,_)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1,o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);let c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),f=ss(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;let p=f[0]*h-f[1]*u,_=f[1]*h+f[0]*u,I=this.getConstrainedCenter([p,_],l),b=t.callback?t.callback:Ms;t.duration!==void 0?this.animateInternal({resolution:l,center:I,duration:t.duration,easing:t.easing},b):(this.targetResolution_=l,this.targetCenter_=I,this.applyTargetState_(!1,!0),bw(b,!0))}centerOn(e,t,i){this.centerOnInternal(Fs(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(U2(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let s,o=this.padding_;if(o&&e){let a=this.getViewportSizeMinusPadding_(-i),l=U2(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=wm(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Fs(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Fs(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Fs(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(ls.ROTATION)!==r&&this.set(ls.ROTATION,r),this.get(ls.RESOLUTION)!==o&&(this.set(ls.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(ls.CENTER)||!au(this.get(ls.CENTER),a))&&this.set(ls.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!au(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:cs,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(fi.INTERACTING,1)}endInteraction(e,t,i){i=i&&Fs(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(fi.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function bw(n,e){setTimeout(function(){n(e)},0)}function khe(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return P2(n.extent,n.constrainOnlyCenter,t)}let e=rw(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,P2(t,!1,!1)}return W9}function Phe(n){let e,t,i,o=n.minZoom!==void 0?n.minZoom:B2,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,h=n.showFullExtent!==void 0?n.showFullExtent:!1,f=rw(n.projection,"EPSG:3857"),p=f.getExtent(),_=n.constrainOnlyCenter,I=n.extent;if(!c&&!I&&f.isGlobal()&&(_=!1,I=p),n.resolutions!==void 0){let b=n.resolutions;t=b[o],i=b[a]!==void 0?b[a]:b[b.length-1],n.constrainResolution?e=q9(b,u,!_&&I,h):e=L2(t,i,u,!_&&I,h)}else{let E=(p?Math.max(ft(p),wn(p)):360*_a.degrees/f.getMetersPerUnit())/256/Math.pow(2,B2),M=E/Math.pow(2,28-B2);t=n.maxResolution,t!==void 0?o=0:t=E/Math.pow(l,o),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,a):i=E/Math.pow(l,a):i=M),a=o+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-o),n.constrainResolution?e=K9(l,t,i,u,!_&&I,h):e=L2(t,i,u,!_&&I,h)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:l}}function Ohe(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?Q9():t===!1?N2:typeof t=="number"?Y9(t):N2}return qh}function Fhe(n){return!(n.sourceCenter&&n.targetCenter&&!au(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function U2(n,e,t,i,r){let s=Math.cos(-r),o=Math.sin(-r),a=n[0]*s-n[1]*o,l=n[1]*s+n[0]*o;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,o=-o;let c=a*s-l*o,u=l*s+a*o;return[c,u]}var Er=j2;var z2=class extends Iw{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Zt.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Zt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(At(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=ct(e,De.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Er?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();let s=this.getExtent();return Dm(r,t.viewState)&&(!s||En(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof Er?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Zt.MAP,e)}getMapInternal(){return this.get(Zt.MAP)}setMap(e){this.mapPrecomposeKey_&&(At(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(At(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ct(e,Li.PRECOMPOSE,t=>{let r=t.frameState.layerStatesArray,s=this.getLayerState(!1);Qe(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)}),this.mapRenderKey_=ct(this,De.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Zt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Dm(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var pu=z2;function H2(n,e,t,i,r){e7(n,e,t||0,i||n.length-1,r||Lhe)}function e7(n,e,t,i,r){for(;i>t;){if(i-t>600){var s=i-t+1,o=e-t+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1),u=Math.max(t,Math.floor(e-o*l/s+c)),h=Math.min(i,Math.floor(e+(s-o)*l/s+c));e7(n,e,u,h,r)}var f=n[e],p=t,_=i;for(Am(n,t,e),r(n[i],f)>0&&Am(n,t,i);p<_;){for(Am(n,p,_),p++,_--;r(n[p],f)<0;)p++;for(;r(n[_],f)>0;)_--}r(n[t],f)===0?Am(n,t,_):(_++,Am(n,_,i)),_<=e&&(t=_+1),e<=_&&(i=_-1)}}function Am(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function Lhe(n,e){return n<e?-1:n>e?1:0}var Qh=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!Ew(e,t))return i;let r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){let a=t.children[o],l=t.leaf?r(a):a;Ew(e,l)&&(t.leaf?i.push(a):G2(e,l)?this._all(a,i):s.push(a))}t=s.pop()}return i}collides(e){let t=this.data;if(!Ew(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let s=t.children[r],o=t.leaf?this.toBBox(s):s;if(Ew(e,o)){if(t.leaf||G2(e,o))return!0;i.push(s)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Yh([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),s=[],o=[],a,l,c;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),i.leaf){let u=Nhe(e,i.children,t);if(u!==-1)return i.children.splice(u,1),s.push(i),this._condense(s),this}!c&&!i.leaf&&G2(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let s=i-t+1,o=this._maxEntries,a;if(s<=o)return a=Yh(e.slice(t,i+1)),Kh(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=Yh([]),a.leaf=!1,a.height=r;let l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));t7(e,t,i,c,this.compareMinX);for(let u=t;u<=i;u+=c){let h=Math.min(u+c-1,i);t7(e,u,h,l,this.compareMinY);for(let f=u;f<=h;f+=l){let p=Math.min(f+l-1,h);a.children.push(this._build(e,f,p,r-1))}}return Kh(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=$2(c),h=Uhe(e,c)-u;h<o?(o=h,s=u<s?u:s,a=c):h===o&&u<s&&(s=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),Mm(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){let i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);let o=this._chooseSplitIndex(i,s,r),a=Yh(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,Kh(i,this.toBBox),Kh(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=Yh([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Kh(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,s=1/0,o=1/0;for(let a=t;a<=i-t;a++){let l=Rm(e,0,a,this.toBBox),c=Rm(e,a,i,this.toBBox),u=jhe(l,c),h=$2(l)+$2(c);u<s?(s=u,r=a,o=h<o?h:o):u===s&&h<o&&(o=h,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:Vhe,s=e.leaf?this.compareMinY:Bhe,o=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let s=this.toBBox,o=Rm(e,0,t,s),a=Rm(e,i-t,i,s),l=Cw(o)+Cw(a);for(let c=t;c<i-t;c++){let u=e.children[c];Mm(o,e.leaf?s(u):u),l+=Cw(o)}for(let c=i-t-1;c>=t;c--){let u=e.children[c];Mm(a,e.leaf?s(u):u),l+=Cw(a)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Mm(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Kh(e[t],this.toBBox)}};function Nhe(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Kh(n,e){Rm(n,0,n.children.length,e,n)}function Rm(n,e,t,i,r){r||(r=Yh(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){let o=n.children[s];Mm(r,n.leaf?i(o):o)}return r}function Mm(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function Vhe(n,e){return n.minX-e.minX}function Bhe(n,e){return n.minY-e.minY}function $2(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Cw(n){return n.maxX-n.minX+(n.maxY-n.minY)}function Uhe(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function jhe(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),s=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-i)}function G2(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Ew(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Yh(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function t7(n,e,t,i,r){let s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=i)continue;let o=e+Math.ceil((t-e)/i/2)*i;H2(n,o,e,t,r),s.push(e,o,o,t)}}function n7(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var W2=class n extends mw{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let o=e.img!==void 0?e.img:null,a=e.src;Qe(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||_t(o)),Qe(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Qe(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=tt.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?tt.LOADED:tt.IDLE:l=tt.LOADING:l=tt.LOADED),this.color_=e.color!==void 0?ba(e.color):null,this.iconImage_=Hh(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let p=this.iconImage_.getSize();this.setScale(n7(p[0],p[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(n7(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==tt.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==tt.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(De.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(De.CHANGE,e)}ready(){return this.iconImage_.ready()}},mu=W2;var gu=0;var Ji=1<<gu++,Lt=1<<gu++,ur=1<<gu++,$r=1<<gu++,$l=1<<gu++,Pm=1<<gu++,Tw=Math.pow(2,gu)-1,K2={[Ji]:"boolean",[Lt]:"number",[ur]:"string",[$r]:"color",[$l]:"number[]",[Pm]:"size"},zhe=Object.keys(K2).map(Number).sort(yr);function Hhe(n){return n in K2}function Om(n){let e=[];for(let t of zhe)Fm(n,t)&&e.push(K2[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Fm(n,e){return(n&e)===e}function Hl(n,e){return n===e}var Fn=class{constructor(e,t){if(!Hhe(e))throw new Error(`literal expressions must have a specific type, got ${Om(e)}`);this.type=e,this.value=t}},q2=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function Y2(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Si(n,e,t){switch(typeof n){case"boolean":{if(Hl(e,ur))return new Fn(ur,n?"true":"false");if(!Fm(e,Ji))throw new Error(`got a boolean, but expected ${Om(e)}`);return new Fn(Ji,n)}case"number":{if(Hl(e,Pm))return new Fn(Pm,On(n));if(Hl(e,Ji))return new Fn(Ji,!!n);if(Hl(e,ur))return new Fn(ur,n.toString());if(!Fm(e,Lt))throw new Error(`got a number, but expected ${Om(e)}`);return new Fn(Lt,n)}case"string":{if(Hl(e,$r))return new Fn($r,Em(n));if(Hl(e,Ji))return new Fn(Ji,!!n);if(!Fm(e,ur))throw new Error(`got a string, but expected ${Om(e)}`);return new Fn(ur,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return tfe(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Hl(e,Pm)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Fn(Pm,n)}if(Hl(e,$r)){if(n.length===3)return new Fn($r,[...n,1]);if(n.length===4)return new Fn($r,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!Fm(e,$l))throw new Error(`got an array of numbers, but expected ${Om(e)}`);return new Fn($l,n)}var te={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},$he={[te.Get]:rt(Tt(1,1/0),Ghe),[te.Var]:rt(Tt(1,1),Whe),[te.Id]:rt(qhe,km),[te.Concat]:rt(Tt(2,1/0),Xt(ur)),[te.GeometryType]:rt(Khe,km),[te.Resolution]:rt(km),[te.Zoom]:rt(km),[te.Time]:rt(km),[te.Any]:rt(Tt(2,1/0),Xt(Ji)),[te.All]:rt(Tt(2,1/0),Xt(Ji)),[te.Not]:rt(Tt(1,1),Xt(Ji)),[te.Equal]:rt(Tt(2,2),Xt(Tw)),[te.NotEqual]:rt(Tt(2,2),Xt(Tw)),[te.GreaterThan]:rt(Tt(2,2),Xt(Lt)),[te.GreaterThanOrEqualTo]:rt(Tt(2,2),Xt(Lt)),[te.LessThan]:rt(Tt(2,2),Xt(Lt)),[te.LessThanOrEqualTo]:rt(Tt(2,2),Xt(Lt)),[te.Multiply]:rt(Tt(2,1/0),i7),[te.Coalesce]:rt(Tt(2,1/0),i7),[te.Divide]:rt(Tt(2,2),Xt(Lt)),[te.Add]:rt(Tt(2,1/0),Xt(Lt)),[te.Subtract]:rt(Tt(2,2),Xt(Lt)),[te.Clamp]:rt(Tt(3,3),Xt(Lt)),[te.Mod]:rt(Tt(2,2),Xt(Lt)),[te.Pow]:rt(Tt(2,2),Xt(Lt)),[te.Abs]:rt(Tt(1,1),Xt(Lt)),[te.Floor]:rt(Tt(1,1),Xt(Lt)),[te.Ceil]:rt(Tt(1,1),Xt(Lt)),[te.Round]:rt(Tt(1,1),Xt(Lt)),[te.Sin]:rt(Tt(1,1),Xt(Lt)),[te.Cos]:rt(Tt(1,1),Xt(Lt)),[te.Atan]:rt(Tt(1,2),Xt(Lt)),[te.Sqrt]:rt(Tt(1,1),Xt(Lt)),[te.Match]:rt(Tt(4,1/0),r7,Qhe),[te.Between]:rt(Tt(3,3),Xt(Lt)),[te.Interpolate]:rt(Tt(6,1/0),r7,Zhe),[te.Case]:rt(Tt(3,1/0),Yhe,Xhe),[te.In]:rt(Tt(2,2),Jhe),[te.Number]:rt(Tt(1,1/0),Xt(Tw)),[te.String]:rt(Tt(1,1/0),Xt(Tw)),[te.Array]:rt(Tt(1,1/0),Xt(Lt)),[te.Color]:rt(Tt(1,4),Xt(Lt)),[te.Band]:rt(Tt(1,3),Xt(Lt)),[te.Palette]:rt(Tt(2,2),efe),[te.ToString]:rt(Tt(1,1),Xt(Ji|Lt|ur|$r))};function Ghe(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=n[s+1];switch(typeof o){case"number":{r[s]=new Fn(Lt,o);break}case"string":{r[s]=new Fn(ur,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return r}function Whe(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new Fn(ur,i)]}function qhe(n,e,t){t.featureId=!0}function Khe(n,e,t){t.geometryType=!0}function km(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Tt(n,e){return function(t,i,r){let s=t[0],o=t.length-1;if(n===e){if(o!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${s}, got ${o}`)}}else if(o<n||o>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function i7(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=Si(n[s+1],e,t);r[s]=o}return r}function Xt(n){return function(e,t,i){let r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){let a=Si(e[o+1],n,i);s[o]=a}return s}}function Yhe(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function r7(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Qhe(n,e,t){let i=n.length-1,r=ur|Lt|Ji,s=Si(n[1],r,t),o=Si(n[n.length-1],e,t),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Si(n[l+2],s.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Si(n[l+3],o.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function Zhe(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let s=new Fn(Lt,r),o;try{o=Si(n[2],Lt,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Si(n[l+3],Lt,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Si(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function Xhe(n,e,t){let i=Si(n[n.length-1],e,t),r=new Array(n.length-1);for(let s=0;s<r.length-1;s+=2){try{let o=Si(n[s+1],Ji,t);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{let o=Si(n[s+2],i.type,t);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function Jhe(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=ur}else r=Lt;let s=new Array(i.length);for(let a=0;a<s.length;a++)try{let l=Si(i[a],r,t);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Si(n[1],r,t),...s]}function efe(n,e,t){let i;try{i=Si(n[1],Lt,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Si(r[o],$r,t)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Fn))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function rt(...n){return function(e,t,i){let r=e[0],s;for(let o=0;o<n.length;o++){let a=n[o](e,t,i);if(o==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new q2(t,r,...s)}}function tfe(n,e,t){let i=n[0],r=$he[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function Q2(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Q2(n.getGeometries()[0]);default:return""}}function Z2(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function bo(n,e,t){let i=Si(n,e,t);return Ls(i,t)}function Ls(n,e){if(n instanceof Fn){if(n.type===$r&&typeof n.value=="string"){let i=Em(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case te.Number:case te.String:case te.Coalesce:return nfe(n,e);case te.Get:case te.Var:return ife(n,e);case te.Id:return i=>i.featureId;case te.GeometryType:return i=>i.geometryType;case te.Concat:{let i=n.args.map(r=>Ls(r,e));return r=>"".concat(...i.map(s=>s(r).toString()))}case te.Resolution:return i=>i.resolution;case te.Any:case te.All:case te.Between:case te.In:case te.Not:return sfe(n,e);case te.Equal:case te.NotEqual:case te.LessThan:case te.LessThanOrEqualTo:case te.GreaterThan:case te.GreaterThanOrEqualTo:return rfe(n,e);case te.Multiply:case te.Divide:case te.Add:case te.Subtract:case te.Clamp:case te.Mod:case te.Pow:case te.Abs:case te.Floor:case te.Ceil:case te.Round:case te.Sin:case te.Cos:case te.Atan:case te.Sqrt:return ofe(n,e);case te.Case:return afe(n,e);case te.Match:return lfe(n,e);case te.Interpolate:return cfe(n,e);case te.ToString:return ufe(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function nfe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Ls(n.args[s],e);switch(t){case te.Coalesce:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case te.Number:case te.String:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function ife(n,e){let i=n.args[0].value;switch(n.operator){case te.Get:return r=>{let s=n.args,o=r.properties[i];for(let a=1,l=s.length;a<l;++a){let u=s[a].value;o=o[u]}return o};case te.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function rfe(n,e){let t=n.operator,i=Ls(n.args[0],e),r=Ls(n.args[1],e);switch(t){case te.Equal:return s=>i(s)===r(s);case te.NotEqual:return s=>i(s)!==r(s);case te.LessThan:return s=>i(s)<r(s);case te.LessThanOrEqualTo:return s=>i(s)<=r(s);case te.GreaterThan:return s=>i(s)>r(s);case te.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function sfe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Ls(n.args[s],e);switch(t){case te.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case te.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case te.Between:return s=>{let o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case te.In:return s=>{let o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case te.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function ofe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Ls(n.args[s],e);switch(t){case te.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case te.Divide:return s=>r[0](s)/r[1](s);case te.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case te.Subtract:return s=>r[0](s)-r[1](s);case te.Clamp:return s=>{let o=r[0](s),a=r[1](s);if(o<a)return a;let l=r[2](s);return o>l?l:o};case te.Mod:return s=>r[0](s)%r[1](s);case te.Pow:return s=>Math.pow(r[0](s),r[1](s));case te.Abs:return s=>Math.abs(r[0](s));case te.Floor:return s=>Math.floor(r[0](s));case te.Ceil:return s=>Math.ceil(r[0](s));case te.Round:return s=>Math.round(r[0](s));case te.Sin:return s=>Math.sin(r[0](s));case te.Cos:return s=>Math.cos(r[0](s));case te.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case te.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function afe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Ls(n.args[r],e);return r=>{for(let s=0;s<t-1;s+=2)if(i[s](r))return i[s+1](r);return i[t-1](r)}}function lfe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Ls(n.args[r],e);return r=>{let s=i[0](r);for(let o=1;o<t;o+=2)if(s===i[o](r))return i[o+1](r);return i[t-1](r)}}function cfe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Ls(n.args[r],e);return r=>{let s=i[0](r),o=i[1](r),a,l;for(let c=2;c<t;c+=2){let u=i[c](r),h=i[c+1](r),f=Array.isArray(h);if(f&&(h=D9(h)),u>=o)return c===2?h:f?dfe(s,o,a,l,u,h):Lm(s,o,a,l,u,h);a=u,l=h}return l}}function ufe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Ls(n.args[s],e);switch(t){case te.ToString:return s=>{let o=r[0](s);return n.args[0].type===$r?Tm(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Lm(n,e,t,i,r,s){let o=r-t;if(o===0)return i;let a=e-t,l=n===1?a/o:(Math.pow(n,a)-1)/(Math.pow(n,o)-1);return i+l*(s-i)}function dfe(n,e,t,i,r,s){if(r-t===0)return i;let a=l2(i),l=l2(s),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[Lm(n,e,t,a[0],r,l[0]),Lm(n,e,t,a[1],r,l[1]),a[2]+Lm(n,e,t,0,r,c),Lm(n,e,t,i[3],r,s[3])];return c2(A9(u))}function hfe(n){return!0}function l7(n){let e=Y2(),t=ffe(n,e),i=Z2();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){let o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=Q2(r.getGeometry())),t(i)}}function eA(n){let e=Y2(),t=n.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=X2(n[o],e);let r=Z2(),s=new Array(t);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){let c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){let u=i[c](r);u&&(s[l]=u,l+=1)}return s.length=l,s}}function ffe(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let s=n[r],o="filter"in s?bo(s.filter,Ji,e):hfe,a;if(Array.isArray(s.style)){let l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=X2(s.style[c],e)}else a=[X2(s.style,e)];i[r]={filter:o,styles:a}}return function(r){let s=[],o=!1;for(let a=0;a<t;++a){let l=i[a].filter;if(l(r)&&!(n[a].else&&o)){o=!0;for(let c of i[a].styles){let u=c(r);u&&s.push(u)}}}return s}}function X2(n,e){let t=Nm(n,"",e),i=Vm(n,"",e),r=pfe(n,e),s=mfe(n,e),o=Tr(n,"z-index",e);if(!t&&!i&&!r&&!s&&!ks(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new zl;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(i){let u=i(l);u&&(c=!1),a.setStroke(u)}if(r){let u=r(l);u&&(c=!1),a.setText(u)}if(s){let u=s(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Nm(n,e,t){let i;if(e+"fill-pattern-src"in n)i=vfe(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return s=>null;i=tA(n,e+"fill-color",t)}if(!i)return null;let r=new $h;return function(s){let o=i(s);return o==="none"?null:(r.setColor(o),r)}}function Vm(n,e,t){let i=Tr(n,e+"stroke-width",t),r=tA(n,e+"stroke-color",t);if(!i&&!r)return null;let s=Sa(n,e+"stroke-line-cap",t),o=Sa(n,e+"stroke-line-join",t),a=c7(n,e+"stroke-line-dash",t),l=Tr(n,e+"stroke-line-dash-offset",t),c=Tr(n,e+"stroke-miter-limit",t),u=new pw;return function(h){if(r){let f=r(h);if(f==="none")return null;u.setColor(f)}if(i&&u.setWidth(i(h)),s){let f=s(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(o){let f=o(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function pfe(n,e){let t="text-",i=Sa(n,t+"value",e);if(!i)return null;let r=Nm(n,t,e),s=Nm(n,t+"background-",e),o=Vm(n,t,e),a=Vm(n,t+"background-",e),l=Sa(n,t+"font",e),c=Tr(n,t+"max-angle",e),u=Tr(n,t+"offset-x",e),h=Tr(n,t+"offset-y",e),f=Bm(n,t+"overflow",e),p=Sa(n,t+"placement",e),_=Tr(n,t+"repeat",e),I=Dw(n,t+"scale",e),b=Bm(n,t+"rotate-with-view",e),E=Tr(n,t+"rotation",e),M=Sa(n,t+"align",e),P=Sa(n,t+"justify",e),F=Sa(n,t+"baseline",e),$=c7(n,t+"padding",e),Y=Aw(n,t+"declutter-mode"),R=new G9({declutterMode:Y});return function(C){if(R.setText(i(C)),r&&R.setFill(r(C)),s&&R.setBackgroundFill(s(C)),o&&R.setStroke(o(C)),a&&R.setBackgroundStroke(a(C)),l&&R.setFont(l(C)),c&&R.setMaxAngle(c(C)),u&&R.setOffsetX(u(C)),h&&R.setOffsetY(h(C)),f&&R.setOverflow(f(C)),p){let T=p(C);if(T!=="point"&&T!=="line")throw new Error("Expected point or line for text-placement");R.setPlacement(T)}if(_&&R.setRepeat(_(C)),I&&R.setScale(I(C)),b&&R.setRotateWithView(b(C)),E&&R.setRotation(E(C)),M){let T=M(C);if(T!=="left"&&T!=="center"&&T!=="right"&&T!=="end"&&T!=="start")throw new Error("Expected left, right, center, start, or end for text-align");R.setTextAlign(T)}if(P){let T=P(C);if(T!=="left"&&T!=="right"&&T!=="center")throw new Error("Expected left, right, or center for text-justify");R.setJustify(T)}if(F){let T=F(C);if(T!=="bottom"&&T!=="top"&&T!=="middle"&&T!=="alphabetic"&&T!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");R.setTextBaseline(T)}return $&&R.setPadding($(C)),R}}function mfe(n,e){return"icon-src"in n?gfe(n,e):"shape-points"in n?_fe(n,e):"circle-radius"in n?yfe(n,e):null}function gfe(n,e){let t="icon-",i=t+"src",r=u7(n[i],i),s=xw(n,t+"anchor",e),o=Dw(n,t+"scale",e),a=Tr(n,t+"opacity",e),l=xw(n,t+"displacement",e),c=Tr(n,t+"rotation",e),u=Bm(n,t+"rotate-with-view",e),h=o7(n,t+"anchor-origin"),f=a7(n,t+"anchor-x-units"),p=a7(n,t+"anchor-y-units"),_=Cfe(n,t+"color"),I=Ife(n,t+"cross-origin"),b=bfe(n,t+"offset"),E=o7(n,t+"offset-origin"),M=Sw(n,t+"width"),P=Sw(n,t+"height"),F=wfe(n,t+"size"),$=Aw(n,t+"declutter-mode"),Y=new mu({src:r,anchorOrigin:h,anchorXUnits:f,anchorYUnits:p,color:_,crossOrigin:I,offset:b,offsetOrigin:E,height:P,width:M,size:F,declutterMode:$});return function(R){return a&&Y.setOpacity(a(R)),l&&Y.setDisplacement(l(R)),c&&Y.setRotation(c(R)),u&&Y.setRotateWithView(u(R)),o&&Y.setScale(o(R)),s&&Y.setAnchor(s(R)),Y}}function _fe(n,e){let t="shape-",i=t+"points",r=t+"radius",s=J2(n[i],i),o=J2(n[r],r),a=Nm(n,t,e),l=Vm(n,t,e),c=Dw(n,t+"scale",e),u=xw(n,t+"displacement",e),h=Tr(n,t+"rotation",e),f=Bm(n,t+"rotate-with-view",e),p=Sw(n,t+"radius2"),_=Sw(n,t+"angle"),I=Aw(n,t+"declutter-mode"),b=new yw({points:s,radius:o,radius2:p,angle:_,declutterMode:I});return function(E){return a&&b.setFill(a(E)),l&&b.setStroke(l(E)),u&&b.setDisplacement(u(E)),h&&b.setRotation(h(E)),f&&b.setRotateWithView(f(E)),c&&b.setScale(c(E)),b}}function yfe(n,e){let t="circle-",i=Nm(n,t,e),r=Vm(n,t,e),s=Tr(n,t+"radius",e),o=Dw(n,t+"scale",e),a=xw(n,t+"displacement",e),l=Tr(n,t+"rotation",e),c=Bm(n,t+"rotate-with-view",e),u=Aw(n,t+"declutter-mode"),h=new vw({radius:5,declutterMode:u});return function(f){return s&&h.setRadius(s(f)),i&&h.setFill(i(f)),r&&h.setStroke(r(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),c&&h.setRotateWithView(c(f)),o&&h.setScale(o(f)),h}}function Tr(n,e,t){if(!(e in n))return;let i=bo(n[e],Lt,t);return function(r){return J2(i(r),e)}}function Sa(n,e,t){if(!(e in n))return null;let i=bo(n[e],ur,t);return function(r){return u7(i(r),e)}}function vfe(n,e,t){let i=Sa(n,e+"pattern-src",t),r=s7(n,e+"pattern-offset",t),s=s7(n,e+"pattern-size",t),o=tA(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function Bm(n,e,t){if(!(e in n))return null;let i=bo(n[e],Ji,t);return function(r){let s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function tA(n,e,t){if(!(e in n))return null;let i=bo(n[e],$r,t);return function(r){return d7(i(r),e)}}function c7(n,e,t){if(!(e in n))return null;let i=bo(n[e],$l,t);return function(r){return Um(i(r),e)}}function xw(n,e,t){if(!(e in n))return null;let i=bo(n[e],$l,t);return function(r){let s=Um(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function s7(n,e,t){if(!(e in n))return null;let i=bo(n[e],$l,t);return function(r){return h7(i(r),e)}}function Dw(n,e,t){if(!(e in n))return null;let i=bo(n[e],$l|Lt,t);return function(r){return Efe(i(r),e)}}function Sw(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function wfe(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return On(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function Ife(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function o7(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function a7(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function bfe(n,e){let t=n[e];if(t!==void 0)return Um(t,e)}function Aw(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function Cfe(n,e){let t=n[e];if(t!==void 0)return d7(t,e)}function Um(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function u7(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function J2(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function d7(n,e){if(typeof n=="string")return n;let t=Um(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function h7(n,e){let t=Um(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function Efe(n,e){return typeof n=="number"?n:h7(n,e)}var f7={RENDER_ORDER:"renderOrder"},nA=class extends pu{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(f7.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Qh(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(f7.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?R2:e;let t=Tfe(e);this.styleFunction_=e===null?void 0:$9(t),this.changed()}};function Tfe(n){if(n===void 0)return R2;if(!n)return null;if(typeof n=="function"||n instanceof zl)return n;if(!Array.isArray(n))return eA([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof zl){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!(o instanceof zl))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return l7(r)}return eA(n)}var Rw=nA;var jm={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},zm=[jm.FILL],Co=[jm.STROKE],Da=[jm.BEGIN_PATH],iA=[jm.CLOSE_PATH],je=jm;var rA=class{drawCustom(e,t,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Mw=rA;var sA=class extends Mw{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates,o=s.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Ps(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,i,r,s,o){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();o&&(t+=r);let u=e[t],h=e[t+1],f=this.tmpCoordinate_,p=!0,_,I,b;for(_=t+r;_<i;_+=r)f[0]=e[_],f[1]=e[_+1],b=Kv(c,f),b!==I?(p&&(a[l++]=u,a[l++]=h,p=!1),a[l++]=f[0],a[l++]=f[1]):b===ti.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],p=!1):p=!0,u=f[0],h=f[1],I=b;return(s&&p||_===t+r)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,i,r,s){for(let o=0,a=i.length;o<a;++o){let l=i[o],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);s.push(c),t=l}return t}drawCustom(e,t,i,r,s){this.beginGeometry(e,t,s);let o=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,h,f,p;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];let _=e.getEndss();p=0;for(let I=0,b=_.length;I<b;++I){let E=[];p=this.drawCustomCoordinates_(c,p,_[I],a,E),f.push(E)}this.instructions.push([je.CUSTOM,l,f,e,i,QD,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,f,e,r||i,QD,s]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([je.CUSTOM,l,h,e,i,Uh,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,h,e,r||i,Uh,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([je.CUSTOM,l,u,e,i,Nl,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,Nl,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([je.CUSTOM,l,u,e,i,Nl,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,Nl,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([je.CUSTOM,l,u,e,i,void 0,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,void 0,s]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[je.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[je.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,s,o=-1;for(t=0;t<i;++t)r=e[t],s=r[0],s==je.END_GEOMETRY?o=t:s==je.BEGIN_GEOMETRY&&(r[2]=t,x6(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){let i=this.state;if(e){let r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=Ir(r||hi)}else i.fillStyle=void 0;if(t){let r=t.getColor();i.strokeStyle=Ir(r||Ea);let s=t.getLineCap();i.lineCap=s!==void 0?s:wo;let o=t.getLineDash();i.lineDash=o?o.slice():br;let a=t.getLineDashOffset();i.lineDashOffset=a||Cr;let l=t.getLineJoin();i.lineJoin=l!==void 0?l:Io;let c=t.getWidth();i.lineWidth=c!==void 0?c:xa;let u=t.getMiterLimit();i.miterLimit=u!==void 0?u:Ca,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){let t=e.fillStyle,i=[je.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[je.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!Zi(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[je.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Yv(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;Ah(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Eo=sA;var oA=class extends Eo{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Ps(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([je.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([je.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Ps(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);let o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([je.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([je.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},p7=oA;var aA=class extends Eo{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[je.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,Cr],Da);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Co),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,Cr],Da);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,f=a.length;h<f;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(Co),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Co),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Co),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Da)}},m7=aA;var lA=class extends Eo{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=i.length;this.instructions.push(Da),this.hitDetectionInstructions.push(Da);for(let c=0;c<l;++c){let u=i[c],h=this.coordinates.length,f=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),p=[je.MOVE_TO_LINE_TO,h,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(iA),this.hitDetectionInstructions.push(iA)),t=u}return o&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),a&&(this.instructions.push(Co),this.hitDetectionInstructions.push(Co)),t}drawCircle(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,hi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,Cr]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[je.CIRCLE,c];this.instructions.push(Da,u),this.hitDetectionInstructions.push(Da,u),r.fillStyle!==void 0&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),r.strokeStyle!==void 0&&(this.instructions.push(Co),this.hitDetectionInstructions.push(Co)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,hi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,Cr]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,hi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,Cr]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,f=a.length;h<f;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Ll(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},cA=lA;function g7(n,e,t,i,r){let s=[],o=t,a=0,l=e.slice(t,2);for(;a<n&&o+r<i;){let[c,u]=l.slice(-2),h=e[o+r],f=e[o+r+1],p=Math.sqrt((h-c)*(h-c)+(f-u)*(f-u));if(a+=p,a>=n){let _=(n-a+p)/p,I=Xi(c,h,_),b=Xi(u,f,_);l.push(I,b),s.push(l),l=[I,b],a==n&&(o+=r),a=0}else if(a<n)l.push(e[o+r],e[o+r+1]),o+=r;else{let _=p-a,I=Xi(c,h,_/p),b=Xi(u,f,_/p);l.push(I,b),s.push(l),l=[I,b],a=0,o+=r}}return a>0&&s.push(l),s}function _7(n,e,t,i,r){let s=t,o=t,a=0,l=0,c=t,u,h,f,p,_,I,b,E,M,P;for(h=t;h<i;h+=r){let F=e[h],$=e[h+1];_!==void 0&&(M=F-_,P=$-I,p=Math.sqrt(M*M+P*P),b!==void 0&&(l+=f,u=Math.acos((b*M+E*P)/(f*p)),u>n&&(l>a&&(a=l,s=c,o=h),l=0,c=h-r)),f=p,b=M,E=P),_=F,I=$}return l+=p,l>a?[c,h]:[s,o]}var Hm={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},uA=class extends Eo{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[hi]={fillStyle:hi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,h=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!En(this.maxExtent,e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),c=="LineString")f=[u.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let b=e.getEndss();f=[];for(let E=0,M=b.length;E<M;++E)f.push(b[E][0])}this.beginGeometry(e,t,i);let p=o.repeat,_=p?void 0:o.textAlign,I=0;for(let b=0,E=f.length;b<E;++b){let M;p?M=g7(p*this.resolution,u,I,f[b],h):M=[u.slice(I,f[b])];for(let P=0,F=M.length;P<F;++P){let $=M[P],Y=0,R=$.length;if(_==null){let T=_7(o.maxAngle,$,0,$.length,2);Y=T[0],R=T[1]}for(let T=Y;T<R;T+=h)a.push($[T],$[T+1]);let C=a.length;I=f[b],this.drawChars_(l,C),l=C}}this.endGeometry(t)}else{let f=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||f.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":let M=e.getFlatInteriorPoints();u=[];for(let P=0,F=M.length;P<F;P+=3)o.overflow||f.push(M[P+2]/this.resolution),u.push(M[P],M[P+1]);if(u.length===0)return;h=2;break;default:}let p=this.appendFlatPointCoordinates(u,h);if(p===l)return;if(f&&(p-l)/2!==u.length/h){let M=l/2;f=f.filter((P,F)=>{let $=a[(M+F)*2]===u[F*h]&&a[(M+F)*2+1]===u[F*h+1];return $||--M,$})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,i);let _=o.padding;if(_!=Ta&&(o.scale[0]<0||o.scale[1]<0)){let M=o.padding[0],P=o.padding[1],F=o.padding[2],$=o.padding[3];o.scale[0]<0&&(P=-P,$=-$),o.scale[1]<0&&(M=-M,F=-F),_=[M,P,F,$]}let I=this.pixelRatio;this.instructions.push([je.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,_==Ta?Ta:_.map(function(M){return M*I}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let b=1/I,E=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=hi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([je.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[b,b],NaN,this.declutterMode_,this.declutterImageWithText_,_,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?hi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),o.backgroundFill&&(this.state.fillStyle=E,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||jl,justify:t.justify,textBaseline:t.textBaseline||fu,scale:t.scale});let o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=Hm[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([je.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,s,f*l,h,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([je.DRAW_CHARS,e,t,c,r.overflow,a&&hi,r.maxAngle,l,u,s,f*l,h,o,1/l,this.declutterMode_])}setTextStyle(e,t){let i,r,s;if(!e)this.text_="";else{let o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Ir(o.getColor()||hi)):(r=null,this.textFillState_=r);let a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);let _=a.getLineDash(),I=a.getLineDashOffset(),b=a.getWidth(),E=a.getMiterLimit();s.lineCap=a.getLineCap()||wo,s.lineDash=_?_.slice():br,s.lineDashOffset=I===void 0?Cr:I,s.lineJoin=a.getLineJoin()||Io,s.lineWidth=b===void 0?xa:b,s.miterLimit=E===void 0?Ca:E,s.strokeStyle=Ir(a.getColor()||Ea)}i=this.textState_;let l=e.getFont()||_w;B9(l);let c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||fu,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ta,i.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this.textRotation_=p===void 0?0:p,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:_t(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+_t(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},y7=uA;var xfe={Circle:cA,Default:Eo,Image:p7,LineString:m7,Polygon:cA,Text:y7},dA=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let s=i[r].finish();e[t][r]=s}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[t];if(s===void 0){let o=xfe[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s}return s}},v7=dA;var Sfe=5,hA=class extends Gv{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Sfe}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Et()}getData(e){return null}prepareFrame(e){return Et()}renderFrame(e,t){return Et()}forEachFeatureAtCoordinate(e,t,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===tt.LOADED||t.getState()===tt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=tt.LOADED&&t!=tt.ERROR&&e.addEventListener(De.CHANGE,this.boundHandleImageChange_),t==tt.IDLE&&(e.load(),t=e.getState()),t==tt.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},w7=hA;var fA=class extends Ci{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},kw=fA;var pA=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(zh(),{get:(e,t)=>{if(typeof zh()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let s=t[i];if(typeof s=="function"){s(e);continue}let o=t[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Pw=pA;var gA=[],Zh=null;function Dfe(){Zh=qt(1,1,void 0,{willReadFrequently:!0})}var mA=class extends w7{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Ti(),this.pixelTransform=Ti(),this.inversePixelTransform=Ti(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Zh||Dfe(),Zh.clearRect(0,0,1,1);let r;try{Zh.drawImage(e,t,i,1,1,0,0,1,1),r=Zh.getImageData(0,0,1,1).data}catch{return Zh=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Zi(ba(e.style.backgroundColor),ba(i)))){let a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=qt();let l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=os(i),s=Ph(i),o=kh(i),a=Mh(i);zn(t.coordinateToPixelTransform,r),zn(t.coordinateToPixelTransform,s),zn(t.coordinateToPixelTransform,o),zn(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;zn(l,r),zn(l,s),zn(l,o),zn(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(ft(i)/r*o),l=Math.round(wn(i)/r*o);Fi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),qv(this.inversePixelTransform,this.pixelTransform);let c=k6(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let s=new kw(e,this.inversePixelTransform,i,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Li.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Li.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Pw),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Li.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Li.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,s,o,a){let l=s/2,c=o/2,u=r/t,h=-u,f=-e[0]+a,p=-e[1];return Fi(this.tempTransform,l,c,u,h,-i,f,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}},Ow=mA;function I7(n,e,t,i,r,s,o,a,l,c,u,h){let f=n[e],p=n[e+1],_=0,I=0,b=0,E=0;function M(){_=f,I=p,e+=i,f=n[e],p=n[e+1],E+=b,b=Math.sqrt((f-_)*(f-_)+(p-I)*(p-I))}do M();while(e<t-i&&E+b<s);let P=b===0?0:(s-E)/b,F=Xi(_,f,P),$=Xi(I,p,P),Y=e-i,R=E,C=s+a*l(c,r,u);for(;e<t-i&&E+b<C;)M();P=b===0?0:(C-E)/b;let T=Xi(_,f,P),O=Xi(I,p,P),N;if(h){let Z=[F,$,T,O];sw(Z,0,4,2,h,Z,Z),N=Z[0]>Z[2]}else N=F>T;let V=Math.PI,k=[],Te=Y+i===e;e=Y,b=0,E=R,f=n[e],p=n[e+1];let Ee;if(Te){M(),Ee=Math.atan2(p-I,f-_),N&&(Ee+=Ee>0?-V:V);let Z=(T+F)/2,ie=(O+$)/2;return k[0]=[Z,ie,(C-s)/2,Ee,r],k}r=r.replace(/\n/g," ");for(let Z=0,ie=r.length;Z<ie;){M();let de=Math.atan2(p-I,f-_);if(N&&(de+=de>0?-V:V),Ee!==void 0){let re=de-Ee;if(re+=re>V?-2*V:re<-V?2*V:0,Math.abs(re)>o)return null}Ee=de;let Ae=Z,xe=0;for(;Z<ie;++Z){let re=N?ie-Z-1:Z,In=a*l(c,r[re],u);if(e+i<t&&E+b<s+xe+In/2)break;xe+=In}if(Z===Ae)continue;let ze=N?r.substring(ie-Ae,ie-Z):r.substring(Ae,Z);P=b===0?0:(s+xe/2-E)/b;let Ge=Xi(_,f,P),ut=Xi(I,p,P);k.push([Ge,ut,xe/2,de,ze]),s+=xe}return k}var Xh=Hn(),Gl=[],Aa=[],Ra=[],Wl=[];function b7(n){return n[3].declutterBox}var C7=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function _A(n,e){return e==="start"?e=C7.test(n)?"right":"left":e==="end"&&(e=C7.test(n)?"left":"right"),Hm[e]}function Afe(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var yA=class{constructor(e,t,i,r,s){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Ti(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new Pw:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let s=e+t+i+r;if(this.labels_[s])return this.labels_[s];let o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?Hm[l.justify]:_A(Array.isArray(e)?e[0]:e,l.textAlign||jl),f=r&&o.lineWidth?o.lineWidth:0,p=Array.isArray(e)?e:String(e).split(`
`).reduce(Afe,[]),{width:_,height:I,widths:b,heights:E,lineWidths:M}=j9(l,p),P=_+f,F=[],$=(P+2)*u[0],Y=(I+f)*u[1],R={width:$<0?Math.floor($):Math.ceil($),height:Y<0?Math.floor(Y):Math.ceil(Y),contextInstructions:F};(u[0]!=1||u[1]!=1)&&F.push("scale",u),r&&(F.push("strokeStyle",o.strokeStyle),F.push("lineWidth",f),F.push("lineCap",o.lineCap),F.push("lineJoin",o.lineJoin),F.push("miterLimit",o.miterLimit),F.push("setLineDash",[o.lineDash]),F.push("lineDashOffset",o.lineDashOffset)),i&&F.push("fillStyle",a.fillStyle),F.push("textBaseline","middle"),F.push("textAlign","center");let C=.5-h,T=h*P+C*f,O=[],N=[],V=0,k=0,Te=0,Ee=0,Z;for(let ie=0,de=p.length;ie<de;ie+=2){let Ae=p[ie];if(Ae===`
`){k+=V,V=0,T=h*P+C*f,++Ee;continue}let xe=p[ie+1]||l.font;xe!==Z&&(r&&O.push("font",xe),i&&N.push("font",xe),Z=xe),V=Math.max(V,E[Te]);let ze=[Ae,T+C*b[Te]+h*(b[Te]-M[Ee]),.5*(f+V)+k];T+=b[Te],r&&O.push("strokeText",ze),i&&N.push("fillText",ze),++Te}return Array.prototype.push.apply(F,O),Array.prototype.push.apply(F,N),this.labels_[s]=R,R}replayTextBackground_(e,t,i,r,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,s,o,a,l,c,u,h,f,p,_,I,b){a*=f[0],l*=f[1];let E=i-a,M=r-l,P=s+c>e?e-c:s,F=o+u>t?t-u:o,$=_[3]+P*f[0]+_[1],Y=_[0]+F*f[1]+_[2],R=E-_[3],C=M-_[0];(I||h!==0)&&(Gl[0]=R,Wl[0]=R,Gl[1]=C,Aa[1]=C,Aa[0]=R+$,Ra[0]=Aa[0],Ra[1]=C+Y,Wl[1]=Ra[1]);let T;return h!==0?(T=Fi(Ti(),i,r,1,1,h,-i,-r),zn(T,Gl),zn(T,Aa),zn(T,Ra),zn(T,Wl),zr(Math.min(Gl[0],Aa[0],Ra[0],Wl[0]),Math.min(Gl[1],Aa[1],Ra[1],Wl[1]),Math.max(Gl[0],Aa[0],Ra[0],Wl[0]),Math.max(Gl[1],Aa[1],Ra[1],Wl[1]),Xh)):zr(Math.min(R,R+$),Math.min(C,C+Y),Math.max(R,R+$),Math.max(C,C+Y),Xh),p&&(E=Math.round(E),M=Math.round(M)),{drawImageX:E,drawImageY:M,drawImageW:P,drawImageH:F,originX:c,originY:u,declutterBox:{minX:Xh[0],minY:Xh[1],maxX:Xh[2],maxY:Xh[3],value:b},canvasTransform:T,scale:f}}replayImageOrLabel_(e,t,i,r,s,o,a){let l=!!(o||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Gl,Aa,Ra,Wl,o,a),z9(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=zn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let s=this.textStates[t],o=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=_A(Array.isArray(e)?e[0]:e,s.textAlign||jl),u=Hm[s.textBaseline||fu],h=a&&a.lineWidth?a.lineWidth:0,f=o.width/l-2*s.scale[0],p=c*f+2*(.5-c)*h,_=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:p,anchorY:_}}execute_(e,t,i,r,s,o,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&Zi(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=vr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),M6(this.renderedTransform_,i));let h=0,f=r.length,p=0,_,I,b,E,M,P,F,$,Y,R,C,T,O,N=0,V=0,k=null,Te=null,Ee=this.coordinateCache_,Z=this.viewRotation_,ie=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,de={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},Ae=this.instructions!=r||this.overlaps?0:200,xe,ze,Ge,ut;for(;h<f;){let re=r[h];switch(re[0]){case je.BEGIN_GEOMETRY:xe=re[1],ut=re[3],xe.getGeometry()?a!==void 0&&!En(a,ut.getExtent())?h=re[2]+1:++h:h=re[2],c&&(c.zIndex=re[4]);break;case je.BEGIN_PATH:N>Ae&&(this.fill_(e),N=0),V>Ae&&(e.stroke(),V=0),!N&&!V&&(e.beginPath(),M=NaN,P=NaN),++h;break;case je.CIRCLE:p=re[1];let Ln=u[p],yt=u[p+1],$n=u[p+2],vn=u[p+3],Tn=$n-Ln,Di=vn-yt,Mo=Math.sqrt(Tn*Tn+Di*Di);e.moveTo(Ln+Mo,yt),e.arc(Ln,yt,Mo,0,2*Math.PI,!0),++h;break;case je.CLOSE_PATH:e.closePath(),++h;break;case je.CUSTOM:p=re[1],_=re[2];let ka=re[3],Zl=re[4],ko=re[5];de.geometry=ka,de.feature=xe,h in Ee||(Ee[h]=[]);let js=Ee[h];ko?ko(u,p,_,2,js):(js[0]=u[p],js[1]=u[p+1],js.length=2),c&&(c.zIndex=re[6]),Zl(js,de),++h;break;case je.DRAW_IMAGE:p=re[1],_=re[2],Y=re[3],I=re[4],b=re[5];let er=re[6],Kr=re[7],Po=re[8],Oo=re[9],Fo=re[10],zs=re[11],Pa=re[12],Hs=re[13];E=re[14]||"declutter";let xn=re[15];if(!Y&&re.length>=20){R=re[19],C=re[20],T=re[21],O=re[22];let tr=this.drawLabelWithPointPlacement_(R,C,T,O);Y=tr.label,re[3]=Y;let Yr=re[23];I=(tr.anchorX-Yr)*this.pixelRatio,re[4]=I;let nr=re[24];b=(tr.anchorY-nr)*this.pixelRatio,re[5]=b,er=Y.height,re[6]=er,Hs=Y.width,re[13]=Hs}let Xl;re.length>25&&(Xl=re[25]);let Gn,Wn,Lo;re.length>17?(Gn=re[16],Wn=re[17],Lo=re[18]):(Gn=Ta,Wn=!1,Lo=!1),Fo&&ie?zs+=Z:!Fo&&!ie&&(zs-=Z);let rg=0;for(;p<_;p+=2){if(Xl&&Xl[rg++]<Hs/this.pixelRatio)continue;let tr=this.calculateImageOrLabelDimensions_(Y.width,Y.height,u[p],u[p+1],Hs,er,I,b,Po,Oo,zs,Pa,s,Gn,Wn||Lo,xe),Yr=[e,t,Y,tr,Kr,Wn?k:null,Lo?Te:null];if(l){let nr,Vi,ir;if(xn){let rn=_-p;if(!xn[rn]){xn[rn]={args:Yr,declutterMode:E};continue}let Nn=xn[rn];nr=Nn.args,Vi=Nn.declutterMode,delete xn[rn],ir=b7(nr)}let gn,Qr;if(nr&&(Vi!=="declutter"||!l.collides(ir))&&(gn=!0),(E!=="declutter"||!l.collides(tr.declutterBox))&&(Qr=!0),Vi==="declutter"&&E==="declutter"){let rn=gn&&Qr;gn=rn,Qr=rn}gn&&(Vi!=="none"&&l.insert(ir),this.replayImageOrLabel_.apply(this,nr)),Qr&&(E!=="none"&&l.insert(tr.declutterBox),this.replayImageOrLabel_.apply(this,Yr))}else this.replayImageOrLabel_.apply(this,Yr)}++h;break;case je.DRAW_CHARS:let hf=re[1],sg=re[2],No=re[3],og=re[4];O=re[5];let ag=re[6],xu=re[7],lg=re[8];T=re[9];let ff=re[10];R=re[11],C=re[12];let Su=[re[13],re[13]];E=re[14]||"declutter";let Du=this.textStates[C],Oa=Du.font,ds=[Du.scale[0]*xu,Du.scale[1]*xu],Vo;Oa in this.widths_?Vo=this.widths_[Oa]:(Vo={},this.widths_[Oa]=Vo);let Au=L9(u,hf,sg,2),$s=Math.abs(ds[0])*x2(Oa,R,Vo);if(og||$s<=Au){let tr=this.textStates[C].textAlign,Yr=(Au-$s)*_A(R,tr),nr=I7(u,hf,sg,2,R,Yr,ag,Math.abs(ds[0]),x2,Oa,Vo,ie?0:this.viewRotation_);e:if(nr){let Vi=[],ir,gn,Qr,rn,Nn;if(T)for(ir=0,gn=nr.length;ir<gn;++ir){Nn=nr[ir],Qr=Nn[4],rn=this.createLabel(Qr,C,"",T),I=Nn[2]+(ds[0]<0?-ff:ff),b=No*rn.height+(.5-No)*2*ff*ds[1]/ds[0]-lg;let hs=this.calculateImageOrLabelDimensions_(rn.width,rn.height,Nn[0],Nn[1],rn.width,rn.height,I,b,0,0,Nn[3],Su,!1,Ta,!1,xe);if(l&&E==="declutter"&&l.collides(hs.declutterBox))break e;Vi.push([e,t,rn,hs,1,null,null])}if(O)for(ir=0,gn=nr.length;ir<gn;++ir){Nn=nr[ir],Qr=Nn[4],rn=this.createLabel(Qr,C,O,""),I=Nn[2],b=No*rn.height-lg;let hs=this.calculateImageOrLabelDimensions_(rn.width,rn.height,Nn[0],Nn[1],rn.width,rn.height,I,b,0,0,Nn[3],Su,!1,Ta,!1,xe);if(l&&E==="declutter"&&l.collides(hs.declutterBox))break e;Vi.push([e,t,rn,hs,1,null,null])}l&&E!=="none"&&l.load(Vi.map(b7));for(let hs=0,_I=Vi.length;hs<_I;++hs)this.replayImageOrLabel_.apply(this,Vi[hs])}}++h;break;case je.END_GEOMETRY:if(o!==void 0){xe=re[1];let tr=o(xe,ut,E);if(tr)return tr}++h;break;case je.FILL:Ae?N++:this.fill_(e),++h;break;case je.MOVE_TO_LINE_TO:for(p=re[1],_=re[2],ze=u[p],Ge=u[p+1],e.moveTo(ze,Ge),M=ze+.5|0,P=Ge+.5|0,p+=2;p<_;p+=2)ze=u[p],Ge=u[p+1],F=ze+.5|0,$=Ge+.5|0,(p==_-2||F!==M||$!==P)&&(e.lineTo(ze,Ge),M=F,P=$);++h;break;case je.SET_FILL_STYLE:k=re,this.alignAndScaleFill_=re[2],N&&(this.fill_(e),N=0,V&&(e.stroke(),V=0)),e.fillStyle=re[1],++h;break;case je.SET_STROKE_STYLE:Te=re,V&&(e.stroke(),V=0),this.setStrokeStyle_(e,re),++h;break;case je.STROKE:Ae?V++:e.stroke(),++h;break;default:++h;break}}N&&this.fill_(e),V&&e.stroke()}execute(e,t,i,r,s,o){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,s)}},E7=yA;var _u=["Polygon","Circle","LineString","Image","Text","Default"],IA=["Image","Text"],T7=_u.filter(n=>!IA.includes(n)),wA=class{constructor(e,t,i,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Ti(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let s=e[i];for(let o in s){let a=s[o];r[o]=new E7(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,s,o){r=Math.round(r);let a=r*2+1,l=Fi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=qt(a,a,void 0,{willReadFrequently:!0}));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Hn(),ou(h,e),Ah(h,t*(this.renderBuffer_+r),h));let f=Rfe(r),p;function _($,Y,R){let C=u.getImageData(0,0,a,a).data;for(let T=0,O=f.length;T<O;T++)if(C[f[T]]>0){if(!o||R==="none"||p!=="Image"&&p!=="Text"||o.includes($)){let N=(f[T]-3)/4,V=r-N%a,k=r-(N/a|0),Te=s($,Y,V*V+k*k);if(Te)return Te}u.clearRect(0,0,a,a);break}}let I=Object.keys(this.executorsByZIndex_).map(Number);I.sort(yr);let b,E,M,P,F;for(b=I.length-1;b>=0;--b){let $=I[b].toString();for(M=this.executorsByZIndex_[$],E=_u.length-1;E>=0;--E)if(p=_u[E],P=M[p],P!==void 0&&(F=P.executeHitDetection(u,l,i,_,h),F))return F}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],s=t[2],o=t[3],a=[i,r,i,o,s,o,s,r];return vr(a,0,8,2,e,a),a}isEmpty(){return ks(this.executorsByZIndex_)}execute(e,t,i,r,s,o,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(yr),o=o||_u;let c=_u.length,u,h,f,p,_;for(a&&l.reverse(),u=0,h=l.length;u<h;++u){let I=l[u].toString();for(_=this.executorsByZIndex_[I],f=0,p=o.length;f<p;++f){let b=o[f],E=_[b];if(E!==void 0){let M=a===null?void 0:E.getZIndexContext(),P=M?M.getContext():e,F=this.maxExtent_&&b!=="Image"&&b!=="Text";if(F&&(P.save(),this.clip(P,i)),!M||b==="Text"||b==="Image"?E.execute(P,t,i,r,s,a):M.pushFunction($=>E.execute($,t,i,r,s,a)),F&&P.restore(),M){M.offset();let $=l[u]*c+f;this.deferredZIndexContexts_[$]||(this.deferredZIndexContexts_[$]=[]),this.deferredZIndexContexts_[$].push(M)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(yr);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[i]].length=0}},vA={};function Rfe(n){if(vA[n]!==void 0)return vA[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let s=0;s<=n;++s)for(let o=0;o<=n;++o){let a=s*s+o*o;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((n+s)*e+(n+o))*4+3),s>0&&l.push(((n-s)*e+(n+o))*4+3),o>0&&(l.push(((n+s)*e+(n-o))*4+3),s>0&&l.push(((n-s)*e+(n-o))*4+3))}let r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return vA[n]=r,r}var x7=wA;var bA=class extends Mw{constructor(e,t,i,r,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?tw(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ti()}drawImages_(e,t,i,r){if(!this.image_)return;let s=vr(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=s.length;u<h;u+=2){let f=s[u]-this.imageAnchorX_,p=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let _=f+this.imageAnchorX_,I=p+this.imageAnchorY_;Fi(a,_,I,1,1,c,-_,-I),o.save(),o.transform.apply(o,a),o.translate(_,I),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let s=vr(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){let l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,s){let o=this.context_,a=vr(e,t,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),i}drawRings_(e,t,i,r){for(let s=0,o=i.length;s<o;++s)t=this.moveToLineTo_(e,t,i[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!En(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=o9(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!En(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(En(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),s=0,o=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=o.length;l<c;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!En(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!En(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=s.length;a<l;++a){let c=s[a];r=this.drawRings_(i,r,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Zi(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:jl;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:Ir(i||hi)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||br;this.strokeState_={lineCap:r!==void 0?r:wo,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||Cr)*this.pixelRatio_,lineJoin:a!==void 0?a:Io,lineWidth:(l!==void 0?l:xa)*this.pixelRatio_,miterLimit:c!==void 0?c:Ca,strokeStyle:Ir(i||Ea)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let p=t.getColor();this.textFillState_={fillStyle:Ir(p||hi)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let p=i.getColor(),_=i.getLineCap(),I=i.getLineDash(),b=i.getLineDashOffset(),E=i.getLineJoin(),M=i.getWidth(),P=i.getMiterLimit();this.textStrokeState_={lineCap:_!==void 0?_:wo,lineDash:I||br,lineDashOffset:b||Cr,lineJoin:E!==void 0?E:Io,lineWidth:M!==void 0?M:xa,miterLimit:P!==void 0?P:Ca,strokeStyle:Ir(p||Ea)}}let r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:r!==void 0?r:_w,textAlign:h!==void 0?h:jl,textBaseline:f!==void 0?f:fu},this.text_=u!==void 0?Array.isArray(u)?u.reduce((p,_,I)=>p+=I%2?" ":_,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},S7=bA;var Ns=.5;function D7(n,e,t,i,r,s,o,a,l){let c=l?Fl(r,l):r,u=n[0]*Ns,h=n[1]*Ns,f=qt(u,h);f.imageSmoothingEnabled=!1;let p=f.canvas,_=new S7(f,Ns,r,null,o,a,l?cu(du(),l):null),I=t.length,b=Math.floor((256*256*256-1)/I),E={};for(let P=1;P<=I;++P){let F=t[P-1],$=F.getStyleFunction()||i;if(!$)continue;let Y=$(F,s);if(!Y)continue;Array.isArray(Y)||(Y=[Y]);let C=(P*b).toString(16).padStart(7,"#00000");for(let T=0,O=Y.length;T<O;++T){let N=Y[T],V=N.getGeometryFunction()(F);if(!V||!En(c,V.getExtent()))continue;let k=N.clone(),Te=k.getFill();Te&&Te.setColor(C);let Ee=k.getStroke();Ee&&(Ee.setColor(C),Ee.setLineDash(null)),k.setText(void 0);let Z=N.getImage();if(Z){let xe=Z.getImageSize();if(!xe)continue;let ze=qt(xe[0],xe[1],void 0,{alpha:!1}),Ge=ze.canvas;ze.fillStyle=C,ze.fillRect(0,0,Ge.width,Ge.height),k.setImage(new mu({img:Ge,anchor:Z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Z.getOrigin(),opacity:1,size:Z.getSize(),scale:Z.getScale(),rotation:Z.getRotation(),rotateWithView:Z.getRotateWithView()}))}let ie=k.getZIndex()||0,de=E[ie];de||(de={},E[ie]=de,de.Polygon=[],de.Circle=[],de.LineString=[],de.Point=[]);let Ae=V.getType();if(Ae==="GeometryCollection"){let xe=V.getGeometriesArrayRecursive();for(let ze=0,Ge=xe.length;ze<Ge;++ze){let ut=xe[ze];de[ut.getType().replace("Multi","")].push(ut,k)}}else de[Ae.replace("Multi","")].push(V,k)}}let M=Object.keys(E).map(Number).sort(yr);for(let P=0,F=M.length;P<F;++P){let $=E[M[P]];for(let Y in $){let R=$[Y];for(let C=0,T=R.length;C<T;C+=2){_.setStyle(R[C+1]);for(let O=0,N=e.length;O<N;++O)_.setTransform(e[O]),_.drawGeometry(R[C])}}}return f.getImageData(0,0,p.width,p.height)}function A7(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*Ns),s=Math.floor(Math.round(n[1])*Ns),o=(Wt(r,0,t.width-1)+Wt(s,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],u=t.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&i.push(e[u/h-1])}return i}var Mfe=.5,R7={Point:Vfe,LineString:Ffe,Polygon:Ufe,MultiPoint:Bfe,MultiLineString:Lfe,MultiPolygon:Nfe,GeometryCollection:Ofe,Circle:kfe};function M7(n,e){return parseInt(_t(n),10)-parseInt(_t(e),10)}function CA(n,e){let t=EA(n,e);return t*t}function EA(n,e){return Mfe*n/e}function kfe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function TA(n,e,t,i,r,s,o,a){let l=[],c=t.getImage();if(c){let f=!0,p=c.getImageState();p==tt.LOADED||p==tt.ERROR?f=!1:p==tt.IDLE&&c.load(),f&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),Pfe(n,e,t,i,s,o,a),h}function Pfe(n,e,t,i,r,s,o){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,r);if(t.getRenderer())k7(n,l,t,e,o);else{let u=R7[l.getType()];u(n,l,t,e,o,s)}}function k7(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)k7(n,o[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function Ofe(n,e,t,i,r,s){let o=e.getGeometriesArray(),a,l;for(a=0,l=o.length;a<l;++a){let c=R7[o[a].getType()];c(n,o[a],t,i,r,s)}}function Ffe(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Lfe(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Nfe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function Vfe(n,e,t,i,r,s){let o=t.getImage(),a=t.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=tt.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,i,r)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,r)}}function Bfe(n,e,t,i,r,s){let o=t.getImage(),a=o&&o.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=tt.LOADED)return;let h=n.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(e,i,r)}if(c){let h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,i,r)}}function Ufe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}var xA=class extends Ow{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Hn(),this.wrappedRenderedExtent_=Hn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,s=t.viewState,o=s.center,a=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),h=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),p=t.pixelRatio,_=t.viewHints,I=!(_[fi.ANIMATING]||_[fi.INTERACTING]),b=this.context,E=Math.round(ft(r)/a*p),M=Math.round(wn(r)/a*p),P=h.getWrapX()&&l.canWrapX(),F=P?ft(u):null,$=P?Math.ceil((r[2]-u[2])/F)+1:1,Y=P?Math.floor((r[0]-u[0])/F):0;do{let R=this.getRenderTransform(o,a,0,p,E,M,Y*F);t.declutter&&(R=R.slice(0)),e.execute(b,[b.canvas.width,b.canvas.height],R,c,I,i===void 0?_u:i?IA:T7,i?f&&t.declutter[f]:void 0)}while(++Y<$)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=qt(this.context.canvas.width,this.context.canvas.height,gA))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,yo(this.context),gA.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let s=this.context,o=this.replayGroup_,a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(Li.PRERENDER)||this.getLayer().hasListener(Li.POSTRENDER)))return null;this.setDrawContext_(),this.preRender(s,e);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=as(i.extent,l);a=En(c,e.extent),this.clipped_=a&&!ma(c,e.extent),this.clipped_&&this.clipUnrotated(s,e,c)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*Ns,f=i[1]*Ns;u.push(this.getRenderTransform(r,s,o,Ns,h,f,0).slice());let p=c.getSource(),_=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!ma(_,l)){let b=l[0],E=ft(_),M=0,P;for(;b<_[0];)--M,P=E*M,u.push(this.getRenderTransform(r,s,o,Ns,h,f,P).slice()),b+=E;for(M=0,b=l[2];b>_[2];)++M,P=E*M,u.push(this.getRenderTransform(r,s,o,Ns,h,f,P).slice()),b-=E}let I=du();this.hitDetectionImageData_=D7(i,u,this.renderedFeatures_,c.getStyleFunction(),l,s,o,CA(s,this.renderedPixelRatio_),I?a:null)}t(A7(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,s){if(!this.replayGroup_)return;let o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(_,I,b){let E=_t(_),M=c[E];if(M){if(M!==!0&&b<M.distanceSq){if(b===0)return c[E]=!0,s.splice(s.lastIndexOf(M),1),r(_,l,I);M.geometry=I,M.distanceSq=b}}else{if(b===0)return c[E]=!0,r(_,l,I);s.push(c[E]={feature:_,layer:l,geometry:I,distanceSq:b,callback:r})}},h,f=[this.replayGroup_],p=this.getLayer().getDeclutter();return f.some(_=>h=_.forEachFeatureAtCoordinate(e,o,a,i,u,p&&t.declutter[p]?t.declutter[p].all().map(I=>I.value):null)),h}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[fi.ANIMATING],s=e.viewHints[fi.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,f=e.pixelRatio,p=t.getRevision(),_=t.getRenderBuffer(),I=t.getRenderOrder();I===void 0&&(I=M7);let b=c.center.slice(),E=Ah(l,_*h),M=E.slice(),P=[E.slice()],F=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!ma(F,e.extent)){let Ee=ft(F),Z=Math.max(ft(E)/2,Ee);E[0]=F[0]-Z,E[2]=F[2]+Z,nw(b,u);let ie=FD(P[0],u);ie[0]<F[0]&&ie[2]<F[2]?P.push([ie[0]+Ee,ie[1],ie[2]+Ee,ie[3]]):ie[0]>F[0]&&ie[2]>F[2]&&P.push([ie[0]-Ee,ie[1],ie[2]-Ee,ie[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==I&&this.renderedFrameDeclutter_===!!e.declutter&&ma(this.wrappedRenderedExtent_,E))return Zi(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=b,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let $=new v7(EA(h,f),E,h,f),Y=du(),R;if(Y){for(let Ee=0,Z=P.length;Ee<Z;++Ee){let ie=P[Ee],de=Fl(ie,u);i.loadFeatures(de,e9(h,u),Y)}R=cu(Y,u)}else for(let Ee=0,Z=P.length;Ee<Z;++Ee)i.loadFeatures(P[Ee],h,u);let C=CA(h,f),T=!0,O=(Ee,Z)=>{let ie,de=Ee.getStyleFunction()||t.getStyleFunction();if(de&&(ie=de(Ee,h)),ie){let Ae=this.renderFeature(Ee,C,ie,$,R,this.getLayer().getDeclutter(),Z);T=T&&!Ae}},N=Fl(E,u),V=i.getFeaturesInExtent(N);I&&V.sort(I);for(let Ee=0,Z=V.length;Ee<Z;++Ee)O(V[Ee],Ee);this.renderedFeatures_=V,this.ready=T;let k=$.finish(),Te=new x7(E,h,f,i.getOverlaps(),k,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=I,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=M,this.wrappedRenderedExtent_=E,this.renderedCenter_=b,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=Te,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,s,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=TA(r,e,i[c],t,this.boundHandleStyleImageChange_,s,o,a)||l;else l=TA(r,e,i,t,this.boundHandleStyleImageChange_,s,o,a);return l}},P7=xA;var SA=class extends Rw{constructor(e){super(e)}createRenderer(){return new P7(this)}},O7=SA;var DA=class{constructor(e){this.rbush_=new Qh(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[_t(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,s=t.length;r<s;r++){let o=e[r],a=t[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=l,this.items_[_t(a)]=l}this.rbush_.load(i)}remove(e){let t=_t(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[_t(t)],r=[i.minX,i.minY,i.maxX,i.maxY];ga(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,s=e.length;r<s;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return ks(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return zr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},AA=DA;function F7(n,e,t,i){let r=[],s=Hn();for(let o=0,a=t.length;o<a;++o){let l=t[o];s=Rh(n,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}var L7=Ti(),$m=class n{constructor(e,t,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Zv(this.flatCoordinates_):Rh(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=ss(this.getExtent());this.flatInteriorPoints_=bm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=I9(this.flatCoordinates_,this.ends_),t=F7(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=m9(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=y2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,s=i.length;r<s;++r){let o=i[r],a=y2(e,t,o,2,.5);Th(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=xi(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=wn(i)/wn(t);Fi(L7,i[0],i[3],r,-r,0,0,0),vr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,L7,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=$v((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Im(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=h9(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=ow(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};$m.prototype.getFlatCoordinates=$m.prototype.getOrientedFlatCoordinates;var yu=$m;var RA=class extends ei{constructor(e){super(),this.projection=xi(e.projection),this.attributions_=N7(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=N7(e),this.changed()}setState(e){this.state_=e,this.changed()}};function N7(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var Fw=RA;var Gr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function V7(n,e){return[[-1/0,-1/0,1/0,1/0]]}var jfe=!1;function zfe(n,e,t,i,r,s,o){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=jfe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?s(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function MA(n,e){return function(t,i,r,s,o){let a=this;zfe(n,e,t,i,r,function(l,c){a.addFeatures(l),s!==void 0&&s(l)},o||Ms)}}var To=class extends Ci{constructor(e,t,i){super(e),this.feature=t,this.features=i}},kA=class extends Fw{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ms,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Qe(this.format_,"`format` must be set when `url` is set"),this.loader_=MA(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:V7;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new AA:null,this.loadedExtentsRtree_=new AA,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new lr(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=_t(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new To(Gr.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof yu||(this.featureChangeKeys_[e]=[ct(t,De.CHANGE,this.handleFeatureChange_,this),ct(t,Rs.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof yu){let s=this.idIndex_[r];s instanceof yu?Array.isArray(s)?s.push(t):this.idIndex_[r]=[s,t]:i=!1}else i=!1}return i&&(Qe(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let s=0,o=e.length;s<o;s++){let a=e[s],l=_t(a);this.addToIndex_(l,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){let a=i[s],l=_t(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Gr.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new To(Gr.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Gr.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(Gr.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ei.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ei.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(At);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){let i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new To(Gr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let s=r.getGeometry();if(s instanceof yu||s.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof yu||r.intersectsExtent(e)){let s=t(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ks(this.nullGeometryFeatures_)||Th(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=Oh(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],s=null,o=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||fa,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),h=a;if(a=u instanceof yu?0:u.closestPointXY(i,r,o,a),a<h){s=c;let f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=_t(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}let s=t.getId();if(s!==void 0){let o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new To(Gr.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:_t(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ks(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,s=this.strategy_(e,t,i);for(let o=0,a=s.length;o<a;++o){let l=s[o];r.forEachInExtent(l,function(u){return ma(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new To(Gr.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new To(Gr.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new To(Gr.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i;t.forEachInExtent(e,function(r){if(ga(r.extent,e))return i=r,!0}),i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=_t(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(At),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(Gr.REMOVEFEATURE)&&this.dispatchEvent(new To(Gr.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Qe(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(MA(e,this.format_))}},B7=kA;var ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var PA=class extends Ml{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(De.CHANGE)}release(){this.state===ve.ERROR&&this.setState(ve.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ve.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Et()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:V2(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},Jh=PA;var OA=class extends Jh{constructor(e,t,i,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ve.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ve.ERROR,this.unlistenImage_(),this.image_=Hfe(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ve.LOADED:this.state=ve.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ve.ERROR&&(this.state=ve.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ve.IDLE&&(this.state=ve.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=O9(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function Hfe(){let n=qt(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Lw=OA;var FA=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},U7=FA;var LA=class extends Ch{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Et()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Fi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),qv(r,i)}forEachFeatureAtCoordinate(e,t,i,r,s,o,a,l){let c,u=t.viewState;function h(F,$,Y,R){return s.call(o,$,F?Y:null,R)}let f=u.projection,p=nw(e.slice(),f),_=[[0,0]];if(f.canWrapX()&&r){let F=f.getExtent(),$=ft(F);_.push([-$,0],[$,0])}let I=t.layerStatesArray,b=I.length,E=[],M=[];for(let F=0;F<_.length;F++)for(let $=b-1;$>=0;--$){let Y=I[$],R=Y.layer;if(R.hasRenderer()&&Dm(Y,u)&&a.call(l,R)){let C=R.getRenderer(),T=R.getSource();if(C&&T){let O=T.getWrapX()?p:e,N=h.bind(null,Y.managed);M[0]=O[0]+_[F][0],M[1]=O[1]+_[F][1],c=C.forEachFeatureAtCoordinate(M,t,i,N,E)}if(c)return c}}if(E.length===0)return;let P=1/E.length;return E.forEach((F,$)=>F.distanceSq+=$*P),E.sort((F,$)=>F.distanceSq-$.distanceSq),E.some(F=>c=F.callback(F.feature,F.layer,F.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,s,o){return this.forEachFeatureAtCoordinate(e,t,i,r,fa,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Et()}scheduleExpireIconCache(e){Hr.canExpireCache()&&e.postRenderFunctions.push($fe)}};function $fe(n,e){Hr.expire()}var j7=LA;var NA=class extends j7{constructor(e){super(e),this.fontChangeListenerKey_=ct(vo,Rs.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Ul+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new kw(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){At(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Li.PRECOMPOSE,e);let t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof Rw&&a.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let s=[],o=null;for(let a=0,l=t.length;a<l;++a){let c=t[a];e.layerIndex=a;let u=c.layer,h=u.getSourceState();if(!Dm(c,r)||h!="ready"&&h!="undefined"){u.unrender();continue}let f=u.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(c))}this.declutter(e,s),P9(this.element_,this.children_),this.dispatchRenderEvent(Li.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},z7=NA;var Vs=class extends Ci{constructor(e,t){super(e),this.layer=t}},VA={LAYERS:"layers"},BA=class n extends Iw{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(VA.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new lr(i.slice(),{unique:!0}):Qe(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new lr(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(At),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(ct(e,Ei.ADD,this.handleLayersAdd_,this),ct(e,Ei.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(At);_o(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new Vs("addlayer",s))}this.changed()}registerLayerListeners_(e){let t=[ct(e,Rs.PROPERTYCHANGE,this.handleLayerChange_,this),ct(e,De.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(ct(e,"addlayer",this.handleLayerGroupAdd_,this),ct(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[_t(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Vs("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Vs("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Vs("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=_t(t);this.listenerKeys_[i].forEach(At),delete this.listenerKeys_[i],this.dispatchEvent(new Vs("removelayer",t)),this.changed()}getLayers(){return this.get(VA.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Vs("removelayer",i[r]))}this.set(VA.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});let r=this.getLayerState(),s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=t.length;o<a;o++){let l=t[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=cr(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return t}getSourceState(){return"ready"}},Gm=BA;var UA=class extends Ci{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},ql=UA;var jA=class extends ql{constructor(e,t,i,r,s,o){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},xo=jA;var mn={SINGLECLICK:"singleclick",CLICK:De.CLICK,DBLCLICK:De.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Wm={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var zA=class extends Ml{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ct(i,Wm.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ct(i,Wm.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(De.TOUCHMOVE,this.boundHandleTouchMove_,fw?{passive:!1}:!1)}emulateClick_(e){let t=new xo(mn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new xo(mn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new xo(mn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==mn.POINTERUP||t.type==mn.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==mn.POINTERDOWN||t.type==mn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new xo(mn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new xo(mn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ct(i,mn.POINTERMOVE,this.handlePointerMove_,this),ct(i,mn.POINTERUP,this.handlePointerUp_,this),ct(this.element_,mn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ct(this.element_.getRootNode(),mn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new xo(mn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new xo(mn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(At(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(De.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(At(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},H7=zA;var So={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Ni={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var qm=1/0,HA=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,_o(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Qe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=qm?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,s=t[e],o=i[e],a=e;for(;e<r>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;t[e]=t[u],i[e]=i[u],e=u}t[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,s=i[t],o=r[t];for(;t>e;){let a=this.getParentIndex_(t);if(r[a]>o)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=s,r[t]=o}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,s=t.length,o,a,l;for(a=0;a<s;++a)o=t[a],l=e(o),l==qm?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,t[r++]=o);t.length=r,i.length=r,this.heapify_()}},$7=HA;var $A=class extends $7{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(De.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===ve.LOADED||i===ve.ERROR||i===ve.EMPTY){i!==ve.ERROR&&t.removeEventListener(De.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],s=r.getKey();r.getState()===ve.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}},G7=$A;function W7(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return qm;if(!n.wantedTiles[t][e.getKey()])return qm;let s=n.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}var GA=class extends ei{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)At(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ms&&this.listenerKeys.push(ct(e,So.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},ef=GA;var WA=class extends ef{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(De.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Ul+" "+Gh+(this.collapsed_&&this.collapsible_?" "+b2:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=Array.from(new Set(t.flatMap(r=>r.getAttributions(e))));if(!this.overrideCollapsible_){let r=!t.some(s=>s.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return i}updateElement_(e){return H(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>D6(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Zi(t,this.renderedAttributions_)){k9(this.ulElement_);for(let r=0,s=t.length;r<s;++r){let o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(b2),this.collapsed_?f2(this.collapseLabel_,this.label_):f2(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},q7=WA;var qA=class extends ef{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(De.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Ul+" "+Gh,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Sm)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:cs}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let s=this.element.classList.contains(Sm);!s&&i===0?this.element.classList.add(Sm):s&&i!==0&&this.element.classList.remove(Sm)}this.label_.style.transform=r}this.rotation_=i}},K7=qA;var KA=class extends ef{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(De.CLICK,this.handleClick_.bind(this,i),!1);let h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(De.CLICK,this.handleClick_.bind(this,-i),!1);let f=t+" "+Ul+" "+Gh,p=this.element;p.className=f,p.appendChild(u),p.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:cs})):i.setZoom(s)}}},Y7=KA;function Q7(n){n=n||{};let e=new lr;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new Y7(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new K7(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new q7(n.attributionOptions)),e}var YA={ACTIVE:"active"};var QA=class extends ei{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(YA.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(YA.ACTIVE,e)}setMap(e){this.map_=e}};function Z7(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:X9,center:n.getConstrainedCenter(r)})}}function tf(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let s=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:i!==void 0?i:250,easing:cs})}var Do=QA;var ZA=class extends Do{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==mn.DBLCLICK){let i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();tf(a,o,s,this.duration_),i.preventDefault(),t=!0}return!t}},X7=ZA;var XA=class extends Do{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==mn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==mn.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==mn.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==mn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function nf(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var Ao=XA;function Km(n){let e=arguments;return function(t){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](t),!!i);++r);return i}}var J7=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Gfe=function(n){let e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},Nw=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?Gfe(n):!0},e8=fa;var Vw=function(n){let e=n.originalEvent;return e.button==0&&!(M9&&u2&&e.ctrlKey)};var Bw=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var t8=function(n){let e=n.originalEvent;return u2?e.metaKey:e.ctrlKey},n8=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Uw=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},jw=function(n){let e=n.originalEvent;return Qe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"};var i8=function(n){let e=n.originalEvent;return Qe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var JA=class extends Ao{constructor(e){super({stopDown:pa}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:Km(Bw,i8);this.condition_=e.onFocusOnly?Km(Nw,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(nf(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();q6(s,a.getResolution()),Vh(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:cs})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},r8=JA;var eR=class extends Ao{constructor(e){e=e||{},super({stopDown:pa}),this.condition_=e.condition?e.condition:J7,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!jw(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===qh)return;let r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return jw(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return jw(e)&&Vw(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},s8=eR;var tR=class extends Ch{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new b9([r])}getGeometry(){return this.geometry_}},o8=tR;var Ym={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},rf=class extends Ci{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},nR=class extends Ao{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new o8(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Vw,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],s=i[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new rf(Ym.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new rf(t?Ym.BOXEND:Ym.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new rf(Ym.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new rf(Ym.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}},a8=nR;var iR=class extends a8{constructor(e){e=e||{};let t=e.condition?e.condition:n8;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:cs})}},l8=iR;var Kl={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var rR=class extends Do{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Bw(t)&&Uw(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==De.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Kl.DOWN||r==Kl.LEFT||r==Kl.RIGHT||r==Kl.UP)){let o=e.map.getView(),a=o.getResolution()*this.pixelDelta_,l=0,c=0;r==Kl.DOWN?c=-a:r==Kl.LEFT?l=-a:r==Kl.RIGHT?l=a:c=a;let u=[l,c];Vh(u,o.getRotation()),Z7(o,u,this.duration_),i.preventDefault(),t=!0}}return!t}},c8=rR;var sR=class extends Do{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!t8(t)&&Uw(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==De.KEYDOWN||e.type==De.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();tf(a,o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},u8=sR;var oR=class extends Do{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:e8;this.condition_=e.onFocusOnly?Km(Nw,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==De.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==De.WHEEL&&(s=r.deltaY,R9&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=dw),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;let o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;let l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Wt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),tf(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},d8=oR;var aR=class extends Ao{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=pa),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=s;let o=e.map,a=o.getView();a.getConstraints().rotation!==qh&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(nf(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},h8=aR;var lR=class extends Ao{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=pa),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(nf(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},f8=lR;function p8(n){n=n||{};let e=new lr,t=new U7(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new s8),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new X7({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new r8({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new h8),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new f8({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new c8),e.push(new u8({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new d8({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new l8({duration:n.zoomDuration})),e}function m8(n){if(n instanceof pu){n.setMapInternal(null);return}n instanceof Gm&&n.getLayers().forEach(m8)}function g8(n,e){if(n instanceof pu){n.setMapInternal(e);return}if(n instanceof Gm){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)g8(t[i],e)}}var cR=class extends ei{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=Wfe(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:dw,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Ti(),this.pixelToCoordinateTransform_=Ti(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||Q7(),this.interactions=t.interactions||p8({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new G7(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ni.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ni.VIEW,this.handleViewChanged_),this.addChangeListener(Ni.SIZE,this.handleSizeChanged_),this.addChangeListener(Ni.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof Er)&&e.view.then(function(r){i.setView(new Er(r))}),this.controls.addEventListener(Ei.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ei.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ei.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ei.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ei.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ei.REMOVE,r=>{let s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){g8(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:fa,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof Gm?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:fa,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Ni.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return wm(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?zn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ni.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof lr){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let s=r.layer.getRenderer();if(s&&!s.ready)return!0;let o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){let t=Fs(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?zn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ni.SIZE)}getView(){return this.get(Ni.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return W7(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new xo(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===Wm.POINTERDOWN||i===De.WHEEL||i===De.KEYDOWN){let r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){let o=e.viewHints;if(o[fi.ANIMATING]||o[fi.INTERACTING]){let a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Li.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Li.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ql(So.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ql(So.LOADSTART,this,e))));let i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)At(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(De.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(De.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new z7(this)),this.mapBrowserEventHandler_=new H7(this,this.moveTolerance_);for(let s in mn)this.mapBrowserEventHandler_.addEventListener(mn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(De.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(De.WHEEL,this.boundHandleBrowserEvent_,fw?{passive:!1}:!1);let i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[ct(i,De.KEYDOWN,this.handleBrowserEvent,this),ct(i,De.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(At(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(At(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ct(e,Rs.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ct(e,De.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(At),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Vs("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ct(e,Rs.PROPERTYCHANGE,this.render,this),ct(e,De.CHANGE,this.render,this),ct(e,"addlayer",this.handleLayerAdd_,this),ct(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){m8(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,s=null;if(t!==void 0&&w2(t)&&i&&i.isDef()){let o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:pm(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:_t(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=pm(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Pl(this.previousExtent_)&&!ga(s.extent,this.previousExtent_))&&(this.dispatchEvent(new ql(So.MOVESTART,this,r)),this.previousExtent_=su(this.previousExtent_)),this.previousExtent_&&!s.viewHints[fi.ANIMATING]&&!s.viewHints[fi.INTERACTING]&&!ga(s.extent,this.previousExtent_)&&(this.dispatchEvent(new ql(So.MOVEEND,this,s)),Yv(s.extent,this.previousExtent_))),this.dispatchEvent(new ql(So.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(So.LOADSTART)||this.hasListener(So.LOADEND)||this.hasListener(Li.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Vs("removelayer",t)),this.set(Ni.LAYERGROUP,e)}setSize(e){this.set(Ni.SIZE,e)}setTarget(e){this.set(Ni.TARGET,e)}setView(e){if(!e||e instanceof Er){this.set(Ni.VIEW,e);return}this.set(Ni.VIEW,new Er);let t=this;e.then(function(i){t.setView(new Er(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!w2(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&iw("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!Zi(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function Wfe(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Gm({layers:n.layers});t[Ni.LAYERGROUP]=i,t[Ni.TARGET]=n.target,t[Ni.VIEW]=n.view instanceof Er?n.view:new Er;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new lr(n.controls.slice()):(Qe(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let s;n.interactions!==void 0&&(Array.isArray(n.interactions)?s=new lr(n.interactions.slice()):(Qe(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=n.interactions));let o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new lr(n.overlays.slice()):(Qe(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=n.overlays):o=new lr,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}var uR=cR;var dR=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return Qe(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return Qe(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Qe(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},zw=dR;function sf(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function vu(n,e,t){return n+"/"+e+"/"+t}function Hw(n){return vu(n[0],n[1],n[2])}function _8(n){return n.split("/").map(Number)}function y8(n){return qfe(n[0],n[1],n[2])}function qfe(n,e,t){return(e<<n)+t}function v8(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let s=e.getFullTileRange(t);return s?s.containsXY(i,r):!0}var hR=class extends zw{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;let e=this.peekFirstKey(),i=_8(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(Hw(r.tileCoord)),r.release())})}},$w=hR;var Gw=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function wu(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new Gw(n,e,t,i)}var Ww=Gw;var Qm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var fR=class extends pu{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Qm.PRELOAD)}setPreload(e){this.set(Qm.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Qm.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Qm.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},w8=fR;function af(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}function I8(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Float32Array||n instanceof DataView?n:null}var Kfe=new Error("disposed"),of=null;function b8(n){of||(of=qt(n.width,n.height,void 0,{willReadFrequently:!0}));let e=of.canvas,t=n.width;e.width!==t&&(e.width=t);let i=n.height;return e.height!==i&&(e.height=i),of.clearRect(0,0,t,i),of.drawImage(n,0,0),of.getImageData(0,0,t,i).data}var Yfe=[256,256],pR=class extends Jh{constructor(e){let t=ve.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=af(this.data_);return e?[e.width,e.height]:Yfe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ve.IDLE&&this.state!==ve.ERROR)return;this.state=ve.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=ve.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=ve.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Kfe),this.controller_=null),super.disposeInternal()}},Zm=pR;var Qfe=10,C8=.25,mR=class{constructor(e,t,i,r,s,o){this.sourceProj_=e,this.targetProj_=t;let a={},l=uu(this.targetProj_,this.sourceProj_);this.transformInv_=function(M){let P=M[0]+"/"+M[1];return a[P]||(a[P]=l(M)),a[P]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ft(r)>=ft(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ft(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ft(this.targetProj_.getExtent()):null;let c=os(i),u=Ph(i),h=kh(i),f=Mh(i),p=this.transformInv_(c),_=this.transformInv_(u),I=this.transformInv_(h),b=this.transformInv_(f),E=Qfe+(o?Math.max(0,Math.ceil(Math.log2(kl(i)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,f,p,_,I,b,E),this.wrapsXInSource_){let M=1/0;this.triangles_.forEach(function(P,F,$){M=Math.min(M,P.source[0][0],P.source[1][0],P.source[2][0])}),this.triangles_.forEach(P=>{if(Math.max(P.source[0][0],P.source[1][0],P.source[2][0])-M>this.sourceWorldWidth_/2){let F=[[P.source[0][0],P.source[0][1]],[P.source[1][0],P.source[1][1]],[P.source[2][0],P.source[2][1]]];F[0][0]-M>this.sourceWorldWidth_/2&&(F[0][0]-=this.sourceWorldWidth_),F[1][0]-M>this.sourceWorldWidth_/2&&(F[1][0]-=this.sourceWorldWidth_),F[2][0]-M>this.sourceWorldWidth_/2&&(F[2][0]-=this.sourceWorldWidth_);let $=Math.min(F[0][0],F[1][0],F[2][0]);Math.max(F[0][0],F[1][0],F[2][0])-$<this.sourceWorldWidth_/2&&(P.source=F)}})}a={}}addTriangle_(e,t,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,i]})}addQuad_(e,t,i,r,s,o,a,l,c){let u=kD([s,o,a,l]),h=this.sourceWorldWidth_?ft(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,_=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let b=kD([e,t,i,r]);_=ft(b)/this.targetWorldWidth_>C8||_}!p&&this.sourceProj_.isGlobal()&&h&&(_=h>C8||_)}if(!_&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!En(u,this.maxSourceExtent_))return;let I=0;if(!_&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)_=!0;else if(I=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),I!=1&&I!=2&&I!=4&&I!=8)return}if(c>0){if(!_){let b=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(b),M;p?M=(wa(s[0],f)+wa(a[0],f))/2-wa(E[0],f):M=(s[0]+a[0])/2-E[0];let P=(s[1]+a[1])/2-E[1];_=M*M+P*P>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let b=[(t[0]+i[0])/2,(t[1]+i[1])/2],E=this.transformInv_(b),M=[(r[0]+e[0])/2,(r[1]+e[1])/2],P=this.transformInv_(M);this.addQuad_(e,t,b,M,s,o,E,P,c-1),this.addQuad_(M,b,i,r,P,E,a,l,c-1)}else{let b=[(e[0]+t[0])/2,(e[1]+t[1])/2],E=this.transformInv_(b),M=[(i[0]+r[0])/2,(i[1]+r[1])/2],P=this.transformInv_(M);this.addQuad_(e,b,M,r,s,E,P,l,c-1),this.addQuad_(b,t,i,M,E,o,a,P,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}I&11||this.addTriangle_(e,i,r,s,a,l),I&14||this.addTriangle_(e,i,t,s,a,o),I&&(I&13||this.addTriangle_(t,r,e,o,l,s),I&7||this.addTriangle_(t,r,i,o,l,a))}calculateSourceExtent(){let e=Hn();return this.triangles_.forEach(function(t,i,r){let s=t.source;ou(e,s[0]),ou(e,s[1]),ou(e,s[2])}),e}getTriangles(){return this.triangles_}},qw=mR;var gR,Bs=[];function E8(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function _R(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function Zfe(){if(gR===void 0){let n=qt(6,6,Bs);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",E8(n,4,5,4,0),E8(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;gR=_R(e,0)||_R(e,4)||_R(e,8),yo(n),Bs.push(n.canvas)}return gR}function T8(n,e,t,i){let r=vm(t,e,n),s=$D(e,i,t),o=e.getMetersPerUnit();o!==void 0&&(s*=o);let a=n.getMetersPerUnit();a!==void 0&&(s/=a);let l=n.getExtent();if(!l||Ps(l,r)){let c=$D(n,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function Kw(n,e,t,i){let r=ss(t),s=T8(n,e,r,i);return(!isFinite(s)||s<=0)&&Xv(t,function(o){return s=T8(n,e,o,i),isFinite(s)&&s>0}),s}function Yw(n,e,t,i,r,s,o,a,l,c,u,h,f,p){let _=qt(Math.round(t*n),Math.round(t*e),Bs);if(h||(_.imageSmoothingEnabled=!1),l.length===0)return _.canvas;_.scale(t,t);function I($){return Math.round($*t)/t}_.globalCompositeOperation="lighter";let b=Hn();l.forEach(function($,Y,R){P6(b,$.extent)});let E,M=t/i,P=(h?1:1+Math.pow(2,-24))/M;if(!f||l.length!==1||c!==0){if(E=qt(Math.round(ft(b)*M),Math.round(wn(b)*M),Bs),h||(E.imageSmoothingEnabled=!1),r&&p){let $=(r[0]-b[0])*M,Y=-(r[3]-b[3])*M,R=ft(r)*M,C=wn(r)*M;E.rect($,Y,R,C),E.clip()}l.forEach(function($,Y,R){if($.image.width>0&&$.image.height>0){if($.clipExtent){E.save();let V=($.clipExtent[0]-b[0])*M,k=-($.clipExtent[3]-b[3])*M,Te=ft($.clipExtent)*M,Ee=wn($.clipExtent)*M;E.rect(h?V:Math.round(V),h?k:Math.round(k),h?Te:Math.round(V+Te)-Math.round(V),h?Ee:Math.round(k+Ee)-Math.round(k)),E.clip()}let C=($.extent[0]-b[0])*M,T=-($.extent[3]-b[3])*M,O=ft($.extent)*M,N=wn($.extent)*M;E.drawImage($.image,c,c,$.image.width-2*c,$.image.height-2*c,h?C:Math.round(C),h?T:Math.round(T),h?O:Math.round(C+O)-Math.round(C),h?N:Math.round(T+N)-Math.round(T)),$.clipExtent&&E.restore()}})}let F=os(o);return a.getTriangles().forEach(function($,Y,R){let C=$.source,T=$.target,O=C[0][0],N=C[0][1],V=C[1][0],k=C[1][1],Te=C[2][0],Ee=C[2][1],Z=I((T[0][0]-F[0])/s),ie=I(-(T[0][1]-F[1])/s),de=I((T[1][0]-F[0])/s),Ae=I(-(T[1][1]-F[1])/s),xe=I((T[2][0]-F[0])/s),ze=I(-(T[2][1]-F[1])/s),Ge=O,ut=N;O=0,N=0,V-=Ge,k-=ut,Te-=Ge,Ee-=ut;let re=[[V,k,0,0,de-Z],[Te,Ee,0,0,xe-Z],[0,0,V,k,Ae-ie],[0,0,Te,Ee,ze-ie]],In=G6(re);if(!In)return;if(_.save(),_.beginPath(),Zfe()||!h){_.moveTo(de,Ae);let yt=4,$n=Z-de,vn=ie-Ae;for(let Tn=0;Tn<yt;Tn++)_.lineTo(de+I((Tn+1)*$n/yt),Ae+I(Tn*vn/(yt-1))),Tn!=yt-1&&_.lineTo(de+I((Tn+1)*$n/yt),Ae+I((Tn+1)*vn/(yt-1)));_.lineTo(xe,ze)}else _.moveTo(de,Ae),_.lineTo(Z,ie),_.lineTo(xe,ze);_.clip(),_.transform(In[0],In[2],In[1],In[3],Z,ie),_.translate(b[0]-Ge,b[3]-ut);let Ln;if(E)Ln=E.canvas,_.scale(P,-P);else{let yt=l[0],$n=yt.extent;Ln=yt.image,_.scale(ft($n)/Ln.width,-wn($n)/Ln.height)}_.drawImage(Ln,0,0),_.restore()}),E&&(yo(E),Bs.push(E.canvas)),u&&(_.save(),_.globalCompositeOperation="source-over",_.strokeStyle="black",_.lineWidth=1,a.getTriangles().forEach(function($,Y,R){let C=$.target,T=(C[0][0]-F[0])/s,O=-(C[0][1]-F[1])/s,N=(C[1][0]-F[0])/s,V=-(C[1][1]-F[1])/s,k=(C[2][0]-F[0])/s,Te=-(C[2][1]-F[1])/s;_.beginPath(),_.moveTo(N,V),_.lineTo(T,O),_.lineTo(k,Te),_.closePath(),_.stroke()}),_.restore()),_.canvas}var yR=class extends Zm{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let t=e.sourceProj,i=t.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=t.canWrapX()?r?cr(i,r):i:r;let s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent(),a=this.sourceTileGrid_.getExtent(),l=o?cr(s,o):s;if(kl(l)===0){this.state=ve.EMPTY;return}i&&(a?a=cr(a,i):a=i);let c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,h=Kw(t,u,l,c);if(!isFinite(h)||h<=0){this.state=ve.EMPTY;return}let f=e.errorThreshold!==void 0?e.errorThreshold:.5;if(this.triangulation_=new qw(t,u,l,a,h*f,c),this.triangulation_.getTriangles().length===0){this.state=ve.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let p=this.triangulation_.calculateSourceExtent();if(a&&(t.canWrapX()?(p[1]=Wt(p[1],a[1],a[3]),p[3]=Wt(p[3],a[1],a[3])):p=cr(p,a)),!kl(p))this.state=ve.EMPTY;else{let _=0,I=0;t.canWrapX()&&(_=ft(i),I=Math.floor((p[0]-i[0])/_)),Oh(p.slice(),t,!0).forEach(E=>{let M=this.sourceTileGrid_.getTileRangeForExtentAndZ(E,this.sourceZ_),P=e.getTileFunction;for(let F=M.minX;F<=M.maxX;F++)for(let $=M.minY;$<=M.maxY;$++){let Y=P(this.sourceZ_,F,$,this.pixelRatio_);if(Y){let R=I*_;this.sourceTiles_.push({tile:Y,offset:R})}}++I}),this.sourceTiles_.length===0&&(this.state=ve.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){let e=[],t=!1;if(this.sourceTiles_.forEach(_=>{let I=_.tile;if(!I||I.getState()!==ve.LOADED)return;let b=I.getSize(),E=this.gutter_,M,P=I8(I.getData());P?M=P:(t=!0,M=b8(af(I.getData())));let F=[b[0]+2*E,b[1]+2*E],$=M instanceof Float32Array,Y=F[0]*F[1],R=$?Float32Array:Uint8ClampedArray,C=new R(M.buffer),T=R.BYTES_PER_ELEMENT,O=T*C.length/Y,N=C.byteLength/F[1],V=Math.floor(N/T/F[0]),k=Y*V,Te=C;if(C.length!==k){Te=new R(k);let ie=0,de=0,Ae=F[0]*V;for(let xe=0;xe<F[1];++xe){for(let ze=0;ze<Ae;++ze)Te[ie++]=C[de+ze];de+=N/T}}let Ee=this.sourceTileGrid_.getTileCoordExtent(I.tileCoord);Ee[0]+=_.offset,Ee[2]+=_.offset;let Z=this.clipExtent_?.slice();Z&&(Z[0]+=_.offset,Z[2]+=_.offset),e.push({extent:Ee,clipExtent:Z,data:new Uint8ClampedArray(Te.buffer),dataType:R,bytesPerPixel:O,pixelSize:F})}),this.sourceTiles_.length=0,e.length===0){this.state=ve.ERROR,this.changed();return}let i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),u,h,f=e[0].bytesPerPixel,p=Math.ceil(f/3);for(let _=p-1;_>=0;--_){let I=[];for(let $=0,Y=e.length;$<Y;++$){let R=e[$],C=R.data,T=R.pixelSize,O=T[0],N=T[1],V=qt(O,N,Bs),k=V.createImageData(O,N),Te=k.data,Ee=_*3;for(let Z=0,ie=Te.length;Z<ie;Z+=4)Te[Z]=C[Ee],Te[Z+1]=C[Ee+1],Te[Z+2]=C[Ee+2],Te[Z+3]=255,Ee+=f;V.putImageData(k,0,0),I.push({extent:R.extent,clipExtent:R.clipExtent,image:V.canvas})}let b=Yw(s,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,I,this.gutter_,!1,!1,!1);for(let $=0,Y=I.length;$<Y;++$){let C=I[$].image.getContext("2d");yo(C),Bs.push(C.canvas)}let E=b.getContext("2d"),M=E.getImageData(0,0,b.width,b.height);yo(E),Bs.push(b),u||(h=new Uint8ClampedArray(f*M.width*M.height),u=new e[0].dataType(h.buffer));let P=M.data,F=_*3;for(let $=0,Y=P.length;$<Y;$+=4)P[$+3]===255?(h[F]=P[$],h[F+1]=P[$+1],h[F+2]=P[$+2]):(h[F]=0,h[F+1]=0,h[F+2]=0),F+=f}if(t){let _=qt(s,o),I=new ImageData(u,s);_.putImageData(I,0,0),this.reprojData_=_.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(s*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=ve.LOADED,this.changed()}load(){if(this.state!==ve.IDLE&&this.state!==ve.ERROR)return;this.state=ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i!==ve.IDLE&&i!==ve.LOADING)return;e++;let r=ct(t,De.CHANGE,()=>{let s=t.getState();(s==ve.LOADED||s==ve.ERROR||s==ve.EMPTY)&&(At(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t}){t.getState()==ve.IDLE&&t.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(At),this.sourcesListenerKeys_=null}},x8=yR;var vR=class extends Jh{constructor(e,t,i,r,s,o,a,l,c,u,h,f){super(s,ve.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let p=r.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent(),I=this.sourceTileGrid_.getExtent(),b=_?cr(p,_):p;if(kl(b)===0){this.state=ve.EMPTY;return}let E=e.getExtent();E&&(I?I=cr(I,E):I=E);let M=r.getResolution(this.wrappedTileCoord_[0]),P=Kw(e,i,b,M);if(!isFinite(P)||P<=0){this.state=ve.EMPTY;return}let F=u!==void 0?u:.5;if(this.triangulation_=new qw(e,i,b,I,P*F,M),this.triangulation_.getTriangles().length===0){this.state=ve.EMPTY;return}this.sourceZ_=t.getZForResolution(P);let $=this.triangulation_.calculateSourceExtent();if(I&&(e.canWrapX()?($[1]=Wt($[1],I[1],I[3]),$[3]=Wt($[3],I[1],I[3])):$=cr($,I)),!kl($))this.state=ve.EMPTY;else{let Y=0,R=0;e.canWrapX()&&(Y=ft(E),R=Math.floor(($[0]-E[0])/Y)),Oh($.slice(),e,!0).forEach(T=>{let O=t.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let N=O.minX;N<=O.maxX;N++)for(let V=O.minY;V<=O.maxY;V++){let k=c(this.sourceZ_,N,V,a);if(k){let Te=R*Y;this.sourceTiles_.push({tile:k,offset:Te})}}++R}),this.sourceTiles_.length===0&&(this.state=ve.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==ve.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let s=this.clipExtent_?.slice();s&&(s[0]+=t.offset,s[2]+=t.offset),e.push({extent:r,clipExtent:s,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ve.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Yw(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ve.LOADED}this.changed()}load(){if(this.state==ve.IDLE){this.state=ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==ve.IDLE||i==ve.LOADING){e++;let r=ct(t,De.CHANGE,s=>{let o=t.getState();(o==ve.LOADED||o==ve.ERROR||o==ve.EMPTY)&&(At(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==ve.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(At),this.sourcesListenerKeys_=null}release(){this.canvas_&&(yo(this.canvas_.getContext("2d")),Bs.push(this.canvas_),this.canvas_=null),super.release()}},Qw=vR;function wR(n,e,t,i){return`${n},${vu(e,t,i)}`}function IR(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function Jfe(n,e,t){let i=n[t];return i?i.delete(e):!1}function S8(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=cr(e,as(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=cr(e,r))}return e}var bR=class extends Ow{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Hn(),this.tempTileRange_=new Ww(0,0,0,0),this.tempTileCoord_=sf(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new zw(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let s=this.tileCache_,a=this.getLayer().getSource(),l=wR(a.getKey(),e,t,i),c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,t,i,r){let s=this.getOrCreateTile(e,t,i,r);return s||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=zn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Ps(s,r))return null;let o=t.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){let h=l.getTileCoordForCoordAndZ(r,u),f=this.getTile(u,h[1],h[2],t);if(!f||f.getState()!==ve.LOADED)continue;let p=l.getOrigin(u),_=On(l.getTileSize(u)),I=l.getResolution(u),b;if(f instanceof Lw)b=f.getImage();else if(f instanceof Zm){if(b=af(f.getData()),!b)continue}else continue;let E=Math.floor(c*((r[0]-p[0])/I-h[1]*_[0])),M=Math.floor(c*((p[1]-r[1])/I-h[2]*_[1])),P=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(b,E+P,M+P)}return null}prepareFrame(e){let t=this.getLayer().getSource();if(!t)return!1;let i=this.getLayer().getSource().getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,s){let o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=_t(l);u in e.wantedTiles||(e.wantedTiles[u]={});let h=e.wantedTiles[u],f=a.getMapInternal(),p=Math.max(i-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let _=i;_>=p;--_){let I=c.getTileRangeForExtentAndZ(t,_,this.tempTileRange_),b=c.getResolution(_);for(let E=I.minX;E<=I.maxX;++E)for(let M=I.minY;M<=I.maxY;++M){let P=this.getTile(_,E,M,e);if(!P||!IR(r,P,_))continue;let $=P.getKey();if(h[$]=!0,P.getState()===ve.IDLE&&!e.tileQueue.isKeyQueued($)){let Y=sf(_,E,M,this.tempTileCoord_);e.tileQueue.enqueue([P,u,c.getTileCoordCenter(Y),b])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=wR(a[l],r,s,o);if(i.containsKey(c)){let u=i.get(c);if(u.getState()===ve.LOADED)return u.endTransition(_t(this)),IR(t,u,r),!0}}return!1}findAltTiles_(e,t,i,r){let s=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!s)return!1;let o=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){let f=wR(c,i,u,h),p=!1;if(a.containsKey(f)){let _=a.get(f);_.getState()===ve.LOADED&&(IR(r,_,i),p=!0)}p||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;let i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),f=u.getTileGridForProjection(s),p=f.getZForResolution(o,u.zDirection),_=f.getResolution(p),I=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==I&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=I):this.renderedSourceKey_=I;let b=e.extent,E=u.getTilePixelRatio(l);this.prepareContainer(e,t);let M=this.context.canvas.width,P=this.context.canvas.height,F=i.extent&&as(i.extent,s);F&&(b=cr(b,as(i.extent,s)));let $=_*M/2/E,Y=_*P/2/E,R=[a[0]-$,a[1]-Y,a[0]+$,a[1]+Y],C={},T=c.getPreload();if(e.nextExtent){let xe=f.getZForResolution(r.nextResolution,u.zDirection),ze=S8(e,e.nextExtent);this.enqueueTiles(e,ze,xe,C,T)}let O=S8(e,b);this.enqueueTiles(e,O,p,C,0),T>0&&setTimeout(()=>{this.enqueueTiles(e,O,p-1,C,T-1)},0);let N=_t(this),V=e.time;for(let xe of C[p]){let ze=xe.getState();if((xe instanceof Qw||xe instanceof x8)&&ze===ve.EMPTY)continue;let Ge=xe.tileCoord;if(ze===ve.LOADED&&xe.getAlpha(N,V)===1){xe.endTransition(N);continue}if(this.renderComplete=!1,this.findStaleTile_(Ge,C)){Jfe(C,xe,p),e.animate=!0;continue}if(this.findAltTiles_(f,Ge,p+1,C))continue;let In=f.getMinZoom();for(let Ln=p-1;Ln>=In&&!this.findAltTiles_(f,Ge,Ln,C);--Ln);}let k=_/o*l/E,Te=this.getRenderContext(e);Fi(this.tempTransform,M/2,P/2,k,k,0,-M/2,-P/2),i.extent&&this.clipUnrotated(Te,e,F),u.getInterpolate()||(Te.imageSmoothingEnabled=!1),this.preRender(Te,e),this.renderedTiles.length=0;let Ee=Object.keys(C).map(Number);Ee.sort(yr);let Z,ie=[],de=[];for(let xe=Ee.length-1;xe>=0;--xe){let ze=Ee[xe],Ge=u.getTilePixelSize(ze,l,s),re=f.getResolution(ze)/_,In=Ge[0]*re*k,Ln=Ge[1]*re*k,yt=f.getTileCoordForCoordAndZ(os(R),ze),$n=f.getTileCoordExtent(yt),vn=zn(this.tempTransform,[E*($n[0]-R[0])/_,E*(R[3]-$n[3])/_]),Tn=E*u.getGutterForProjection(s);for(let Di of C[ze]){if(Di.getState()!==ve.LOADED)continue;let Mo=Di.tileCoord,ka=yt[1]-Mo[1],Zl=Math.round(vn[0]-(ka-1)*In),ko=yt[2]-Mo[2],js=Math.round(vn[1]-(ko-1)*Ln),er=Math.round(vn[0]-ka*In),Kr=Math.round(vn[1]-ko*Ln),Po=Zl-er,Oo=js-Kr,Fo=Ee.length===1,zs=!1;Z=[er,Kr,er+Po,Kr,er+Po,Kr+Oo,er,Kr+Oo];for(let Pa=0,Hs=ie.length;Pa<Hs;++Pa)if(!Fo&&ze<de[Pa]){let xn=ie[Pa];En([er,Kr,er+Po,Kr+Oo],[xn[0],xn[3],xn[4],xn[7]])&&(zs||(Te.save(),zs=!0),Te.beginPath(),Te.moveTo(Z[0],Z[1]),Te.lineTo(Z[2],Z[3]),Te.lineTo(Z[4],Z[5]),Te.lineTo(Z[6],Z[7]),Te.moveTo(xn[6],xn[7]),Te.lineTo(xn[4],xn[5]),Te.lineTo(xn[2],xn[3]),Te.lineTo(xn[0],xn[1]),Te.clip())}ie.push(Z),de.push(ze),this.drawTile(Di,e,er,Kr,Po,Oo,Tn,Fo),zs&&Te.restore(),this.renderedTiles.unshift(Di),this.updateUsedTiles(e.usedTiles,u,Di)}}this.renderedRevision=h,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!ga(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=l,this.renderedProjection=s,this.postRender(this.context,e),i.extent&&Te.restore(),Te.imageSmoothingEnabled=!0;let Ae=(xe,ze)=>{let Ge=_t(u),ut=ze.wantedTiles[Ge],re=ut?Object.keys(ut).length:0;this.updateCacheSize(re),this.tileCache_.expireCache()};return e.postRenderFunctions.push(Ae),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,s,o,a,l){let c;if(e instanceof Zm){if(c=af(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),h=_t(this),f=t.layerStatesArray[t.layerIndex],p=f.opacity*(l?e.getAlpha(h,t.time):1),_=p!==u.globalAlpha;_&&(u.save(),u.globalAlpha=p),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,s,o),_&&u.restore(),p!==f.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=_t(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},D8=bR;var CR=class extends w8{constructor(e){super(e)}createRenderer(){return new D8(this,{cacheSize:this.getCacheSize()})}},A8=CR;var Zw={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var lf=[0,0,0],Yl=5,ER=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Qe(S6(this.resolutions_,(r,s)=>s-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Qe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=os(i)),Qe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Qe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,Qe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{let o=new Ww(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,s,a])}forEachTileCoordParentTileRange(e,t,i,r){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=wu(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,c,i),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let s=e[1]*2,o=e[2]*2;return wu(s,s+1,o,o+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],s=e[1],o=e[2];if(t===r)return wu(s,o,s,o,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(s*l),u=Math.floor(o*l);if(t<r)return wu(c,c,u,u,i);let h=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return wu(c,h,u,f,i)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,lf);let r=lf[1],s=lf[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,lf);let o=lf[1],a=lf[2];return wu(r,o,s,a,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=On(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=On(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return zr(o,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,s){let o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=On(this.getTileSize(o),this.tmpSize_),u=a*(e-l[0])/i/c[0],h=a*(l[1]-t)/i/c[1];return r?(u=ym(u,Yl)-1,h=ym(h,Yl)-1):(u=_m(u,Yl),h=_m(h,Yl)),sf(o,u,h,s)}getTileCoordForXYAndZ_(e,t,i,r,s){let o=this.getOrigin(i),a=this.getResolution(i),l=On(this.getTileSize(i),this.tmpSize_),c=(e-o[0])/a/l[0],u=(o[1]-t)/a/l[1];return r?(c=ym(c,Yl)-1,u=ym(u,Yl)-1):(c=_m(c,Yl),u=_m(u,Yl)),sf(i,c,u,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=Eh(this.resolutions_,e,t||0);return Wt(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return t2(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},TR=ER;function Xw(n){let e=n.getDefaultTileGrid();return e||(e=tpe(n),n.setDefaultTileGrid(e)),e}function R8(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),s=Jw(t);if(!Ps(s,r)){let o=ft(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,n.getTileCoordForCoordAndZ(r,i)}return e}function epe(n,e,t,i){i=i!==void 0?i:"top-left";let r=k8(n,e,t);return new TR({extent:n,origin:O6(n,i),resolutions:r,tileSize:t})}function M8(n){let e=n||{},t=e.extent||xi("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:k8(t,e.maxZoom,e.tileSize,e.maxResolution)};return new TR(i)}function k8(n,e,t,i){e=e!==void 0?e:42,t=On(t!==void 0?t:256);let r=wn(n),s=ft(n);i=i>0?i:Math.max(s/t[0],r/t[1]);let o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function tpe(n,e,t,i){let r=Jw(n);return epe(r,e,t,i)}function Jw(n){n=xi(n);let e=n.getExtent();if(!e){let t=180*_a.degrees/n.getMetersPerUnit();e=zr(-t,-t,t,t)}return e}var xR=class extends Fw{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&On(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new $w(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){let i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,s){return Et()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Xw(e)}getTileCacheForProjection(e){let t=this.getProjection();return Qe(t===null||lu(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),o=On(r.getTileSize(e),this.tmpSize);return s==1?o:N9(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();let i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=R8(i,e,t)),v8(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}useTile(e,t,i,r){}},eI=class extends Ci{constructor(e,t){super(e),this.tile=t}},P8=xR;var npe=/\{z\}/g,ipe=/\{x\}/g,rpe=/\{y\}/g,spe=/\{-y\}/g;function O8(n,e,t,i,r){return n.replace(npe,e.toString()).replace(ipe,t.toString()).replace(rpe,i.toString()).replace(spe,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function F8(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),s;for(s=i;s<=r;++s)e.push(n.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function ope(n,e){return function(t,i,r){if(!t)return;let s,o=t[0];if(e){let a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return O8(n,o,t[1],t[2],s)}}function L8(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=ope(n[r],e);return ape(i)}function ape(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=y8(e),s=wa(r,n.length);return n[s](e,t,i)}}var SR=class n extends P8{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=_t(t),r=t.getState(),s;r==ve.LOADING?(this.tileLoadingKeys_[i]=!0,s=Zw.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==ve.ERROR?Zw.TILELOADERROR:r==ve.LOADED?Zw.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new eI(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=F8(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(L8(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){let r=vu(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}},N8=SR;var DR=class extends N8{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:lpe,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Lw,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){let i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(let r in this.tileCacheForProjection){let s=this.tileCacheForProjection[r];s.expireCache(s==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!lu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||lu(t,e)))return this.tileGrid;let i=_t(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Xw(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){let t=this.getProjection();if(!t||lu(t,e))return this.tileCache;let i=_t(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new $w(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,s,o){let a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,u=new this.tileClass(a,c!==void 0?ve.IDLE:ve.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(De.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,i,r,s){let o=this.getProjection();if(!o||!s||lu(o,s))return this.getTileInternal(e,t,i,r,o||s);let a=this.getTileCacheForProjection(s),l=[e,t,i],c,u=Hw(l);a.containsKey(u)&&(c=a.get(u));let h=this.getKey();if(c&&c.key==h)return c;let f=this.getTileGridForProjection(o),p=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(l,s),I=new Qw(o,f,s,p,l,_,this.getTilePixelRatio(r),this.getGutter(),(b,E,M,P)=>this.getTileInternal(b,E,M,P,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return I.key=h,c?a.replace(u,I):a.set(u,I),I}getTileInternal(e,t,i,r,s){let o=vu(e,t,i),a=this.getKey();if(!this.tileCache.containsKey(o)){let c=this.createTile_(e,t,i,r,s,a);return this.tileCache.set(o,c),c}let l=this.tileCache.get(o);return l.key!=a&&(l=this.createTile_(e,t,i,r,s,a),this.tileCache.replace(o,l)),l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(let t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){let i=xi(e);if(i){let r=_t(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(let e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}};function lpe(n,e){n.getImage().src=e}var V8=DR;var AR=class extends V8{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:M8({extent:Jw(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},B8=AR;var cpe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',RR=class extends B8{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[cpe];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},MR=RR;var U8=(()=>{let e=class e{constructor(){this.map=null,this.marker=null,this.vectorLayer=null,this.coordinates=""}ngOnChanges(){let i=this.convertCoordinates(this.coordinates),r=X6(i);this.map?(this.marker&&this.marker.setGeometry(new jh(r)),this.map.getView().setCenter(r),this.map.getView().setZoom(19)):(this.marker=new MD({geometry:new jh(r)}),this.marker.setStyle(new zl({image:new mu({src:"https://openlayers.org/en/latest/examples/data/icon.png",anchor:[.5,1]})})),this.vectorLayer=new O7({source:new B7({features:[this.marker]})}),this.map=new uR({target:"map",layers:[new A8({source:new MR}),this.vectorLayer],view:new Er({center:r,zoom:19,projection:"EPSG:3857"})}))}convertCoordinates(i){return[parseFloat(i.split(", ")[0]),parseFloat(i.split(", ")[1])]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ee({type:e,selectors:[["app-map"]],inputs:{coordinates:"coordinates"},standalone:!0,features:[hn,ye],decls:1,vars:0,consts:[["id","map",1,"map-container"]],template:function(r,s){r&1&&W(0,"div",0)},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:400px}"]});let n=e;return n})();var upe=["*"];function dpe(n,e){if(n&1&&W(0,"span",5),n&2){let t=v(2);g("ngClass",t.icon)}}function hpe(n,e){if(n&1&&(ae(0),D(1,dpe,1,1,"span",4),le()),n&2){let t=v();y(),g("ngIf",t.icon)}}function fpe(n,e){}function ppe(n,e){n&1&&D(0,fpe,0,0,"ng-template")}function mpe(n,e){if(n&1&&(x(0,"span",6),D(1,ppe,1,0,null,7),A()),n&2){let t=v();y(),g("ngTemplateOutlet",t.iconTemplate)}}var j8=(()=>{class n{cd;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"icon":this.iconTemplate=t.template;break}})}constructor(t){this.cd=t}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(i){return new(i||n)(G(wt))};static \u0275cmp=ee({type:n,selectors:[["p-tag"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[j.HasDecoratorInputTransform,"rounded","rounded",K]},features:[Ct],ngContentSelectors:upe,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&(si(),x(0,"span",0),Qn(1),D(2,hpe,2,1,"ng-container",1)(3,mpe,2,1,"span",2),x(4,"span",3),ce(5),A()()),i&2&&(se(r.styleClass),g("ngClass",r.containerClass())("ngStyle",r.style),y(2),g("ngIf",!r.iconTemplate),y(),g("ngIf",r.iconTemplate),y(2),$e(r.value))},dependencies:[kt,St,Vt,Pt],styles:[`@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}
`],encapsulation:2,changeDetection:0})}return n})(),z8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe,Xe]})}return n})();var _pe=(n,e,t,i,r,s,o)=>({"p-timeline p-component":!0,"p-timeline-left":n,"p-timeline-right":e,"p-timeline-top":t,"p-timeline-bottom":i,"p-timeline-alternate":r,"p-timeline-vertical":s,"p-timeline-horizontal":o}),kR=n=>({$implicit:n});function ype(n,e){n&1&&ge(0)}function vpe(n,e){n&1&&ge(0)}function wpe(n,e){if(n&1&&(ae(0),D(1,vpe,1,0,"ng-container",5),le()),n&2){let t=v().$implicit,i=v();y(),g("ngTemplateOutlet",i.markerTemplate)("ngTemplateOutletContext",Se(2,kR,t))}}function Ipe(n,e){n&1&&W(0,"div",10),n&2&&z("data-pc-section","marker")}function bpe(n,e){n&1&&W(0,"div",11)}function Cpe(n,e){n&1&&ge(0)}function Epe(n,e){if(n&1&&(x(0,"div",3)(1,"div",4),D(2,ype,1,0,"ng-container",5),A(),x(3,"div",6),D(4,wpe,2,4,"ng-container",7)(5,Ipe,1,1,"ng-template",null,0,an)(7,bpe,1,0,"div",8),A(),x(8,"div",9),D(9,Cpe,1,0,"ng-container",5),A()()),n&2){let t=e.$implicit,i=e.last,r=Mt(6),s=v();z("data-pc-section","event"),y(),z("data-pc-section","opposite"),y(),g("ngTemplateOutlet",s.oppositeTemplate)("ngTemplateOutletContext",Se(11,kR,t)),y(),z("data-pc-section","separator"),y(),g("ngIf",s.markerTemplate)("ngIfElse",r),y(3),g("ngIf",!i),y(),z("data-pc-section","content"),y(),g("ngTemplateOutlet",s.contentTemplate)("ngTemplateOutletContext",Se(13,kR,t))}}var H8=(()=>{class n{el;value;style;styleClass;align="left";layout="vertical";templates;contentTemplate;oppositeTemplate;markerTemplate;constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"opposite":this.oppositeTemplate=t.template;break;case"marker":this.markerTemplate=t.template;break}})}static \u0275fac=function(i){return new(i||n)(G(nt))};static \u0275cmp=ee({type:n,selectors:[["p-timeline"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:15,consts:[["marker",""],[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(i,r){i&1&&(x(0,"div",1),D(1,Epe,10,15,"div",2),A()),i&2&&(se(r.styleClass),g("ngStyle",r.style)("ngClass",u0(7,_pe,r.align==="left",r.align==="right",r.align==="top",r.align==="bottom",r.align==="alternate",r.layout==="vertical",r.layout==="horizontal")),z("data-pc-name","timeline")("data-pc-section","root"),y(),g("ngForOf",r.value))},dependencies:[kt,gi,St,Vt,Pt],styles:[`@layer primeng{.p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem;min-width:100px}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}}
`],encapsulation:2,changeDetection:0})}return n})(),$8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe]})}return n})();function xpe(n,e){if(n&1&&ce(0),n&2){let t=e.$implicit;on(" ",t.nome," ")}}function Spe(n,e){n&1&&(x(0,"p"),ce(1,"Arrivo effettivo: --:--"),A())}function Dpe(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A()),n&2){let t=v(2).$implicit;y(),on("Arrivo effettivo: ",Pi(2,1,t.orarioArrivoEffettivo,"HH:mm"),"")}}function Ape(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A(),D(3,Spe,2,0,"p")(4,Dpe,3,4)),n&2){let t=v().$implicit,i=v();y(),on("Arrivo previsto: ",Pi(2,2,t.orarioArrivoPrevisto,"HH:mm"),""),y(2),Pr(3,i.is00(t.orarioArrivoEffettivo)?3:4)}}function Rpe(n,e){n&1&&(x(0,"p"),ce(1,"Partenza effettiva: --:--"),A())}function Mpe(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A()),n&2){let t=v(2).$implicit;y(),on("Partenza effettiva: ",Pi(2,1,t.orarioPartenzaEffettivo,"HH:mm"),"")}}function kpe(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A(),D(3,Rpe,2,0,"p")(4,Mpe,3,4)),n&2){let t=v().$implicit,i=v();y(),on("Partenza Prevista: ",Pi(2,2,t.orarioPartenzaPrevisto,"HH:mm"),""),y(2),Pr(3,i.is00(t.orarioPartenzaEffettivo)?3:4)}}function Ppe(n,e){n&1&&(x(0,"p"),ce(1,"Transito effettivo: --:--"),A())}function Ope(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A()),n&2){let t=v(2).$implicit;y(),on("Transito effettivo: ",Pi(2,1,t.orarioPassaggioEffettivo,"HH:mm"),"")}}function Fpe(n,e){if(n&1&&(x(0,"p"),ce(1),ki(2,"date"),A(),D(3,Ppe,2,0,"p")(4,Ope,3,4)),n&2){let t=v().$implicit,i=v();y(),on("Transito Previsto: ",Pi(2,2,t.orarioPassaggioPrevisto,"HH:mm"),""),y(2),Pr(3,i.is00(t.orarioPassaggioEffettivo)?3:4)}}function Lpe(n,e){if(n&1&&D(0,Ape,5,5)(1,kpe,5,5)(2,Fpe,5,5),n&2){let t=e.$implicit;Pr(0,t.orarioArrivoPrevisto?0:-1),y(),Pr(1,t.orarioPartenzaPrevisto?1:-1),y(),Pr(2,t.orarioPassaggioPrevisto?2:-1)}}function Npe(n,e){if(n&1&&(ae(0),W(1,"app-map",10),le()),n&2){let t=v();y(),g("coordinates",t.lastPosition().coordinate)}}var G8=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.route=r,this.id=Rn(""),this.idSubject=new ni(""),this.lastPosition=el(()=>{let s={};for(let o=this.percorso().checkpoint.length-1;o>=0;o--){if(this.percorso().checkpoint[o].orarioArrivoPrevisto&&this.percorso().checkpoint[o].orarioPartenzaPrevisto){if(this.is00(this.percorso().checkpoint[o].orarioArrivoEffettivo)&&this.is00(this.percorso().checkpoint[o].orarioPartenzaEffettivo))continue;s=this.percorso().checkpoint[o];break}if(this.percorso().checkpoint[o].orarioPassaggioPrevisto&&this.percorso().checkpoint[o].orarioPassaggioEffettivo){if(!this.is00(this.percorso().checkpoint[o].orarioPassaggioEffettivo)){s=this.percorso().checkpoint[o];break}}else if(this.percorso().checkpoint[o].orarioArrivoPrevisto&&this.percorso().checkpoint[o].orarioArrivoEffettivo){if(!this.is00(this.percorso().checkpoint[o].orarioArrivoEffettivo)){s=this.percorso().checkpoint[o];break}}else if(this.percorso().checkpoint[o].orarioPartenzaPrevisto&&this.percorso().checkpoint[o].orarioPartenzaEffettivo&&!this.is00(this.percorso().checkpoint[o].orarioPartenzaEffettivo)){s=this.percorso().checkpoint[o];break}o===0&&(s=this.percorso().checkpoint[0])}return s}),this.percorso=Rn({}),this.readyToShow=Rn(!1),this.lastTime=el(()=>{let s=new Date,o=this.lastPosition();return o.orarioArrivoEffettivo&&!this.is00(o.orarioArrivoEffettivo)?o.orarioPartenzaEffettivo&&this.is00(o.orarioPartenzaEffettivo)?s=o.orarioArrivoEffettivo:o.orarioPartenzaEffettivo&&!this.is00(o.orarioPartenzaEffettivo)?s=o.orarioPartenzaEffettivo:s=o.orarioArrivoEffettivo:o.orarioPartenzaEffettivo&&!this.is00(o.orarioPartenzaEffettivo)?s=o.orarioPartenzaEffettivo:o.orarioPassaggioEffettivo&&!this.is00(o.orarioPassaggioEffettivo)?s=o.orarioPassaggioEffettivo:(s=new Date,s.setHours(0),s.setMinutes(0)),s})}ngOnInit(){this.routeSub=this.route.params.subscribe(i=>{this.id.set(i.id),this.idSubject.next(i.id)}),this.idSubject.subscribe(i=>{this.getPercorso()})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}getPercorso(){this.firestoreService.getPercorsi().subscribe(i=>{this.readyToShow.set(!1),this.percorso.set(i.filter(r=>r.id===this.id())[0]),this.percorso.update(r=>{let s=r;for(let o=0;o<r.checkpoint.length;o++)s.checkpoint[o].orarioPassaggioPrevisto&&(s.checkpoint[o].orarioPassaggioPrevisto=s.checkpoint[o].orarioPassaggioPrevisto.toDate(),s.checkpoint[o].orarioPassaggioEffettivo=s.checkpoint[o].orarioPassaggioEffettivo.toDate()),s.checkpoint[o].orarioArrivoPrevisto&&(s.checkpoint[o].orarioArrivoPrevisto=s.checkpoint[o].orarioArrivoPrevisto.toDate(),s.checkpoint[o].orarioArrivoEffettivo=s.checkpoint[o].orarioArrivoEffettivo.toDate()),s.checkpoint[o].orarioPartenzaPrevisto&&(s.checkpoint[o].orarioPartenzaPrevisto=s.checkpoint[o].orarioPartenzaPrevisto.toDate(),s.checkpoint[o].orarioPartenzaEffettivo=s.checkpoint[o].orarioPartenzaEffettivo.toDate());return s}),this.readyToShow.set(!0)})}is00(i){return i?i.getHours()===0&&i.getMinutes()===0:!1}state(){let i=0;if(this.lastPosition()===this.percorso().checkpoint[0]&&this.is00(this.lastPosition().orarioPartenzaEffettivo))return"NON PARTITO";if(this.lastPosition().orarioPartenzaPrevisto&&this.lastPosition().orarioArrivoPrevisto)if(this.is00(this.lastPosition().orarioPartenzaEffettivo)){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{if(this.lastPosition().orarioPartenzaPrevisto){let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioArrivoPrevisto){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioPassaggioPrevisto){let r=this.lastPosition().orarioPassaggioEffettivo.getTime()-this.lastPosition().orarioPassaggioPrevisto.getTime();i=Math.floor(r/(1e3*60))}}return i<0?i.toString()+" MIN":i>0?"+"+i.toString()+" MIN":i===0?"IN ORARIO":"NON PARTITO"}};e.\u0275fac=function(r){return new(r||e)(G(Hv),G(ns))},e.\u0275cmp=ee({type:e,selectors:[["app-tracking"]],standalone:!0,features:[ye],decls:16,vars:8,consts:[[1,"last-detection"],[1,"detection"],[1,"tag-container"],[3,"value"],[1,"map-section"],[1,"timeline"],["pTemplate","content"],["pTemplate","opposite"],[1,"map"],[4,"ngIf"],[3,"coordinates"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"div",1)(2,"h3"),ce(3),A(),x(4,"p"),ce(5),ki(6,"date"),A()(),x(7,"div",2),W(8,"p-tag",3),A()(),x(9,"div",4)(10,"div",5)(11,"p-timeline",3),D(12,xpe,1,1,"ng-template",6)(13,Lpe,3,3,"ng-template",7),A()(),x(14,"div",8),D(15,Npe,2,1,"ng-container",9),A()()),r&2&&(y(3),$e(s.lastPosition().id),y(2),on("Ultimo rilevamento: ",s.is00(s.lastTime())?"--:--":Pi(6,5,s.lastTime(),"HH:mm"),""),y(3),cC("value",s.state()),y(3),g("value",s.percorso().checkpoint),y(4),g("ngIf",s.readyToShow()))},dependencies:[U8,St,S0,z8,j8,ot,$8,H8],styles:["[_nghost-%COMP%]     .p-tag{font-size:16px;padding:.5em;background-color:var(--verde)}.last-detection[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.detection[_ngcontent-%COMP%]{flex:1;margin:10px}.tag-container[_ngcontent-%COMP%]{flex:2;align-content:center}.map-section[_ngcontent-%COMP%]{display:flex;flex-direction:row}.timeline[_ngcontent-%COMP%]{flex:1;max-height:inherit;overflow-y:auto;max-height:400px}.map[_ngcontent-%COMP%]{flex:2;max-height:400px}[_nghost-%COMP%]     .p-timeline-event-opposite{font-size:12px}[_nghost-%COMP%]     .p-timeline-event-marker{border-color:var(--verde)}@media (600px < width <= 900px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:2}.timeline[_ngcontent-%COMP%], .map[_ngcontent-%COMP%]{flex:1}}@media (400px < width <= 600px){.detection[_ngcontent-%COMP%]{flex:1;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}}@media (width <= 400px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}}"]});let n=e;return n})();var W8=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:kN,children:[{path:":id",component:G8}]},{path:"login",component:QV},{path:"manage",component:C6,canActivate:[E6]}];function q8(n){return new he(3e3,!1)}function Vpe(){return new he(3100,!1)}function Bpe(){return new he(3101,!1)}function Upe(n){return new he(3001,!1)}function jpe(n){return new he(3003,!1)}function zpe(n){return new he(3004,!1)}function Hpe(n,e){return new he(3005,!1)}function $pe(){return new he(3006,!1)}function Gpe(){return new he(3007,!1)}function Wpe(n,e){return new he(3008,!1)}function qpe(n){return new he(3002,!1)}function Kpe(n,e,t,i,r){return new he(3010,!1)}function Ype(){return new he(3011,!1)}function Qpe(){return new he(3012,!1)}function Zpe(){return new he(3200,!1)}function Xpe(){return new he(3202,!1)}function Jpe(){return new he(3013,!1)}function eme(n){return new he(3014,!1)}function tme(n){return new he(3015,!1)}function nme(n){return new he(3016,!1)}function ime(n,e){return new he(3404,!1)}function rme(n){return new he(3502,!1)}function sme(n){return new he(3503,!1)}function ome(){return new he(3300,!1)}function ame(n){return new he(3504,!1)}function lme(n){return new he(3301,!1)}function cme(n,e){return new he(3302,!1)}function ume(n){return new he(3303,!1)}function dme(n,e){return new he(3400,!1)}function hme(n){return new he(3401,!1)}function fme(n){return new he(3402,!1)}function pme(n,e){return new he(3505,!1)}function Ql(n){switch(n.length){case 0:return new fl;case 1:return n[0];default:return new Sp(n)}}function aB(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((f,p)=>{let _=p,I=f;if(p!=="offset")switch(_=n.normalizePropertyName(_,r),I){case yy:I=t.get(p);break;case ro:I=i.get(p);break;default:I=n.normalizeStyleValue(p,_,I,r);break}h.set(_,I)}),u||s.push(h),a=h,o=c}),r.length)throw rme(r);return s}function tM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&PR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&PR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&PR(t,"destroy",n)));break}}function PR(n,e,t){let i=t.totalTime,r=!!t.disabled,s=nM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function nM(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function qr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function K8(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var mme=typeof document>"u"?null:document.documentElement;function iM(n){let e=n.parentNode||n.host||null;return e===mme?null:e}function gme(n){return n.substring(1,6)=="ebkit"}var Iu=null,Y8=!1;function _me(n){Iu||(Iu=yme()||{},Y8=Iu.style?"WebkitAppearance"in Iu.style:!1);let e=!0;return Iu.style&&!gme(n)&&(e=n in Iu.style,!e&&Y8&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Iu.style)),e}function yme(){return typeof document<"u"?document.body:null}function lB(n,e){for(;e;){if(e===n)return!0;e=iM(e)}return!1}function cB(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var rM=(()=>{let e=class e{validateStyleProperty(i){return _me(i)}matchesElement(i,r){return!1}containsElement(i,r){return lB(i,r)}getParentElement(i){return iM(i)}query(i,r,s){return cB(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new fl(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),lM=class lM{};lM.NOOP=new rM;var Eu=lM,Tu=class{};var vme=1e3,uB="{{",wme="}}",dB="ng-enter",BR="ng-leave",tI="ng-trigger",oI=".ng-trigger",Q8="ng-animating",UR=".ng-animating";function Ma(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jR(parseFloat(e[1]),e[2])}function jR(n,e){switch(e){case"s":return n*vme;default:return n}}function aI(n,e,t){return n.hasOwnProperty("duration")?n:Ime(n,e,t)}function Ime(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(q8(n)),{duration:0,delay:0,easing:""};r=jR(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=jR(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(Vpe()),a=!0),s<0&&(e.push(Bpe()),a=!0),a&&e.splice(l,0,q8(n))}return{duration:r,delay:s,easing:o}}function bme(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ro(n,e,t){e.forEach((i,r)=>{let s=sM(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Cu(n,e){e.forEach((t,i)=>{let r=sM(i);n.style[r]=""})}function Xm(n){return Array.isArray(n)?n.length==1?n[0]:m3(n):n}function Cme(n,e,t){let i=e.params||{},r=hB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(Upe(s))})}var zR=new RegExp(`${uB}\\s*(.+?)\\s*${wme}`,"g");function hB(n){let e=[];if(typeof n=="string"){let t;for(;t=zR.exec(n);)e.push(t[1]);zR.lastIndex=0}return e}function eg(n,e,t){let i=`${n}`,r=i.replace(zR,(s,o)=>{let a=e[o];return a==null&&(t.push(jpe(o)),a=""),a.toString()});return r==i?n:r}var Eme=/-+([a-z0-9])/g;function sM(n){return n.replace(Eme,(...e)=>e[1].toUpperCase())}function Tme(n,e){return n===0||e===0}function xme(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,oM(n,a)))}}return e}function Wr(n,e,t){switch(e.type){case at.Trigger:return n.visitTrigger(e,t);case at.State:return n.visitState(e,t);case at.Transition:return n.visitTransition(e,t);case at.Sequence:return n.visitSequence(e,t);case at.Group:return n.visitGroup(e,t);case at.Animate:return n.visitAnimate(e,t);case at.Keyframes:return n.visitKeyframes(e,t);case at.Style:return n.visitStyle(e,t);case at.Reference:return n.visitReference(e,t);case at.AnimateChild:return n.visitAnimateChild(e,t);case at.AnimateRef:return n.visitAnimateRef(e,t);case at.Query:return n.visitQuery(e,t);case at.Stagger:return n.visitStagger(e,t);default:throw zpe(e.type)}}function oM(n,e){return window.getComputedStyle(n)[e]}var Sme=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lI=class extends Tu{normalizePropertyName(e,t){return sM(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(Sme.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Hpe(e,i))}return o+s}};var cI="*";function Dme(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Ame(i,t,e)):t.push(n),t}function Ame(n,e,t){if(n[0]==":"){let l=Rme(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(tme(n)),e;let r=i[1],s=i[2],o=i[3];e.push(Z8(r,o));let a=r==cI&&o==cI;s[0]=="<"&&!a&&e.push(Z8(o,r))}function Rme(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(nme(n)),"* => *"}}var nI=new Set(["true","1"]),iI=new Set(["false","0"]);function Z8(n,e){let t=nI.has(n)||iI.has(n),i=nI.has(e)||iI.has(e);return(r,s)=>{let o=n==cI||n==r,a=e==cI||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?nI.has(n):iI.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?nI.has(e):iI.has(e)),o&&a}}var fB=":self",Mme=new RegExp(`s*${fB}s*,?`,"g");function pB(n,e,t,i){return new HR(n).build(e,t,i)}var X8="",HR=class{constructor(e){this._driver=e}build(e,t,i){let r=new $R(t);return this._resetContextStyleTimingState(r),Wr(this,Xm(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=X8,e.collectedStyles=new Map,e.collectedStyles.set(X8,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push($pe()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==at.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==at.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(Gpe())}),{type:at.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{hB(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(Wpe(e.name,[...s.values()]))}return{type:at.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Wr(this,Xm(e.animation),t),r=Dme(e.expr,t.errors);return{type:at.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bu(e.options)}}visitSequence(e,t){return{type:at.Sequence,steps:e.steps.map(i=>Wr(this,i,t)),options:bu(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Wr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:at.Group,steps:s,options:bu(e.options)}}visitAnimate(e,t){let i=Fme(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Gi({});if(s.type==at.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Gi(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:at.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ro?i.push(a):t.errors.push(qpe(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(uB)>=0){s=!0;break}}}),{type:at.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(Kpe(l,u.startTime,u.endTime,s,r)),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&Cme(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:at.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Ype()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(E=>{let M=this._makeStyleAst(E,t),P=M.offset!=null?M.offset:Ome(M.styles),F=0;return P!=null&&(s++,F=M.offset=P),l=l||F<0||F>1,a=a||F<c,c=F,o.push(F),M});l&&t.errors.push(Qpe()),a&&t.errors.push(Zpe());let h=e.steps.length,f=0;s>0&&s<h?t.errors.push(Xpe()):s==0&&(f=r/(h-1));let p=h-1,_=t.currentTime,I=t.currentAnimateTimings,b=I.duration;return u.forEach((E,M)=>{let P=f>0?M==p?1:f*M:o[M],F=P*b;t.currentTime=_+I.delay+F,I.duration=F,this._validateStyleAst(E,t),E.offset=P,i.styles.push(E)}),i}visitReference(e,t){return{type:at.Reference,animation:Wr(this,Xm(e.animation),t),options:bu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:at.AnimateChild,options:bu(e.options)}}visitAnimateRef(e,t){return{type:at.AnimateRef,animation:this.visitReference(e.animation,t),options:bu(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=kme(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,qr(t.collectedStyles,t.currentQuerySelector,new Map);let a=Wr(this,Xm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:at.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:bu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Jpe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:aI(e.timings,t.errors,!0);return{type:at.Stagger,animation:Wr(this,Xm(e.animation),t),timings:i,options:null}}};function kme(n){let e=!!n.split(/\s*,\s*/).find(t=>t==fB);return e&&(n=n.replace(Mme,"")),n=n.replace(/@\*/g,oI).replace(/@\w+/g,t=>oI+"-"+t.slice(1)).replace(/:animating/g,UR),[n,e]}function Pme(n){return n?oe({},n):null}var $R=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Ome(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Fme(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=aI(n,e).duration;return OR(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=OR(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=aI(t,e);return OR(r.duration,r.delay,r.easing)}function bu(n){return n?(n=oe({},n),n.params&&(n.params=Pme(n.params))):n={},n}function OR(n,e,t){return{duration:n,delay:e,easing:t}}function aM(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var tg=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Lme=1,Nme=":enter",Vme=new RegExp(Nme,"g"),Bme=":leave",Ume=new RegExp(Bme,"g");function mB(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new GR().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var GR=class{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new tg;let h=new WR(e,t,c,r,s,u,[]);h.options=l;let f=l.delay?Ma(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,l),Wr(this,i,h);let p=h.timelines.filter(_=>_.containsAnimation());if(p.length&&a.size){let _;for(let I=p.length-1;I>=0;I--){let b=p[I];if(b.element===t){_=b;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,h.errors,l)}return p.length?p.map(_=>_.buildKeyframes()):[aM(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ma(eg(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Ma(i.duration):null,a=i.delay!=null?Ma(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==at.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uI);let o=Ma(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Wr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ma(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Wr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?eg(i,t.params,t.errors):i;return aI(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==at.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ma(r.delay):0;s&&(t.previousNode.type===at.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uI);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Wr(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;Wr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},uI={},WR=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new dI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ma(i.duration)),i.delay!=null&&(r.delay=Ma(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=eg(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=uI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new qR(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Vme,"."+this._enterClassName),e=e.replace(Ume,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(eme(t)),a}},dI=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Lme,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ro),this._currentKeyframe.set(t,ro);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=jme(e,this._globalTimelineStyles);for(let[a,l]of o){let c=eg(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ro),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===yy?e.add(h):u===ro&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return aM(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},qR=class extends dI{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",J8(a)),s.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]),p=f.get("offset"),_=t+p*i;f.set("offset",J8(_/o)),s.push(f)}i=o,t=0,r="",e=s}return aM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function J8(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function jme(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,ro)}else for(let[s,o]of r)t.set(s,o)}),t}function eB(n,e,t,i,r,s,o,a,l,c,u,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}var FR={},hI=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return zme(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){let h=[],f=this.ast.options&&this.ast.options.params||FR,p=a&&a.params||FR,_=this.buildStyles(i,p,h),I=l&&l.params||FR,b=this.buildStyles(r,I,h),E=new Set,M=new Map,P=new Map,F=r==="void",$={params:gB(I,f),delay:this.ast.options?.delay},Y=u?[]:mB(e,t,this.ast.animation,s,o,_,b,$,c,h),R=0;return Y.forEach(C=>{R=Math.max(C.duration+C.delay,R)}),h.length?eB(t,this._triggerName,i,r,F,_,b,[],[],M,P,R,h):(Y.forEach(C=>{let T=C.element,O=qr(M,T,new Set);C.preStyleProps.forEach(V=>O.add(V));let N=qr(P,T,new Set);C.postStyleProps.forEach(V=>N.add(V)),T!==t&&E.add(T)}),eB(t,this._triggerName,i,r,F,_,b,Y,[...E.values()],M,P,R))}};function zme(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function gB(n,e){let t=oe({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var KR=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=gB(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=eg(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function Hme(n,e,t){return new YR(n,e,t)}var YR=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new KR(r.style,s,i))}),tB(this.states,"true","1"),tB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new hI(e,r,this.states))}),this.fallbackTransition=$me(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function $me(n,e,t){let i=[(o,a)=>!0],r={type:at.Sequence,steps:[],options:null},s={type:at.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new hI(n,s,e)}function tB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Gme=new tg,QR=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=pB(this._driver,t,i,r);if(i.length)throw sme(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=aB(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=mB(this._driver,t,s,dB,BR,new Map,new Map,i,Gme,r),o.forEach(u=>{let h=qr(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(ome()),o=[]),r.length)throw ame(r);a.forEach((u,h)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(h,p,ro))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=Ql(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw lme(e);return t}listen(e,t,i,r){let s=nM(t,"","","");return tM(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},nB="ng-animate-queued",Wme=".ng-animate-queued",LR="ng-animate-disabled",qme=".ng-animate-disabled",Kme="ng-star-inserted",Yme=".ng-star-inserted",Qme=[],_B={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Us="__ng_removed",ng=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Jme(r),i){let s=e,{value:o}=s,a=RI(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Jm="void",NR=new ng(Jm),ZR=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,us(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw cme(i,t);if(i==null||i.length==0)throw ume(t);if(!ege(i))throw dme(i,t);let s=qr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=qr(this._engine.statesByElement,e,new Map);return a.has(t)||(us(e,tI),us(e,tI+"-"+t),a.set(t,NR)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw hme(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new ig(this.id,t,e),a=this._engine.statesByElement.get(e);a||(us(e,tI),us(e,tI+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new ng(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=NR),!(c.value===Jm)&&l.value===c.value){if(!ige(l.params,c.params)){let I=[],b=s.matchStyles(l.value,l.params,I),E=s.matchStyles(c.value,c.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Cu(e,b),Ro(e,E)})}return}let f=qr(this._engine.playersByElement,e,[]);f.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let p=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!p){if(!r)return;p=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:_}),_||(us(e,nB),o.onStart(()=>{cf(e,nB)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);let b=this._engine.playersByElement.get(e);if(b){let E=b.indexOf(o);E>=0&&b.splice(E,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,oI,!0);i.forEach(r=>{if(r[Us])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Jm,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Ql(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||NR,u=new ng(Jm),h=new ig(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Us];(!s||s===_B)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){us(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=nM(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,tM(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},XR=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new ZR(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(rI(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!rI(t))return;let s=t[Us];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),us(e,LR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cf(e,LR))}removeNode(e,t,i){if(rI(t)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Us]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return rI(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,oI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,UR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ql(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Us];if(t&&t.setForRemoval){if(e[Us]=_B,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,qme,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];us(r,Kme)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ql(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw fme(e)}_flushAnimations(e,t){let i=new tg,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Z=>{u.add(Z);let ie=this.driver.query(Z,Wme,!0);for(let de=0;de<ie.length;de++)u.add(ie[de])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=sB(f,this.collectedEnterElements),_=new Map,I=0;p.forEach((Z,ie)=>{let de=dB+I++;_.set(ie,de),Z.forEach(Ae=>us(Ae,de))});let b=[],E=new Set,M=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let ie=this.collectedLeaveElements[Z],de=ie[Us];de&&de.setForRemoval&&(b.push(ie),E.add(ie),de.hasAnimation?this.driver.query(ie,Yme,!0).forEach(Ae=>E.add(Ae)):M.add(ie))}let P=new Map,F=sB(f,Array.from(E));F.forEach((Z,ie)=>{let de=BR+I++;P.set(ie,de),Z.forEach(Ae=>us(Ae,de))}),e.push(()=>{p.forEach((Z,ie)=>{let de=_.get(ie);Z.forEach(Ae=>cf(Ae,de))}),F.forEach((Z,ie)=>{let de=P.get(ie);Z.forEach(Ae=>cf(Ae,de))}),b.forEach(Z=>{this.processLeaveNode(Z)})});let $=[],Y=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(de=>{let Ae=de.player,xe=de.element;if($.push(Ae),this.collectedEnterElements.length){let yt=xe[Us];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(de.triggerName)){let $n=yt.previousTriggersValues.get(de.triggerName),vn=this.statesByElement.get(de.element);if(vn&&vn.has(de.triggerName)){let Tn=vn.get(de.triggerName);Tn.value=$n,vn.set(de.triggerName,Tn)}}Ae.destroy();return}}let ze=!h||!this.driver.containsElement(h,xe),Ge=P.get(xe),ut=_.get(xe),re=this._buildInstruction(de,i,ut,Ge,ze);if(re.errors&&re.errors.length){Y.push(re);return}if(ze){Ae.onStart(()=>Cu(xe,re.fromStyles)),Ae.onDestroy(()=>Ro(xe,re.toStyles)),r.push(Ae);return}if(de.isFallbackTransition){Ae.onStart(()=>Cu(xe,re.fromStyles)),Ae.onDestroy(()=>Ro(xe,re.toStyles)),r.push(Ae);return}let In=[];re.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||In.push(yt)}),re.timelines=In,i.append(xe,re.timelines);let Ln={instruction:re,player:Ae,element:xe};o.push(Ln),re.queriedElements.forEach(yt=>qr(a,yt,[]).push(Ae)),re.preStyleProps.forEach((yt,$n)=>{if(yt.size){let vn=l.get($n);vn||l.set($n,vn=new Set),yt.forEach((Tn,Di)=>vn.add(Di))}}),re.postStyleProps.forEach((yt,$n)=>{let vn=c.get($n);vn||c.set($n,vn=new Set),yt.forEach((Tn,Di)=>vn.add(Di))})});if(Y.length){let Z=[];Y.forEach(ie=>{Z.push(pme(ie.triggerName,ie.errors))}),$.forEach(ie=>ie.destroy()),this.reportError(Z)}let R=new Map,C=new Map;o.forEach(Z=>{let ie=Z.element;i.has(ie)&&(C.set(ie,ie),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,R))}),r.forEach(Z=>{let ie=Z.element;this._getPreviousPlayers(ie,!1,Z.namespaceId,Z.triggerName,null).forEach(Ae=>{qr(R,ie,[]).push(Ae),Ae.destroy()})});let T=b.filter(Z=>oB(Z,l,c)),O=new Map;rB(O,this.driver,M,c,ro).forEach(Z=>{oB(Z,l,c)&&T.push(Z)});let V=new Map;p.forEach((Z,ie)=>{rB(V,this.driver,new Set(Z),l,yy)}),T.forEach(Z=>{let ie=O.get(Z),de=V.get(Z);O.set(Z,new Map([...ie?.entries()??[],...de?.entries()??[]]))});let k=[],Te=[],Ee={};o.forEach(Z=>{let{element:ie,player:de,instruction:Ae}=Z;if(i.has(ie)){if(u.has(ie)){de.onDestroy(()=>Ro(ie,Ae.toStyles)),de.disabled=!0,de.overrideTotalTime(Ae.totalTime),r.push(de);return}let xe=Ee;if(C.size>1){let Ge=ie,ut=[];for(;Ge=Ge.parentNode;){let re=C.get(Ge);if(re){xe=re;break}ut.push(Ge)}ut.forEach(re=>C.set(re,xe))}let ze=this._buildAnimation(de.namespaceId,Ae,R,s,V,O);if(de.setRealPlayer(ze),xe===Ee)k.push(de);else{let Ge=this.playersByElement.get(xe);Ge&&Ge.length&&(de.parentPlayer=Ql(Ge)),r.push(de)}}else Cu(ie,Ae.fromStyles),de.onDestroy(()=>Ro(ie,Ae.toStyles)),Te.push(de),u.has(ie)&&r.push(de)}),Te.forEach(Z=>{let ie=s.get(Z.element);if(ie&&ie.length){let de=Ql(ie);Z.setRealPlayer(de)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<b.length;Z++){let ie=b[Z],de=ie[Us];if(cf(ie,BR),de&&de.hasAnimation)continue;let Ae=[];if(a.size){let ze=a.get(ie);ze&&ze.length&&Ae.push(...ze);let Ge=this.driver.query(ie,UR,!0);for(let ut=0;ut<Ge.length;ut++){let re=a.get(Ge[ut]);re&&re.length&&Ae.push(...re)}}let xe=Ae.filter(ze=>!ze.destroyed);xe.length?tge(this,ie,xe):this.processLeaveNode(ie)}return b.length=0,k.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let ie=this.players.indexOf(Z);this.players.splice(ie,1)}),Z.play()}),k}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Jm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==s,h=qr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(p=>{let _=p.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),p.destroy(),h.push(p)})}Cu(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,f=t.timelines.map(_=>{let I=_.element;u.add(I);let b=I[Us];if(b&&b.removedBeforeQueried)return new fl(_.duration,_.delay);let E=I!==l,M=nge((i.get(I)||Qme).map(R=>R.getRealPlayer())).filter(R=>{let C=R;return C.element?C.element===I:!1}),P=s.get(I),F=o.get(I),$=aB(this._normalizer,_.keyframes,P,F),Y=this._buildPlayer(_,$,M);if(_.subTimeline&&r&&h.add(I),E){let R=new ig(e,a,I);R.setRealPlayer(Y),c.push(R)}return Y});c.forEach(_=>{qr(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Xme(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>us(_,Q8));let p=Ql(f);return p.onDestroy(()=>{u.forEach(_=>cf(_,Q8)),Ro(l,t.toStyles)}),h.forEach(_=>{qr(r,_,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new fl(e.duration,e.delay)}},ig=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new fl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>tM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Xme(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Jme(n){return n??null}function rI(n){return n&&n.nodeType===1}function ege(n){return n=="start"||n=="done"}function iB(n,e){let t=n.style.display;return n.style.display=e??"none",t}function rB(n,e,t,i,r){let s=[];t.forEach(l=>s.push(iB(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let f=e.computeStyle(c,h,r);u.set(h,f),(!f||f.length==0)&&(c[Us]=Zme,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>iB(l,s[a++])),o}function sB(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function us(n,e){n.classList?.add(e)}function cf(n,e){n.classList?.remove(e)}function tge(n,e,t){Ql(t).onDone(()=>n.processLeaveNode(e))}function nge(n){let e=[];return yB(n,e),e}function yB(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Sp?yB(i.players,e):e.push(i)}}function ige(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function oB(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var df=class{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new XR(e.body,t,i,r),this._timelineEngine=new QR(e.body,t,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=pB(this._driver,s,l,c);if(l.length)throw ime(r,l);c.length&&void 0,a=Hme(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=K8(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=K8(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function rge(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=VR(e[0]),e.length>1&&(i=VR(e[e.length-1]))):e instanceof Map&&(t=VR(e)),t||i?new JR(n,t,i):null}var uf=class uf{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=uf.initialStylesByElement.get(e);r||uf.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ro(this._element,this._initialStyles),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(uf.initialStylesByElement.delete(this._element),this._startStyles&&(Cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cu(this._element,this._endStyles),this._endStyles=null),Ro(this._element,this._initialStyles),this._state=3)}};uf.initialStylesByElement=new WeakMap;var JR=uf;function VR(n){let e=null;return n.forEach((t,i)=>{sge(i)&&(e=e||new Map,e.set(i,t))}),e}function sge(n){return n==="display"||n==="position"}var fI=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:oM(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},pI=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lB(e,t)}getParentElement(e){return iM(e)}query(e,t,i){return cB(e,t,i)}computeStyle(e,t,i){return oM(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(p=>p instanceof fI);Tme(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((_,I)=>c.set(I,_))});let h=bme(t).map(p=>new Map(p));h=xme(e,h,c);let f=rge(e,h);return new fI(e,h,l,f)}};var sI="@",vB="@.disabled",mI=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==sI&&t==vB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},eM=class extends mI{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==sI?t.charAt(1)=="."&&t==vB?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==sI){let r=oge(e),s=t.slice(1),o="";return s.charAt(0)!=sI&&([s,o]=age(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function oge(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function age(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var gI=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let h=()=>c.delete(r);u=new mI(i,r,this.engine,h),c.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new eM(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cge=(()=>{let e=class e extends df{constructor(i,r,s){super(i,r,s,fe(ad,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(Oe(It),Oe(Eu),Oe(Tu))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function uge(){return new lI}function dge(n,e,t){return new gI(n,e,t)}var wB=[{provide:Tu,useFactory:uge},{provide:df,useClass:cge},{provide:vc,useFactory:dge,deps:[L0,df,Ke]}],hge=[{provide:Eu,useFactory:()=>new pI},{provide:jb,useValue:"BrowserAnimations"},...wB],Nze=[{provide:Eu,useClass:rM},{provide:jb,useValue:"NoopAnimations"},...wB];function IB(){return Js("NgEagerAnimations"),[...hge]}var bB={apiKey:"AIzaSyDcssjNZoxSROTfUnpTSIEIiMIpo2A-rww",authDomain:"santalucia-d9576.firebaseapp.com",projectId:"santalucia-d9576",storageBucket:"santalucia-d9576.appspot.com",messagingSenderId:"969590860252",appId:"1:969590860252:web:5998cdc474ac44b8f70719"};var CB={providers:[CN(W8),IB(),DL(),Cb([W3(()=>q3(bB)),GV(()=>qV()),g6(()=>w6())])]};var cM=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ee({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[ke,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),x(0,"svg",0),W(1,"path",1),A()),i&2&&(se(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var fge=["menubar"],pge=(n,e)=>({"p-submenu-list":n,"p-menubar-root-list":e}),EB=n=>({"p-menuitem-link":!0,"p-disabled":n}),mge=()=>({exact:!1}),gge=(n,e)=>({$implicit:n,root:e});function _ge(n,e){if(n&1&&W(0,"li",8),n&2){let t=v().$implicit,i=v();g("ngStyle",i.getItemProp(t,"style"))("ngClass",i.getSeparatorItemClass(t)),z("id",i.getItemId(t))("data-pc-section","separator")}}function yge(n,e){if(n&1&&W(0,"span",19),n&2){let t=v(4).$implicit,i=v();g("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),z("data-pc-section","icon")("tabindex",-1)}}function vge(n,e){if(n&1&&(x(0,"span",20),ce(1),A()),n&2){let t=v(4).$implicit,i=v();g("id",i.getItemLabelId(t)),z("data-pc-section","label"),y(),on(" ",i.getItemLabel(t)," ")}}function wge(n,e){if(n&1&&W(0,"span",21),n&2){let t=v(4).$implicit,i=v();g("innerHTML",i.getItemLabel(t),md)("id",i.getItemLabelId(t)),z("data-pc-section","label")}}function Ige(n,e){if(n&1&&(x(0,"span",22),ce(1),A()),n&2){let t=v(4).$implicit,i=v();g("ngClass",i.getItemProp(t,"badgeStyleClass")),y(),$e(i.getItemProp(t,"badge"))}}function bge(n,e){n&1&&W(0,"AngleDownIcon",25),n&2&&(g("styleClass","p-submenu-icon"),z("data-pc-section","submenuicon"))}function Cge(n,e){n&1&&W(0,"AngleRightIcon",25),n&2&&(g("styleClass","p-submenu-icon"),z("data-pc-section","submenuicon"))}function Ege(n,e){if(n&1&&(ae(0),D(1,bge,1,2,"AngleDownIcon",24)(2,Cge,1,2,"AngleRightIcon",24),le()),n&2){let t=v(6);y(),g("ngIf",t.root),y(),g("ngIf",!t.root)}}function Tge(n,e){}function xge(n,e){n&1&&D(0,Tge,0,0,"ng-template",26),n&2&&g("data-pc-section","submenuicon")}function Sge(n,e){if(n&1&&(ae(0),D(1,Ege,3,2,"ng-container",11)(2,xge,1,1,null,23),le()),n&2){let t=v(5);y(),g("ngIf",!t.submenuIconTemplate),y(),g("ngTemplateOutlet",t.submenuIconTemplate)}}function Dge(n,e){if(n&1&&(x(0,"a",15),D(1,yge,1,4,"span",16)(2,vge,2,3,"span",17)(3,wge,1,3,"ng-template",null,2,an)(5,Ige,2,2,"span",18)(6,Sge,3,2,"ng-container",11),A()),n&2){let t=Mt(4),i=v(3).$implicit,r=v();g("target",r.getItemProp(i,"target"))("ngClass",Se(11,EB,r.getItemProp(i,"disabled"))),z("href",r.getItemProp(i,"url"),bc)("data-automationid",r.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),y(),g("ngIf",r.getItemProp(i,"icon")),y(),g("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),y(3),g("ngIf",r.getItemProp(i,"badge")),y(),g("ngIf",r.isItemGroup(i))}}function Age(n,e){if(n&1&&W(0,"span",19),n&2){let t=v(4).$implicit,i=v();g("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),z("data-pc-section","icon")("tabindex",-1)}}function Rge(n,e){if(n&1&&(x(0,"span",29),ce(1),A()),n&2){let t=v(4).$implicit,i=v();y(),$e(i.getItemLabel(t))}}function Mge(n,e){if(n&1&&W(0,"span",30),n&2){let t=v(4).$implicit,i=v();g("innerHTML",i.getItemLabel(t),md),z("data-pc-section","label")}}function kge(n,e){if(n&1&&(x(0,"span",22),ce(1),A()),n&2){let t=v(4).$implicit,i=v();g("ngClass",i.getItemProp(t,"badgeStyleClass")),y(),$e(i.getItemProp(t,"badge"))}}function Pge(n,e){n&1&&W(0,"AngleDownIcon",25),n&2&&(g("styleClass","p-submenu-icon"),z("data-pc-section","submenuicon"))}function Oge(n,e){n&1&&W(0,"AngleRightIcon",25),n&2&&(g("styleClass","p-submenu-icon"),z("data-pc-section","submenuicon"))}function Fge(n,e){if(n&1&&(ae(0),D(1,Pge,1,2,"AngleDownIcon",24)(2,Oge,1,2,"AngleRightIcon",24),le()),n&2){let t=v(6);y(),g("ngIf",t.root),y(),g("ngIf",!t.root)}}function Lge(n,e){}function Nge(n,e){n&1&&D(0,Lge,0,0,"ng-template",26),n&2&&g("data-pc-section","submenuicon")}function Vge(n,e){if(n&1&&(ae(0),D(1,Fge,3,2,"ng-container",11)(2,Nge,1,1,null,23),le()),n&2){v(5);let t=Mt(1);y(),g("ngIf",!t.submenuIconTemplate),y(),g("ngTemplateOutlet",t.submenuIconTemplate)}}function Bge(n,e){if(n&1&&(x(0,"a",27),D(1,Age,1,4,"span",16)(2,Rge,2,1,"span",28)(3,Mge,1,2,"ng-template",null,3,an)(5,kge,2,2,"span",18)(6,Vge,3,2,"ng-container",11),A()),n&2){let t=Mt(4),i=v(3).$implicit,r=v();g("routerLink",r.getItemProp(i,"routerLink"))("queryParams",r.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(i,"routerLinkActiveOptions")||oi(20,mge))("target",r.getItemProp(i,"target"))("ngClass",Se(21,EB,r.getItemProp(i,"disabled")))("fragment",r.getItemProp(i,"fragment"))("queryParamsHandling",r.getItemProp(i,"queryParamsHandling"))("preserveFragment",r.getItemProp(i,"preserveFragment"))("skipLocationChange",r.getItemProp(i,"skipLocationChange"))("replaceUrl",r.getItemProp(i,"replaceUrl"))("state",r.getItemProp(i,"state")),z("data-automationid",r.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),y(),g("ngIf",r.getItemProp(i,"icon")),y(),g("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),y(3),g("ngIf",r.getItemProp(i,"badge")),y(),g("ngIf",r.isItemGroup(i))}}function Uge(n,e){if(n&1&&(ae(0),D(1,Dge,7,13,"a",13)(2,Bge,7,23,"a",14),le()),n&2){let t=v(2).$implicit,i=v();y(),g("ngIf",!i.getItemProp(t,"routerLink")),y(),g("ngIf",i.getItemProp(t,"routerLink"))}}function jge(n,e){}function zge(n,e){n&1&&D(0,jge,0,0,"ng-template")}function Hge(n,e){if(n&1&&(ae(0),D(1,zge,1,0,null,31),le()),n&2){let t=v(2).$implicit,i=v();y(),g("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",tn(2,gge,t.item,i.root))}}function $ge(n,e){if(n&1){let t=pe();x(0,"p-menubarSub",32),J("itemClick",function(r){B(t);let s=v(3);return U(s.itemClick.emit(r))})("itemMouseEnter",function(r){B(t);let s=v(3);return U(s.onItemMouseEnter(r))}),A()}if(n&2){let t=v(2).$implicit,i=v();g("itemTemplate",i.itemTemplate)("items",t.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("ariaLabelledBy",i.getItemLabelId(t))}}function Gge(n,e){if(n&1){let t=pe();x(0,"li",9,1)(2,"div",10),J("click",function(r){B(t);let s=v().$implicit,o=v();return U(o.onItemClick(r,s))})("mouseenter",function(r){B(t);let s=v().$implicit,o=v();return U(o.onItemMouseEnter({$event:r,processedItem:s}))}),D(3,Uge,3,2,"ng-container",11)(4,Hge,2,5,"ng-container",11),A(),D(5,$ge,1,9,"p-menubarSub",12),A()}if(n&2){let t=v(),i=t.$implicit,r=t.index,s=v();se(s.getItemProp(i,"styleClass")),g("ngStyle",s.getItemProp(i,"style"))("ngClass",s.getItemClass(i))("tooltipOptions",s.getItemProp(i,"tooltipOptions")),z("id",s.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(i))("data-p-focused",s.isItemFocused(i))("data-p-disabled",s.isItemDisabled(i))("aria-label",s.getItemLabel(i))("aria-disabled",s.isItemDisabled(i)||void 0)("aria-haspopup",s.isItemGroup(i)&&!s.getItemProp(i,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(i)?s.isItemActive(i):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),y(2),z("data-pc-section","content"),y(),g("ngIf",!s.itemTemplate),y(),g("ngIf",s.itemTemplate),y(),g("ngIf",s.isItemVisible(i)&&s.isItemGroup(i))}}function Wge(n,e){if(n&1&&D(0,_ge,1,4,"li",6)(1,Gge,6,21,"li",7),n&2){let t=e.$implicit,i=v();g("ngIf",i.isItemVisible(t)&&i.getItemProp(t,"separator")),y(),g("ngIf",i.isItemVisible(t)&&!i.getItemProp(t,"separator"))}}var qge=["menubutton"],Kge=["rootmenu"],Yge=["*"],Qge=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function Zge(n,e){n&1&&ge(0)}function Xge(n,e){if(n&1&&(x(0,"div",8),D(1,Zge,1,0,"ng-container",9),A()),n&2){let t=v();y(),g("ngTemplateOutlet",t.startTemplate)}}function Jge(n,e){n&1&&W(0,"BarsIcon")}function e_e(n,e){}function t_e(n,e){n&1&&D(0,e_e,0,0,"ng-template")}function n_e(n,e){if(n&1){let t=pe();x(0,"a",10,2),J("click",function(r){B(t);let s=v();return U(s.menuButtonClick(r))})("keydown",function(r){B(t);let s=v();return U(s.menuButtonKeydown(r))}),D(2,Jge,1,0,"BarsIcon",11)(3,t_e,1,0,null,9),A()}if(n&2){let t=v();z("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),y(2),g("ngIf",!t.menuIconTemplate),y(),g("ngTemplateOutlet",t.menuIconTemplate)}}function i_e(n,e){n&1&&ge(0)}function r_e(n,e){if(n&1&&(x(0,"div",12),D(1,i_e,1,0,"ng-container",9),A()),n&2){let t=v();y(),g("ngTemplateOutlet",t.endTemplate)}}function s_e(n,e){n&1&&(x(0,"div",12),Qn(1),A())}var uM=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new sn;mouseLeft$=this.mouseLeaves.pipe(XI(()=>ZI(this.autoHideDelay)),ii(t=>this.autoHide&&t));static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),o_e=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new X;itemMouseEnter=new X;menuFocus=new X;menuBlur=new X;menuKeydown=new X;menubarViewChild;mouseLeaveSubscriber;constructor(t,i,r,s){this.el=t,this.renderer=i,this.cd=r,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,i){this.getItemProp(i,"command",{originalEvent:t,item:i.item}),this.itemClick.emit({originalEvent:t,processedItem:i,isFocus:!0})}getItemProp(t,i,r=null){return t&&t.item?ne.getItemValue(t.item[i],r):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemLabelId(t){return`${this.menuId}_${t.key}_label`}getItemClass(t){return it(oe({},this.getItemProp(t,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)})}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return it(oe({},this.getItemProp(t,"class")),{"p-menuitem-separator":!0})}isItemVisible(t){return this.getItemProp(t,"visible")!==!1}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return ne.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);let{event:i,processedItem:r}=t;this.itemMouseEnter.emit({originalEvent:i,processedItem:r})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(G(nt),G(Jt),G(wt),G(uM))};static \u0275cmp=ee({type:n,selectors:[["p-menubarSub"]],viewQuery:function(i,r){if(i&1&&We(fge,7),i&2){let s;be(s=Ce())&&(r.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[j.HasDecoratorInputTransform,"root","root",K],autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],mobileActive:[j.HasDecoratorInputTransform,"mobileActive","mobileActive",K],autoDisplay:[j.HasDecoratorInputTransform,"autoDisplay","autoDisplay",K],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[j.HasDecoratorInputTransform,"level","level",Ve],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Ct],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(i,r){if(i&1){let s=pe();x(0,"ul",4,0),J("focus",function(a){return B(s),U(r.menuFocus.emit(a))})("blur",function(a){return B(s),U(r.menuBlur.emit(a))})("keydown",function(a){return B(s),U(r.menuKeydown.emit(a))}),D(2,Wge,2,2,"ng-template",5),A()}i&2&&(g("ngClass",tn(8,pge,!r.root,r.root))("tabindex",0),z("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.root?r.menuId:null)("aria-activedescendant",r.focusedItemId),y(2),g("ngForOf",r.items))},dependencies:()=>[kt,gi,St,Vt,Pt,ol,ny,$i,Od,Qd,Zd,n],encapsulation:2})}return n})(),TB=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new X;onBlur=new X;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Rn([]);number=Rn(0);focusedItemInfo=Rn({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let t=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:t.index!==-1?`${this.id}${ne.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.menubarService=l,Kf(()=>{let c=this.activeItemPath();ne.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||Ut()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}createProcessedItems(t,i=0,r={},s=""){let o=[];return t&&t.forEach((a,l)=>{let c=(s!==""?s+"_":"")+l,u={item:a,index:l,level:i,key:c,parent:r,parentKey:s};u.items=this.createProcessedItems(a.items,i+1,u,c),o.push(u)}),o}getItemProp(t,i){return t?ne.getItemValue(t[i]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){(t.code==="Enter"||t.code==="Space")&&this.menuButtonClick(t)}onItemClick(t){let{originalEvent:i,processedItem:r}=t,s=this.isProcessedItemGroup(r),o=ne.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:u,parentKey:h,item:f}=r;this.activeItemPath.set(this.activeItemPath().filter(p=>c!==p.key&&c.startsWith(p.key))),this.focusedItemInfo.set({index:l,level:u,parentKey:h,item:f}),this.dirty=!o,L.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(t);else{let l=o?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,l?l.index:-1),this.mobileActive=!1,L.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){L.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,i){let r=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let s=this.focusedItemInfo();this.focusedItemInfo.set(it(oe({},s),{item:r.item,index:i})),this.scrollInView()}}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedItemId,r=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){let{processedItem:i,isFocus:r}=t;if(ne.isEmpty(i))return;let{index:s,key:o,level:a,parentKey:l,items:c,item:u}=i,h=ne.isNotEmpty(c),f=this.activeItemPath().filter(p=>p.parentKey!==l&&p.parentKey!==o);h&&f.push(i),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:u}),this.activeItemPath.set(f),h&&(this.dirty=!0),r&&L.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,Un.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Un.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,i){this.mobileActive&&setTimeout(()=>{L.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&L.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){let t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item}),L.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(r),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&ne.isPrintableCharacter(t.key)&&this.searchItems(t,t.key);break}}findVisibleItem(t){return ne.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&ne.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(i=>i.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&ne.isNotEmpty(t.items)}searchItems(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?ne.isEmpty(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowRightKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(s=>s.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowUpKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(ne.isEmpty(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let o=this.findLastItemIndex();this.changeFocusedItemIndex(t,o)}}else{let s=this.activeItemPath().find(o=>o.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(t);let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{let o=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o)}}t.preventDefault()}onArrowLeftKey(t){let i=this.visibleItems[this.focusedItemInfo().index],r=i?this.activeItemPath().find(s=>s.key===i.parentKey):null;if(r){this.onItemChange({originalEvent:t,processedItem:r});let s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),t.preventDefault()}else{let s=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:t,processedItem:i})}this.hide()}onEnterKey(t){if(this.focusedItemInfo().index!==-1){let i=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=i&&L.findSingle(i,'a[data-pc-section="action"]');r?r.click():i&&i.click()}t.preventDefault()}findLastFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return ne.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){let i=t>0?ne.findLastIndex(this.visibleItems.slice(0,t),r=>this.isValidItem(r)):-1;return i>-1?i:t}findNextItemIndex(t){let i=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(r=>this.isValidItem(r)):-1;return i>-1?i+t+1:t}bindResizeListener(){nn(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{L.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){nn(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{let i=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),r=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);i&&(r?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(i){return new(i||n)(G(It),G(Gt),G(nt),G(Jt),G(wt),G(pn),G(uM))};static \u0275cmp=ee({type:n,selectors:[["p-menubar"]],contentQueries:function(i,r,s){if(i&1&&Bt(s,ot,4),i&2){let o;be(o=Ce())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(We(qge,5),We(Kge,5)),i&2){let s;be(s=Ce())&&(r.menubutton=s.first),be(s=Ce())&&(r.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],autoDisplay:[j.HasDecoratorInputTransform,"autoDisplay","autoDisplay",K],autoHide:[j.HasDecoratorInputTransform,"autoHide","autoHide",K],autoHideDelay:[j.HasDecoratorInputTransform,"autoHideDelay","autoHideDelay",Ve],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[yn([uM]),Ct],ngContentSelectors:Yge,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(i,r){if(i&1){let s=pe();si(),x(0,"div",3),D(1,Xge,2,1,"div",4)(2,n_e,4,7,"a",5),x(3,"p-menubarSub",6,0),J("itemClick",function(a){return B(s),U(r.onItemClick(a))})("menuFocus",function(a){return B(s),U(r.onMenuFocus(a))})("menuBlur",function(a){return B(s),U(r.onMenuBlur(a))})("menuKeydown",function(a){return B(s),U(r.onKeyDown(a))})("itemMouseEnter",function(a){return B(s),U(r.onItemMouseEnter(a))}),A(),D(5,r_e,2,1,"div",7)(6,s_e,2,0,"ng-template",null,1,an),A()}if(i&2){let s=Mt(7);se(r.styleClass),g("ngClass",Se(23,Qge,r.mobileActive))("ngStyle",r.style),z("data-pc-section","root")("data-pc-name","menubar"),y(),g("ngIf",r.startTemplate),y(),g("ngIf",r.model&&r.model.length>0),y(),g("items",r.processedItems)("itemTemplate",r.itemTemplate)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("submenuIconTemplate",r.submenuIconTemplate)("activeItemPath",r.activeItemPath()),y(2),g("ngIf",r.endTemplate)("ngIfElse",s)}},dependencies:()=>[kt,St,Vt,Pt,cM,o_e],styles:[`@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}
`],encapsulation:2,changeDetection:0})}return n})(),xB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,ll,gr,ul,Xe,cM,Qd,Zd,ll,ul,Xe]})}return n})();var SB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht,Xe]})}return n})();var l_e=["*"];function c_e(n,e){if(n&1&&(x(0,"span",4),ce(1),A()),n&2){let t=v();y(),$e(t.label)}}function u_e(n,e){if(n&1&&W(0,"span",6),n&2){let t=v(2);se(t.icon),g("ngClass","p-avatar-icon")}}function d_e(n,e){if(n&1&&D(0,u_e,1,3,"span",5),n&2){let t=v(),i=Mt(6);g("ngIf",t.icon)("ngIfElse",i)}}function h_e(n,e){if(n&1){let t=pe();x(0,"img",8),J("error",function(r){B(t);let s=v(2);return U(s.imageError(r))}),A()}if(n&2){let t=v(2);g("src",t.image,bc),z("aria-label",t.ariaLabel)}}function f_e(n,e){if(n&1&&D(0,h_e,1,2,"img",7),n&2){let t=v();g("ngIf",t.image)}}var DB=(()=>{class n{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new X;containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}}imageError(t){this.onImageError.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ee({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},ngContentSelectors:l_e,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(i,r){if(i&1&&(si(),x(0,"div",2),Qn(1),D(2,c_e,2,1,"span",3)(3,d_e,1,2,"ng-template",null,0,an)(5,f_e,1,1,"ng-template",null,1,an),A()),i&2){let s=Mt(4);se(r.styleClass),g("ngClass",r.containerClass())("ngStyle",r.style),z("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-name","avatar"),y(2),g("ngIf",r.label)("ngIfElse",s)}},dependencies:[kt,St,Pt],styles:[`@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),AB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=Re({imports:[ht]})}return n})();function m_e(n,e){n&1&&W(0,"p-avatar",5)}function g_e(n,e){if(n&1){let t=pe();x(0,"a",6),J("click",function(){let r=B(t).$implicit,s=v();return U(r.url?r.label==="Segui Santa Lucia"?s.navigateToHome():s.navigate(r.url):s.share())}),W(1,"span"),x(2,"span",7),ce(3),A()()}if(n&2){let t=e.$implicit;y(),se(t.icon),y(2),$e(t.label)}}function __e(n,e){if(n&1){let t=pe();x(0,"a",9),W(1,"span",10),x(2,"span",7),ce(3,"Gestisci"),A()(),x(4,"a",11),J("click",function(){B(t);let r=v(2);return U(r.logout())}),W(5,"span",12),x(6,"span",7),ce(7,"Esci"),A()()}}function y_e(n,e){n&1&&(x(0,"a",13),W(1,"span",12),x(2,"span",7),ce(3,"Accedi"),A()())}function v_e(n,e){if(n&1&&(x(0,"div",8),D(1,__e,8,0)(2,y_e,4,0),A()),n&2){let t=v();y(),Pr(1,t.isLogged()?1:2)}}var RB=(()=>{let e=class e{constructor(i,r){this.router=i,this.authService=r}ngOnInit(){this.items=[{label:"Segui Santa Lucia",icon:"pi pi-map-marker",url:"/home"},{label:"Contatti",icon:"pi pi-address-book",url:"/contatti"},{label:"Codividi",icon:"pi pi-share-alt"}]}navigate(i){this.router.navigate([i])}navigateToHome(){window.location.href="/follow"}share(){navigator.share?navigator.share({title:"Segui Santa Lucia",text:"Descrizione della piattaforma",url:"https://www.tuapiattaforma.com"}).then(()=>{console.log("Condivisione avvenuta con successo")}).catch(i=>{console.error("Errore nella condivisione",i)}):console.log("API Web Share non supportata nel browser")}isLogged(){return this.authService.isLogged()}logout(){this.authService.logout(),window.open("/follow","_self")}};e.\u0275fac=function(r){return new(r||e)(G(yi),G(El))},e.\u0275cmp=ee({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ye],decls:5,vars:1,consts:[[1,"card"],[3,"model"],["pTemplate","start"],["pTemplate","item"],["pTemplate","end"],["image","assets/LogoDeputazione.png","shape","circle"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",3,"click"],[1,"ml-2"],[1,"flex","align-items-center","gap-2","auth-section"],["pRipple","","routerLink","/manage",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"],[1,"pi","pi-sliders-h"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px",3,"click"],[1,"pi","pi-sign-in",2,"font-size","larger"],["pRipple","","routerLink","/login",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"p-menubar",1),D(2,m_e,1,0,"ng-template",2)(3,g_e,4,3,"ng-template",3)(4,v_e,3,1,"ng-template",4),A()()),r&2&&(y(),g("model",s.items))},dependencies:[xB,TB,ol,ot,SB,AB,DB,is,gr,$i,ht],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited{color:inherit}"]});let n=e;return n})();var MB=(()=>{let e=class e{constructor(i){this.authService=i,this.title="FollowSantaLucia"}ngOnInit(){this.authService.user$.subscribe(i=>{i?this.authService.currentUser.set({email:i.email,username:i.displayName}):this.authService.currentUser.set(null)})}};e.\u0275fac=function(r){return new(r||e)(G(El))},e.\u0275cmp=ee({type:e,selectors:[["app-root"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,s){r&1&&W(0,"app-navbar")(1,"router-outlet")},dependencies:[vp,RB]});let n=e;return n})();FL(MB,CB).catch(n=>console.error(n));
