import{a as se,b as tt,c as SI,f as Na,g as z}from"./chunk-5G567QLT.js";function GM(n,e){return Object.is(n,e)}var hi=null,bf=!1,bg=1,zs=Symbol("SIGNAL");function Vt(n){let e=hi;return hi=n,e}function GB(){return bf}var Ef={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function MI(n){if(bf)throw new Error("");if(hi===null)return;hi.consumerOnSignalRead(n);let e=hi.nextProducerIndex++;if(ku(hi),e<hi.producerNode.length&&hi.producerNode[e]!==n&&Cf(hi)){let t=hi.producerNode[e];Sg(t,hi.producerIndexOfThis[e])}hi.producerNode[e]!==n&&(hi.producerNode[e]=n,hi.producerIndexOfThis[e]=Cf(hi)?QM(n,hi,e):0),hi.producerLastReadVersion[e]=n.version}function WB(){bg++}function WM(n){if(!(Cf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===bg)){if(!n.producerMustRecompute(n)&&!xg(n)){n.dirty=!1,n.lastCleanEpoch=bg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=bg}}function qM(n){if(n.liveConsumerNode===void 0)return;let e=bf;bf=!0;try{for(let t of n.liveConsumerNode)t.dirty||YM(t)}finally{bf=e}}function KM(){return hi?.consumerAllowSignalWrites!==!1}function YM(n){n.dirty=!0,qM(n),n.consumerMarkedDirty?.(n)}function Eg(n){return n&&(n.nextProducerIndex=0),Vt(n)}function Tg(n,e){if(Vt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Cf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Sg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xg(n){ku(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(WM(t),i!==t.version))return!0}return!1}function kI(n){if(ku(n),Cf(n))for(let e=0;e<n.producerNode.length;e++)Sg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function QM(n,e,t){if(ZM(n),ku(n),n.liveConsumerNode.length===0)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=QM(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Sg(n,e){if(ZM(n),ku(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Sg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];ku(r),r.producerIndexOfThis[i]=e}}function Cf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ku(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ZM(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function XM(n){let e=Object.create(qB);e.computation=n;let t=()=>{if(WM(e),MI(e),e.value===Cg)throw e.error;return e.value};return t[zs]=e,t}var DI=Symbol("UNSET"),AI=Symbol("COMPUTING"),Cg=Symbol("ERRORED"),qB=tt(se({},Ef),{value:DI,dirty:!0,error:null,equal:GM,producerMustRecompute(n){return n.value===DI||n.value===AI},producerRecomputeValue(n){if(n.value===AI)throw new Error("Detected cycle in computations.");let e=n.value;n.value=AI;let t=Eg(n),i;try{i=n.computation()}catch(r){i=Cg,n.error=r}finally{Tg(n,t)}if(e!==DI&&e!==Cg&&i!==Cg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function KB(){throw new Error}var JM=KB;function ek(){JM()}function tk(n){JM=n}var YB=null;function nk(n){let e=Object.create(rk);e.value=n;let t=()=>(MI(e),e.value);return t[zs]=e,t}function OI(n,e){KM()||ek(),n.equal(n.value,e)||(n.value=e,QB(n))}function ik(n,e){KM()||ek(),OI(n,e(n.value))}var rk=tt(se({},Ef),{equal:GM,value:void 0});function QB(n){n.version++,WB(),qM(n),YB?.()}function sk(n,e,t){let i=Object.create(ZB);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(kI(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=RI)}let a=()=>{if(i.fn===null)return;if(GB())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!xg(i))return;i.hasRun=!0;let l=Eg(i);try{i.cleanupFn(),i.cleanupFn=RI,i.fn(r)}finally{Tg(i,l)}};return i.ref={notify:()=>YM(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[zs]:i},i.ref}var RI=()=>{},ZB=tt(se({},Ef),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:RI});function ct(n){return typeof n=="function"}function Ou(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Dg=Ou(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ec(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ln=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ct(i))try{i()}catch(s){e=s instanceof Dg?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{ok(s)}catch(o){e=e??[],o instanceof Dg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ok(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ec(t,e)}remove(e){let{_finalizers:t}=this;t&&ec(t,e),e instanceof n&&e._removeParent(this)}};Ln.EMPTY=(()=>{let n=new Ln;return n.closed=!0,n})();var PI=Ln.EMPTY;function Ag(n){return n instanceof Ln||n&&"closed"in n&&ct(n.remove)&&ct(n.add)&&ct(n.unsubscribe)}function ok(n){ct(n)?n():n.unsubscribe()}var ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pu={setTimeout(n,e,...t){let{delegate:i}=Pu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rg(n){Pu.setTimeout(()=>{let{onUnhandledError:e}=ds;if(e)e(n);else throw n})}function tc(){}var ak=FI("C",void 0,void 0);function lk(n){return FI("E",void 0,n)}function ck(n){return FI("N",n,void 0)}function FI(n,e,t){return{kind:n,value:e,error:t}}var nc=null;function Fu(n){if(ds.useDeprecatedSynchronousErrorHandling){let e=!nc;if(e&&(nc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=nc;if(nc=null,t)throw i}}else n()}function uk(n){ds.useDeprecatedSynchronousErrorHandling&&nc&&(nc.errorThrown=!0,nc.error=n)}var ic=class extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ag(e)&&e.add(this)):this.destination=eU}static create(e,t,i){return new Lu(e,t,i)}next(e){this.isStopped?NI(ck(e),this):this._next(e)}error(e){this.isStopped?NI(lk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?NI(ak,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XB=Function.prototype.bind;function LI(n,e){return XB.call(n,e)}var VI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Mg(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Mg(i)}else Mg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mg(t)}}},Lu=class extends ic{constructor(e,t,i){super();let r;if(ct(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&LI(e.next,s),error:e.error&&LI(e.error,s),complete:e.complete&&LI(e.complete,s)}):r=e}this.destination=new VI(r)}};function Mg(n){ds.useDeprecatedSynchronousErrorHandling?uk(n):Rg(n)}function JB(n){throw n}function NI(n,e){let{onStoppedNotification:t}=ds;t&&Pu.setTimeout(()=>t(n,e))}var eU={closed:!0,next:tc,error:JB,complete:tc};var Nu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tr(n){return n}function kg(...n){return BI(n)}function BI(n){return n.length===0?Tr:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=nU(t)?t:new Lu(t,i,r);return Fu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=dk(i),new i((r,s)=>{let o=new Lu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Nu](){return this}pipe(...t){return BI(t)(this)}toPromise(t){return t=dk(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function dk(n){var e;return(e=n??ds.Promise)!==null&&e!==void 0?e:Promise}function tU(n){return n&&ct(n.next)&&ct(n.error)&&ct(n.complete)}function nU(n){return n&&n instanceof ic||tU(n)&&Ag(n)}function UI(n){return ct(n?.lift)}function At(n){return e=>{if(UI(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(n,e,t,i,r){return new jI(n,e,t,i,r)}var jI=class extends ic{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vu(){return At((n,e)=>{let t=null;n._refCount++;let i=bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Bu=class extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,UI(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;let t=this.getSubject();e.add(this.source.subscribe(bt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return Vu()(this)}};var hk=Ou(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var sn=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Og(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new hk}next(t){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?PI:(this.currentObservers=null,s.push(t),new Ln(()=>{this.currentObservers=null,ec(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new dt;return t.source=this,t}}return n.create=(e,t)=>new Og(e,t),n})(),Og=class extends sn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:PI}};var ti=class extends sn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var zI={now(){return(zI.delegate||Date).now()},delegate:void 0};var Pg=class extends Ln{constructor(e,t){super()}schedule(e,t=0){return this}};var Tf={setInterval(n,e,...t){let{delegate:i}=Tf;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Tf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Uu=class extends Pg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Tf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Tf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ec(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ju=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};ju.now=zI.now;var zu=class extends ju{constructor(e,t=ju.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Hu=new zu(Uu),HI=Hu;var Fg=class extends Uu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Lg=class extends zu{};var $I=new Lg(Fg);var xr=new dt(n=>n.complete());function Ng(n){return n&&ct(n.schedule)}function fk(n){return n[n.length-1]}function Vg(n){return ct(fk(n))?n.pop():void 0}function Va(n){return Ng(fk(n))?n.pop():void 0}function GI(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function mk(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function pk(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rc(n){return this instanceof rc?(this.v=n,this):new rc(n)}function gk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){i[p]&&(r[p]=function(I){return new Promise(function(b,E){s.push([p,I,b,E])>1||l(p,I)})},g&&(r[p]=g(r[p])))}function l(p,g){try{c(i[p](g))}catch(I){f(s[0][3],I)}}function c(p){p.value instanceof rc?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function _k(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pk=="function"?pk(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Bg=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ug(n){return ct(n?.then)}function jg(n){return ct(n[Nu])}function zg(n){return Symbol.asyncIterator&&ct(n?.[Symbol.asyncIterator])}function Hg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $g=iU();function Gg(n){return ct(n?.[$g])}function Wg(n){return gk(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield rc(t.read());if(r)return yield rc(void 0);yield yield rc(i)}}finally{t.releaseLock()}})}function qg(n){return ct(n?.getReader)}function xn(n){if(n instanceof dt)return n;if(n!=null){if(jg(n))return rU(n);if(Bg(n))return sU(n);if(Ug(n))return oU(n);if(zg(n))return yk(n);if(Gg(n))return aU(n);if(qg(n))return lU(n)}throw Hg(n)}function rU(n){return new dt(e=>{let t=n[Nu]();if(ct(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sU(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oU(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rg)})}function aU(n){return new dt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function yk(n){return new dt(e=>{cU(n,e).catch(t=>e.error(t))})}function lU(n){return yk(Wg(n))}function cU(n,e){var t,i,r,s;return mk(this,void 0,void 0,function*(){try{for(t=_k(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function cr(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Ba(n,e=0){return At((t,i)=>{t.subscribe(bt(i,r=>cr(i,n,()=>i.next(r),e),()=>cr(i,n,()=>i.complete(),e),r=>cr(i,n,()=>i.error(r),e)))})}function Ua(n,e=0){return At((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function vk(n,e){return xn(n).pipe(Ua(e),Ba(e))}function wk(n,e){return xn(n).pipe(Ua(e),Ba(e))}function Ik(n,e){return new dt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function bk(n,e){return new dt(t=>{let i;return cr(t,e,()=>{i=n[$g](),cr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>ct(i?.return)&&i.return()})}function Kg(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{cr(t,e,()=>{let i=n[Symbol.asyncIterator]();cr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ck(n,e){return Kg(Wg(n),e)}function Ek(n,e){if(n!=null){if(jg(n))return vk(n,e);if(Bg(n))return Ik(n,e);if(Ug(n))return wk(n,e);if(zg(n))return Kg(n,e);if(Gg(n))return bk(n,e);if(qg(n))return Ck(n,e)}throw Hg(n)}function Bt(n,e){return e?Ek(n,e):xn(n)}function He(...n){let e=Va(n);return Bt(n,e)}function $u(n,e){let t=ct(n)?n:()=>n,i=r=>r.error(t());return new dt(e?r=>e.schedule(i,0,r):i)}function WI(n){return!!n&&(n instanceof dt||ct(n.lift)&&ct(n.subscribe))}var Vo=Ou(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Tk(n){return n instanceof Date&&!isNaN(n)}function it(n,e){return At((t,i)=>{let r=0;t.subscribe(bt(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:uU}=Array;function dU(n,e){return uU(e)?n(...e):n(e)}function Yg(n){return it(e=>dU(n,e))}var{isArray:hU}=Array,{getPrototypeOf:fU,prototype:pU,keys:mU}=Object;function Qg(n){if(n.length===1){let e=n[0];if(hU(e))return{args:e,keys:null};if(gU(e)){let t=mU(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function gU(n){return n&&typeof n=="object"&&fU(n)===pU}function Zg(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function xf(...n){let e=Va(n),t=Vg(n),{args:i,keys:r}=Qg(n);if(i.length===0)return Bt([],e);let s=new dt(_U(i,e,r?o=>Zg(r,o):Tr));return t?s.pipe(Yg(t)):s}function _U(n,e,t=Tr){return i=>{xk(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)xk(e,()=>{let c=Bt(n[l],e),u=!1;c.subscribe(bt(i,h=>{s[l]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function xk(n,e,t){n?cr(t,n,e):e()}function Sk(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},p=I=>c<i?g(I):l.push(I),g=I=>{s&&e.next(I),c++;let b=!1;xn(t(I,u++)).subscribe(bt(e,E=>{r?.(E),s?p(E):e.next(E)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let E=l.shift();o?cr(e,o,()=>g(E)):g(E)}f()}catch(E){e.error(E)}}))};return n.subscribe(bt(e,p,()=>{h=!0,f()})),()=>{a?.()}}function qn(n,e,t=1/0){return ct(e)?qn((i,r)=>it((s,o)=>e(i,s,r,o))(xn(n(i,r))),t):(typeof e=="number"&&(t=e),At((i,r)=>Sk(i,r,n,t)))}function ja(n=1/0){return qn(Tr,n)}function Dk(){return ja(1)}function Gu(...n){return Dk()(Bt(n,Va(n)))}function Xg(n){return new dt(e=>{xn(n()).subscribe(e)})}function qI(...n){let e=Vg(n),{args:t,keys:i}=Qg(n),r=new dt(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let h=!1;xn(t[u]).subscribe(bt(s,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?Zg(i,a):a),s.complete())}))}});return e?r.pipe(Yg(e)):r}function Ak(n=0,e,t=HI){let i=-1;return e!=null&&(Ng(e)?t=e:i=e),new dt(r=>{let s=Tk(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function KI(n=0,e=Hu){return n<0&&(n=0),Ak(n,n,e)}function ni(n,e){return At((t,i)=>{let r=0;t.subscribe(bt(i,s=>n.call(e,s,r++)&&i.next(s)))})}function za(n){return At((e,t)=>{let i=null,r=!1,s;i=e.subscribe(bt(t,void 0,void 0,o=>{s=xn(n(o,za(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Rk(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(bt(o,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Bo(n,e){return ct(e)?qn(n,e,1):qn(n,1)}function YI(n){return At((e,t)=>{let i=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let a=r;r=null,t.next(a)}};e.subscribe(bt(t,a=>{s?.unsubscribe(),i=!0,r=a,s=bt(t,o,tc),xn(n(a)).subscribe(s)},()=>{o(),t.complete()},void 0,()=>{r=s=null}))})}function Ha(n){return At((e,t)=>{let i=!1;e.subscribe(bt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Uo(n){return n<=0?()=>xr:At((e,t)=>{let i=0;e.subscribe(bt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function QI(n){return it(()=>n)}function Jg(n=yU){return At((e,t)=>{let i=!1;e.subscribe(bt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function yU(){return new Vo}function sc(n){return At((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hs(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ni((r,s)=>n(r,s,i)):Tr,Uo(1),t?Ha(e):Jg(()=>new Vo))}function Wu(n){return n<=0?()=>xr:At((e,t)=>{let i=[];e.subscribe(bt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ZI(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ni((r,s)=>n(r,s,i)):Tr,Wu(1),t?Ha(e):Jg(()=>new Vo))}function e_(n,e){return At(Rk(n,e,arguments.length>=2,!0))}function t_(...n){let e=Va(n);return At((t,i)=>{(e?Gu(n,t,e):Gu(n,t)).subscribe(i)})}function ur(n,e){return At((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(bt(i,l=>{r?.unsubscribe();let c=0,u=s++;xn(n(l,u)).subscribe(r=bt(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function XI(n){return At((e,t)=>{xn(n).subscribe(bt(t,()=>t.complete(),tc)),!t.closed&&e.subscribe(t)})}function Kn(n,e,t){let i=ct(n)||e||t?{next:n,error:e,complete:t}:n;return i?At((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(bt(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Tr}var vO="https://g.co/ng/security#xss",de=class extends Error{constructor(e,t){super(L_(e,t)),this.code=e}};function L_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Vf(n){return{toString:n}.toString()}var n_="__parameters__";function vU(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function wO(n,e,t){return Vf(()=>{let i=vU(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let h=l.hasOwnProperty(n_)?l[n_]:Object.defineProperty(l,n_,{value:[]})[n_];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Sr=globalThis;function an(n){for(let e in n)if(n[e]===an)return e;throw Error("Could not find renamed property on target object.")}function wU(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(nr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function pb(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var IU=an({__forward_ref__:an});function In(n){return n.__forward_ref__=In,n.toString=function(){return nr(this())},n}function tr(n){return IO(n)?n():n}function IO(n){return typeof n=="function"&&n.hasOwnProperty(IU)&&n.__forward_ref__===In}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pe(n){return{providers:n.providers||[],imports:n.imports||[]}}function N_(n){return Mk(n,CO)||Mk(n,EO)}function bO(n){return N_(n)!==null}function Mk(n,e){return n.hasOwnProperty(e)?n[e]:null}function bU(n){let e=n&&(n[CO]||n[EO]);return e||null}function kk(n){return n&&(n.hasOwnProperty(Ok)||n.hasOwnProperty(CU))?n[Ok]:null}var CO=an({\u0275prov:an}),Ok=an({\u0275inj:an}),EO=an({ngInjectableDef:an}),CU=an({ngInjectorDef:an}),Me=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function TO(n){return n&&!!n.\u0275providers}var EU=an({\u0275cmp:an}),TU=an({\u0275dir:an}),xU=an({\u0275pipe:an}),SU=an({\u0275mod:an}),m_=an({\u0275fac:an}),Sf=an({__NG_ELEMENT_ID__:an}),Pk=an({__NG_ENV_ID__:an});function cc(n){return typeof n=="string"?n:n==null?"":String(n)}function DU(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():cc(n)}function AU(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new de(-200,n)}function _1(n,e){throw new de(-201,!1)}var Tt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Tt||{}),mb;function xO(){return mb}function dr(n){let e=mb;return mb=n,e}function SO(n,e,t){let i=N_(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Tt.Optional)return null;if(e!==void 0)return e;_1(n,"Injector")}var RU={},Df=RU,gb="__NG_DI_FLAG__",g_="ngTempTokenPath",MU="ngTokenPath",kU=/\n/gm,OU="\u0275",Fk="__source",Zu;function PU(){return Zu}function $a(n){let e=Zu;return Zu=n,e}function FU(n,e=Tt.Default){if(Zu===void 0)throw new de(-203,!1);return Zu===null?SO(n,void 0,e):Zu.get(n,e&Tt.Optional?null:void 0,e)}function ke(n,e=Tt.Default){return(xO()||FU)(tr(n),e)}function he(n,e=Tt.Default){return ke(n,V_(e))}function V_(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _b(n){let e=[];for(let t=0;t<n.length;t++){let i=tr(n[t]);if(Array.isArray(i)){if(i.length===0)throw new de(900,!1);let r,s=Tt.Default;for(let o=0;o<i.length;o++){let a=i[o],l=LU(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(ke(r,s))}else e.push(ke(i))}return e}function DO(n,e){return n[gb]=e,n.prototype[gb]=e,n}function LU(n){return n[gb]}function NU(n,e,t,i){let r=n[g_];throw e[Fk]&&r.unshift(e[Fk]),n.message=VU(`
`+n.message,r,t,i),n[MU]=r,n[g_]=null,n}function VU(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==OU?n.slice(2):n;let r=nr(e);if(Array.isArray(e))r=e.map(nr).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):nr(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(kU,`
  `)}`}var Di=DO(wO("Optional"),8);var B_=DO(wO("SkipSelf"),4);function uc(n,e){let t=n.hasOwnProperty(m_);return t?n[m_]:null}function BU(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function UU(n){return n.flat(Number.POSITIVE_INFINITY)}function y1(n,e){n.forEach(t=>Array.isArray(t)?y1(t,e):e(t))}function AO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function __(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jU(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function zU(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function U_(n,e,t){let i=Bf(n,e);return i>=0?n[i|1]=t:(i=~i,zU(n,i,e,t)),i}function JI(n,e){let t=Bf(n,e);if(t>=0)return n[t|1]}function Bf(n,e){return HU(n,e,1)}function HU(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var Ju={},hr=[],ed=new Me(""),RO=new Me("",-1),MO=new Me(""),y_=class{get(e,t=Df){if(t===Df){let i=new Error(`NullInjectorError: No provider for ${nr(e)}!`);throw i.name="NullInjectorError",i}return t}},kO=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kO||{}),Ws=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ws||{}),j=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(j||{});function $U(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function yb(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];GU(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function OO(n){return n===3||n===4||n===6}function GU(n){return n.charCodeAt(0)===64}function Af(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Lk(n,t,r,null,e[++i]):Lk(n,t,r,null,null))}}return n}function Lk(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var PO="ng-template";function WU(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&$U(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(v1(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function v1(n){return n.type===4&&n.value!==PO}function qU(n,e,t){let i=n.type===4&&!t?PO:n.value;return e===i}function KU(n,e,t){let i=4,r=n.attrs,s=r!==null?ZU(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!hs(i)&&!hs(l))return!1;if(o&&hs(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!qU(n,l,t)||l===""&&e.length===1){if(hs(i))return!1;o=!0}}else if(i&8){if(r===null||!WU(n,r,l,t)){if(hs(i))return!1;o=!0}}else{let c=e[++a],u=YU(l,r,v1(n),t);if(u===-1){if(hs(i))return!1;o=!0;continue}if(c!==""){let h;if(u>s?h="":h=r[u+1].toLowerCase(),i&2&&c!==h){if(hs(i))return!1;o=!0}}}}return hs(i)||o}function hs(n){return(n&1)===0}function YU(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return XU(e,n)}function FO(n,e,t=!1){for(let i=0;i<e.length;i++)if(KU(n,e[i],t))return!0;return!1}function QU(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function ZU(n){for(let e=0;e<n.length;e++){let t=n[e];if(OO(t))return e}return n.length}function XU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function JU(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Nk(n,e){return n?":not("+e.trim()+")":e}function ej(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!hs(o)&&(e+=Nk(s,r),r=""),i=o,s=s||!hs(i);t++}return r!==""&&(e+=Nk(s,r)),e}function tj(n){return n.map(ej).join(",")}function nj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!hs(r))break;r=s}i++}return{attrs:e,classes:t}}function ne(n){return Vf(()=>{let e=UO(n),t=tt(se({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kO.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ws.Emulated,styles:n.styles||hr,_:null,schemas:n.schemas||null,tView:null,id:""});jO(t);let i=n.dependencies;return t.directiveDefs=Bk(i,!1),t.pipeDefs=Bk(i,!0),t.id=sj(t),t})}function ij(n){return Wa(n)||LO(n)}function rj(n){return n!==null}function Fe(n){return Vf(()=>({type:n.type,bootstrap:n.bootstrap||hr,declarations:n.declarations||hr,imports:n.imports||hr,exports:n.exports||hr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Vk(n,e){if(n==null)return Ju;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=j.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==j.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Ot(n){return Vf(()=>{let e=UO(n);return jO(e),e})}function j_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wa(n){return n[EU]||null}function LO(n){return n[TU]||null}function NO(n){return n[xU]||null}function VO(n){let e=Wa(n)||LO(n)||NO(n);return e!==null?e.standalone:!1}function BO(n,e){let t=n[SU]||null;if(!t&&e===!0)throw new Error(`Type ${nr(n)} does not have '\u0275mod' property.`);return t}function UO(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ju,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||hr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vk(n.inputs,e),outputs:Vk(n.outputs),debugInfo:null}}function jO(n){n.features?.forEach(e=>e(n))}function Bk(n,e){if(!n)return null;let t=e?NO:ij;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(rj)}function sj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ud(n){return{\u0275providers:n}}function w1(...n){return{\u0275providers:zO(!0,n),\u0275fromNgModule:!0}}function zO(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return y1(e,o=>{let a=o;vb(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&HO(r,s),t}function HO(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];I1(r,s=>{e(s,i)})}}function vb(n,e,t,i){if(n=tr(n),!n)return!1;let r=null,s=kk(n),o=!s&&Wa(n);if(!s&&!o){let l=n.ngModule;if(s=kk(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)vb(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{y1(s.imports,u=>{vb(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&HO(c,e)}if(!a){let c=uc(r)||(()=>new r);e({provide:r,useFactory:c,deps:hr},r),e({provide:MO,useValue:r,multi:!0},r),e({provide:ed,useValue:()=>ke(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;I1(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function I1(n,e){for(let t of n)TO(t)&&(t=t.\u0275providers),Array.isArray(t)?I1(t,e):e(t)}var oj=an({provide:String,useValue:an});function $O(n){return n!==null&&typeof n=="object"&&oj in n}function aj(n){return!!(n&&n.useExisting)}function lj(n){return!!(n&&n.useFactory)}function td(n){return typeof n=="function"}function cj(n){return!!n.useClass}var z_=new Me(""),l_={},uj={},eb;function b1(){return eb===void 0&&(eb=new y_),eb}var Ni=class{},Rf=class extends Ni{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ib(e,o=>this.processProvider(o)),this.records.set(RO,qu(void 0,this)),r.has("environment")&&this.records.set(Ni,qu(void 0,this));let s=this.records.get(z_);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MO,hr,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Vt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Vt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=$a(this),i=dr(void 0),r;try{return e()}finally{$a(t),dr(i)}}get(e,t=Df,i=Tt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Pk))return e[Pk](this);i=V_(i);let r,s=$a(this),o=dr(void 0);try{if(!(i&Tt.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=mj(e)&&N_(e);c&&this.injectableDefInScope(c)?l=qu(wb(e),l_):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Tt.Self?b1():this.parent;return t=i&Tt.Optional&&t===Df?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[g_]=a[g_]||[]).unshift(nr(e)),s)throw a;return NU(a,e,"R3InjectorError",this.source)}else throw a}finally{dr(o),$a(s)}}resolveInjectorInitializers(){let e=Vt(null),t=$a(this),i=dr(void 0),r;try{let s=this.get(ed,hr,Tt.Self);for(let o of s)o()}finally{$a(t),dr(i),Vt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(nr(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(e){e=tr(e);let t=td(e)?e:tr(e&&e.provide),i=hj(e);if(!td(e)&&e.multi===!0){let r=this.records.get(t);r||(r=qu(void 0,l_,!0),r.factory=()=>_b(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Vt(null);try{return t.value===l_&&(t.value=uj,t.value=t.factory()),typeof t.value=="object"&&t.value&&pj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Vt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=tr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wb(n){let e=N_(n),t=e!==null?e.factory:uc(n);if(t!==null)return t;if(n instanceof Me)throw new de(204,!1);if(n instanceof Function)return dj(n);throw new de(204,!1)}function dj(n){if(n.length>0)throw new de(204,!1);let t=bU(n);return t!==null?()=>t.factory(n):()=>new n}function hj(n){if($O(n))return qu(void 0,n.useValue);{let e=GO(n);return qu(e,l_)}}function GO(n,e,t){let i;if(td(n)){let r=tr(n);return uc(r)||wb(r)}else if($O(n))i=()=>tr(n.useValue);else if(lj(n))i=()=>n.useFactory(..._b(n.deps||[]));else if(aj(n))i=()=>ke(tr(n.useExisting));else{let r=tr(n&&(n.useClass||n.provide));if(fj(n))i=()=>new r(..._b(n.deps));else return uc(r)||wb(r)}return i}function qu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fj(n){return!!n.deps}function pj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mj(n){return typeof n=="function"||typeof n=="object"&&n instanceof Me}function Ib(n,e){for(let t of n)Array.isArray(t)?Ib(t,e):t&&TO(t)?Ib(t.\u0275providers,e):e(t)}function ys(n,e){n instanceof Rf&&n.assertNotDestroyed();let t,i=$a(n),r=dr(void 0);try{return e()}finally{$a(i),dr(r)}}function WO(){return xO()!==void 0||PU()!=null}function qO(n){if(!WO())throw new de(-203,!1)}function gj(n){return typeof n=="function"}var Ho=0,ht=1,Ye=2,Si=3,fs=4,Ar=5,Mf=6,kf=7,qr=8,nd=9,ps=10,Sn=11,Of=12,Uk=13,dd=14,ms=15,Uf=16,Ku=17,jo=18,H_=19,KO=20,Ga=21,c_=22,dc=23,ir=25,YO=1;var hc=7,v_=8,id=9,fr=10,C1=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(C1||{});function ac(n){return Array.isArray(n)&&typeof n[YO]=="object"}function $o(n){return Array.isArray(n)&&n[YO]===!0}function E1(n){return(n.flags&4)!==0}function $_(n){return n.componentOffset>-1}function G_(n){return(n.flags&1)===1}function qa(n){return!!n.template}function _j(n){return(n[Ye]&512)!==0}var bb=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function QO(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function un(){return ZO}function ZO(n){return n.type.prototype.ngOnChanges&&(n.setInput=vj),yj}un.ngInherit=!0;function yj(){let n=JO(this),e=n?.current;if(e){let t=n.previous;if(t===Ju)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function vj(n,e,t,i,r){let s=this.declaredInputs[i],o=JO(n)||wj(n,{previous:Ju,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new bb(c&&c.currentValue,t,l===Ju),QO(n,e,r,t)}var XO="__ngSimpleChanges__";function JO(n){return n[XO]||null}function wj(n,e){return n[XO]=e}var jk=null;var $s=function(n,e,t){jk?.(n,e,t)},eP="svg",Ij="math",bj=!1;function Cj(){return bj}function qs(n){for(;Array.isArray(n);)n=n[Ho];return n}function tP(n,e){return qs(e[n])}function Kr(n,e){return qs(e[n.index])}function T1(n,e){return n.data[e]}function nP(n,e){return n[e]}function Qa(n,e){let t=e[n];return ac(t)?t:t[Ho]}function Ej(n){return(n[Ye]&4)===4}function x1(n){return(n[Ye]&128)===128}function Tj(n){return $o(n[Si])}function rd(n,e){return e==null?null:n[e]}function iP(n){n[Ku]=0}function xj(n){n[Ye]&1024||(n[Ye]|=1024,x1(n)&&Pf(n))}function Sj(n,e){for(;n>0;)e=e[dd],n--;return e}function S1(n){return!!(n[Ye]&9216||n[dc]?.dirty)}function Cb(n){n[ps].changeDetectionScheduler?.notify(1),S1(n)?Pf(n):n[Ye]&64&&(Cj()?(n[Ye]|=1024,Pf(n)):n[ps].changeDetectionScheduler?.notify())}function Pf(n){n[ps].changeDetectionScheduler?.notify();let e=Ff(n);for(;e!==null&&!(e[Ye]&8192||(e[Ye]|=8192,!x1(e)));)e=Ff(e)}function rP(n,e){if((n[Ye]&256)===256)throw new de(911,!1);n[Ga]===null&&(n[Ga]=[]),n[Ga].push(e)}function Dj(n,e){if(n[Ga]===null)return;let t=n[Ga].indexOf(e);t!==-1&&n[Ga].splice(t,1)}function Ff(n){let e=n[Si];return $o(e)?e[Si]:e}var _t={lFrame:dP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Aj(){return _t.lFrame.elementDepthCount}function Rj(){_t.lFrame.elementDepthCount++}function Mj(){_t.lFrame.elementDepthCount--}function sP(){return _t.bindingsEnabled}function oP(){return _t.skipHydrationRootTNode!==null}function kj(n){return _t.skipHydrationRootTNode===n}function Oj(){_t.skipHydrationRootTNode=null}function et(){return _t.lFrame.lView}function Nn(){return _t.lFrame.tView}function B(n){return _t.lFrame.contextLView=n,n[qr]}function U(n){return _t.lFrame.contextLView=null,n}function Vi(){let n=aP();for(;n!==null&&n.type===64;)n=n.parent;return n}function aP(){return _t.lFrame.currentTNode}function Pj(){let n=_t.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vc(n,e){let t=_t.lFrame;t.currentTNode=n,t.isParent=e}function D1(){return _t.lFrame.isParent}function A1(){_t.lFrame.isParent=!1}function Fj(){return _t.lFrame.contextLView}function Ys(){let n=_t.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Lj(){return _t.lFrame.bindingIndex}function Nj(n){return _t.lFrame.bindingIndex=n}function jf(){return _t.lFrame.bindingIndex++}function R1(n){let e=_t.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Vj(){return _t.lFrame.inI18n}function Bj(n,e){let t=_t.lFrame;t.bindingIndex=t.bindingRootIndex=n,Eb(e)}function Uj(){return _t.lFrame.currentDirectiveIndex}function Eb(n){_t.lFrame.currentDirectiveIndex=n}function jj(n){let e=_t.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lP(){return _t.lFrame.currentQueryIndex}function M1(n){_t.lFrame.currentQueryIndex=n}function zj(n){let e=n[ht];return e.type===2?e.declTNode:e.type===1?n[Ar]:null}function cP(n,e,t){if(t&Tt.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Tt.Host);)if(r=zj(s),r===null||(s=s[dd],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=_t.lFrame=uP();return i.currentTNode=e,i.lView=n,!0}function k1(n){let e=uP(),t=n[ht];_t.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uP(){let n=_t.lFrame,e=n===null?null:n.child;return e===null?dP(n):e}function dP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function hP(){let n=_t.lFrame;return _t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var fP=hP;function O1(){let n=hP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hj(n){return(_t.lFrame.contextLView=Sj(n,_t.lFrame.contextLView))[qr]}function Za(){return _t.lFrame.selectedIndex}function fc(n){_t.lFrame.selectedIndex=n}function P1(){let n=_t.lFrame;return T1(n.tView,n.selectedIndex)}function Ne(){_t.lFrame.currentNamespace=eP}function $j(){return _t.lFrame.currentNamespace}var pP=!0;function W_(){return pP}function q_(n){pP=n}function Gj(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=ZO(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function K_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function u_(n,e,t){mP(n,e,3,t)}function d_(n,e,t,i){(n[Ye]&3)===t&&mP(n,e,t,i)}function tb(n,e){let t=n[Ye];(t&3)===e&&(t&=16383,t+=1,n[Ye]=t)}function mP(n,e,t,i){let r=i!==void 0?n[Ku]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Ku]+=65536),(a<s||s==-1)&&(Wj(n,t,e,l),n[Ku]=(n[Ku]&4294901760)+l+2),l++}function zk(n,e){$s(4,n,e);let t=Vt(null);try{e.call(n)}finally{Vt(t),$s(5,n,e)}}function Wj(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[Ye]>>14<n[Ku]>>16&&(n[Ye]&3)===e&&(n[Ye]+=16384,zk(a,s)):zk(a,s)}var Xu=-1,pc=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function qj(n){return n instanceof pc}function Kj(n){return(n.flags&8)!==0}function Yj(n){return(n.flags&16)!==0}function gP(n){return n!==Xu}function w_(n){return n&32767}function Qj(n){return n>>16}function I_(n,e){let t=Qj(n),i=e;for(;t>0;)i=i[dd],t--;return i}var Tb=!0;function b_(n){let e=Tb;return Tb=n,e}var Zj=256,_P=Zj-1,yP=5,Xj=0,Gs={};function Jj(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Sf)&&(i=t[Sf]),i==null&&(i=t[Sf]=Xj++);let r=i&_P,s=1<<r;e.data[n+(r>>yP)]|=s}function C_(n,e){let t=vP(n,e);if(t!==-1)return t;let i=e[ht];i.firstCreatePass&&(n.injectorIndex=e.length,nb(i.data,n),nb(e,null),nb(i.blueprint,null));let r=F1(n,e),s=n.injectorIndex;if(gP(r)){let o=w_(r),a=I_(r,e),l=a[ht].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function nb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function F1(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=EP(r),i===null)return Xu;if(t++,r=r[dd],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Xu}function xb(n,e,t){Jj(n,e,t)}function ez(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(OO(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function wP(n,e,t){if(t&Tt.Optional||n!==void 0)return n;_1(e,"NodeInjector")}function IP(n,e,t,i){if(t&Tt.Optional&&i===void 0&&(i=null),!(t&(Tt.Self|Tt.Host))){let r=n[nd],s=dr(void 0);try{return r?r.get(e,i,t&Tt.Optional):SO(e,i,t&Tt.Optional)}finally{dr(s)}}return wP(i,e,t)}function bP(n,e,t,i=Tt.Default,r){if(n!==null){if(e[Ye]&2048&&!(i&Tt.Self)){let o=rz(n,e,t,i,Gs);if(o!==Gs)return o}let s=CP(n,e,t,i,Gs);if(s!==Gs)return s}return IP(e,t,i,r)}function CP(n,e,t,i,r){let s=nz(t);if(typeof s=="function"){if(!cP(e,n,i))return i&Tt.Host?wP(r,t,i):IP(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Tt.Optional))_1(t);else return o}finally{fP()}}else if(typeof s=="number"){let o=null,a=vP(n,e),l=Xu,c=i&Tt.Host?e[ms][Ar]:null;for((a===-1||i&Tt.SkipSelf)&&(l=a===-1?F1(n,e):e[a+8],l===Xu||!$k(i,!1)?a=-1:(o=e[ht],a=w_(l),e=I_(l,e)));a!==-1;){let u=e[ht];if(Hk(s,a,u.data)){let h=tz(a,e,t,o,i,c);if(h!==Gs)return h}l=e[a+8],l!==Xu&&$k(i,e[ht].data[a+8]===c)&&Hk(s,a,e)?(o=u,a=w_(l),e=I_(l,e)):a=-1}}return r}function tz(n,e,t,i,r,s){let o=e[ht],a=o.data[n+8],l=i==null?$_(a)&&Tb:i!=o&&(a.type&3)!==0,c=r&Tt.Host&&s===a,u=h_(a,o,t,l,c);return u!==null?mc(e,o,u,a):Gs}function h_(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,h=i?a:a+u,f=r?a+u:c;for(let p=h;p<f;p++){let g=o[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(r){let p=o[l];if(p&&qa(p)&&p.type===t)return l}return null}function mc(n,e,t,i){let r=n[t],s=e.data;if(qj(r)){let o=r;o.resolving&&AU(DU(s[t]));let a=b_(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?dr(o.injectImpl):null,u=cP(n,i,Tt.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Gj(t,s[t],e)}finally{c!==null&&dr(c),b_(a),o.resolving=!1,fP()}}return r}function nz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Sf)?n[Sf]:void 0;return typeof e=="number"?e>=0?e&_P:iz:e}function Hk(n,e,t){let i=1<<n;return!!(t[e+(n>>yP)]&i)}function $k(n,e){return!(n&Tt.Self)&&!(n&Tt.Host&&e)}var lc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return bP(this._tNode,this._lView,e,V_(i),t)}};function iz(){return new lc(Vi(),et())}function Le(n){return Vf(()=>{let e=n.prototype.constructor,t=e[m_]||Sb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[m_]||Sb(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Sb(n){return IO(n)?()=>{let e=Sb(tr(n));return e&&e()}:uc(n)}function rz(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Ye]&2048&&!(o[Ye]&512);){let a=CP(s,o,t,i|Tt.Self,Gs);if(a!==Gs)return a;let l=s.parent;if(!l){let c=o[KO];if(c){let u=c.get(t,Gs,i);if(u!==Gs)return u}l=EP(o),o=o[dd]}s=l}return r}function EP(n){let e=n[ht],t=e.type;return t===2?e.declTNode:t===1?n[Ar]:null}function L1(n){return ez(Vi(),n)}function Gk(n,e=null,t=null,i){let r=TP(n,e,t,i);return r.resolveInjectorInitializers(),r}function TP(n,e=null,t=null,i,r=new Set){let s=[t||hr,w1(n)];return i=i||(typeof n=="object"?void 0:nr(n)),new Rf(s,e||b1(),i||null,r)}var fi=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return Gk({name:""},r,i,"");{let s=i.name??"";return Gk({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Df,e.NULL=new y_,e.\u0275prov=we({token:e,providedIn:"any",factory:()=>ke(RO)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var sz="ngOriginalError";function ib(n){return n[sz]}var gs=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ib(e);for(;t&&ib(t);)t=ib(t);return t||null}},xP=new Me("",{providedIn:"root",factory:()=>he(gs).handleError.bind(void 0)}),Y_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oz,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),Db=class extends Y_{constructor(e){super(),this._lView=e}onDestroy(e){return rP(this._lView,e),()=>Dj(this._lView,e)}};function oz(){return new Db(et())}function az(){return hd(Vi(),et())}function hd(n,e){return new rt(Kr(n,e))}var rt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=az;let n=e;return n})();function lz(n){return n instanceof rt?n.nativeElement:n}var Ab=class extends sn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,WO()&&(this.destroyRef=he(Y_,{optional:!0})??void 0)}emit(e){let t=Vt(null);try{super.next(e)}finally{Vt(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=rb(s),r&&(r=rb(r)),o&&(o=rb(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ln&&e.add(a),a}};function rb(n){return e=>{setTimeout(n,void 0,e)}}var X=Ab;function cz(){return this._results[Symbol.iterator]()}var Rb=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=cz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=UU(e);(this._changesDetected=!BU(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SP(n){return(n.flags&128)===128}var DP=new Map,uz=0;function dz(){return uz++}function hz(n){DP.set(n[H_],n)}function fz(n){DP.delete(n[H_])}var Wk="__ngContext__";function Ka(n,e){ac(e)?(n[Wk]=e[H_],hz(e)):n[Wk]=e}function AP(n){return MP(n[Of])}function RP(n){return MP(n[fs])}function MP(n){for(;n!==null&&!$o(n);)n=n[fs];return n}var Mb;function kP(n){Mb=n}function OP(){if(Mb!==void 0)return Mb;if(typeof document<"u")return document;throw new de(210,!1)}var N1=new Me("",{providedIn:"root",factory:()=>pz}),pz="ng",V1=new Me(""),jt=new Me("",{providedIn:"platform",factory:()=>"unknown"});var B1=new Me(""),U1=new Me("",{providedIn:"root",factory:()=>OP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mz="h",gz="b";var _z=()=>null;function j1(n,e,t=!1){return _z(n,e,t)}var PP=!1,yz=new Me("",{providedIn:"root",factory:()=>PP});var i_;function vz(){if(i_===void 0&&(i_=null,Sr.trustedTypes))try{i_=Sr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return i_}function Q_(n){return vz()?.createHTML(n)||n}var r_;function FP(){if(r_===void 0&&(r_=null,Sr.trustedTypes))try{r_=Sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return r_}function qk(n){return FP()?.createHTML(n)||n}function Kk(n){return FP()?.createScriptURL(n)||n}var E_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vO})`}};function Xa(n){return n instanceof E_?n.changingThisBreaksApplicationSecurity:n}function Z_(n,e){let t=wz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vO})`)}return t===e}function wz(n){return n instanceof E_&&n.getTypeName()||null}function Iz(n){let e=new Ob(n);return bz()?new kb(e):e}var kb=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Q_(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},Ob=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Q_(e),t}};function bz(){try{return!!new window.DOMParser().parseFromString(Q_(""),"text/html")}catch{return!1}}var Cz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z1(n){return n=String(n),n.match(Cz)?n:"unsafe:"+n}function Go(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function zf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var LP=Go("area,br,col,hr,img,wbr"),NP=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VP=Go("rp,rt"),Ez=zf(VP,NP),Tz=zf(NP,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xz=zf(VP,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yk=zf(LP,Tz,xz,Ez),BP=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sz=Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dz=Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Az=zf(BP,Sz,Dz),Rz=Go("script,style,template"),Pb=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Oz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=kz(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Qk(e).toLowerCase();if(!Yk.hasOwnProperty(t))return this.sanitizedSomething=!0,!Rz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Az.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;BP[a]&&(l=z1(l)),this.buf.push(" ",o,'="',Zk(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Qk(e).toLowerCase();Yk.hasOwnProperty(t)&&!LP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Zk(e))}};function Mz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function kz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw UP(e);return e}function Oz(n){let e=n.firstChild;if(e&&Mz(n,e))throw UP(e);return e}function Qk(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function UP(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Pz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fz=/([^\#-~ |!])/g;function Zk(n){return n.replace(/&/g,"&amp;").replace(Pz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Fz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var s_;function jP(n,e){let t=null;try{s_=s_||Iz(n);let i=e?String(e):"";t=s_.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=s_.getInertBodyElement(i)}while(i!==s);let a=new Pb().sanitizeChildren(Xk(t)||t);return Q_(a)}finally{if(t){let i=Xk(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Xk(n){return"content"in n&&Lz(n)?n.content:null}function Lz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Hf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hf||{});function fd(n){let e=H1();return e?qk(e.sanitize(Hf.HTML,n)||""):Z_(n,"HTML")?qk(Xa(n)):jP(OP(),cc(n))}function wc(n){let e=H1();return e?e.sanitize(Hf.URL,n)||"":Z_(n,"URL")?Xa(n):z1(cc(n))}function Nz(n){let e=H1();if(e)return Kk(e.sanitize(Hf.RESOURCE_URL,n)||"");if(Z_(n,"ResourceURL"))return Kk(Xa(n));throw new de(904,!1)}function Vz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Nz:wc}function zP(n,e,t){return Vz(e,t)(n)}function H1(){let n=et();return n&&n[ps].sanitizer}var Bz=/^>|^->|<!--|-->|--!>|<!-$/g,Uz=/(<|>)/g,jz="\u200B$1\u200B";function zz(n){return n.replace(Bz,e=>e.replace(Uz,jz))}function HP(n){return n.ownerDocument}function $P(n){return n instanceof Function?n():n}function Hz(n){return(n??he(fi)).get(jt)==="browser"}var Ks=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ks||{}),$z;function $1(n,e){return $z(n,e)}function Yu(n,e,t,i,r){if(i!=null){let s,o=!1;$o(i)?s=i:ac(i)&&(o=!0,i=i[Ho]);let a=qs(i);n===0&&t!==null?r==null?YP(e,t,a):x_(e,t,a,r||null,!0):n===1&&t!==null?x_(e,t,a,r||null,!0):n===2?oH(e,a,o):n===3&&e.destroyNode(a),s!=null&&lH(e,n,s,t,r)}}function Gz(n,e){return n.createText(e)}function Wz(n,e,t){n.setValue(e,t)}function qz(n,e){return n.createComment(zz(e))}function GP(n,e,t){return n.createElement(e,t)}function Kz(n,e){WP(n,e),e[Ho]=null,e[Ar]=null}function Yz(n,e,t,i,r,s){i[Ho]=r,i[Ar]=e,J_(n,i,t,1,r,s)}function WP(n,e){e[ps].changeDetectionScheduler?.notify(1),J_(n,e,e[Sn],2,null,null)}function Qz(n){let e=n[Of];if(!e)return sb(n[ht],n);for(;e;){let t=null;if(ac(e))t=e[Of];else{let i=e[fr];i&&(t=i)}if(!t){for(;e&&!e[fs]&&e!==n;)ac(e)&&sb(e[ht],e),e=e[Si];e===null&&(e=n),ac(e)&&sb(e[ht],e),t=e&&e[fs]}e=t}}function Zz(n,e,t,i){let r=fr+i,s=t.length;i>0&&(t[r-1][fs]=e),i<s-fr?(e[fs]=t[r],AO(t,fr+i,e)):(t.push(e),e[fs]=null),e[Si]=t;let o=e[Uf];o!==null&&t!==o&&Xz(o,e);let a=e[jo];a!==null&&a.insertView(n),Cb(e),e[Ye]|=128}function Xz(n,e){let t=n[id],r=e[Si][Si][ms];e[ms]!==r&&(n[Ye]|=C1.HasTransplantedViews),t===null?n[id]=[e]:t.push(e)}function qP(n,e){let t=n[id],i=t.indexOf(e);t.splice(i,1)}function T_(n,e){if(n.length<=fr)return;let t=fr+e,i=n[t];if(i){let r=i[Uf];r!==null&&r!==n&&qP(r,i),e>0&&(n[t-1][fs]=i[fs]);let s=__(n,fr+e);Kz(i[ht],i);let o=s[jo];o!==null&&o.detachView(s[ht]),i[Si]=null,i[fs]=null,i[Ye]&=-129}return i}function G1(n,e){if(!(e[Ye]&256)){let t=e[Sn];t.destroyNode&&J_(n,e,t,3,null,null),Qz(e)}}function sb(n,e){if(e[Ye]&256)return;let t=Vt(null);try{e[Ye]&=-129,e[Ye]|=256,e[dc]&&kI(e[dc]),eH(n,e),Jz(n,e),e[ht].type===1&&e[Sn].destroy();let i=e[Uf];if(i!==null&&$o(e[Si])){i!==e[Si]&&qP(i,e);let r=e[jo];r!==null&&r.detachView(n)}fz(e)}finally{Vt(t)}}function Jz(n,e){let t=n.cleanup,i=e[kf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[kf]=null);let r=e[Ga];if(r!==null){e[Ga]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function eH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof pc)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];$s(4,a,l);try{l.call(a)}finally{$s(5,a,l)}}else{$s(4,r,s);try{s.call(r)}finally{$s(5,r,s)}}}}}function KP(n,e,t){return tH(n,e.parent,t)}function tH(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Ho];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ws.None||s===Ws.Emulated)return null}return Kr(i,t)}}function x_(n,e,t,i,r){n.insertBefore(e,t,i,r)}function YP(n,e,t){n.appendChild(e,t)}function Jk(n,e,t,i,r){i!==null?x_(n,e,t,i,r):YP(n,e,t)}function nH(n,e,t,i){n.removeChild(e,t,i)}function W1(n,e){return n.parentNode(e)}function iH(n,e){return n.nextSibling(e)}function QP(n,e,t){return sH(n,e,t)}function rH(n,e,t){return n.type&40?Kr(n,t):null}var sH=rH,eO;function X_(n,e,t,i){let r=KP(n,i,e),s=e[Sn],o=i.parent||e[Ar],a=QP(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Jk(s,r,t[l],a,!1);else Jk(s,r,t,a,!1);eO!==void 0&&eO(s,i,e,t,r)}function f_(n,e){if(e!==null){let t=e.type;if(t&3)return Kr(e,n);if(t&4)return Fb(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return f_(n,i);{let r=n[e.index];return $o(r)?Fb(-1,r):qs(r)}}else{if(t&32)return $1(e,n)()||qs(n[e.index]);{let i=ZP(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ff(n[ms]);return f_(r,i)}else return f_(n,e.next)}}}return null}function ZP(n,e){if(e!==null){let i=n[ms][Ar],r=e.projection;return i.projection[r]}return null}function Fb(n,e){let t=fr+n+1;if(t<e.length){let i=e[t],r=i[ht].firstChild;if(r!==null)return f_(i,r)}return e[hc]}function oH(n,e,t){let i=W1(n,e);i&&nH(n,i,e,t)}function q1(n,e,t,i,r,s,o){for(;t!=null;){let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Ka(qs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)q1(n,e,t.child,i,r,s,!1),Yu(e,n,r,a,s);else if(l&32){let c=$1(t,i),u;for(;u=c();)Yu(e,n,r,u,s);Yu(e,n,r,a,s)}else l&16?XP(n,e,i,t,r,s):Yu(e,n,r,a,s);t=o?t.projectionNext:t.next}}function J_(n,e,t,i,r,s){q1(t,i,n.firstChild,e,r,s,!1)}function aH(n,e,t){let i=e[Sn],r=KP(n,t,e),s=t.parent||e[Ar],o=QP(s,t,e);XP(i,0,e,t,r,o)}function XP(n,e,t,i,r,s){let o=t[ms],l=o[Ar].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Yu(e,n,r,u,s)}else{let c=l,u=o[Si];SP(i)&&(c.flags|=128),q1(n,e,c,u,r,s,!0)}}function lH(n,e,t,i,r){let s=t[hc],o=qs(t);s!==o&&Yu(e,n,i,s,r);for(let a=fr;a<t.length;a++){let l=t[a];J_(l[ht],l,n,e,i,s)}}function cH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Ks.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ks.Important),n.setStyle(t,i,r,s))}}function uH(n,e,t){n.setAttribute(e,"style",t)}function JP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eF(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&yb(n,e,i),r!==null&&JP(n,e,r),s!==null&&uH(n,e,s)}var Yr={};function v(n=1){tF(Nn(),et(),Za()+n,!1)}function tF(n,e,t,i){if(!i)if((e[Ye]&3)===3){let s=n.preOrderCheckHooks;s!==null&&u_(e,s,t)}else{let s=n.preOrderHooks;s!==null&&d_(e,s,0,t)}fc(t)}function G(n,e=Tt.Default){let t=et();if(t===null)return ke(n,e);let i=Vi();return bP(i,t,tr(n),e)}function nF(){let n="invalid";throw new Error(n)}function iF(n,e,t,i,r,s){let o=Vt(null);try{let a=null;r&j.SignalBased&&(a=e[i][zs]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&j.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):QO(e,a,i,s)}finally{Vt(o)}}function dH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)fc(~r);else{let s=r,o=t[++i],a=t[++i];Bj(o,s);let l=e[s];a(2,l)}}}finally{fc(-1)}}function e0(n,e,t,i,r,s,o,a,l,c,u){let h=e.blueprint.slice();return h[Ho]=r,h[Ye]=i|4|128|8|64,(c!==null||n&&n[Ye]&2048)&&(h[Ye]|=2048),iP(h),h[Si]=h[dd]=n,h[qr]=t,h[ps]=o||n&&n[ps],h[Sn]=a||n&&n[Sn],h[nd]=l||n&&n[nd]||null,h[Ar]=s,h[H_]=dz(),h[Mf]=u,h[KO]=c,h[ms]=e.type==2?n[ms]:h,h}function pd(n,e,t,i,r){let s=n.data[e];if(s===null)s=hH(n,e,t,i,r),Vj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=Pj();s.injectorIndex=o===null?-1:o.injectorIndex}return vc(s,!0),s}function hH(n,e,t,i,r){let s=aP(),o=D1(),a=o?s:s&&s.parent,l=n.data[e]=yH(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function rF(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function sF(n,e,t,i,r){let s=Za(),o=i&2;try{fc(-1),o&&e.length>ir&&tF(n,e,ir,!1),$s(o?2:0,r),t(i,r)}finally{fc(s),$s(o?3:1,r)}}function K1(n,e,t){if(E1(e)){let i=Vt(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Vt(i)}}}function Y1(n,e,t){sP()&&(EH(n,e,t,Kr(t,e)),(t.flags&64)===64&&cF(n,e,t))}function Q1(n,e,t=Kr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function oF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Z1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Z1(n,e,t,i,r,s,o,a,l,c,u){let h=ir+i,f=h+r,p=fH(h,f),g=typeof c=="function"?c():c;return p[ht]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function fH(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Yr);return t}function pH(n,e,t,i){let s=i.get(yz,PP)||t===Ws.ShadowDom,o=n.selectRootElement(e,s);return mH(o),o}function mH(n){gH(n)}var gH=()=>null;function _H(n,e,t,i){let r=hF(e);r.push(t),n.firstCreatePass&&fF(n).push(i,r.length-1)}function yH(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return oP()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tO(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=j.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?nO(i,t,c,a,l):nO(i,t,c,a)}return i}function nO(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function vH(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let h=s[u],f=t?t.get(h):null,p=f?f.inputs:null,g=f?f.outputs:null;l=tO(0,h.inputs,u,l,p),c=tO(1,h.outputs,u,c,g);let I=l!==null&&o!==null&&!v1(e)?FH(l,u,o):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function wH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function aF(n,e,t,i,r,s,o,a){let l=Kr(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(J1(n,t,u,i,r),$_(e)&&IH(t,e.index)):e.type&3?(i=wH(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function IH(n,e){let t=Qa(e,n);t[Ye]&16||(t[Ye]|=64)}function X1(n,e,t,i){if(sP()){let r=i===null?null:{"":-1},s=xH(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&lF(n,e,t,o,r,a),r&&SH(t,i,r)}t.mergedAttrs=Af(t.mergedAttrs,t.attrs)}function lF(n,e,t,i,r,s){for(let c=0;c<i.length;c++)xb(C_(t,e),n,i[c].type);AH(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=rF(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Af(t.mergedAttrs,u.hostAttrs),RH(n,t,e,l,u),DH(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}vH(n,t,s)}function bH(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;CH(o)!=a&&o.push(a),o.push(t,i,s)}}function CH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function EH(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;$_(t)&&MH(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||C_(t,e),Ka(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=mc(e,n,a,t);if(Ka(c,e),o!==null&&PH(e,a-r,c,l,t,o),qa(l)){let u=Qa(t.index,e);u[qr]=mc(e,n,a,t)}}}function cF(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=Uj();try{fc(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];Eb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&TH(l,c)}}finally{fc(-1),Eb(o)}}function TH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function xH(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(FO(e,o.selectors,!1))if(i||(i=[]),qa(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;Lb(n,e,l)}else i.unshift(o),Lb(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Lb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function SH(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new de(-301,!1);i.push(e[r],s)}}}function DH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;qa(e)&&(t[""]=n)}}function AH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RH(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=uc(r.type,!0)),o=new pc(s,qa(r),G);n.blueprint[i]=o,t[i]=o,bH(n,e,i,rF(n,t,r.hostVars,Yr),r)}function MH(n,e,t){let i=Kr(e,n),r=oF(t),s=n[ps].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=t0(n,e0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function kH(n,e,t,i,r,s){let o=Kr(n,e);OH(e[Sn],o,s,n.value,t,i,r)}function OH(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?cc(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function PH(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],h=o[a++];iF(i,t,l,c,u,h)}}function FH(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function uF(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function dF(n,e){let t=n.contentQueries;if(t!==null){let i=Vt(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];M1(s),a.contentQueries(2,e[o],o)}}}finally{Vt(i)}}}function t0(n,e){return n[Of]?n[Uk][fs]=e:n[Of]=e,n[Uk]=e,e}function Nb(n,e,t){M1(0);let i=Vt(null);try{e(n,t)}finally{Vt(i)}}function hF(n){return n[kf]||(n[kf]=[])}function fF(n){return n.cleanup||(n.cleanup=[])}function pF(n,e){let t=n[nd],i=t?t.get(gs,null):null;i&&i.handleError(e)}function J1(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],u=n.data[o];iF(u,c,i,a,l,r)}}function mF(n,e,t){let i=tP(e,n);Wz(n[Sn],i,t)}function LH(n,e){let t=Qa(e,n),i=t[ht];NH(i,t);let r=t[Ho];r!==null&&t[Mf]===null&&(t[Mf]=j1(r,t[nd])),eC(i,t,t[qr])}function NH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function eC(n,e,t){k1(e);try{let i=n.viewQuery;i!==null&&Nb(1,i,t);let r=n.template;r!==null&&sF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[jo]?.finishViewCreation(n),n.staticContentQueries&&dF(n,e),n.staticViewQueries&&Nb(2,n.viewQuery,t);let s=n.components;s!==null&&VH(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ye]&=-5,O1()}}function VH(n,e){for(let t=0;t<e.length;t++)LH(n,e[t])}function gF(n,e,t,i){let r=Vt(null);try{let s=e.tView,a=n[Ye]&4096?4096:16,l=e0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Uf]=c;let u=n[jo];return u!==null&&(l[jo]=u.createEmbeddedView(s)),eC(s,l,t),l}finally{Vt(r)}}function BH(n,e){let t=fr+e;if(t<n.length)return n[t]}function Vb(n,e){return!e||e.firstChild===null||SP(n)}function _F(n,e,t,i=!0){let r=e[ht];if(Zz(r,e,n,t),i){let o=Fb(t,n),a=e[Sn],l=W1(a,n[hc]);l!==null&&Yz(r,n[Ar],a,e,l,o)}let s=e[Mf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function UH(n,e){let t=T_(n,e);return t!==void 0&&G1(t[ht],t),t}function S_(n,e,t,i,r=!1){for(;t!==null;){let s=e[t.index];s!==null&&i.push(qs(s)),$o(s)&&jH(s,i);let o=t.type;if(o&8)S_(n,e,t.child,i);else if(o&32){let a=$1(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=ZP(e,t);if(Array.isArray(a))i.push(...a);else{let l=Ff(e[ms]);S_(l[ht],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function jH(n,e){for(let t=fr;t<n.length;t++){let i=n[t],r=i[ht].firstChild;r!==null&&S_(i[ht],i,r,e)}n[hc]!==n[Ho]&&e.push(n[hc])}var yF=[];function zH(n){return n[dc]??HH(n)}function HH(n){let e=yF.pop()??Object.create(GH);return e.lView=n,e}function $H(n){n.lView[dc]!==n&&(n.lView=null,yF.push(n))}var GH=tt(se({},Ef),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Pf(n.lView)},consumerOnSignalRead(){this.lView[dc]=this}}),vF=100;function wF(n,e=!0,t=0){let i=n[ps],r=i.rendererFactory,s=!1;s||r.begin?.();try{WH(n,t)}catch(o){throw e&&pF(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function WH(n,e){Bb(n,e);let t=0;for(;S1(n);){if(t===vF)throw new de(103,!1);t++,Bb(n,1)}}function qH(n,e,t,i){let r=e[Ye];if((r&256)===256)return;let s=!1;!s&&e[ps].inlineEffectRunner?.flush(),k1(e);let o=null,a=null;!s&&KH(n)&&(a=zH(e),o=Eg(a));try{iP(e),Nj(n.bindingStartIndex),t!==null&&sF(n,e,t,2,i);let l=(r&3)===3;if(!s)if(l){let h=n.preOrderCheckHooks;h!==null&&u_(e,h,null)}else{let h=n.preOrderHooks;h!==null&&d_(e,h,0,null),tb(e,0)}if(YH(e),IF(e,0),n.contentQueries!==null&&dF(n,e),!s)if(l){let h=n.contentCheckHooks;h!==null&&u_(e,h)}else{let h=n.contentHooks;h!==null&&d_(e,h,1),tb(e,1)}dH(n,e);let c=n.components;c!==null&&CF(e,c,0);let u=n.viewQuery;if(u!==null&&Nb(2,u,i),!s)if(l){let h=n.viewCheckHooks;h!==null&&u_(e,h)}else{let h=n.viewHooks;h!==null&&d_(e,h,2),tb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[c_]){for(let h of e[c_])h();e[c_]=null}s||(e[Ye]&=-73)}catch(l){throw Pf(e),l}finally{a!==null&&(Tg(a,o),$H(a)),O1()}}function KH(n){return n.type!==2}function IF(n,e){for(let t=AP(n);t!==null;t=RP(t))for(let i=fr;i<t.length;i++){let r=t[i];bF(r,e)}}function YH(n){for(let e=AP(n);e!==null;e=RP(e)){if(!(e[Ye]&C1.HasTransplantedViews))continue;let t=e[id];for(let i=0;i<t.length;i++){let r=t[i],s=r[Si];xj(r)}}}function QH(n,e,t){let i=Qa(e,n);bF(i,t)}function bF(n,e){x1(n)&&Bb(n,e)}function Bb(n,e){let i=n[ht],r=n[Ye],s=n[dc],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&xg(s)),s&&(s.dirty=!1),n[Ye]&=-9217,o)qH(i,n,i.template,n[qr]);else if(r&8192){IF(n,1);let a=i.components;a!==null&&CF(n,a,1)}}function CF(n,e,t){for(let i=0;i<e.length;i++)QH(n,e[i],t)}function tC(n){for(n[ps].changeDetectionScheduler?.notify();n;){n[Ye]|=64;let e=Ff(n);if(_j(n)&&!e)return n;n=e}return null}var gc=class{get rootNodes(){let e=this._lView,t=e[ht];return S_(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qr]}set context(e){this._lView[qr]=e}get destroyed(){return(this._lView[Ye]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Si];if($o(e)){let t=e[v_],i=t?t.indexOf(this):-1;i>-1&&(T_(e,i),__(t,i))}this._attachedToViewContainer=!1}G1(this._lView[ht],this._lView)}onDestroy(e){rP(this._lView,e)}markForCheck(){tC(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){Cb(this._lView),this._lView[Ye]|=128}detectChanges(){this._lView[Ye]|=1024,wF(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,WP(this._lView[ht],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=e,Cb(this._lView)}},_s=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JH;let n=e;return n})(),ZH=_s,XH=class extends ZH{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=gF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new gc(r)}};function JH(){return n0(Vi(),et())}function n0(n,e){return n.type&4?new XH(e,n,hd(n,e)):null}var ybe=new RegExp(`^(\\d+)*(${gz}|${mz})*(.*)`);var e$=()=>null;function Ub(n,e){return e$(n,e)}var sd=class{},jb=class{},D_=class{};function t$(n){let e=Error(`No component factory found for ${nr(n)}.`);return e[n$]=n,e}var n$="ngComponent";var zb=class{resolveComponentFactory(e){throw t$(e)}},i0=(()=>{let e=class e{};e.NULL=new zb;let n=e;return n})(),_c=class{},Xt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>i$();let n=e;return n})();function i$(){let n=et(),e=Vi(),t=Qa(e.index,n);return(ac(t)?t:n)[Sn]}var r$=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),ob={};var iO=new Set;function Qs(n){iO.has(n)||(iO.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function rO(...n){}function s$(){let n=typeof Sr.requestAnimationFrame=="function",e=Sr[n?"requestAnimationFrame":"setTimeout"],t=Sr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var qe=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=s$().nativeRequestAnimationFrame,l$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new de(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,o$,rO,rO);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},o$={};function nC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function a$(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hb(n),n.isCheckStableRunning=!0,nC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hb(n))}function l$(n){let e=()=>{a$(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(c$(a))return t.invokeTask(r,s,o,a);try{return sO(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),oO(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return sO(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),oO(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Hb(n),nC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Hb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oO(n){n._nesting--,nC(n)}function c$(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var Qu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Qu||{}),u$={destroy(){}};function r0(n,e){!e&&qO(r0);let t=e?.injector??he(fi);if(!Hz(t))return u$;Qs("NgAfterNextRender");let i=t.get(iC),r=i.handler??=new Gb,s=e?.phase??Qu.MixedReadWrite,o=()=>{r.unregister(l),a()},a=t.get(Y_).onDestroy(o),l=ys(t,()=>new $b(s,()=>{o(),n()}));return r.register(l),{destroy:o}}var $b=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=he(qe),this.errorHandler=he(gs,{optional:!0}),he(sd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gb=class{constructor(){this.executingCallbacks=!1,this.buckets={[Qu.EarlyRead]:new Set,[Qu.Write]:new Set,[Qu.MixedReadWrite]:new Set,[Qu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},iC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function A_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=pb(r,a);else if(s==2){let l=a,c=e[++o];i=pb(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var R_=class extends i0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wa(e);return new od(t,this.ngModule)}};function aO(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function d$(n){let e=n.toLowerCase();return e==="svg"?eP:e==="math"?Ij:null}var Wb=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=V_(i);let r=this.injector.get(e,ob,i);return r!==ob||t===ob?r:this.parentInjector.get(e,t,i)}},od=class extends D_{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=aO(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return aO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=tj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=Vt(null);try{r=r||this.ngModule;let o=r instanceof Ni?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Wb(e,o):e,l=a.get(_c,null);if(l===null)throw new de(407,!1);let c=a.get(r$,null),u=a.get(iC,null),h=a.get(sd,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},p=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",I=i?pH(p,i,this.componentDef.encapsulation,a):GP(p,g,d$(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let E=null;I!==null&&(E=j1(I,a,!0));let M=Z1(0,null,null,1,0,null,null,null,null,null,null),O=e0(null,M,null,b,null,null,f,p,a,null,E);k1(O);let F,$;try{let Y=this.componentDef,A,C=null;Y.findHostDirectiveDefs?(A=[],C=new Map,Y.findHostDirectiveDefs(Y,A,C),A.push(Y)):A=[Y];let T=h$(O,I),P=f$(T,I,Y,A,O,f,p);$=T1(M,ir),I&&g$(p,Y,I,i),t!==void 0&&_$($,this.ngContentSelectors,t),F=m$(P,Y,A,C,O,[y$]),eC(M,O,null)}finally{O1()}return new qb(this.componentType,F,hd($,O),O,$)}finally{Vt(s)}}},qb=class extends jb{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new gc(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;J1(s[ht],s,r,e,t),this.previousInputValues.set(e,t);let o=Qa(this._tNode.index,s);tC(o)}}get injector(){return new lc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function h$(n,e){let t=n[ht],i=ir;return n[i]=e,pd(t,i,2,"#host",null)}function f$(n,e,t,i,r,s,o){let a=r[ht];p$(i,n,e,o);let l=null;e!==null&&(l=j1(e,r[nd]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=e0(r,oF(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Lb(a,n,i.length-1),t0(r,h),r[n.index]=h}function p$(n,e,t,i){for(let r of n)e.mergedAttrs=Af(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(A_(e,e.mergedAttrs,!0),t!==null&&eF(i,t,e))}function m$(n,e,t,i,r,s){let o=Vi(),a=r[ht],l=Kr(o,r);lF(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let h=o.directiveStart+u,f=mc(r,a,h,o);Ka(f,r)}cF(a,r,o),l&&Ka(l,r);let c=mc(r,a,o.directiveStart+o.componentOffset,o);if(n[qr]=r[qr]=c,s!==null)for(let u of s)u(c,e);return K1(a,o,r),c}function g$(n,e,t,i){if(i)yb(n,t,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=nj(e.selectors[0]);r&&yb(n,t,r),s&&s.length>0&&JP(n,t,s.join(" "))}}function _$(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function y$(){let n=Vi();K_(et()[ht],n)}var vs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=v$;let n=e;return n})();function v$(){let n=Vi();return TF(n,et())}var w$=vs,EF=class extends w${constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new lc(this._hostTNode,this._hostLView)}get parentInjector(){let e=F1(this._hostTNode,this._hostLView);if(gP(e)){let t=I_(e,this._hostLView),i=w_(e),r=t[ht].data[i+8];return new lc(r,t)}else return new lc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lO(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Ub(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Vb(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!gj(e),a;if(o)a=t;else{let g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let l=o?e:new od(Wa(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let I=(o?c:this.parentInjector).get(Ni,null);I&&(s=I)}let u=Wa(l.componentType??{}),h=Ub(this._lContainer,u?.id??null),f=h?.firstChild??null,p=l.create(c,r,f,s);return this.insertImpl(p.hostView,a,Vb(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Tj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Si],c=new EF(l,l[Ar],l[Si]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return _F(o,r,s,i),e.attachToViewContainerRef(),AO(ab(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lO(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);i&&(__(ab(this._lContainer),t),G1(i[ht],i))}detach(e){let t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);return i&&__(ab(this._lContainer),t)!=null?new gc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function lO(n){return n[v_]}function ab(n){return n[v_]||(n[v_]=[])}function TF(n,e){let t,i=e[n.index];return $o(i)?t=i:(t=uF(i,e,null,n),e[n.index]=t,t0(e,t)),b$(t,e,n,i),new EF(t,n,e)}function I$(n,e){let t=n[Sn],i=t.createComment(""),r=Kr(e,n),s=W1(t,r);return x_(t,s,i,iH(t,r),!1),i}var b$=T$,C$=()=>!1;function E$(n,e,t){return C$(n,e,t)}function T$(n,e,t,i){if(n[hc])return;let r;t.type&8?r=qs(i):r=I$(e,t),n[hc]=r}var Kb=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Yb=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)rC(e,t).matches!==null&&this.queries[t].setDirty()}},M_=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=O$(e):this.predicate=e}},Qb=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zb=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,x$(t,s)),this.matchTNodeWithReadOption(e,t,h_(t,e,s,!1,!1))}else i===_s?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,h_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===rt||r===vs||r===_s&&t.type&4)this.addMatch(t.index,-2);else{let s=h_(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function x$(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function S$(n,e){return n.type&11?hd(n,e):n.type&4?n0(n,e):null}function D$(n,e,t,i){return t===-1?S$(e,n):t===-2?A$(n,e,i):mc(n,n[ht],t,e)}function A$(n,e,t){if(t===rt)return hd(e,n);if(t===_s)return n0(e,n);if(t===vs)return TF(e,n)}function xF(n,e,t,i){let r=e[jo].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(D$(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Xb(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=xF(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let h=fr;h<u.length;h++){let f=u[h];f[Uf]===f[Si]&&Xb(f[ht],f,c,i)}if(u[id]!==null){let h=u[id];for(let f=0;f<h.length;f++){let p=h[f];Xb(p[ht],p,c,i)}}}}}return i}function R$(n,e){return n[jo].queries[e].queryList}function SF(n,e,t){let i=new Rb((t&4)===4);return _H(n,e,i,i.destroy),(e[jo]??=new Yb).queries.push(new Kb(i))-1}function M$(n,e,t){let i=Nn();return i.firstCreatePass&&(DF(i,new M_(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),SF(i,et(),e)}function k$(n,e,t,i){let r=Nn();if(r.firstCreatePass){let s=Vi();DF(r,new M_(e,t,i),s.index),P$(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return SF(r,et(),t)}function O$(n){return n.split(",").map(e=>e.trim())}function DF(n,e,t){n.queries===null&&(n.queries=new Qb),n.queries.track(new Zb(e,t))}function P$(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function rC(n,e){return n.queries.getByIndex(e)}function F$(n,e){let t=n[ht],i=rC(t,e);return i.crossesNgTemplate?Xb(t,n,e,[]):xF(t,n,i,e)}function L$(n){return typeof n=="function"&&n[zs]!==void 0}function Dn(n,e){Qs("NgSignals");let t=nk(n),i=t[zs];return e?.equal&&(i.equal=e.equal),t.set=r=>OI(i,r),t.update=r=>ik(i,r),t.asReadonly=N$.bind(t),t}function N$(){let n=this[zs];if(n.readonlyFn===void 0){let e=()=>this();e[zs]=n,n.readonlyFn=e}return n.readonlyFn}function AF(n){return L$(n)&&typeof n.set=="function"}function V$(n){return Object.getPrototypeOf(n.prototype).constructor}function Ae(n){let e=V$(n.type),t=!0,i=[n];for(;e;){let r;if(qa(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new de(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=o_(n.inputs),o.inputTransforms=o_(n.inputTransforms),o.declaredInputs=o_(n.declaredInputs),o.outputs=o_(n.outputs);let a=r.hostBindings;a&&H$(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&j$(n,l),c&&z$(n,c),B$(n,r),wU(n.outputs,r.outputs),qa(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}U$(i)}function B$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function U$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Af(r.hostAttrs,t=Af(t,r.hostAttrs))}}function o_(n){return n===Ju?{}:n===hr?[]:n}function j$(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function z$(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function H$(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function xt(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Ya=class{},Lf=class{};var Jb=class extends Ya{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);let r=BO(e);this._bootstrapComponents=$P(r.bootstrap),this._r3Injector=TP(e,t,[{provide:Ya,useValue:this},{provide:i0,useValue:this.componentFactoryResolver},...i],nr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},e1=class extends Lf{constructor(e){super(),this.moduleType=e}create(e){return new Jb(this.moduleType,e,[])}};var k_=class extends Ya{constructor(e){super(),this.componentFactoryResolver=new R_(this),this.instance=null;let t=new Rf([...e.providers,{provide:Ya,useValue:this},{provide:i0,useValue:this.componentFactoryResolver}],e.parent||b1(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function s0(n,e,t=null){return new k_({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ic=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ti(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function RF(n){return sC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function $$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function sC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Wo(n,e,t){return n[e]=t}function o0(n,e){return n[e]}function Dr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function ad(n,e,t,i){let r=Dr(n,e,t);return Dr(n,e+1,i)||r}function MF(n,e,t,i,r){let s=ad(n,e,t,i);return Dr(n,e+2,r)||s}function a0(n,e,t,i,r,s){let o=ad(n,e,t,i);return ad(n,e+2,r,s)||o}function G$(n){return(n.flags&32)===32}function W$(n,e,t,i,r,s,o,a,l){let c=e.consts,u=pd(e,n,4,o||null,rd(c,a));X1(e,t,u,rd(c,l)),K_(e,u);let h=u.tView=Z1(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function D(n,e,t,i,r,s,o,a){let l=et(),c=Nn(),u=n+ir,h=c.firstCreatePass?W$(u,c,l,e,t,i,r,s,o):c.data[u];vc(h,!1);let f=q$(c,l,h,n);W_()&&X_(c,l,f,h),Ka(f,l);let p=uF(f,l,f,h);return l[u]=p,t0(l,p),E$(p,h,l),G_(h)&&Y1(c,l,h),o!=null&&Q1(l,h,a),D}var q$=K$;function K$(n,e,t,i){return q_(!0),e[Sn].createComment("")}function H(n,e,t,i){let r=et(),s=jf();if(Dr(r,s,e)){let o=Nn(),a=P1();kH(a,r,n,e,t,i)}return H}function Y$(n,e,t,i){return Dr(n,jf(),t)?e+cc(t)+i:Yr}function Q$(n,e,t,i,r,s){let o=Lj(),a=ad(n,o,t,r);return R1(2),a?e+cc(t)+i+cc(r)+s:Yr}function a_(n,e){return n<<17|e<<2}function yc(n){return n>>17&32767}function Z$(n){return(n&2)==2}function X$(n,e){return n&131071|e<<17}function t1(n){return n|2}function ld(n){return(n&131068)>>2}function lb(n,e){return n&-131069|e<<2}function J$(n){return(n&1)===1}function n1(n){return n|1}function eG(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=yc(o),l=ld(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Bf(h,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=yc(n[a+1]);n[i+1]=a_(f,a),f!==0&&(n[f+1]=lb(n[f+1],i)),n[a+1]=X$(n[a+1],i)}else n[i+1]=a_(a,0),a!==0&&(n[a+1]=lb(n[a+1],i)),a=i;else n[i+1]=a_(l,0),a===0?a=i:n[l+1]=lb(n[l+1],i),l=i;c&&(n[i+1]=t1(n[i+1])),cO(n,u,i,!0),cO(n,u,i,!1),tG(e,u,n,i,s),o=a_(a,l),s?e.classBindings=o:e.styleBindings=o}function tG(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Bf(s,e)>=0&&(t[i+1]=n1(t[i+1]))}function cO(n,e,t,i){let r=n[t+1],s=e===null,o=i?yc(r):ld(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];nG(l,e)&&(a=!0,n[o+1]=i?n1(c):t1(c)),o=i?yc(c):ld(c)}a&&(n[t+1]=i?t1(r):n1(r))}function nG(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Bf(n,e)>=0:!1}var ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kF(n){return n.substring(ii.key,ii.keyEnd)}function iG(n){return n.substring(ii.value,ii.valueEnd)}function rG(n){return FF(n),OF(n,cd(n,0,ii.textEnd))}function OF(n,e){let t=ii.textEnd;return t===e?-1:(e=ii.keyEnd=oG(n,ii.key=e,t),cd(n,e,t))}function sG(n){return FF(n),PF(n,cd(n,0,ii.textEnd))}function PF(n,e){let t=ii.textEnd,i=ii.key=cd(n,e,t);return t===i?-1:(i=ii.keyEnd=aG(n,i,t),i=uO(n,i,t,58),i=ii.value=cd(n,i,t),i=ii.valueEnd=lG(n,i,t),uO(n,i,t,59))}function FF(n){ii.key=0,ii.keyEnd=0,ii.value=0,ii.valueEnd=0,ii.textEnd=n.length}function cd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function oG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function aG(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function uO(n,e,t,i){return e=cd(n,e,t),e<t&&e++,e}function lG(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=dO(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=dO(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function dO(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function _(n,e,t){let i=et(),r=jf();if(Dr(i,r,e)){let s=Nn(),o=P1();aF(s,o,i,n,e,i[Sn],t,!1)}return _}function i1(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";J1(n,t,s[o],o,i)}function $f(n,e,t){return LF(n,e,t,!1),$f}function Yn(n,e){return LF(n,e,null,!0),Yn}function l0(n){NF(UF,cG,n,!1)}function cG(n,e){for(let t=sG(e);t>=0;t=PF(e,t))UF(n,kF(e),iG(e))}function oe(n){NF(gG,uG,n,!0)}function uG(n,e){for(let t=rG(e);t>=0;t=OF(e,t))U_(n,kF(e),!0)}function LF(n,e,t,i){let r=et(),s=Nn(),o=R1(2);if(s.firstUpdatePass&&BF(s,n,o,i),e!==Yr&&Dr(r,o,e)){let a=s.data[Za()];jF(s,a,r,r[Sn],n,r[o+1]=yG(e,t),i,o)}}function NF(n,e,t,i){let r=Nn(),s=R1(2);r.firstUpdatePass&&BF(r,null,s,i);let o=et();if(t!==Yr&&Dr(o,s,t)){let a=r.data[Za()];if(zF(a,i)&&!VF(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=pb(l,t||"")),i1(r,a,o,t,i)}else _G(r,a,o,o[Sn],o[s+1],o[s+1]=mG(n,e,t),i,s)}}function VF(n,e){return e>=n.expandoStartIndex}function BF(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Za()],o=VF(n,t);zF(s,i)&&e===null&&!o&&(e=!1),e=dG(r,s,e,i),eG(r,s,e,t,o,i)}}function dG(n,e,t,i){let r=jj(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=cb(null,n,e,t,i),t=Nf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=cb(r,n,e,t,i),s===null){let l=hG(n,e,i);l!==void 0&&Array.isArray(l)&&(l=cb(null,n,e,l[1],i),l=Nf(l,e.attrs,i),fG(n,e,i,l))}else s=pG(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function hG(n,e,t){let i=t?e.classBindings:e.styleBindings;if(ld(i)!==0)return n[yc(i)]}function fG(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[yc(r)]=i}function pG(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Nf(i,o,t)}return Nf(i,e.attrs,t)}function cb(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Nf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Nf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),U_(n,o,t?!0:e[++s]))}return n===void 0?null:n}function mG(n,e,t){if(t==null||t==="")return hr;let i=[],r=Xa(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function UF(n,e,t){U_(n,e,Xa(t))}function gG(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&U_(n,i,t)}function _G(n,e,t,i,r,s,o,a){r===Yr&&(r=hr);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,g=null,I;u===h?(l+=2,c+=2,f!==p&&(g=h,I=p)):h===null||u!==null&&u<h?(l+=2,g=u):(c+=2,g=h,I=p),g!==null&&jF(n,e,t,i,g,I,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function jF(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=J$(c)?hO(l,e,t,r,ld(c),o):void 0;if(!O_(u)){O_(s)||Z$(c)&&(s=hO(l,null,t,r,a,o));let h=tP(Za(),t);cH(i,o,h,r,s)}}function hO(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=u===null,f=t[r+1];f===Yr&&(f=h?hr:void 0);let p=h?JI(f,i):u===i?f:void 0;if(c&&!O_(p)&&(p=JI(l,i)),O_(p)&&(a=p,o))return a;let g=n[r+1];r=o?yc(g):ld(g)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=JI(l,i))}return a}function O_(n){return n!==void 0}function yG(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(Xa(n)))),n}function zF(n,e){return(n.flags&(e?8:16))!==0}function md(n,e,t){Qs("NgControlFlow");let i=et(),r=jf(),s=vG(i,ir+n),o=0;if(Dr(i,r,e)){let a=Vt(null);try{if(UH(s,o),e!==-1){let l=wG(i[ht],ir+e),c=Ub(s,l.tView.ssrId),u=gF(i,l,t,{dehydratedView:c});_F(s,u,o,Vb(l,c))}}finally{Vt(a)}}else{let a=BH(s,o);a!==void 0&&(a[qr]=t)}}function vG(n,e){return n[e]}function wG(n,e){return T1(n,e)}function IG(n,e,t,i,r,s){let o=e.consts,a=rd(o,r),l=pd(e,n,2,i,a);return X1(e,t,l,rd(o,s)),l.attrs!==null&&A_(l,l.attrs,!1),l.mergedAttrs!==null&&A_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function S(n,e,t,i){let r=et(),s=Nn(),o=ir+n,a=r[Sn],l=s.firstCreatePass?IG(o,s,r,e,t,i):s.data[o],c=bG(s,r,l,a,e,n);r[o]=c;let u=G_(l);return vc(l,!0),eF(a,c,l),!G$(l)&&W_()&&X_(s,r,c,l),Aj()===0&&Ka(c,r),Rj(),u&&(Y1(s,r,l),K1(s,l,r)),i!==null&&Q1(r,l),S}function R(){let n=Vi();D1()?A1():(n=n.parent,vc(n,!1));let e=n;kj(e)&&Oj(),Mj();let t=Nn();return t.firstCreatePass&&(K_(t,n),E1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Kj(e)&&i1(t,e,et(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Yj(e)&&i1(t,e,et(),e.stylesWithoutHost,!1),R}function W(n,e,t,i){return S(n,e,t,i),R(),W}var bG=(n,e,t,i,r,s)=>(q_(!0),GP(i,r,$j()));function CG(n,e,t,i,r){let s=e.consts,o=rd(s,i),a=pd(e,n,8,"ng-container",o);o!==null&&A_(a,o,!0);let l=rd(s,r);return X1(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ce(n,e,t){let i=et(),r=Nn(),s=n+ir,o=r.firstCreatePass?CG(s,r,i,e,t):r.data[s];vc(o,!0);let a=EG(r,i,o,n);return i[s]=a,W_()&&X_(r,i,a,o),Ka(a,i),G_(o)&&(Y1(r,i,o),K1(r,o,i)),t!=null&&Q1(i,o),ce}function ue(){let n=Vi(),e=Nn();return D1()?A1():(n=n.parent,vc(n,!1)),e.firstCreatePass&&(K_(e,n),E1(n)&&e.queries.elementEnd(n)),ue}function _e(n,e,t){return ce(n,e,t),ue(),_e}var EG=(n,e,t,i)=>(q_(!0),qz(e[Sn],""));function fe(){return et()}var oc=void 0;function TG(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var xG=["en",[["a","p"],["AM","PM"],oc],[["AM","PM"],oc,oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oc,"{1} 'at' {0}",oc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TG],ub={};function Qr(n){let e=SG(n),t=fO(e);if(t)return t;let i=e.split("-")[0];if(t=fO(i),t)return t;if(i==="en")return xG;throw new de(701,!1)}function fO(n){return n in ub||(ub[n]=Sr.ng&&Sr.ng.common&&Sr.ng.common.locales&&Sr.ng.common.locales[n]),ub[n]}var Vn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Vn||{});function SG(n){return n.toLowerCase().replace(/_/g,"-")}var P_="en-US";var DG=P_;function AG(n){typeof n=="string"&&(DG=n.toLowerCase().replace(/_/g,"-"))}function J(n,e,t,i){let r=et(),s=Nn(),o=Vi();return HF(s,r,r[Sn],o,n,e,i),J}function RG(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[kf],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function HF(n,e,t,i,r,s,o){let a=G_(i),c=n.firstCreatePass&&fF(n),u=e[qr],h=hF(e),f=!0;if(i.type&3||o){let I=Kr(i,e),b=o?o(I):I,E=h.length,M=o?F=>o(qs(F[i.index])):i.index,O=null;if(!o&&a&&(O=RG(n,e,r,i.index)),O!==null){let F=O.__ngLastListenerFn__||O;F.__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,f=!1}else{s=mO(i,e,u,s,!1);let F=t.listen(b,r,s);h.push(s,F),c&&c.push(r,M,E,E+1)}}else s=mO(i,e,u,s,!1);let p=i.outputs,g;if(f&&p!==null&&(g=p[r])){let I=g.length;if(I)for(let b=0;b<I;b+=2){let E=g[b],M=g[b+1],$=e[E][M].subscribe(s),Y=h.length;h.push(s,$),c&&c.push(r,i.index,Y,-(Y+1))}}}function pO(n,e,t,i){let r=Vt(null);try{return $s(6,e,t),t(i)!==!1}catch(s){return pF(n,s),!1}finally{$s(7,e,t),Vt(r)}}function mO(n,e,t,i,r){return function s(o){if(o===Function)return i;let a=n.componentOffset>-1?Qa(n.index,e):e;tC(a);let l=pO(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=pO(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function y(n=1){return Hj(n)}function MG(n,e){let t=null,i=QU(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?FO(n,s,!0):JU(i,s))return r}return t}function Ai(n){let e=et()[ms][Ar];if(!e.projection){let t=n?n.length:1,i=e.projection=jU(t,null),r=i.slice(),s=e.child;for(;s!==null;){let o=n?MG(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function pi(n,e=0,t){let i=et(),r=Nn(),s=pd(r,ir+n,16,null,t||null);s.projection===null&&(s.projection=e),A1(),(!i[Mf]||oP())&&(s.flags&32)!==32&&aH(r,i,s)}function Jt(n,e,t,i){k$(n,e,t,i)}function Ge(n,e,t){M$(n,e,t)}function Te(n){let e=et(),t=Nn(),i=lP();M1(i+1);let r=rC(t,i);if(n.dirty&&Ej(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=F$(e,i);n.reset(s,lz),n.notifyOnChanges()}return!0}return!1}function xe(){return R$(et(),lP())}function kG(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Ft(n){let e=Fj();return nP(e,ir+n)}function pe(n,e=""){let t=et(),i=Nn(),r=n+ir,s=i.firstCreatePass?pd(i,r,1,e,null):i.data[r],o=OG(i,t,s,e,n);t[r]=o,W_()&&X_(i,t,o,s),vc(s,!1)}var OG=(n,e,t,i,r)=>(q_(!0),Gz(e[Sn],i));function Ke(n){return Bn("",n,""),Ke}function Bn(n,e,t){let i=et(),r=Y$(i,n,e,t);return r!==Yr&&mF(i,Za(),r),Bn}function oC(n,e,t,i,r){let s=et(),o=Q$(s,n,e,t,i,r);return o!==Yr&&mF(s,Za(),o),oC}function Zs(n,e,t){AF(e)&&(e=e());let i=et(),r=jf();if(Dr(i,r,e)){let s=Nn(),o=P1();aF(s,o,i,n,e,i[Sn],t,!1)}return Zs}function qo(n,e){let t=AF(n);return t&&n.set(e),t}function Xs(n,e){let t=et(),i=Nn(),r=Vi();return HF(i,t,t[Sn],r,n,e),Xs}function PG(n,e,t){let i=Nn();if(i.firstCreatePass){let r=qa(n);r1(t,i.data,i.blueprint,r,!0),r1(e,i.data,i.blueprint,r,!1)}}function r1(n,e,t,i,r){if(n=tr(n),Array.isArray(n))for(let s=0;s<n.length;s++)r1(n[s],e,t,i,r);else{let s=Nn(),o=et(),a=Vi(),l=td(n)?n:tr(n.provide),c=GO(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(td(n)||!n.multi){let p=new pc(c,r,G),g=hb(l,e,r?u:u+f,h);g===-1?(xb(C_(a,o),s,l),db(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[g]=p,o[g]=p)}else{let p=hb(l,e,u+f,h),g=hb(l,e,u,u+f),I=p>=0&&t[p],b=g>=0&&t[g];if(r&&!b||!r&&!I){xb(C_(a,o),s,l);let E=NG(r?LG:FG,t.length,r,i,c);!r&&b&&(t[g].providerFactory=E),db(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(E),o.push(E)}else{let E=$F(t[r?g:p],c,!r&&i);db(s,n,p>-1?p:g,E)}!r&&i&&b&&t[g].componentProviders++}}}function db(n,e,t,i){let r=td(e),s=cj(e);if(r||s){let l=(s?tr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function $F(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function FG(n,e,t,i){return s1(this.multi,[])}function LG(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=mc(t,t[ht],this.providerFactory.index,i);s=a.slice(0,o),s1(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],s1(r,s);return s}function s1(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function NG(n,e,t,i,r){let s=new pc(n,t,G);return s.multi=[],s.index=e,s.componentProviders=0,$F(s,r,i&&!t),s}function _n(n,e=[]){return t=>{t.providersResolver=(i,r)=>PG(i,r?r(n):n,e)}}var VG=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=zO(!1,i.type),s=r.length>0?s0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=we({token:e,providedIn:"environment",factory:()=>new e(ke(Ni))});let n=e;return n})();function ye(n){Qs("NgStandalone"),n.getStandaloneInjector=e=>e.get(VG).getOrCreateStandaloneInjector(n)}function ri(n,e,t){let i=Ys()+n,r=et();return r[i]===Yr?Wo(r,i,t?e.call(t):e()):o0(r,i)}function Re(n,e,t,i){return BG(et(),Ys(),n,e,t,i)}function tn(n,e,t,i,r){return WF(et(),Ys(),n,e,t,i,r)}function si(n,e,t,i,r,s){return UG(et(),Ys(),n,e,t,i,r,s)}function aC(n,e,t,i,r,s,o){return jG(et(),Ys(),n,e,t,i,r,s,o)}function gd(n,e,t,i,r,s,o,a){let l=Ys()+n,c=et(),u=a0(c,l,t,i,r,s);return Dr(c,l+4,o)||u?Wo(c,l+5,a?e.call(a,t,i,r,s,o):e(t,i,r,s,o)):o0(c,l+5)}function bc(n,e,t,i,r,s,o,a,l){let c=Ys()+n,u=et(),h=a0(u,c,t,i,r,s);return ad(u,c+4,o,a)||h?Wo(u,c+6,l?e.call(l,t,i,r,s,o,a):e(t,i,r,s,o,a)):o0(u,c+6)}function GF(n,e,t,i,r,s,o,a,l,c){let u=Ys()+n,h=et(),f=a0(h,u,t,i,r,s);return MF(h,u+4,o,a,l)||f?Wo(h,u+7,c?e.call(c,t,i,r,s,o,a,l):e(t,i,r,s,o,a,l)):o0(h,u+7)}function lC(n,e,t,i){return zG(et(),Ys(),n,e,t,i)}function Gf(n,e){let t=n[e];return t===Yr?void 0:t}function BG(n,e,t,i,r,s){let o=e+t;return Dr(n,o,r)?Wo(n,o+1,s?i.call(s,r):i(r)):Gf(n,o+1)}function WF(n,e,t,i,r,s,o){let a=e+t;return ad(n,a,r,s)?Wo(n,a+2,o?i.call(o,r,s):i(r,s)):Gf(n,a+2)}function UG(n,e,t,i,r,s,o,a){let l=e+t;return MF(n,l,r,s,o)?Wo(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Gf(n,l+3)}function jG(n,e,t,i,r,s,o,a,l){let c=e+t;return a0(n,c,r,s,o,a)?Wo(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Gf(n,c+4)}function zG(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Dr(n,o++,r[l])&&(a=!0);return a?Wo(n,o,i.apply(s,r)):Gf(n,o)}function Ko(n,e){let t=Nn(),i,r=n+ir;t.firstCreatePass?(i=HG(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=uc(i.type,!0)),o,a=dr(G);try{let l=b_(!1),c=s();return b_(l),kG(t,et(),r,c),c}finally{dr(a)}}function HG(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Yo(n,e,t,i){let r=n+ir,s=et(),o=nP(s,r);return $G(s,r)?WF(s,Ys(),e,o.transform,t,i,o):o.transform(t,i)}function $G(n,e){return n[ht].data[e].pure}function dn(n,e){return n0(n,e)}var zo=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},qF=new zo("17.3.11"),c0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var KF=new Me("");function Cc(n){return!!n&&typeof n.then=="function"}function YF(n){return!!n&&typeof n.subscribe=="function"}var u0=new Me(""),QF=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=he(u0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Cc(o))i.push(o);else if(YF(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Wf=new Me("");function GG(){tk(()=>{throw new de(600,!1)})}function WG(n){return n.isBoundToModule}function qG(n,e,t){try{let i=t();return Cc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var _d=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(xP),this.afterRenderEffectManager=he(iC),this.externalTestViews=new Set,this.beforeRender=new sn,this.afterTick=new sn,this.componentTypes=[],this.components=[],this.isStable=he(Ic).hasPendingTasks.pipe(it(i=>!i)),this._injector=he(Ni)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof D_;if(!this._injector.get(QF).done){let p=!s&&VO(i),g=!1;throw new de(405,g)}let a;s?a=i:a=this._injector.get(i0).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=WG(a)?void 0:this._injector.get(Ya),c=r||a.selector,u=a.create(fi.NULL,[],c,l),h=u.location.nativeElement,f=u.injector.get(KF,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),fb(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new de(101,!1);let r=Vt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Vt(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===vF)throw new de(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)KG(a,o,l)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>o1(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>o1(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;fb(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Wf,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>fb(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new de(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function fb(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KG(n,e,t){!e&&!o1(n)||YG(n,t,e)}function o1(n){return S1(n)}function YG(n,e,t){let i;t?(i=0,n[Ye]|=1024):n[Ye]&64?i=0:i=1,wF(n,e,i)}var a1=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},d0=(()=>{let e=class e{compileModuleSync(i){return new e1(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=BO(i),o=$P(s.declarations).reduce((a,l)=>{let c=Wa(l);return c&&a.push(new od(c)),a},[]);return new a1(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var QG=(()=>{let e=class e{constructor(){this.zone=he(qe),this.applicationRef=he(_d)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ZG(n){return[{provide:qe,useFactory:n},{provide:ed,multi:!0,useFactory:()=>{let e=he(QG,{optional:!0});return()=>e.initialize()}},{provide:ed,multi:!0,useFactory:()=>{let e=he(tW);return()=>{e.initialize()}}},{provide:xP,useFactory:XG}]}function XG(){let n=he(qe),e=he(gs);return t=>n.runOutsideAngular(()=>e.handleError(t))}function JG(n){let e=ZG(()=>new qe(eW(n)));return ud([[],e])}function eW(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var tW=(()=>{let e=class e{constructor(){this.subscription=new Ln,this.initialized=!1,this.zone=he(qe),this.pendingTasks=he(Ic)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function nW(){return typeof $localize<"u"&&$localize.locale||P_}var h0=new Me("",{providedIn:"root",factory:()=>he(h0,Tt.Optional|Tt.SkipSelf)||nW()});var ZF=new Me("");var p_=null;function iW(n=[],e){return fi.create({name:e,providers:[{provide:z_,useValue:"platform"},{provide:ZF,useValue:new Set([()=>p_=null])},...n]})}function rW(n=[]){if(p_)return p_;let e=iW(n);return p_=e,GG(),sW(e),e}function sW(n){n.get(V1,null)?.forEach(t=>t())}var Ct=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oW;let n=e;return n})();function oW(n){return aW(Vi(),et(),(n&16)===16)}function aW(n,e,t){if($_(n)&&!t){let i=Qa(n.index,e);return new gc(i,i)}else if(n.type&47){let i=e[ms];return new gc(i,e)}return null}var l1=class{constructor(){}supports(e){return RF(e)}create(e){return new c1(e)}},lW=(n,e)=>e,c1=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lW}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<gO(i,r,s)?t:i,a=gO(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let p=f<s.length?s[f]:s[f]=0,g=p+f;u<=g&&g<c&&(s[f]=p+1)}let h=o.previousIndex;s[h]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!RF(e))throw new de(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,$$(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new u1(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new F_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new F_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},u1=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},d1=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},F_=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new d1,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var h1=class{constructor(){}supports(e){return e instanceof Map||sC(e)}create(){return new f1}},f1=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||sC(e)))throw new de(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new p1(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},p1=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function _O(){return new cC([new l1])}var cC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||_O()),deps:[[e,new B_,new Di]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new de(901,!1)}};e.\u0275prov=we({token:e,providedIn:"root",factory:_O});let n=e;return n})();function yO(){return new uC([new h1])}var uC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||yO()),deps:[[e,new B_,new Di]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new de(901,!1)}};e.\u0275prov=we({token:e,providedIn:"root",factory:yO});let n=e;return n})();function XF(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=rW(i),s=[JG(),...t||[]],a=new k_({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(qe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(gs,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:p=>{c.handleError(p)}})});let h=()=>a.destroy(),f=r.get(ZF);return f.add(h),a.onDestroy(()=>{u.unsubscribe(),f.delete(h)}),qG(c,l,()=>{let p=a.get(QF);return p.runInitializers(),p.donePromise.then(()=>{let g=a.get(h0,P_);AG(g||P_);let I=a.get(_d);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function K(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ve(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Ec(n,e){Qs("NgSignals");let t=XM(n);return e?.equal&&(t[zs].equal=e.equal),t}var cW=new Me("",{providedIn:"root",factory:()=>he(uW)}),uW=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>new m1});let n=e;return n})(),m1=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=he(Ic),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},g1=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=sk(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(gs,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function qf(n,e){Qs("NgSignals"),!e?.injector&&qO(qf);let t=e?.injector??he(fi),i=e?.manualCleanup!==!0?t.get(Y_):null,r=new g1(t.get(cW),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(Ct,null,{optional:!0});return!s||!(s._lView[Ye]&8)?r.watcher.notify():(s._lView[c_]??=[]).push(r.watcher.notify),r}function JF(n){let e=Wa(n);if(!e)return null;let t=new od(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oL=null;function Jo(){return oL}function aL(n){oL??=n}var I0=class{};var yt=new Me(""),vC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(dW),providedIn:"platform"});let n=e;return n})(),lL=new Me(""),dW=(()=>{let e=class e extends vC{constructor(){super(),this._doc=he(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jo().getBaseHref(this._doc)}onPopState(i){let r=Jo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Jo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function wC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function eL(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Zo(n){return n&&n[0]!=="?"?"?"+n:n}var ea=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(IC),providedIn:"root"});let n=e;return n})(),cL=new Me(""),IC=(()=>{let e=class e extends ea{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??he(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return wC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Zo(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Zo(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Zo(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ke(vC),ke(cL,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),uL=(()=>{let e=class e extends ea{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=wC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Zo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Zo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ke(vC),ke(cL,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),vd=(()=>{let e=class e{constructor(i){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=pW(eL(tL(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Zo(r))}normalize(i){return e.stripTrailingSlash(fW(this._basePath,tL(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Zo(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Zo(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Zo,e.joinWithSlash=wC,e.stripTrailingSlash=eL,e.\u0275fac=function(r){return new(r||e)(ke(ea))},e.\u0275prov=we({token:e,factory:()=>hW(),providedIn:"root"});let n=e;return n})();function hW(){return new vd(ke(ea))}function fW(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function tL(n){return n.replace(/\/index.html$/,"")}function pW(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var rr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(rr||{}),ln=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ln||{}),Rr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Rr||{}),Ja={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mW(n){return Qr(n)[Vn.LocaleId]}function gW(n,e,t){let i=Qr(n),r=[i[Vn.DayPeriodsFormat],i[Vn.DayPeriodsStandalone]],s=Zr(r,e);return Zr(s,t)}function _W(n,e,t){let i=Qr(n),r=[i[Vn.DaysFormat],i[Vn.DaysStandalone]],s=Zr(r,e);return Zr(s,t)}function yW(n,e,t){let i=Qr(n),r=[i[Vn.MonthsFormat],i[Vn.MonthsStandalone]],s=Zr(r,e);return Zr(s,t)}function vW(n,e){let i=Qr(n)[Vn.Eras];return Zr(i,e)}function f0(n,e){let t=Qr(n);return Zr(t[Vn.DateFormat],e)}function p0(n,e){let t=Qr(n);return Zr(t[Vn.TimeFormat],e)}function m0(n,e){let i=Qr(n)[Vn.DateTimeFormat];return Zr(i,e)}function C0(n,e){let t=Qr(n),i=t[Vn.NumberSymbols][e];if(typeof i>"u"){if(e===Ja.CurrencyDecimal)return t[Vn.NumberSymbols][Ja.Decimal];if(e===Ja.CurrencyGroup)return t[Vn.NumberSymbols][Ja.Group]}return i}function dL(n){if(!n[Vn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Vn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wW(n){let e=Qr(n);return dL(e),(e[Vn.ExtraData][2]||[]).map(i=>typeof i=="string"?dC(i):[dC(i[0]),dC(i[1])])}function IW(n,e,t){let i=Qr(n);dL(i);let r=[i[Vn.ExtraData][0],i[Vn.ExtraData][1]],s=Zr(r,e)||[];return Zr(s,t)||[]}function Zr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function dC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var bW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,g0={},CW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Xo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Xo||{}),qt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(qt||{}),Wt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Wt||{});function EW(n,e,t,i){let r=OW(n);e=Qo(t,e)||e;let o=[],a;for(;e;)if(a=CW.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=fL(i,l),r=kW(r,i,!0));let c="";return o.forEach(u=>{let h=RW(u);c+=h?h(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function b0(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Qo(n,e){let t=mW(n);if(g0[t]??={},g0[t][e])return g0[t][e];let i="";switch(e){case"shortDate":i=f0(n,Rr.Short);break;case"mediumDate":i=f0(n,Rr.Medium);break;case"longDate":i=f0(n,Rr.Long);break;case"fullDate":i=f0(n,Rr.Full);break;case"shortTime":i=p0(n,Rr.Short);break;case"mediumTime":i=p0(n,Rr.Medium);break;case"longTime":i=p0(n,Rr.Long);break;case"fullTime":i=p0(n,Rr.Full);break;case"short":let r=Qo(n,"shortTime"),s=Qo(n,"shortDate");i=_0(m0(n,Rr.Short),[r,s]);break;case"medium":let o=Qo(n,"mediumTime"),a=Qo(n,"mediumDate");i=_0(m0(n,Rr.Medium),[o,a]);break;case"long":let l=Qo(n,"longTime"),c=Qo(n,"longDate");i=_0(m0(n,Rr.Long),[l,c]);break;case"full":let u=Qo(n,"fullTime"),h=Qo(n,"fullDate");i=_0(m0(n,Rr.Full),[u,h]);break}return i&&(g0[t][e]=i),i}function _0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function ws(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function TW(n,e){return ws(n,3).substring(0,e)}function Qn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=xW(n,s);if((t>0||a>-t)&&(a+=t),n===qt.Hours)a===0&&t===-12&&(a=12);else if(n===qt.FractionalSeconds)return TW(a,e);let l=C0(o,Ja.MinusSign);return ws(a,e,l,i,r)}}function xW(n,e){switch(n){case qt.FullYear:return e.getFullYear();case qt.Month:return e.getMonth();case qt.Date:return e.getDate();case qt.Hours:return e.getHours();case qt.Minutes:return e.getMinutes();case qt.Seconds:return e.getSeconds();case qt.FractionalSeconds:return e.getMilliseconds();case qt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function hn(n,e,t=rr.Format,i=!1){return function(r,s){return SW(r,s,n,e,t,i)}}function SW(n,e,t,i,r,s){switch(t){case Wt.Months:return yW(e,r,i)[n.getMonth()];case Wt.Days:return _W(e,r,i)[n.getDay()];case Wt.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=wW(e),u=IW(e,r,i),h=c.findIndex(f=>{if(Array.isArray(f)){let[p,g]=f,I=o>=p.hours&&a>=p.minutes,b=o<g.hours||o===g.hours&&a<g.minutes;if(p.hours<g.hours){if(I&&b)return!0}else if(I||b)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return gW(e,r,i)[o<12?0:1];case Wt.Eras:return vW(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function y0(n){return function(e,t,i){let r=-1*i,s=C0(t,Ja.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Xo.Short:return(r>=0?"+":"")+ws(o,2,s)+ws(Math.abs(r%60),2,s);case Xo.ShortGMT:return"GMT"+(r>=0?"+":"")+ws(o,1,s);case Xo.Long:return"GMT"+(r>=0?"+":"")+ws(o,2,s)+":"+ws(Math.abs(r%60),2,s);case Xo.Extended:return i===0?"Z":(r>=0?"+":"")+ws(o,2,s)+":"+ws(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var DW=0,w0=4;function AW(n){let e=b0(n,DW,1).getDay();return b0(n,0,1+(e<=w0?w0:w0+7)-e)}function hL(n){let e=n.getDay(),t=e===0?-3:w0-e;return b0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function hC(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=hL(t),o=AW(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return ws(r,n,C0(i,Ja.MinusSign))}}function v0(n,e=!1){return function(t,i){let s=hL(t).getFullYear();return ws(s,n,C0(i,Ja.MinusSign),e)}}var fC={};function RW(n){if(fC[n])return fC[n];let e;switch(n){case"G":case"GG":case"GGG":e=hn(Wt.Eras,ln.Abbreviated);break;case"GGGG":e=hn(Wt.Eras,ln.Wide);break;case"GGGGG":e=hn(Wt.Eras,ln.Narrow);break;case"y":e=Qn(qt.FullYear,1,0,!1,!0);break;case"yy":e=Qn(qt.FullYear,2,0,!0,!0);break;case"yyy":e=Qn(qt.FullYear,3,0,!1,!0);break;case"yyyy":e=Qn(qt.FullYear,4,0,!1,!0);break;case"Y":e=v0(1);break;case"YY":e=v0(2,!0);break;case"YYY":e=v0(3);break;case"YYYY":e=v0(4);break;case"M":case"L":e=Qn(qt.Month,1,1);break;case"MM":case"LL":e=Qn(qt.Month,2,1);break;case"MMM":e=hn(Wt.Months,ln.Abbreviated);break;case"MMMM":e=hn(Wt.Months,ln.Wide);break;case"MMMMM":e=hn(Wt.Months,ln.Narrow);break;case"LLL":e=hn(Wt.Months,ln.Abbreviated,rr.Standalone);break;case"LLLL":e=hn(Wt.Months,ln.Wide,rr.Standalone);break;case"LLLLL":e=hn(Wt.Months,ln.Narrow,rr.Standalone);break;case"w":e=hC(1);break;case"ww":e=hC(2);break;case"W":e=hC(1,!0);break;case"d":e=Qn(qt.Date,1);break;case"dd":e=Qn(qt.Date,2);break;case"c":case"cc":e=Qn(qt.Day,1);break;case"ccc":e=hn(Wt.Days,ln.Abbreviated,rr.Standalone);break;case"cccc":e=hn(Wt.Days,ln.Wide,rr.Standalone);break;case"ccccc":e=hn(Wt.Days,ln.Narrow,rr.Standalone);break;case"cccccc":e=hn(Wt.Days,ln.Short,rr.Standalone);break;case"E":case"EE":case"EEE":e=hn(Wt.Days,ln.Abbreviated);break;case"EEEE":e=hn(Wt.Days,ln.Wide);break;case"EEEEE":e=hn(Wt.Days,ln.Narrow);break;case"EEEEEE":e=hn(Wt.Days,ln.Short);break;case"a":case"aa":case"aaa":e=hn(Wt.DayPeriods,ln.Abbreviated);break;case"aaaa":e=hn(Wt.DayPeriods,ln.Wide);break;case"aaaaa":e=hn(Wt.DayPeriods,ln.Narrow);break;case"b":case"bb":case"bbb":e=hn(Wt.DayPeriods,ln.Abbreviated,rr.Standalone,!0);break;case"bbbb":e=hn(Wt.DayPeriods,ln.Wide,rr.Standalone,!0);break;case"bbbbb":e=hn(Wt.DayPeriods,ln.Narrow,rr.Standalone,!0);break;case"B":case"BB":case"BBB":e=hn(Wt.DayPeriods,ln.Abbreviated,rr.Format,!0);break;case"BBBB":e=hn(Wt.DayPeriods,ln.Wide,rr.Format,!0);break;case"BBBBB":e=hn(Wt.DayPeriods,ln.Narrow,rr.Format,!0);break;case"h":e=Qn(qt.Hours,1,-12);break;case"hh":e=Qn(qt.Hours,2,-12);break;case"H":e=Qn(qt.Hours,1);break;case"HH":e=Qn(qt.Hours,2);break;case"m":e=Qn(qt.Minutes,1);break;case"mm":e=Qn(qt.Minutes,2);break;case"s":e=Qn(qt.Seconds,1);break;case"ss":e=Qn(qt.Seconds,2);break;case"S":e=Qn(qt.FractionalSeconds,1);break;case"SS":e=Qn(qt.FractionalSeconds,2);break;case"SSS":e=Qn(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=y0(Xo.Short);break;case"ZZZZZ":e=y0(Xo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=y0(Xo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=y0(Xo.Long);break;default:return null}return fC[n]=e,e}function fL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function MW(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function kW(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=fL(e,r);return MW(n,i*(s-r))}function OW(n){if(nL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return b0(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(bW))return PW(i)}let e=new Date(n);if(!nL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function PW(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function nL(n){return n instanceof Date&&!isNaN(n.valueOf())}function E0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var pC=/\s+/,iL=[],zt=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=iL,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(pC):iL}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(pC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(pC).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(G(rt),G(Xt))},e.\u0275dir=Ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:[j.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var mC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bi=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new mC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),rL(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);rL(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(vs),G(_s),G(cC))},e.\u0275dir=Ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function rL(n,e){n.context.$implicit=e.item}var Pt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new gC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){sL("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){sL("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(vs),G(_s))},e.\u0275dir=Ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),gC=class{constructor(){this.$implicit=null,this.ngIf=null}};function sL(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${nr(e)}'.`)}var Ht=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Ks.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(G(rt),G(uC),G(Xt))},e.\u0275dir=Ot({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),Kt=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(G(vs))},e.\u0275dir=Ot({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[un]});let n=e;return n})();function FW(n,e){return new de(2100,!1)}var LW="mediumDate",NW=new Me(""),VW=new Me(""),pL=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??LW,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return EW(i,a,o||this.locale,l)}catch(a){throw FW(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(G(h0,16),G(NW,24),G(VW,24))},e.\u0275pipe=j_({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var Et=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Pe({});let n=e;return n})(),bC="browser",BW="server";function nn(n){return n===bC}function T0(n){return n===BW}var mL=(()=>{let e=class e{};e.\u0275prov=we({token:e,providedIn:"root",factory:()=>nn(he(jt))?new _C(he(yt),window):new yC});let n=e;return n})(),_C=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=UW(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function UW(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var yC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},yd=class{};var Yf=class{},S0=class{},Tc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var EC=class{encodeKey(e){return gL(e)}encodeValue(e){return gL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HW(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var $W=/%(\d[a-f0-9])/gi,GW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gL(n){return encodeURIComponent(n).replace($W,(e,t)=>GW[t]??e)}function x0(n){return`${n}`}var el=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new EC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HW(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(x0):[x0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(x0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(x0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var TC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _L(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yL(n){return typeof Blob<"u"&&n instanceof Blob}function vL(n){return typeof FormData<"u"&&n instanceof FormData}function qW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Kf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(WW(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Tc,this.context??=new TC,!this.params)this.params=new el,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_L(this.body)||yL(this.body)||vL(this.body)||qW(this.body)?this.body:this.body instanceof el?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vL(this.body)?null:yL(this.body)?this.body.type||null:_L(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof el?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,i,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},wd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(wd||{}),Qf=class{constructor(e,t=R0.Ok,i="OK"){this.headers=e.headers||new Tc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xC=class n extends Qf{constructor(e={}){super(e),this.type=wd.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},D0=class n extends Qf{constructor(e={}){super(e),this.type=wd.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},A0=class extends Qf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},R0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(R0||{});function CC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var SC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Kf)o=i;else{let c;s.headers instanceof Tc?c=s.headers:c=new Tc(s.headers);let u;s.params&&(s.params instanceof el?u=s.params:u=new el({fromObject:s.params})),o=new Kf(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=He(o).pipe(Bo(c=>this.handler.handle(c)));if(i instanceof Kf||s.observe==="events")return a;let l=a.pipe(ni(c=>c instanceof D0));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(it(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(it(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(it(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(it(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new el().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,CC(s,r))}post(i,r,s={}){return this.request("POST",i,CC(s,r))}put(i,r,s={}){return this.request("PUT",i,CC(s,r))}};e.\u0275fac=function(r){return new(r||e)(ke(Yf))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function KW(n,e){return e(n)}function YW(n,e,t){return(i,r)=>ys(t,()=>e(i,s=>n(s,r)))}var bL=new Me(""),QW=new Me(""),ZW=new Me("");var wL=(()=>{let e=class e extends Yf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=he(Ic);let s=he(ZW,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(bL),...this.injector.get(QW,[])]));this.chain=s.reduceRight((o,a)=>YW(o,a,this.injector),KW)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(sc(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(ke(S0),ke(Ni))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();var XW=/^\)\]\}',?\n/;function JW(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var IL=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new de(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Bt(r.\u0275loadImpl()):He(null)).pipe(ur(()=>new dt(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((b,E)=>a.setRequestHeader(b,E.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let b=i.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(i.responseType){let b=i.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let b=a.statusText||"OK",E=new Tc(a.getAllResponseHeaders()),M=JW(a)||i.url;return c=new xC({headers:E,status:a.status,statusText:b,url:M}),c},h=()=>{let{headers:b,status:E,statusText:M,url:O}=u(),F=null;E!==R0.NoContent&&(F=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=F?R0.Ok:0);let $=E>=200&&E<300;if(i.responseType==="json"&&typeof F=="string"){let Y=F;F=F.replace(XW,"");try{F=F!==""?JSON.parse(F):null}catch(A){F=Y,$&&($=!1,F={error:A,text:F})}}$?(o.next(new D0({body:F,headers:b,status:E,statusText:M,url:O||void 0})),o.complete()):o.error(new A0({error:F,headers:b,status:E,statusText:M,url:O||void 0}))},f=b=>{let{url:E}=u(),M=new A0({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});o.error(M)},p=!1,g=b=>{p||(o.next(u()),p=!0);let E={type:wd.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),i.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),o.next(E)},I=b=>{let E={type:wd.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),o.next(E)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),i.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(l),o.next({type:wd.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),i.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(ke(yd))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),CL=new Me(""),eq="XSRF-TOKEN",tq=new Me("",{providedIn:"root",factory:()=>eq}),nq="X-XSRF-TOKEN",iq=new Me("",{providedIn:"root",factory:()=>nq}),M0=class{},rq=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=E0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(ke(yt),ke(jt),ke(tq))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function sq(n,e){let t=n.url.toLowerCase();if(!he(CL)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=he(M0).getToken(),r=he(iq);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function EL(...n){let e=[SC,IL,wL,{provide:Yf,useExisting:wL},{provide:S0,useExisting:IL},{provide:bL,useValue:sq,multi:!0},{provide:CL,useValue:!0},{provide:M0,useClass:rq}];for(let t of n)e.push(...t.\u0275providers);return ud(e)}var RC=class extends I0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},MC=class n extends RC{static makeCurrent(){aL(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=aq();return t==null?null:lq(t)}resetBaseElement(){Zf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return E0(document.cookie,e)}},Zf=null;function aq(){return Zf=Zf||document.querySelector("base"),Zf?Zf.getAttribute("href"):null}function lq(n){return new URL(n,document.baseURI).pathname}var cq=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),kC=new Me(""),SL=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new de(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(ke(kC),ke(qe))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),k0=class{constructor(e){this._doc=e}},DC="ng-app-id",DL=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=T0(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${DC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(DC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(DC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ke(yt),ke(N1),ke(U1,8),ke(jt))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),AC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PC=/%COMP%/g,AL="%COMP%",uq=`_nghost-${AL}`,dq=`_ngcontent-${AL}`,hq=!0,fq=new Me("",{providedIn:"root",factory:()=>hq});function pq(n){return dq.replace(PC,n)}function mq(n){return uq.replace(PC,n)}function RL(n,e){return e.map(t=>t.replace(PC,n))}var O0=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=T0(l),this.defaultRenderer=new Xf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ws.ShadowDom&&(r=tt(se({},r),{encapsulation:Ws.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof P0?s.applyToHost(i):s instanceof Jf&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Ws.Emulated:o=new P0(c,u,r,this.appId,h,a,l,f);break;case Ws.ShadowDom:return new OC(c,u,i,r,a,l,this.nonce,f);default:o=new Jf(c,u,r,h,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ke(SL),ke(DL),ke(N1),ke(fq),ke(yt),ke(jt),ke(qe),ke(U1))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),Xf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(AC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(TL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(TL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new de(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=AC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=AC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ks.DashCase|Ks.Important)?e.style.setProperty(t,i,r&Ks.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ks.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Jo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function TL(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var OC=class extends Xf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=RL(r.id,r.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jf=class extends Xf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?RL(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},P0=class extends Jf{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=pq(c),this.hostAttr=mq(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},gq=(()=>{let e=class e extends k0{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(ke(yt))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),xL=["alt","control","meta","shift"],_q={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vq=(()=>{let e=class e extends k0{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jo().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),xL.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=_q[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),xL.forEach(a=>{if(a!==s){let l=yq[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(ke(yt))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function ML(n,e){return XF(se({rootComponent:n},wq(e)))}function wq(n){return{appProviders:[...Tq,...n?.providers??[]],platformProviders:Eq}}function Iq(){MC.makeCurrent()}function bq(){return new gs}function Cq(){return kP(document),document}var Eq=[{provide:jt,useValue:bC},{provide:V1,useValue:Iq,multi:!0},{provide:yt,useFactory:Cq,deps:[]}];var Tq=[{provide:z_,useValue:"root"},{provide:gs,useFactory:bq,deps:[]},{provide:kC,useClass:gq,multi:!0,deps:[yt,qe,jt]},{provide:kC,useClass:vq,multi:!0,deps:[yt]},O0,DL,SL,{provide:_c,useExisting:O0},{provide:yd,useClass:cq,deps:[]},[]];var kL=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(ke(yt))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vt="primary",mp=Symbol("RouteTitle"),BC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Td(n){return new BC(n)}function Sq(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Dq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Js(n[t],e[t]))return!1;return!0}function Js(n,e){let t=n?UC(n):void 0,i=e?UC(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!jL(n[r],e[r]))return!1;return!0}function UC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function zL(n){return n.length>0?n[n.length-1]:null}function sl(n){return WI(n)?n:Cc(n)?Bt(Promise.resolve(n)):He(n)}var Aq={exact:$L,subset:GL},HL={exact:Rq,subset:Mq,ignored:()=>!0};function OL(n,e,t){return Aq[t.paths](n.root,e.root,t.matrixParams)&&HL[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Rq(n,e){return Js(n,e)}function $L(n,e,t){if(!Sc(n.segments,e.segments)||!N0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!$L(n.children[i],e.children[i],t))return!1;return!0}function Mq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jL(n[t],e[t]))}function GL(n,e,t){return WL(n,e,e.segments,t)}function WL(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Sc(r,t)||e.hasChildren()||!N0(r,t,i))}else if(n.segments.length===t.length){if(!Sc(n.segments,t)||!N0(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!GL(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Sc(n.segments,r)||!N0(n.segments,r,i)||!n.children[vt]?!1:WL(n.children[vt],e,s,i)}}function N0(n,e,t){return e.every((i,r)=>HL[t](n[r].parameters,i.parameters))}var tl=class{constructor(e=new en([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Td(this.queryParams),this._queryParamMap}toString(){return Pq.serialize(this)}},en=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return V0(this)}},xc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Td(this.parameters),this._parameterMap}toString(){return KL(this)}};function kq(n,e){return Sc(n,e)&&n.every((t,i)=>Js(t.parameters,e[i].parameters))}function Sc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function Oq(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===vt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==vt&&(t=t.concat(e(r,i)))}),t}var gp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>new op,providedIn:"root"});let n=e;return n})(),op=class{parse(e){let t=new zC(e);return new tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ep(e.root,!0)}`,i=Nq(e.queryParams),r=typeof e.fragment=="string"?`#${Fq(e.fragment)}`:"";return`${t}${i}${r}`}},Pq=new op;function V0(n){return n.segments.map(e=>KL(e)).join("/")}function ep(n,e){if(!n.hasChildren())return V0(n);if(e){let t=n.children[vt]?ep(n.children[vt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==vt&&i.push(`${r}:${ep(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=Oq(n,(i,r)=>r===vt?[ep(n.children[vt],!1)]:[`${r}:${ep(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[vt]!=null?`${V0(n)}/${t[0]}`:`${V0(n)}/(${t.join("//")})`}}function qL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function F0(n){return qL(n).replace(/%3B/gi,";")}function Fq(n){return encodeURI(n)}function jC(n){return qL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B0(n){return decodeURIComponent(n)}function PL(n){return B0(n.replace(/\+/g,"%20"))}function KL(n){return`${jC(n.path)}${Lq(n.parameters)}`}function Lq(n){return Object.entries(n).map(([e,t])=>`;${jC(e)}=${jC(t)}`).join("")}function Nq(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${F0(t)}=${F0(r)}`).join("&"):`${F0(t)}=${F0(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Vq=/^[^\/()?;#]+/;function FC(n){let e=n.match(Vq);return e?e[0]:""}var Bq=/^[^\/()?;=#]+/;function Uq(n){let e=n.match(Bq);return e?e[0]:""}var jq=/^[^=?&#]+/;function zq(n){let e=n.match(jq);return e?e[0]:""}var Hq=/^[^&#]+/;function $q(n){let e=n.match(Hq);return e?e[0]:""}var zC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[vt]=new en(e,t)),i}parseSegment(){let e=FC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new de(4009,!1);return this.capture(e),new xc(B0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Uq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=FC(this.remaining);r&&(i=r,this.capture(i))}e[B0(t)]=B0(i)}parseQueryParam(e){let t=zq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=$q(this.remaining);o&&(i=o,this.capture(i))}let r=PL(t),s=PL(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=FC(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new de(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=vt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[vt]:new en([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new de(4011,!1)}};function YL(n){return n.segments.length>0?new en([],{[vt]:n}):n}function QL(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=QL(r);if(i===vt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new en(n.segments,e);return Gq(t)}function Gq(n){if(n.numberOfChildren===1&&n.children[vt]){let e=n.children[vt];return new en(n.segments.concat(e.segments),e.children)}return n}function xd(n){return n instanceof tl}function Wq(n,e,t=null,i=null){let r=ZL(n);return XL(r,e,t,i)}function ZL(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new en(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=YL(i);return e??r}function XL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return LC(r,r,r,t,i);let s=qq(e);if(s.toRoot())return LC(r,r,new en([],{}),t,i);let o=Kq(s,r,n),a=o.processChildren?ip(o.segmentGroup,o.index,s.commands):eN(o.segmentGroup,o.index,s.commands);return LC(r,o.segmentGroup,a,t,i)}function U0(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ap(n){return typeof n=="object"&&n!=null&&n.outlets}function LC(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=JL(n,e,t);let a=YL(QL(o));return new tl(a,s,r)}function JL(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=JL(s,e,t)}),new en(n.segments,i)}var j0=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&U0(i[0]))throw new de(4003,!1);let r=i.find(ap);if(r&&r!==zL(i))throw new de(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new j0(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new j0(t,e,i)}var Cd=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function Kq(n,e,t){if(n.isAbsolute)return new Cd(e,!0,0);if(!t)return new Cd(e,!1,NaN);if(t.parent===null)return new Cd(t,!0,0);let i=U0(n.commands[0])?0:1,r=t.segments.length-1+i;return Yq(t,r,n.numberOfDoubleDots)}function Yq(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new de(4005,!1);r=i.segments.length}return new Cd(i,!1,r-s)}function Qq(n){return ap(n[0])?n[0].outlets:{[vt]:n}}function eN(n,e,t){if(n??=new en([],{}),n.segments.length===0&&n.hasChildren())return ip(n,e,t);let i=Zq(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new en(n.segments.slice(0,i.pathIndex),{});return s.children[vt]=new en(n.segments.slice(i.pathIndex),n.children),ip(s,0,r)}else return i.match&&r.length===0?new en(n.segments,{}):i.match&&!n.hasChildren()?HC(n,e,t):i.match?ip(n,0,r):HC(n,e,t)}function ip(n,e,t){if(t.length===0)return new en(n.segments,{});{let i=Qq(t),r={};if(Object.keys(i).some(s=>s!==vt)&&n.children[vt]&&n.numberOfChildren===1&&n.children[vt].segments.length===0){let s=ip(n.children[vt],e,t);return new en(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=eN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new en(n.segments,r)}}function Zq(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(ap(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!LL(l,c,o))return s;i+=2}else{if(!LL(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function HC(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(ap(s)){let l=Xq(s.outlets);return new en(i,l)}if(r===0&&U0(t[0])){let l=n.segments[e];i.push(new xc(l.path,FL(t[0]))),r++;continue}let o=ap(s)?s.outlets[vt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&U0(a)?(i.push(new xc(o,FL(a))),r+=2):(i.push(new xc(o,{})),r++)}return new en(i,{})}function Xq(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=HC(new en([],{}),0,i))}),e}function FL(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function LL(n,e,t){return n==t.path&&Js(e,t.parameters)}var rp="imperative",gi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gi||{}),Xr=class{constructor(e,t){this.id=e,this.url=t}},Sd=class extends Xr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=gi.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends Xr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=gi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kr||{}),z0=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(z0||{}),nl=class extends Xr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},il=class extends Xr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gi.NavigationSkipped}},lp=class extends Xr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=gi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},H0=class extends Xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$C=class extends Xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},GC=class extends Xr{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=gi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},WC=class extends Xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qC=class extends Xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KC=class{constructor(e){this.route=e,this.type=gi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},YC=class{constructor(e){this.route=e,this.type=gi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},QC=class{constructor(e){this.snapshot=e,this.type=gi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZC=class{constructor(e){this.snapshot=e,this.type=gi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XC=class{constructor(e){this.snapshot=e,this.type=gi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},JC=class{constructor(e){this.snapshot=e,this.type=gi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$0=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=gi.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cp=class{},up=class{constructor(e){this.url=e}};var eE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _p,this.attachRef=null}},_p=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new eE,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),G0=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=tE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=tE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=nE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return nE(e,this._root).map(t=>t.value)}};function tE(n,e){if(n===e.value)return e;for(let t of e.children){let i=tE(n,t);if(i)return i}return null}function nE(n,e){if(n===e.value)return[e];for(let t of e.children){let i=nE(n,t);if(i.length)return i.unshift(e),i}return[]}var Mr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function bd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var W0=class extends G0{constructor(e,t){super(e),this.snapshot=t,hE(this,e)}toString(){return this.snapshot.toString()}};function tN(n){let e=Jq(n),t=new ti([new xc("",{})]),i=new ti({}),r=new ti({}),s=new ti({}),o=new ti(""),a=new Jr(t,i,s,o,r,vt,n,e.root);return a.snapshot=e.root,new W0(new Mr(a,[]),e)}function Jq(n){let e={},t={},i={},r="",s=new dp([],e,i,r,t,vt,n,null,{});return new q0("",new Mr(s,[]))}var Jr=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(it(c=>c[mp]))??He(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(it(e=>Td(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(it(e=>Td(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dE(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:se(se({},e.params),n.params),data:se(se({},e.data),n.data),resolve:se(se(se(se({},n.data),e.data),r?.data),n._resolvedData)}:i={params:se({},n.params),data:se({},n.data),resolve:se(se({},n.data),n._resolvedData??{})},r&&iN(r)&&(i.resolve[mp]=r.title),i}var dp=class{get title(){return this.data?.[mp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Td(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Td(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},q0=class extends G0{constructor(e,t){super(t),this.url=e,hE(this,t)}toString(){return nN(this._root)}};function hE(n,e){e.value._routerState=n,e.children.forEach(t=>hE(n,t))}function nN(n){let e=n.children.length>0?` { ${n.children.map(nN).join(", ")} } `:"";return`${n.value}${e}`}function NC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Js(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Js(e.params,t.params)||n.paramsSubject.next(t.params),Dq(e.url,t.url)||n.urlSubject.next(t.url),Js(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iE(n,e){let t=Js(n.params,e.params)&&kq(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||iE(n.parent,e.parent))}function iN(n){return typeof n.title=="string"||n.title===null}var yp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=he(_p),this.location=he(vs),this.changeDetector=he(Ct),this.environmentInjector=he(Ni),this.inputBinder=he(Z0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new de(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new de(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new de(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new de(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new rE(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[un]});let n=e;return n})(),rE=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Jr?this.route:e===_p?this.childContexts:this.parent.get(e,t)}},Z0=new Me(""),NL=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=xf([r.queryParams,r.params,r.data]).pipe(ur(([o,a,l],c)=>(l=se(se(se({},o),a),l),c===0?He(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=JF(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function eK(n,e,t){let i=hp(n,e._root,t?t._root:void 0);return new W0(i,e)}function hp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=tK(n,e,t);return new Mr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>hp(n,a)),o}}let i=nK(e.value),r=e.children.map(s=>hp(n,s));return new Mr(i,r)}}function tK(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hp(n,i,r);return hp(n,i)})}function nK(n){return new Jr(new ti(n.url),new ti(n.params),new ti(n.queryParams),new ti(n.fragment),new ti(n.data),n.outlet,n.component,n)}var rN="ngNavigationCancelingError";function sN(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=xd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=oN(!1,kr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function oN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[rN]=!0,t.cancellationCode=e,t}function iK(n){return aN(n)&&xd(n.url)}function aN(n){return!!n&&n[rN]}var rK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(r,s){r&1&&W(0,"router-outlet")},dependencies:[yp],encapsulation:2});let n=e;return n})();function sK(n,e){return n.providers&&!n._injector&&(n._injector=s0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fE(n){let e=n.children&&n.children.map(fE),t=e?tt(se({},n),{children:e}):se({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vt&&(t.component=rK),t}function eo(n){return n.outlet||vt}function oK(n,e){let t=n.filter(i=>eo(i)===e);return t.push(...n.filter(i=>eo(i)!==e)),t}function vp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var aK=(n,e,t,i)=>it(r=>(new sE(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),sE=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),NC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=bd(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=bd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=bd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=bd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new JC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ZC(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(NC(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=vp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},K0=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ed=class{constructor(e,t){this.component=e,this.route=t}};function lK(n,e,t){let i=n._root,r=e?e._root:null;return tp(i,r,t,[i.value])}function cK(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ad(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!bO(n)?n:e.get(n):i}function tp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=bd(e);return n.children.forEach(o=>{uK(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sp(a,t.getContext(o),r)),r}function uK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=dK(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new K0(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?tp(n,e,a?a.children:null,i,r):tp(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ed(a.outlet.component,o))}else o&&sp(e,a,r),r.canActivateChecks.push(new K0(i)),s.component?tp(n,null,a?a.children:null,i,r):tp(n,null,t,i,r);return r}function dK(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Sc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sc(n.url,e.url)||!Js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iE(n,e)||!Js(n.queryParams,e.queryParams);case"paramsChange":default:return!iE(n,e)}}function sp(n,e,t){let i=bd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?sp(o,e.children.getContext(s),t):sp(o,null,t):sp(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ed(e.outlet.component,r)):t.canDeactivateChecks.push(new Ed(null,r)):t.canDeactivateChecks.push(new Ed(null,r))}function wp(n){return typeof n=="function"}function hK(n){return typeof n=="boolean"}function fK(n){return n&&wp(n.canLoad)}function pK(n){return n&&wp(n.canActivate)}function mK(n){return n&&wp(n.canActivateChild)}function gK(n){return n&&wp(n.canDeactivate)}function _K(n){return n&&wp(n.canMatch)}function lN(n){return n instanceof Vo||n?.name==="EmptyError"}var L0=Symbol("INITIAL_VALUE");function Dd(){return ur(n=>xf(n.map(e=>e.pipe(Uo(1),t_(L0)))).pipe(it(e=>{for(let t of e)if(t!==!0){if(t===L0)return L0;if(t===!1||t instanceof tl)return t}return!0}),ni(e=>e!==L0),Uo(1)))}function yK(n,e){return qn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?He(tt(se({},t),{guardsResult:!0})):vK(o,i,r,n).pipe(qn(a=>a&&hK(a)?wK(i,s,n,e):He(a)),it(a=>tt(se({},t),{guardsResult:a})))})}function vK(n,e,t,i){return Bt(n).pipe(qn(r=>TK(r.component,r.route,t,e,i)),Hs(r=>r!==!0,!0))}function wK(n,e,t,i){return Bt(e).pipe(Bo(r=>Gu(bK(r.route.parent,i),IK(r.route,i),EK(n,r.path,t),CK(n,r.route,t))),Hs(r=>r!==!0,!0))}function IK(n,e){return n!==null&&e&&e(new XC(n)),He(!0)}function bK(n,e){return n!==null&&e&&e(new QC(n)),He(!0)}function CK(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return He(!0);let r=i.map(s=>Xg(()=>{let o=vp(e)??t,a=Ad(s,o),l=pK(a)?a.canActivate(e,n):ys(o,()=>a(e,n));return sl(l).pipe(Hs())}));return He(r).pipe(Dd())}function EK(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>cK(o)).filter(o=>o!==null).map(o=>Xg(()=>{let a=o.guards.map(l=>{let c=vp(o.node)??t,u=Ad(l,c),h=mK(u)?u.canActivateChild(i,n):ys(c,()=>u(i,n));return sl(h).pipe(Hs())});return He(a).pipe(Dd())}));return He(s).pipe(Dd())}function TK(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return He(!0);let o=s.map(a=>{let l=vp(e)??r,c=Ad(a,l),u=gK(c)?c.canDeactivate(n,e,t,i):ys(l,()=>c(n,e,t,i));return sl(u).pipe(Hs())});return He(o).pipe(Dd())}function xK(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return He(!0);let s=r.map(o=>{let a=Ad(o,n),l=fK(a)?a.canLoad(e,t):ys(n,()=>a(e,t));return sl(l)});return He(s).pipe(Dd(),cN(i))}function cN(n){return kg(Kn(e=>{if(xd(e))throw sN(n,e)}),it(e=>e===!0))}function SK(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return He(!0);let s=r.map(o=>{let a=Ad(o,n),l=_K(a)?a.canMatch(e,t):ys(n,()=>a(e,t));return sl(l)});return He(s).pipe(Dd(),cN(i))}var fp=class{constructor(e){this.segmentGroup=e||null}},Y0=class extends Error{constructor(e){super(),this.urlTree=e}};function Id(n){return $u(new fp(n))}function DK(n){return $u(new de(4e3,!1))}function AK(n){return $u(oN(!1,kr.GuardRejected))}var oE=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return He(i);if(r.numberOfChildren>1||!r.children[vt])return DK(e.redirectTo);r=r.children[vt]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new Y0(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new tl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new en(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new de(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},aE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RK(n,e,t,i,r){let s=pE(n,e,t);return s.matched?(i=sK(e,i),SK(i,e,t,r).pipe(it(o=>o===!0?s:se({},aE)))):He(s)}function pE(n,e,t){if(e.path==="**")return MK(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?se({},aE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Sq)(t,n,e);if(!r)return se({},aE);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?se(se({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function MK(n){return{matched:!0,parameters:n.length>0?zL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function VL(n,e,t,i){return t.length>0&&PK(n,t,i)?{segmentGroup:new en(e,OK(i,new en(t,n.children))),slicedSegments:[]}:t.length===0&&FK(n,t,i)?{segmentGroup:new en(n.segments,kK(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new en(n.segments,n.children),slicedSegments:t}}function kK(n,e,t,i){let r={};for(let s of t)if(X0(n,e,s)&&!i[eo(s)]){let o=new en([],{});r[eo(s)]=o}return se(se({},i),r)}function OK(n,e){let t={};t[vt]=e;for(let i of n)if(i.path===""&&eo(i)!==vt){let r=new en([],{});t[eo(i)]=r}return t}function PK(n,e,t){return t.some(i=>X0(n,e,i)&&eo(i)!==vt)}function FK(n,e,t){return t.some(i=>X0(n,e,i))}function X0(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function LK(n,e,t,i){return eo(n)!==i&&(i===vt||!X0(e,t,n))?!1:pE(e,n,t).matched}function NK(n,e,t){return e.length===0&&!n.children[t]}var lE=class{};function VK(n,e,t,i,r,s,o="emptyOnly"){return new cE(n,e,t,i,r,o,s).recognize()}var BK=31,cE=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new oE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new de(4002,`'${e.segmentGroup}'`)}recognize(){let e=VL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(it(t=>{let i=new dp([],Object.freeze({}),Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,{}),r=new Mr(i,t),s=new q0("",r),o=Wq(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,vt).pipe(za(i=>{if(i instanceof Y0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof fp?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=dE(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(it(s=>s instanceof Mr?[s]:[]))}processChildren(e,t,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Bt(r).pipe(Bo(s=>{let o=i.children[s],a=oK(t,s);return this.processSegmentGroup(e,a,o,s)}),e_((s,o)=>(s.push(...o),s)),Ha(null),ZI(),qn(s=>{if(s===null)return Id(i);let o=uN(s);return UK(o),He(o)}))}processSegment(e,t,i,r,s,o){return Bt(t).pipe(Bo(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(za(l=>{if(l instanceof fp)return He(null);throw l}))),Hs(a=>!!a),za(a=>{if(lN(a))return NK(i,r,s)?He(new lE):Id(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return LK(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Id(r):Id(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=pE(t,r,s);if(!a)return Id(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BK&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(qn(f=>this.processSegment(e,i,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){let o=RK(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),o.pipe(ur(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ur(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:f}=a,p=new dp(u,f,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,zK(i),eo(i),i.component??i._loadedComponent??null,i,HK(i)),{segmentGroup:g,slicedSegments:I}=VL(t,u,h,l);if(I.length===0&&g.hasChildren())return this.processChildren(c,l,g).pipe(it(E=>E===null?null:new Mr(p,E)));if(l.length===0&&I.length===0)return He(new Mr(p,[]));let b=eo(i)===s;return this.processSegment(c,l,g,I,b?vt:s,!0).pipe(it(E=>new Mr(p,E instanceof Mr?[E]:[])))}))):Id(t)))}getChildConfig(e,t,i){return t.children?He({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?He({routes:t._loadedRoutes,injector:t._loadedInjector}):xK(e,t,i,this.urlSerializer).pipe(qn(r=>r?this.configLoader.loadChildren(e,t).pipe(Kn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):AK(t))):He({routes:[],injector:e})}};function UK(n){n.sort((e,t)=>e.value.outlet===vt?-1:t.value.outlet===vt?1:e.value.outlet.localeCompare(t.value.outlet))}function jK(n){let e=n.value.routeConfig;return e&&e.path===""}function uN(n){let e=[],t=new Set;for(let i of n){if(!jK(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=uN(i.children);e.push(new Mr(i.value,r))}return e.filter(i=>!t.has(i))}function zK(n){return n.data||{}}function HK(n){return n.resolve||{}}function $K(n,e,t,i,r,s){return qn(o=>VK(n,e,t,i,o.extractedUrl,r,s).pipe(it(({state:a,tree:l})=>tt(se({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function GK(n,e){return qn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return He(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of dN(l))o.add(c);let a=0;return Bt(o).pipe(Bo(l=>s.has(l)?WK(l,i,n,e):(l.data=dE(l,l.parent,n).resolve,He(void 0))),Kn(()=>a++),Wu(1),qn(l=>a===o.size?He(t):xr))})}function dN(n){let e=n.children.map(t=>dN(t)).flat();return[n,...e]}function WK(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!iN(r)&&(s[mp]=r.title),qK(s,n,e,i).pipe(it(o=>(n._resolvedData=o,n.data=dE(n,n.parent,t).resolve,null)))}function qK(n,e,t,i){let r=UC(n);if(r.length===0)return He({});let s={};return Bt(r).pipe(qn(o=>KK(n[o],e,t,i).pipe(Hs(),Kn(a=>{s[o]=a}))),Wu(1),QI(s),za(o=>lN(o)?xr:$u(o)))}function KK(n,e,t,i){let r=vp(e)??i,s=Ad(n,r),o=s.resolve?s.resolve(e,t):ys(r,()=>s(e,t));return sl(o)}function VC(n){return ur(e=>{let t=n(e);return t?Bt(t).pipe(it(()=>e)):He(e)})}var hN=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===vt);return r}getResolvedTitleForRoute(i){return i.data[mp]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(YK),providedIn:"root"});let n=e;return n})(),YK=(()=>{let e=class e extends hN{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ke(kL))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ip=new Me("",{providedIn:"root",factory:()=>({})}),pp=new Me(""),mE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(d0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return He(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=sl(i.loadComponent()).pipe(it(fN),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),sc(()=>{this.componentLoaders.delete(i)})),s=new Bu(r,()=>new sn).pipe(Vu());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return He({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QK(r,this.compiler,i,this.onLoadEndListener).pipe(sc(()=>{this.childrenLoaders.delete(r)})),a=new Bu(o,()=>new sn).pipe(Vu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function QK(n,e,t,i){return sl(n.loadChildren()).pipe(it(fN),qn(r=>r instanceof Lf||Array.isArray(r)?He(r):Bt(e.compileModuleAsync(r))),it(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(pp,[],{optional:!0,self:!0}).flat()),{routes:o.map(fE),injector:s}}))}function ZK(n){return n&&typeof n=="object"&&"default"in n}function fN(n){return ZK(n)?n.default:n}var gE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(XK),providedIn:"root"});let n=e;return n})(),XK=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),pN=new Me(""),mN=new Me("");function JK(n,e,t){let i=n.get(mN),r=n.get(yt);return n.get(qe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),eY(n))),{onViewTransitionCreated:l}=i;return l&&ys(n,()=>l({transition:a,from:e,to:t})),o})}function eY(n){return new Promise(e=>{r0(e,{injector:n})})}var _E=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn,this.transitionAbortSubject=new sn,this.configLoader=he(mE),this.environmentInjector=he(Ni),this.urlSerializer=he(gp),this.rootContexts=he(_p),this.location=he(vd),this.inputBindingEnabled=he(Z0,{optional:!0})!==null,this.titleStrategy=he(hN),this.options=he(Ip,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=he(gE),this.createViewTransition=he(pN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null;let i=s=>this.events.next(new KC(s)),r=s=>this.events.next(new YC(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(tt(se(se({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ti({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ni(o=>o.id!==0),it(o=>tt(se({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ur(o=>{let a=!1,l=!1;return He(o).pipe(ur(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kr.SupersededByNewNavigation),xr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?tt(se({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&h!=="reload"){let f="";return this.events.next(new il(c.id,this.urlSerializer.serialize(c.rawUrl),f,z0.IgnoredSameUrlNavigation)),c.resolve(null),xr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return He(c).pipe(ur(f=>{let p=this.transitions?.getValue();return this.events.next(new Sd(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?xr:Promise.resolve(f)}),$K(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Kn(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=tt(se({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new H0(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:p,source:g,restoredState:I,extras:b}=c,E=new Sd(f,this.urlSerializer.serialize(p),g,I);this.events.next(E);let M=tN(this.rootComponentType).snapshot;return this.currentTransition=o=tt(se({},c),{targetSnapshot:M,urlAfterRedirects:p,extras:tt(se({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,He(o)}else{let f="";return this.events.next(new il(c.id,this.urlSerializer.serialize(c.extractedUrl),f,z0.IgnoredByUrlHandlingStrategy)),c.resolve(null),xr}}),Kn(c=>{let u=new $C(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),it(c=>(this.currentTransition=o=tt(se({},c),{guards:lK(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),yK(this.environmentInjector,c=>this.events.next(c)),Kn(c=>{if(o.guardsResult=c.guardsResult,xd(c.guardsResult))throw sN(this.urlSerializer,c.guardsResult);let u=new GC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ni(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",kr.GuardRejected),!1)),VC(c=>{if(c.guards.canActivateChecks.length)return He(c).pipe(Kn(u=>{let h=new WC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ur(u=>{let h=!1;return He(u).pipe(GK(this.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",kr.NoDataFromResolver)}}))}),Kn(u=>{let h=new qC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),VC(c=>{let u=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(Kn(p=>{h.component=p}),it(()=>{})));for(let p of h.children)f.push(...u(p));return f};return xf(u(c.targetSnapshot.root)).pipe(Ha(null),Uo(1))}),VC(()=>this.afterPreactivation()),ur(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Bt(h).pipe(it(()=>o)):He(o)}),it(c=>{let u=eK(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=tt(se({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Kn(()=>{this.events.next(new cp)}),aK(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Uo(1),Kn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),XI(this.transitionAbortSubject.pipe(Kn(c=>{throw c}))),sc(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",kr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),za(c=>{if(l=!0,aN(c))this.events.next(new nl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),iK(c)?this.events.next(new up(c.url)):o.resolve(!1);else{this.events.next(new lp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return xr}))}))}cancelNavigationTransition(i,r,s){let o=new nl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function tY(n){return n!==rp}var nY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(iY),providedIn:"root"});let n=e;return n})(),uE=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},iY=(()=>{let e=class e extends uE{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:()=>he(rY),providedIn:"root"});let n=e;return n})(),rY=(()=>{let e=class e extends gN{constructor(){super(...arguments),this.location=he(vd),this.urlSerializer=he(gp),this.options=he(Ip,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=he(gE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Sd)this.stateMemento=this.createStateMemento();else if(i instanceof il)this.rawUrlTree=r.initialUrl;else if(i instanceof H0){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof cp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof nl&&(i.code===kr.GuardRejected||i.code===kr.NoDataFromResolver)?this.restoreHistory(r):i instanceof lp?this.restoreHistory(r,!0):i instanceof Or&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=se(se({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=se(se({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),np=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(np||{});function _N(n,e){n.events.pipe(ni(t=>t instanceof Or||t instanceof nl||t instanceof lp||t instanceof il),it(t=>t instanceof Or||t instanceof il?np.COMPLETE:(t instanceof nl?t.code===kr.Redirect||t.code===kr.SupersededByNewNavigation:!1)?np.REDIRECTING:np.FAILED),ni(t=>t!==np.REDIRECTING),Uo(1)).subscribe(()=>{e()})}function sY(n){throw n}var oY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=he(c0),this.stateManager=he(gN),this.options=he(Ip,{optional:!0})||{},this.pendingTasks=he(Ic),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=he(_E),this.urlSerializer=he(gp),this.location=he(vd),this.urlHandlingStrategy=he(gE),this._events=new sn,this.errorHandler=this.options.errorHandler||sY,this.navigated=!1,this.routeReuseStrategy=he(nY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=he(pp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!he(Z0,{optional:!0}),this.eventsSubscription=new Ln,this.isNgZoneEnabled=he(qe)instanceof qe&&qe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof nl&&r.code!==kr.Redirect&&r.code!==kr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Or)this.navigated=!0;else if(r instanceof up){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tY(s.source)};this.scheduleNavigation(a,rp,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}cY(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=se({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(fE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=se(se({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let p=s?s.snapshot:this.routerState.snapshot.root;f=ZL(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return XL(f,i,h,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=xd(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,rp,null,r)}navigate(i,r={skipLocationChange:!1}){return lY(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=se({},oY):r===!1?s=se({},aY):s=r,xd(i))return OL(this.currentUrlTree,i,s);let o=this.parseUrl(i);return OL(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,p)=>{l=f,c=p});let h=this.pendingTasks.add();return _N(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lY(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new de(4008,!1)}function cY(n){return!(n instanceof cp)&&!(n instanceof up)}var rl=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new sn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:zP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(G(mi),G(Jr),L1("tabindex"),G(Xt),G(rt),G(ea))},e.\u0275dir=Ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&J("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&H("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[j.HasDecoratorInputTransform,"preserveFragment","preserveFragment",K],skipLocationChange:[j.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",K],replaceUrl:[j.HasDecoratorInputTransform,"replaceUrl","replaceUrl",K],routerLink:"routerLink"},standalone:!0,features:[xt,un]});let n=e;return n})(),J0=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof Or&&this.update()})}ngAfterContentInit(){He(this.links.changes,He(null)).pipe(ja()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bt(i).pipe(ja()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=uY(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(G(mi),G(rt),G(Xt),G(Ct),G(rl,8))},e.\u0275dir=Ot({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Jt(o,rl,5),r&2){let a;Te(a=xe())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[un]});let n=e;return n})();function uY(n){return!!n.paths}var Q0=class{};var dY=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ni(i=>i instanceof Or),Bo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=s0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Bt(s).pipe(ja())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=He(null);let o=s.pipe(qn(a=>a===null?He(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Bt([o,a]).pipe(ja())}else return o})}};e.\u0275fac=function(r){return new(r||e)(ke(mi),ke(d0),ke(Ni),ke(Q0),ke(mE))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),yN=new Me(""),hY=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=he(Ni),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Sd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Or?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof il&&i.code===z0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof $0&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>z(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),r0(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new $0(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){nF()},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function vN(n,...e){return ud([{provide:pp,multi:!0,useValue:n},[],{provide:Jr,useFactory:wN,deps:[mi]},{provide:Wf,multi:!0,useFactory:IN},e.map(t=>t.\u0275providers)])}function wN(n){return n.routerState.root}function bp(n,e){return{\u0275kind:n,\u0275providers:e}}function IN(){let n=he(fi);return e=>{let t=n.get(_d);if(e!==t.components[0])return;let i=n.get(mi),r=n.get(bN);n.get(yE)===1&&i.initialNavigation(),n.get(CN,null,Tt.Optional)?.setUpPreloading(),n.get(yN,null,Tt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var bN=new Me("",{factory:()=>new sn}),yE=new Me("",{providedIn:"root",factory:()=>1});function fY(){return bp(2,[{provide:yE,useValue:0},{provide:u0,multi:!0,deps:[fi],useFactory:e=>{let t=e.get(lL,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(mi),s=e.get(bN);_N(r,()=>{i(!0)}),e.get(_E).afterPreactivation=()=>(i(!0),s.closed?He(void 0):s),r.initialNavigation()}))}}])}function pY(){return bp(3,[{provide:u0,multi:!0,useFactory:()=>{let e=he(mi);return()=>{e.setUpLocationChangeListener()}}},{provide:yE,useValue:2}])}var CN=new Me("");function mY(n){return bp(0,[{provide:CN,useExisting:dY},{provide:Q0,useExisting:n}])}function gY(){return bp(8,[NL,{provide:Z0,useExisting:NL}])}function _Y(n){let e=[{provide:pN,useValue:JK},{provide:mN,useValue:se({skipNextTransition:!!n?.skipInitialTransition},n)}];return bp(9,e)}var BL=new Me("ROUTER_FORROOT_GUARD"),yY=[vd,{provide:gp,useClass:op},mi,_p,{provide:Jr,useFactory:wN,deps:[mi]},mE,[]],ol=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[yY,[],{provide:pp,multi:!0,useValue:i},{provide:BL,useFactory:bY,deps:[[mi,new Di,new B_]]},{provide:Ip,useValue:r||{}},r?.useHash?wY():IY(),vY(),r?.preloadingStrategy?mY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CY(r):[],r?.bindToComponentInputs?gY().\u0275providers:[],r?.enableViewTransitions?_Y().\u0275providers:[],EY()]}}static forChild(i){return{ngModule:e,providers:[{provide:pp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(ke(BL,8))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Pe({});let n=e;return n})();function vY(){return{provide:yN,useFactory:()=>{let n=he(mL),e=he(qe),t=he(Ip),i=he(_E),r=he(gp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hY(r,i,n,e,t)}}}function wY(){return{provide:ea,useClass:uL}}function IY(){return{provide:ea,useClass:IC}}function bY(n){return"guarded"}function CY(n){return[n.initialNavigation==="disabled"?pY().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fY().\u0275providers:[]]}var UL=new Me("");function EY(){return[{provide:UL,useFactory:IN},{provide:Wf,multi:!0,useExisting:UL}]}var ey=[{label:"Sabato Sera",option:"24-sera"},{label:"Domenica Mattina",option:"25-mattina"},{label:"Domenica Sera",option:"25-sera"},{label:"Luned\xEC Sera",option:"26-sera"}];var te=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return se(se({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},EN=0;function Lt(n="pn_id_"){return EN++,`${n}${EN}`}function TY(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var Un=TY();var _i=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),vE=(()=>{class n{static AND="and";static OR="or"}return n})(),ty=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let c of i){let u=te.resolveFieldData(l,c);if(this.filters[s](u,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r),o=te.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:te.removeAccents(t.toString()).toLocaleLowerCase(r)==te.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:te.removeAccents(t.toString()).toLocaleLowerCase(r)!=te.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(te.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var al=(()=>{class n{clickSource=new sn;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fn=(()=>{class n{ripple=!1;inputStyle=Dn("outlined");overlayOptions={};csp=Dn({nonce:void 0});filterMatchModeOptions={text:[_i.STARTS_WITH,_i.CONTAINS,_i.NOT_CONTAINS,_i.ENDS_WITH,_i.EQUALS,_i.NOT_EQUALS],numeric:[_i.EQUALS,_i.NOT_EQUALS,_i.LESS_THAN,_i.LESS_THAN_OR_EQUAL_TO,_i.GREATER_THAN,_i.GREATER_THAN_OR_EQUAL_TO],date:[_i.DATE_IS,_i.DATE_IS_NOT,_i.DATE_BEFORE,_i.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new sn;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=se(se({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var St=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(G(_s))};static \u0275dir=Ot({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[j.None,"pTemplate","name"]},standalone:!0})}return n})(),ft=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({})}return n})(),jn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var L=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=M=>{if(M)return getComputedStyle(M).getPropertyValue("position")==="relative"?M:s(M.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),p=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u},g,I;l.top+a+o.height>h.height?(g=l.top-p.top-o.height,t.style.transformOrigin="bottom",l.top+g<0&&(g=-1*l.top)):(g=a+l.top-p.top,t.style.transformOrigin="top");let b=l.left+o.width-h.width,E=l.left-p.left;o.width>h.width?I=(l.left-p.left)*-1:b>0?I=E-b:I=l.left-p.left,t.style.top=g+"px",t.style.left=I+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),h=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),g,I;u.top+l+o>p.height?(g=u.top+h-o,t.style.transformOrigin="bottom",g<0&&(g=h)):(g=l+u.top+h,t.style.transformOrigin="top"),u.left+a>p.width?I=Math.max(0,u.left+f+c-a):I=u.left+f,t.style.top=g+"px",t.style.left=I+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,f=t.clientHeight,p=this.getOuterHeight(i);u<0?t.scrollTop=h+u:u+p>f&&(t.scrollTop=h+u-f+p)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let h=Array.isArray(c)?r(s,c):Object.entries(c).map(([f,p])=>s==="style"&&(p||p===0)?`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?f:void 0);l=h.length?l.concat(h.filter(f=>!!f)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Is=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=L.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var xY=["*"],Be=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=te.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ne({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[j.HasDecoratorInputTransform,"spin","spin",K],styleClass:"styleClass"},standalone:!0,features:[xt,ye],ngContentSelectors:xY,decls:1,vars:0,template:function(i,r){i&1&&(Ai(),pi(0))},encapsulation:2,changeDetection:0})}return n})();var Md=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var kd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ji=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){nn(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(L.removeClass(i,"p-ink-active"),!L.getHeight(i)&&!L.getWidth(i)){let a=Math.max(L.getOuterWidth(this.el.nativeElement),L.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=L.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-L.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-L.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),L.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&L.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&L.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),L.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,L.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(Xt),G(rt),G(qe),G(fn,8))};static \u0275dir=Ot({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),pr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({})}return n})();var Od=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Lt()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){nn(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=se(se({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(L.hasClass(t.relatedTarget,"p-tooltip")||L.hasClass(t.relatedTarget,"p-tooltip-text")||L.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?L.appendChild(this.container,this.el.nativeElement):L.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),L.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?Un.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Un.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof _s){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+L.getWindowScrollLeft(),r=t.top+L.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+L.getOuterWidth(t),s=i.top+(L.getOuterHeight(t)-L.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?L.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-L.getOuterWidth(this.container),r=t.top+(L.getOuterHeight(this.el.nativeElement)-L.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top-L.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top+L.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=se(se({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return L.hasClass(t,"p-inputwrapper")?L.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),a=L.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Is(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):L.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Un.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(G(jt),G(rt),G(qe),G(fn),G(Xt),G(vs))};static \u0275dir=Ot({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&J("keydown.escape",function(o){return r.onPressEscape(o)},!1,HP)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[j.HasDecoratorInputTransform,"escape","escape",K],showDelay:[j.HasDecoratorInputTransform,"showDelay","showDelay",Ve],hideDelay:[j.HasDecoratorInputTransform,"hideDelay","hideDelay",Ve],life:[j.HasDecoratorInputTransform,"life","life",Ve],positionTop:[j.HasDecoratorInputTransform,"positionTop","positionTop",Ve],positionLeft:[j.HasDecoratorInputTransform,"positionLeft","positionLeft",Ve],autoHide:[j.HasDecoratorInputTransform,"autoHide","autoHide",K],fitContent:[j.HasDecoratorInputTransform,"fitContent","fitContent",K],hideOnEscape:[j.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",K],content:[j.None,"pTooltip","content"],disabled:[j.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[xt,un]})}return n})(),ll=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et]})}return n})();var SY=["content"],DY=["navbar"],AY=["inkbar"],RY=["prevBtn"],MY=["nextBtn"],kY=["tabLink"],OY=["tab"],PY=n=>({"p-tabmenu p-component":!0,"p-tabmenu-scrollable":n}),FY=(n,e,t)=>({"p-tabmenuitem":!0,"p-disabled":n,"p-highlight":e,"p-hidden":t}),LY=(n,e)=>({$implicit:n,index:e}),NY=()=>({exact:!1});function VY(n,e){n&1&&W(0,"ChevronLeftIcon"),n&2&&H("aria-hidden",!0)}function BY(n,e){}function UY(n,e){n&1&&D(0,BY,0,0,"ng-template")}function jY(n,e){if(n&1){let t=fe();S(0,"button",17,3),J("click",function(){B(t);let r=y();return U(r.navBackward())}),D(2,VY,1,1,"ChevronLeftIcon",18)(3,UY,1,0,null,19),R()}if(n&2){let t=y();v(2),_("ngIf",!t.previousIconTemplate),v(),_("ngTemplateOutlet",t.previousIconTemplate)}}function zY(n,e){if(n&1&&W(0,"span",28),n&2){let t=y(2).$implicit;_("ngClass",t.icon)("ngStyle",t.iconStyle)}}function HY(n,e){if(n&1&&(S(0,"span",29),pe(1),R()),n&2){let t=y(2).$implicit,i=y();v(),Ke(i.getItemProp(t,"label"))}}function $Y(n,e){if(n&1&&W(0,"span",30),n&2){let t=y(2).$implicit,i=y();_("innerHTML",i.getItemProp(t,"label"),fd)}}function GY(n,e){if(n&1&&(S(0,"span",31),pe(1),R()),n&2){let t=y(2).$implicit,i=y();_("ngClass",t.badgeStyleClass),v(),Ke(i.getItemProp(t,"badge"))}}function WY(n,e){if(n&1&&(S(0,"a",24,5),ce(2),D(3,zY,1,2,"span",25)(4,HY,2,1,"span",26)(5,$Y,1,1,"ng-template",null,6,dn)(7,GY,2,2,"span",27),ue(),R()),n&2){let t=Ft(6),i=y().$implicit,r=y();_("target",r.getItemProp(i,"target")),H("href",r.getItemProp(i,"url"),wc)("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),v(3),_("ngIf",i.icon),v(),_("ngIf",i.escape!==!1)("ngIfElse",t),v(3),_("ngIf",i.badge)}}function qY(n,e){if(n&1&&W(0,"span",28),n&2){let t=y(2).$implicit;_("ngClass",t.icon)("ngStyle",t.iconStyle),H("aria-hidden",!0)}}function KY(n,e){if(n&1&&(S(0,"span",29),pe(1),R()),n&2){let t=y(2).$implicit,i=y();v(),Ke(i.getItemProp(t,"label"))}}function YY(n,e){if(n&1&&W(0,"span",30),n&2){let t=y(2).$implicit,i=y();_("innerHTML",i.getItemProp(t,"label"),fd)}}function QY(n,e){if(n&1&&(S(0,"span",31),pe(1),R()),n&2){let t=y(2).$implicit,i=y();_("ngClass",t.badgeStyleClass),v(),Ke(i.getItemProp(t,"badge"))}}function ZY(n,e){if(n&1&&(S(0,"a",32,5),ce(2),D(3,qY,1,3,"span",25)(4,KY,2,1,"span",26)(5,YY,1,1,"ng-template",null,7,dn)(7,QY,2,2,"span",27),ue(),R()),n&2){let t=Ft(6),i=y().$implicit,r=y();_("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||ri(19,NY))("target",i.target)("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),H("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),v(3),_("ngIf",i.icon),v(),_("ngIf",i.escape!==!1)("ngIfElse",t),v(3),_("ngIf",i.badge)}}function XY(n,e){n&1&&_e(0)}function JY(n,e){if(n&1){let t=fe();S(0,"li",20,4),J("click",function(r){let s=B(t).$implicit,o=y();return U(o.itemClick(r,s))})("keydown",function(r){let s=B(t),o=s.$implicit,a=s.index,l=y();return U(l.onKeydownItem(r,a,o))})("focus",function(){let r=B(t).$implicit,s=y();return U(s.onMenuItemFocus(r))}),D(2,WY,8,10,"a",21)(3,ZY,8,20,"a",22)(4,XY,1,0,"ng-container",23),R()}if(n&2){let t=e.$implicit,i=e.index,r=y();oe(t.styleClass),_("ngStyle",t.style)("ngClass",si(11,FY,r.getItemProp(t,"disabled"),r.isActive(t),t.visible===!1))("tooltipOptions",t.tooltipOptions),H("data-p-disabled",r.disabled(t))("data-p-highlight",r.focusedItemInfo()===t),v(2),_("ngIf",!t.routerLink&&!r.itemTemplate),v(),_("ngIf",t.routerLink&&!r.itemTemplate),v(),_("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tn(15,LY,t,i))}}function eQ(n,e){n&1&&W(0,"ChevronRightIcon"),n&2&&H("aria-hidden",!0)}function tQ(n,e){}function nQ(n,e){n&1&&D(0,tQ,0,0,"ng-template")}function iQ(n,e){if(n&1){let t=fe();S(0,"button",33,8),J("click",function(){B(t);let r=y();return U(r.navForward())}),D(2,eQ,1,1,"ChevronRightIcon",18)(3,nQ,1,0,null,19),R()}if(n&2){let t=y();v(2),_("ngIf",!t.previousIconTemplate),v(),_("ngTemplateOutlet",t.nextIconTemplate)}}var TN=(()=>{class n{platformId;router;route;cd;set model(t){this._model=t,this._focusableItems=(this._model||[]).reduce((i,r)=>(i.push(r),i),[])}get model(){return this._model}set activeItem(t){this._activeItem=t,this.activeItemChange.emit(t),this.tabChanged=!0}get activeItem(){return this._activeItem}scrollable;popup;style;styleClass;ariaLabel;ariaLabelledBy;activeItemChange=new X;content;navbar;inkbar;prevBtn;nextBtn;tabLink;tab;templates;itemTemplate;previousIconTemplate;nextIconTemplate;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;timerIdForAutoScroll=null;_focusableItems;_model;_activeItem;focusedItemInfo=Dn(null);get focusableItems(){return(!this._focusableItems||!this._focusableItems.length)&&(this._focusableItems=(this.model||[]).reduce((t,i)=>(t.push(i),t),[])),this._focusableItems}constructor(t,i,r,s){this.platformId=t,this.router=i,this.route=r,this.cd=s,this.router.events.pipe(ni(o=>o instanceof Or)).subscribe(o=>{this.cd.markForCheck()})}ngOnChanges(t){t.activeItem&&this.autoScrollForActiveItem()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){nn(this.platformId)&&(this.updateInkBar(),this.autoScrollForActiveItem(),this.initButtonState())}ngAfterViewChecked(){nn(this.platformId)&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.clearAutoScrollHandler()}isActive(t){if(t.routerLink){let i=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(i,{relativeTo:this.route}).toString(),t.routerLinkActiveOptions?.exact??t.routerLinkActiveOptions??!1)}return t===this.activeItem}getItemProp(t,i){return t?te.getItemValue(t[i]):void 0}visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1}disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled}onMenuItemFocus(t){this.focusedItemInfo.set(t)}itemClick(t,i){if(i.disabled){t.preventDefault();return}!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.activeItem=i,this.tabChanged=!0,this.cd.markForCheck()}onKeydownItem(t,i,r){let s=i,o={},a=this.tabLink.toArray(),l=this.tab.toArray();switch(t.code){case"ArrowRight":o=this.findNextItem(l,s),s=o.i;break;case"ArrowLeft":o=this.findPrevItem(l,s),s=o.i;break;case"End":o=this.findPrevItem(l,this.model.length),s=o.i,t.preventDefault();break;case"Home":o=this.findNextItem(l,-1),s=o.i,t.preventDefault();break;case"Space":case"Enter":this.itemClick(t,r);break;case"Tab":this.onTabKeyDown(a);break;default:break}a[s]&&a[i]&&(a[i].nativeElement.tabIndex="-1",a[s].nativeElement.tabIndex="0",a[s].nativeElement.focus()),this.cd.markForCheck()}onTabKeyDown(t){t.forEach(i=>{i.nativeElement.tabIndex=L.getAttribute(i.nativeElement.parentElement,"data-p-highlight")?"0":"-1"})}findNextItem(t,i){let r=i+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let s=t[r];return s?L.getAttribute(s.nativeElement,"data-p-disabled")?this.findNextItem(t,r):{nextItem:s.nativeElement,i:r}:null}findPrevItem(t,i){let r=i-1;if(r<0)return{prevItem:t[0],i:0};let s=t[r];return s?L.getAttribute(s.nativeElement,"data-p-disabled")?this.findPrevItem(t,r):{prevItem:s.nativeElement,i:r}:null}updateInkBar(){let t=L.findSingle(this.navbar?.nativeElement,"li.p-highlight");t&&(this.inkbar.nativeElement.style.width=L.getWidth(t)+"px",this.inkbar.nativeElement.style.left=L.getOffset(t).left-L.getOffset(this.navbar?.nativeElement).left+"px")}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+L.getWidth(i):t,0)}updateButtonState(){let t=this.content?.nativeElement,{scrollLeft:i,scrollWidth:r}=t,s=L.getWidth(t);this.backwardIsDisabled=i===0,this.forwardIsDisabled=parseInt(i)===r-s}updateScrollBar(t){let i=this.navbar?.nativeElement.children[t];i&&i&&typeof i.scrollIntoView=="function"&&i.scrollIntoView({block:"nearest",inline:"center"})}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}navBackward(){let t=this.content?.nativeElement,i=L.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft-i;t.scrollLeft=r<=0?0:r}navForward(){let t=this.content?.nativeElement,i=L.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft+i,s=t.scrollWidth-i;t.scrollLeft=r>=s?s:r}autoScrollForActiveItem(){this.scrollable&&(this.clearAutoScrollHandler(),this.timerIdForAutoScroll=setTimeout(()=>{let t=this.model.findIndex(i=>this.isActive(i));t!==-1&&this.updateScrollBar(t)}))}clearAutoScrollHandler(){this.timerIdForAutoScroll&&(clearTimeout(this.timerIdForAutoScroll),this.timerIdForAutoScroll=null)}initButtonState(){this.scrollable&&Promise.resolve().then(()=>{this.updateButtonState(),this.cd.markForCheck()})}static \u0275fac=function(i){return new(i||n)(G(jt),G(mi),G(Jr),G(Ct))};static \u0275cmp=ne({type:n,selectors:[["p-tabMenu"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(SY,5),Ge(DY,5),Ge(AY,5),Ge(RY,5),Ge(MY,5),Ge(kY,5),Ge(OY,5)),i&2){let s;Te(s=xe())&&(r.content=s.first),Te(s=xe())&&(r.navbar=s.first),Te(s=xe())&&(r.inkbar=s.first),Te(s=xe())&&(r.prevBtn=s.first),Te(s=xe())&&(r.nextBtn=s.first),Te(s=xe())&&(r.tabLink=s),Te(s=xe())&&(r.tab=s)}},hostAttrs:[1,"p-element"],inputs:{model:"model",activeItem:"activeItem",scrollable:[j.HasDecoratorInputTransform,"scrollable","scrollable",K],popup:[j.HasDecoratorInputTransform,"popup","popup",K],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{activeItemChange:"activeItemChange"},features:[xt,un],decls:11,vars:11,consts:[["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["tab",""],["tabLink",""],["htmlLabel",""],["htmlRouteLabel",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabmenu-nav-container"],["class","p-tabmenu-nav-prev p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],[1,"p-tabmenu-nav-content",3,"scroll"],["role","menubar",1,"p-tabmenu-nav","p-reset"],["role","presentation","pTooltip","",3,"ngStyle","class","ngClass","tooltipOptions","click","keydown","focus",4,"ngFor","ngForOf"],["role","none",1,"p-tabmenu-ink-bar"],["class","p-tabmenu-nav-next p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-prev","p-tabmenu-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation","pTooltip","",3,"click","keydown","focus","ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"target",4,"ngIf"],["role","menuitem","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"target"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-next","p-tabmenu-nav-btn","p-link",3,"click"]],template:function(i,r){if(i&1){let s=fe();S(0,"div",9)(1,"div",10),D(2,jY,4,2,"button",11),S(3,"div",12,0),J("scroll",function(a){return B(s),U(r.onScroll(a))}),S(5,"ul",13,1),D(7,JY,5,18,"li",14),W(8,"li",15,2),R()(),D(10,iQ,4,2,"button",16),R()()}i&2&&(oe(r.styleClass),_("ngClass",Re(9,PY,r.scrollable))("ngStyle",r.style),v(2),_("ngIf",r.scrollable&&!r.backwardIsDisabled),v(3),H("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel),v(2),_("ngForOf",r.focusableItems),v(3),_("ngIf",r.scrollable&&!r.forwardIsDisabled))},dependencies:()=>[zt,Bi,Pt,Kt,Ht,rl,J0,ji,Od,Md,kd],styles:[`@layer primeng{.p-tabmenu-nav-container{position:relative}.p-tabmenu-scrollable .p-tabmenu-nav-container{overflow:hidden}.p-tabmenu-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabmenu-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabmenu-nav-prev{left:0}.p-tabmenu-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabmenu-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:nowrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1;white-space:nowrap}.p-tabmenu-ink-bar{display:none;z-index:1}.p-tabmenu-nav-content::-webkit-scrollbar{display:none}.p-tabmenuitem:not(.p-hidden){display:flex}}
`],encapsulation:2,changeDetection:0})}return n})(),xN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ol,ft,pr,ll,Md,kd,ol,ft,ll]})}return n})();var SN=(()=>{let e=class e{constructor(i){this.router=i,this.tabs=[]}ngOnInit(){this.tabs=ey,this.activeItem=this.whatActiveItem(),this.router.navigate([`home/${this.activeItem.option}`])}whatActiveItem(){let i=new Date;return i.getDate()<=24?this.tabs[0]:i.getDate()===25?i.getHours()<=18?this.tabs[1]:this.tabs[2]:this.tabs[3]}onActiveItemChange(i){this.activeItem=i,this.router.navigate([`home/${this.activeItem.option}`])}};e.\u0275fac=function(r){return new(r||e)(G(mi))},e.\u0275cmp=ne({type:e,selectors:[["app-tab"]],standalone:!0,features:[ye],decls:1,vars:2,consts:[[3,"activeItemChange","model","activeItem"]],template:function(r,s){r&1&&(S(0,"p-tabMenu",0),J("activeItemChange",function(a){return s.onActiveItemChange(a)}),R()),r&2&&_("model",s.tabs)("activeItem",s.activeItem)},dependencies:[xN,TN],styles:["[_nghost-%COMP%]     .p-tabmenu-nav{display:flex;justify-content:center}@media (max-width: 630px){[_nghost-%COMP%]     .p-tabmenu-nav{justify-content:unset}}[_nghost-%COMP%]     .p-tabmenu .p-tabmenu-nav .p-tabmenuitem.p-highlight .p-menuitem-link{border-color:var(--verde);color:var(--verde)}"]});let n=e;return n})();var DN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-home"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,s){r&1&&W(0,"app-tab")(1,"router-outlet")},dependencies:[yp,SN]});let n=e;return n})();var NN=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(G(Xt),G(rt))},e.\u0275dir=Ot({type:e});let n=e;return n})(),sQ=(()=>{let e=class e extends NN{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Le(e)))(s||e)}})(),e.\u0275dir=Ot({type:e,features:[Ae]});let n=e;return n})(),oi=new Me("");var oQ={provide:oi,useExisting:In(()=>cy),multi:!0};function aQ(){let n=Jo()?Jo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lQ=new Me(""),cy=(()=>{let e=class e extends NN{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aQ())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(G(Xt),G(rt),G(lQ,8))},e.\u0275dir=Ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&J("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[_n([oQ]),Ae]});let n=e;return n})();function cl(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function VN(n){return n!=null&&typeof n.length=="number"}var TE=new Me(""),xE=new Me(""),cQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fd=class{static min(e){return uQ(e)}static max(e){return dQ(e)}static required(e){return hQ(e)}static requiredTrue(e){return fQ(e)}static email(e){return pQ(e)}static minLength(e){return mQ(e)}static maxLength(e){return gQ(e)}static pattern(e){return _Q(e)}static nullValidator(e){return BN(e)}static compose(e){return GN(e)}static composeAsync(e){return qN(e)}};function uQ(n){return e=>{if(cl(e.value)||cl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function dQ(n){return e=>{if(cl(e.value)||cl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function hQ(n){return cl(n.value)?{required:!0}:null}function fQ(n){return n.value===!0?null:{required:!0}}function pQ(n){return cl(n.value)||cQ.test(n.value)?null:{email:!0}}function mQ(n){return e=>cl(e.value)||!VN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function gQ(n){return e=>VN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function _Q(n){if(!n)return BN;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(cl(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function BN(n){return null}function UN(n){return n!=null}function jN(n){return Cc(n)?Bt(n):n}function zN(n){let e={};return n.forEach(t=>{e=t!=null?se(se({},e),t):e}),Object.keys(e).length===0?null:e}function HN(n,e){return e.map(t=>t(n))}function yQ(n){return!n.validate}function $N(n){return n.map(e=>yQ(e)?e:t=>e.validate(t))}function GN(n){if(!n)return null;let e=n.filter(UN);return e.length==0?null:function(t){return zN(HN(t,e))}}function WN(n){return n!=null?GN($N(n)):null}function qN(n){if(!n)return null;let e=n.filter(UN);return e.length==0?null:function(t){let i=HN(t,e).map(jN);return qI(i).pipe(it(zN))}}function KN(n){return n!=null?qN($N(n)):null}function AN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YN(n){return n._rawValidators}function QN(n){return n._rawAsyncValidators}function IE(n){return n?Array.isArray(n)?n:[n]:[]}function iy(n,e){return Array.isArray(n)?n.includes(e):n===e}function RN(n,e){let t=IE(e);return IE(n).forEach(r=>{iy(t,r)||t.push(r)}),t}function MN(n,e){return IE(e).filter(t=>!iy(n,t))}var ry=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ac=class extends ry{get formDirective(){return null}get path(){return null}},ta=class extends ry{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sy=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},vQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uEe=tt(se({},vQ),{"[class.ng-submitted]":"isSubmitted"}),Nd=(()=>{let e=class e extends sy{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(G(ta,2))},e.\u0275dir=Ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Yn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ae]});let n=e;return n})(),ZN=(()=>{let e=class e extends sy{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(G(Ac,10))},e.\u0275dir=Ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Yn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ae]});let n=e;return n})();var Cp="VALID",ny="INVALID",Pd="PENDING",Ep="DISABLED";function SE(n){return(uy(n)?n.validators:n)||null}function wQ(n){return Array.isArray(n)?WN(n):n||null}function DE(n,e){return(uy(e)?e.asyncValidators:n)||null}function IQ(n){return Array.isArray(n)?KN(n):n||null}function uy(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function XN(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new de(1e3,"");if(!i[t])throw new de(1001,"")}function JN(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new de(1002,"")})}var Ld=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cp}get invalid(){return this.status===ny}get pending(){return this.status==Pd}get disabled(){return this.status===Ep}get enabled(){return this.status!==Ep}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MN(e,this._rawAsyncValidators))}hasValidator(e){return iy(this._rawValidators,e)}hasAsyncValidator(e){return iy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pd,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ep,this.errors=null,this._forEachChild(i=>{i.disable(tt(se({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(tt(se({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Cp,this._forEachChild(i=>{i.enable(tt(se({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(tt(se({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cp||this.status===Pd)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ep:Cp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pd,this._hasOwnPendingAsyncValidator=!0;let t=jN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Ep:this.errors?ny:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pd)?Pd:this._anyControlsHaveStatus(ny)?ny:Cp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IQ(this._rawAsyncValidators)}},oy=class extends Ld{constructor(e,t,i){super(SE(t),DE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){JN(this,!0,e),Object.keys(e).forEach(i=>{XN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bE=class extends oy{};var dy=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>hy}),hy="always";function e3(n,e){return[...e.path,n]}function CE(n,e,t=hy){AE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),CQ(n,e),TQ(n,e),EQ(n,e),bQ(n,e)}function kN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ly(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ay(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bQ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function AE(n,e){let t=YN(n);e.validator!==null?n.setValidators(AN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=QN(n);e.asyncValidator!==null?n.setAsyncValidators(AN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ay(e._rawValidators,r),ay(e._rawAsyncValidators,r)}function ly(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=YN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=QN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return ay(e._rawValidators,i),ay(e._rawAsyncValidators,i),t}function CQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&t3(n,e)})}function EQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&t3(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function t3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TQ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function xQ(n,e){n==null,AE(n,e)}function SQ(n,e){return ly(n,e)}function n3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function DQ(n){return Object.getPrototypeOf(n.constructor)===sQ}function AQ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function i3(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===cy?t=s:DQ(s)?i=s:r=s}),r||i||t||null}function RQ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ON(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Tp=class extends Ld{constructor(e=null,t,i){super(SE(t),DE(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MQ=n=>n instanceof Tp;var kQ={provide:ta,useExisting:In(()=>Rc)},FN=Promise.resolve(),Rc=(()=>{let e=class e extends ta{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Tp,this._registered=!1,this.name="",this.update=new X,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=i3(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),n3(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){CE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){FN.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&K(r);FN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?e3(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(G(Ac,9),G(TE,10),G(xE,10),G(oi,10),G(Ct,8),G(dy,8))},e.\u0275dir=Ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"],options:[j.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_n([kQ]),Ae,un]});let n=e;return n})(),r3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var s3=new Me("");var OQ={provide:Ac,useExisting:In(()=>RE)},RE=(()=>{let e=class e extends Ac{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ly(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return CE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){kN(i.control||null,i,!1),RQ(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,AQ(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(kN(r||null,i),MQ(s)&&(CE(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);xQ(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&SQ(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AE(this.form,this),this._oldForm&&ly(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(G(TE,10),G(xE,10),G(dy,8))},e.\u0275dir=Ot({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&J("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[j.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([OQ]),Ae,un]});let n=e;return n})();var PQ={provide:ta,useExisting:In(()=>ME)},ME=(()=>{let e=class e extends ta{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=i3(this,o)}ngOnChanges(i){this._added||this._setUpControl(),n3(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return e3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(G(Ac,13),G(TE,10),G(xE,10),G(oi,10),G(s3,8))},e.\u0275dir=Ot({type:e,selectors:[["","formControlName",""]],inputs:{name:[j.None,"formControlName","name"],isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_n([PQ]),Ae,un]});let n=e;return n})();var o3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Pe({});let n=e;return n})(),EE=class extends Ld{constructor(e,t,i){super(SE(t),DE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){JN(this,!1,e),e.forEach((i,r)=>{XN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function LN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var a3=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return LN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new oy(s,o)}record(i,r=null){let s=this._reduceControls(i);return new bE(s,r)}control(i,r,s){let o={};return this.useNonNullable?(LN(r)?o=r:(o.validators=r,o.asyncValidators=s),new Tp(i,tt(se({},o),{nonNullable:!0}))):new Tp(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new EE(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Tp)return i;if(i instanceof Ld)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Mc=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:dy,useValue:i.callSetDisabledState??hy}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Pe({imports:[o3]});let n=e;return n})(),l3=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:s3,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:dy,useValue:i.callSetDisabledState??hy}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Pe({imports:[o3]});let n=e;return n})();var ul=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,s){this.el=t,this.ngModel=i,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(G(rt),G(Rc,8),G(Ct),G(fn))};static \u0275dir=Ot({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&J("input",function(o){return r.onInput(o)}),i&2&&Yn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),es=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et]})}return n})();var FQ=["*"],c3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ne({type:n,selectors:[["p-floatLabel"]],ngContentSelectors:FQ,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,r){i&1&&(Ai(),S(0,"span",0),pi(1),R())},encapsulation:2,changeDetection:0})}return n})(),u3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ft,ol,ft]})}return n})();var st=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(st||{}),to="*";function Vd(n,e){return{type:st.Trigger,name:n,definitions:e,options:{}}}function bs(n,e=null){return{type:st.Animate,styles:e,timings:n}}function d3(n,e=null){return{type:st.Sequence,steps:n,options:e}}function zi(n){return{type:st.Style,styles:n,offset:null}}function h3(n,e,t){return{type:st.State,name:n,styles:e,options:t}}function Cs(n,e,t=null){return{type:st.Transition,expr:n,animation:e,options:t}}function kE(n,e=null){return{type:st.Reference,animation:n,options:e}}function OE(n,e=null){return{type:st.AnimateRef,animation:n,options:e}}var dl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},xp=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},my="!";var PE=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var FE=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var yi=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Hi=(()=>{class n{autofocus=!1;focused=!1;platformId=he(jt);document=he(yt);host=he(rt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){nn(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=L.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ot({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},standalone:!0,features:[xt]})}return n})(),mr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({})}return n})();var NQ=["input"],VQ=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),BQ=n=>({value:"visible",params:n}),UQ=n=>({width:n});function jQ(n,e){if(n&1){let t=fe();S(0,"TimesIcon",10),J("click",function(){B(t);let r=y(2);return U(r.clear())}),R()}n&2&&(_("styleClass","p-password-clear-icon"),H("data-pc-section","clearIcon"))}function zQ(n,e){}function HQ(n,e){n&1&&D(0,zQ,0,0,"ng-template")}function $Q(n,e){if(n&1){let t=fe();ce(0),D(1,jQ,1,2,"TimesIcon",7),S(2,"span",8),J("click",function(){B(t);let r=y();return U(r.clear())}),D(3,HQ,1,0,null,9),R(),ue()}if(n&2){let t=y();v(),_("ngIf",!t.clearIconTemplate),v(),H("data-pc-section","clearIcon"),v(),_("ngTemplateOutlet",t.clearIconTemplate)}}function GQ(n,e){if(n&1){let t=fe();S(0,"EyeSlashIcon",12),J("click",function(){B(t);let r=y(3);return U(r.onMaskToggle())}),R()}n&2&&H("data-pc-section","hideIcon")}function WQ(n,e){}function qQ(n,e){n&1&&D(0,WQ,0,0,"ng-template")}function KQ(n,e){if(n&1){let t=fe();S(0,"span",12),J("click",function(){B(t);let r=y(3);return U(r.onMaskToggle())}),D(1,qQ,1,0,null,9),R()}if(n&2){let t=y(3);v(),_("ngTemplateOutlet",t.hideIconTemplate)}}function YQ(n,e){if(n&1&&(ce(0),D(1,GQ,1,1,"EyeSlashIcon",11)(2,KQ,2,1,"span",11),ue()),n&2){let t=y(2);v(),_("ngIf",!t.hideIconTemplate),v(),_("ngIf",t.hideIconTemplate)}}function QQ(n,e){if(n&1){let t=fe();S(0,"EyeIcon",12),J("click",function(){B(t);let r=y(3);return U(r.onMaskToggle())}),R()}n&2&&H("data-pc-section","showIcon")}function ZQ(n,e){}function XQ(n,e){n&1&&D(0,ZQ,0,0,"ng-template")}function JQ(n,e){if(n&1){let t=fe();S(0,"span",12),J("click",function(){B(t);let r=y(3);return U(r.onMaskToggle())}),D(1,XQ,1,0,null,9),R()}if(n&2){let t=y(3);v(),_("ngTemplateOutlet",t.showIconTemplate)}}function eZ(n,e){if(n&1&&(ce(0),D(1,QQ,1,1,"EyeIcon",11)(2,JQ,2,1,"span",11),ue()),n&2){let t=y(2);v(),_("ngIf",!t.showIconTemplate),v(),_("ngIf",t.showIconTemplate)}}function tZ(n,e){if(n&1&&(ce(0),D(1,YQ,3,2,"ng-container",5)(2,eZ,3,2,"ng-container",5),ue()),n&2){let t=y();v(),_("ngIf",t.unmasked),v(),_("ngIf",!t.unmasked)}}function nZ(n,e){n&1&&_e(0)}function iZ(n,e){n&1&&_e(0)}function rZ(n,e){if(n&1&&(ce(0),D(1,iZ,1,0,"ng-container",9),ue()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.contentTemplate)}}function sZ(n,e){if(n&1&&(S(0,"div",15),W(1,"div",3),Ko(2,"mapper"),R(),S(3,"div",16),pe(4),R()),n&2){let t=y(2);H("data-pc-section","meter"),v(),_("ngClass",Yo(2,6,t.meter,t.strengthClass))("ngStyle",Re(9,UQ,t.meter?t.meter.width:"")),H("data-pc-section","meterLabel"),v(2),H("data-pc-section","info"),v(),Ke(t.infoText)}}function oZ(n,e){n&1&&_e(0)}function aZ(n,e){if(n&1){let t=fe();S(0,"div",13,1),J("click",function(r){B(t);let s=y();return U(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){B(t);let s=y();return U(s.onAnimationStart(r))})("@overlayAnimation.done",function(r){B(t);let s=y();return U(s.onAnimationEnd(r))}),D(2,nZ,1,0,"ng-container",9)(3,rZ,2,1,"ng-container",14)(4,sZ,5,11,"ng-template",null,2,dn)(6,oZ,1,0,"ng-container",9),R()}if(n&2){let t=Ft(5),i=y();_("ngClass","p-password-panel p-component")("@overlayAnimation",Re(10,BQ,tn(7,VQ,i.showTransitionOptions,i.hideTransitionOptions))),H("data-pc-section","panel"),v(2),_("ngTemplateOutlet",i.headerTemplate),v(),_("ngIf",i.contentTemplate)("ngIfElse",t),v(3),_("ngTemplateOutlet",i.footerTemplate)}}var lZ=(()=>{class n{transform(t,i,...r){return i(t,...r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=j_({name:"mapper",type:n,pure:!0})}return n})(),cZ={provide:oi,useExisting:In(()=>LE),multi:!0},LE=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new X;onBlur=new X;onClear=new X;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.config=o,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,Un.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(t){switch(t.toState){case"void":Un.clear(t.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=L.getOuterWidth(this.input.nativeElement)+"px",L.absolutePosition(this.overlay,this.input.nativeElement)):L.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyUp(t){if(this.feedback){let i=t.target.value;if(this.updateUI(i),t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(t){let i=null,r=null;switch(this.testStrength(t)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null;break}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}writeValue(t){t===void 0?this.value=null:this.value=t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){nn(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Is(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(nn(this.platformId)&&!this.resizeListener){let t=this.document.defaultView;this.resizeListener=this.renderer.listen(t,"resize",()=>{this.overlayVisible&&!L.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(jn.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(jn.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(jn.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(jn.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Un.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(Xt),G(Ct),G(fn),G(rt),G(al))};static \u0275cmp=ne({type:n,selectors:[["p-password"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ge(NQ,5),i&2){let s;Te(s=xe())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[j.HasDecoratorInputTransform,"maxLength","maxLength",Ve],strongLabel:"strongLabel",inputId:"inputId",feedback:[j.HasDecoratorInputTransform,"feedback","feedback",K],appendTo:"appendTo",toggleMask:[j.HasDecoratorInputTransform,"toggleMask","toggleMask",K],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[_n([cZ]),xt],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(i,r){if(i&1){let s=fe();S(0,"div",3),Ko(1,"mapper"),S(2,"input",4,0),Ko(4,"mapper"),Ko(5,"mapper"),J("input",function(a){return B(s),U(r.onInput(a))})("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))})("keyup",function(a){return B(s),U(r.onKeyUp(a))}),R(),D(6,$Q,4,3,"ng-container",5)(7,tZ,3,2,"ng-container",5)(8,aZ,7,12,"div",6),R()}i&2&&(oe(r.styleClass),_("ngClass",Yo(1,26,r.toggleMask,r.containerClass))("ngStyle",r.style),H("data-pc-name","password")("data-pc-section","root"),v(2),oe(r.inputStyleClass),_("ngClass",Yo(4,29,r.disabled,r.inputFieldClass))("disabled",r.disabled)("ngStyle",r.inputStyle)("value",r.value)("variant",r.variant)("autofocus",r.autofocus),H("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",Yo(5,32,r.unmasked,r.inputType))("placeholder",r.placeholder)("autocomplete",r.autocomplete)("maxlength",r.maxLength)("data-pc-section","input"),v(4),_("ngIf",r.showClear&&r.value!=null),v(),_("ngIf",r.toggleMask),v(),_("ngIf",r.overlayVisible))},dependencies:()=>[zt,Pt,Kt,Ht,ul,Hi,yi,FE,PE,lZ],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Vd("overlayAnimation",[Cs(":enter",[zi({opacity:0,transform:"scaleY(0.8)"}),bs("{{showTransitionParams}}")]),Cs(":leave",[bs("{{hideTransitionParams}}",zi({opacity:0}))])])]},changeDetection:0})}return n})(),f3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,es,mr,yi,FE,PE,ft]})}return n})();var hl=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var dZ=["*"],p3=n=>({class:n});function hZ(n,e){n&1&&_e(0)}function fZ(n,e){if(n&1&&W(0,"span",8),n&2){let t=y(3);_("ngClass",t.iconClass()),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function pZ(n,e){if(n&1&&W(0,"SpinnerIcon",9),n&2){let t=y(3);_("styleClass",t.spinnerIconClass())("spin",!0),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function mZ(n,e){if(n&1&&(ce(0),D(1,fZ,1,3,"span",6)(2,pZ,1,4,"SpinnerIcon",7),ue()),n&2){let t=y(2);v(),_("ngIf",t.loadingIcon),v(),_("ngIf",!t.loadingIcon)}}function gZ(n,e){}function _Z(n,e){if(n&1&&D(0,gZ,0,0,"ng-template",10),n&2){let t=y(2);_("ngIf",t.loadingIconTemplate)}}function yZ(n,e){if(n&1&&(ce(0),D(1,mZ,3,2,"ng-container",2)(2,_Z,1,1,null,5),ue()),n&2){let t=y();v(),_("ngIf",!t.loadingIconTemplate),v(),_("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Re(3,p3,t.iconClass()))}}function vZ(n,e){if(n&1&&W(0,"span",8),n&2){let t=y(2);_("ngClass",t.iconClass()),H("data-pc-section","icon")}}function wZ(n,e){}function IZ(n,e){if(n&1&&D(0,wZ,0,0,"ng-template",10),n&2){let t=y(2);_("ngIf",!t.icon&&t.iconTemplate)}}function bZ(n,e){if(n&1&&(ce(0),D(1,vZ,1,2,"span",6)(2,IZ,1,1,null,5),ue()),n&2){let t=y();v(),_("ngIf",t.icon&&!t.iconTemplate),v(),_("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Re(3,p3,t.iconClass()))}}function CZ(n,e){if(n&1&&(S(0,"span",11),pe(1),R()),n&2){let t=y();H("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),v(),Ke(t.label)}}function EZ(n,e){if(n&1&&(S(0,"span",8),pe(1),R()),n&2){let t=y();oe(t.badgeClass),_("ngClass",t.badgeStyleClass()),H("data-pc-section","badge"),v(),Ke(t.badge)}}var fl={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},gy=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(fl);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){L.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[fl.button,fl.component];return this.icon&&!this.label&&te.isEmpty(this.htmlElement.textContent)&&t.push(fl.iconOnly),this.loading&&(t.push(fl.disabled,fl.loading),!this.icon&&this.label&&t.push(fl.labelOnly),this.icon&&!this.label&&!te.isEmpty(this.htmlElement.textContent)&&t.push(fl.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!L.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!L.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&L.addClass(i,r);let s=this.getIconClass();s&&L.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=L.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=L.findSingle(this.htmlElement,".p-button-icon"),i=L.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(G(rt),G(yt))};static \u0275dir=Ot({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[j.HasDecoratorInputTransform,"raised","raised",K],rounded:[j.HasDecoratorInputTransform,"rounded","rounded",K],text:[j.HasDecoratorInputTransform,"text","text",K],outlined:[j.HasDecoratorInputTransform,"outlined","outlined",K],size:"size",plain:[j.HasDecoratorInputTransform,"plain","plain",K]},standalone:!0,features:[xt]})}return n})(),Sp=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new X;onFocus=new X;onBlur=new X;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(G(rt))};static \u0275cmp=ne({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Yn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],loading:[j.HasDecoratorInputTransform,"loading","loading",K],loadingIcon:"loadingIcon",raised:[j.HasDecoratorInputTransform,"raised","raised",K],rounded:[j.HasDecoratorInputTransform,"rounded","rounded",K],text:[j.HasDecoratorInputTransform,"text","text",K],plain:[j.HasDecoratorInputTransform,"plain","plain",K],severity:"severity",outlined:[j.HasDecoratorInputTransform,"outlined","outlined",K],link:[j.HasDecoratorInputTransform,"link","link",K],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[xt,ye],ngContentSelectors:dZ,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(Ai(),S(0,"button",0),J("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),pi(1),D(2,hZ,1,0,"ng-container",1)(3,yZ,3,5,"ng-container",2)(4,bZ,3,5,"ng-container",2)(5,CZ,2,3,"span",3)(6,EZ,2,5,"span",4),R()),i&2&&(_("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),H("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),v(2),_("ngTemplateOutlet",r.contentTemplate),v(),_("ngIf",r.loading),v(),_("ngIf",!r.loading),v(),_("ngIf",!r.contentTemplate&&r.label),v(),_("ngIf",!r.contentTemplate&&r.badge))},dependencies:[Pt,Kt,Ht,zt,ji,Hi,hl],encapsulation:2,changeDetection:0})}return n})(),Es=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Sp,ft]})}return n})();var g3=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},TZ=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(t[u],t[h],t[f],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(g3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TZ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new VE;let f=s<<2|a>>4;if(i.push(f),c!==64){let p=a<<4&240|c>>2;if(i.push(p),h!==64){let g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},VE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xZ=function(n){let e=g3(n);return _3.encodeByteArray(e,!0)},Dp=function(n){return xZ(n).replace(/\./g,"")},UE=function(n){try{return _3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var DZ=()=>SZ().__FIREBASE_DEFAULTS__,AZ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RZ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&UE(n[1]);return e&&JSON.parse(e)},vy=()=>{try{return DZ()||AZ()||RZ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jE=n=>{var e,t;return(t=(e=vy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},y3=n=>{let e=jE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},zE=()=>{var n;return(n=vy())===null||n===void 0?void 0:n.config},HE=n=>{var e;return(e=vy())===null||e===void 0?void 0:e[`_${n}`]};var yy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function v3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dp(JSON.stringify(t)),Dp(JSON.stringify(o)),""].join(".")}function ai(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ai())}function MZ(){var n;let e=(n=vy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function b3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){let n=ai();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function E3(){return!MZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function T3(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var kZ="FirebaseError",Pr=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=kZ,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}},na=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?OZ(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Pr(r,a,i)}};function OZ(n,e){return n.replace(PZ,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var PZ=/\{\$([^}]+)}/g;function x3(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oc(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(m3(s)&&m3(o)){if(!Oc(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function m3(n){return n!==null&&typeof n=="object"}function Ap(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bd(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ud(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function S3(n,e){let t=new BE(n,e);return t.subscribe.bind(t)}var BE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");FZ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=NE),r.error===void 0&&(r.error=NE),r.complete===void 0&&(r.complete=NE);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FZ(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function NE(){}var ITe=4*60*60*1e3;function $i(n){return n&&n._delegate?n._delegate:n}var ts=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pc="[DEFAULT]";var GE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new yy;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NZ(e))try{this.getOrInitializeService({instanceIdentifier:Pc})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Pc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return z(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pc){return this.instances.has(e)}getOptions(e=Pc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LZ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pc){return this.component?this.component.multipleInstances?e:Pc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LZ(n){return n===Pc?void 0:n}function NZ(n){return n.instantiationMode==="EAGER"}var wy=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new GE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var VZ=[],Rt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Rt||{}),BZ={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},UZ=Rt.INFO,jZ={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},zZ=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=jZ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pl=class{constructor(e){this.name=e,this._logLevel=UZ,this._logHandler=zZ,this._userLogHandler=null,VZ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}};var HZ=(n,e)=>e.some(t=>n instanceof t),D3,A3;function $Z(){return D3||(D3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GZ(){return A3||(A3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var R3=new WeakMap,qE=new WeakMap,M3=new WeakMap,WE=new WeakMap,YE=new WeakMap;function WZ(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(no(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&R3.set(t,n)}).catch(()=>{}),YE.set(e,n),e}function qZ(n){if(qE.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});qE.set(n,e)}var KE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return no(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k3(n){KE=n(KE)}function KZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Iy(this),e,...t);return M3.set(i,e.sort?e.sort():[e]),no(i)}:GZ().includes(n)?function(...e){return n.apply(Iy(this),e),no(R3.get(this))}:function(...e){return no(n.apply(Iy(this),e))}}function YZ(n){return typeof n=="function"?KZ(n):(n instanceof IDBTransaction&&qZ(n),HZ(n,$Z())?new Proxy(n,KE):n)}function no(n){if(n instanceof IDBRequest)return WZ(n);if(WE.has(n))return WE.get(n);let e=YZ(n);return e!==n&&(WE.set(n,e),YE.set(e,n)),e}var Iy=n=>YE.get(n);function P3(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=no(o);return i&&o.addEventListener("upgradeneeded",l=>{i(no(o.result),l.oldVersion,l.newVersion,no(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var QZ=["get","getKey","getAll","getAllKeys","count"],ZZ=["put","add","delete","clear"],QE=new Map;function O3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(QE.get(e))return QE.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=ZZ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||QZ.includes(t)))return;let s=function(o,...a){return z(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return QE.set(e,s),s}k3(n=>tt(se({},n),{get:(e,t,i)=>O3(e,t)||n.get(e,t,i),has:(e,t)=>!!O3(e,t)||n.has(e,t)}));var XE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XZ(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function XZ(n){let e=n.getComponent();return e?.type==="VERSION"}var JE="@firebase/app",F3="0.10.8";var Fc=new pl("@firebase/app"),JZ="@firebase/app-compat",eX="@firebase/analytics-compat",tX="@firebase/analytics",nX="@firebase/app-check-compat",iX="@firebase/app-check",rX="@firebase/auth",sX="@firebase/auth-compat",oX="@firebase/database",aX="@firebase/database-compat",lX="@firebase/functions",cX="@firebase/functions-compat",uX="@firebase/installations",dX="@firebase/installations-compat",hX="@firebase/messaging",fX="@firebase/messaging-compat",pX="@firebase/performance",mX="@firebase/performance-compat",gX="@firebase/remote-config",_X="@firebase/remote-config-compat",yX="@firebase/storage",vX="@firebase/storage-compat",wX="@firebase/firestore",IX="@firebase/vertexai-preview",bX="@firebase/firestore-compat",CX="firebase",EX="10.12.5";var eT="[DEFAULT]",TX={[JE]:"fire-core",[JZ]:"fire-core-compat",[tX]:"fire-analytics",[eX]:"fire-analytics-compat",[iX]:"fire-app-check",[nX]:"fire-app-check-compat",[rX]:"fire-auth",[sX]:"fire-auth-compat",[oX]:"fire-rtdb",[aX]:"fire-rtdb-compat",[lX]:"fire-fn",[cX]:"fire-fn-compat",[uX]:"fire-iid",[dX]:"fire-iid-compat",[hX]:"fire-fcm",[fX]:"fire-fcm-compat",[pX]:"fire-perf",[mX]:"fire-perf-compat",[gX]:"fire-rc",[_X]:"fire-rc-compat",[yX]:"fire-gcs",[vX]:"fire-gcs-compat",[wX]:"fire-fst",[bX]:"fire-fst-compat",[IX]:"fire-vertex","fire-js":"fire-js",[CX]:"fire-js-all"};var Rp=new Map,xX=new Map,tT=new Map;function L3(n,e){try{n.container.addComponent(e)}catch(t){Fc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gl(n){let e=n.name;if(tT.has(e))return Fc.debug(`There were multiple attempts to register component ${e}.`),!1;tT.set(e,n);for(let t of Rp.values())L3(t,n);for(let t of xX.values())L3(t,n);return!0}function kp(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function io(n){return n.settings!==void 0}var SX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ml=new na("app","Firebase",SX);var nT=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ml.create("app-deleted",{appName:this._name})}};var _l=EX;function sT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:eT,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ml.create("bad-app-name",{appName:String(r)});if(t||(t=zE()),!t)throw ml.create("no-options");let s=Rp.get(r);if(s){if(Oc(t,s.options)&&Oc(i,s.config))return s;throw ml.create("duplicate-app",{appName:r})}let o=new wy(r);for(let l of tT.values())o.addComponent(l);let a=new nT(t,i,o);return Rp.set(r,a),a}function jd(n=eT){let e=Rp.get(n);if(!e&&n===eT&&zE())return sT();if(!e)throw ml.create("no-app",{appName:n});return e}function by(){return Array.from(Rp.values())}function li(n,e,t){var i;let r=(i=TX[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fc.warn(a.join(" "));return}gl(new ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var DX="firebase-heartbeat-database",AX=1,Mp="firebase-heartbeat-store",ZE=null;function U3(){return ZE||(ZE=P3(DX,AX,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mp)}catch(t){console.warn(t)}}}}).catch(n=>{throw ml.create("idb-open",{originalErrorMessage:n.message})})),ZE}function RX(n){return z(this,null,function*(){try{let t=(yield U3()).transaction(Mp),i=yield t.objectStore(Mp).get(j3(n));return yield t.done,i}catch(e){if(e instanceof Pr)Fc.warn(e.message);else{let t=ml.create("idb-get",{originalErrorMessage:e?.message});Fc.warn(t.message)}}})}function N3(n,e){return z(this,null,function*(){try{let i=(yield U3()).transaction(Mp,"readwrite");yield i.objectStore(Mp).put(e,j3(n)),yield i.done}catch(t){if(t instanceof Pr)Fc.warn(t.message);else{let i=ml.create("idb-set",{originalErrorMessage:t?.message});Fc.warn(i.message)}}})}function j3(n){return`${n.name}!${n.options.appId}`}var MX=1024,kX=30*24*60*60*1e3,iT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new rT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return z(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V3();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=kX}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return z(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=V3(),{heartbeatsToSend:i,unsentEntries:r}=OX(this._heartbeatsCache.heartbeats),s=Dp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function V3(){return new Date().toISOString().substring(0,10)}function OX(n,e=MX){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),B3(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),B3(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var rT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return z(this,null,function*(){return $E()?T3().then(()=>!0).catch(()=>!1):!1})}read(){return z(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield RX(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return z(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return N3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return z(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return N3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function B3(n){return Dp(JSON.stringify({version:2,heartbeats:n})).length}function PX(n){gl(new ts("platform-logger",e=>new XE(e),"PRIVATE")),gl(new ts("heartbeat",e=>new iT(e),"PRIVATE")),li(JE,F3,n),li(JE,F3,"esm2017"),li("fire-js","")}PX("");var FX="firebase",LX="10.12.5";li(FX,LX,"app");var Nc=new zo("ANGULARFIRE2_VERSION");function Ey(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Op=(n,e)=>{let t=e?[e]:by(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Hd=class{constructor(){return Op(NX)}},NX="app-check";function zd(){}var Cy=class{zone;delegate;constructor(e,t=$I){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},oT=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zd,{},zd,zd)),t.pipe(Kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$d=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Cy(Zone.current)),this.insideAngular=t.run(()=>new Cy(Zone.current,Hu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ke(qe))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ty(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function VX(n){return Ty().ngZone.runOutsideAngular(()=>n())}function Lc(n){return Ty().ngZone.run(()=>n())}function BX(n){return UX(Ty())(n)}function UX(n){return function(t){return t=t.lift(new oT(n.ngZone)),t.pipe(Ua(n.outsideAngular),Ba(n.insideAngular))}}var jX=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Lc(()=>n.apply(void 0,i))},Fr=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Lc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zd,{},zd,zd))),i[s]=jX(i[s],t));let r=VX(()=>n.apply(this,i));if(!e)if(r instanceof dt){let s=Ty();return r.pipe(Ua(s.outsideAngular),Ba(s.insideAngular))}else return Lc(()=>r);return r instanceof dt?r.pipe(BX):r instanceof Promise?Lc(()=>new Promise((s,o)=>r.then(a=>Lc(()=>s(a)),a=>Lc(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Lc(()=>r)};var ia=class{constructor(e){return e}},Vc=class{constructor(){return by()}};function zX(n){return n&&n.length===1?n[0]:new ia(jd())}var aT=new Me("angularfire2._apps"),HX={provide:ia,useFactory:zX,deps:[[new Di,aT]]},$X={provide:Vc,deps:[[new Di,aT]]};function GX(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ia(i)}}var WX=(()=>{class n{constructor(t){li("angularfire",Nc.full,"core"),li("angularfire",Nc.full,"app"),li("angular",qF.full,t.toString())}static \u0275fac=function(i){return new(i||n)(ke(jt))};static \u0275mod=Fe({type:n});static \u0275inj=Pe({providers:[HX,$X]})}return n})();function z3(n,...e){return{ngModule:WX,providers:[{provide:aT,useFactory:GX(n),multi:!0,deps:[qe,fi,$d,...e]}]}}var H3=Fr(sT,!0);function aV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lV=aV,cV=new na("auth","Firebase",aV());var My=new pl("@firebase/auth");function qX(n,...e){My.logLevel<=Rt.WARN&&My.warn(`Auth (${_l}): ${n}`,...e)}function Sy(n,...e){My.logLevel<=Rt.ERROR&&My.error(`Auth (${_l}): ${n}`,...e)}function so(n,...e){throw AT(n,...e)}function Bc(n,...e){return AT(n,...e)}function uV(n,e,t){let i=Object.assign(Object.assign({},lV()),{[e]:t});return new na("auth","Firebase",i).create(e,{appName:n.name})}function vl(n){return uV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AT(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cV.create(n,...e)}function Ze(n,e,...t){if(!n)throw AT(e,...t)}function ra(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sy(e),new Error(e)}function wl(n,e){n||ra(e)}function dT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KX(){return $3()==="http:"||$3()==="https:"}function $3(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function YX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KX()||I3()||"connection"in navigator)?navigator.onLine:!0}function QX(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Uc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wl(t>e,"Short delay should be less than long delay!"),this.isMobile=w3()||b3()}get(){return YX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function RT(n,e){wl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ky=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XX=new Uc(3e4,6e4);function zc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Il(s,o,a,l){return z(this,arguments,function*(n,e,t,i,r={}){return dV(n,r,()=>z(this,null,function*(){let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});let h=Ap(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),ky.fetch()(hV(n,n.config.apiHost,t,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function dV(n,e,t){return z(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},ZX),e);try{let r=new hT(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw xy(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uV(n,u,c);so(n,u)}}catch(r){if(r instanceof Pr)throw r;so(n,"network-request-failed",{message:String(r)})}})}function zy(s,o,a,l){return z(this,arguments,function*(n,e,t,i,r={}){let c=yield Il(n,e,t,i,r);return"mfaPendingCredential"in c&&so(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function hV(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?RT(n.config,r):`${n.config.apiScheme}://${r}`}function JX(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hT=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bc(this.auth,"network-request-failed")),XX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xy(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Bc(n,e,i);return r.customData._tokenResponse=t,r}function G3(n){return n!==void 0&&n.enterprise!==void 0}var fT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JX(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function eJ(n,e){return z(this,null,function*(){return Il(n,"GET","/v2/recaptchaConfig",zc(n,e))})}function tJ(n,e){return z(this,null,function*(){return Il(n,"POST","/v1/accounts:delete",e)})}function fV(n,e){return z(this,null,function*(){return Il(n,"POST","/v1/accounts:lookup",e)})}function Pp(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MT(n,e=!1){return z(this,null,function*(){let t=$i(n),i=yield t.getIdToken(e),r=kT(i);Ze(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Pp(lT(r.auth_time)),issuedAtTime:Pp(lT(r.iat)),expirationTime:Pp(lT(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lT(n){return Number(n)*1e3}function kT(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Sy("JWT malformed, contained fewer than 3 sections"),null;try{let r=UE(t);return r?JSON.parse(r):(Sy("Failed to decode base64 JWT payload"),null)}catch(r){return Sy("Caught error parsing JWT payload as JSON",r?.toString()),null}}function W3(n){let e=kT(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lp(n,e,t=!1){return z(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Pr&&nJ(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function nJ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var pT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>z(this,null,function*(){yield this.iteration()}),t)}iteration(){return z(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Np=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pp(this.lastLoginAt),this.creationTime=Pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Oy(n){return z(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Lp(n,fV(t,{idToken:i}));Ze(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pV(s.providerUserInfo):[],a=iJ(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Np(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function OT(n){return z(this,null,function*(){let e=$i(n);yield Oy(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iJ(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function pV(n){return n.map(e=>{var{providerId:t}=e,i=GI(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function rJ(n,e){return z(this,null,function*(){let t=yield dV(n,{},()=>z(this,null,function*(){let i=Ap({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=hV(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ky.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function sJ(n,e){return z(this,null,function*(){return Il(n,"POST","/v2/accounts:revokeToken",zc(n,e))})}var Fp=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");let t=W3(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return z(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return z(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield rJ(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ra("not implemented")}};function yl(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Gd=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=GI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Np(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return z(this,null,function*(){let t=yield Lp(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return MT(this,e)}reload(){return OT(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return z(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Oy(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return z(this,null,function*(){if(io(this.auth.app))return Promise.reject(vl(this.auth));let e=yield this.getIdToken();return yield Lp(this,tJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,I=(a=t.tenantId)!==null&&a!==void 0?a:void 0,b=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=t.createdAt)!==null&&c!==void 0?c:void 0,M=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:O,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:A}=t;Ze(O&&A,e,"internal-error");let C=Fp.fromJSON(this.name,A);Ze(typeof O=="string",e,"internal-error"),yl(h,e.name),yl(f,e.name),Ze(typeof F=="boolean",e,"internal-error"),Ze(typeof $=="boolean",e,"internal-error"),yl(p,e.name),yl(g,e.name),yl(I,e.name),yl(b,e.name),yl(E,e.name),yl(M,e.name);let T=new n({uid:O,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:$,photoURL:g,phoneNumber:p,tenantId:I,stsTokenManager:C,createdAt:E,lastLoginAt:M});return Y&&Array.isArray(Y)&&(T.providerData=Y.map(P=>Object.assign({},P))),b&&(T._redirectEventId=b),T}static _fromIdTokenResponse(e,t,i=!1){return z(this,null,function*(){let r=new Fp;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Oy(s),s})}static _fromGetAccountInfoResponse(e,t,i){return z(this,null,function*(){let r=t.users[0];Ze(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?pV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Fp;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Np(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var q3=new Map;function sa(n){wl(n instanceof Function,"Expected a class definition");let e=q3.get(n);return e?(wl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,q3.set(n,e),e)}var oJ=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return z(this,null,function*(){return!0})}_set(t,i){return z(this,null,function*(){this.storage[t]=i})}_get(t){return z(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return z(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),mT=oJ;function Dy(n,e,t){return`firebase:${n}:${e}:${t}`}var Py=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Dy(this.userKey,r.apiKey,s),this.fullPersistenceKey=Dy("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return z(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return z(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return z(this,null,function*(){if(!t.length)return new n(sa(mT),e,i);let r=(yield Promise.all(t.map(c=>z(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||sa(mT),o=Dy(i,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(o);if(u){let h=Gd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>z(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,i))})}};function K3(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_V(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vV(e))return"Blackberry";if(wV(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||gV(e))&&!e.includes("edge/"))return"Chrome";if(yV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function mV(n=ai()){return/firefox\//i.test(n)}function PT(n=ai()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gV(n=ai()){return/crios\//i.test(n)}function _V(n=ai()){return/iemobile/i.test(n)}function yV(n=ai()){return/android/i.test(n)}function vV(n=ai()){return/blackberry/i.test(n)}function wV(n=ai()){return/webos/i.test(n)}function Hy(n=ai()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aJ(n=ai()){var e;return Hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lJ(){return C3()&&document.documentMode===10}function IV(n=ai()){return Hy(n)||yV(n)||wV(n)||vV(n)||/windows phone/i.test(n)||_V(n)}function cJ(){try{return!!(window&&window!==window.top)}catch{return!1}}function bV(n,e=[]){let t;switch(n){case"Browser":t=K3(ai());break;case"Worker":t=`${K3(ai())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_l}/${i}`}var gT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return z(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function uJ(t){return z(this,arguments,function*(n,e={}){return Il(n,"GET","/v2/passwordPolicy",zc(n,e))})}var dJ=6,_T=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:dJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var yT=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fy(this),this.idTokenSubscription=new Fy(this),this.beforeStateQueue=new gT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sa(t)),this._initializationPromise=this.queue(()=>z(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Py.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return z(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return z(this,null,function*(){try{let t=yield fV(this,{idToken:e}),i=yield Gd._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return z(this,null,function*(){var t;if(io(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return z(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return z(this,null,function*(){try{yield Oy(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=QX()}_delete(){return z(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return z(this,null,function*(){if(io(this.app))return Promise.reject(vl(this));let t=e?$i(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return z(this,null,function*(){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>z(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return z(this,null,function*(){return io(this.app)?Promise.reject(vl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return io(this.app)?Promise.reject(vl(this)):this.queue(()=>z(this,null,function*(){yield this.assertedPersistence.setPersistence(sa(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return z(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return z(this,null,function*(){let e=yield uJ(this),t=new _T(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return z(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield sJ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return z(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return z(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&sa(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=yield Py.create(this,[sa(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return z(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>z(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return z(this,null,function*(){if(e===this.currentUser)return this.queue(()=>z(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return z(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return z(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return z(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qX(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Wd(n){return $i(n)}var Fy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=S3(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $y={loadJS(){return z(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hJ(n){$y=n}function CV(n){return $y.loadJS(n)}function fJ(){return $y.recaptchaEnterpriseScript}function pJ(){return $y.gapiScript}function EV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mJ="recaptcha-enterprise",gJ="NO_RECAPTCHA",vT=class{constructor(e){this.type=mJ,this.auth=Wd(e)}verify(e="verify",t=!1){return z(this,null,function*(){function i(s){return z(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>z(this,null,function*(){eJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new fT(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;G3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(gJ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&G3(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fJ();l.length!==0&&(l+=a),CV(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function Y3(n,e,t,i=!1){return z(this,null,function*(){let r=new vT(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Q3(n,e,t,i){return z(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Y3(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>z(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Y3(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function FT(n,e){let t=kp(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Oc(s,e??{}))return r;so(r,"already-initialized")}return t.initialize({options:e})}function _J(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(sa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function LT(n,e,t){let i=Wd(n);Ze(i._canInitEmulator,i,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=TV(e),{host:o,port:a}=yJ(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||vJ()}function TV(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yJ(n){let e=TV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Z3(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Z3(o)}}}function Z3(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function vJ(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Vp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ra("not implemented")}_getIdTokenResponse(e){return ra("not implemented")}_linkToIdToken(e,t){return ra("not implemented")}_getReauthenticationResolver(e){return ra("not implemented")}};function wJ(n,e){return z(this,null,function*(){return Il(n,"POST","/v1/accounts:signUp",e)})}function IJ(n,e){return z(this,null,function*(){return zy(n,"POST","/v1/accounts:signInWithPassword",zc(n,e))})}function bJ(n,e){return z(this,null,function*(){return zy(n,"POST","/v1/accounts:signInWithEmailLink",zc(n,e))})}function CJ(n,e){return z(this,null,function*(){return zy(n,"POST","/v1/accounts:signInWithEmailLink",zc(n,e))})}var Bp=class n extends Vp{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return z(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q3(e,t,"signInWithPassword",IJ);case"emailLink":return bJ(e,{email:this._email,oobCode:this._password});default:so(e,"internal-error")}})}_linkToIdToken(e,t){return z(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q3(e,i,"signUpPassword",wJ);case"emailLink":return CJ(e,{idToken:t,email:this._email,oobCode:this._password});default:so(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function cT(n,e){return z(this,null,function*(){return zy(n,"POST","/v1/accounts:signInWithIdp",zc(n,e))})}function EJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TJ(n){let e=Bd(Ud(n)).link,t=e?Bd(Ud(e)).deep_link_id:null,i=Bd(Ud(n)).deep_link_id;return(i?Bd(Ud(i)).link:null)||i||t||e||n}var Ly=class n{constructor(e){var t,i,r,s,o,a;let l=Bd(Ud(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=EJ((r=l.mode)!==null&&r!==void 0?r:null);Ze(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=TJ(e);try{return new n(t)}catch{return null}}};var xV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Bp._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Ly.parseLink(i);return Ze(r,"argument-error"),Bp._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ny=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wT=class extends Ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Up=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return z(this,null,function*(){let s=yield Gd._fromIdTokenResponse(e,i,r),o=X3(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return z(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=X3(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function X3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var IT=class n extends Pr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function SV(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?IT._fromErrorAndOperation(n,s,e,i):s})}function xJ(n,e,t=!1){return z(this,null,function*(){let i=yield Lp(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Up._forOperation(n,"link",i)})}function SJ(n,e,t=!1){return z(this,null,function*(){let{auth:i}=n;if(io(i.app))return Promise.reject(vl(i));let r="reauthenticate";try{let s=yield Lp(n,SV(i,r,e,n),t);Ze(s.idToken,i,"internal-error");let o=kT(s.idToken);Ze(o,i,"internal-error");let{sub:a}=o;return Ze(n.uid===a,i,"user-mismatch"),Up._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&so(i,"user-mismatch"),s}})}function DV(n,e,t=!1){return z(this,null,function*(){if(io(n.app))return Promise.reject(vl(n));let i="signIn",r=yield SV(n,i,e),s=yield Up._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function NT(n,e){return z(this,null,function*(){return DV(Wd(n),e)})}function DJ(n){return z(this,null,function*(){let e=Wd(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function VT(n,e,t){return io(n.app)?Promise.reject(vl(n)):NT($i(n),xV.credential(e,t)).catch(i=>z(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&DJ(n),i}))}function zp(n,e,t,i){return $i(n).onIdTokenChanged(e,t,i)}function BT(n,e,t){return $i(n).beforeAuthStateChanged(e,t)}function UT(n){return $i(n).signOut()}var Vy="__sak";var By=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vy,"1"),this.storage.removeItem(Vy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function AJ(){let n=ai();return PT(n)||Hy(n)}var RJ=1e3,MJ=10,kJ=(()=>{class n extends By{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AJ()&&cJ(),this.fallbackToPolling=IV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);lJ()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,MJ):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},RJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return z(this,null,function*(){yield Na(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return z(this,null,function*(){let i=yield Na(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return z(this,null,function*(){yield Na(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),AV=kJ;var OJ=(()=>{class n extends By{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),jT=OJ;function PJ(n){return Promise.all(n.map(e=>z(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var FJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return z(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(u=>z(this,null,function*(){return u(i.origin,o)})),c=yield PJ(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function RV(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var bT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return z(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=RV("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ro(){return window}function LJ(n){ro().location.href=n}function MV(){return typeof ro().WorkerGlobalScope<"u"&&typeof ro().importScripts=="function"}function NJ(){return z(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function VJ(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BJ(){return MV()?self:null}var kV="firebaseLocalStorageDb",UJ=1,Uy="firebaseLocalStorage",OV="fbase_key",jc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Gy(n,e){return n.transaction([Uy],e?"readwrite":"readonly").objectStore(Uy)}function jJ(){let n=indexedDB.deleteDatabase(kV);return new jc(n).toPromise()}function CT(){let n=indexedDB.open(kV,UJ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Uy,{keyPath:OV})}catch(r){t(r)}}),n.addEventListener("success",()=>z(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Uy)?e(i):(i.close(),yield jJ(),e(yield CT()))}))})}function J3(n,e,t){return z(this,null,function*(){let i=Gy(n,!0).put({[OV]:e,value:t});return new jc(i).toPromise()})}function zJ(n,e){return z(this,null,function*(){let t=Gy(n,!1).get(e),i=yield new jc(t).toPromise();return i===void 0?null:i.value})}function eV(n,e){let t=Gy(n,!0).delete(e);return new jc(t).toPromise()}var HJ=800,$J=3,GJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return z(this,null,function*(){return this.db?this.db:(this.db=yield CT(),this.db)})}_withRetries(t){return z(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>$J)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return z(this,null,function*(){return MV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return z(this,null,function*(){this.receiver=FJ._getInstance(BJ()),this.receiver._subscribe("keyChanged",(t,i)=>z(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>z(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return z(this,null,function*(){var t,i;if(this.activeServiceWorker=yield NJ(),!this.activeServiceWorker)return;this.sender=new bT(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return z(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||VJ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return z(this,null,function*(){try{if(!indexedDB)return!1;let t=yield CT();return yield J3(t,Vy,"1"),yield eV(t,Vy),!0}catch{}return!1})}_withPendingWrite(t){return z(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return z(this,null,function*(){return this._withPendingWrite(()=>z(this,null,function*(){return yield this._withRetries(r=>J3(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return z(this,null,function*(){let i=yield this._withRetries(r=>zJ(r,t));return this.localCache[t]=i,i})}_remove(t){return z(this,null,function*(){return this._withPendingWrite(()=>z(this,null,function*(){return yield this._withRetries(i=>eV(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return z(this,null,function*(){let t=yield this._withRetries(s=>{let o=Gy(s,!1).getAll();return new jc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>z(this,null,function*(){return this._poll()}),HJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),PV=GJ;var fxe=EV("rcb"),pxe=new Uc(3e4,6e4);function WJ(n,e){return e?sa(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var jp=class extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qJ(n){return DV(n.auth,new jp(n),n.bypassAuthState)}function KJ(n){let{auth:e,user:t}=n;return Ze(t,e,"internal-error"),SJ(t,new jp(n),n.bypassAuthState)}function YJ(n){return z(this,null,function*(){let{auth:e,user:t}=n;return Ze(t,e,"internal-error"),xJ(t,new jp(n),n.bypassAuthState)})}var ET=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>z(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return z(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qJ;case"linkViaPopup":case"linkViaRedirect":return YJ;case"reauthViaPopup":case"reauthViaRedirect":return KJ;default:so(this.auth,"internal-error")}}resolve(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mxe=new Uc(2e3,1e4);var QJ="pendingRedirect",Ay=new Map,TT=class n extends ET{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return z(this,null,function*(){let e=Ay.get(this.auth._key());if(!e){try{let i=(yield ZJ(this.resolver,this.auth))?yield Na(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ay.set(this.auth._key(),e)}return this.bypassAuthState||Ay.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return z(this,null,function*(){if(e.type==="signInViaRedirect")return Na(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Na(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return z(this,null,function*(){})}cleanUp(){}};function ZJ(n,e){return z(this,null,function*(){let t=eee(e),i=JJ(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function XJ(n,e){Ay.set(n._key(),e)}function JJ(n){return sa(n._redirectPersistence)}function eee(n){return Dy(QJ,n.config.apiKey,n.name)}function tee(n,e,t=!1){return z(this,null,function*(){if(io(n.app))return Promise.reject(vl(n));let i=Wd(n),r=WJ(i,e),o=yield new TT(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var nee=10*60*1e3,xT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iee(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!FV(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nee&&this.cachedEventUids.clear(),this.cachedEventUids.has(tV(e))}saveEventToCache(e){this.cachedEventUids.add(tV(e)),this.lastProcessedEventTime=Date.now()}};function tV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FV({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function iee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FV(n);default:return!1}}function ree(t){return z(this,arguments,function*(n,e={}){return Il(n,"GET","/v1/projects",e)})}var see=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oee=/^https?/;function aee(n){return z(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield ree(n);for(let t of e)try{if(lee(t))return}catch{}so(n,"unauthorized-domain")})}function lee(n){let e=dT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!oee.test(t))return!1;if(see.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var cee=new Uc(3e4,6e4);function nV(){let n=ro().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uee(n){return new Promise((e,t)=>{var i,r,s;function o(){nV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nV(),t(Bc(n,"network-request-failed"))},timeout:cee.get()})}if(!((r=(i=ro().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ro().gapi)===null||s===void 0)&&s.load)o();else{let a=EV("iframefcb");return ro()[a]=()=>{gapi.load?o():t(Bc(n,"network-request-failed"))},CV(`${pJ()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ry=null,e})}var Ry=null;function dee(n){return Ry=Ry||uee(n),Ry}var hee=new Uc(5e3,15e3),fee="__/auth/iframe",pee="emulator/auth/iframe",mee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ee(n){let e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?RT(e,pee):`https://${n.config.authDomain}/${fee}`,i={apiKey:e.apiKey,appName:n.name,v:_l},r=gee.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ap(i).slice(1)}`}function yee(n){return z(this,null,function*(){let e=yield dee(n),t=ro().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:_ee(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mee,dontclear:!0},i=>new Promise((r,s)=>z(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Bc(n,"network-request-failed"),a=ro().setTimeout(()=>{s(o)},hee.get());function l(){ro().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var vee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wee=500,Iee=600,bee="_blank",Cee="http://localhost",jy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Eee(n,e,t,i=wee,r=Iee){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},vee),{width:i.toString(),height:r.toString(),top:s,left:o}),c=ai().toLowerCase();t&&(a=gV(c)?bee:t),mV(c)&&(e=e||Cee,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(aJ(c)&&a!=="_self")return Tee(e||"",a),new jy(null);let h=window.open(e||"",a,u);Ze(h,n,"popup-blocked");try{h.focus()}catch{}return new jy(h)}function Tee(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var xee="__/auth/handler",See="emulator/auth/handler",Dee=encodeURIComponent("fac");function iV(n,e,t,i,r,s){return z(this,null,function*(){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_l,eventId:r};if(e instanceof Ny){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",x3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof wT){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${Dee}=${encodeURIComponent(l)}`:"";return`${Aee(n)}?${Ap(a).slice(1)}${c}`})}function Aee({config:n}){return n.emulator?RT(n,See):`https://${n.authDomain}/${xee}`}var uT="webStorageSupport",ST=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=tee,this._overrideRedirectResult=XJ}_openPopup(e,t,i,r){return z(this,null,function*(){var s;wl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield iV(e,t,i,dT(),r);return Eee(e,o,RV())})}_openRedirect(e,t,i,r){return z(this,null,function*(){yield this._originValidation(e);let s=yield iV(e,t,i,dT(),r);return LJ(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(wl(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return z(this,null,function*(){let t=yield yee(e),i=new xT(e);return t.register("authEvent",r=>(Ze(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uT,{type:uT},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[uT];o!==void 0&&t(!!o),so(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aee(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IV()||PT()||Hy()}},LV=ST;var rV="@firebase/auth",sV="1.7.6";var DT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return z(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Ree(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mee(n){gl(new ts("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bV(n)},c=new yT(i,r,s,l);return _J(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),gl(new ts("auth-internal",e=>{let t=Wd(e.getProvider("auth").getImmediate());return(i=>new DT(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(rV,sV,Ree(n)),li(rV,sV,"esm2017")}var kee=5*60,Oee=HE("authIdTokenMaxAge")||kee,oV=null,Pee=n=>e=>z(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Oee)return;let r=t?.token;oV!==r&&(oV=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function zT(n=jd()){let e=kp(n,"auth");if(e.isInitialized())return e.getImmediate();let t=FT(n,{popupRedirectResolver:LV,persistence:[PV,AV,jT]}),i=HE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=Pee(s.toString());BT(t,o,()=>o(t.currentUser)),zp(t,a=>o(a))}}let r=jE("auth");return r&&LT(t,`http://${r}`),t}function Fee(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hJ({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Bc("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Fee().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mee("Browser");function BV(n){return new dt(function(e){var t=zp(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var UV="auth",Hc=class{constructor(e){return e}},Hp=class{constructor(){return Op(UV)}};var HT=new Me("angularfire2.auth-instances");function Ete(n,e){let t=Ey(UV,n,e);return t&&new Hc(t)}function Tte(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Hc(i)}}var xte={provide:Hp,deps:[[new Di,HT]]},Ste={provide:Hc,useFactory:Ete,deps:[[new Di,HT],ia]},Dte=(()=>{class n{constructor(){li("angularfire",Nc.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({providers:[Ste,xte]})}return n})();function jV(n,...e){return{ngModule:Dte,providers:[{provide:HT,useFactory:Tte(n),multi:!0,deps:[qe,fi,$d,Vc,[new Di,Hd],...e]}]}}var zV=Fr(BV,!0);var HV=Fr(zT,!0);var $V=Fr(VT,!0);var GV=Fr(UT,!0);var bl=(()=>{let e=class e{constructor(i){this.firebaseAuth=i,this.user$=zV(this.firebaseAuth),this.currentUser=Dn(void 0)}login(i,r){let s=$V(this.firebaseAuth,i,r).then(()=>{});return Bt(s)}logout(){let i=GV(this.firebaseAuth);return Bt(i)}isLogged(){return this.currentUser()!==null&&this.currentUser()!==void 0}};e.\u0275fac=function(r){return new(r||e)(ke(Hc))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var WV=(()=>{let e=class e{constructor(i,r,s,o){this.fb=i,this.http=r,this.router=s,this.authService=o,this.form=this.fb.nonNullable.group({email:["",[Fd.required,Fd.email]],password:["",Fd.required]})}onSubmit(){let i=this.form.getRawValue();this.authService.login(i.email,i.password).subscribe({next:()=>{console.log("Login successful"),this.router.navigate(["/home"])},error:r=>{console.error(r)}})}};e.\u0275fac=function(r){return new(r||e)(G(a3),G(SC),G(mi),G(bl))},e.\u0275cmp=ne({type:e,selectors:[["app-login"]],standalone:!0,features:[ye],decls:21,vars:2,consts:[[1,"section"],[3,"ngSubmit","formGroup"],["pInputText","","id","email","formControlName","email"],["for","email"],["formControlName","password","id","password",3,"feedback"],["for","password"],["type","submit","label","Accedi"]],template:function(r,s){r&1&&(S(0,"div",0)(1,"h1"),pe(2,"Login"),R(),W(3,"br"),S(4,"form",1),J("ngSubmit",function(){return s.onSubmit()}),S(5,"div")(6,"p-floatLabel"),W(7,"input",2),S(8,"label",3),pe(9,"Email"),R()()(),W(10,"br")(11,"br"),S(12,"div")(13,"p-floatLabel"),W(14,"p-password",4),S(15,"label",5),pe(16,"Password"),R()()(),W(17,"br")(18,"br"),S(19,"div"),W(20,"p-button",6),R()()()),r&2&&(v(4),_("formGroup",s.form),v(10),_("feedback",!1))},dependencies:[l3,r3,cy,Nd,ZN,RE,ME,es,ul,u3,c3,f3,LE,Es,Sp],styles:[".section[_ngcontent-%COMP%]{width:fit-content;margin:2em auto;display:flex;flex-flow:column nowrap;border:1px black solid;border-radius:10px;padding:32px;text-align:center}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}"]});let n=e;return n})();var Rte=["overlay"],Mte=["content"],kte=["*"],Ote=(n,e,t,i,r,s,o,a,l,c,u,h,f,p)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":h,"p-overlay-right-start":f,"p-overlay-right-end":p}),Pte=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),Fte=n=>({value:"visible",params:n}),Lte=n=>({mode:n}),Nte=n=>({$implicit:n});function Vte(n,e){n&1&&_e(0)}function Bte(n,e){if(n&1){let t=fe();S(0,"div",3,1),J("click",function(r){B(t);let s=y(2);return U(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){B(t);let s=y(2);return U(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){B(t);let s=y(2);return U(s.onOverlayContentAnimationDone(r))}),pi(2),D(3,Vte,1,0,"ng-container",4),R()}if(n&2){let t=y(2);oe(t.contentStyleClass),_("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Re(11,Fte,si(7,Pte,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),v(3),_("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Re(15,Nte,Re(13,Lte,t.overlayMode)))}}function Ute(n,e){if(n&1){let t=fe();S(0,"div",3,0),J("click",function(){B(t);let r=y();return U(r.onOverlayClick())}),D(2,Bte,4,17,"div",2),R()}if(n&2){let t=y();oe(t.styleClass),_("ngStyle",t.style)("ngClass",lC(5,Ote,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),v(2),_("ngIf",t.visible)}}var jte={provide:oi,useExisting:In(()=>GT),multi:!0},zte=kE([zi({transform:"{{transform}}",opacity:0}),bs("{{showTransitionParams}}")]),Hte=kE([bs("{{hideTransitionParams}}",zi({transform:"{{transform}}",opacity:0}))]),GT=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return te.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return te.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return te.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return te.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new X;onBeforeShow=new X;onShow=new X;onBeforeHide=new X;onHide=new X;onAnimationStart=new X;onAnimationDone=new X;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(nn(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return se(se({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return se(se({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,c){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&L.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Un.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Un.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Is(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Un.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(rt),G(Xt),G(fn),G(al),G(Ct),G(qe))};static \u0275cmp=ne({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(Rte,5),Ge(Mte,5)),i&2){let s;Te(s=xe())&&(r.overlayViewChild=s.first),Te(s=xe())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[_n([jte])],ngContentSelectors:kte,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(Ai(),D(0,Ute,3,20,"div",2)),i&2&&_("ngIf",r.modalVisible)},dependencies:[zt,Pt,Kt,Ht],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Vd("overlayContentAnimation",[Cs(":enter",[OE(zte)]),Cs(":leave",[OE(Hte)])])]},changeDetection:0})}return n})(),WT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ft,ft]})}return n})();var Gte=["element"],Wte=["content"],qte=["*"],Kte=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),qT=(n,e)=>({$implicit:n,options:e}),Yte=n=>({"p-scroller-loading":n}),Qte=n=>({"p-component-overlay":n}),Zte=n=>({numCols:n}),qV=n=>({options:n}),Xte=()=>({styleClass:"p-scroller-loading-icon"}),Jte=(n,e)=>({rows:n,columns:e});function ene(n,e){n&1&&_e(0)}function tne(n,e){if(n&1&&(ce(0),D(1,ene,1,0,"ng-container",10),ue()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tn(2,qT,t.loadedItems,t.getContentOptions()))}}function nne(n,e){n&1&&_e(0)}function ine(n,e){if(n&1&&(ce(0),D(1,nne,1,0,"ng-container",10),ue()),n&2){let t=e.$implicit,i=e.index,r=y(3);v(),_("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tn(2,qT,t,r.getOptions(i)))}}function rne(n,e){if(n&1&&(S(0,"div",11,3),D(2,ine,2,5,"ng-container",12),R()),n&2){let t=y(2);_("ngClass",Re(5,Yte,t.d_loading))("ngStyle",t.contentStyle),H("data-pc-section","content"),v(2),_("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function sne(n,e){if(n&1&&W(0,"div",13),n&2){let t=y(2);_("ngStyle",t.spacerStyle),H("data-pc-section","spacer")}}function one(n,e){n&1&&_e(0)}function ane(n,e){if(n&1&&(ce(0),D(1,one,1,0,"ng-container",10),ue()),n&2){let t=e.index,i=y(4);v(),_("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Re(4,qV,i.getLoaderOptions(t,i.both&&Re(2,Zte,i._numItemsInViewport.cols))))}}function lne(n,e){if(n&1&&(ce(0),D(1,ane,2,6,"ng-container",15),ue()),n&2){let t=y(3);v(),_("ngForOf",t.loaderArr)}}function cne(n,e){n&1&&_e(0)}function une(n,e){if(n&1&&(ce(0),D(1,cne,1,0,"ng-container",10),ue()),n&2){let t=y(4);v(),_("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",Re(3,qV,ri(2,Xte)))}}function dne(n,e){n&1&&W(0,"SpinnerIcon",16),n&2&&(_("styleClass","p-scroller-loading-icon pi-spin"),H("data-pc-section","loadingIcon"))}function hne(n,e){if(n&1&&D(0,une,2,5,"ng-container",6)(1,dne,1,2,"ng-template",null,5,dn),n&2){let t=Ft(2),i=y(3);_("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function fne(n,e){if(n&1&&(S(0,"div",14),D(1,lne,2,1,"ng-container",6)(2,hne,3,2,"ng-template",null,4,dn),R()),n&2){let t=Ft(3),i=y(2);_("ngClass",Re(4,Qte,!i.loaderTemplate)),H("data-pc-section","loader"),v(),_("ngIf",i.loaderTemplate)("ngIfElse",t)}}function pne(n,e){if(n&1){let t=fe();ce(0),S(1,"div",7,1),J("scroll",function(r){B(t);let s=y();return U(s.onContainerScroll(r))}),D(3,tne,2,5,"ng-container",6)(4,rne,3,7,"ng-template",null,2,dn)(6,sne,1,2,"div",8)(7,fne,4,6,"div",9),R(),ue()}if(n&2){let t=Ft(5),i=y();v(),oe(i._styleClass),_("ngStyle",i._style)("ngClass",si(12,Kte,i.inline,i.both,i.horizontal)),H("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),v(2),_("ngIf",i.contentTemplate)("ngIfElse",t),v(3),_("ngIf",i._showSpacer),v(),_("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function mne(n,e){n&1&&_e(0)}function gne(n,e){if(n&1&&(ce(0),D(1,mne,1,0,"ng-container",10),ue()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tn(5,qT,t.items,tn(2,Jte,t._items,t.loadedColumns)))}}function _ne(n,e){if(n&1&&(pi(0),D(1,gne,2,8,"ng-container",17)),n&2){let t=y();v(),_("ngIf",t.contentTemplate)}}var Wy=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new X;onScroll=new X;onScrollIndexChange=new X;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){nn(this.platformId)&&!this.initialized&&L.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=L.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=L.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||L.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,h=(E=0,M)=>E<=M?0:E,f=(E,M,O)=>E*M+O,p=(E=0,M=0)=>this.scrollTo({left:E,top:M,behavior:i}),g=this.both?{rows:0,cols:0}:0,I=!1,b=!1;this.both?(g={rows:h(t[0],l[0]),cols:h(t[1],l[1])},p(f(g.cols,u[1],c.left),f(g.rows,u[0],c.top)),b=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,I=g.rows!==s.rows||g.cols!==s.cols):(g=h(t,l),this.horizontal?p(f(g,u,c.left),o):p(a,f(g,u,c.top)),b=this.lastScrollPos!==(this.horizontal?a:o),I=g!==s),this.isRangeChanged=I,b&&(this.first=g)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,h=0)=>this.scrollTo({left:u,top:h,behavior:r}),l=i==="to-start",c=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(c,u)=>u||c?Math.ceil(c/(u||c)):0,o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[L.getWidth(this.contentEl),L.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[L.getWidth(this.elementViewChild.nativeElement),L.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=tt(se({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=tt(se({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(b,E)=>b?b>E?b-E:b:0,o=(b,E)=>E||b?Math.floor(b/(E||b)):0,a=(b,E,M,O,F,$)=>b<=F?F:$?M-O-F:E+F-1,l=(b,E,M,O,F,$,Y)=>b<=$?0:Math.max(0,Y?b<E?M:b-$:b>E?M:b-2*$),c=(b,E,M,O,F,$=!1)=>{let Y=E+O+2*F;return b>=F&&(Y+=F+1),this.getLast(Y,$)},u=s(i.scrollTop,r.top),h=s(i.scrollLeft,r.left),f=this.both?{rows:0,cols:0}:0,p=this.last,g=!1,I=this.lastScrollPos;if(this.both){let b=this.lastScrollPos.top<=u,E=this.lastScrollPos.left<=h;if(!this._appendOnly||this._appendOnly&&(b||E)){let M={rows:o(u,this._itemSize[0]),cols:o(h,this._itemSize[1])},O={rows:a(M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:a(M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)};f={rows:l(M.rows,O.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:l(M.cols,O.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)},p={rows:c(M.rows,f.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(M.cols,f.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=f.rows!==this.first.rows||p.rows!==this.last.rows||f.cols!==this.first.cols||p.cols!==this.last.cols||this.isRangeChanged,I={top:u,left:h}}}else{let b=this.horizontal?h:u,E=this.lastScrollPos<=b;if(!this._appendOnly||this._appendOnly&&E){let M=o(b,this._itemSize),O=a(M,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E);f=l(M,O,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E),p=c(M,f,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=f!==this.first||p!==this.last||this.isRangeChanged,I=b}}return{first:f,last:p,isRangeChanged:g,scrollPos:I}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){nn(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=L.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[L.getWidth(this.elementViewChild?.nativeElement),L.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return se({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(Xt),G(Ct),G(qe))};static \u0275cmp=ne({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(Gte,5),Ge(Wte,5)),i&2){let s;Te(s=xe())&&(r.elementViewChild=s.first),Te(s=xe())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[un],ngContentSelectors:qte,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(Ai(),D(0,pne,8,16,"ng-container",6)(1,_ne,2,1,"ng-template",null,0,dn)),i&2){let s=Ft(2);_("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[zt,Bi,Pt,Kt,Ht,hl],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),qd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ft,hl,ft]})}return n})();var Cl=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var KT=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"rect",1),R())},encapsulation:2})}return n})();var Kd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var YT=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var $p=n=>({height:n}),yne=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),QT=n=>({$implicit:n});function vne(n,e){n&1&&W(0,"CheckIcon",4),n&2&&_("styleClass","p-dropdown-check-icon")}function wne(n,e){n&1&&W(0,"BlankIcon",4),n&2&&_("styleClass","p-dropdown-blank-icon")}function Ine(n,e){if(n&1&&(ce(0),D(1,vne,1,1,"CheckIcon",3)(2,wne,1,1,"BlankIcon",3),ue()),n&2){let t=y();v(),_("ngIf",t.selected),v(),_("ngIf",!t.selected)}}function bne(n,e){if(n&1&&(S(0,"span"),pe(1),R()),n&2){let t,i=y();v(),Ke((t=i.label)!==null&&t!==void 0?t:"empty")}}function Cne(n,e){n&1&&_e(0)}var Ene=["container"],Tne=["filter"],xne=["focusInput"],Sne=["editableInput"],Dne=["items"],Ane=["scroller"],Rne=["overlay"],Mne=["firstHiddenFocusableEl"],kne=["lastHiddenFocusableEl"],One=n=>({"max-height":n}),YV=n=>({options:n}),Pne=n=>({"p-variant-filled":n}),QV=(n,e)=>({$implicit:n,options:e}),Fne=()=>({});function Lne(n,e){if(n&1&&(ce(0),pe(1),ue()),n&2){let t=y(2);v(),Ke(t.label()==="p-emptylabel"?"\xA0":t.label())}}function Nne(n,e){if(n&1&&_e(0,25),n&2){let t=y(2);_("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Re(2,QT,t.selectedOption))}}function Vne(n,e){if(n&1&&(S(0,"span"),pe(1),R()),n&2){let t=y(3);v(),Ke(t.label()==="p-emptylabel"?"\xA0":t.label())}}function Bne(n,e){if(n&1&&D(0,Vne,2,1,"span",18),n&2){let t=y(2);_("ngIf",t.isSelectedOptionEmpty())}}function Une(n,e){if(n&1){let t=fe();S(0,"span",23,3),J("focus",function(r){B(t);let s=y();return U(s.onInputFocus(r))})("blur",function(r){B(t);let s=y();return U(s.onInputBlur(r))})("keydown",function(r){B(t);let s=y();return U(s.onKeyDown(r))}),D(2,Lne,2,1,"ng-container",20)(3,Nne,1,4,"ng-container",24)(4,Bne,1,1,"ng-template",null,4,dn),R()}if(n&2){let t,i=Ft(5),r=y();_("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),H("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),v(2),_("ngIf",!r.selectedItemTemplate)("ngIfElse",i),v(),_("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function jne(n,e){if(n&1){let t=fe();S(0,"input",26,5),J("input",function(r){B(t);let s=y();return U(s.onEditableInput(r))})("keydown",function(r){B(t);let s=y();return U(s.onKeyDown(r))})("focus",function(r){B(t);let s=y();return U(s.onInputFocus(r))})("blur",function(r){B(t);let s=y();return U(s.onInputBlur(r))}),R()}if(n&2){let t=y();_("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),H("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function zne(n,e){if(n&1){let t=fe();S(0,"TimesIcon",29),J("click",function(r){B(t);let s=y(2);return U(s.clear(r))}),R()}n&2&&(_("styleClass","p-dropdown-clear-icon"),H("data-pc-section","clearicon"))}function Hne(n,e){}function $ne(n,e){n&1&&D(0,Hne,0,0,"ng-template")}function Gne(n,e){if(n&1){let t=fe();S(0,"span",30),J("click",function(r){B(t);let s=y(2);return U(s.clear(r))}),D(1,$ne,1,0,null,31),R()}if(n&2){let t=y(2);H("data-pc-section","clearicon"),v(),_("ngTemplateOutlet",t.clearIconTemplate)}}function Wne(n,e){if(n&1&&(ce(0),D(1,zne,1,2,"TimesIcon",27)(2,Gne,2,2,"span",28),ue()),n&2){let t=y();v(),_("ngIf",!t.clearIconTemplate),v(),_("ngIf",t.clearIconTemplate)}}function qne(n,e){n&1&&_e(0)}function Kne(n,e){if(n&1&&(ce(0),D(1,qne,1,0,"ng-container",31),ue()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.loadingIconTemplate)}}function Yne(n,e){if(n&1&&W(0,"span",34),n&2){let t=y(3);_("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function Qne(n,e){n&1&&W(0,"span",35),n&2&&oe("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function Zne(n,e){if(n&1&&(ce(0),D(1,Yne,1,1,"span",32)(2,Qne,1,2,"span",33),ue()),n&2){let t=y(2);v(),_("ngIf",t.loadingIcon),v(),_("ngIf",!t.loadingIcon)}}function Xne(n,e){if(n&1&&(ce(0),D(1,Kne,2,1,"ng-container",18)(2,Zne,3,2,"ng-container",18),ue()),n&2){let t=y();v(),_("ngIf",t.loadingIconTemplate),v(),_("ngIf",!t.loadingIconTemplate)}}function Jne(n,e){if(n&1&&W(0,"span",39),n&2){let t=y(3);_("ngClass",t.dropdownIcon)}}function eie(n,e){n&1&&W(0,"ChevronDownIcon",40),n&2&&_("styleClass","p-dropdown-trigger-icon")}function tie(n,e){if(n&1&&(ce(0),D(1,Jne,1,1,"span",37)(2,eie,1,1,"ChevronDownIcon",38),ue()),n&2){let t=y(2);v(),_("ngIf",t.dropdownIcon),v(),_("ngIf",!t.dropdownIcon)}}function nie(n,e){}function iie(n,e){n&1&&D(0,nie,0,0,"ng-template")}function rie(n,e){if(n&1&&(S(0,"span",41),D(1,iie,1,0,null,31),R()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.dropdownIconTemplate)}}function sie(n,e){if(n&1&&D(0,tie,3,2,"ng-container",18)(1,rie,2,1,"span",36),n&2){let t=y();_("ngIf",!t.dropdownIconTemplate),v(),_("ngIf",t.dropdownIconTemplate)}}function oie(n,e){n&1&&_e(0)}function aie(n,e){n&1&&_e(0)}function lie(n,e){if(n&1&&(ce(0),D(1,aie,1,0,"ng-container",48),ue()),n&2){let t=y(3);v(),_("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Re(2,YV,t.filterOptions))}}function cie(n,e){n&1&&W(0,"SearchIcon",40),n&2&&_("styleClass","p-dropdown-filter-icon")}function uie(n,e){}function die(n,e){n&1&&D(0,uie,0,0,"ng-template")}function hie(n,e){if(n&1&&(S(0,"span",52),D(1,die,1,0,null,31),R()),n&2){let t=y(4);v(),_("ngTemplateOutlet",t.filterIconTemplate)}}function fie(n,e){if(n&1){let t=fe();S(0,"div",49)(1,"input",50,10),J("input",function(r){B(t);let s=y(3);return U(s.onFilterInputChange(r))})("keydown",function(r){B(t);let s=y(3);return U(s.onFilterKeyDown(r))})("blur",function(r){B(t);let s=y(3);return U(s.onFilterBlur(r))}),R(),D(3,cie,1,1,"SearchIcon",38)(4,hie,2,1,"span",51),R()}if(n&2){let t=y(3);v(),_("value",t._filterValue()||"")("ngClass",Re(8,Pne,t.variant==="filled"||t.config.inputStyle()==="filled")),H("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),v(2),_("ngIf",!t.filterIconTemplate),v(),_("ngIf",t.filterIconTemplate)}}function pie(n,e){if(n&1){let t=fe();S(0,"div",47),J("click",function(r){return B(t),U(r.stopPropagation())}),D(1,lie,2,4,"ng-container",20)(2,fie,5,10,"ng-template",null,9,dn),R()}if(n&2){let t=Ft(3),i=y(2);v(),_("ngIf",i.filterTemplate)("ngIfElse",t)}}function mie(n,e){n&1&&_e(0)}function gie(n,e){if(n&1&&D(0,mie,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;y(2);let r=Ft(9);_("ngTemplateOutlet",r)("ngTemplateOutletContext",tn(2,QV,t,i))}}function _ie(n,e){n&1&&_e(0)}function yie(n,e){if(n&1&&D(0,_ie,1,0,"ng-container",48),n&2){let t=e.options,i=y(4);_("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Re(2,YV,t))}}function vie(n,e){n&1&&(ce(0),D(1,yie,1,4,"ng-template",54),ue())}function wie(n,e){if(n&1){let t=fe();S(0,"p-scroller",53,11),J("onLazyLoad",function(r){B(t);let s=y(2);return U(s.onLazyLoad.emit(r))}),D(2,gie,1,5,"ng-template",22)(3,vie,2,0,"ng-container",18),R()}if(n&2){let t=y(2);l0(Re(8,$p,t.scrollHeight)),_("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),v(3),_("ngIf",t.loaderTemplate)}}function Iie(n,e){n&1&&_e(0)}function bie(n,e){if(n&1&&(ce(0),D(1,Iie,1,0,"ng-container",48),ue()),n&2){y();let t=Ft(9),i=y();v(),_("ngTemplateOutlet",t)("ngTemplateOutletContext",tn(3,QV,i.visibleOptions(),ri(2,Fne)))}}function Cie(n,e){if(n&1&&(S(0,"span"),pe(1),R()),n&2){let t=y(2).$implicit,i=y(3);v(),Ke(i.getOptionGroupLabel(t.optionGroup))}}function Eie(n,e){n&1&&_e(0)}function Tie(n,e){if(n&1&&(ce(0),S(1,"li",58),D(2,Cie,2,1,"span",18)(3,Eie,1,0,"ng-container",48),R(),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y().options,o=y(2);v(),_("ngStyle",Re(5,$p,s.itemSize+"px")),H("id",o.id+"_"+o.getOptionIndex(r,s)),v(),_("ngIf",!o.groupTemplate),v(),_("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Re(7,QT,i.optionGroup))}}function xie(n,e){if(n&1){let t=fe();ce(0),S(1,"p-dropdownItem",59),J("onClick",function(r){B(t);let s=y().$implicit,o=y(3);return U(o.onOptionSelect(r,s))})("onMouseEnter",function(r){B(t);let s=y().index,o=y().options,a=y(2);return U(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),R(),ue()}if(n&2){let t=y(),i=t.$implicit,r=t.index,s=y().options,o=y(2);v(),_("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function Sie(n,e){if(n&1&&D(0,Tie,4,9,"ng-container",18)(1,xie,2,10,"ng-container",18),n&2){let t=e.$implicit,i=y(3);_("ngIf",i.isOptionGroup(t)),v(),_("ngIf",!i.isOptionGroup(t))}}function Die(n,e){if(n&1&&(ce(0),pe(1),ue()),n&2){let t=y(4);v(),Bn(" ",t.emptyFilterMessageLabel," ")}}function Aie(n,e){n&1&&_e(0,null,13)}function Rie(n,e){if(n&1&&(S(0,"li",60),D(1,Die,2,1,"ng-container",20)(2,Aie,2,0,"ng-container",31),R()),n&2){let t=y().options,i=y(2);_("ngStyle",Re(4,$p,t.itemSize+"px")),v(),_("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),v(),_("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Mie(n,e){if(n&1&&(ce(0),pe(1),ue()),n&2){let t=y(4);v(),Bn(" ",t.emptyMessageLabel," ")}}function kie(n,e){n&1&&_e(0,null,14)}function Oie(n,e){if(n&1&&(S(0,"li",60),D(1,Mie,2,1,"ng-container",20)(2,kie,2,0,"ng-container",31),R()),n&2){let t=y().options,i=y(2);_("ngStyle",Re(4,$p,t.itemSize+"px")),v(),_("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),v(),_("ngTemplateOutlet",i.emptyTemplate)}}function Pie(n,e){if(n&1&&(S(0,"ul",55,12),D(2,Sie,2,2,"ng-template",56)(3,Rie,3,6,"li",57)(4,Oie,3,6,"li",57),R()),n&2){let t=e.$implicit,i=e.options,r=y(2);_("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),H("id",r.id+"_list")("aria-label",r.listLabel),v(2),_("ngForOf",t),v(),_("ngIf",r.filterValue&&r.isEmpty()),v(),_("ngIf",!r.filterValue&&r.isEmpty())}}function Fie(n,e){n&1&&_e(0)}function Lie(n,e){if(n&1){let t=fe();S(0,"div",42)(1,"span",43,6),J("focus",function(r){B(t);let s=y();return U(s.onFirstHiddenFocus(r))}),R(),D(3,oie,1,0,"ng-container",31)(4,pie,4,2,"div",44),S(5,"div",45),D(6,wie,4,10,"p-scroller",46)(7,bie,2,6,"ng-container",18)(8,Pie,5,7,"ng-template",null,7,dn),R(),D(10,Fie,1,0,"ng-container",31),S(11,"span",43,8),J("focus",function(r){B(t);let s=y();return U(s.onLastHiddenFocus(r))}),R()()}if(n&2){let t=y();oe(t.panelStyleClass),_("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),v(),H("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),v(2),_("ngTemplateOutlet",t.headerTemplate),v(),_("ngIf",t.filter),v(),_("ngStyle",Re(16,One,t.virtualScroll?"auto":t.scrollHeight||"auto")),v(),_("ngIf",t.virtualScroll),v(),_("ngIf",!t.virtualScroll),v(3),_("ngTemplateOutlet",t.footerTemplate),v(),H("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Nie={provide:oi,useExisting:In(()=>Gp),multi:!0},Vie=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new X;onMouseEnter=new X;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ne({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[j.HasDecoratorInputTransform,"selected","selected",K],focused:[j.HasDecoratorInputTransform,"focused","focused",K],label:"label",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],visible:[j.HasDecoratorInputTransform,"visible","visible",K],itemSize:[j.HasDecoratorInputTransform,"itemSize","itemSize",Ve],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[j.HasDecoratorInputTransform,"checkmark","checkmark",K]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[xt],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(S(0,"li",0),J("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),D(1,Ine,3,2,"ng-container",1)(2,bne,2,1,"span",1)(3,Cne,1,0,"ng-container",2),R()),i&2&&(_("id",r.id)("ngStyle",Re(14,$p,r.itemSize+"px"))("ngClass",si(16,yne,r.selected,r.disabled,r.focused)),H("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),v(),_("ngIf",r.checkmark),v(),_("ngIf",!r.template),v(),_("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Re(20,QT,r.option)))},dependencies:()=>[zt,Pt,Kt,Ht,ji,KT,Cl],encapsulation:2})}return n})(),Gp=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){te.deepEquals(t,this._options())||this._options.set(t)}onChange=new X;onFilter=new X;onFocus=new X;onBlur=new X;onClick=new X;onShow=new X;onHide=new X;onClear=new X;onLazyLoad=new X;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Dn(null);_placeholder=Dn(void 0);modelValue=Dn(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Dn(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Dn(-1);labelId;listId;clicked=Dn(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(jn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(jn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(jn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Ec(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&o.push(tt(se({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(o)}return r}return t});label=Ec(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=Ec(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Ec(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,qf(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&te.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}te.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&te.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Lt(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&L.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return te.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return te.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?te.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?te.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?te.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?te.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?te.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&te.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=L.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{L.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{L.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&te.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?te.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return te.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())L.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;L.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(i)}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?L.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(G(rt),G(Xt),G(Ct),G(qe),G(ty),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(Ene,5),Ge(Tne,5),Ge(xne,5),Ge(Sne,5),Ge(Dne,5),Ge(Ane,5),Ge(Rne,5),Ge(Mne,5),Ge(kne,5)),i&2){let s;Te(s=xe())&&(r.containerViewChild=s.first),Te(s=xe())&&(r.filterViewChild=s.first),Te(s=xe())&&(r.focusInputViewChild=s.first),Te(s=xe())&&(r.editableInputViewChild=s.first),Te(s=xe())&&(r.itemsViewChild=s.first),Te(s=xe())&&(r.scroller=s.first),Te(s=xe())&&(r.overlayViewChild=s.first),Te(s=xe())&&(r.firstHiddenFocusableElementOnOverlay=s.first),Te(s=xe())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[j.HasDecoratorInputTransform,"filter","filter",K],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],required:[j.HasDecoratorInputTransform,"required","required",K],editable:[j.HasDecoratorInputTransform,"editable","editable",K],appendTo:"appendTo",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],resetFilterOnHide:[j.HasDecoratorInputTransform,"resetFilterOnHide","resetFilterOnHide",K],checkmark:[j.HasDecoratorInputTransform,"checkmark","checkmark",K],dropdownIcon:"dropdownIcon",loading:[j.HasDecoratorInputTransform,"loading","loading",K],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[j.HasDecoratorInputTransform,"autoDisplayFirst","autoDisplayFirst",K],group:[j.HasDecoratorInputTransform,"group","group",K],showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[j.HasDecoratorInputTransform,"lazy","lazy",K],virtualScroll:[j.HasDecoratorInputTransform,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[j.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Ve],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[j.HasDecoratorInputTransform,"focusOnHover","focusOnHover",K],selectOnFocus:[j.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",K],autoOptionFocus:[j.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",K],autofocusFilter:[j.HasDecoratorInputTransform,"autofocusFilter","autofocusFilter",K],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[_n([Nie]),xt],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=fe();S(0,"div",15,0),J("click",function(a){return B(s),U(r.onContainerClick(a))}),D(2,Une,6,20,"span",16)(3,jne,2,8,"input",17)(4,Wne,3,2,"ng-container",18),S(5,"div",19),J("mousedown",function(a){return B(s),U(r.onMouseDown(a))}),D(6,Xne,3,2,"ng-container",20)(7,sie,2,2,"ng-template",null,1,dn),R(),S(9,"p-overlay",21,2),Xs("visibleChange",function(a){return B(s),qo(r.overlayVisible,a)||(r.overlayVisible=a),U(a)}),J("onAnimationStart",function(a){return B(s),U(r.onOverlayAnimationStart(a))})("onHide",function(){return B(s),U(r.hide())}),D(11,Lie,13,18,"ng-template",22),R()()}if(i&2){let s,o=Ft(8);oe(r.styleClass),_("ngClass",r.containerClass)("ngStyle",r.style),H("id",r.id),v(2),_("ngIf",!r.editable),v(),_("ngIf",r.editable),v(),_("ngIf",r.isVisibleClearIcon),v(),H("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),v(),_("ngIf",r.loading)("ngIfElse",o),v(3),Zs("visible",r.overlayVisible),_("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[zt,Bi,Pt,Kt,Ht,GT,St,Od,Wy,Hi,yi,Kd,YT,Vie],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),$c=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,WT,ft,ll,pr,qd,mr,yi,Kd,YT,KT,Cl,WT,ft,qd]})}return n})();var ZT=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var XT=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Bie=["container"],Uie=["inputfield"],jie=["contentWrapper"],zie=[[["p-header"]],[["p-footer"]]],Hie=["p-header","p-footer"],$ie=(n,e,t,i,r)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":e,"p-calendar-timeonly":t,"p-calendar-disabled":i,"p-focus":r}),Gie=n=>({clickCallBack:n}),Wie=n=>({"p-datepicker-icon":n}),qie=(n,e,t,i,r,s)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}),XV=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),Kie=n=>({value:"visibleTouchUI",params:n}),Yie=n=>({value:"visible",params:n}),JT=n=>({$implicit:n}),Qie=(n,e)=>({"p-datepicker-other-month":n,"p-datepicker-today":e}),Zie=(n,e)=>({"p-highlight p-datepicker-current-day":n,"p-disabled":e}),e4=(n,e)=>({"p-highlight":n,"p-disabled":e}),JV=n=>[n];function Xie(n,e){if(n&1){let t=fe();S(0,"TimesIcon",11),J("click",function(){B(t);let r=y(3);return U(r.clear())}),R()}n&2&&_("styleClass","p-calendar-clear-icon")}function Jie(n,e){}function ere(n,e){n&1&&D(0,Jie,0,0,"ng-template")}function tre(n,e){if(n&1){let t=fe();S(0,"span",12),J("click",function(){B(t);let r=y(3);return U(r.clear())}),D(1,ere,1,0,null,13),R()}if(n&2){let t=y(3);v(),_("ngTemplateOutlet",t.clearIconTemplate)}}function nre(n,e){if(n&1&&(ce(0),D(1,Xie,1,1,"TimesIcon",9)(2,tre,2,1,"span",10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.clearIconTemplate),v(),_("ngIf",t.clearIconTemplate)}}function ire(n,e){if(n&1&&W(0,"span",16),n&2){let t=y(3);_("ngClass",t.icon)}}function rre(n,e){n&1&&W(0,"CalendarIcon")}function sre(n,e){}function ore(n,e){n&1&&D(0,sre,0,0,"ng-template")}function are(n,e){if(n&1&&(ce(0),D(1,rre,1,0,"CalendarIcon",7)(2,ore,1,0,null,13),ue()),n&2){let t=y(3);v(),_("ngIf",!t.triggerIconTemplate),v(),_("ngTemplateOutlet",t.triggerIconTemplate)}}function lre(n,e){if(n&1){let t=fe();S(0,"button",14),J("click",function(r){B(t),y();let s=Ft(1),o=y();return U(o.onButtonClick(r,s))}),D(1,ire,1,1,"span",15)(2,are,3,2,"ng-container",7),R()}if(n&2){let t,i=y(2);_("disabled",i.disabled),H("aria-label",i.iconButtonAriaLabel)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null),v(),_("ngIf",i.icon),v(),_("ngIf",!i.icon)}}function cre(n,e){if(n&1){let t=fe();S(0,"CalendarIcon",19),J("click",function(r){B(t);let s=y(3);return U(s.onButtonClick(r))}),R()}if(n&2){let t=y(3);_("ngClass",Re(1,Wie,t.showOnFocus))}}function ure(n,e){n&1&&_e(0)}function dre(n,e){if(n&1&&(ce(0),D(1,cre,1,3,"CalendarIcon",17)(2,ure,1,0,"ng-container",18),ue()),n&2){let t=y(2);v(),_("ngIf",!t.inputIconTemplate),v(),_("ngTemplateOutlet",t.inputIconTemplate)("ngTemplateOutletContext",Re(3,Gie,t.onButtonClick.bind(t)))}}function hre(n,e){if(n&1){let t=fe();S(0,"input",6,1),J("focus",function(r){B(t);let s=y();return U(s.onInputFocus(r))})("keydown",function(r){B(t);let s=y();return U(s.onInputKeydown(r))})("click",function(){B(t);let r=y();return U(r.onInputClick())})("blur",function(r){B(t);let s=y();return U(s.onInputBlur(r))})("input",function(r){B(t);let s=y();return U(s.onUserInput(r))}),R(),D(2,nre,3,2,"ng-container",7)(3,lre,3,6,"button",8)(4,dre,3,5,"ng-container",7)}if(n&2){let t,i=y();oe(i.inputStyleClass),_("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),H("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),v(2),_("ngIf",i.showClear&&!i.disabled&&i.value!=null),v(),_("ngIf",i.showIcon&&i.iconDisplay==="button"),v(),_("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function fre(n,e){n&1&&_e(0)}function pre(n,e){n&1&&W(0,"ChevronLeftIcon",40),n&2&&_("styleClass","p-datepicker-prev-icon")}function mre(n,e){}function gre(n,e){n&1&&D(0,mre,0,0,"ng-template")}function _re(n,e){if(n&1&&(S(0,"span",41),D(1,gre,1,0,null,13),R()),n&2){let t=y(5);v(),_("ngTemplateOutlet",t.previousIconTemplate)}}function yre(n,e){if(n&1){let t=fe();S(0,"button",38),J("keydown",function(r){B(t);let s=y(4);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(4);return U(s.onPrevButtonClick(r))}),D(1,pre,1,1,"ChevronLeftIcon",35)(2,_re,2,1,"span",39),R()}if(n&2){let t=y(4);H("aria-label",t.prevIconAriaLabel),v(),_("ngIf",!t.previousIconTemplate),v(),_("ngIf",t.previousIconTemplate)}}function vre(n,e){if(n&1){let t=fe();S(0,"button",42),J("click",function(r){B(t);let s=y(4);return U(s.switchToMonthView(r))})("keydown",function(r){B(t);let s=y(4);return U(s.onContainerButtonKeydown(r))}),pe(1),R()}if(n&2){let t=y().$implicit,i=y(3);_("disabled",i.switchViewButtonDisabled()),H("aria-label",i.getTranslation("chooseMonth")),v(),Bn(" ",i.getMonthName(t.month)," ")}}function wre(n,e){if(n&1){let t=fe();S(0,"button",43),J("click",function(r){B(t);let s=y(4);return U(s.switchToYearView(r))})("keydown",function(r){B(t);let s=y(4);return U(s.onContainerButtonKeydown(r))}),pe(1),R()}if(n&2){let t=y().$implicit,i=y(3);_("disabled",i.switchViewButtonDisabled()),H("aria-label",i.getTranslation("chooseYear")),v(),Bn(" ",i.getYear(t)," ")}}function Ire(n,e){if(n&1&&(ce(0),pe(1),ue()),n&2){let t=y(5);v(),oC("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function bre(n,e){n&1&&_e(0)}function Cre(n,e){if(n&1&&(S(0,"span",44),D(1,Ire,2,2,"ng-container",7)(2,bre,1,0,"ng-container",18),R()),n&2){let t=y(4);v(),_("ngIf",!t.decadeTemplate),v(),_("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",Re(3,JT,t.yearPickerValues))}}function Ere(n,e){n&1&&W(0,"ChevronRightIcon",40),n&2&&_("styleClass","p-datepicker-next-icon")}function Tre(n,e){}function xre(n,e){n&1&&D(0,Tre,0,0,"ng-template")}function Sre(n,e){if(n&1&&(S(0,"span",45),D(1,xre,1,0,null,13),R()),n&2){let t=y(4);v(),_("ngTemplateOutlet",t.nextIconTemplate)}}function Dre(n,e){if(n&1&&(S(0,"th",51)(1,"span"),pe(2),R()()),n&2){let t=y(5);v(2),Ke(t.getTranslation("weekHeader"))}}function Are(n,e){if(n&1&&(S(0,"th",52)(1,"span"),pe(2),R()()),n&2){let t=e.$implicit;v(2),Ke(t)}}function Rre(n,e){if(n&1&&(S(0,"td",55)(1,"span",56),pe(2),R()()),n&2){let t=y().index,i=y(2).$implicit;v(2),Bn(" ",i.weekNumbers[t]," ")}}function Mre(n,e){if(n&1&&(ce(0),pe(1),ue()),n&2){let t=y(2).$implicit;v(),Ke(t.day)}}function kre(n,e){n&1&&_e(0)}function Ore(n,e){if(n&1&&(ce(0),D(1,kre,1,0,"ng-container",18),ue()),n&2){let t=y(2).$implicit,i=y(6);v(),_("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",Re(2,JT,t))}}function Pre(n,e){n&1&&_e(0)}function Fre(n,e){if(n&1&&(ce(0),D(1,Pre,1,0,"ng-container",18),ue()),n&2){let t=y(2).$implicit,i=y(6);v(),_("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",Re(2,JT,t))}}function Lre(n,e){if(n&1&&(S(0,"div",59),pe(1),R()),n&2){let t=y(2).$implicit;v(),Bn(" ",t.day," ")}}function Nre(n,e){if(n&1){let t=fe();ce(0),S(1,"span",57),J("click",function(r){B(t);let s=y().$implicit,o=y(6);return U(o.onDateSelect(r,s))})("keydown",function(r){B(t);let s=y().$implicit,o=y(3).index,a=y(3);return U(a.onDateCellKeydown(r,s,o))}),D(2,Mre,2,1,"ng-container",7)(3,Ore,2,4,"ng-container",7)(4,Fre,2,4,"ng-container",7),R(),D(5,Lre,2,1,"div",58),ue()}if(n&2){let t=y().$implicit,i=y(6);v(),_("ngClass",tn(6,Zie,i.isSelected(t)&&t.selectable,!t.selectable)),H("data-date",i.formatDateKey(i.formatDateMetaToDate(t))),v(),_("ngIf",!i.dateTemplate&&(t.selectable||!i.disabledDateTemplate)),v(),_("ngIf",t.selectable||!i.disabledDateTemplate),v(),_("ngIf",!t.selectable),v(),_("ngIf",i.isSelected(t))}}function Vre(n,e){if(n&1&&(S(0,"td",16),D(1,Nre,6,9,"ng-container",7),R()),n&2){let t=e.$implicit,i=y(6);_("ngClass",tn(3,Qie,t.otherMonth,t.today)),H("aria-label",t.day),v(),_("ngIf",t.otherMonth?i.showOtherMonths:!0)}}function Bre(n,e){if(n&1&&(S(0,"tr"),D(1,Rre,3,1,"td",53)(2,Vre,2,6,"td",54),R()),n&2){let t=e.$implicit,i=y(5);v(),_("ngIf",i.showWeek),v(),_("ngForOf",t)}}function Ure(n,e){if(n&1&&(S(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),D(4,Dre,3,1,"th",48)(5,Are,3,1,"th",49),R()(),S(6,"tbody"),D(7,Bre,3,2,"tr",50),R()()()),n&2){let t=y().$implicit,i=y(3);v(4),_("ngIf",i.showWeek),v(),_("ngForOf",i.weekDays),v(2),_("ngForOf",t.dates)}}function jre(n,e){if(n&1){let t=fe();S(0,"div",27)(1,"div",28),D(2,yre,3,3,"button",29),S(3,"div",30),D(4,vre,2,3,"button",31)(5,wre,2,3,"button",32)(6,Cre,3,5,"span",33),R(),S(7,"button",34),J("keydown",function(r){B(t);let s=y(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(3);return U(s.onNextButtonClick(r))}),D(8,Ere,1,1,"ChevronRightIcon",35)(9,Sre,2,1,"span",36),R()(),D(10,Ure,8,3,"div",37),R()}if(n&2){let t=e.index,i=y(3);v(2),_("ngIf",t===0),v(2),_("ngIf",i.currentView==="date"),v(),_("ngIf",i.currentView!=="year"),v(),_("ngIf",i.currentView==="year"),v(),$f("display",i.numberOfMonths===1||t===i.numberOfMonths-1?"inline-flex":"none"),H("aria-label",i.nextIconAriaLabel),v(),_("ngIf",!i.nextIconTemplate),v(),_("ngIf",i.nextIconTemplate),v(),_("ngIf",i.currentView==="date")}}function zre(n,e){if(n&1&&(S(0,"div",59),pe(1),R()),n&2){let t=y().$implicit;v(),Bn(" ",t," ")}}function Hre(n,e){if(n&1){let t=fe();S(0,"span",62),J("click",function(r){let s=B(t).index,o=y(4);return U(o.onMonthSelect(r,s))})("keydown",function(r){let s=B(t).index,o=y(4);return U(o.onMonthCellKeydown(r,s))}),pe(1),D(2,zre,2,1,"div",58),R()}if(n&2){let t=e.$implicit,i=e.index,r=y(4);_("ngClass",tn(3,e4,r.isMonthSelected(i),r.isMonthDisabled(i))),v(),Bn(" ",t," "),v(),_("ngIf",r.isMonthSelected(i))}}function $re(n,e){if(n&1&&(S(0,"div",60),D(1,Hre,3,6,"span",61),R()),n&2){let t=y(3);v(),_("ngForOf",t.monthPickerValues())}}function Gre(n,e){if(n&1&&(S(0,"div",59),pe(1),R()),n&2){let t=y().$implicit;v(),Bn(" ",t," ")}}function Wre(n,e){if(n&1){let t=fe();S(0,"span",65),J("click",function(r){let s=B(t).$implicit,o=y(4);return U(o.onYearSelect(r,s))})("keydown",function(r){let s=B(t).$implicit,o=y(4);return U(o.onYearCellKeydown(r,s))}),pe(1),D(2,Gre,2,1,"div",58),R()}if(n&2){let t=e.$implicit,i=y(4);_("ngClass",tn(3,e4,i.isYearSelected(t),i.isYearDisabled(t))),v(),Bn(" ",t," "),v(),_("ngIf",i.isYearSelected(t))}}function qre(n,e){if(n&1&&(S(0,"div",63),D(1,Wre,3,6,"span",64),R()),n&2){let t=y(3);v(),_("ngForOf",t.yearPickerValues())}}function Kre(n,e){if(n&1&&(ce(0),S(1,"div",23),D(2,jre,11,10,"div",24),R(),D(3,$re,2,1,"div",25)(4,qre,2,1,"div",26),ue()),n&2){let t=y(2);v(2),_("ngForOf",t.months),v(),_("ngIf",t.currentView==="month"),v(),_("ngIf",t.currentView==="year")}}function Yre(n,e){n&1&&W(0,"ChevronUpIcon")}function Qre(n,e){}function Zre(n,e){n&1&&D(0,Qre,0,0,"ng-template")}function Xre(n,e){n&1&&(ce(0),pe(1,"0"),ue())}function Jre(n,e){n&1&&W(0,"ChevronDownIcon")}function ese(n,e){}function tse(n,e){n&1&&D(0,ese,0,0,"ng-template")}function nse(n,e){n&1&&W(0,"ChevronUpIcon")}function ise(n,e){}function rse(n,e){n&1&&D(0,ise,0,0,"ng-template")}function sse(n,e){n&1&&(ce(0),pe(1,"0"),ue())}function ose(n,e){n&1&&W(0,"ChevronDownIcon")}function ase(n,e){}function lse(n,e){n&1&&D(0,ase,0,0,"ng-template")}function cse(n,e){if(n&1&&(S(0,"div",69)(1,"span"),pe(2),R()()),n&2){let t=y(3);v(2),Ke(t.timeSeparator)}}function use(n,e){n&1&&W(0,"ChevronUpIcon")}function dse(n,e){}function hse(n,e){n&1&&D(0,dse,0,0,"ng-template")}function fse(n,e){n&1&&(ce(0),pe(1,"0"),ue())}function pse(n,e){n&1&&W(0,"ChevronDownIcon")}function mse(n,e){}function gse(n,e){n&1&&D(0,mse,0,0,"ng-template")}function _se(n,e){if(n&1){let t=fe();S(0,"div",74)(1,"button",68),J("keydown",function(r){B(t);let s=y(3);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(3);return U(s.incrementSecond(r))})("keydown.space",function(r){B(t);let s=y(3);return U(s.incrementSecond(r))})("mousedown",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(3);return U(r.onTimePickerElementMouseLeave())}),D(2,use,1,0,"ChevronUpIcon",7)(3,hse,1,0,null,13),R(),S(4,"span"),D(5,fse,2,0,"ng-container",7),pe(6),R(),S(7,"button",68),J("keydown",function(r){B(t);let s=y(3);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(3);return U(s.decrementSecond(r))})("keydown.space",function(r){B(t);let s=y(3);return U(s.decrementSecond(r))})("mousedown",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(3);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(3);return U(r.onTimePickerElementMouseLeave())}),D(8,pse,1,0,"ChevronDownIcon",7)(9,gse,1,0,null,13),R()()}if(n&2){let t=y(3);v(),H("aria-label",t.getTranslation("nextSecond")),v(),_("ngIf",!t.incrementIconTemplate),v(),_("ngTemplateOutlet",t.incrementIconTemplate),v(2),_("ngIf",t.currentSecond<10),v(),Ke(t.currentSecond),v(),H("aria-label",t.getTranslation("prevSecond")),v(),_("ngIf",!t.decrementIconTemplate),v(),_("ngTemplateOutlet",t.decrementIconTemplate)}}function yse(n,e){n&1&&W(0,"ChevronUpIcon")}function vse(n,e){}function wse(n,e){n&1&&D(0,vse,0,0,"ng-template")}function Ise(n,e){n&1&&W(0,"ChevronDownIcon")}function bse(n,e){}function Cse(n,e){n&1&&D(0,bse,0,0,"ng-template")}function Ese(n,e){if(n&1){let t=fe();S(0,"div",75)(1,"button",76),J("keydown",function(r){B(t);let s=y(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(3);return U(s.toggleAMPM(r))})("keydown.enter",function(r){B(t);let s=y(3);return U(s.toggleAMPM(r))}),D(2,yse,1,0,"ChevronUpIcon",7)(3,wse,1,0,null,13),R(),S(4,"span"),pe(5),R(),S(6,"button",76),J("keydown",function(r){B(t);let s=y(3);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(3);return U(s.toggleAMPM(r))})("keydown.enter",function(r){B(t);let s=y(3);return U(s.toggleAMPM(r))}),D(7,Ise,1,0,"ChevronDownIcon",7)(8,Cse,1,0,null,13),R()()}if(n&2){let t=y(3);v(),H("aria-label",t.getTranslation("am")),v(),_("ngIf",!t.incrementIconTemplate),v(),_("ngTemplateOutlet",t.incrementIconTemplate),v(2),Ke(t.pm?"PM":"AM"),v(),H("aria-label",t.getTranslation("pm")),v(),_("ngIf",!t.decrementIconTemplate),v(),_("ngTemplateOutlet",t.decrementIconTemplate)}}function Tse(n,e){if(n&1){let t=fe();S(0,"div",66)(1,"div",67)(2,"button",68),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(2);return U(s.incrementHour(r))})("keydown.space",function(r){B(t);let s=y(2);return U(s.incrementHour(r))})("mousedown",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(2);return U(r.onTimePickerElementMouseLeave())}),D(3,Yre,1,0,"ChevronUpIcon",7)(4,Zre,1,0,null,13),R(),S(5,"span"),D(6,Xre,2,0,"ng-container",7),pe(7),R(),S(8,"button",68),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(2);return U(s.decrementHour(r))})("keydown.space",function(r){B(t);let s=y(2);return U(s.decrementHour(r))})("mousedown",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(2);return U(r.onTimePickerElementMouseLeave())}),D(9,Jre,1,0,"ChevronDownIcon",7)(10,tse,1,0,null,13),R()(),S(11,"div",69)(12,"span"),pe(13),R()(),S(14,"div",70)(15,"button",68),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(2);return U(s.incrementMinute(r))})("keydown.space",function(r){B(t);let s=y(2);return U(s.incrementMinute(r))})("mousedown",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(2);return U(r.onTimePickerElementMouseLeave())}),D(16,nse,1,0,"ChevronUpIcon",7)(17,rse,1,0,null,13),R(),S(18,"span"),D(19,sse,2,0,"ng-container",7),pe(20),R(),S(21,"button",68),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){B(t);let s=y(2);return U(s.decrementMinute(r))})("keydown.space",function(r){B(t);let s=y(2);return U(s.decrementMinute(r))})("mousedown",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){B(t);let s=y(2);return U(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){B(t);let r=y(2);return U(r.onTimePickerElementMouseLeave())}),D(22,ose,1,0,"ChevronDownIcon",7)(23,lse,1,0,null,13),R()(),D(24,cse,3,1,"div",71)(25,_se,10,8,"div",72)(26,Ese,9,7,"div",73),R()}if(n&2){let t=y(2);v(2),H("aria-label",t.getTranslation("nextHour")),v(),_("ngIf",!t.incrementIconTemplate),v(),_("ngTemplateOutlet",t.incrementIconTemplate),v(2),_("ngIf",t.currentHour<10),v(),Ke(t.currentHour),v(),H("aria-label",t.getTranslation("prevHour")),v(),_("ngIf",!t.decrementIconTemplate),v(),_("ngTemplateOutlet",t.decrementIconTemplate),v(3),Ke(t.timeSeparator),v(2),H("aria-label",t.getTranslation("nextMinute")),v(),_("ngIf",!t.incrementIconTemplate),v(),_("ngTemplateOutlet",t.incrementIconTemplate),v(2),_("ngIf",t.currentMinute<10),v(),Ke(t.currentMinute),v(),H("aria-label",t.getTranslation("prevMinute")),v(),_("ngIf",!t.decrementIconTemplate),v(),_("ngTemplateOutlet",t.decrementIconTemplate),v(),_("ngIf",t.showSeconds),v(),_("ngIf",t.showSeconds),v(),_("ngIf",t.hourFormat=="12")}}function xse(n,e){if(n&1){let t=fe();S(0,"div",77)(1,"button",78),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(2);return U(s.onTodayButtonClick(r))}),R(),S(2,"button",78),J("keydown",function(r){B(t);let s=y(2);return U(s.onContainerButtonKeydown(r))})("click",function(r){B(t);let s=y(2);return U(s.onClearButtonClick(r))}),R()()}if(n&2){let t=y(2);v(),_("label",t.getTranslation("today"))("ngClass",Re(4,JV,t.todayButtonStyleClass)),v(),_("label",t.getTranslation("clear"))("ngClass",Re(6,JV,t.clearButtonStyleClass))}}function Sse(n,e){n&1&&_e(0)}function Dse(n,e){if(n&1){let t=fe();S(0,"div",20,2),J("@overlayAnimation.start",function(r){B(t);let s=y();return U(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){B(t);let s=y();return U(s.onOverlayAnimationDone(r))})("click",function(r){B(t);let s=y();return U(s.onOverlayClick(r))}),pi(2),D(3,fre,1,0,"ng-container",13)(4,Kre,5,3,"ng-container",7)(5,Tse,27,20,"div",21)(6,xse,3,8,"div",22),pi(7,1),D(8,Sse,1,0,"ng-container",13),R()}if(n&2){let t=y();oe(t.panelStyleClass),_("ngStyle",t.panelStyle)("ngClass",bc(15,qie,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,t.view==="month",t.touchUI))("@overlayAnimation",t.touchUI?Re(25,Kie,tn(22,XV,t.showTransitionOptions,t.hideTransitionOptions)):Re(30,Yie,tn(27,XV,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",t.inline===!0),H("id",t.panelId)("aria-label",t.getTranslation("chooseDate"))("role",t.inline?null:"dialog")("aria-modal",t.inline?null:"true"),v(3),_("ngTemplateOutlet",t.headerTemplate),v(),_("ngIf",!t.timeOnly),v(),_("ngIf",(t.showTime||t.timeOnly)&&t.currentView==="date"),v(),_("ngIf",t.showButtonBar),v(2),_("ngTemplateOutlet",t.footerTemplate)}}var Ase={provide:oi,useExisting:In(()=>Rse),multi:!0},Rse=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(t){this._minDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){let i=t.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){let i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new X;onBlur=new X;onClose=new X;onSelect=new X;onClear=new X;onInput=new X;onTodayClick=new X;onClearClick=new X;onMonthChange=new X;onYearChange=new X;onClickOutside=new X;onShow=new X;templates;containerViewChild;inputfieldViewChild;set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(t,i,r,s,o,a,l){this.document=t,this.el=i,this.renderer=r,this.cd=s,this.zone=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Lt(),this.panelId=this.attributeSelector+"_panel";let t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"inputicon":this.inputIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"decrementicon":this.decrementIconTemplate=t.template;break;case"incrementicon":this.incrementIconTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.dateTemplate=t.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=L.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,i){this.yearOptions=[];for(let r=t;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),i=this.getTranslation(jn.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[t]),t=t==6?0:++t}monthPickerValues(){let t=[];for(let i=0;i<=11;i++)t.push(this.config.getTranslation("monthNamesShort")[i]);return t}yearPickerValues(){let t=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)t.push(i+r);return t}createMonths(t,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=t+r,o=i;s>11&&(s=s%11-1,o=i+1),this.months.push(this.createMonth(s,o))}}getWeekNumber(t){let i=new Date(t.getTime());if(this.startWeekFromFirstDayOfYear){let s=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+s-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(t,i){let r=[],s=this.getFirstDayOfMonthIndex(t,i),o=this.getDaysCountInMonth(t,i),a=this.getDaysCountInPrevMonth(t,i),l=1,c=new Date,u=[],h=Math.ceil((o+s)/7);for(let f=0;f<h;f++){let p=[];if(f==0){for(let I=a-s+1;I<=a;I++){let b=this.getPreviousMonthAndYear(t,i);p.push({day:I,month:b.month,year:b.year,otherMonth:!0,today:this.isToday(c,I,b.month,b.year),selectable:this.isSelectable(I,b.month,b.year,!0)})}let g=7-p.length;for(let I=0;I<g;I++)p.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)}),l++}else for(let g=0;g<7;g++){if(l>o){let I=this.getNextMonthAndYear(t,i);p.push({day:l-o,month:I.month,year:I.year,otherMonth:!0,today:this.isToday(c,l-o,I.month,I.year),selectable:this.isSelectable(l-o,I.month,I.year,!0)})}else p.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),r.push(p)}return{month:t,year:i,dates:r,weekNumbers:u}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]-i,t[t.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]+i,t[t.length-1]+i)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,i){if(this.disabled||!i.selectable){t.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()}shouldSelectDate(t){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(t,i){this.view==="month"?this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,i){this.view==="year"?this.onDateSelect(t,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value){if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);t+=r,i!==this.value.length-1&&(t+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];t=this.formatDateTime(i),r&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let i=this.keepInvalid?t:null,r=this.isValidDateForTimeConstraints(t);return this.isValidDate(t)?this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t))):this.dataType==="string"&&(i=t),i=r?i:"",i}formatDateMetaToDate(t){return new Date(t.year,t.month,t.day)}formatDateKey(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}setCurrentHourPM(t){this.hourFormat=="12"?(this.pm=t>11,t>=12?this.currentHour=t==12?12:t-12:this.currentHour=t==0?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let i=this.formatDateMetaToDate(t);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(t){if(this.value=t,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(t,i){let r=new Date;r.setDate(1),r.setMonth(t),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}getDaysCountInPrevMonth(t,i){let r=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(t,i){let r,s;return t===0?(r=11,s=i-1):(r=t-1,s=i),{month:r,year:s}}getNextMonthAndYear(t,i){let r,s;return t===11?(r=0,s=i+1):(r=t+1,s=i),{month:r,year:s}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,t),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,t,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(t,i){let r=i??this.currentYear;for(let s=1;s<this.getDaysCountInMonth(t,r)+1;s++)if(this.isSelectable(s,t,r,!1))return!1;return!0}isYearDisabled(t){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,t))}isYearSelected(t){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===t}return!1}isDateEquals(t,i){return t&&te.isDate(t)?t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year:!1}isDateBetween(t,i,r){let s=!1;if(te.isDate(t)&&te.isDate(i)){let o=this.formatDateMetaToDate(r);return t.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return s}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(t,i,r,s){return t.getDate()===i&&t.getMonth()===r&&t.getFullYear()===s}isSelectable(t,i,r,s){let o=!0,a=!0,l=!0,c=!0;return s&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(t,i,r)),this.disabledDays&&(c=!this.isDayDisabled(t,i,r)),o&&a&&l&&c)}isDateDisabled(t,i,r){if(this.disabledDates){for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===t)return!0}return!1}isDayDisabled(t,i,r){if(this.disabledDays){let o=new Date(r,i,t).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return this.currentView==="month"?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:if(this.inline||this.trapFocus(t),this.inline){let i=L.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=t.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break;default:break}}onInputKeydown(t){this.isKeydown=!0,t.keyCode===40&&this.contentViewChild?this.trapFocus(t):t.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault()):t.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):t.keyCode===9&&this.contentViewChild&&(L.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,i,r){let s=t.currentTarget,o=s.parentElement,a=this.formatDateMetaToDate(i);switch(t.which){case 40:{s.tabIndex="-1";let g=L.index(o),I=o.parentElement.nextElementSibling;if(I){let b=I.children[g].children[0];L.hasClass(b,"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(I.children[g].children[0].tabIndex="0",I.children[g].children[0].focus())}else this.navigationState={backward:!1},this.navForward(t);t.preventDefault();break}case 38:{s.tabIndex="-1";let g=L.index(o),I=o.parentElement.previousElementSibling;if(I){let b=I.children[g].children[0];L.hasClass(b,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(b.tabIndex="0",b.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{s.tabIndex="-1";let g=o.previousElementSibling;if(g){let I=g.children[0];L.hasClass(I,"p-disabled")||L.hasClass(I.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!0,r);t.preventDefault();break}case 39:{s.tabIndex="-1";let g=o.nextElementSibling;if(g){let I=g.children[0];L.hasClass(I,"p-disabled")?this.navigateToMonth(!1,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!1,r);t.preventDefault();break}case 13:case 32:{this.onDateSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}case 33:{s.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),I=this.formatDateKey(g);this.navigateToMonth(!0,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 34:{s.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),I=this.formatDateKey(g);this.navigateToMonth(!1,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 36:s.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),u=L.findSingle(s.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),t.preventDefault();break;case 35:s.tabIndex="-1";let h=new Date(a.getFullYear(),a.getMonth()+1,0),f=this.formatDateKey(h),p=L.findSingle(s.offsetParent,`span[data-date='${f}']:not(.p-disabled):not(.p-ink)`);h&&(p.tabIndex="0",p.focus()),t.preventDefault();break;default:break}}onMonthCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=L.index(r);let a=s[t.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onMonthSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}default:break}}onYearCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=L.index(r);let a=s[t.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onYearSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.trapFocus(t);break}default:break}}navigateToMonth(t,i,r){if(t)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let s=this.contentViewChild.nativeElement.children[i-1];if(r){let o=L.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=L.find(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let s=this.contentViewChild.nativeElement.children[i+1];if(r){let o=L.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=L.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=L.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=L.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=L.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(t=i[i.length-1])}else this.currentView==="month"?t=L.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=L.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=L.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let t=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=L.find(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=L.findSingle(t,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&L.find(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=L.find(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=L.findSingle(t,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&L.find(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=L.findSingle(t,"span.p-highlight"),!i){let r=L.findSingle(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=L.findSingle(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(t){let i=L.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let s=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(s=o);i[s].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(t,i){return this.hourFormat=="12"?t===12?i?12:0:i?t+12:t:t}constrainTime(t,i,r,s){let o=[t,i,r],a,l=this.value,c=this.convertTo24Hour(t,s),u=this.isRangeSelection(),h=this.isMultipleSelection();(u||h)&&(this.value||(this.value=[new Date,new Date]),u&&(l=this.value[1]||this.value[0]),h&&(l=this.value[this.value.length-1]));let p=l?l.toDateString():null,g=this.minDate&&p&&this.minDate.toDateString()===p,I=this.maxDate&&p&&this.maxDate.toDateString()===p;switch(g&&(a=this.minDate.getHours()>=12),!0){case(g&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):o[0]=11;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(g&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):o[0]=11,this.pm=!0;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(g&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(g&&this.minDate.getHours()>c):o[0]=this.minDate.getHours();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(I&&this.maxDate.getHours()<c):o[0]=this.maxDate.getHours();case(I&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(I&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(t){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,s=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(s),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,s),t.preventDefault()}toggleAMPMIfNotMinDate(t){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=t}onTimePickerElementMouseDown(t,i,r){this.disabled||(this.repeat(t,null,i,r),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,i,r,s){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,r,s),this.cd.markForCheck()},o),r){case 0:s===1?this.incrementHour(t):this.decrementHour(t);break;case 1:s===1?this.incrementMinute(t):this.decrementMinute(t);break;case 2:s===1?this.incrementSecond(t):this.decrementSecond(t);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),t.preventDefault()}incrementMinute(t){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}decrementMinute(t){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}incrementSecond(t){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}decrementSecond(t){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?t=[this.value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let i=t.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let s=this.keepInvalid?i:null;this.updateModel(s)}this.filled=i!=null&&i.length,this.onInput.emit(t)}isValidSelection(t){if(this.isSingleSelection())return this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1);let i=t.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=t.length===1||t.length>1&&t[1]>=t[0]),i}parseValueFromString(t){if(!t||t.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){let r=t.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=t.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(t){let i,r=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let s=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,a,o)}else i=this.parseDate(t,s)}return i}populateTime(t,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let s=this.parseTime(i);t.setHours(s.hour),t.setMinutes(s.minute),t.setSeconds(s.second)}isValidDate(t){return te.isDate(t)&&te.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[1]||t[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Un.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Un.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t);break}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Un.clear(t.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):L.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),L.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):L.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),L.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),L.blockBodyScroll())}disableModality(){this.mask&&(L.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let t=this.document.body.children,i;for(let r=0;r<t.length;r++){let s=t[r];if(L.hasClass(s,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||L.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(jn.FIRST_DAY_OF_WEEK)}formatDate(t,i){if(!t)return"";let r,s=u=>{let h=r+1<i.length&&i.charAt(r+1)===u;return h&&r++,h},o=(u,h,f)=>{let p=""+h;if(s(u))for(;p.length<f;)p="0"+p;return p},a=(u,h,f,p)=>s(u)?p[h]:f[h],l="",c=!1;if(t)for(r=0;r<i.length;r++)if(c)i.charAt(r)==="'"&&!s("'")?c=!1:l+=i.charAt(r);else switch(i.charAt(r)){case"d":l+=o("d",t.getDate(),2);break;case"D":l+=a("D",t.getDay(),this.getTranslation(jn.DAY_NAMES_SHORT),this.getTranslation(jn.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",t.getMonth()+1,2);break;case"M":l+=a("M",t.getMonth(),this.getTranslation(jn.MONTH_NAMES_SHORT),this.getTranslation(jn.MONTH_NAMES));break;case"y":l+=s("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this.ticksTo1970;break;case"'":s("'")?l+="'":c=!0;break;default:l+=i.charAt(r)}return l}formatTime(t){if(!t)return"";let i="",r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=t.getHours()>11?" PM":" AM"),i}parseTime(t){let i=t.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let s=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(o)||s>23||o>59||this.hourFormat=="12"&&s>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(s!==12&&this.pm?s+=12:!this.pm&&s===12&&(s-=12)),{hour:s,minute:o,second:a}}parseDate(t,i){if(i==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t==="")return null;let r,s,o,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,h=-1,f=-1,p=!1,g,I=O=>{let F=r+1<i.length&&i.charAt(r+1)===O;return F&&r++,F},b=O=>{let F=I(O),$=O==="@"?14:O==="!"?20:O==="y"&&F?4:O==="o"?3:2,Y=O==="y"?$:1,A=new RegExp("^\\d{"+Y+","+$+"}"),C=t.substring(a).match(A);if(!C)throw"Missing number at position "+a;return a+=C[0].length,parseInt(C[0],10)},E=(O,F,$)=>{let Y=-1,A=I(O)?$:F,C=[];for(let T=0;T<A.length;T++)C.push([T,A[T]]);C.sort((T,P)=>-(T[1].length-P[1].length));for(let T=0;T<C.length;T++){let P=C[T][1];if(t.substr(a,P.length).toLowerCase()===P.toLowerCase()){Y=C[T][0],a+=P.length;break}}if(Y!==-1)return Y+1;throw"Unknown name at position "+a},M=()=>{if(t.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(h=1),r=0;r<i.length;r++)if(p)i.charAt(r)==="'"&&!I("'")?p=!1:M();else switch(i.charAt(r)){case"d":h=b("d");break;case"D":E("D",this.getTranslation(jn.DAY_NAMES_SHORT),this.getTranslation(jn.DAY_NAMES));break;case"o":f=b("o");break;case"m":u=b("m");break;case"M":u=E("M",this.getTranslation(jn.MONTH_NAMES_SHORT),this.getTranslation(jn.MONTH_NAMES));break;case"y":c=b("y");break;case"@":g=new Date(b("@")),c=g.getFullYear(),u=g.getMonth()+1,h=g.getDate();break;case"!":g=new Date((b("!")-this.ticksTo1970)/1e4),c=g.getFullYear(),u=g.getMonth()+1,h=g.getDate();break;case"'":I("'")?M():p=!0;break;default:M()}if(a<t.length&&(o=t.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),f>-1){u=1,h=f;do{if(s=this.getDaysCountInMonth(c,u-1),h<=s)break;u++,h-=s}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,h=h===-1?1:h),g=this.daylightSavingAdjust(new Date(c,u-1,h)),g.getFullYear()!==c||g.getMonth()+1!==u||g.getDate()!==h)throw"Invalid date";return g}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(t){return this.keepInvalid?!0:(!this.minDate||t>=this.minDate)&&(!this.maxDate||t<=this.maxDate)}onTodayButtonClick(t){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(t,r),this.onTodayClick.emit(i)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:o}=i[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=o;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;t+=`
                        @media screen and (max-width: ${s}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Is(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return L.hasClass(t.target,"p-datepicker-prev")||L.hasClass(t.target,"p-datepicker-prev-icon")||L.hasClass(t.target,"p-datepicker-next")||L.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!L.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Un.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(G(yt),G(rt),G(Xt),G(Ct),G(qe),G(fn),G(al))};static \u0275cmp=ne({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(Bie,5),Ge(Uie,5),Ge(jie,5)),i&2){let s;Te(s=xe())&&(r.containerViewChild=s.first),Te(s=xe())&&(r.inputfieldViewChild=s.first),Te(s=xe())&&(r.content=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[j.HasDecoratorInputTransform,"inline","inline",K],showOtherMonths:[j.HasDecoratorInputTransform,"showOtherMonths","showOtherMonths",K],selectOtherMonths:[j.HasDecoratorInputTransform,"selectOtherMonths","selectOtherMonths",K],showIcon:[j.HasDecoratorInputTransform,"showIcon","showIcon",K],icon:"icon",appendTo:"appendTo",readonlyInput:[j.HasDecoratorInputTransform,"readonlyInput","readonlyInput",K],shortYearCutoff:"shortYearCutoff",monthNavigator:[j.HasDecoratorInputTransform,"monthNavigator","monthNavigator",K],yearNavigator:[j.HasDecoratorInputTransform,"yearNavigator","yearNavigator",K],hourFormat:"hourFormat",timeOnly:[j.HasDecoratorInputTransform,"timeOnly","timeOnly",K],stepYearPicker:[j.HasDecoratorInputTransform,"stepYearPicker","stepYearPicker",Ve],stepHour:[j.HasDecoratorInputTransform,"stepHour","stepHour",Ve],stepMinute:[j.HasDecoratorInputTransform,"stepMinute","stepMinute",Ve],stepSecond:[j.HasDecoratorInputTransform,"stepSecond","stepSecond",Ve],showSeconds:[j.HasDecoratorInputTransform,"showSeconds","showSeconds",K],required:[j.HasDecoratorInputTransform,"required","required",K],showOnFocus:[j.HasDecoratorInputTransform,"showOnFocus","showOnFocus",K],showWeek:[j.HasDecoratorInputTransform,"showWeek","showWeek",K],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[j.HasDecoratorInputTransform,"maxDateCount","maxDateCount",Ve],showButtonBar:[j.HasDecoratorInputTransform,"showButtonBar","showButtonBar",K],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[j.HasDecoratorInputTransform,"keepInvalid","keepInvalid",K],hideOnDateTimeSelect:[j.HasDecoratorInputTransform,"hideOnDateTimeSelect","hideOnDateTimeSelect",K],touchUI:[j.HasDecoratorInputTransform,"touchUI","touchUI",K],timeSeparator:"timeSeparator",focusTrap:[j.HasDecoratorInputTransform,"focusTrap","focusTrap",K],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[_n([Ase]),xt],ngContentSelectors:Hie,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,r){i&1&&(Ai(zie),S(0,"span",3,0),D(2,hre,5,22,"ng-template",4)(3,Dse,9,32,"div",5),R()),i&2&&(oe(r.styleClass),_("ngClass",gd(6,$ie,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),v(2),_("ngIf",!r.inline),v(),_("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[zt,Bi,Pt,Kt,Ht,gy,ji,Md,kd,ZT,Kd,yi,XT,Hi],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Vd("overlayAnimation",[h3("visibleTouchUI",zi({transform:"translate(-50%,-50%)",opacity:1})),Cs("void => visible",[zi({opacity:0,transform:"scaleY(0.8)"}),bs("{{showTransitionParams}}",zi({opacity:1,transform:"*"}))]),Cs("visible => void",[bs("{{hideTransitionParams}}",zi({opacity:0}))]),Cs("void => visibleTouchUI",[zi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),bs("{{showTransitionParams}}")]),Cs("visibleTouchUI => void",[bs("{{hideTransitionParams}}",zi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),t4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,Es,ft,pr,Md,kd,ZT,Kd,yi,XT,mr,Es,ft]})}return n})();var ex=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ArrowDownIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var tx=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["ArrowUpIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var n4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["FilterIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var i4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["FilterSlashIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var r4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var s4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["SortAltIcon"]],standalone:!0,features:[Ae,ye],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),R(),S(6,"defs")(7,"clipPath",5),W(8,"rect",6),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(6),_("id",r.pathId))},encapsulation:2})}return n})();var o4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var a4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var l4=(()=>{class n extends Be{pathId;ngOnInit(){this.pathId="url(#"+Lt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["TrashIcon"]],standalone:!0,features:[Ae,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0)(1,"g"),W(2,"path",1),R(),S(3,"defs")(4,"clipPath",2),W(5,"rect",3),R()()()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),v(),H("clip-path",r.pathId),v(3),_("id",r.pathId))},encapsulation:2})}return n})();var Yd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var nx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleUpIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Mse=["input"],kse=(n,e,t)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":t}),c4=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),u4=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function Ose(n,e){if(n&1){let t=fe();S(0,"TimesIcon",8),J("click",function(){B(t);let r=y(2);return U(r.clear())}),R()}n&2&&(_("ngClass","p-inputnumber-clear-icon"),H("data-pc-section","clearIcon"))}function Pse(n,e){}function Fse(n,e){n&1&&D(0,Pse,0,0,"ng-template")}function Lse(n,e){if(n&1){let t=fe();S(0,"span",9),J("click",function(){B(t);let r=y(2);return U(r.clear())}),D(1,Fse,1,0,null,10),R()}if(n&2){let t=y(2);H("data-pc-section","clearIcon"),v(),_("ngTemplateOutlet",t.clearIconTemplate)}}function Nse(n,e){if(n&1&&(ce(0),D(1,Ose,1,2,"TimesIcon",6)(2,Lse,2,2,"span",7),ue()),n&2){let t=y();v(),_("ngIf",!t.clearIconTemplate),v(),_("ngIf",t.clearIconTemplate)}}function Vse(n,e){if(n&1&&W(0,"span",14),n&2){let t=y(2);_("ngClass",t.incrementButtonIcon),H("data-pc-section","incrementbuttonicon")}}function Bse(n,e){n&1&&W(0,"AngleUpIcon"),n&2&&H("data-pc-section","incrementbuttonicon")}function Use(n,e){}function jse(n,e){n&1&&D(0,Use,0,0,"ng-template")}function zse(n,e){if(n&1&&(ce(0),D(1,Bse,1,1,"AngleUpIcon",3)(2,jse,1,0,null,10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.incrementButtonIconTemplate),v(),_("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function Hse(n,e){if(n&1&&W(0,"span",14),n&2){let t=y(2);_("ngClass",t.decrementButtonIcon),H("data-pc-section","decrementbuttonicon")}}function $se(n,e){n&1&&W(0,"AngleDownIcon"),n&2&&H("data-pc-section","decrementbuttonicon")}function Gse(n,e){}function Wse(n,e){n&1&&D(0,Gse,0,0,"ng-template")}function qse(n,e){if(n&1&&(ce(0),D(1,$se,1,1,"AngleDownIcon",3)(2,Wse,1,0,null,10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.decrementButtonIconTemplate),v(),_("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function Kse(n,e){if(n&1){let t=fe();S(0,"span",11)(1,"button",12),J("mousedown",function(r){B(t);let s=y();return U(s.onUpButtonMouseDown(r))})("mouseup",function(){B(t);let r=y();return U(r.onUpButtonMouseUp())})("mouseleave",function(){B(t);let r=y();return U(r.onUpButtonMouseLeave())})("keydown",function(r){B(t);let s=y();return U(s.onUpButtonKeyDown(r))})("keyup",function(){B(t);let r=y();return U(r.onUpButtonKeyUp())}),D(2,Vse,1,2,"span",13)(3,zse,3,2,"ng-container",3),R(),S(4,"button",12),J("mousedown",function(r){B(t);let s=y();return U(s.onDownButtonMouseDown(r))})("mouseup",function(){B(t);let r=y();return U(r.onDownButtonMouseUp())})("mouseleave",function(){B(t);let r=y();return U(r.onDownButtonMouseLeave())})("keydown",function(r){B(t);let s=y();return U(s.onDownButtonKeyDown(r))})("keyup",function(){B(t);let r=y();return U(r.onDownButtonKeyUp())}),D(5,Hse,1,2,"span",13)(6,qse,3,2,"ng-container",3),R()()}if(n&2){let t=y();H("data-pc-section","buttonGroup"),v(),oe(t.incrementButtonClass),_("ngClass",ri(17,c4))("disabled",t.disabled),H("aria-hidden",!0)("data-pc-section","incrementbutton"),v(),_("ngIf",t.incrementButtonIcon),v(),_("ngIf",!t.incrementButtonIcon),v(),oe(t.decrementButtonClass),_("ngClass",ri(18,u4))("disabled",t.disabled),H("aria-hidden",!0)("data-pc-section",t.decrementbutton),v(),_("ngIf",t.decrementButtonIcon),v(),_("ngIf",!t.decrementButtonIcon)}}function Yse(n,e){if(n&1&&W(0,"span",14),n&2){let t=y(2);_("ngClass",t.incrementButtonIcon),H("data-pc-section","incrementbuttonicon")}}function Qse(n,e){n&1&&W(0,"AngleUpIcon"),n&2&&H("data-pc-section","incrementbuttonicon")}function Zse(n,e){}function Xse(n,e){n&1&&D(0,Zse,0,0,"ng-template")}function Jse(n,e){if(n&1&&(ce(0),D(1,Qse,1,1,"AngleUpIcon",3)(2,Xse,1,0,null,10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.incrementButtonIconTemplate),v(),_("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function eoe(n,e){if(n&1){let t=fe();S(0,"button",12),J("mousedown",function(r){B(t);let s=y();return U(s.onUpButtonMouseDown(r))})("mouseup",function(){B(t);let r=y();return U(r.onUpButtonMouseUp())})("mouseleave",function(){B(t);let r=y();return U(r.onUpButtonMouseLeave())})("keydown",function(r){B(t);let s=y();return U(s.onUpButtonKeyDown(r))})("keyup",function(){B(t);let r=y();return U(r.onUpButtonKeyUp())}),D(1,Yse,1,2,"span",13)(2,Jse,3,2,"ng-container",3),R()}if(n&2){let t=y();oe(t.incrementButtonClass),_("ngClass",ri(8,c4))("disabled",t.disabled),H("aria-hidden",!0)("data-pc-section","incrementbutton"),v(),_("ngIf",t.incrementButtonIcon),v(),_("ngIf",!t.incrementButtonIcon)}}function toe(n,e){if(n&1&&W(0,"span",14),n&2){let t=y(2);_("ngClass",t.decrementButtonIcon),H("data-pc-section","decrementbuttonicon")}}function noe(n,e){n&1&&W(0,"AngleDownIcon"),n&2&&H("data-pc-section","decrementbuttonicon")}function ioe(n,e){}function roe(n,e){n&1&&D(0,ioe,0,0,"ng-template")}function soe(n,e){if(n&1&&(ce(0),D(1,noe,1,1,"AngleDownIcon",3)(2,roe,1,0,null,10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.decrementButtonIconTemplate),v(),_("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function ooe(n,e){if(n&1){let t=fe();S(0,"button",12),J("mousedown",function(r){B(t);let s=y();return U(s.onDownButtonMouseDown(r))})("mouseup",function(){B(t);let r=y();return U(r.onDownButtonMouseUp())})("mouseleave",function(){B(t);let r=y();return U(r.onDownButtonMouseLeave())})("keydown",function(r){B(t);let s=y();return U(s.onDownButtonKeyDown(r))})("keyup",function(){B(t);let r=y();return U(r.onDownButtonKeyUp())}),D(1,toe,1,2,"span",13)(2,soe,3,2,"ng-container",3),R()}if(n&2){let t=y();oe(t.decrementButtonClass),_("ngClass",ri(8,u4))("disabled",t.disabled),H("aria-hidden",!0)("data-pc-section","decrementbutton"),v(),_("ngIf",t.decrementButtonIcon),v(),_("ngIf",!t.decrementButtonIcon)}}var aoe={provide:oi,useExisting:In(()=>ix),multi:!0},ix=(()=>{class n{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}onInput=new X;onFocus=new X;onBlur=new X;onKeyDown=new X;onClear=new X;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(t,i,r,s,o){this.document=t,this.el=i,this.cd=r,this.injector=s,this.config=o}ngOnChanges(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!t[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=t.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=t.template;break}})}ngOnInit(){this.ngControl=this.injector.get(ta,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(t.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let t=this.getDecimalChar();return new RegExp(`[${t}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,tt(se({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&t!=this.prefix&&(r=this.prefix+r),this.suffix&&t!=this.suffix&&(r=r+this.suffix),r}return t.toString()}return""}parseValue(t){let i=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),s=new RegExp(this._currency,""),o=t.replace(i,"").replace(r,"").trim().replace(/\s/g,"").replace(s,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(t,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},s),this.spin(t,r)}spin(t,i){let r=this.step*i,s=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(t,o),this.handleOnInput(t,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)}onUserInput(t){this.readonly||(this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let i=t.target.selectionStart,r=t.target.selectionEnd,s=t.target.value,o=null;switch(t.altKey&&t.preventDefault(),t.key){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":for(let a=i;a<=s.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(s.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(s.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(t,o);break;case"Backspace":{if(t.preventDefault(),i===r){if(i==1&&this.prefix||i==s.length&&this.suffix)break;let a=s.charAt(i-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=s.slice(0,i-1)+s.slice(i);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i-1)+h+s.slice(i)}else c===1?(o=s.slice(0,i-1)+"0"+s.slice(i),o=this.parseValue(o)>0?o:""):o=s.slice(0,i-1)+s.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=s.slice(1));this.updateValue(t,o,null,"delete-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break}case"Delete":if(t.preventDefault(),i===r){if(i==0&&this.prefix||i==s.length-1&&this.suffix)break;let a=s.charAt(i),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=s.slice(0,i)+s.slice(i+1);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i)+h+s.slice(i+1)}else c===1?(o=s.slice(0,i)+"0"+s.slice(i+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,i)+s.slice(i+1)}this.updateValue(t,o,null,"delete-back-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break;default:break}this.onKeyDown.emit(t)}onInputKeyPress(t){if(this.readonly)return;let i=t.which||t.keyCode,r=String.fromCharCode(i),s=this.isDecimalSign(r),o=this.isMinusSign(r);i!=13&&t.preventDefault(),!s&&t.code==="NumpadDecimal"&&(s=!0,r=this._decimalChar,i=r.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+r),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(t,r,{isDecimalSign:s,isMinusSign:o});return}this.maxlength&&l.length>this.maxlength||(48<=i&&i<=57||o||s)&&this.insert(t,r,{isDecimalSign:s,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(t){if(!this.disabled&&!this.readonly){t.preventDefault();let i=(t.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let r=this.parseValue(i);r!=null&&this.insert(t,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let s=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let r=t.search(this._minusSign);this._minusSign.lastIndex=0;let s=t.search(this._suffix);this._suffix.lastIndex=0;let o=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:o}}insert(t,i,r={isDecimalSign:!1,isMinusSign:!1}){let s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&s!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:h,currencyCharIndex:f}=this.getCharIndexes(l),p;if(r.isMinusSign)o===0&&(p=l,(u===-1||a!==0)&&(p=this.insertText(l,i,0,a)),this.updateValue(t,p,i,"insert"));else if(r.isDecimalSign)c>0&&o===c?this.updateValue(t,l,i,"insert"):c>o&&c<a?(p=this.insertText(l,i,o,a),this.updateValue(t,p,i,"insert")):c===-1&&this.maxFractionDigits&&(p=this.insertText(l,i,o,a),this.updateValue(t,p,i,"insert"));else{let g=this.numberFormat.resolvedOptions().maximumFractionDigits,I=o!==a?"range-insert":"insert";if(c>0&&o>c){if(o+i.length-(c+1)<=g){let b=f>=o?f-1:h>=o?h:l.length;p=l.slice(0,o)+i+l.slice(o+i.length,b)+l.slice(b),this.updateValue(t,p,i,I)}}else p=this.insertText(l,i,o,a),this.updateValue(t,p,i,I)}}insertText(t,i,r,s){if((i==="."?i:i.split(".")).length===2){let a=t.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,a>0?t.slice(0,r)+this.formatValue(i)+t.slice(s):t||this.formatValue(i)}else return s-r===t.length?this.formatValue(i):r===0?i+t.slice(s):s===t.length?t.slice(0,r)+i:t.slice(0,r)+i+t.slice(s)}deleteRange(t,i,r){let s;return r-i===t.length?s="":i===0?s=t.slice(r):r===t.length?s=t.slice(0,i):s=t.slice(0,i)+t.slice(r),s}initCursor(){let t=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,s=r.length,o=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(t===i||t!==0||i<a)&&(t-=a);let l=r.charAt(t);if(this.isNumeralChar(l))return t+a;let c=t-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(c=t;c<s;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let t=this.input?.nativeElement.value;!this.readonly&&t!==L.getSelection()&&this.initCursor()}isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,i,r,s){let o=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,s,i),this.handleOnInput(t,o,a))}handleOnInput(t,i,r){this.isValueChanged(i,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(t,r),this.onInput.emit({originalEvent:t,value:r,formattedValue:i}))}isValueChanged(t,i){if(i===null&&t!==null)return!0;if(i!=null){let r=typeof t=="string"?this.parseValue(t):t;return i!==r}return!1}validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t}updateInput(t,i,r,s){i=i||"";let o=this.input?.nativeElement.value,a=this.formatValue(t),l=o.length;if(a!==s&&(a=this.concatValues(a,s)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let h=a.length;if(r==="range-insert"){let f=this.parseValue((o||"").slice(0,c)),g=(f!==null?f.toString():"").split("").join(`(${this.groupChar})?`),I=new RegExp(g,"g");I.test(a);let b=i.split("").join(`(${this.groupChar})?`),E=new RegExp(b,"g");E.test(a.slice(I.lastIndex)),u=I.lastIndex+E.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(h===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(r==="delete-back-single"){let f=o.charAt(u-1),p=o.charAt(u),g=l-h,I=this._group.test(p);I&&g===1?u+=1:!I&&this.isNumeralChar(f)&&(u+=-1*g+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(o==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let p=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(p,p)}else u=u+(h-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",t)}concatValues(t,i){if(t&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?t:t.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+i.slice(r):t}return t}getDecimalLength(t){if(t){let i=t.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=i?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(t,i),this.onBlur.emit(t)}formattedValue(){let t=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(t)}updateModel(t,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||n)(G(yt),G(rt),G(Ct),G(fi),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-inputNumber"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ge(Mse,5),i&2){let s;Te(s=xe())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[j.HasDecoratorInputTransform,"showButtons","showButtons",K],format:[j.HasDecoratorInputTransform,"format","format",K],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[j.HasDecoratorInputTransform,"size","size",Ve],maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[j.HasDecoratorInputTransform,"ariaRequired","ariaRequired",K],name:"name",required:[j.HasDecoratorInputTransform,"required","required",K],autocomplete:"autocomplete",min:[j.HasDecoratorInputTransform,"min","min",Ve],max:[j.HasDecoratorInputTransform,"max","max",Ve],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],step:[j.HasDecoratorInputTransform,"step","step",Ve],allowEmpty:[j.HasDecoratorInputTransform,"allowEmpty","allowEmpty",K],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[j.HasDecoratorInputTransform,"useGrouping","useGrouping",K],variant:"variant",minFractionDigits:[j.HasDecoratorInputTransform,"minFractionDigits","minFractionDigits",t=>Ve(t,null)],maxFractionDigits:[j.HasDecoratorInputTransform,"maxFractionDigits","maxFractionDigits",t=>Ve(t,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[_n([aoe]),xt,un],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,r){if(i&1){let s=fe();S(0,"span",1)(1,"input",2,0),J("input",function(a){return B(s),U(r.onUserInput(a))})("keydown",function(a){return B(s),U(r.onInputKeyDown(a))})("keypress",function(a){return B(s),U(r.onInputKeyPress(a))})("paste",function(a){return B(s),U(r.onPaste(a))})("click",function(){return B(s),U(r.onInputClick())})("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))}),R(),D(3,Nse,3,2,"ng-container",3)(4,Kse,7,19,"span",4)(5,eoe,3,9,"button",5)(6,ooe,3,9,"button",5),R()}i&2&&(oe(r.styleClass),_("ngClass",si(39,kse,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),H("data-pc-name","inputnumber")("data-pc-section","root"),v(),oe(r.inputStyleClass),Yn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),_("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),H("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),v(2),_("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),v(),_("ngIf",r.showButtons&&r.buttonLayout==="stacked"),v(),_("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),v(),_("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[zt,Pt,Kt,Ht,ul,gy,Hi,yi,nx,Yd],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),Wp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,es,Es,mr,yi,nx,Yd,ft]})}return n})();var rx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var sx=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ox=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleLeftIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Qd=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var qy=n=>({"p-disabled":n}),Ky=n=>({$implicit:n}),coe=n=>({"p-highlight":n});function uoe(n,e){n&1&&_e(0)}function doe(n,e){if(n&1&&(S(0,"div",15),D(1,uoe,1,0,"ng-container",16),R()),n&2){let t=y(2);H("data-pc-section","start"),v(),_("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Re(3,Ky,t.paginatorState))}}function hoe(n,e){if(n&1&&(S(0,"span",17),pe(1),R()),n&2){let t=y(2);v(),Ke(t.currentPageReport)}}function foe(n,e){n&1&&W(0,"AngleDoubleLeftIcon",19),n&2&&_("styleClass","p-paginator-icon")}function poe(n,e){}function moe(n,e){n&1&&D(0,poe,0,0,"ng-template")}function goe(n,e){if(n&1&&(S(0,"span",20),D(1,moe,1,0,null,21),R()),n&2){let t=y(3);v(),_("ngTemplateOutlet",t.firstPageLinkIconTemplate)}}function _oe(n,e){if(n&1){let t=fe();S(0,"button",18),J("click",function(r){B(t);let s=y(2);return U(s.changePageToFirst(r))}),D(1,foe,1,1,"AngleDoubleLeftIcon",6)(2,goe,2,1,"span",7),R()}if(n&2){let t=y(2);_("disabled",t.isFirstPage()||t.empty())("ngClass",Re(5,qy,t.isFirstPage()||t.empty())),H("aria-label",t.getAriaLabel("firstPageLabel")),v(),_("ngIf",!t.firstPageLinkIconTemplate),v(),_("ngIf",t.firstPageLinkIconTemplate)}}function yoe(n,e){n&1&&W(0,"AngleLeftIcon",19),n&2&&_("styleClass","p-paginator-icon")}function voe(n,e){}function woe(n,e){n&1&&D(0,voe,0,0,"ng-template")}function Ioe(n,e){if(n&1&&(S(0,"span",20),D(1,woe,1,0,null,21),R()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.previousPageLinkIconTemplate)}}function boe(n,e){if(n&1){let t=fe();S(0,"button",24),J("click",function(r){let s=B(t).$implicit,o=y(3);return U(o.onPageLinkClick(r,s-1))}),pe(1),R()}if(n&2){let t=e.$implicit,i=y(3);_("ngClass",Re(4,coe,t-1==i.getPage())),H("aria-label",i.getPageAriaLabel(t))("aria-current",t-1==i.getPage()?"page":void 0),v(),Bn(" ",i.getLocalization(t)," ")}}function Coe(n,e){if(n&1&&(S(0,"span",22),D(1,boe,2,6,"button",23),R()),n&2){let t=y(2);v(),_("ngForOf",t.pageLinks)}}function Eoe(n,e){if(n&1&&pe(0),n&2){let t=y(3);Ke(t.currentPageReport)}}function Toe(n,e){n&1&&_e(0)}function xoe(n,e){if(n&1&&D(0,Toe,1,0,"ng-container",16),n&2){let t=e.$implicit,i=y(4);_("ngTemplateOutlet",i.jumpToPageItemTemplate)("ngTemplateOutletContext",Re(2,Ky,t))}}function Soe(n,e){n&1&&(ce(0),D(1,xoe,1,4,"ng-template",28),ue())}function Doe(n,e){n&1&&_e(0)}function Aoe(n,e){if(n&1&&D(0,Doe,1,0,"ng-container",21),n&2){let t=y(4);_("ngTemplateOutlet",t.dropdownIconTemplate)}}function Roe(n,e){n&1&&D(0,Aoe,1,1,"ng-template",29)}function Moe(n,e){if(n&1){let t=fe();S(0,"p-dropdown",25),J("onChange",function(r){B(t);let s=y(2);return U(s.onPageDropdownChange(r))}),D(1,Eoe,1,1,"ng-template",26)(2,Soe,2,0,"ng-container",27)(3,Roe,1,0,null,27),R()}if(n&2){let t=y(2);_("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),H("aria-label",t.getAriaLabel("jumpToPageDropdownLabel")),v(2),_("ngIf",t.jumpToPageItemTemplate),v(),_("ngIf",t.dropdownIconTemplate)}}function koe(n,e){n&1&&W(0,"AngleRightIcon",19),n&2&&_("styleClass","p-paginator-icon")}function Ooe(n,e){}function Poe(n,e){n&1&&D(0,Ooe,0,0,"ng-template")}function Foe(n,e){if(n&1&&(S(0,"span",20),D(1,Poe,1,0,null,21),R()),n&2){let t=y(2);v(),_("ngTemplateOutlet",t.nextPageLinkIconTemplate)}}function Loe(n,e){n&1&&W(0,"AngleDoubleRightIcon",19),n&2&&_("styleClass","p-paginator-icon")}function Noe(n,e){}function Voe(n,e){n&1&&D(0,Noe,0,0,"ng-template")}function Boe(n,e){if(n&1&&(S(0,"span",20),D(1,Voe,1,0,null,21),R()),n&2){let t=y(3);v(),_("ngTemplateOutlet",t.lastPageLinkIconTemplate)}}function Uoe(n,e){if(n&1){let t=fe();S(0,"button",30),J("click",function(r){B(t);let s=y(2);return U(s.changePageToLast(r))}),D(1,Loe,1,1,"AngleDoubleRightIcon",6)(2,Boe,2,1,"span",7),R()}if(n&2){let t=y(2);_("disabled",t.isLastPage()||t.empty())("ngClass",Re(5,qy,t.isLastPage()||t.empty())),H("aria-label",t.getAriaLabel("lastPageLabel")),v(),_("ngIf",!t.lastPageLinkIconTemplate),v(),_("ngIf",t.lastPageLinkIconTemplate)}}function joe(n,e){if(n&1){let t=fe();S(0,"p-inputNumber",31),J("ngModelChange",function(r){B(t);let s=y(2);return U(s.changePage(r-1))}),R()}if(n&2){let t=y(2);_("ngModel",t.currentPage())("disabled",t.empty())}}function zoe(n,e){n&1&&_e(0)}function Hoe(n,e){if(n&1&&D(0,zoe,1,0,"ng-container",16),n&2){let t=e.$implicit,i=y(4);_("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",Re(2,Ky,t))}}function $oe(n,e){n&1&&(ce(0),D(1,Hoe,1,4,"ng-template",28),ue())}function Goe(n,e){n&1&&_e(0)}function Woe(n,e){if(n&1&&D(0,Goe,1,0,"ng-container",21),n&2){let t=y(4);_("ngTemplateOutlet",t.dropdownIconTemplate)}}function qoe(n,e){n&1&&D(0,Woe,1,1,"ng-template",29)}function Koe(n,e){if(n&1){let t=fe();S(0,"p-dropdown",32),Xs("ngModelChange",function(r){B(t);let s=y(2);return qo(s.rows,r)||(s.rows=r),U(r)}),J("onChange",function(r){B(t);let s=y(2);return U(s.onRppChange(r))}),D(1,$oe,2,0,"ng-container",27)(2,qoe,1,0,null,27),R()}if(n&2){let t=y(2);_("options",t.rowsPerPageItems),Zs("ngModel",t.rows),_("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)("ariaLabel",t.getAriaLabel("rowsPerPageLabel")),v(),_("ngIf",t.dropdownItemTemplate),v(),_("ngIf",t.dropdownIconTemplate)}}function Yoe(n,e){n&1&&_e(0)}function Qoe(n,e){if(n&1&&(S(0,"div",33),D(1,Yoe,1,0,"ng-container",16),R()),n&2){let t=y(2);H("data-pc-section","end"),v(),_("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Re(3,Ky,t.paginatorState))}}function Zoe(n,e){if(n&1){let t=fe();S(0,"div",1),D(1,doe,2,5,"div",2)(2,hoe,2,1,"span",3)(3,_oe,3,7,"button",4),S(4,"button",5),J("click",function(r){B(t);let s=y();return U(s.changePageToPrev(r))}),D(5,yoe,1,1,"AngleLeftIcon",6)(6,Ioe,2,1,"span",7),R(),D(7,Coe,2,1,"span",8)(8,Moe,4,8,"p-dropdown",9),S(9,"button",10),J("click",function(r){B(t);let s=y();return U(s.changePageToNext(r))}),D(10,koe,1,1,"AngleRightIcon",6)(11,Foe,2,1,"span",7),R(),D(12,Uoe,3,7,"button",11)(13,joe,1,2,"p-inputNumber",12)(14,Koe,3,8,"p-dropdown",13)(15,Qoe,2,5,"div",14),R()}if(n&2){let t=y();oe(t.styleClass),_("ngStyle",t.style)("ngClass","p-paginator p-component"),H("data-pc-section","paginator")("data-pc-section","root"),v(),_("ngIf",t.templateLeft),v(),_("ngIf",t.showCurrentPageReport),v(),_("ngIf",t.showFirstLastIcon),v(),_("disabled",t.isFirstPage()||t.empty())("ngClass",Re(25,qy,t.isFirstPage()||t.empty())),H("aria-label",t.getAriaLabel("prevPageLabel")),v(),_("ngIf",!t.previousPageLinkIconTemplate),v(),_("ngIf",t.previousPageLinkIconTemplate),v(),_("ngIf",t.showPageLinks),v(),_("ngIf",t.showJumpToPageDropdown),v(),_("disabled",t.isLastPage()||t.empty())("ngClass",Re(27,qy,t.isLastPage()||t.empty())),H("aria-label",t.getAriaLabel("nextPageLabel")),v(),_("ngIf",!t.nextPageLinkIconTemplate),v(),_("ngIf",t.nextPageLinkIconTemplate),v(),_("ngIf",t.showFirstLastIcon),v(),_("ngIf",t.showJumpToPageInput),v(),_("ngIf",t.rowsPerPageOptions),v(),_("ngIf",t.templateRight)}}var d4=(()=>{class n{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(t){this._first=t}onPageChange=new X;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(t,i){this.cd=t,this.config=i}ngOnInit(){this.updatePaginatorState()}getAriaLabel(t){return this.config.translation.aria?this.config.translation.aria[t]:void 0}getPageAriaLabel(t){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${t}`):void 0}getLocalization(t){let i=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(i.map((s,o)=>[o,s]));return t>9?String(t).split("").map(o=>r.get(Number(o))).join(""):r.get(t)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=t.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=t.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=t.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=t.template;break}})}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions(),t.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)typeof t=="object"&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(t)),value:t})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let t=this.getPageCount(),i=Math.min(this.pageLinkSize,t),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(t-1,r+i-1);var o=this.pageLinkSize-(s-r+1);return r=Math.max(0,r-o),[r,s]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),i=t[0],r=t[1];for(let s=i;s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(t){var i=this.getPageCount();if(t>=0&&t<i){this._first=this.rows*t;var r={page:t,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){let t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,i){this.changePage(i),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(i){return new(i||n)(G(Ct),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-paginator"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[j.HasDecoratorInputTransform,"pageLinkSize","pageLinkSize",Ve],style:"style",styleClass:"styleClass",alwaysShow:[j.HasDecoratorInputTransform,"alwaysShow","alwaysShow",K],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[j.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",K],showFirstLastIcon:[j.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",K],totalRecords:[j.HasDecoratorInputTransform,"totalRecords","totalRecords",Ve],rows:[j.HasDecoratorInputTransform,"rows","rows",Ve],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[j.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[j.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",K],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[j.HasDecoratorInputTransform,"showPageLinks","showPageLinks",K],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[xt,un],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(i,r){i&1&&D(0,Zoe,16,29,"div",0),i&2&&_("ngIf",r.alwaysShow?!0:r.pageLinks&&r.pageLinks.length>1)},dependencies:()=>[zt,Bi,Pt,Kt,Ht,Gp,St,ix,Nd,Rc,ji,rx,sx,ox,Qd],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),h4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,$c,Wp,Mc,ft,pr,rx,sx,ox,Qd,$c,Wp,Mc,ft]})}return n})();var Joe=["container"],eae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-button-icon-only":t}),tae=(n,e)=>({$implicit:n,index:e});function nae(n,e){if(n&1&&W(0,"span",8),n&2){let t=y(2).$implicit;oe(t.icon),_("ngClass","p-button-icon p-button-icon-left"),H("data-pc-section","icon")}}function iae(n,e){if(n&1&&(ce(0),D(1,nae,1,4,"span",6),S(2,"span",7),pe(3),R(),ue()),n&2){let t=y().$implicit,i=y();v(),_("ngIf",t.icon),v(),H("data-pc-section","label"),v(),Ke(i.getOptionLabel(t))}}function rae(n,e){n&1&&_e(0)}function sae(n,e){if(n&1&&D(0,rae,1,0,"ng-container",9),n&2){let t=y(),i=t.$implicit,r=t.index,s=y();_("ngTemplateOutlet",s.selectButtonTemplate)("ngTemplateOutletContext",tn(2,tae,i,r))}}function oae(n,e){if(n&1){let t=fe();S(0,"div",4),J("click",function(r){let s=B(t),o=s.$implicit,a=s.index,l=y();return U(l.onOptionSelect(r,o,a))})("keydown",function(r){let s=B(t),o=s.$implicit,a=s.index,l=y();return U(l.onKeyDown(r,o,a))})("focus",function(r){let s=B(t).index,o=y();return U(o.onFocus(r,s))})("blur",function(){B(t);let r=y();return U(r.onBlur())}),D(1,iae,4,3,"ng-container",5)(2,sae,1,5,"ng-template",null,1,dn),R()}if(n&2){let t=e.$implicit,i=e.index,r=Ft(3),s=y();oe(t.styleClass),_("role",s.multiple?"checkbox":"radio")("ngClass",si(14,eae,s.isSelected(t),s.disabled||s.isOptionDisabled(t),t.icon&&!s.getOptionLabel(t)))("autofocus",s.autofocus),H("tabindex",i===s.focusedIndex?"0":"-1")("aria-label",t.label)("aria-checked",s.isSelected(t))("aria-disabled",s.optionDisabled)("title",t.title)("aria-labelledby",s.getOptionLabel(t))("data-pc-section","button"),v(),_("ngIf",!s.itemTemplate)("ngIfElse",r)}}var aae={provide:oi,useExisting:In(()=>lae),multi:!0},lae=(()=>{class n{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new X;onChange=new X;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(t){this.cd=t}getOptionLabel(t){return this.optionLabel?te.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?te.resolveFieldData(t,this.optionValue):this.optionLabel||t.value===void 0?t:t.value}isOptionDisabled(t){return this.optionDisabled?te.resolveFieldData(t,this.optionDisabled):t.disabled!==void 0?t.disabled:!1}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionSelect(t,i,r){if(this.disabled||this.isOptionDisabled(i))return;let s=this.isSelected(i);if(s&&this.unselectable)return;let o=this.getOptionValue(i),a;if(this.multiple)s?a=this.value.filter(l=>!te.equals(l,o,this.equalityKey)):a=this.value?[...this.value,o]:[o];else{if(s&&!this.allowEmpty)return;a=s?null:o}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.onOptionClick.emit({originalEvent:t,option:i,index:r})}onKeyDown(t,i,r){switch(t.code){case"Space":{this.onOptionSelect(t,i,r),t.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(t,"next"),t.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(t,"prev"),t.preventDefault();break}default:break}}changeTabIndexes(t,i){let r,s;for(let o=0;o<=this.container.nativeElement.children.length-1;o++)this.container.nativeElement.children[o].getAttribute("tabindex")==="0"&&(r={elem:this.container.nativeElement.children[o],index:o});i==="prev"?r.index===0?s=this.container.nativeElement.children.length-1:s=r.index-1:r.index===this.container.nativeElement.children.length-1?s=0:s=r.index+1,this.focusedIndex=s,this.container.nativeElement.children[s].focus()}onFocus(t,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(i=>!te.equals(i,this.getOptionValue(t),this.dataKey))}isSelected(t){let i=!1,r=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let s of this.value)if(te.equals(s,r,this.dataKey)){i=!0;break}}}else i=te.equals(this.getOptionValue(t),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||n)(G(Ct))};static \u0275cmp=ne({type:n,selectors:[["p-selectButton"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,5),i&2){let o;Te(o=xe())&&(r.itemTemplate=o.first)}},viewQuery:function(i,r){if(i&1&&Ge(Joe,5),i&2){let s;Te(s=xe())&&(r.container=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[j.HasDecoratorInputTransform,"unselectable","unselectable",K],tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],multiple:[j.HasDecoratorInputTransform,"multiple","multiple",K],allowEmpty:[j.HasDecoratorInputTransform,"allowEmpty","allowEmpty",K],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],dataKey:"dataKey",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[_n([aae]),xt],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(S(0,"div",2,0),D(2,oae,4,18,"div",3),R()),i&2&&(oe(r.styleClass),_("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),H("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),v(2),_("ngForOf",r.options))},dependencies:[zt,Bi,Pt,Kt,Ht,ji,Hi],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return n})(),f4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,pr,ft,mr,ft]})}return n})();var cae=(n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),uae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),dae=(n,e,t)=>({"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function hae(n,e){if(n&1&&W(0,"span",8),n&2){let t=y(2);_("ngClass",t.checkboxTrueIcon),H("data-pc-section","checkIcon")}}function fae(n,e){n&1&&W(0,"CheckIcon",11),n&2&&(_("styleClass","p-checkbox-icon"),H("data-pc-section","checkIcon"))}function pae(n,e){}function mae(n,e){n&1&&D(0,pae,0,0,"ng-template")}function gae(n,e){if(n&1&&(S(0,"span",12),D(1,mae,1,0,null,13),R()),n&2){let t=y(3);H("data-pc-section","checkIcon"),v(),_("ngTemplateOutlet",t.checkIconTemplate)}}function _ae(n,e){if(n&1&&(ce(0),D(1,fae,1,2,"CheckIcon",9)(2,gae,2,2,"span",10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.checkIconTemplate),v(),_("ngIf",t.checkIconTemplate)}}function yae(n,e){if(n&1&&(ce(0),D(1,hae,1,2,"span",7)(2,_ae,3,2,"ng-container",5),ue()),n&2){let t=y();v(),_("ngIf",t.checkboxTrueIcon),v(),_("ngIf",!t.checkboxTrueIcon)}}function vae(n,e){if(n&1&&W(0,"span",8),n&2){let t=y(2);_("ngClass",t.checkboxFalseIcon),H("data-pc-section","uncheckIcon")}}function wae(n,e){n&1&&W(0,"TimesIcon",11),n&2&&(_("styleClass","p-checkbox-icon"),H("data-pc-section","uncheckIcon"))}function Iae(n,e){}function bae(n,e){n&1&&D(0,Iae,0,0,"ng-template")}function Cae(n,e){if(n&1&&(S(0,"span",12),D(1,bae,1,0,null,13),R()),n&2){let t=y(3);H("data-pc-section","uncheckIcon"),v(),_("ngTemplateOutlet",t.uncheckIconTemplate)}}function Eae(n,e){if(n&1&&(ce(0),D(1,wae,1,2,"TimesIcon",9)(2,Cae,2,2,"span",10),ue()),n&2){let t=y(2);v(),_("ngIf",!t.uncheckIconTemplate),v(),_("ngIf",t.uncheckIconTemplate)}}function Tae(n,e){if(n&1&&(ce(0),D(1,vae,1,2,"span",7)(2,Eae,3,2,"ng-container",5),ue()),n&2){let t=y();v(),_("ngIf",t.checkboxFalseIcon),v(),_("ngIf",!t.checkboxFalseIcon)}}function xae(n,e){if(n&1){let t=fe();S(0,"label",14),J("click",function(r){B(t);let s=y(),o=Ft(3);return U(s.onClick(r,o))}),pe(1),R()}if(n&2){let t=y();_("ngClass",si(3,dae,t.value!=null,t.disabled,t.focused)),H("for",t.inputId),v(),Ke(t.label)}}var Sae={provide:oi,useExisting:In(()=>Dae),multi:!0},Dae=(()=>{class n{cd;config;constructor(t,i){this.cd=t,this.config=i}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new X;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}onKeyDown(t){t.key==="Enter"&&(this.toggle(t),t.preventDefault())}toggle(t){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"checkicon":this.checkIconTemplate=t.template;break;case"uncheckicon":this.uncheckIconTemplate=t.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}static \u0275fac=function(i){return new(i||n)(G(Ct),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-triStateCheckbox"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[j.HasDecoratorInputTransform,"tabindex","tabindex",Ve],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K]},outputs:{onChange:"onChange"},features:[_n([Sae]),xt],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(i,r){if(i&1){let s=fe();S(0,"div",1),J("click",function(a){B(s);let l=Ft(3);return U(r.onClick(a,l))}),S(1,"div",2)(2,"input",3,0),J("keydown",function(a){return B(s),U(r.onKeyDown(a))})("focus",function(){return B(s),U(r.onFocus())})("blur",function(){return B(s),U(r.onBlur())}),R()(),S(4,"div",4),D(5,yae,3,2,"ng-container",5)(6,Tae,3,2,"ng-container",5),R()(),D(7,xae,2,7,"label",6)}i&2&&(oe(r.styleClass),_("ngStyle",r.style)("ngClass",si(20,cae,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),H("data-pc-name","tristatecheckbox")("data-pc-section","root"),v(2),_("name",r.name)("readonly",r.readonly)("disabled",r.disabled)("autofocus",r.autofocus),H("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-section","hiddenInput"),v(2),_("ngClass",si(24,uae,r.value!=null,r.disabled,r.focused)),H("aria-checked",r.value===!0),v(),_("ngIf",r.value===!0),v(),_("ngIf",r.value===!1),v(),_("ngIf",r.label))},dependencies:()=>[zt,Pt,Kt,Ht,Hi,Cl,yi],encapsulation:2,changeDetection:0})}return n})(),p4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ft,mr,Cl,yi,ft]})}return n})();var Aae=["container"],Rae=["resizeHelper"],Mae=["reorderIndicatorUp"],kae=["reorderIndicatorDown"],Oae=["wrapper"],Pae=["table"],Fae=["thead"],Lae=["tfoot"],Nae=["scroller"],Vae=(n,e,t)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":t}),Bae=n=>({maxHeight:n}),m4=n=>({height:n}),g4=(n,e)=>({$implicit:n,options:e}),Uae=n=>({columns:n}),jae=(n,e,t)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":t}),ax=n=>({$implicit:n}),cx=()=>({display:"none"});function zae(n,e){if(n&1&&W(0,"i"),n&2){let t=y(2);oe("p-datatable-loading-icon "+t.loadingIcon)}}function Hae(n,e){n&1&&W(0,"SpinnerIcon",25),n&2&&_("spin",!0)("styleClass","p-datatable-loading-icon")}function $ae(n,e){}function Gae(n,e){n&1&&D(0,$ae,0,0,"ng-template")}function Wae(n,e){if(n&1&&(S(0,"span",26),D(1,Gae,1,0,null,27),R()),n&2){let t=y(3);v(),_("ngTemplateOutlet",t.loadingIconTemplate)}}function qae(n,e){if(n&1&&(ce(0),D(1,Hae,1,2,"SpinnerIcon",23)(2,Wae,2,1,"span",24),ue()),n&2){let t=y(2);v(),_("ngIf",!t.loadingIconTemplate),v(),_("ngIf",t.loadingIconTemplate)}}function Kae(n,e){if(n&1&&(S(0,"div",21),D(1,zae,1,2,"i",22)(2,qae,3,2,"ng-container",16),R()),n&2){let t=y();v(),_("ngIf",t.loadingIcon),v(),_("ngIf",!t.loadingIcon)}}function Yae(n,e){n&1&&_e(0)}function Qae(n,e){if(n&1&&(S(0,"div",28),D(1,Yae,1,0,"ng-container",27),R()),n&2){let t=y();v(),_("ngTemplateOutlet",t.captionTemplate)}}function Zae(n,e){n&1&&_e(0)}function Xae(n,e){if(n&1&&D(0,Zae,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Jae(n,e){n&1&&D(0,Xae,1,1,"ng-template",30)}function ele(n,e){n&1&&_e(0)}function tle(n,e){if(n&1&&D(0,ele,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function nle(n,e){n&1&&D(0,tle,1,1,"ng-template",31)}function ile(n,e){n&1&&_e(0)}function rle(n,e){if(n&1&&D(0,ile,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function sle(n,e){n&1&&D(0,rle,1,1,"ng-template",32)}function ole(n,e){n&1&&_e(0)}function ale(n,e){if(n&1&&D(0,ole,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function lle(n,e){n&1&&D(0,ale,1,1,"ng-template",33)}function cle(n,e){n&1&&_e(0)}function ule(n,e){if(n&1&&D(0,cle,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function dle(n,e){n&1&&D(0,ule,1,1,"ng-template",34)}function hle(n,e){if(n&1){let t=fe();S(0,"p-paginator",29),J("onPageChange",function(r){B(t);let s=y();return U(s.onPageChange(r))}),D(1,Jae,1,0,null,16)(2,nle,1,0,null,16)(3,sle,1,0,null,16)(4,lle,1,0,null,16)(5,dle,1,0,null,16),R()}if(n&2){let t=y();_("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-top"))("locale",t.paginatorLocale),v(),_("ngIf",t.paginatorDropdownIconTemplate),v(),_("ngIf",t.paginatorFirstPageLinkIconTemplate),v(),_("ngIf",t.paginatorPreviousPageLinkIconTemplate),v(),_("ngIf",t.paginatorLastPageLinkIconTemplate),v(),_("ngIf",t.paginatorNextPageLinkIconTemplate)}}function fle(n,e){n&1&&_e(0)}function ple(n,e){if(n&1&&D(0,fle,1,0,"ng-container",37),n&2){let t=e.$implicit,i=e.options;y(2);let r=Ft(10);_("ngTemplateOutlet",r)("ngTemplateOutletContext",tn(2,g4,t,i))}}function mle(n,e){if(n&1){let t=fe();S(0,"p-scroller",35,3),J("onLazyLoad",function(r){B(t);let s=y();return U(s.onLazyItemLoad(r))}),D(2,ple,1,5,"ng-template",36),R()}if(n&2){let t=y();l0(Re(15,m4,t.scrollHeight!=="flex"?t.scrollHeight:void 0)),_("items",t.processedData)("columns",t.columns)("scrollHeight",t.scrollHeight!=="flex"?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)("autoSize",!0)}}function gle(n,e){n&1&&_e(0)}function _le(n,e){if(n&1&&(ce(0),D(1,gle,1,0,"ng-container",37),ue()),n&2){let t=y(),i=Ft(10);v(),_("ngTemplateOutlet",i)("ngTemplateOutletContext",tn(4,g4,t.processedData,Re(2,Uae,t.columns)))}}function yle(n,e){n&1&&_e(0)}function vle(n,e){n&1&&_e(0)}function wle(n,e){if(n&1&&W(0,"tbody",44),n&2){let t=y().options,i=y();_("value",i.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function Ile(n,e){if(n&1&&W(0,"tbody",45),n&2){let t=y().options;_("ngStyle",Re(1,m4,"calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px)"))}}function ble(n,e){n&1&&_e(0)}function Cle(n,e){if(n&1&&(S(0,"tfoot",46,6),D(2,ble,1,0,"ng-container",37),R()),n&2){let t=y().options,i=y();v(2),_("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",Re(2,ax,t.columns))}}function Ele(n,e){if(n&1&&(S(0,"table",38,4),D(2,yle,1,0,"ng-container",37),S(3,"thead",39,5),D(5,vle,1,0,"ng-container",37),R(),D(6,wle,1,5,"tbody",40),W(7,"tbody",41),D(8,Ile,1,3,"tbody",42)(9,Cle,3,4,"tfoot",43),R()),n&2){let t=e.options,i=y();oe(i.tableStyleClass),_("ngClass",si(18,jae,i.scrollable,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit"))("ngStyle",i.tableStyle),H("id",i.id+"-table"),v(2),_("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",Re(22,ax,t.columns)),v(3),_("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",Re(24,ax,t.columns)),v(),_("ngIf",i.frozenValue||i.frozenBodyTemplate),v(),_("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle)("value",i.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",t),v(),_("ngIf",t.spacerStyle),v(),_("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function Tle(n,e){n&1&&_e(0)}function xle(n,e){if(n&1&&D(0,Tle,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Sle(n,e){n&1&&D(0,xle,1,1,"ng-template",30)}function Dle(n,e){n&1&&_e(0)}function Ale(n,e){if(n&1&&D(0,Dle,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function Rle(n,e){n&1&&D(0,Ale,1,1,"ng-template",31)}function Mle(n,e){n&1&&_e(0)}function kle(n,e){if(n&1&&D(0,Mle,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function Ole(n,e){n&1&&D(0,kle,1,1,"ng-template",32)}function Ple(n,e){n&1&&_e(0)}function Fle(n,e){if(n&1&&D(0,Ple,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function Lle(n,e){n&1&&D(0,Fle,1,1,"ng-template",33)}function Nle(n,e){n&1&&_e(0)}function Vle(n,e){if(n&1&&D(0,Nle,1,0,"ng-container",27),n&2){let t=y(3);_("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function Ble(n,e){n&1&&D(0,Vle,1,1,"ng-template",34)}function Ule(n,e){if(n&1){let t=fe();S(0,"p-paginator",29),J("onPageChange",function(r){B(t);let s=y();return U(s.onPageChange(r))}),D(1,Sle,1,0,null,16)(2,Rle,1,0,null,16)(3,Ole,1,0,null,16)(4,Lle,1,0,null,16)(5,Ble,1,0,null,16),R()}if(n&2){let t=y();_("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-bottom"))("locale",t.paginatorLocale),v(),_("ngIf",t.paginatorDropdownIconTemplate),v(),_("ngIf",t.paginatorFirstPageLinkIconTemplate),v(),_("ngIf",t.paginatorPreviousPageLinkIconTemplate),v(),_("ngIf",t.paginatorLastPageLinkIconTemplate),v(),_("ngIf",t.paginatorNextPageLinkIconTemplate)}}function jle(n,e){n&1&&_e(0)}function zle(n,e){if(n&1&&(S(0,"div",47),D(1,jle,1,0,"ng-container",27),R()),n&2){let t=y();v(),_("ngTemplateOutlet",t.summaryTemplate)}}function Hle(n,e){n&1&&W(0,"div",48,7),n&2&&_("ngStyle",ri(1,cx))}function $le(n,e){n&1&&W(0,"ArrowDownIcon")}function Gle(n,e){}function Wle(n,e){n&1&&D(0,Gle,0,0,"ng-template")}function qle(n,e){if(n&1&&(S(0,"span",49,8),D(2,$le,1,0,"ArrowDownIcon",16)(3,Wle,1,0,null,27),R()),n&2){let t=y();_("ngStyle",ri(3,cx)),v(2),_("ngIf",!t.reorderIndicatorUpIconTemplate),v(),_("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function Kle(n,e){n&1&&W(0,"ArrowUpIcon")}function Yle(n,e){}function Qle(n,e){n&1&&D(0,Yle,0,0,"ng-template")}function Zle(n,e){if(n&1&&(S(0,"span",50,9),D(2,Kle,1,0,"ArrowUpIcon",16)(3,Qle,1,0,null,27),R()),n&2){let t=y();_("ngStyle",ri(3,cx)),v(2),_("ngIf",!t.reorderIndicatorDownIconTemplate),v(),_("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}var Xle=["pTableBody",""],ux=(n,e,t,i,r)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r}),Jle=(n,e,t,i,r,s,o)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r,rowgroup:s,rowspan:o}),Yy=(n,e,t,i,r,s)=>({$implicit:n,rowIndex:e,columns:t,expanded:i,editing:r,frozen:s}),_4=(n,e,t,i)=>({$implicit:n,rowIndex:e,columns:t,frozen:i}),y4=(n,e)=>({$implicit:n,frozen:e});function ece(n,e){n&1&&_e(0)}function tce(n,e){if(n&1&&(ce(0,3),D(1,ece,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",gd(2,ux,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function nce(n,e){n&1&&_e(0)}function ice(n,e){if(n&1&&(ce(0),D(1,nce,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",gd(2,ux,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function rce(n,e){n&1&&_e(0)}function sce(n,e){if(n&1&&(ce(0),D(1,rce,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",GF(2,Jle,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function oce(n,e){n&1&&_e(0)}function ace(n,e){if(n&1&&(ce(0,3),D(1,oce,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",gd(2,ux,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function lce(n,e){if(n&1&&D(0,tce,2,8,"ng-container",2)(1,ice,2,8,"ng-container",0)(2,sce,2,10,"ng-container",0)(3,ace,2,8,"ng-container",2),n&2){let t=e.$implicit,i=e.index,r=y(2);_("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,i)),v(),_("ngIf",r.dt.rowGroupMode!=="rowspan"),v(),_("ngIf",r.dt.rowGroupMode==="rowspan"),v(),_("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,i))}}function cce(n,e){if(n&1&&(ce(0),D(1,lce,4,4,"ng-template",1),ue()),n&2){let t=y();v(),_("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function uce(n,e){n&1&&_e(0)}function dce(n,e){if(n&1&&(ce(0),D(1,uce,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.template)("ngTemplateOutletContext",bc(2,Yy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function hce(n,e){n&1&&_e(0)}function fce(n,e){if(n&1&&(ce(0,3),D(1,hce,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",bc(2,Yy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function pce(n,e){n&1&&_e(0)}function mce(n,e){n&1&&_e(0)}function gce(n,e){if(n&1&&(ce(0,3),D(1,mce,1,0,"ng-container",4),ue()),n&2){let t=y(2),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",bc(2,Yy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function _ce(n,e){if(n&1&&(ce(0),D(1,pce,1,0,"ng-container",4)(2,gce,2,9,"ng-container",2),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",aC(3,_4,i,s.getRowIndex(r),s.columns,s.frozen)),v(),_("ngIf",s.dt.groupFooterTemplate&&s.dt.rowGroupMode==="subheader"&&s.shouldRenderRowGroupFooter(s.value,i,s.getRowIndex(r)))}}function yce(n,e){if(n&1&&D(0,dce,2,9,"ng-container",0)(1,fce,2,9,"ng-container",2)(2,_ce,3,8,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=y(2);_("ngIf",!r.dt.groupHeaderTemplate),v(),_("ngIf",r.dt.groupHeaderTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,r.getRowIndex(i))),v(),_("ngIf",r.dt.isRowExpanded(t))}}function vce(n,e){if(n&1&&(ce(0),D(1,yce,3,3,"ng-template",1),ue()),n&2){let t=y();v(),_("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function wce(n,e){n&1&&_e(0)}function Ice(n,e){n&1&&_e(0)}function bce(n,e){if(n&1&&(ce(0),D(1,Ice,1,0,"ng-container",4),ue()),n&2){let t=y(),i=t.$implicit,r=t.index,s=y(2);v(),_("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",aC(2,_4,i,s.getRowIndex(r),s.columns,s.frozen))}}function Cce(n,e){if(n&1&&D(0,wce,1,0,"ng-container",4)(1,bce,2,7,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=y(2);_("ngTemplateOutlet",r.template)("ngTemplateOutletContext",bc(3,Yy,t,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen)),v(),_("ngIf",r.dt.isRowExpanded(t))}}function Ece(n,e){if(n&1&&(ce(0),D(1,Cce,2,10,"ng-template",1),ue()),n&2){let t=y();v(),_("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Tce(n,e){n&1&&_e(0)}function xce(n,e){if(n&1&&(ce(0),D(1,Tce,1,0,"ng-container",4),ue()),n&2){let t=y();v(),_("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",tn(2,y4,t.columns,t.frozen))}}function Sce(n,e){n&1&&_e(0)}function Dce(n,e){if(n&1&&(ce(0),D(1,Sce,1,0,"ng-container",4),ue()),n&2){let t=y();v(),_("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",tn(2,y4,t.columns,t.frozen))}}var lx=(()=>{class n{sortSource=new sn;selectionSource=new sn;contextMenuSource=new sn;valueSource=new sn;totalRecordsSource=new sn;columnsSource=new sn;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),dx=(()=>{class n{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new X;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(t,i)=>i;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}selectAllChange=new X;selectionChange=new X;onRowSelect=new X;onRowUnselect=new X;onPage=new X;onSort=new X;onFilter=new X;onLazyLoad=new X;onRowExpand=new X;onRowCollapse=new X;onContextMenuSelect=new X;onColResize=new X;onColReorder=new X;onRowReorder=new X;onEditInit=new X;onEditComplete=new X;onEditCancel=new X;onHeaderCheckboxToggle=new X;sortFunction=new X;firstChange=new X;rowsChange=new X;onStateSave=new X;onStateRestore=new X;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=Lt();styleElement;responsiveStyleElement;window;constructor(t,i,r,s,o,a,l,c,u,h){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=u,this.config=h,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template;break}})}ngAfterViewInit(){nn(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&nn(this.platformId)&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this.isStateful()||(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(t){let i=t||this.processedData;if(i&&this.paginator){let r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(te.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(te.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let i=t.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===t.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(t.field);s?r?s.order=s.order*-1:(this._multiSortMeta=[{field:t.field,order:s.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):this.lazy||(this.value.sort((s,o)=>{let a=te.resolveFieldData(s,t),l=te.resolveFieldData(o,t),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,i*c}),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter());let r={field:t,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.lazy||(this.value.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0)),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,i,r,s){let o=te.resolveFieldData(t,r[s].field),a=te.resolveFieldData(i,r[s].field);return te.compare(o,a,this.filterLocale)===0?r.length-1>s?this.multisortField(t,i,r,s+1):0:this.compareValuesOnSort(o,a,r[s].order)}compareValuesOnSort(t,i,r){return te.sort(t,i,r,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i]}return null}isSorted(t){if(this.sortMode==="single")return this.sortField&&this.sortField===t;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==t){i=!0;break}}return i}}handleRowClick(t){let i=t.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if(!(r=="INPUT"||r=="BUTTON"||r=="A"||s=="INPUT"||s=="BUTTON"||s=="A"||L.hasClass(t.originalEvent.target,"p-clickable"))){if(this.selectionMode){let o=t.rowData,a=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&this.anchorRowIndex!=null)L.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=a,this.selectRange(t.originalEvent,a);else{let l=this.isSelected(o);if(!l&&!this.isRowSelectable(o,a))return;let c=this.rowTouched?!1:this.metaKeySelection,u=this.dataKey?String(te.resolveFieldData(o,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let h=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(l&&h){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let f=this.findIndexInSelection(o);this._selection=this.selection.filter((p,g)=>g!=f),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o,this.selectionChange.emit(o),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(h?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,o],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})):(this._selection=o,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if(this.selectionMode==="multiple")if(l){let h=this.findIndexInSelection(o);this._selection=this.selection.filter((f,p)=>p!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){let i=t.rowData,r=t.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),o=this.dataKey?String(te.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),o&&(this.selectionKeys={},this.selectionKeys[o]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),o&&(this.selectionKeys[o]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}selectRange(t,i,r){let s,o;this.anchorRowIndex>i?(s=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(s=this.anchorRowIndex,o=i):(s=i,o=i),this.lazy&&this.paginator&&(s-=this.first,o-=this.first);let a=[];for(let l=s;l<=o;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!r){if(!this.isRowSelectable(c,i))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(te.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:a,type:"row"})}clearSelectionRange(t){let i,r,s=this.rangeRowIndex,o=this.anchorRowIndex;s>o?(i=this.anchorRowIndex,r=this.rangeRowIndex):s<o?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let a=i;a<=r;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((h,f)=>f!=c);let u=this.dataKey?String(te.resolveFieldData(l,this.dataKey)):null;u&&delete this.selectionKeys[u],this.onRowUnselect.emit({originalEvent:t,data:l,type:"row"})}}isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys[te.resolveFieldData(t,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1}findIndexInSelection(t){let i=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(t,this.selection[r])){i=r;break}}return i}isRowSelectable(t,i){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:i}))}toggleRowWithRadio(t,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(te.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(te.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let o=this.findIndexInSelection(i);this._selection=this.selection.filter((a,l)=>l!=o),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,i){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:t,checked:i});else{let r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,s=this.selectionPageOnly&&this._selection?this._selection.filter(o=>!r.some(a=>this.equals(o,a))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((o,a)=>this.rowSelectable({data:o,index:a})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}}equals(t,i){return this.compareSelectionBy==="equals"?t===i:te.equals(t,i,this.dataKey)}filter(t,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,i){this.filter(t,"global",i)}isFilterBlank(t){return t!=null?!!(typeof t=="string"&&t.trim().length==0||Array.isArray(t)&&t.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let r=!0,s=!1,o=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){o=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let h of u)if(r=this.executeLocalFilter(c,this.value[i],h),h.operator===vE.OR&&r||h.operator===vE.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[i],u);if(!r)break}if(this.filters.global&&!s&&t)for(let l=0;l<t.length;l++){let c=t[l].field||t[l];if(s=this.filterService.filters[this.filters.global.matchMode](te.resolveFieldData(this.value[i],c),this.filters.global.value,this.filterLocale),s)break}let a;this.filters.global?a=o?o&&r&&s:s:a=o&&r,a&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,i,r){let s=r.value,o=r.matchMode||_i.STARTS_WITH,a=te.resolveFieldData(i,t),l=this.filterService.filters[o];return l(a,s,this.filterLocale)}hasFilter(){let t=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,t]of Object.entries(this.filters))if(Array.isArray(t))for(let i of t)i.value=null;else t&&(t.value=null)}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let i,r="",s=this.columns;t&&t.selectionOnly?i=this.selection||[]:t&&t.allValues?i=this.value||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));let o=s.filter(u=>u.exportable!==!1&&u.field);r+=o.map(u=>'"'+this.getExportHeader(u)+'"').join(this.csvSeparator);let a=i.map(u=>o.map(h=>{let f=te.resolveFieldData(u,h.field);return f!=null?this.exportFunction?f=this.exportFunction({data:f,field:h.field}):f=String(f).replace(/"/g,'""'):f="",'"'+f+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(r+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),r],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(t){this.onLazyLoad.emit(tt(se(se({},this.createLazyLoadMetadata()),t),{rows:t.last-t.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,i,r,s){this.editingCell=t,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&L.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(L.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(t){let i=String(te.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(t,i){if(L.find(i,".ng-invalid.ng-dirty").length===0){let r=String(te.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(t){let i=String(te.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}toggleRow(t,i){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let r=this.groupRowsBy?String(te.resolveFieldData(t,this.groupRowsBy)):String(te.resolveFieldData(t,this.dataKey));this.expandedRowKeys[r]!=null?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:t})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return this.groupRowsBy?this.expandedRowKeys[String(te.resolveFieldData(t,this.groupRowsBy))]===!0:this.expandedRowKeys[String(te.resolveFieldData(t,this.dataKey))]===!0}isRowEditing(t){return this.editingRowKeys[String(te.resolveFieldData(t,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(t){let i=L.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,t.type=="touchstart"?this.lastResizerHelperX=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let i=L.getOffset(this.containerViewChild?.nativeElement).left;L.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",t.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+t,s=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15;if(r>=s){if(this.columnResizeMode==="fit"){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&a>15&&this.resizeTableCells(r,a)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let o=this.tableViewChild?.nativeElement.offsetWidth+t;this.setResizeTableWidth(o+"px"),this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",L.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let t=[],i=L.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return L.find(i,"tr > th").forEach(s=>t.push(L.getOuterWidth(s))),t}onColumnDragStart(t,i){this.reorderIconWidth=L.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=L.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();let r=L.getOffset(this.containerViewChild?.nativeElement),s=L.getOffset(i);if(this.draggedColumn!=i){let o=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=L.indexWithinGroup(i,"preorderablecolumn"),l=s.left-r.left,c=r.top-s.top,u=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",t.pageX>u?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&t.preventDefault()}onColumnDrop(t,i){if(t.preventDefault(),this.draggedColumn){let r=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=L.indexWithinGroup(i,"preorderablecolumn"),o=r!=s;if(o&&(s-r==1&&this.dropPosition===-1||r-s==1&&this.dropPosition===1)&&(o=!1),o&&s<r&&this.dropPosition===1&&(s=s+1),o&&s>r&&this.dropPosition===-1&&(s=s-1),o&&(te.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();te.reorderArray(a,r+1,s+1),this.updateStyleElement(a,r,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(t,i){let r=L.index(this.resizeColumnElement),s=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(s,r,t,i)}updateStyleElement(t,i,r,s){this.destroyStyleElement(),this.createStyleElement();let o="";t.forEach((a,l)=>{let c=l===i?r:s&&l===i+1?s:a,u=`width: ${c}px !important; max-width: ${c}px !important;`;o+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${u}
                }
            `}),this.renderer.setProperty(this.styleElement,"textContent",o)}onRowDragStart(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}onRowDragOver(t,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=L.getOffset(r).top,o=t.pageY,a=s+L.getOuterHeight(r)/2,l=r.previousElementSibling;o<a?(L.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,l?L.addClass(l,"p-datatable-dragpoint-bottom"):L.addClass(r,"p-datatable-dragpoint-top")):(l?L.removeClass(l,"p-datatable-dragpoint-bottom"):L.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,L.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,i){let r=i.previousElementSibling;r&&L.removeClass(r,"p-datatable-dragpoint-bottom"),L.removeClass(i,"p-datatable-dragpoint-bottom"),L.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,i){if(this.droppedRowIndex!=null){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;te.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return t==null||t.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(nn(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let t=this.getStorage(),i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){let t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){let i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,s=function(o,a){return typeof a=="string"&&r.test(a)?new Date(a):a};if(i){let o=JSON.parse(i,s);this.paginator&&(this.first!==void 0&&(this.first=o.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=o.rows,this.rowsChange.emit(this.rows))),o.sortField&&(this.restoringSort=!0,this._sortField=o.sortField,this._sortOrder=o.sortOrder),o.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=o.multiSortMeta),o.filters&&(this.restoringFilter=!0,this.filters=o.filters),this.resizableColumns&&(this.columnWidthsState=o.columnWidths,this.tableWidthState=o.tableWidth),o.expandedRowKeys&&(this.expandedRowKeys=o.expandedRowKeys),o.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(o.selection)),this.stateRestored=!0,this.onStateRestore.emit(o)}}saveColumnWidths(t){let i=[];L.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(L.getOuterWidth(s))),t.columnWidths=i.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=L.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),te.isNotEmpty(t)){this.createStyleElement();let i="";t.forEach((r,s)=>{let o=`width: ${r}px !important; max-width: ${r}px !important`;i+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {
                            ${o}
                        }
                    `}),this.styleElement.textContent=i}}}saveColumnOrder(t){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),t.columnOrder=i}}restoreColumnOrder(){let i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let o=[];s.map(a=>{let l=this.findColumnByKey(a);l&&o.push(l)}),this.columnOrderStateRestored=!0,this.columns=o}}}findColumnByKey(t){if(this.columns){for(let i of this.columns)if(i.key===t||i.field===t)return i}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(nn(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let t=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"textContent",t)}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(t){return[this.paginatorStyleClass,t].filter(i=>!!i).join(" ").trim()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(Xt),G(rt),G(qe),G(lx),G(Ct),G(ty),G(al),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-table"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(Aae,5),Ge(Rae,5),Ge(Mae,5),Ge(kae,5),Ge(Oae,5),Ge(Pae,5),Ge(Fae,5),Ge(Lae,5),Ge(Nae,5)),i&2){let s;Te(s=xe())&&(r.containerViewChild=s.first),Te(s=xe())&&(r.resizeHelperViewChild=s.first),Te(s=xe())&&(r.reorderIndicatorUpViewChild=s.first),Te(s=xe())&&(r.reorderIndicatorDownViewChild=s.first),Te(s=xe())&&(r.wrapperViewChild=s.first),Te(s=xe())&&(r.tableViewChild=s.first),Te(s=xe())&&(r.tableHeaderViewChild=s.first),Te(s=xe())&&(r.tableFooterViewChild=s.first),Te(s=xe())&&(r.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[j.HasDecoratorInputTransform,"paginator","paginator",K],pageLinks:[j.HasDecoratorInputTransform,"pageLinks","pageLinks",Ve],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[j.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",K],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[j.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",K],showJumpToPageDropdown:[j.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[j.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",K],showFirstLastIcon:[j.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",K],showPageLinks:[j.HasDecoratorInputTransform,"showPageLinks","showPageLinks",K],defaultSortOrder:[j.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",Ve],sortMode:"sortMode",resetPageOnSort:[j.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",K],selectionMode:"selectionMode",selectionPageOnly:[j.HasDecoratorInputTransform,"selectionPageOnly","selectionPageOnly",K],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[j.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",K],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[j.HasDecoratorInputTransform,"lazy","lazy",K],lazyLoadOnInit:[j.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",K],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[j.HasDecoratorInputTransform,"filterDelay","filterDelay",Ve],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[j.HasDecoratorInputTransform,"scrollable","scrollable",K],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[j.HasDecoratorInputTransform,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[j.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Ve],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[j.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",Ve],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[j.HasDecoratorInputTransform,"resizableColumns","resizableColumns",K],columnResizeMode:"columnResizeMode",reorderableColumns:[j.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",K],loading:[j.HasDecoratorInputTransform,"loading","loading",K],loadingIcon:"loadingIcon",showLoader:[j.HasDecoratorInputTransform,"showLoader","showLoader",K],rowHover:[j.HasDecoratorInputTransform,"rowHover","rowHover",K],customSort:[j.HasDecoratorInputTransform,"customSort","customSort",K],showInitialSortBadge:[j.HasDecoratorInputTransform,"showInitialSortBadge","showInitialSortBadge",K],autoLayout:[j.HasDecoratorInputTransform,"autoLayout","autoLayout",K],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[j.HasDecoratorInputTransform,"groupRowsByOrder","groupRowsByOrder",Ve],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[_n([lx]),xt,un],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(i,r){i&1&&(S(0,"div",10,0),D(2,Kae,3,2,"div",11)(3,Qae,2,1,"div",12)(4,hle,6,24,"p-paginator",13),S(5,"div",14,1),D(7,mle,3,17,"p-scroller",15)(8,_le,2,7,"ng-container",16)(9,Ele,10,26,"ng-template",null,2,dn),R(),D(11,Ule,6,24,"p-paginator",13)(12,zle,2,1,"div",17)(13,Hle,2,2,"div",18)(14,qle,4,4,"span",19)(15,Zle,4,4,"span",20),R()),i&2&&(oe(r.styleClass),_("ngStyle",r.style)("ngClass",si(16,Vae,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&r.scrollHeight==="flex")),H("id",r.id),v(2),_("ngIf",r.loading&&r.showLoader),v(),_("ngIf",r.captionTemplate),v(),_("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),v(),_("ngStyle",Re(20,Bae,r.virtualScroll?"":r.scrollHeight)),v(2),_("ngIf",r.virtualScroll),v(),_("ngIf",!r.virtualScroll),v(3),_("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),v(),_("ngIf",r.summaryTemplate),v(),_("ngIf",r.resizableColumns),v(),_("ngIf",r.reorderableColumns),v(),_("ngIf",r.reorderableColumns))},dependencies:()=>[zt,Pt,Kt,Ht,d4,St,Wy,ex,tx,hl,Ace],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return n})(),Ace=(()=>{class n{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(t,i,r,s){this.dt=t,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-(1+this.dt._first)];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowGroupFooter(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r+(1+this.dt._first)];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowspan(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-1];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}calculateRowGroupSize(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=s,a=0;for(;s===o;){a++;let l=t[++r];if(l)o=te.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=L.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=L.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,i){return this.dt.virtualScroll?(i=i||this.scrollerOptions,i?i[t]:null):null}getRowIndex(t){let i=this.dt.paginator?this.dt.first+t:t,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}static \u0275fac=function(i){return new(i||n)(G(dx),G(lx),G(Ct),G(rt))};static \u0275cmp=ne({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[j.None,"pTableBody","columns"],template:[j.None,"pTableBodyTemplate","template"],value:"value",frozen:[j.HasDecoratorInputTransform,"frozen","frozen",K],frozenRows:[j.HasDecoratorInputTransform,"frozenRows","frozenRows",K],scrollerOptions:"scrollerOptions"},features:[xt],attrs:Xle,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&D(0,cce,2,2,"ng-container",0)(1,vce,2,2,"ng-container",0)(2,Ece,2,2,"ng-container",0)(3,xce,2,5,"ng-container",0)(4,Dce,2,5,"ng-container",0),i&2&&(_("ngIf",!r.dt.expandedRowTemplate),v(),_("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),v(),_("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),v(),_("ngIf",r.dt.loading),v(),_("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[Bi,Pt,Kt],encapsulation:2})}return n})();var v4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,h4,es,$c,Mc,Es,f4,t4,Wp,p4,qd,ex,tx,hl,s4,a4,o4,Cl,n4,i4,r4,l4,ft,qd]})}return n})();var Mce=["input"];function kce(n,e){if(n&1){let t=fe();S(0,"TimesIcon",5),J("click",function(){B(t);let r=y(2);return U(r.clear())}),R()}n&2&&(_("styleClass","p-inputmask-clear-icon"),H("data-pc-section","clearIcon"))}function Oce(n,e){}function Pce(n,e){n&1&&D(0,Oce,0,0,"ng-template")}function Fce(n,e){if(n&1){let t=fe();S(0,"span",6),J("click",function(){B(t);let r=y(2);return U(r.clear())}),D(1,Pce,1,0,null,7),R()}if(n&2){let t=y(2);H("data-pc-section","clearIcon"),v(),_("ngTemplateOutlet",t.clearIconTemplate)}}function Lce(n,e){if(n&1&&(ce(0),D(1,kce,1,2,"TimesIcon",3)(2,Fce,2,2,"span",4),ue()),n&2){let t=y();v(),_("ngIf",!t.clearIconTemplate),v(),_("ngIf",t.clearIconTemplate)}}var Nce={provide:oi,useExisting:In(()=>hx),multi:!0},hx=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new X;onFocus=new X;onBlur=new X;onInput=new X;onKeydown=new X;onClear=new X;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.el=r,this.cd=s,this.config=o}ngOnInit(){if(nn(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let i=0;i<t.length;i++){let r=t[i];r=="?"?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<t.length;i++){let r=t[i];r!="?"&&(this.defs[r]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(r))}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,i){let r,s,o;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof t=="number")s=t,o=typeof i=="number"?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,o):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",s),r.select());else return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(r=this.document.createRange(),s=0-r.duplicate().moveStart("character",-1e5),o=s+r.text.length),{begin:s,end:o}}isCompleted(){let t;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,i){let r,s;if(!(t<0)){for(r=t,s=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(s<this.len&&this.tests[r].test(this.buffer[s]))this.buffer[r]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s);else break;s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let i,r,s,o;for(i=t,r=this.getPlaceholder(t);i<this.len;i++)if(this.tests[i])if(s=this.seekNext(i),o=this.buffer[i],this.buffer[i]=r,s<this.len&&this.tests[s].test(o))r=o;else break}handleAndroidInput(t){var i=this.inputViewChild?.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(r.begin===0)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let i=this.document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(i)}}onInputKeydown(t){if(this.readonly)return;let i=t.which||t.keyCode,r,s,o,a;nn(this.platformId)&&(a=/iphone/i.test(L.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),i===8||i===46||a&&i===127?(r=this.caret(),s=r.begin,o=r.end,o-s===0&&(s=i!==46?this.seekPrev(s):o=this.seekNext(s-1),o=i===46?this.seekNext(o):o),this.clearBuffer(s,o),this.keepBuffer?this.shiftL(s,o-2):this.shiftL(s,o-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):i===13?(this.onInputBlur(t),this.updateModel(t)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var i=t.which||t.keyCode,r=this.caret(),s,o,a,l;t.ctrlKey||t.altKey||t.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(r.end-r.begin!==0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),s=this.seekNext(r.begin-1),s<this.len&&(o=String.fromCharCode(i),this.tests[s].test(o)&&(this.shiftR(s),this.buffer[s]=o,this.writeBuffer(),a=this.seekNext(s),L.isClient()&&/android/i.test(L.getUserAgent())?setTimeout(()=>{this.caret(a)},0):this.caret(a),r.begin<=this.lastRequiredNonMaskPos&&(l=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),l&&this.onComplete.emit())}}clearBuffer(t,i){if(!this.keepBuffer){let r;for(r=t;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let i=this.inputViewChild?.nativeElement.value,r=-1,s,o,a;for(s=0,a=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);a++<i.length;)if(o=i.charAt(a-1),this.tests[s].test(o)){this.keepBuffer||(this.buffer[s]=o),r=s;break}if(a>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(a)&&a++,s<this.partialPosition&&(r=s);return t?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,r+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=this.inputViewChild?.nativeElement.value,i=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask?.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&t.push(r)}return t.join("")}updateModel(t){let i=this.unmask?this.getUnmaskedValue():t.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(rt),G(Ct),G(fn))};static \u0275cmp=ne({type:n,selectors:[["p-inputMask"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ge(Mce,7),i&2){let s;Te(s=xe())&&(r.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,r){i&2&&Yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputmask-clearable",r.showClear&&!r.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[j.HasDecoratorInputTransform,"autoClear","autoClear",K],showClear:[j.HasDecoratorInputTransform,"showClear","showClear",K],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[j.HasDecoratorInputTransform,"size","size",Ve],maxlength:[j.HasDecoratorInputTransform,"maxlength","maxlength",Ve],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[j.HasDecoratorInputTransform,"ariaRequired","ariaRequired",K],disabled:[j.HasDecoratorInputTransform,"disabled","disabled",K],readonly:[j.HasDecoratorInputTransform,"readonly","readonly",K],unmask:[j.HasDecoratorInputTransform,"unmask","unmask",K],name:"name",required:[j.HasDecoratorInputTransform,"required","required",K],characterPattern:"characterPattern",autofocus:[j.HasDecoratorInputTransform,"autofocus","autofocus",K],autoFocus:[j.HasDecoratorInputTransform,"autoFocus","autoFocus",K],autocomplete:"autocomplete",keepBuffer:[j.HasDecoratorInputTransform,"keepBuffer","keepBuffer",K],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[_n([Nce]),xt],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1){let s=fe();S(0,"input",1,0),J("focus",function(a){return B(s),U(r.onInputFocus(a))})("blur",function(a){return B(s),U(r.onInputBlur(a))})("keydown",function(a){return B(s),U(r.onInputKeydown(a))})("keypress",function(a){return B(s),U(r.onKeyPress(a))})("input",function(a){return B(s),U(r.onInputChange(a))})("paste",function(a){return B(s),U(r.handleInputChange(a))}),R(),D(2,Lce,3,2,"ng-container",2)}i&2&&(oe(r.styleClass),_("ngClass",r.inputClass)("ngStyle",r.style)("disabled",r.disabled)("readonly",r.readonly)("variant",r.variant)("autofocus",r.autofocus),H("id",r.inputId)("type",r.type)("name",r.name)("placeholder",r.placeholder)("title",r.title)("size",r.size)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-required",r.ariaRequired)("required",r.required)("data-pc-name","inputmask")("data-pc-section","root"),v(2),_("ngIf",r.value!=null&&r.filled&&r.showClear&&!r.disabled))},dependencies:()=>[zt,Pt,Kt,Ht,ul,Hi,yi],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),w4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,es,mr,yi,ft]})}return n})();var I4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b4={};var El,fx;(function(){var n;function e(A,C){function T(){}T.prototype=C.prototype,A.D=C.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(P,N,V){for(var k=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)k[Ce-2]=arguments[Ce];return C.prototype[N].apply(P,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,C,T){T||(T=0);var P=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)P[N]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(N=0;16>N;++N)P[N]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=A.g[0],T=A.g[1],N=A.g[2];var V=A.g[3],k=C+(V^T&(N^V))+P[0]+3614090360&4294967295;C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+P[1]+3905402710&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+P[2]+606105819&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+P[3]+3250441966&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+P[4]+4118548399&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+P[5]+1200080426&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+P[6]+2821735955&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+P[7]+4249261313&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+P[8]+1770035416&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+P[9]+2336552879&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+P[10]+4294925233&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+P[11]+2304563134&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(V^T&(N^V))+P[12]+1804603682&4294967295,C=T+(k<<7&4294967295|k>>>25),k=V+(N^C&(T^N))+P[13]+4254626195&4294967295,V=C+(k<<12&4294967295|k>>>20),k=N+(T^V&(C^T))+P[14]+2792965006&4294967295,N=V+(k<<17&4294967295|k>>>15),k=T+(C^N&(V^C))+P[15]+1236535329&4294967295,T=N+(k<<22&4294967295|k>>>10),k=C+(N^V&(T^N))+P[1]+4129170786&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+P[6]+3225465664&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+P[11]+643717713&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+P[0]+3921069994&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+P[5]+3593408605&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+P[10]+38016083&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+P[15]+3634488961&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+P[4]+3889429448&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+P[9]+568446438&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+P[14]+3275163606&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+P[3]+4107603335&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+P[8]+1163531501&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(N^V&(T^N))+P[13]+2850285829&4294967295,C=T+(k<<5&4294967295|k>>>27),k=V+(T^N&(C^T))+P[2]+4243563512&4294967295,V=C+(k<<9&4294967295|k>>>23),k=N+(C^T&(V^C))+P[7]+1735328473&4294967295,N=V+(k<<14&4294967295|k>>>18),k=T+(V^C&(N^V))+P[12]+2368359562&4294967295,T=N+(k<<20&4294967295|k>>>12),k=C+(T^N^V)+P[5]+4294588738&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+P[8]+2272392833&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+P[11]+1839030562&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+P[14]+4259657740&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+P[1]+2763975236&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+P[4]+1272893353&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+P[7]+4139469664&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+P[10]+3200236656&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+P[13]+681279174&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+P[0]+3936430074&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+P[3]+3572445317&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+P[6]+76029189&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(T^N^V)+P[9]+3654602809&4294967295,C=T+(k<<4&4294967295|k>>>28),k=V+(C^T^N)+P[12]+3873151461&4294967295,V=C+(k<<11&4294967295|k>>>21),k=N+(V^C^T)+P[15]+530742520&4294967295,N=V+(k<<16&4294967295|k>>>16),k=T+(N^V^C)+P[2]+3299628645&4294967295,T=N+(k<<23&4294967295|k>>>9),k=C+(N^(T|~V))+P[0]+4096336452&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+P[7]+1126891415&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+P[14]+2878612391&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+P[5]+4237533241&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+P[12]+1700485571&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+P[3]+2399980690&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+P[10]+4293915773&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+P[1]+2240044497&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+P[8]+1873313359&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+P[15]+4264355552&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+P[6]+2734768916&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+P[13]+1309151649&4294967295,T=N+(k<<21&4294967295|k>>>11),k=C+(N^(T|~V))+P[4]+4149444226&4294967295,C=T+(k<<6&4294967295|k>>>26),k=V+(T^(C|~N))+P[11]+3174756917&4294967295,V=C+(k<<10&4294967295|k>>>22),k=N+(C^(V|~T))+P[2]+718787259&4294967295,N=V+(k<<15&4294967295|k>>>17),k=T+(V^(N|~C))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+V&4294967295}i.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var T=C-this.blockSize,P=this.B,N=this.h,V=0;V<C;){if(N==0)for(;V<=T;)r(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<C;)if(P[N++]=A.charCodeAt(V++),N==this.blockSize){r(this,P),N=0;break}}else for(;V<C;)if(P[N++]=A[V++],N==this.blockSize){r(this,P),N=0;break}}this.h=N,this.o+=C},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var T=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=T&255,T/=256;for(this.u(A),A=Array(16),C=T=0;4>C;++C)for(var P=0;32>P;P+=8)A[T++]=this.g[C]>>>P&255;return A};function s(A,C){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=C(A)}function o(A,C){this.h=C;for(var T=[],P=!0,N=A.length-1;0<=N;N--){var V=A[N]|0;P&&V==C||(T[N]=V,P=!1)}this.g=T}var a={};function l(A){return-128<=A&&128>A?s(A,function(C){return new o([C|0],0>C?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return b(c(-A));for(var C=[],T=1,P=0;A>=T;P++)C[P]=A/T|0,T*=4294967296;return new o(C,0)}function u(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return b(u(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(C,8)),P=h,N=0;N<A.length;N+=8){var V=Math.min(8,A.length-N),k=parseInt(A.substring(N,N+V),C);8>V?(V=c(Math.pow(C,V)),P=P.j(V).add(c(k))):(P=P.j(T),P=P.add(c(k)))}return P}var h=l(0),f=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(I(this))return-b(this).m();for(var A=0,C=1,T=0;T<this.g.length;T++){var P=this.i(T);A+=(0<=P?P:4294967296+P)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(I(this))return"-"+b(this).toString(A);for(var C=c(Math.pow(A,6)),T=this,P="";;){var N=F(T,C).g;T=E(T,N.j(C));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=N,g(T))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function I(A){return A.h==-1}n.l=function(A){return A=E(this,A),I(A)?-1:g(A)?0:1};function b(A){for(var C=A.g.length,T=[],P=0;P<C;P++)T[P]=~A.g[P];return new o(T,~A.h).add(f)}n.abs=function(){return I(this)?b(this):this},n.add=function(A){for(var C=Math.max(this.g.length,A.g.length),T=[],P=0,N=0;N<=C;N++){var V=P+(this.i(N)&65535)+(A.i(N)&65535),k=(V>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);P=k>>>16,V&=65535,k&=65535,T[N]=k<<16|V}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(A,C){return A.add(b(C))}n.j=function(A){if(g(this)||g(A))return h;if(I(this))return I(A)?b(this).j(b(A)):b(b(this).j(A));if(I(A))return b(this.j(b(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var C=this.g.length+A.g.length,T=[],P=0;P<2*C;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<A.g.length;N++){var V=this.i(P)>>>16,k=this.i(P)&65535,Ce=A.i(N)>>>16,be=A.i(N)&65535;T[2*P+2*N]+=k*be,M(T,2*P+2*N),T[2*P+2*N+1]+=V*be,M(T,2*P+2*N+1),T[2*P+2*N+1]+=k*Ce,M(T,2*P+2*N+1),T[2*P+2*N+2]+=V*Ce,M(T,2*P+2*N+2)}for(P=0;P<C;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=C;P<2*C;P++)T[P]=0;return new o(T,0)};function M(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function O(A,C){this.g=A,this.h=C}function F(A,C){if(g(C))throw Error("division by zero");if(g(A))return new O(h,h);if(I(A))return C=F(b(A),C),new O(b(C.g),b(C.h));if(I(C))return C=F(A,b(C)),new O(b(C.g),C.h);if(30<A.g.length){if(I(A)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var T=f,P=C;0>=P.l(A);)T=$(T),P=$(P);var N=Y(T,1),V=Y(P,1);for(P=Y(P,2),T=Y(T,2);!g(P);){var k=V.add(P);0>=k.l(A)&&(N=N.add(T),V=k),P=Y(P,1),T=Y(T,1)}return C=E(A,N.j(C)),new O(N,C)}for(N=h;0<=A.l(C);){for(T=Math.max(1,Math.floor(A.m()/C.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=c(T),k=V.j(C);I(k)||0<k.l(A);)T-=P,V=c(T),k=V.j(C);g(V)&&(V=f),N=N.add(V),A=E(A,k)}return new O(N,A)}n.A=function(A){return F(this,A).h},n.and=function(A){for(var C=Math.max(this.g.length,A.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)&A.i(P);return new o(T,this.h&A.h)},n.or=function(A){for(var C=Math.max(this.g.length,A.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)|A.i(P);return new o(T,this.h|A.h)},n.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)^A.i(P);return new o(T,this.h^A.h)};function $(A){for(var C=A.g.length+1,T=[],P=0;P<C;P++)T[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(T,A.h)}function Y(A,C){var T=C>>5;C%=32;for(var P=A.g.length-T,N=[],V=0;V<P;V++)N[V]=0<C?A.i(V+T)>>>C|A.i(V+T+1)<<32-C:A.i(V+T);return new o(N,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fx=b4.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,El=b4.Integer=o}).apply(typeof I4<"u"?I4:typeof self<"u"?self:typeof window<"u"?window:{});var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oa={};var px,mx,Zd,gx,qp,Zy,_x,yx,vx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,w){return d==Array.prototype||d==Object.prototype||(d[m]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qy=="object"&&Qy];for(var m=0;m<d.length;++m){var w=d[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(d,m){if(m)e:{var w=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var q=d[x];if(!(q in w))break e;w=w[q]}d=d[d.length-1],x=w[d],m=m(x),m!=x&&m!=null&&e(w,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var w=0,x=!1,q={next:function(){if(!x&&w<d.length){var Q=w++;return{value:m(Q,d[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(d){return d||function(){return s(this,function(m,w){return w})}});var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,w){return d.call.apply(d.bind,arguments)}function h(d,m,w){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),d.apply(m,q)}}return function(){return d.apply(m,arguments)}}function f(d,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,m){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function g(d,m){function w(){}w.prototype=m.prototype,d.aa=m.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(x,q,Q){for(var ge=Array(arguments.length-2),on=2;on<arguments.length;on++)ge[on-2]=arguments[on];return m.prototype[q].apply(x,ge)}}function I(d){let m=d.length;if(0<m){let w=Array(m);for(let x=0;x<m;x++)w[x]=d[x];return w}return[]}function b(d,m){for(let w=1;w<arguments.length;w++){let x=arguments[w];if(l(x)){let q=d.length||0,Q=x.length||0;d.length=q+Q;for(let ge=0;ge<Q;ge++)d[q+ge]=x[ge]}else d.push(x)}}class E{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(d){return/^[\s\xa0]*$/.test(d)}function O(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var $=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function Y(d,m,w){for(let x in d)m.call(w,d[x],x,d)}function A(d,m){for(let w in d)m.call(void 0,d[w],w,d)}function C(d){let m={};for(let w in d)m[w]=d[w];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,m){let w,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(w in x)d[w]=x[w];for(let Q=0;Q<T.length;Q++)w=T[Q],Object.prototype.hasOwnProperty.call(x,w)&&(d[w]=x[w])}}function N(d){var m=1;d=d.split(":");let w=[];for(;0<m&&d.length;)w.push(d.shift()),m--;return d.length&&w.push(d.join(":")),w}function V(d){a.setTimeout(()=>{throw d},0)}function k(){var d=De;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,w){let x=be.get();x.set(m,w),this.h?this.h.next=x:this.g=x,this.h=x}}var be=new E(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,De=new Ce,Ee=()=>{let d=a.Promise.resolve(void 0);ie=()=>{d.then(ze)}};var ze=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(w){V(w)}var m=be;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}le=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return d}();function wn(d,m){if(lt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if($){e:{try{F(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else w=="mouseover"?m=d.fromElement:w=="mouseout"&&(m=d.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Pn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&wn.aa.h.call(this)}}g(wn,lt);var Pn={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),$n=0;function yn(d,m,w,x,q){this.listener=d,this.proxy=null,this.src=m,this.type=w,this.capture=!!x,this.ha=q,this.key=++$n,this.da=this.fa=!1}function Cn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ti(d){this.src=d,this.g={},this.h=0}Ti.prototype.add=function(d,m,w,x,q){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ge=Ma(d,m,x,q);return-1<ge?(m=d[ge],w||(m.fa=!1)):(m=new yn(m,this.src,Q,!!x,q),m.fa=w,d.push(m)),m};function Do(d,m){var w=m.type;if(w in d.g){var x=d.g[w],q=Array.prototype.indexOf.call(x,m,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(x,q,1),Q&&(Cn(m),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Ma(d,m,w,x){for(var q=0;q<d.length;++q){var Q=d[q];if(!Q.da&&Q.listener==m&&Q.capture==!!w&&Q.ha==x)return q}return-1}var Yl="closure_lm_"+(1e6*Math.random()|0),Ao={};function Vs(d,m,w,x,q){if(x&&x.once)return Ro(d,m,w,x,q);if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Vs(d,m[Q],w,x,q);return null}return w=Ql(w),d&&d[gt]?d.K(m,w,c(x)?!!x.capture:!!x,q):Zi(d,m,w,!1,x,q)}function Zi(d,m,w,x,q,Q){if(!m)throw Error("Invalid event type");var ge=c(q)?!!q.capture:!!q,on=Us(d);if(on||(d[Yl]=on=new Ti(d)),w=on.add(m,w,x,ge,Q),w.proxy)return w;if(x=$r(),w.proxy=x,x.src=d,x.listener=w,d.addEventListener)re||(q=ge),q===void 0&&(q=!1),d.addEventListener(m.toString(),x,q);else if(d.attachEvent)d.attachEvent(Bs(m.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function $r(){function d(w){return m.call(d.src,d.listener,w)}let m=ka;return d}function Ro(d,m,w,x,q){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Ro(d,m[Q],w,x,q);return null}return w=Ql(w),d&&d[gt]?d.L(m,w,c(x)?!!x.capture:!!x,q):Zi(d,m,w,!0,x,q)}function Mo(d,m,w,x,q){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Mo(d,m[Q],w,x,q);else x=c(x)?!!x.capture:!!x,w=Ql(w),d&&d[gt]?(d=d.i,m=String(m).toString(),m in d.g&&(Q=d.g[m],w=Ma(Q,w,x,q),-1<w&&(Cn(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete d.g[m],d.h--)))):d&&(d=Us(d))&&(m=d.g[m.toString()],d=-1,m&&(d=Ma(m,w,x,q)),(w=-1<d?m[d]:null)&&ko(w))}function ko(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[gt])Do(m.i,d);else{var w=d.type,x=d.proxy;m.removeEventListener?m.removeEventListener(w,x,d.capture):m.detachEvent?m.detachEvent(Bs(w),x):m.addListener&&m.removeListener&&m.removeListener(x),(w=Us(m))?(Do(w,d),w.h==0&&(w.src=null,m[Yl]=null)):Cn(d)}}}function Bs(d){return d in Ao?Ao[d]:Ao[d]="on"+d}function ka(d,m){if(d.da)d=!0;else{m=new wn(m,this);var w=d.listener,x=d.ha||d.src;d.fa&&ko(d),d=w.call(x,m)}return d}function Us(d){return d=d[Yl],d instanceof Ti?d:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ql(d){return typeof d=="function"?d:(d[En]||(d[En]=function(m){return d.handleEvent(m)}),d[En])}function Gn(){$e.call(this),this.i=new Ti(this),this.M=this,this.F=null}g(Gn,$e),Gn.prototype[gt]=!0,Gn.prototype.removeEventListener=function(d,m,w,x){Mo(this,d,m,w,x)};function Wn(d,m){var w,x=d.F;if(x)for(w=[];x;x=x.F)w.push(x);if(d=d.M,x=m.type||m,typeof m=="string")m=new lt(m,d);else if(m instanceof lt)m.target=m.target||d;else{var q=m;m=new lt(x,d),P(m,q)}if(q=!0,w)for(var Q=w.length-1;0<=Q;Q--){var ge=m.g=w[Q];q=Oo(ge,x,!0,m)&&q}if(ge=m.g=d,q=Oo(ge,x,!0,m)&&q,q=Oo(ge,x,!1,m)&&q,w)for(Q=0;Q<w.length;Q++)ge=m.g=w[Q],q=Oo(ge,x,!1,m)&&q}Gn.prototype.N=function(){if(Gn.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var w=d.g[m],x=0;x<w.length;x++)Cn(w[x]);delete d.g[m],d.h--}}this.F=null},Gn.prototype.K=function(d,m,w,x){return this.i.add(String(d),m,!1,w,x)},Gn.prototype.L=function(d,m,w,x){return this.i.add(String(d),m,!0,w,x)};function Oo(d,m,w,x){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,Q=0;Q<m.length;++Q){var ge=m[Q];if(ge&&!ge.da&&ge.capture==w){var on=ge.listener,xi=ge.ha||ge.src;ge.fa&&Do(d.i,ge),q=on.call(xi,x)!==!1&&q}}return q&&!x.defaultPrevented}function rg(d,m,w){if(typeof d=="function")w&&(d=f(d,w));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function df(d){d.g=rg(()=>{d.g=null,d.i&&(d.i=!1,df(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class sg extends $e{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:df(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(d){$e.call(this),this.h=d,this.g={}}g(Po,$e);var og=[];function ag(d){Y(d.g,function(m,w){this.g.hasOwnProperty(w)&&ko(m)},d),d.g={}}Po.prototype.N=function(){Po.aa.N.call(this),ag(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eu=a.JSON.stringify,lg=a.JSON.parse,hf=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Tu(){}Tu.prototype.h=null;function xu(d){return d.h||(d.h=d.i())}function Oa(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fo(){lt.call(this,"d")}g(Fo,lt);function Su(){lt.call(this,"c")}g(Su,lt);var js={},Xi=null;function Gr(){return Xi=Xi||new Gn}js.La="serverreachability";function Ji(d){lt.call(this,js.La,d)}g(Ji,lt);function Pi(d){let m=Gr();Wn(m,new Ji(m))}js.STAT_EVENT="statevent";function er(d,m){lt.call(this,js.STAT_EVENT,d),this.stat=m}g(er,lt);function mn(d){let m=Gr();Wn(m,new er(m,d))}js.Ma="timingevent";function Wr(d,m){lt.call(this,js.Ma,d),this.size=m}g(Wr,lt);function rn(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function cs(d,m,w,x,q,Q){d.info(function(){if(d.g)if(Q)for(var ge="",on=Q.split("&"),xi=0;xi<on.length;xi++){var Ut=on[xi].split("=");if(1<Ut.length){var Fi=Ut[0];Ut=Ut[1];var Li=Fi.split("_");ge=2<=Li.length&&Li[1]=="type"?ge+(Fi+"="+Ut+"&"):ge+(Fi+"=redacted&")}}else ge=null;else ge=Q;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+m+`
`+w+`
`+ge})}function pI(d,m,w,x,q,Q,ge){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+m+`
`+w+`
`+Q+" "+ge})}function Du(d,m,w,x){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+TB(d,w)+(x?" "+x:"")})}function EB(d,m){d.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function TB(d,m){if(!d.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var x=w[d];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ge=1;ge<q.length;ge++)q[ge]=""}}}}return Eu(w)}catch{return m}}var cg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mI;function ug(){}g(ug,Tu),ug.prototype.g=function(){return new XMLHttpRequest},ug.prototype.i=function(){return{}},mI=new ug;function Pa(d,m,w,x){this.j=d,this.i=m,this.l=w,this.R=x||1,this.U=new Po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aM}function aM(){this.i=null,this.g="",this.h=!1}var lM={},gI={};function _I(d,m,w){d.L=1,d.v=pg(Lo(m)),d.m=w,d.P=!0,cM(d,null)}function cM(d,m){d.F=Date.now(),dg(d),d.A=Lo(d.v);var w=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),CM(w.i,"t",x),d.C=0,w=d.j.J,d.h=new aM,d.g=jM(d.j,w?m:null,!d.m),0<d.O&&(d.M=new sg(f(d.Y,d,d.g),d.O)),m=d.U,w=d.g,x=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(og[0]=q.toString()),q=og);for(var Q=0;Q<q.length;Q++){var ge=Vs(w,q[Q],x||m.handleEvent,!1,m.h||m);if(!ge)break;m.g[ge.key]=ge}m=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Pi(),cs(d.i,d.u,d.A,d.l,d.R,d.m)}Pa.prototype.ca=function(d){d=d.target;let m=this.M;m&&No(d)==3?m.j():this.Y(d)},Pa.prototype.Y=function(d){try{if(d==this.g)e:{let Li=No(this.g);var m=this.g.Ba();let Mu=this.g.Z();if(!(3>Li)&&(Li!=3||this.g&&(this.h.h||this.g.oa()||RM(this.g)))){this.J||Li!=4||m==7||(m==8||0>=Mu?Pi(3):Pi(2)),yI(this);var w=this.g.Z();this.X=w;t:if(uM(this)){var x=RM(this.g);d="";var q=x.length,Q=No(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zl(this),ff(this);var ge="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,d+=this.h.i.decode(x[m],{stream:!(Q&&m==q-1)});x.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,pI(this.i,this.u,this.A,this.l,this.R,Li,w),this.o){if(this.T&&!this.K){t:{if(this.g){var on,xi=this.g;if((on=xi.g?xi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(on)){var Ut=on;break t}}Ut=null}if(w=Ut)Du(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vI(this,w);else{this.o=!1,this.s=3,mn(12),Zl(this),ff(this);break e}}if(this.P){w=!0;let us;for(;!this.J&&this.C<ge.length;)if(us=xB(this,ge),us==gI){Li==4&&(this.s=4,mn(14),w=!1),Du(this.i,this.l,null,"[Incomplete Response]");break}else if(us==lM){this.s=4,mn(15),Du(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else Du(this.i,this.l,us,null),vI(this,us);if(uM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Li!=4||ge.length!=0||this.h.h||(this.s=1,mn(16),w=!1),this.o=this.o&&w,!w)Du(this.i,this.l,ge,"[Invalid Chunked Response]"),Zl(this),ff(this);else if(0<ge.length&&!this.W){this.W=!0;var Fi=this.j;Fi.g==this&&Fi.ba&&!Fi.M&&(Fi.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),TI(Fi),Fi.M=!0,mn(11))}}else Du(this.i,this.l,ge,null),vI(this,ge);Li==4&&Zl(this),this.o&&!this.J&&(Li==4?NM(this.j,this):(this.o=!1,dg(this)))}else HB(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Zl(this),ff(this)}}}catch{}finally{}};function uM(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function xB(d,m){var w=d.C,x=m.indexOf(`
`,w);return x==-1?gI:(w=Number(m.substring(w,x)),isNaN(w)?lM:(x+=1,x+w>m.length?gI:(m=m.slice(x,x+w),d.C=x+w,m)))}Pa.prototype.cancel=function(){this.J=!0,Zl(this)};function dg(d){d.S=Date.now()+d.I,dM(d,d.I)}function dM(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=rn(f(d.ba,d),m)}function yI(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Pa.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(EB(this.i,this.A),this.L!=2&&(Pi(),mn(17)),Zl(this),this.s=2,ff(this)):dM(this,this.S-d)};function ff(d){d.j.G==0||d.J||NM(d.j,d)}function Zl(d){yI(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,ag(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function vI(d,m){try{var w=d.j;if(w.G!=0&&(w.g==d||wI(w.h,d))){if(!d.K&&wI(w.h,d)&&w.G==3){try{var x=w.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)vg(w),_g(w);else break e;EI(w),mn(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=rn(f(w.Za,w),6e3));if(1>=pM(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Jl(w,11)}else if((d.K||w.g==d)&&vg(w),!M(m))for(q=w.Da.g.parse(m),m=0;m<q.length;m++){let Ut=q[m];if(w.T=Ut[0],Ut=Ut[1],w.G==2)if(Ut[0]=="c"){w.K=Ut[1],w.ia=Ut[2];let Fi=Ut[3];Fi!=null&&(w.la=Fi,w.j.info("VER="+w.la));let Li=Ut[4];Li!=null&&(w.Aa=Li,w.j.info("SVER="+w.Aa));let Mu=Ut[5];Mu!=null&&typeof Mu=="number"&&0<Mu&&(x=1.5*Mu,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;let us=d.g;if(us){let Ig=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ig){var Q=x.h;Q.g||Ig.indexOf("spdy")==-1&&Ig.indexOf("quic")==-1&&Ig.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(II(Q,Q.h),Q.h=null))}if(x.D){let xI=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;xI&&(x.ya=xI,gn(x.I,x.D,xI))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var ge=d;if(x.qa=UM(x,x.J?x.ia:null,x.W),ge.K){mM(x.h,ge);var on=ge,xi=x.L;xi&&(on.I=xi),on.B&&(yI(on),dg(on)),x.g=ge}else FM(x);0<w.i.length&&yg(w)}else Ut[0]!="stop"&&Ut[0]!="close"||Jl(w,7);else w.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Jl(w,7):CI(w):Ut[0]!="noop"&&w.l&&w.l.ta(Ut),w.v=0)}}Pi(4)}catch{}}var SB=class{constructor(d,m){this.g=d,this.map=m}};function hM(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fM(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pM(d){return d.h?1:d.g?d.g.size:0}function wI(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function II(d,m){d.g?d.g.add(m):d.h=m}function mM(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}hM.prototype.cancel=function(){if(this.i=gM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function gM(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let w of d.g.values())m=m.concat(w.D);return m}return I(d.i)}function DB(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],w=d.length,x=0;x<w;x++)m.push(d[x]);return m}m=[],w=0;for(x in d)m[w++]=d[x];return m}function AB(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var w=0;w<d;w++)m.push(w);return m}m=[],w=0;for(let x in d)m[w++]=x;return m}}}function _M(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var w=AB(d),x=DB(d),q=x.length,Q=0;Q<q;Q++)m.call(void 0,x[Q],w&&w[Q],d)}var yM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RB(d,m){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var x=d[w].indexOf("="),q=null;if(0<=x){var Q=d[w].substring(0,x);q=d[w].substring(x+1)}else Q=d[w];m(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Xl(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xl){this.h=d.h,hg(this,d.j),this.o=d.o,this.g=d.g,fg(this,d.s),this.l=d.l;var m=d.i,w=new gf;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),vM(this,w),this.m=d.m}else d&&(m=String(d).match(yM))?(this.h=!1,hg(this,m[1]||"",!0),this.o=pf(m[2]||""),this.g=pf(m[3]||"",!0),fg(this,m[4]),this.l=pf(m[5]||"",!0),vM(this,m[6]||"",!0),this.m=pf(m[7]||"")):(this.h=!1,this.i=new gf(null,this.h))}Xl.prototype.toString=function(){var d=[],m=this.j;m&&d.push(mf(m,wM,!0),":");var w=this.g;return(w||m=="file")&&(d.push("//"),(m=this.o)&&d.push(mf(m,wM,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(mf(w,w.charAt(0)=="/"?OB:kB,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",mf(w,FB)),d.join("")};function Lo(d){return new Xl(d)}function hg(d,m,w){d.j=w?pf(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function fg(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function vM(d,m,w){m instanceof gf?(d.i=m,LB(d.i,d.h)):(w||(m=mf(m,PB)),d.i=new gf(m,d.h))}function gn(d,m,w){d.i.set(m,w)}function pg(d){return gn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function pf(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function mf(d,m,w){return typeof d=="string"?(d=encodeURI(d).replace(m,MB),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function MB(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wM=/[#\/\?@]/g,kB=/[#\?:]/g,OB=/[#\?]/g,PB=/[#\?@]/g,FB=/#/g;function gf(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Fa(d){d.g||(d.g=new Map,d.h=0,d.i&&RB(d.i,function(m,w){d.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}n=gf.prototype,n.add=function(d,m){Fa(this),this.i=null,d=Au(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(m),this.h+=1,this};function IM(d,m){Fa(d),m=Au(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function bM(d,m){return Fa(d),m=Au(d,m),d.g.has(m)}n.forEach=function(d,m){Fa(this),this.g.forEach(function(w,x){w.forEach(function(q){d.call(m,q,x,this)},this)},this)},n.na=function(){Fa(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let x=0;x<m.length;x++){let q=d[x];for(let Q=0;Q<q.length;Q++)w.push(m[x])}return w},n.V=function(d){Fa(this);let m=[];if(typeof d=="string")bM(this,d)&&(m=m.concat(this.g.get(Au(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)m=m.concat(d[w])}return m},n.set=function(d,m){return Fa(this),this.i=null,d=Au(this,d),bM(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function CM(d,m,w){IM(d,m),0<w.length&&(d.i=null,d.g.set(Au(d,m),I(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var x=m[w];let Q=encodeURIComponent(String(x)),ge=this.V(x);for(x=0;x<ge.length;x++){var q=Q;ge[x]!==""&&(q+="="+encodeURIComponent(String(ge[x]))),d.push(q)}}return this.i=d.join("&")};function Au(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function LB(d,m){m&&!d.j&&(Fa(d),d.i=null,d.g.forEach(function(w,x){var q=x.toLowerCase();x!=q&&(IM(this,x),CM(this,q,w))},d)),d.j=m}function NB(d,m){let w=new Fn;if(a.Image){let x=new Image;x.onload=p(La,w,"TestLoadImage: loaded",!0,m,x),x.onerror=p(La,w,"TestLoadImage: error",!1,m,x),x.onabort=p(La,w,"TestLoadImage: abort",!1,m,x),x.ontimeout=p(La,w,"TestLoadImage: timeout",!1,m,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else m(!1)}function VB(d,m){let w=new Fn,x=new AbortController,q=setTimeout(()=>{x.abort(),La(w,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:x.signal}).then(Q=>{clearTimeout(q),Q.ok?La(w,"TestPingServer: ok",!0,m):La(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),La(w,"TestPingServer: error",!1,m)})}function La(d,m,w,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(w)}catch{}}function BB(){this.g=new hf}function UB(d,m,w){let x=w||"";try{_M(d,function(q,Q){let ge=q;c(q)&&(ge=Eu(q)),m.push(x+Q+"="+encodeURIComponent(ge))})}catch(q){throw m.push(x+"type="+encodeURIComponent("_badmap")),q}}function _f(d){this.l=d.Ub||null,this.j=d.eb||!1}g(_f,Tu),_f.prototype.g=function(){return new mg(this.l,this.j)},_f.prototype.i=function(d){return function(){return d}}({});function mg(d,m){Gn.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(mg,Gn),n=mg.prototype,n.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,vf(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yf(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;EM(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function EM(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?yf(this):vf(this),this.readyState==3&&EM(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yf(this))},n.Qa=function(d){this.g&&(this.response=d,yf(this))},n.ga=function(){this.g&&yf(this)};function yf(d){d.readyState=4,d.l=null,d.j=null,d.v=null,vf(d)}n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=m.next();return d.join(`\r
`)};function vf(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function TM(d){let m="";return Y(d,function(w,x){m+=x,m+=":",m+=w,m+=`\r
`}),m}function bI(d,m,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=TM(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):gn(d,m,w))}function Tn(d){Gn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Tn,Gn);var jB=/^https?$/i,zB=["POST","PUT"];n=Tn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,m,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mI.g(),this.v=this.o?xu(this.o):xu(mI),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(Q){xM(this,Q);return}if(d=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)w.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(let Q of x.keys())w.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zB,m,void 0))||x||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Q,ge]of w)this.g.setRequestHeader(Q,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AM(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){xM(this,Q)}};function xM(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,SM(d),gg(d)}function SM(d){d.A||(d.A=!0,Wn(d,"complete"),Wn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Wn(this,"complete"),Wn(this,"abort"),gg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gg(this,!0)),Tn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?DM(this):this.bb())},n.bb=function(){DM(this)};function DM(d){if(d.h&&typeof o<"u"&&(!d.v[1]||No(d)!=4||d.Z()!=2)){if(d.u&&No(d)==4)rg(d.Ea,0,d);else if(Wn(d,"readystatechange"),No(d)==4){d.h=!1;try{let ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var x;if(x=ge===0){var q=String(d.D).match(yM)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),x=!jB.test(q?q.toLowerCase():"")}w=x}if(w)Wn(d,"complete"),Wn(d,"success");else{d.m=6;try{var Q=2<No(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",SM(d)}}finally{gg(d)}}}}function gg(d,m){if(d.g){AM(d);let w=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Wn(d,"ready");try{w.onreadystatechange=x}catch{}}}function AM(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function No(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<No(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),lg(m)}};function RM(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function HB(d){let m={};d=(d.g&&2<=No(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(M(d[x]))continue;var w=N(d[x]);let q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();let Q=m[q]||[];m[q]=Q,Q.push(w)}A(m,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wf(d,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||m}function MM(d){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wf("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wf("baseRetryDelayMs",5e3,d),this.cb=wf("retryDelaySeedMs",1e4,d),this.Wa=wf("forwardChannelMaxRetries",2,d),this.wa=wf("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new hM(d&&d.concurrentRequestLimit),this.Da=new BB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=MM.prototype,n.la=8,n.G=1,n.connect=function(d,m,w,x){mn(0),this.W=d,this.H=m||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=UM(this,null,this.W),yg(this)};function CI(d){if(kM(d),d.G==3){var m=d.U++,w=Lo(d.I);if(gn(w,"SID",d.K),gn(w,"RID",m),gn(w,"TYPE","terminate"),If(d,w),m=new Pa(d,d.j,m),m.L=2,m.v=pg(Lo(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=jM(m.j,null),m.g.ea(m.v)),m.F=Date.now(),dg(m)}BM(d)}function _g(d){d.g&&(TI(d),d.g.cancel(),d.g=null)}function kM(d){_g(d),d.u&&(a.clearTimeout(d.u),d.u=null),vg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function yg(d){if(!fM(d.h)&&!d.s){d.s=!0;var m=d.Ga;ie||Ee(),le||(ie(),le=!0),De.add(m,d),d.B=0}}function $B(d,m){return pM(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=rn(f(d.Ga,d,m),VM(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let q=new Pa(this,this.j,d),Q=this.o;if(this.S&&(Q?(Q=C(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=PM(this,q,m),w=Lo(this.I),gn(w,"RID",d),gn(w,"CVER",22),this.D&&gn(w,"X-HTTP-Session-Id",this.D),If(this,w),Q&&(this.O?m="headers="+encodeURIComponent(String(TM(Q)))+"&"+m:this.m&&bI(w,this.m,Q)),II(this.h,q),this.Ua&&gn(w,"TYPE","init"),this.P?(gn(w,"$req",m),gn(w,"SID","null"),q.T=!0,_I(q,w,null)):_I(q,w,m),this.G=2}}else this.G==3&&(d?OM(this,d):this.i.length==0||fM(this.h)||OM(this))};function OM(d,m){var w;m?w=m.l:w=d.U++;let x=Lo(d.I);gn(x,"SID",d.K),gn(x,"RID",w),gn(x,"AID",d.T),If(d,x),d.m&&d.o&&bI(x,d.m,d.o),w=new Pa(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),m&&(d.i=m.D.concat(d.i)),m=PM(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),II(d.h,w),_I(w,x,m)}function If(d,m){d.H&&Y(d.H,function(w,x){gn(m,x,w)}),d.l&&_M({},function(w,x){gn(m,x,w)})}function PM(d,m,w){w=Math.min(d.i.length,w);var x=d.l?f(d.l.Na,d.l,d):null;e:{var q=d.i;let Q=-1;for(;;){let ge=["count="+w];Q==-1?0<w?(Q=q[0].g,ge.push("ofs="+Q)):Q=0:ge.push("ofs="+Q);let on=!0;for(let xi=0;xi<w;xi++){let Ut=q[xi].g,Fi=q[xi].map;if(Ut-=Q,0>Ut)Q=Math.max(0,q[xi].g-100),on=!1;else try{UB(Fi,ge,"req"+Ut+"_")}catch{x&&x(Fi)}}if(on){x=ge.join("&");break e}}}return d=d.i.splice(0,w),m.D=d,x}function FM(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;ie||Ee(),le||(ie(),le=!0),De.add(m,d),d.v=0}}function EI(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=rn(f(d.Fa,d),VM(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,LM(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=rn(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),_g(this),LM(this))};function TI(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function LM(d){d.g=new Pa(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Lo(d.qa);gn(m,"RID","rpc"),gn(m,"SID",d.K),gn(m,"AID",d.T),gn(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&gn(m,"TO",d.ja),gn(m,"TYPE","xmlhttp"),If(d,m),d.m&&d.o&&bI(m,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=pg(Lo(m)),w.m=null,w.P=!0,cM(w,d)}n.Za=function(){this.C!=null&&(this.C=null,_g(this),EI(this),mn(19))};function vg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function NM(d,m){var w=null;if(d.g==m){vg(d),TI(d),d.g=null;var x=2}else if(wI(d.h,m))w=m.D,mM(d.h,m),x=1;else return;if(d.G!=0){if(m.o)if(x==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var q=d.B;x=Gr(),Wn(x,new Wr(x,w)),yg(d)}else FM(d);else if(q=m.s,q==3||q==0&&0<m.X||!(x==1&&$B(d,m)||x==2&&EI(d)))switch(w&&0<w.length&&(m=d.h,m.i=m.i.concat(w)),q){case 1:Jl(d,5);break;case 4:Jl(d,10);break;case 3:Jl(d,6);break;default:Jl(d,2)}}}function VM(d,m){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*m}function Jl(d,m){if(d.j.info("Error code "+m),m==2){var w=f(d.fb,d),x=d.Xa;let q=!x;x=new Xl(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hg(x,"https"),pg(x),q?NB(x.toString(),w):VB(x.toString(),w)}else mn(2);d.G=0,d.l&&d.l.sa(m),BM(d),kM(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function BM(d){if(d.G=0,d.ka=[],d.l){let m=gM(d.h);(m.length!=0||d.i.length!=0)&&(b(d.ka,m),b(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function UM(d,m,w){var x=w instanceof Xl?Lo(w):new Xl(w);if(x.g!="")m&&(x.g=m+"."+x.g),fg(x,x.s);else{var q=a.location;x=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var Q=new Xl(null);x&&hg(Q,x),m&&(Q.g=m),q&&fg(Q,q),w&&(Q.l=w),x=Q}return w=d.D,m=d.ya,w&&m&&gn(x,w,m),gn(x,"VER",d.la),If(d,x),x}function jM(d,m,w){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new Tn(new _f({eb:w})):new Tn(d.pa),m.Ha(d.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zM(){}n=zM.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wg(){}wg.prototype.g=function(d,m){return new Er(d,m)};function Er(d,m){Gn.call(this),this.g=new MM(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!M(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ru(this)}g(Er,Gn),Er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){CI(this.g)},Er.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Eu(d),d=w);m.i.push(new SB(m.Ya++,d)),m.G==3&&yg(m)},Er.prototype.N=function(){this.g.l=null,delete this.j,CI(this.g),delete this.g,Er.aa.N.call(this)};function HM(d){Fo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let w in m){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(HM,Fo);function $M(){Su.call(this),this.status=1}g($M,Su);function Ru(d){this.g=d}g(Ru,zM),Ru.prototype.ua=function(){Wn(this.g,"a")},Ru.prototype.ta=function(d){Wn(this.g,new HM(d))},Ru.prototype.sa=function(d){Wn(this.g,new $M)},Ru.prototype.ra=function(){Wn(this.g,"b")},wg.prototype.createWebChannel=wg.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,vx=oa.createWebChannelTransport=function(){return new wg},yx=oa.getStatEventTarget=function(){return Gr()},_x=oa.Event=js,Zy=oa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,qp=oa.ErrorCode=cg,oM.COMPLETE="complete",gx=oa.EventType=oM,Oa.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Gn.prototype.listen=Gn.prototype.K,Zd=oa.WebChannel=Oa,mx=oa.FetchXmlHttpFactory=_f,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,px=oa.XhrIo=Tn}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var C4="@firebase/firestore";var vi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");var vh="10.12.5";var Yc=new pl("@firebase/firestore");function Kp(){return Yc.logLevel}function Oe(n,...e){if(Yc.logLevel<=Rt.DEBUG){let t=e.map(nD);Yc.debug(`Firestore (${vh}): ${n}`,...t)}}function la(n,...e){if(Yc.logLevel<=Rt.ERROR){let t=e.map(nD);Yc.error(`Firestore (${vh}): ${n}`,...t)}}function sh(n,...e){if(Yc.logLevel<=Rt.WARN){let t=e.map(nD);Yc.warn(`Firestore (${vh}): ${n}`,...t)}}function nD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Xe(n="Unexpected state"){let e=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: `+n;throw la(e),new Error(e)}function cn(n,e){n||Xe()}function ot(n,e){return n}var ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ue=class extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var aa=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var nv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ex=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}},Tx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},xx=class{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new aa,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>z(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new aa)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(cn(typeof i.accessToken=="string"),new nv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string"),new vi(e)}},Sx=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Dx=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Sx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ax=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn(typeof t.token=="string"),this.R=t.token,new Ax(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Bce(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var iv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Bce(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Yt(n,e){return n<e?-1:n>e?1:0}function oh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Ri=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pt=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ri(0,0))}static max(){return new n(new Ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rv=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&Xe(),i===void 0?i=e.length-t:i>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Rn=class n extends rv{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ue(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},Uce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lr=class n extends rv{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Uce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new Ue(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Ue(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Ue(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var We=class n{constructor(e){this.path=e}static fromPath(e){return new n(Rn.fromString(e))}static fromName(e){return new n(Rn.fromString(e).popFirst(5))}static empty(){return new n(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Rn(e.slice()))}};var Mx=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Mx.UNKNOWN_ID=-1;function jce(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(i===1e9?new Ri(t+1,0):new Ri(t,i));return new Qc(r,We.empty(),e)}function zce(n){return new Qc(n.readTime,n.key,-1)}var Qc=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(pt.min(),We.empty(),-1)}static max(){return new n(pt.max(),We.empty(),-1)}};function Hce(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=We.comparator(n.documentKey,e.documentKey),t!==0?t:Yt(n.largestBatchId,e.largestBatchId))}var $ce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function um(n){return z(this,null,function*(){if(n.code!==ae.FAILED_PRECONDITION||n.message!==$ce)throw n;Oe("LocalStore","Unexpectedly lost primary lease")})}var me=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function Gce(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dm(n){return n.name==="IndexedDbTransactionError"}var e5=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ov(n){return n==null}function em(n){return n===0&&1/n==-1/0}function Wce(n){return typeof n=="number"&&Number.isInteger(n)&&!em(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var qce=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bMe=[...qce,"documentOverlays"],Kce=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yce=Kce,Qce=[...Yce,"indexConfiguration","indexState","indexEntries"];var CMe=[...Qce,"globals"];function E4(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wh(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function t5(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Mn=class n{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}},th=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lo=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();let e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}};lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1;lo.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,i,r,s){return this}insert(e,t,i){return new lo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Wi=class n{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(e){return new sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ao=class n{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Wi(Lr.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var ov=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qi=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ov("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qi.EMPTY_BYTE_STRING=new qi("");var Zce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(cn(!!n),typeof n=="string"){let e=0,t=Zce.exec(n);if(cn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:An(n.seconds),nanos:An(n.nanos)}}function An(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xl(n){return typeof n=="string"?qi.fromBase64String(n):qi.fromUint8Array(n)}function iD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function rD(n){let e=n.mapValue.fields.__previous_value__;return iD(e)?rD(e):e}function tm(n){let e=ca(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(e.seconds,e.nanos)}var Ox=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},av=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Xy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iD(n)?4:n5(n)?9007199254740991:10:Xe()}function ho(n,e){if(n===e)return!0;let t=Zc(n);if(t!==Zc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tm(n).isEqual(tm(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ca(r.timestampValue),a=ca(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return xl(r.bytesValue).isEqual(xl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return An(r.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(r.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return An(r.integerValue)===An(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=An(r.doubleValue),a=An(s.doubleValue);return o===a?em(o)===em(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return oh(n.arrayValue.values||[],e.arrayValue.values||[],ho);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(E4(o)!==E4(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ho(o[l],a[l])))return!1;return!0}(n,e);default:return Xe()}}function nm(n,e){return(n.values||[]).find(t=>ho(t,e))!==void 0}function ah(n,e){if(n===e)return 0;let t=Zc(n),i=Zc(e);if(t!==i)return Yt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=An(s.integerValue||s.doubleValue),l=An(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return T4(n.timestampValue,e.timestampValue);case 4:return T4(tm(n),tm(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(s,o){let a=xl(s),l=xl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=Yt(a[c],l[c]);if(u!==0)return u}return Yt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Yt(An(s.latitude),An(o.latitude));return a!==0?a:Yt(An(s.longitude),An(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=ah(a[c],l[c]);if(u)return u}return Yt(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xy.mapValue&&o===Xy.mapValue)return 0;if(s===Xy.mapValue)return 1;if(o===Xy.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let f=Yt(l[h],u[h]);if(f!==0)return f;let p=ah(a[l[h]],c[u[h]]);if(p!==0)return p}return Yt(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function T4(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Yt(n,e);let t=ca(n),i=ca(e),r=Yt(t.seconds,i.seconds);return r!==0?r:Yt(t.nanos,i.nanos)}function lh(n){return Px(n)}function Px(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ca(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return We.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=Px(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Px(t.fields[o])}`;return r+"}"}(n.mapValue):Xe()}function Fx(n){return!!n&&"integerValue"in n}function sD(n){return!!n&&"arrayValue"in n}function x4(n){return!!n&&"nullValue"in n}function S4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ev(n){return!!n&&"mapValue"in n}function Qp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qp(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function n5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ts=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ev(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qp(t)}setAll(e){let t=Lr.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Qp(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());ev(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ev(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){wh(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Qp(this.value))}};function i5(n){let e=[];return wh(n.fields,(t,i)=>{let r=new Lr([t]);if(ev(i)){let s=i5(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new ao(e)}var xs=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pt.min(),pt.min(),pt.min(),Ts.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,pt.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,pt.min(),pt.min(),Ts.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pt.min(),pt.min(),Ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ch=class{constructor(e,t){this.position=e,this.inclusive=t}};function D4(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=We.comparator(We.fromName(o.referenceValue),t.key):i=ah(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function A4(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ho(n.position[t],e.position[t]))return!1;return!0}var uh=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Xce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var lv=class{},ci=class n extends lv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Nx(e,t,i):t==="array-contains"?new Ux(e,i):t==="in"?new jx(e,i):t==="not-in"?new zx(e,i):t==="array-contains-any"?new Hx(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Vx(e,i):new Bx(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ah(t,this.value)):t!==null&&Zc(this.value)===Zc(t)&&this.matchesComparison(ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fo=class n extends lv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return r5(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function r5(n){return n.op==="and"}function s5(n){return Jce(n)&&r5(n)}function Jce(n){for(let e of n.filters)if(e instanceof fo)return!1;return!0}function Lx(n){if(n instanceof ci)return n.field.canonicalString()+n.op.toString()+lh(n.value);if(s5(n))return n.filters.map(e=>Lx(e)).join(",");{let e=n.filters.map(t=>Lx(t)).join(",");return`${n.op}(${e})`}}function o5(n,e){return n instanceof ci?function(i,r){return r instanceof ci&&i.op===r.op&&i.field.isEqual(r.field)&&ho(i.value,r.value)}(n,e):n instanceof fo?function(i,r){return r instanceof fo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&o5(o,r.filters[a]),!0):!1}(n,e):void Xe()}function a5(n){return n instanceof ci?function(t){return`${t.field.canonicalString()} ${t.op} ${lh(t.value)}`}(n):n instanceof fo?function(t){return t.op.toString()+" {"+t.getFilters().map(a5).join(" ,")+"}"}(n):"Filter"}var Nx=class extends ci{constructor(e,t,i){super(e,t,i),this.key=We.fromName(i.referenceValue)}matches(e){let t=We.comparator(e.key,this.key);return this.matchesComparison(t)}},Vx=class extends ci{constructor(e,t){super(e,"in",t),this.keys=l5("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Bx=class extends ci{constructor(e,t){super(e,"not-in",t),this.keys=l5("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function l5(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>We.fromName(i.referenceValue))}var Ux=class extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sD(t)&&nm(t.arrayValue,this.value)}},jx=class extends ci{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&nm(this.value.arrayValue,t)}},zx=class extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!nm(this.value.arrayValue,t)}},Hx=class extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nm(this.value.arrayValue,i))}};var $x=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function R4(n,e=null,t=[],i=[],r=null,s=null,o=null){return new $x(n,e,t,i,r,s,o)}function oD(n){let e=ot(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Lx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ov(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>lh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>lh(i)).join(",")),e.ue=t}return e.ue}function aD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A4(n.startAt,e.startAt)&&A4(n.endAt,e.endAt)}function Gx(n){return We.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var dh=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function eue(n,e,t,i,r,s,o,a){return new dh(n,e,t,i,r,s,o,a)}function lD(n){return new dh(n)}function M4(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tue(n){return n.collectionGroup!==null}function Zp(n){let e=ot(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wi(Lr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new uh(s,i))}),t.has(Lr.keyField().canonicalString())||e.ce.push(new uh(Lr.keyField(),i))}return e.ce}function co(n){let e=ot(n);return e.le||(e.le=nue(e,Zp(n))),e.le}function nue(n,e){if(n.limitType==="F")return R4(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new uh(r.field,s)});let t=n.endAt?new ch(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ch(n.startAt.position,n.startAt.inclusive):null;return R4(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wx(n,e,t){return new dh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pv(n,e){return aD(co(n),co(e))&&n.limitType===e.limitType}function c5(n){return`${oD(co(n))}|lt:${n.limitType}`}function Xd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>a5(r)).join(", ")}]`),Ov(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>lh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>lh(r)).join(",")),`Target(${i})`}(co(n))}; limitType=${n.limitType})`}function Fv(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):We.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Zp(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=D4(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Zp(i),r)||i.endAt&&!function(o,a,l){let c=D4(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Zp(i),r))}(n,e)}function iue(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u5(n){return(e,t)=>{let i=!1;for(let r of Zp(n)){let s=rue(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function rue(n,e,t){let i=n.field.isKeyField()?We.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ah(l,c):Xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Xe()}}var Sl=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wh(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return t5(this.inner)}size(){return this.innerSize}};var sue=new Mn(We.comparator);function ua(){return sue}var d5=new Mn(We.comparator);function Yp(...n){let e=d5;for(let t of n)e=e.insert(t.key,t);return e}function h5(n){let e=d5;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Gc(){return Xp()}function f5(){return Xp()}function Xp(){return new Sl(n=>n.toString(),(n,e)=>n.isEqual(e))}var oue=new Mn(We.comparator),aue=new Wi(We.comparator);function Mt(...n){let e=aue;for(let t of n)e=e.add(t);return e}var lue=new Wi(Yt);function cue(){return lue}function p5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function m5(n){return{integerValue:""+n}}function uue(n,e){return Wce(e)?m5(e):p5(n,e)}var hh=class{constructor(){this._=void 0}};function due(n,e,t){return n instanceof fh?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&iD(s)&&(s=rD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Xc?_5(n,e):n instanceof Jc?y5(n,e):function(r,s){let o=g5(r,s),a=k4(o)+k4(r.Pe);return Fx(o)&&Fx(r.Pe)?m5(a):p5(r.serializer,a)}(n,e)}function hue(n,e,t){return n instanceof Xc?_5(n,e):n instanceof Jc?y5(n,e):t}function g5(n,e){return n instanceof ph?function(i){return Fx(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var fh=class extends hh{},Xc=class extends hh{constructor(e){super(),this.elements=e}};function _5(n,e){let t=v5(e);for(let i of n.elements)t.some(r=>ho(r,i))||t.push(i);return{arrayValue:{values:t}}}var Jc=class extends hh{constructor(e){super(),this.elements=e}};function y5(n,e){let t=v5(e);for(let i of n.elements)t=t.filter(r=>!ho(r,i));return{arrayValue:{values:t}}}var ph=class extends hh{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function k4(n){return An(n.integerValue||n.doubleValue)}function v5(n){return sD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fue(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Xc&&r instanceof Xc||i instanceof Jc&&r instanceof Jc?oh(i.elements,r.elements,ho):i instanceof ph&&r instanceof ph?ho(i.Pe,r.Pe):i instanceof fh&&r instanceof fh}(n.transform,e.transform)}var qx=class{constructor(e,t){this.version=e,this.transformResults=t}},Kc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var mh=class{};function w5(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cv(n.key,Kc.none()):new eu(n.key,n.data,Kc.none());{let t=n.data,i=Ts.empty(),r=new Wi(Lr.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new da(n.key,i,new ao(r.toArray()),Kc.none())}}function pue(n,e,t){n instanceof eu?function(r,s,o){let a=r.value.clone(),l=P4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof da?function(r,s,o){if(!tv(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=P4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(I5(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Jp(n,e,t,i){return n instanceof eu?function(s,o,a,l){if(!tv(s.precondition,o))return a;let c=s.value.clone(),u=F4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof da?function(s,o,a,l){if(!tv(s.precondition,o))return a;let c=F4(s.fieldTransforms,l,o),u=o.data;return u.setAll(I5(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return tv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function mue(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=g5(i.transform,r||null);s!=null&&(t===null&&(t=Ts.empty()),t.set(i.field,s))}return t||null}function O4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&oh(i,r,(s,o)=>fue(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var eu=class extends mh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},da=class extends mh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function I5(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function P4(n,e,t){let i=new Map;cn(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,hue(o,a,t[r]))}return i}function F4(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,due(s,o,e))}return i}var cv=class extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Kx=class extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yx=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&pue(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=f5();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=w5(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mt())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,(t,i)=>O4(t,i))&&oh(this.baseMutations,e.baseMutations,(t,i)=>O4(t,i))}},Qx=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){cn(e.mutations.length===i.length);let r=function(){return oue}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var Zx=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xx=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Zn,Nt;function gue(n){switch(n){default:return Xe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function b5(n){if(n===void 0)return la("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Zn.OK:return ae.OK;case Zn.CANCELLED:return ae.CANCELLED;case Zn.UNKNOWN:return ae.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return ae.INTERNAL;case Zn.UNAVAILABLE:return ae.UNAVAILABLE;case Zn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Zn.NOT_FOUND:return ae.NOT_FOUND;case Zn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Zn.ABORTED:return ae.ABORTED;case Zn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Zn.DATA_LOSS:return ae.DATA_LOSS;default:return Xe()}}(Nt=Zn||(Zn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";var L4=null;function _ue(){return new TextEncoder}var yue=new El([4294967295,4294967295],0);function N4(n){let e=_ue().encode(n),t=new fx;return t.update(e),new Uint8Array(t.digest())}function V4(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new El([t,i],0),new El([r,s],0)]}var Jx=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Wc(`Invalid padding: ${t}`);if(i<0)throw new Wc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=El.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(El.fromNumber(i)));return r.compare(yue)===1&&(r=new El([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=N4(e),[i,r]=V4(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=N4(e),[i,r]=V4(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Wc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uv=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(pt.min(),r,new Mn(Yt),ua(),Mt())}},im=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Mt(),Mt(),Mt())}};var nh=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},dv=class{constructor(e,t){this.targetId=e,this.me=t}},hv=class{constructor(e,t,i=qi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},fv=class{constructor(){this.fe=0,this.ge=U4(),this.pe=qi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Mt(),t=Mt(),i=Mt();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Xe()}}),new im(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=U4()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},eS=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ua(),this.qe=B4(),this.Qe=new Mn(Yt)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Gx(s))if(i===0){let o=new We(s.path);this.Ue(t,o,xs.newNoDocument(o,pt.min()))}else cn(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}L4?.et(function(u,h,f,p,g){var I,b,E,M,O,F;let $={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},Y=h.unchangedNames;return Y&&($.bloomFilter={applied:g===0,hashCount:(I=Y?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(M=(E=(b=Y?.bits)===null||b===void 0?void 0:b.bitmap)===null||E===void 0?void 0:E.length)!==null&&M!==void 0?M:0,padding:(F=(O=Y?.bits)===null||O===void 0?void 0:O.padding)!==null&&F!==void 0?F:0,mightContain:A=>{var C;return(C=p?.mightContain(A))!==null&&C!==void 0&&C}}),$}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=xl(i).toUint8Array()}catch(l){if(l instanceof ov)return sh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jx(o,r,s)}catch(l){return sh(l instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Gx(a.target)){let l=new We(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,xs.newNoDocument(l,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let i=Mt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new uv(e,t,this.Qe,this.ke,i);return this.ke=ua(),this.qe=B4(),this.Qe=new Mn(Yt),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new fv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wi(Yt),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function B4(){return new Mn(We.comparator)}function U4(){return new Mn(We.comparator)}var vue={asc:"ASCENDING",desc:"DESCENDING"},wue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iue={and:"AND",or:"OR"},tS=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function nS(n,e){return n.useProto3Json||Ov(e)?e:{value:e}}function pv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bue(n,e){return pv(n,e.toTimestamp())}function uo(n){return cn(!!n),pt.fromTimestamp(function(t){let i=ca(t);return new Ri(i.seconds,i.nanos)}(n))}function cD(n,e){return iS(n,e).canonicalString()}function iS(n,e){let t=function(r){return new Rn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function E5(n){let e=Rn.fromString(n);return cn(A5(e)),e}function rS(n,e){return cD(n.databaseId,e.path)}function wx(n,e){let t=E5(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(x5(t))}function T5(n,e){return cD(n.databaseId,e)}function Cue(n){let e=E5(n);return e.length===4?Rn.emptyPath():x5(e)}function sS(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x5(n){return cn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function j4(n,e,t){return{name:rS(n,e),fields:t.value.mapValue.fields}}function Eue(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(cn(u===void 0||typeof u=="string"),qi.fromBase64String(u||"")):(cn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),qi.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?ae.UNKNOWN:b5(c.code);return new Ue(u,c.message||"")}(o);t=new hv(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=wx(n,i.document.name),s=uo(i.document.updateTime),o=i.document.createTime?uo(i.document.createTime):pt.min(),a=new Ts({mapValue:{fields:i.document.fields}}),l=xs.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new nh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=wx(n,i.document),s=i.readTime?uo(i.readTime):pt.min(),o=xs.newNoDocument(r,s),a=i.removedTargetIds||[];t=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=wx(n,i.document),s=i.removedTargetIds||[];t=new nh([],s,r,null)}else{if(!("filter"in e))return Xe();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Xx(r,s),a=i.targetId;t=new dv(a,o)}}return t}function Tue(n,e){let t;if(e instanceof eu)t={update:j4(n,e.key,e.value)};else if(e instanceof cv)t={delete:rS(n,e.key)};else if(e instanceof da)t={update:j4(n,e.key,e.data),updateMask:Pue(e.fieldMask)};else{if(!(e instanceof Kx))return Xe();t={verify:rS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof fh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ph)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Xe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:bue(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe()}(n,e.precondition)),t}function xue(n,e){return n&&n.length>0?(cn(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?uo(r.updateTime):uo(s);return o.isEqual(pt.min())&&(o=uo(s)),new qx(o,r.transformResults||[])}(t,e))):[]}function Sue(n,e){return{documents:[T5(n,e.path)]}}function Due(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=T5(n,r);let s=function(c){if(c.length!==0)return D5(fo.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Jd(f.field),direction:Mue(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=nS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function Aue(n){let e=Cue(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){cn(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=S5(h);return f instanceof fo&&s5(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(g){return new uh(eh(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ov(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){let f=!!h.before,p=h.values||[];return new ch(p,f)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let f=!h.before,p=h.values||[];return new ch(p,f)}(t.endAt)),eue(e,r,o,s,a,"F",l,c)}function Rue(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function S5(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=eh(t.unaryFilter.field);return ci.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=eh(t.unaryFilter.field);return ci.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=eh(t.unaryFilter.field);return ci.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=eh(t.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return ci.create(eh(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fo.create(t.compositeFilter.filters.map(i=>S5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function Mue(n){return vue[n]}function kue(n){return wue[n]}function Oue(n){return Iue[n]}function Jd(n){return{fieldPath:n.canonicalString()}}function eh(n){return Lr.fromServerFormat(n.fieldPath)}function D5(n){return n instanceof ci?function(t){if(t.op==="=="){if(S4(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NAN"}};if(x4(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S4(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NOT_NAN"}};if(x4(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jd(t.field),op:kue(t.op),value:t.value}}}(n):n instanceof fo?function(t){let i=t.getFilters().map(r=>D5(r));return i.length===1?i[0]:{compositeFilter:{op:Oue(t.op),filters:i}}}(n):Xe()}function Pue(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function A5(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rm=class n{constructor(e,t,i,r,s=pt.min(),o=pt.min(),a=qi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var oS=class{constructor(e){this.ct=e}};function Fue(n){let e=Aue({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wx(e,e.limit,"L"):e}var mv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(An(e.integerValue));else if("doubleValue"in e){let i=An(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),em(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ca(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(xl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?n5(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):Xe()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}St(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),We.fromName(e).path.forEach(i=>{this.dt(t,60),this.bt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};mv.Dt=new mv;var aS=class{constructor(){this.an=new lS}addToCollectionParentIndex(e,t){return this.an.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Qc.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Qc.min())}updateCollectionGroup(e,t,i){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}},lS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Wi(Rn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wi(Rn.comparator)).toArray()}};var TMe=new Uint8Array(0);var oo=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);var sm=class n{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new n(0)}static Bn(){return new n(-1)}};var cS=class{constructor(){this.changes=new Sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?me.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dS=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Jp(i.mutation,r,ao.empty(),Ri.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Mt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Mt()){let r=Gc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Yp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Gc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Mt()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=ua(),o=Xp(),a=function(){return Xp()}();return t.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof da)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Jp(u.mutation,c,u.mutation.getFieldMask(),Ri.now())):o.set(c.key,ao.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new uS(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Xp(),r=new Mn((o,a)=>o-a),s=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=i.get(l)||ao.empty();u=a.applyToLocalView(c,u),i.set(l,u);let h=(r.get(a.batchId)||Mt()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=f5();u.forEach(f=>{if(!s.has(f)){let p=w5(t.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return me.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return We.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tue(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):me.resolve(Gc()),a=-1,l=s;return o.next(c=>me.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?me.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Mt())).next(u=>({batchId:a,changes:h5(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(i=>{let r=Yp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Yp();return this.indexManager.getCollectionParents(e,s).next(a=>me.forEach(a,l=>{let c=function(h,f){return new dh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,xs.newInvalidDocument(u)))});let a=Yp();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&Jp(u.mutation,c,ao.empty(),Ri.now()),Fv(t,c)&&(a=a.insert(l,c))}),a})}};var hS=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return me.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:uo(r.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(r){return{name:r.name,query:Fue(r.bundledQuery),readTime:uo(r.readTime)}}(t)),me.resolve()}};var fS=class{constructor(){this.overlays=new Mn(We.comparator),this.Pr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Gc();return me.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),me.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),me.resolve()}getOverlaysForCollection(e,t,i){let r=Gc(),s=t.length+1,o=new We(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return me.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Mn((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Gc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=Gc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return me.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Zx(t,i));let s=this.Pr.get(t);s===void 0&&(s=Mt(),this.Pr.set(t,s)),this.Pr.set(t,s.add(i.key))}};var pS=class{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}};var om=class{constructor(){this.Ir=new Wi(Xn.Tr),this.Er=new Wi(Xn.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){let i=new Xn(e,t);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Rr(new Xn(e,t))}Vr(e,t){e.forEach(i=>this.removeReference(i,t))}mr(e){let t=new We(new Rn([])),i=new Xn(t,e),r=new Xn(t,e+1),s=[];return this.Er.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let t=new We(new Rn([])),i=new Xn(t,e),r=new Xn(t,e+1),s=Mt();return this.Er.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Xn(e,0),i=this.Ir.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Xn=class{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return We.comparator(e.key,t.key)||Yt(e.yr,t.yr)}static dr(e,t){return Yt(e.yr,t.yr)||We.comparator(e.key,t.key)}};var mS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new Wi(Xn.Tr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Yx(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.Sr=this.Sr.add(new Xn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,t){return me.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Dr(i),s=r<0?0:r;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Xn(t,0),r=new Xn(t,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{let a=this.br(o.yr);s.push(a)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wi(Yt);return t.forEach(r=>{let s=new Xn(r,0),o=new Xn(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;We.isDocumentKey(s)||(s=s.child(""));let o=new Xn(new We(s),0),a=new Wi(Yt);return this.Sr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},o),me.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.br(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){cn(this.vr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return me.forEach(t.mutations,r=>{let s=new Xn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,t){let i=new Xn(t,0),r=this.Sr.firstAfterOrEqual(i);return me.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gS=class{constructor(e){this.Fr=e,this.docs=function(){return new Mn(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return me.resolve(i?i.document.mutableCopy():xs.newInvalidDocument(t))}getEntries(e,t){let i=ua();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():xs.newInvalidDocument(r))}),me.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ua(),o=t.path,a=new We(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Hce(zce(u),i)<=0||(r.has(u.key)||Fv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return me.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Xe()}Mr(e,t){return me.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _S(this)}getSize(e){return me.resolve(this.size)}},_S=class extends cS{constructor(e){super(),this.ur=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),me.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}};var yS=class{constructor(e){this.persistence=e,this.Or=new Sl(t=>oD(t),aD),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new om,this.targetCount=0,this.Br=sm.Ln()}forEachTarget(e,t){return this.Or.forEach((i,r)=>t(r)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Nr&&(this.Nr=t),me.resolve()}Qn(e){this.Or.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new sm(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Qn(t),me.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),me.waitFor(s).next(()=>r)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){let i=this.Or.get(t)||null;return me.resolve(i)}addMatchingKeys(e,t,i){return this.Lr.Ar(t,i),me.resolve()}removeMatchingKeys(e,t,i){this.Lr.Vr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),me.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),me.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Lr.pr(t);return me.resolve(i)}containsKey(e,t){return me.resolve(this.Lr.containsKey(t))}};var vS=class{constructor(e,t){this.kr={},this.overlays={},this.qr=new e5(0),this.Qr=!1,this.Qr=!0,this.Kr=new pS,this.referenceDelegate=e(this),this.$r=new yS(this),this.indexManager=new aS,this.remoteDocumentCache=function(r){return new gS(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new oS(t),this.Wr=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.kr[e.toKey()];return i||(i=new mS(t,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,i){Oe("MemoryPersistence","Starting transaction:",e);let r=new wS(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(s=>this.referenceDelegate.zr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}jr(e,t){return me.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,t)))}},wS=class extends kx{constructor(e){super(),this.currentSequenceNumber=e}},IS=class n{constructor(e){this.persistence=e,this.Hr=new om,this.Jr=null}static Yr(e){return new n(e)}get Zr(){if(this.Jr)return this.Jr;throw Xe()}addReference(e,t,i){return this.Hr.addReference(i,t),this.Zr.delete(i.toString()),me.resolve()}removeReference(e,t,i){return this.Hr.removeReference(i,t),this.Zr.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),me.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach(r=>this.Zr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Zr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Gr(){this.Jr=new Set}zr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Zr,i=>{let r=We.fromPath(i);return this.Xr(e,r).next(s=>{s||t.removeEntry(r,pt.min())})}).next(()=>(this.Jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Xr(e,t).next(i=>{i?this.Zr.delete(t.toString()):this.Zr.add(t.toString())})}Ur(e){return 0}Xr(e,t){return me.or([()=>me.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}};var bS=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ki=i,this.$i=r}static Ui(e,t){let i=Mt(),r=Mt();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var CS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ES=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return E3()?8:Gce(ai())>0?6:4}()}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new CS;return this.Zi(e,t,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,t,o,a.size)})}).next(()=>s.result)}Xi(e,t,i,r){return i.documentReadCount<this.zi?(Kp()<=Rt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Xd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),me.resolve()):(Kp()<=Rt.DEBUG&&Oe("QueryEngine","Query:",Xd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(Kp()<=Rt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Xd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(t))):me.resolve())}Ji(e,t){if(M4(t))return me.resolve(null);let i=co(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Wx(t,null,"F"),i=co(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Mt(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.es(t,a);return this.ts(t,c,o,l.readTime)?this.Ji(e,Wx(t,null,"F")):this.ns(e,c,t,l)}))})))}Yi(e,t,i,r){return M4(t)||r.isEqual(pt.min())?me.resolve(null):this.Hi.getDocuments(e,i).next(s=>{let o=this.es(t,s);return this.ts(t,o,i,r)?me.resolve(null):(Kp()<=Rt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xd(t)),this.ns(e,o,t,jce(r,-1)).next(a=>a))})}es(e,t){let i=new Wi(u5(e));return t.forEach((r,s)=>{Fv(e,s)&&(i=i.add(s))}),i}ts(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zi(e,t,i){return Kp()<=Rt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Xd(t)),this.Hi.getDocumentsMatchingQuery(e,t,Qc.min(),i)}ns(e,t,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var TS=class{constructor(e,t,i,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new Mn(Yt),this.os=new Sl(s=>oD(s),aD),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ss))}};function Lue(n,e,t,i){return new TS(n,e,t,i)}function R5(n,e){return z(this,null,function*(){let t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.cs(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Mt();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})})}function Nue(n,e){let t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,f=h.keys(),p=me.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(I=>{let b=c.docVersions.get(g);cn(b!==null),I.version.compareTo(b)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),u.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function M5(n){let e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.$r.getLastRemoteSnapshotVersion(t))}function Vue(n,e){let t=ot(n),i=e.snapshotVersion,r=t.ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.us.newChangeBuffer({trackRemovals:!0});r=t.ss;let a=[];e.targetChanges.forEach((u,h)=>{let f=r.get(h);if(!f)return;a.push(t.$r.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.$r.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(qi.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(I,b,E){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,u)&&a.push(t.$r.updateTargetData(s,p))});let l=ua(),c=Mt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Bue(s,o,e.documentUpdates).next(u=>{l=u.hs,c=u.Ps})),!i.isEqual(pt.min())){let u=t.$r.getLastRemoteSnapshotVersion(s).next(h=>t.$r.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return me.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ss=r,s))}function Bue(n,e,t){let i=Mt(),r=Mt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=ua();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(pt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:o,Ps:r}})}function Uue(n,e){let t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jue(n,e){let t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.$r.getTargetData(i,e).next(s=>s?(r=s,me.resolve(r)):t.$r.allocateTargetId(i).next(o=>(r=new rm(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ss=t.ss.insert(i.targetId,i),t.os.set(e,i.targetId)),i})}function xS(n,e,t){return z(this,null,function*(){let i=ot(n),r=i.ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!dm(o))throw o;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ss=i.ss.remove(e),i.os.delete(r.target)})}function z4(n,e,t){let i=ot(n),r=pt.min(),s=Mt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let h=ot(l),f=h.os.get(u);return f!==void 0?me.resolve(h.ss.get(f)):h.$r.getTargetData(c,u)}(i,o,co(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.rs.getDocumentsMatchingQuery(o,e,t?r:pt.min(),t?s:Mt())).next(a=>(zue(i,iue(e),a),{documents:a,Is:s})))}function zue(n,e,t){let i=n._s.get(e)||pt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n._s.set(e,i)}var gv=class{constructor(){this.activeTargetIds=cue()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var SS=class{constructor(){this.io=new gv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,i){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new gv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var DS=class{oo(e){}shutdown(){}};var _v=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jy=null;function Ix(){return Jy===null?Jy=function(){return 268435456+Math.round(2147483648*Math.random())}():Jy++,"0x"+Jy.toString(16)}var Hue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var AS=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var Gi="WebChannelConnection",RS=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+t.host,this.Do=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get vo(){return!1}Fo(t,i,r,s,o){let a=Ix(),l=this.Mo(t,i.toUriEncodedString());Oe("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(t,l,c,r).then(u=>(Oe("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw sh("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}No(t,i,r,s,o,a){return this.Fo(t,i,r,s,o)}xo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}Mo(t,i){let r=Hue[t];return`${this.bo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,i,r){let s=Ix();return new Promise((o,a)=>{let l=new px;l.setWithCredentials(!0),l.listenOnce(gx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qp.NO_ERROR:let u=l.getResponseJson();Oe(Gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case qp.TIMEOUT:Oe(Gi,`RPC '${e}' ${s} timed out`),a(new Ue(ae.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:let h=l.getStatus();if(Oe(Gi,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let g=function(b){let E=b.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(E)>=0?E:ae.UNKNOWN}(p.status);a(new Ue(g,p.message))}else a(new Ue(ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(ae.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Oe(Gi,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);Oe(Gi,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Lo(e,t,i){let r=Ix(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vx(),a=yx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new mx({})),this.xo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let u=s.join("");Oe(Gi,`Creating RPC '${e}' stream ${r}: ${u}`,l);let h=o.createWebChannel(u,l),f=!1,p=!1,g=new AS({Po:b=>{p?Oe(Gi,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(f||(Oe(Gi,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),Oe(Gi,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},Io:()=>h.close()}),I=(b,E,M)=>{b.listen(E,O=>{try{M(O)}catch(F){setTimeout(()=>{throw F},0)}})};return I(h,Zd.EventType.OPEN,()=>{p||(Oe(Gi,`RPC '${e}' stream ${r} transport opened.`),g.po())}),I(h,Zd.EventType.CLOSE,()=>{p||(p=!0,Oe(Gi,`RPC '${e}' stream ${r} transport closed`),g.wo())}),I(h,Zd.EventType.ERROR,b=>{p||(p=!0,sh(Gi,`RPC '${e}' stream ${r} transport errored:`,b),g.wo(new Ue(ae.UNAVAILABLE,"The operation could not be completed")))}),I(h,Zd.EventType.MESSAGE,b=>{var E;if(!p){let M=b.data[0];cn(!!M);let O=M,F=O.error||((E=O[0])===null||E===void 0?void 0:E.error);if(F){Oe(Gi,`RPC '${e}' stream ${r} received error:`,F);let $=F.status,Y=function(T){let P=Zn[T];if(P!==void 0)return b5(P)}($),A=F.message;Y===void 0&&(Y=ae.INTERNAL,A="Unknown error status: "+$+" with message "+F.message),p=!0,g.wo(new Ue(Y,A)),h.close()}else Oe(Gi,`RPC '${e}' stream ${r} received:`,M),g.So(M)}}),I(a,_x.STAT_EVENT,b=>{b.stat===Zy.PROXY?Oe(Gi,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Zy.NOPROXY&&Oe(Gi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.yo()},0),g}};function bx(){return typeof document<"u"?document:null}function Lv(n){return new tS(n,!0)}var yv=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ai=e,this.timerId=t,this.Bo=i,this.ko=r,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let t=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var vv=class{constructor(e,t,i,r,s,o,a,l){this.ai=e,this.jo=i,this.Ho=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new yv(e,t)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return z(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return z(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,t){return z(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(t)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===t&&this.h_(i,r)},i=>{e(()=>{let r=new Ue(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,t){let i=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(()=>z(this,null,function*(){this.state=0,this.start()}))}P_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget(()=>this.Jo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},MS=class extends vv{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let t=Eue(this.serializer,e),i=function(s){if(!("targetChange"in s))return pt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?uo(o.readTime):pt.min()}(e);return this.listener.E_(t,i)}d_(e){let t={};t.database=sS(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Gx(l)?{documents:Sue(s,l)}:{query:Due(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=C5(s,o.resumeToken);let c=nS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(pt.min())>0){a.readTime=pv(s,o.snapshotVersion.toTimestamp());let c=nS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Rue(this.serializer,e);i&&(t.labels=i),this.__(t)}A_(e){let t={};t.database=sS(this.serializer),t.removeTarget=e,this.__(t)}},kS=class extends vv{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return cn(!!e.streamToken),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let t=xue(e.writeResults,e.commitTime),i=uo(e.commitTime);return this.listener.f_(i,t)}g_(){let e={};e.database=sS(this.serializer),this.__(e)}V_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Tue(this.serializer,i))};this.__(t)}};var OS=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new Ue(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,iS(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(ae.UNKNOWN,s.toString())})}No(e,t,i,r,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,iS(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(ae.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},PS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(la(t),this.b_=!1):Oe("OnlineStateTracker",t)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var FS=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{i.enqueueAndForget(()=>z(this,null,function*(){tu(this)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield function(l){return z(this,null,function*(){let c=ot(l);c.N_.add(4),yield hm(c),c.k_.set("Unknown"),c.N_.delete(4),yield Nv(c)})}(this))}))}),this.k_=new PS(i,r)}};function Nv(n){return z(this,null,function*(){if(tu(n))for(let e of n.L_)yield e(!0)})}function hm(n){return z(this,null,function*(){for(let e of n.L_)yield e(!1)})}function k5(n,e){let t=ot(n);t.O_.has(e.targetId)||(t.O_.set(e.targetId,e),fD(t)?hD(t):Ih(t).n_()&&dD(t,e))}function uD(n,e){let t=ot(n),i=Ih(t);t.O_.delete(e),i.n_()&&O5(t,e),t.O_.size===0&&(i.n_()?i.s_():tu(t)&&t.k_.set("Unknown"))}function dD(n,e){if(n.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ih(n).d_(e)}function O5(n,e){n.q_.xe(e),Ih(n).A_(e)}function hD(n){n.q_=new eS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.O_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ih(n).start(),n.k_.D_()}function fD(n){return tu(n)&&!Ih(n).t_()&&n.O_.size>0}function tu(n){return ot(n).N_.size===0}function P5(n){n.q_=void 0}function $ue(n){return z(this,null,function*(){n.k_.set("Online")})}function Gue(n){return z(this,null,function*(){n.O_.forEach((e,t)=>{dD(n,e)})})}function Wue(n,e){return z(this,null,function*(){P5(n),fD(n)?(n.k_.F_(e),hD(n)):n.k_.set("Unknown")})}function que(n,e,t){return z(this,null,function*(){if(n.k_.set("Online"),e instanceof hv&&e.state===2&&e.cause)try{yield function(r,s){return z(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.O_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.O_.delete(a),r.q_.removeTarget(a))})}(n,e)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield wv(n,i)}else if(e instanceof nh?n.q_.Ke(e):e instanceof dv?n.q_.He(e):n.q_.We(e),!t.isEqual(pt.min()))try{let i=yield M5(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.O_.get(c);u&&s.O_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.O_.get(l);if(!u)return;s.O_.set(l,u.withResumeToken(qi.EMPTY_BYTE_STRING,u.snapshotVersion)),O5(s,l);let h=new rm(u.target,l,c,u.sequenceNumber);dD(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield wv(n,i)}})}function wv(n,e,t){return z(this,null,function*(){if(!dm(e))throw e;n.N_.add(1),yield hm(n),n.k_.set("Offline"),t||(t=()=>M5(n.localStore)),n.asyncQueue.enqueueRetryable(()=>z(this,null,function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.N_.delete(1),yield Nv(n)}))})}function F5(n,e){return e().catch(t=>wv(n,t,e))}function Vv(n){return z(this,null,function*(){let e=ot(n),t=Dl(e),i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;Kue(e);)try{let r=yield Uue(e.localStore,i);if(r===null){e.x_.length===0&&t.s_();break}i=r.batchId,Yue(e,r)}catch(r){yield wv(e,r)}L5(e)&&N5(e)})}function Kue(n){return tu(n)&&n.x_.length<10}function Yue(n,e){n.x_.push(e);let t=Dl(n);t.n_()&&t.R_&&t.V_(e.mutations)}function L5(n){return tu(n)&&!Dl(n).t_()&&n.x_.length>0}function N5(n){Dl(n).start()}function Que(n){return z(this,null,function*(){Dl(n).g_()})}function Zue(n){return z(this,null,function*(){let e=Dl(n);for(let t of n.x_)e.V_(t.mutations)})}function Xue(n,e,t){return z(this,null,function*(){let i=n.x_.shift(),r=Qx.from(i,e,t);yield F5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Vv(n)})}function Jue(n,e){return z(this,null,function*(){e&&Dl(n).R_&&(yield function(i,r){return z(this,null,function*(){if(function(o){return gue(o)&&o!==ae.ABORTED}(r.code)){let s=i.x_.shift();Dl(i).i_(),yield F5(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Vv(i)}})}(n,e)),L5(n)&&N5(n)})}function H4(n,e){return z(this,null,function*(){let t=ot(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");let i=tu(t);t.N_.add(3),yield hm(t),i&&t.k_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.N_.delete(3),yield Nv(t)})}function ede(n,e){return z(this,null,function*(){let t=ot(n);e?(t.N_.delete(2),yield Nv(t)):e||(t.N_.add(2),yield hm(t),t.k_.set("Unknown"))})}function Ih(n){return n.Q_||(n.Q_=function(t,i,r){let s=ot(t);return s.y_(),new MS(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:$ue.bind(null,n),Ao:Gue.bind(null,n),Vo:Wue.bind(null,n),E_:que.bind(null,n)}),n.L_.push(e=>z(this,null,function*(){e?(n.Q_.i_(),fD(n)?hD(n):n.k_.set("Unknown")):(yield n.Q_.stop(),P5(n))}))),n.Q_}function Dl(n){return n.K_||(n.K_=function(t,i,r){let s=ot(t);return s.y_(),new kS(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:Que.bind(null,n),Vo:Jue.bind(null,n),m_:Zue.bind(null,n),f_:Xue.bind(null,n)}),n.L_.push(e=>z(this,null,function*(){e?(n.K_.i_(),yield Vv(n)):(yield n.K_.stop(),n.x_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))}))),n.K_}var LS=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function pD(n,e){if(la("AsyncQueue",`${e}: ${n}`),dm(n))return new Ue(ae.UNAVAILABLE,`${e}: ${n}`);throw n}var Iv=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||We.comparator(t.key,i.key):(t,i)=>We.comparator(t.key,i.key),this.keyedMap=Yp(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var bv=class{constructor(){this.U_=new Mn(We.comparator)}track(e){let t=e.doc.key,i=this.U_.get(t);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(t,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(t):e.type===1&&i.type===2?this.U_=this.U_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):Xe():this.U_=this.U_.insert(t,e)}W_(){let e=[];return this.U_.inorderTraversal((t,i)=>{e.push(i)}),e}},gh=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Iv.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var NS=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},VS=class{constructor(){this.queries=$4(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(t,i){let r=ot(t),s=r.queries;r.queries=$4(),s.forEach((o,a)=>{for(let l of a.z_)l.onError(i)})})(this,new Ue(ae.ABORTED,"Firestore shutting down"))}};function $4(){return new Sl(n=>c5(n),Pv)}function tde(n,e){return z(this,null,function*(){let t=ot(n),i=3,r=e.query,s=t.queries.get(r);s?!s.j_()&&e.H_()&&(i=2):(s=new NS,i=e.H_()?0:1);try{switch(i){case 0:s.G_=yield t.onListen(r,!0);break;case 1:s.G_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=pD(o,`Initialization of query '${Xd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.z_.push(e),e.Y_(t.onlineState),s.G_&&e.Z_(s.G_)&&mD(t)})}function nde(n,e){return z(this,null,function*(){let t=ot(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?r=e.H_()?0:1:!s.j_()&&e.H_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function ide(n,e){let t=ot(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.z_)a.Z_(r)&&(i=!0);o.G_=r}}i&&mD(t)}function rde(n,e,t){let i=ot(n),r=i.queries.get(e);if(r)for(let s of r.z_)s.onError(t);i.queries.delete(e)}function mD(n){n.J_.forEach(e=>{e.next()})}var BS,G4;(G4=BS||(BS={})).X_="default",G4.Cache="cache";var US=class{constructor(e,t,i){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new gh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache||!this.H_())return!0;let i=t!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}sa(e){e=gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==BS.Cache}};var Cv=class{constructor(e){this.key=e}},Ev=class{constructor(e){this.key=e}},jS=class{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Mt(),this.mutatedKeys=Mt(),this.da=u5(e),this.Aa=new Iv(this.da)}get Ra(){return this.Ia}Va(e,t){let i=t?t.ma:new bv,r=t?t.Aa:this.Aa,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let f=r.get(u),p=Fv(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),b=!1;f&&p?f.data.isEqual(p.data)?g!==I&&(i.track({type:3,doc:p}),b=!0):this.fa(f,p)||(i.track({type:2,doc:p}),b=!0,(l&&this.da(p,l)>0||c&&this.da(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),b=!0):f&&!p&&(i.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),s=I?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Aa:o,ma:i,ts:a,mutatedKeys:s}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let o=e.ma.W_();o.sort((u,h)=>function(p,g){let I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return I(p)-I(g)}(u.type,h.type)||this.da(u.doc,h.doc)),this.ga(i),r=r!=null&&r;let a=t&&!r?this.pa():[],l=this.Ea.size===0&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,o.length!==0||c?{snapshot:new gh(this.query,e.Aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new bv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(t=>this.Ia=this.Ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ia=this.Ia.delete(t)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=Mt(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});let t=[];return e.forEach(i=>{this.Ea.has(i)||t.push(new Ev(i))}),this.Ea.forEach(i=>{e.has(i)||t.push(new Cv(i))}),t}Sa(e){this.Ia=e.Is,this.Ea=Mt();let t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return gh.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},zS=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},HS=class{constructor(e){this.key=e,this.Da=!1}},$S=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Sl(a=>c5(a),Pv),this.Fa=new Map,this.Ma=new Set,this.xa=new Mn(We.comparator),this.Oa=new Map,this.Na=new om,this.La={},this.Ba=new Map,this.ka=sm.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function sde(n,e,t=!0){return z(this,null,function*(){let i=H5(n),r,s=i.va.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ba()):r=yield V5(i,e,t,!0),r})}function ode(n,e){return z(this,null,function*(){let t=H5(n);yield V5(t,e,!0,!1)})}function V5(n,e,t,i){return z(this,null,function*(){let r=yield jue(n.localStore,co(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield ade(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&k5(n.remoteStore,r),a})}function ade(n,e,t,i,r){return z(this,null,function*(){n.Qa=(h,f,p)=>function(I,b,E,M){return z(this,null,function*(){let O=b.view.Va(E);O.ts&&(O=yield z4(I.localStore,b.query,!1).then(({documents:A})=>b.view.Va(A,O)));let F=M&&M.targetChanges.get(b.targetId),$=M&&M.targetMismatches.get(b.targetId)!=null,Y=b.view.applyChanges(O,I.isPrimaryClient,F,$);return q4(I,b.targetId,Y.ya),Y.snapshot})}(n,h,f,p);let s=yield z4(n.localStore,e,!0),o=new jS(e,s.Is),a=o.Va(s.documents),l=im.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);q4(n,t,c.ya);let u=new zS(e,t,o);return n.va.set(e,u),n.Fa.has(t)?n.Fa.get(t).push(e):n.Fa.set(t,[e]),c.snapshot})}function lde(n,e,t){return z(this,null,function*(){let i=ot(n),r=i.va.get(e),s=i.Fa.get(r.targetId);if(s.length>1)return i.Fa.set(r.targetId,s.filter(o=>!Pv(o,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xS(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&uD(i.remoteStore,r.targetId),GS(i,r.targetId)}).catch(um))):(GS(i,r.targetId),yield xS(i.localStore,r.targetId,!0))})}function cde(n,e){return z(this,null,function*(){let t=ot(n),i=t.va.get(e),r=t.Fa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),uD(t.remoteStore,i.targetId))})}function ude(n,e,t){return z(this,null,function*(){let i=_de(n);try{let r=yield function(o,a){let l=ot(o),c=Ri.now(),u=a.reduce((p,g)=>p.add(g.key),Mt()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ua(),I=Mt();return l.us.getEntries(p,u).next(b=>{g=b,g.forEach((E,M)=>{M.isValidDocument()||(I=I.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;let E=[];for(let M of a){let O=mue(M,h.get(M.key).overlayedDocument);O!=null&&E.push(new da(M.key,O,i5(O.value.mapValue),Kc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,E,a)}).next(b=>{f=b;let E=b.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(p,b.batchId,E)})}).then(()=>({batchId:f.batchId,changes:h5(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.La[o.currentUser.toKey()];c||(c=new Mn(Yt)),c=c.insert(a,l),o.La[o.currentUser.toKey()]=c}(i,r.batchId,t),yield fm(i,r.changes),yield Vv(i.remoteStore)}catch(r){let s=pD(r,"Failed to persist write");t.reject(s)}})}function B5(n,e){return z(this,null,function*(){let t=ot(n);try{let i=yield Vue(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Oa.get(s);o&&(cn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Da=!0:r.modifiedDocuments.size>0?cn(o.Da):r.removedDocuments.size>0&&(cn(o.Da),o.Da=!1))}),yield fm(t,i,e)}catch(i){yield um(i)}})}function W4(n,e,t){let i=ot(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.va.forEach((s,o)=>{let a=o.view.Y_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=ot(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let f of h.z_)f.Y_(a)&&(c=!0)}),c&&mD(l)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dde(n,e,t){return z(this,null,function*(){let i=ot(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Oa.get(e),s=r&&r.key;if(s){let o=new Mn(We.comparator);o=o.insert(s,xs.newNoDocument(s,pt.min()));let a=Mt().add(s),l=new uv(pt.min(),new Map,new Mn(Yt),o,a);yield B5(i,l),i.xa=i.xa.remove(s),i.Oa.delete(e),gD(i)}else yield xS(i.localStore,e,!1).then(()=>GS(i,e,t)).catch(um)})}function hde(n,e){return z(this,null,function*(){let t=ot(n),i=e.batch.batchId;try{let r=yield Nue(t.localStore,e);j5(t,i,null),U5(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield fm(t,r)}catch(r){yield um(r)}})}function fde(n,e,t){return z(this,null,function*(){let i=ot(n);try{let r=yield function(o,a){let l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(cn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);j5(i,e,t),U5(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield fm(i,r)}catch(r){yield um(r)}})}function U5(n,e){(n.Ba.get(e)||[]).forEach(t=>{t.resolve()}),n.Ba.delete(e)}function j5(n,e,t){let i=ot(n),r=i.La[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function GS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Fa.get(e))n.va.delete(i),t&&n.Ca.Ka(i,t);n.Fa.delete(e),n.isPrimaryClient&&n.Na.mr(e).forEach(i=>{n.Na.containsKey(i)||z5(n,i)})}function z5(n,e){n.Ma.delete(e.path.canonicalString());let t=n.xa.get(e);t!==null&&(uD(n.remoteStore,t),n.xa=n.xa.remove(e),n.Oa.delete(t),gD(n))}function q4(n,e,t){for(let i of t)i instanceof Cv?(n.Na.addReference(i.key,e),pde(n,i)):i instanceof Ev?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,e),n.Na.containsKey(i.key)||z5(n,i.key)):Xe()}function pde(n,e){let t=e.key,i=t.path.canonicalString();n.xa.get(t)||n.Ma.has(i)||(Oe("SyncEngine","New document in limbo: "+t),n.Ma.add(i),gD(n))}function gD(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){let e=n.Ma.values().next().value;n.Ma.delete(e);let t=new We(Rn.fromString(e)),i=n.ka.next();n.Oa.set(i,new HS(t)),n.xa=n.xa.insert(t,i),k5(n.remoteStore,new rm(co(lD(t.path)),i,"TargetPurposeLimboResolution",e5.oe))}}function fm(n,e,t){return z(this,null,function*(){let i=ot(n),r=[],s=[],o=[];i.va.isEmpty()||(i.va.forEach((a,l)=>{o.push(i.Qa(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=bS.Ui(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.Ca.E_(r),yield function(l,c){return z(this,null,function*(){let u=ot(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>me.forEach(c,f=>me.forEach(f.Ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>me.forEach(f.$i,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!dm(h))throw h;Oe("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let p=u.ss.get(f),g=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(g);u.ss=u.ss.insert(f,I)}}})}(i.localStore,s))})}function mde(n,e){return z(this,null,function*(){let t=ot(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());let i=yield R5(t.localStore,e);t.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new Ue(ae.CANCELLED,o))})}),s.Ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield fm(t,i.ls)}})}function gde(n,e){let t=ot(n),i=t.Oa.get(e);if(i&&i.Da)return Mt().add(i.key);{let r=Mt(),s=t.Fa.get(e);if(!s)return r;for(let o of s){let a=t.va.get(o);r=r.unionWith(a.view.Ra)}return r}}function H5(n){let e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dde.bind(null,e),e.Ca.E_=ide.bind(null,e.eventManager),e.Ca.Ka=rde.bind(null,e.eventManager),e}function _de(n){let e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fde.bind(null,e),e}var Tv=class{constructor(){this.synchronizeTabs=!1}initialize(e){return z(this,null,function*(){this.serializer=Lv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Lue(this.persistence,new ES,e.initialUser,this.serializer)}createPersistence(e){return new vS(IS.Yr,this.serializer)}createSharedClientState(e){return new SS}terminate(){return z(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var WS=class{initialize(e,t){return z(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>W4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mde.bind(null,this.syncEngine),yield ede(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new VS}()}createDatastore(e){let t=Lv(e.databaseInfo.databaseId),i=function(s){return new RS(s)}(e.databaseInfo);return function(s,o,a,l){return new OS(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new FS(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>W4(this.syncEngine,t,0),function(){return _v.D()?new _v:new DS}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,u){let h=new $S(r,s,o,a,l,c);return u&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return z(this,null,function*(){var e,t;yield function(r){return z(this,null,function*(){let s=ot(r);Oe("RemoteStore","RemoteStore shutting down."),s.N_.add(5),yield hm(s),s.B_.shutdown(),s.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var qS=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var KS=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=vi.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>z(this,null,function*(){Oe("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(Oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>z(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=pD(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Cx(n,e){return z(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>z(this,null,function*(){i.isEqual(r)||(yield R5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function K4(n,e){return z(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield vde(n);Oe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>H4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>H4(e.remoteStore,r)),n._onlineComponents=e})}function yde(n){return n.name==="FirebaseError"?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function vde(n){return z(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cx(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!yde(t))throw t;sh("Error using user provided cache. Falling back to memory cache: "+t),yield Cx(n,new Tv)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Cx(n,new Tv);return n._offlineComponents})}function $5(n){return z(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield K4(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield K4(n,new WS))),n._onlineComponents})}function wde(n){return $5(n).then(e=>e.syncEngine)}function Y4(n){return z(this,null,function*(){let e=yield $5(n),t=e.eventManager;return t.onListen=sde.bind(null,e.syncEngine),t.onUnlisten=lde.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ode.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cde.bind(null,e.syncEngine),t})}function G5(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Q4=new Map;function W5(n,e,t){if(!t)throw new Ue(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ide(n,e,t,i){if(e===!0&&i===!0)throw new Ue(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z4(n){if(!We.isDocumentKey(n))throw new Ue(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X4(n){if(We.isDocumentKey(n))throw new Ue(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _D(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function ih(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=_D(n);throw new Ue(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var xv=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ide("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ue(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ue(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ue(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_h=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ue(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ex;switch(i.type){case"firstParty":return new Dx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ue(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=Q4.get(t);i&&(Oe("ComponentProvider","Removing Datastore"),Q4.delete(t),i.terminate())}(this),Promise.resolve()}};function q5(n,e,t,i={}){var r;let s=(n=ih(n,_h))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=vi.MOCK_USER;else{a=v3(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ue(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vi(c)}n._authCredentials=new Tx(new nv(a,l))}}var Sv=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Nr=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Tl=class n extends Sv{constructor(e,t,i){super(e,t,lD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new We(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function K5(n,e,...t){if(n=$i(n),W5("collection","path",e),n instanceof _h){let i=Rn.fromString(e,...t);return X4(i),new Tl(n,null,i)}{if(!(n instanceof Nr||n instanceof Tl))throw new Ue(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Rn.fromString(e,...t));return X4(i),new Tl(n.firestore,null,i)}}function Y5(n,e,...t){if(n=$i(n),arguments.length===1&&(e=iv.newId()),W5("doc","path",e),n instanceof _h){let i=Rn.fromString(e,...t);return Z4(i),new Nr(n,null,new We(i))}{if(!(n instanceof Nr||n instanceof Tl))throw new Ue(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Rn.fromString(e,...t));return Z4(i),new Nr(n.firestore,n instanceof Tl?n.converter:null,new We(i))}}var YS=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new yv(this,"async_queue_retry"),this.Tu=()=>{let t=bx();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.e_.zo()};let e=bx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let t=bx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let t=new aa;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return z(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!dm(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let t=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw la("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=t,t}enqueueAfterDelay(e,t,i){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);let r=LS.createAndSchedule(this,e,t,i,s=>this.Ru(s));return this.cu.push(r),r}Eu(){this.lu&&Xe()}verifyOperationInProgress(){}Vu(){return z(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.cu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let t=this.cu.indexOf(e);this.cu.splice(t,1)}};function J4(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var yh=class extends _h{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new YS}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||X5(this),this._firestoreClient.terminate()}};function Q5(n,e){let t=typeof n=="object"?n:jd(),i=typeof n=="string"?n:e||"(default)",r=kp(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=y3("firestore");s&&q5(r,...s)}return r}function Z5(n){return n._firestoreClient||X5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X5(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,u){return new Ox(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,G5(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new KS(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var am=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qi.fromBase64String(e))}catch(t){throw new Ue(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lm=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dv=class{constructor(e){this._methodName=e}};var cm=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}};var bde=/^__.*__$/,QS=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}};function J5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}var ZS=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Av(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(J5(this.yu)&&bde.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},XS=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lv(e)}Ou(e,t,i,r=!1){return new ZS({yu:e,methodName:t,xu:i,path:Lr.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Cde(n){let e=n._freezeSettings(),t=Lv(n._databaseId);return new XS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ede(n,e,t,i,r,s={}){let o=n.Ou(s.merge||s.mergeFields?2:0,e,t,r);i6("Data must be an object, but it was:",o,i);let a=t6(i,o),l,c;if(s.merge)l=new ao(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=Tde(e,h,t);if(!o.contains(f))throw new Ue(ae.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Sde(u,f)||u.push(f)}l=new ao(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new QS(new Ts(a),l,c)}function e6(n,e){if(n6(n=$i(n)))return i6("Unsupported field value:",e,n),t6(n,e);if(n instanceof Dv)return function(i,r){if(!J5(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=e6(a,r.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=$i(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uue(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Ri.fromDate(i);return{timestampValue:pv(r.serializer,s)}}if(i instanceof Ri){let s=new Ri(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pv(r.serializer,s)}}if(i instanceof cm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof am)return{bytesValue:C5(r.serializer,i._byteString)};if(i instanceof Nr){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${_D(i)}`)}(n,e)}function t6(n,e){let t={};return t5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wh(n,(i,r)=>{let s=e6(r,e.Su(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function n6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof cm||n instanceof am||n instanceof Nr||n instanceof Dv)}function i6(n,e,t){if(!n6(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=_D(t);throw i==="an object"?e.Fu(n+" a custom object"):e.Fu(n+" "+i)}}function Tde(n,e,t){if((e=$i(e))instanceof lm)return e._internalPath;if(typeof e=="string")return r6(n,e);throw Av("Field path arguments must be of type string or ",n,!1,void 0,t)}var xde=new RegExp("[~\\*/\\[\\]]");function r6(n,e,t){if(e.search(xde)>=0)throw Av(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lm(...e.split("."))._internalPath}catch{throw Av(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Av(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Ue(ae.INVALID_ARGUMENT,a+n+l)}function Sde(n,e){return n.some(t=>t.isEqual(e))}var Rv=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new JS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(s6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},JS=class extends Rv{data(){return super.data()}};function s6(n,e){return typeof e=="string"?r6(n,e):e instanceof lm?e._internalPath:e._delegate._internalPath}function Dde(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ue(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eD=class{convertValue(e,t="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return wh(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new cm(An(e.latitude),An(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=rD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){let t=ca(e);return new Ri(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Rn.fromString(e);cn(A5(i));let r=new av(i.get(1),i.get(3)),s=new We(i.popFirst(5));return r.isEqual(t)||la(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Ade(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var qc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mv=class extends Rv{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(s6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},rh=class extends Mv{data(e={}){return super.data(e)}},tD=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rh(this._firestore,this._userDataWriter,i.key,i,new qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new rh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new rh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Rde(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Rde(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}var kv=class extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new am(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}};function o6(n,e,t){n=ih(n,Nr);let i=ih(n.firestore,yh),r=Ade(n.converter,e,t);return Mde(i,[Ede(Cde(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Kc.none())])}function yD(n,...e){var t,i,r;n=$i(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||J4(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(J4(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(n instanceof Nr)c=ih(n.firestore,yh),u=lD(n._key.path),l={next:h=>{e[o]&&e[o](kde(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=ih(n,Sv);c=ih(h.firestore,yh),u=h._query;let f=new kv(c);l={next:p=>{e[o]&&e[o](new tD(c,f,h,p))},error:e[o+1],complete:e[o+2]},Dde(n._query)}return function(f,p,g,I){let b=new qS(I),E=new US(p,b,g);return f.asyncQueue.enqueueAndForget(()=>z(this,null,function*(){return tde(yield Y4(f),E)})),()=>{b.Ga(),f.asyncQueue.enqueueAndForget(()=>z(this,null,function*(){return nde(yield Y4(f),E)}))}}(Z5(c),u,a,l)}function Mde(n,e){return function(i,r){let s=new aa;return i.asyncQueue.enqueueAndForget(()=>z(this,null,function*(){return ude(yield wde(i),r,s)})),s.promise}(Z5(n),e)}function kde(n,e,t){let i=t.docs.get(e._key),r=new kv(n);return new Mv(n,r,e._key,i,new qc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){vh=r})(_l),gl(new ts("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new yh(new xx(i.getProvider("auth-internal")),new Rx(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ue(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new av(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),li(C4,"4.6.5",e),li(C4,"4.6.5","esm2017")})();var Bv=function(){return Bv=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bv.apply(this,arguments)};var Fde={includeMetadataChanges:!1};function a6(n,e){return e===void 0&&(e=Fde),new dt(function(t){var i=yD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function l6(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Bv(Bv({},i),(t={},t[e.idField]=n.id,t))}function c6(n){return a6(n,{includeMetadataChanges:!0}).pipe(it(function(e){return e.docs}))}function u6(n,e){return e===void 0&&(e={}),c6(n).pipe(it(function(t){return t.map(function(i){return l6(i,e)})}))}var nu=class{constructor(e){return e}},d6="firestore",vD=class{constructor(){return Op(d6)}};var wD=new Me("angularfire2.firestore-instances");function Lde(n,e){let t=Ey(d6,n,e);return t&&new nu(t)}function Nde(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new nu(i)}}var Vde={provide:vD,deps:[[new Di,wD]]},Bde={provide:nu,useFactory:Lde,deps:[[new Di,wD],ia]},Ude=(()=>{class n{constructor(){li("angularfire",Nc.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({providers:[Bde,Vde]})}return n})();function h6(n,...e){return{ngModule:Ude,providers:[{provide:wD,useFactory:Nde(n),multi:!0,deps:[qe,fi,$d,Vc,[new Di,Hp],[new Di,Hd],...e]}]}}var f6=Fr(u6,!0);var p6=Fr(K5,!0);var m6=Fr(Y5,!0);var g6=Fr(Q5,!0);var _6=Fr(o6,!0);var Uv=(()=>{let e=class e{constructor(i){this.firestore=i,this.percorsi=p6(this.firestore,"percorsi")}getPercorsi(){return f6(this.percorsi,{idField:"id"})}updatePercorso(i,r){let s=m6(this.percorsi,i),o=_6(s,r);return Bt(o)}};e.\u0275fac=function(r){return new(r||e)(ke(nu))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var zde=()=>({"min-width":"50rem"});function Hde(n,e){n&1&&(S(0,"tr")(1,"th"),pe(2,"Nome"),R(),S(3,"th"),pe(4,"ID"),R(),S(5,"th"),pe(6,"Arrivo Previsto"),R(),S(7,"th"),pe(8,"Arrivo Effettivo"),R(),S(9,"th"),pe(10,"Partenza Prevista"),R(),S(11,"th"),pe(12,"Partenza Effettiva"),R(),S(13,"th"),pe(14,"Transito Previsto"),R(),S(15,"th"),pe(16,"Transito Effettivo"),R(),W(17,"th"),R())}function $de(n,e){if(n&1){let t=fe();S(0,"td"),pe(1),Ko(2,"date"),R(),S(3,"td")(4,"p-inputMask",7),Xs("ngModelChange",function(r){B(t);let s=y().$implicit;return qo(s.orarioArrivoEffettivo,r)||(s.orarioArrivoEffettivo=r),U(r)}),R()()}if(n&2){let t=y().$implicit;v(),Ke(Yo(2,2,t.orarioArrivoPrevisto,"HH:mm")),v(3),Zs("ngModel",t.orarioArrivoEffettivo)}}function Gde(n,e){n&1&&(S(0,"td"),pe(1,"--:--"),R(),S(2,"td"),pe(3,"--:--"),R())}function Wde(n,e){if(n&1){let t=fe();S(0,"td"),pe(1),Ko(2,"date"),R(),S(3,"td")(4,"p-inputMask",7),Xs("ngModelChange",function(r){B(t);let s=y().$implicit;return qo(s.orarioPartenzaEffettivo,r)||(s.orarioPartenzaEffettivo=r),U(r)}),R()()}if(n&2){let t=y().$implicit;v(),Ke(Yo(2,2,t.orarioPartenzaPrevisto,"HH:mm")),v(3),Zs("ngModel",t.orarioPartenzaEffettivo)}}function qde(n,e){n&1&&(S(0,"td"),pe(1,"--:--"),R(),S(2,"td"),pe(3,"--:--"),R())}function Kde(n,e){if(n&1){let t=fe();S(0,"td"),pe(1),Ko(2,"date"),R(),S(3,"td")(4,"p-inputMask",7),Xs("ngModelChange",function(r){B(t);let s=y().$implicit;return qo(s.orarioPassaggioEffettivo,r)||(s.orarioPassaggioEffettivo=r),U(r)}),R()()}if(n&2){let t=y().$implicit;v(),Ke(Yo(2,2,t.orarioPassaggioPrevisto,"HH:mm")),v(3),Zs("ngModel",t.orarioPassaggioEffettivo)}}function Yde(n,e){n&1&&(S(0,"td"),pe(1,"--:--"),R(),S(2,"td"),pe(3,"--:--"),R())}function Qde(n,e){if(n&1){let t=fe();S(0,"tr")(1,"td"),pe(2),R(),S(3,"td"),pe(4),R(),D(5,$de,5,5)(6,Gde,4,0)(7,Wde,5,5)(8,qde,4,0)(9,Kde,5,5)(10,Yde,4,0),S(11,"td")(12,"p-button",6),J("click",function(){let r=B(t).rowIndex,s=y();return U(s.saveChanges(r))}),R()()()}if(n&2){let t=e.$implicit;v(2),Ke(t.nome),v(2),Ke(t.id),v(),md(5,t.orarioArrivoPrevisto?5:6),v(2),md(7,t.orarioPartenzaPrevisto?7:8),v(2),md(9,t.orarioPassaggioPrevisto?9:10)}}var v6=(()=>{let e=class e{constructor(i){this.firestoreService=i,this.tabItems=ey,this.percorso={}}itemChanged(i){this.firestoreService.getPercorsi().subscribe({next:r=>{this.percorso=r.filter(s=>s.id===this.selectedDay.option)[0];for(let s=0;s<this.percorso.checkpoint.length;s++){if(this.percorso.checkpoint[s].orarioArrivoPrevisto){this.percorso.checkpoint[s].orarioArrivoPrevisto=this.percorso.checkpoint[s].orarioArrivoPrevisto.toDate(),this.percorso.checkpoint[s].orarioArrivoEffettivo=this.percorso.checkpoint[s].orarioArrivoEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioArrivoEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPartenzaPrevisto){this.percorso.checkpoint[s].orarioPartenzaPrevisto=this.percorso.checkpoint[s].orarioPartenzaPrevisto.toDate(),this.percorso.checkpoint[s].orarioPartenzaEffettivo=this.percorso.checkpoint[s].orarioPartenzaEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPartenzaEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPassaggioPrevisto){this.percorso.checkpoint[s].orarioPassaggioPrevisto=this.percorso.checkpoint[s].orarioPassaggioPrevisto.toDate(),this.percorso.checkpoint[s].orarioPassaggioEffettivo=this.percorso.checkpoint[s].orarioPassaggioEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPassaggioEffettivo=o[0]+":"+o[1]}}},error:r=>{console.error(r)}})}saveChanges(i){if(this.percorso.checkpoint[i].orarioArrivoPrevisto){let r=[this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[i].orarioArrivoPrevisto),this.percorso.checkpoint[i].orarioArrivoEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioArrivoEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPartenzaPrevisto){let r=[this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[i].orarioPartenzaPrevisto),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPassaggioPrevisto){let r=[this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[i].orarioPassaggioPrevisto),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setMinutes(r[1])}for(let r=0;r<this.percorso.checkpoint.length;r++)if(r!==i){if(this.percorso.checkpoint[r].orarioArrivoPrevisto){let s=[this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[r].orarioArrivoPrevisto),this.percorso.checkpoint[r].orarioArrivoEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioArrivoEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPartenzaPrevisto){let s=[this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[r].orarioPartenzaPrevisto),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPassaggioPrevisto){let s=[this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[r].orarioPassaggioPrevisto),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setMinutes(s[1])}this.firestoreService.updatePercorso(this.tabItems[0].option,this.percorso)}}};e.\u0275fac=function(r){return new(r||e)(G(Uv))},e.\u0275cmp=ne({type:e,selectors:[["app-manage"]],standalone:!0,features:[ye],decls:6,vars:5,consts:[[1,"drop-container"],["optionLabel","label","placeholder","Seleziona giorno",3,"ngModelChange","onChange","options","ngModel"],[1,"content"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["label","Salva",3,"click"],["mask","99:99","placeholder","00:00",3,"ngModelChange","ngModel"]],template:function(r,s){r&1&&(S(0,"div",0)(1,"p-dropdown",1),Xs("ngModelChange",function(a){return qo(s.selectedDay,a)||(s.selectedDay=a),a}),J("onChange",function(a){return s.itemChanged(a)}),R()(),S(2,"div",2)(3,"p-table",3),D(4,Hde,18,0,"ng-template",4)(5,Qde,13,5,"ng-template",5),R()()),r&2&&(v(),_("options",s.tabItems),Zs("ngModel",s.selectedDay),v(2),_("value",s.percorso.checkpoint)("tableStyle",ri(4,zde)))},dependencies:[$c,Gp,St,Mc,Nd,Rc,v4,dx,pL,Es,Sp,w4,hx],styles:["[_nghost-%COMP%]     .p-dropdown{width:250px;margin:auto}.drop-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}[_nghost-%COMP%]     .p-datatable{margin-top:20px}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}[_nghost-%COMP%]     .p-inputtext{width:75px}"]});let n=e;return n})();var w6=(n,e)=>he(bl).isLogged();var ID=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var wi=ID;var Ss={PROPERTYCHANGE:"propertychange"};var bD=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},bh=bD;function I6(n,e,t){let i,r;t=t||gr;let s=0,o=n.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+t(n[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function gr(n,e){return n>e?1:n<e?-1:0}function Ch(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let s=n[r];if(s===e)return r;if(s<e)return t(e,n[r-1],s)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function b6(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Eh(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function Ki(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function C6(n,e,t){let i=e||gr;return n.every(function(r,s){if(s===0)return!0;let o=i(n[s-1],r);return!(o>0||t&&o===0)})}function ha(){return!0}function fa(){return!1}function Ds(){}function jv(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Ki(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function E6(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function po(n){for(let e in n)delete n[e]}function As(n){let e;for(e in n)return!1;return!e}var CD=class extends bh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let s=t?new wi(e):e;s.target||(s.target=this.eventTarget_||this);let o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Ds);delete o[i]}return l}disposeInternal(){this.listeners_&&po(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Ds,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},Al=CD;var Se={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function at(n,e,t,i,r){if(r){let o=t;t=function(){n.removeEventListener(e,t),o.apply(i??this,arguments)}}else i&&i!==n&&(t=t.bind(i));let s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function Th(n,e,t,i){return at(n,e,t,i,!0)}function Dt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),po(n))}var xh=class extends Al{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Se.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=at(this,e[s],t);return r}return at(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=Th(this,e[s],t)}else i=Th(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)Zde(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};xh.prototype.on;xh.prototype.once;xh.prototype.un;function Zde(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Dt(n[e]);else Dt(n)}var zv=xh;function wt(){throw new Error("Unimplemented abstract method.")}var Xde=0;function mt(n){return n.ol_uid||(n.ol_uid=String(++Xde))}var Hv=class extends wi{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},ED=class extends zv{constructor(e){super(),this.on,this.once,this.un,mt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Hv(i,e,t)),i=Ss.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Hv(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],As(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},Jn=ED;var Ii={ADD:"add",REMOVE:"remove"};var T6={LENGTH:"length"},Sh=class extends wi{constructor(e,t,i){super(e),this.element=t,this.index=i}},TD=class extends Jn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(T6.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Sh(Ii.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Sh(Ii.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Sh(Ii.REMOVE,r,e)),this.dispatchEvent(new Sh(Ii.ADD,t,e))}updateLength_(){this.set(T6.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},or=TD;function Qe(n,e){if(!n)throw new Error(e)}var xD=class n extends Jn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Dt(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=at(e,Se.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Jde(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function Jde(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Qe(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var SD=xD;var rPe=new Array(6);function bi(){return[1,0,0,1,0,0]}function S6(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function zn(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Mi(n,e,t,i,r,s,o,a){let l=Math.sin(s),c=Math.cos(s);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=o*i*c-a*i*l+e,n[5]=o*r*l+a*r*c+t,n}function $v(n,e){let t=ehe(e);Qe(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-s/t,n[3]=i/t,n[4]=(s*l-o*a)/t,n[5]=-(i*l-r*a)/t,n}function ehe(n){return n[0]*n[3]-n[1]*n[2]}var x6=[1e6,1e6,1e6,1e6,2,2];function D6(n){return"matrix("+n.map((t,i)=>Math.round(t*x6[i])/x6[i]).join(", ")+")"}var ei={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function DD(n){let e=Hn();for(let t=0,i=n.length;t<i;++t)ru(e,n[t]);return e}function the(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),s=Math.max.apply(null,n),o=Math.max.apply(null,e);return Vr(i,r,s,o,t)}function Dh(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Wv(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function qv(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Rs(n,e){return AD(n,e[0],e[1])}function pa(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function AD(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Gv(n,e){let t=n[0],i=n[1],r=n[2],s=n[3],o=e[0],a=e[1],l=ei.UNKNOWN;return o<t?l=l|ei.LEFT:o>r&&(l=l|ei.RIGHT),a<i?l=l|ei.BELOW:a>s&&(l=l|ei.ABOVE),l===ei.UNKNOWN&&(l=ei.INTERSECTING),l}function Hn(){return[1/0,1/0,-1/0,-1/0]}function Vr(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function iu(n){return Vr(1/0,1/0,-1/0,-1/0,n)}function Kv(n,e){let t=n[0],i=n[1];return Vr(t,i,t,i,e)}function Ah(n,e,t,i,r){let s=iu(r);return RD(s,n,e,t,i)}function ma(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function A6(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function ru(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function RD(n,e,t,i,r){for(;t<i;t+=r)nhe(n,e[t],e[t+1]);return n}function nhe(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Yv(n,e){let t;return t=e(Rh(n)),t||(t=e(Mh(n)),t)||(t=e(kh(n)),t)||(t=e(is(n)),t)?t:!1}function Rl(n){let e=0;return Ml(n)||(e=ut(n)*vn(n)),e}function Rh(n){return[n[0],n[1]]}function Mh(n){return[n[2],n[1]]}function ns(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function R6(n,e){let t;if(e==="bottom-left")t=Rh(n);else if(e==="bottom-right")t=Mh(n);else if(e==="top-left")t=is(n);else if(e==="top-right")t=kh(n);else throw new Error("Invalid corner");return t}function pm(n,e,t,i,r){let[s,o,a,l,c,u,h,f]=ihe(n,e,t,i);return Vr(Math.min(s,a,c,h),Math.min(o,l,u,f),Math.max(s,a,c,h),Math.max(o,l,u,f),r)}function ihe(n,e,t,i){let r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(t),a=Math.sin(t),l=r*o,c=r*a,u=s*o,h=s*a,f=n[0],p=n[1];return[f-l+h,p-c-u,f-l-h,p-c+u,f+l-h,p+c+u,f+l+h,p+c-u,f-l+h,p-c-u]}function vn(n){return n[3]-n[1]}function ar(n,e,t){let i=t||Hn();return bn(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):iu(i),i}function is(n){return[n[0],n[3]]}function kh(n){return[n[2],n[3]]}function ut(n){return n[2]-n[0]}function bn(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Ml(n){return n[2]<n[0]||n[3]<n[1]}function M6(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function k6(n,e,t){let i=!1,r=Gv(n,e),s=Gv(n,t);if(r===ei.INTERSECTING||s===ei.INTERSECTING)i=!0;else{let o=n[0],a=n[1],l=n[2],c=n[3],u=e[0],h=e[1],f=t[0],p=t[1],g=(p-h)/(f-u),I,b;s&ei.ABOVE&&!(r&ei.ABOVE)&&(I=f-(p-c)/g,i=I>=o&&I<=l),!i&&s&ei.RIGHT&&!(r&ei.RIGHT)&&(b=p-(f-l)*g,i=b>=a&&b<=c),!i&&s&ei.BELOW&&!(r&ei.BELOW)&&(I=f-(p-a)/g,i=I>=o&&I<=l),!i&&s&ei.LEFT&&!(r&ei.LEFT)&&(b=p-(f-o)*g,i=b>=a&&b<=c)}return i}function O6(n,e,t,i){if(Ml(n))return iu(t);let r=[];if(i>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)r.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return the(s,o,t)}function MD(n,e){let t=e.getExtent(),i=ns(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=ut(t),o=Math.floor((i[0]-t[0])/r)*r;n[0]-=o,n[2]-=o}return n}function Oh(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];MD(n,e);let r=ut(i);if(ut(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}var ga={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var kD=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ga[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Qv=kD;var mm=6378137,Ph=Math.PI*mm,rhe=[-Ph,-Ph,Ph,Ph],she=[-180,-85,180,85],Zv=mm*Math.log(Math.tan(Math.PI/2)),kl=class extends Qv{constructor(e){super({code:e,units:"m",extent:rhe,global:!0,worldExtent:she,getPointResolution:function(t,i){return t/Math.cosh(i[1]/mm)}})}},OD=[new kl("EPSG:3857"),new kl("EPSG:102100"),new kl("EPSG:102113"),new kl("EPSG:900913"),new kl("http://www.opengis.net/def/crs/EPSG/0/3857"),new kl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function P6(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t){e[r]=Ph*n[r]/180;let s=mm*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>Zv?s=Zv:s<-Zv&&(s=-Zv),e[r+1]=s}return e}function F6(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/Ph,e[r+1]=360*Math.atan(Math.exp(n[r+1]/mm))/Math.PI-90;return e}var ohe=6378137,L6=[-180,-90,180,90],ahe=Math.PI*ohe/180,_a=class extends Qv{constructor(e,t){super({code:e,units:"degrees",extent:L6,axisOrientation:t,global:!0,metersPerUnit:ahe,worldExtent:L6})}},PD=[new _a("CRS:84"),new _a("EPSG:4326","neu"),new _a("urn:ogc:def:crs:OGC:1.3:CRS84"),new _a("urn:ogc:def:crs:OGC:2:84"),new _a("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _a("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _a("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var FD={};function N6(n){return FD[n]||FD[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function V6(n,e){FD[n]=e}var Fh={};function gm(n,e,t){let i=n.getCode(),r=e.getCode();i in Fh||(Fh[i]={}),Fh[i][r]=t}function B6(n,e){let t;return n in Fh&&e in Fh[n]&&(t=Fh[n][e]),t}function $t(n,e,t){return Math.min(Math.max(n,e),t)}function U6(n,e,t,i,r,s){let o=r-t,a=s-i;if(o!==0||a!==0){let l=((n-t)*o+(e-i)*a)/(o*o+a*a);l>1?(t=r,i=s):l>0&&(t+=o*l,i+=a*l)}return ya(n,e,t,i)}function ya(n,e,t,i){let r=t-n,s=i-e;return r*r+s*s}function j6(n){let e=n.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){let l=Math.abs(n[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;let o=n[r];n[r]=n[i],n[i]=o;for(let a=i+1;a<e;a++){let l=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Lh(n){return n*Math.PI/180}function va(n,e){let t=n%e;return t*e<0?t+e:t}function Yi(n,e,t){return n+t*(e-n)}function Xv(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function _m(n,e){return Math.floor(Xv(n,e))}function ym(n,e){return Math.ceil(Xv(n,e))}function z6(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function su(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Nh(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,s=n[1]*t+n[0]*i;return n[0]=r,n[1]=s,n}function H6(n,e){return n[0]*=e,n[1]*=e,n}function Jv(n,e){if(e.canWrapX()){let t=ut(e.getExtent()),i=$6(n,e,t);i&&(n[0]-=i*t)}return n}function $6(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||ut(i),r=Math.floor((n[0]-i[0])/t)),r}var lhe=63710088e-1;function LD(n,e,t){t=t||lhe;let i=Lh(n[1]),r=Lh(e[1]),s=(r-i)/2,o=Lh(e[0]-n[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var G6={info:1,warn:2,error:3,none:4},che=G6.info;function ew(...n){che>G6.warn||console.warn(...n)}var ND=!0;function VD(n){ND=!(n===void 0?!0:n)}function BD(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function q6(n,e){if(e!==void 0&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function uhe(n){V6(n.getCode(),n),gm(n,n,BD)}function dhe(n){n.forEach(uhe)}function Ci(n){return typeof n=="string"?N6(n):n||null}function UD(n,e,t,i){n=Ci(n);let r,s=n.getPointResolutionFunc();if(s){if(r=s(e,t),i&&i!==n.getUnits()){let o=n.getMetersPerUnit();o&&(r=r*o/ga[i])}}else{let o=n.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{let a=au(n,Ci("EPSG:4326"));if(a===q6&&o!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=LD(c.slice(0,2),c.slice(2,4)),h=LD(c.slice(4,6),c.slice(6,8));r=(u+h)/2}let l=i?ga[i]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function W6(n){dhe(n),n.forEach(function(e){n.forEach(function(t){e!==t&&gm(e,t,BD)})})}function hhe(n,e,t,i){n.forEach(function(r){e.forEach(function(s){gm(r,s,t),gm(s,r,i)})})}function tw(n,e){return n?typeof n=="string"?Ci(n):n:Ci(e)}function K6(n,e){return VD(),vm(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function ou(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||au(n,e)===BD)&&t}function au(n,e){let t=n.getCode(),i=e.getCode(),r=B6(t,i);return r||(r=q6),r}function lu(n,e){let t=Ci(n),i=Ci(e);return au(t,i)}function vm(n,e,t){return lu(e,t)(n,void 0,n.length)}function Y6(n,e,t,i){let r=lu(e,t);return O6(n,r,void 0,i)}var Ms=null;function cu(){return Ms}function wm(n,e){return Ms?vm(n,e,Ms):n}function ks(n,e){return Ms?vm(n,Ms,e):(ND&&!su(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(ND=!1,ew("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Ol(n,e){return Ms?Y6(n,e,Ms):n}function rs(n,e){return Ms?Y6(n,Ms,e):n}function Q6(n,e){if(!Ms)return n;let t=Ci(e).getMetersPerUnit(),i=Ms.getMetersPerUnit();return t&&i?n*t/i:n}function fhe(){W6(OD),W6(PD),hhe(PD,OD,P6,F6)}fhe();function _r(n,e,t,i,r,s){s=s||[];let o=0;for(let a=e;a<t;a+=i){let l=n[a],c=n[a+1];s[o++]=r[0]*l+r[2]*c+r[4],s[o++]=r[1]*l+r[3]*c+r[5]}return s&&s.length!=o&&(s.length=o),s}function nw(n,e,t,i,r,s,o){o=o||[];let a=Math.cos(r),l=Math.sin(r),c=s[0],u=s[1],h=0;for(let f=e;f<t;f+=i){let p=n[f]-c,g=n[f+1]-u;o[h++]=c+p*a-g*l,o[h++]=u+p*l+g*a;for(let I=f+2;I<f+i;++I)o[h++]=n[I]}return o&&o.length!=h&&(o.length=h),o}function Z6(n,e,t,i,r,s,o,a){a=a||[];let l=o[0],c=o[1],u=0;for(let h=e;h<t;h+=i){let f=n[h]-l,p=n[h+1]-c;a[u++]=l+r*f,a[u++]=c+s*p;for(let g=h+2;g<h+i;++g)a[u++]=n[g]}return a&&a.length!=u&&(a.length=u),a}function X6(n,e,t,i,r,s,o){o=o||[];let a=0;for(let l=e;l<t;l+=i){o[a++]=n[l]+r,o[a++]=n[l+1]+s;for(let c=l+2;c<l+i;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}var J6=bi(),jD=class extends Jn{constructor(){super(),this.extent_=Hn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=jv((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return wt()}closestPointXY(e,t,i,r){return wt()}containsXY(e,t){let i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return wt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&iu(t),this.extentRevision_=this.getRevision()}return M6(this.extent_,e)}rotate(e,t){wt()}scale(e,t,i){wt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return wt()}getType(){return wt()}applyTransform(e){wt()}intersectsExtent(e){return wt()}translate(e,t){wt()}transform(e,t){let i=Ci(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){let l=i.getExtent(),c=i.getWorldExtent(),u=vn(c)/vn(l);return Mi(J6,c[0],c[3],u,-u,0,0,0),_r(s,0,s.length,a,J6,o),lu(i,t)(s,o,a)}:lu(i,t);return this.applyTransform(r),this}},e9=jD;var zD=class extends e9{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Ah(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return wt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=t9(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){wt()}setLayout(e,t,i){let r;if(e)r=t9(e);else{for(let s=0;s<i;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=phe(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();nw(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=ns(this.getExtent()));let r=this.getFlatCoordinates();if(r){let s=this.getStride();Z6(r,0,r.length,s,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();X6(i,0,i.length,r,e,t,i),this.changed()}}};function phe(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function t9(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function n9(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return _r(i,0,i.length,r,e,t)}var Vh=zD;function i9(n,e,t,i,r,s,o){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,h;if(c===0&&u===0)h=e;else{let f=((r-a)*c+(s-l)*u)/(c*c+u*u);if(f>1)h=t;else if(f>0){for(let p=0;p<i;++p)o[p]=Yi(n[e+p],n[t+p],f);o.length=i;return}else h=e}for(let f=0;f<i;++f)o[f]=n[h+f];o.length=i}function HD(n,e,t,i,r){let s=n[e],o=n[e+1];for(e+=i;e<t;e+=i){let a=n[e],l=n[e+1],c=ya(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function r9(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){let a=t[s];r=HD(n,e,a,i,r),e=a}return r}function $D(n,e,t,i,r,s,o,a,l,c,u){if(e==t)return c;let h,f;if(r===0){if(f=ya(o,a,n[e],n[e+1]),f<c){for(h=0;h<i;++h)l[h]=n[e+h];return l.length=i,f}return c}u=u||[NaN,NaN];let p=e+i;for(;p<t;)if(i9(n,p-i,p,i,o,a,u),f=ya(o,a,u[0],u[1]),f<c){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(s&&(i9(n,t-i,e,i,o,a,u),f=ya(o,a,u[0],u[1]),f<c)){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function s9(n,e,t,i,r,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,f=t.length;h<f;++h){let p=t[h];c=$D(n,e,p,i,r,s,o,a,l,c,u),e=p}return c}function o9(n,e,t,i){for(let r=0,s=t.length;r<s;++r)n[e++]=t[r];return e}function GD(n,e,t,i){for(let r=0,s=t.length;r<s;++r){let o=t[r];for(let a=0;a<i;++a)n[e++]=o[a]}return e}function a9(n,e,t,i,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=GD(n,e,t[o],i);r[s++]=l,e=l}return r.length=s,r}function Im(n,e,t,i,r,s,o){let a=(t-e)/i;if(a<3){for(;e<t;e+=i)s[o++]=n[e],s[o++]=n[e+1];return o}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-i],u=0;for(;c.length>0;){let h=c.pop(),f=c.pop(),p=0,g=n[f],I=n[f+1],b=n[h],E=n[h+1];for(let M=f+i;M<h;M+=i){let O=n[M],F=n[M+1],$=U6(O,F,g,I,b,E);$>p&&(u=M,p=$)}p>r&&(l[(u-e)/i]=1,f+i<u&&c.push(f,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=n[e+h*i],s[o++]=n[e+h*i+1]);return o}function l9(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=Im(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Pl(n,e){return e*Math.round(n/e)}function mhe(n,e,t,i,r,s,o){if(e==t)return o;let a=Pl(n[e],r),l=Pl(n[e+1],r);e+=i,s[o++]=a,s[o++]=l;let c,u;do if(c=Pl(n[e],r),u=Pl(n[e+1],r),e+=i,e==t)return s[o++]=c,s[o++]=u,o;while(c==a&&u==l);for(;e<t;){let h=Pl(n[e],r),f=Pl(n[e+1],r);if(e+=i,h==c&&f==u)continue;let p=c-a,g=u-l,I=h-a,b=f-l;if(p*b==g*I&&(p<0&&I<p||p==I||p>0&&I>p)&&(g<0&&b<g||g==b||g>0&&b>g)){c=h,u=f;continue}s[o++]=c,s[o++]=u,a=c,l=u,c=h,u=f}return s[o++]=c,s[o++]=u,o}function iw(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=mhe(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Fl(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function Bh(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=Fl(n,e,l,i,r[s]),e=l}return r.length=s,r}function WD(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=l.length===1&&l[0]===e?[]:Bh(n,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function qD(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1],a=0,l=0;for(;e<t;e+=i){let c=n[e]-s,u=n[e+1]-o;r+=l*c-a*u,a=c,l=u}return r/2}function c9(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){let a=t[s];r+=qD(n,e,a,i),e=a}return r}var KD=class n extends Vh{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<qv(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(HD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$D(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return qD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Fl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Im(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=GD(this.flatCoordinates,0,e,this.stride),this.changed()}},YD=KD;var QD=class n extends Vh{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let s=this.flatCoordinates,o=ya(e,t,s[0],s[1]);if(o<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Kv(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return AD(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=o9(this.flatCoordinates,0,e,this.stride),this.changed()}},Uh=QD;function u9(n,e,t,i,r){return!Yv(r,function(o){return!Ll(n,e,t,i,o[0],o[1])})}function Ll(n,e,t,i,r,s){let o=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){let c=n[e],u=n[e+1];l<=s?u>s&&(c-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(c-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function rw(n,e,t,i,r,s){if(t.length===0||!Ll(n,e,t[0],i,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(Ll(n,t[o-1],t[o],i,r,s))return!1;return!0}function bm(n,e,t,i,r,s,o){let a,l,c,u,h,f,p,g=r[s+1],I=[];for(let M=0,O=t.length;M<O;++M){let F=t[M];for(u=n[F-i],f=n[F-i+1],a=e;a<F;a+=i)h=n[a],p=n[a+1],(g<=f&&p<=g||f<=g&&g<=p)&&(c=(g-f)/(p-f)*(h-u)+u,I.push(c)),u=h,f=p}let b=NaN,E=-1/0;for(I.sort(gr),u=I[0],a=1,l=I.length;a<l;++a){h=I[a];let M=Math.abs(h-u);M>E&&(c=(u+h)/2,rw(n,e,t,i,c,g)&&(b=c,E=M)),u=h}return isNaN(b)&&(b=r[s]),o?(o.push(b,g,E),o):[b,g,E]}function d9(n,e,t,i,r){let s=[];for(let o=0,a=t.length;o<a;++o){let l=t[o];s=bm(n,e,l,i,r,2*o,s),e=l[l.length-1]}return s}function h9(n,e,t,i,r){let s;for(e+=i;e<t;e+=i)if(s=r(n.slice(e-i,e),n.slice(e,e+i)),s)return s;return!1}function f9(n,e,t,i,r){let s=RD(Hn(),n,e,t,i);return bn(r,s)?pa(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:h9(n,e,t,i,function(o,a){return k6(r,o,a)}):!1}function ZD(n,e,t,i,r){return!!(f9(n,e,t,i,r)||Ll(n,e,t,i,r[0],r[1])||Ll(n,e,t,i,r[0],r[3])||Ll(n,e,t,i,r[2],r[1])||Ll(n,e,t,i,r[2],r[3]))}function p9(n,e,t,i,r){if(!ZD(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(u9(n,t[s-1],t[s],i,r)&&!f9(n,t[s-1],t[s],i,r))return!1;return!0}function m9(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let s=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=s}e+=i,t-=i}}function XD(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){let a=n[e],l=n[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function g9(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=XD(n,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function JD(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=XD(n,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&m9(n,e,a,i),e=a}return e}function _9(n,e){let t=[],i=0,r=0,s;for(let o=0,a=e.length;o<a;++o){let l=e[o],c=XD(n,i,l,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(r,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=o+1,i=l}return t}var sw=class n extends Vh{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Eh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<qv(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(r9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return rw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return c9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),JD(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Bh(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=ns(this.getExtent());this.flatInteriorPoint_=bm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Uh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new YD(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],s=0;for(let o=0,a=i.length;o<a;++o){let l=i[o],c=new YD(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;g9(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=JD(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=iw(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return p9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=a9(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},y9=sw;function e2(n){if(Ml(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],s=[e,t,e,r,i,r,i,t,e,t];return new sw(s,"XY",[s.length])}var ki={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Je={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var wa={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var uu={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};uu.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};uu.max=uu.whitepoint[2].D65;uu.rgb=function(n,e){e=e||uu.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],s,o,a;return s=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};wa.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+i*.35758433938387+r*.18048078840183,o=t*.21263900587151+i*.71516867876775+r*.072192315360733,a=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||uu.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};var yr=uu;var ow={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,s,o,a,l,c,u,h,f,p,g,I;if(s=n[0],o=n[1],a=n[2],s===0)return[0,0,0];var b=.0011070564598794539;return e=e||"D65",t=t||2,h=yr.whitepoint[t][e][0],f=yr.whitepoint[t][e][1],p=yr.whitepoint[t][e][2],g=4*h/(h+15*f+3*p),I=9*f/(h+15*f+3*p),i=o/(13*s)+g||0,r=a/(13*s)+I||0,c=s>8?f*Math.pow((s+16)/116,3):f*s*b,l=c*9*i/(4*r)||0,u=c*(12-3*i-20*r)/(4*r)||0,[l,c,u]}};yr.luv=function(n,e,t){var i,r,s,o,a,l,c,u,h,f,p,g,I,b=.008856451679035631,E=903.2962962962961;e=e||"D65",t=t||2,h=yr.whitepoint[t][e][0],f=yr.whitepoint[t][e][1],p=yr.whitepoint[t][e][2],g=4*h/(h+15*f+3*p),I=9*f/(h+15*f+3*p),l=n[0],c=n[1],u=n[2],i=4*l/(l+15*c+3*u)||0,r=9*c/(l+15*c+3*u)||0;var M=c/f;return s=M<=b?E*M:116*Math.pow(M,1/3)-16,o=13*s*(i-g),a=13*s*(r-I),[s,o,a]};var v9={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,s,o;return o=i/360*2*Math.PI,r=t*Math.cos(o),s=t*Math.sin(o),[e,r,s]},xyz:function(n){return ow.xyz(v9.luv(n))}},w9=v9;ow.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]};yr.lchuv=function(n){return ow.lchuv(yr.luv(n))};var t2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var b9=ghe,I9={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function ghe(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),t2[n])t=t2[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;i=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,h){if(u[u.length-1]==="%")return u=parseFloat(u)/100,h===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!h?u*100:r==="lab"?u*125:r==="lch"?h<2?u*150:u*360:r[0]==="o"&&!h?u:r==="oklab"?u*.4:r==="oklch"?h<2?u*.4:u*360:u;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(I9[u]!==void 0)return I9[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}var aw={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,s,o,a,l,c=0;if(t===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+t):i+t-i*t,r=2*i-s,a=[0,0,0];c<3;)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[c++]=l*255;return a}};wa.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=s-r,a,l,c;return s===r?a=0:e===s?a=(t-i)/o:t===s?a=2+(i-e)/o:i===s&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,c*100]};function n2(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t,i,r=b9(n);if(!r.space)return[];let s=r.space[0]==="h"?aw.min:wa.min,o=r.space[0]==="h"?aw.max:wa.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],s[0]),o[0]),e[1]=Math.min(Math.max(r.values[1],s[1]),o[1]),e[2]=Math.min(Math.max(r.values[2],s[2]),o[2]),r.space[0]==="h"&&(e=aw.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function C9(n){return typeof n=="string"?n:Tm(n)}var _he=1024,Cm={},i2=0;function E9(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function r2(n){let e=yr.lchuv(wa.xyz(n));return e[3]=n[3],e}function T9(n){let e=yr.rgb(w9.xyz(n));return e[3]=n[3],e}function Em(n){if(Cm.hasOwnProperty(n))return Cm[n];if(i2>=_he){let t=0;for(let i in Cm)t++&3||(delete Cm[i],--i2)}let e=n2(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(let t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return s2(e),Cm[n]=e,++i2,e}function Ia(n){return Array.isArray(n)?n:Em(n)}function s2(n){return n[0]=$t(n[0]+.5|0,0,255),n[1]=$t(n[1]+.5|0,0,255),n[2]=$t(n[2]+.5|0,0,255),n[3]=$t(n[3],0,1),n}function Tm(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}var Nl=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",x9=Nl.includes("firefox"),yhe=Nl.includes("safari")&&!Nl.includes("chrom"),gLe=yhe&&(Nl.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Nl)),S9=Nl.includes("webkit")&&!Nl.includes("edge"),o2=Nl.includes("macintosh"),lw=typeof devicePixelRatio<"u"?devicePixelRatio:1,cw=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,a2=typeof Image<"u"&&Image.prototype.decode;var uw=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function Gt(n,e,t,i){let r;return t&&t.length?r=t.shift():cw?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var l2;function jh(){return l2||(l2=Gt(1,1)),l2}function mo(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function c2(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function D9(n){for(;n.lastChild;)n.lastChild.remove()}function A9(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--i;continue}n.insertBefore(s,r)}}}function R9(n,e,t){let i=n,r=!0,s=!1,o=!1,a=[Th(i,Se.LOAD,function(){o=!0,s||e()})];return i.src&&a2?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():t())})):a.push(Th(i,Se.ERROR,t)),function(){r=!1,a.forEach(Dt)}}function vhe(n,e){return new Promise((t,i)=>{function r(){o(),t(n)}function s(){o(),i(new Error("Image load error"))}function o(){n.removeEventListener("load",r),n.removeEventListener("error",s)}n.addEventListener("load",r),n.addEventListener("error",s),e&&(n.src=e)})}function M9(n,e){return e&&(n.src=e),n.src&&a2?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):vhe(n)}var d2=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=u2(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=u2(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,s){let o=u2(e,t,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===Je.IDLE&&r.load(),r.getImageState()===Je.LOADING?r.ready().then(()=>{this.patternCache_[o]=jh().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=jh().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function u2(n,e,t){let i=t?Ia(t):"null";return e+":"+n+":"+i}var Br=new d2;var xm=null,h2=class extends Al{constructor(e,t,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?Je.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Je.LOADED){xm||(xm=Gt(1,1,void 0,{willReadFrequently:!0})),xm.drawImage(this.image_,0,0);try{xm.getImageData(0,0,1,1),this.tainted_=!1}catch{xm=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Se.CHANGE)}handleImageError_(){this.imageState_=Je.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Je.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=Gt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Je.IDLE){this.image_||this.initializeImage_(),this.imageState_=Je.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&M9(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Je.LOADED)return;let t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);let r=i.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=C9(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Je.LOADED||this.imageState_===Je.ERROR)e();else{let t=()=>{(this.imageState_===Je.LOADED||this.imageState_===Je.ERROR)&&(this.removeEventListener(Se.CHANGE,t),e())};this.addEventListener(Se.CHANGE,t)}})),this.ready_}};function zh(n,e,t,i,r,s){let o=e===void 0?void 0:Br.get(e,t,r);return o||(o=new h2(n,n&&"src"in n?n.src||void 0:e,t,i,r),Br.set(e,t,r,o,s)),s&&o&&!Br.getPattern(e,t,r)&&Br.set(e,t,r,o,s),o}var f2=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=zh(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Je.IDLE&&t.load(),t.getImageState()===Je.LOADING&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},Hh=f2;function p2(n,e,t,i,r,s,o){let a,l,c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=n[e],h=n[e+1],f=0,p=[0];for(let b=e+i;b<t;b+=i){let E=n[b],M=n[b+1];f+=Math.sqrt((E-u)*(E-u)+(M-h)*(M-h)),p.push(f),u=E,h=M}let g=r*f,I=I6(p,g);I<0?(l=(g-p[-I-2])/(p[-I-1]-p[-I-2]),a=e+(-I-2)*i):a=e+I*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?n[a+u]:Yi(n[a+u],n[a+i+u],l);return s}function k9(n,e,t,i){let r=n[e],s=n[e+1],o=0;for(let a=e+i;a<t;a+=i){let l=n[a],c=n[a+1];o+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return o}var m2=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},dw=m2;function g2(n){return n[0]>0&&n[1]>0}function O9(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function kn(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var _2=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=kn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return wt()}getImage(e){return wt()}getHitDetectionImage(){return wt()}getPixelRatio(e){return 1}getImageState(){return wt()}getImageSize(){return wt()}getOrigin(){return wt()}getSize(){return wt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=kn(e)}listenImageChange(e){wt()}load(){wt()}unlistenImageChange(e){wt()}ready(){return Promise.resolve()}},hw=_2;function vr(n){return n?Array.isArray(n)?Tm(n):typeof n=="object"&&"src"in n?whe(n):n:null}function whe(n){if(!n.offset||!n.size)return Br.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=Br.getPattern(e,void 0,n.color);if(t)return t;let i=Br.get(n.src,"anonymous",null);if(i.getImageState()!==Je.LOADED)return null;let r=Gt(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),zh(r.canvas,e,void 0,Je.LOADED,n.color,!0),Br.getPattern(e,void 0,n.color)}var Sm="ol-hidden";var Vl="ol-unselectable";var $h="ol-control",y2="ol-collapsed",Ihe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),P9=["style","variant","weight","size","lineHeight","family"],v2=function(n){let e=n.match(Ihe);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=P9.length;i<r;++i){let s=e[i+1];s!==void 0&&(t[P9[i]]=s)}return t.families=t.family.split(/,\s?/),t};var pw="10px sans-serif",ui="#000",_o="round",wr=[],Ir=0,yo="round",ba=10,Ca="#000",Bl="center",du="middle",Ea=[0,0,0,0],Ta=1,go=new Jn,Gh=null,w2,I2={},F9=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",s,o;function a(c,u,h){let f=!0;for(let p=0;p<i;++p){let g=t[p];if(o=fw(c+" "+u+" "+e+g,r),h!=g){let I=fw(c+" "+u+" "+e+h+","+g,r);f=f&&I!=o}}return!!f}function l(){let c=!0,u=go.getKeys();for(let h=0,f=u.length;h<f;++h){let p=u[h];if(go.get(p)<100){let[g,I,b]=p.split(`
`);a(g,I,b)?(po(I2),Gh=null,w2=void 0,go.set(p,100)):(go.set(p,go.get(p)+1,!0),c=!1)}}c&&(clearInterval(s),s=void 0)}return function(c){let u=v2(c);if(!u)return;let h=u.families;for(let f=0,p=h.length;f<p;++f){let g=h[f],I=u.style+`
`+u.weight+`
`+g;go.get(I)===void 0&&(go.set(I,100,!0),a(u.style,u.weight,g)||(go.set(I,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),bhe=function(){let n;return function(e){let t=I2[e];if(t==null){if(cw){let i=v2(e),r=L9(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);I2[e]=t}return t}}();function L9(n,e){return Gh||(Gh=Gt(1,1)),n!=w2&&(Gh.font=n,w2=Gh.font),Gh.measureText(e)}function fw(n,e){return L9(n,e).width}function b2(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,s)=>Math.max(r,fw(n,s)),0);return t[e]=i,i}function N9(n,e){let t=[],i=[],r=[],s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let h=e[c];if(h===`
`||c===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}let f=e[c+1]||n.font,p=fw(f,h);t.push(p),o+=p;let g=bhe(f);i.push(g),l=Math.max(l,g)}return{width:s,height:a,widths:t,heights:i,lineWidths:r}}function V9(n,e,t,i,r,s,o,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=h=>h.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),Che(i,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(i,r,s,o,a,0,0,o,a)):n.drawImage(i,r,s,o,a,l,c,o*u[0],a*u[1]),n.restore()}function Che(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var C2=class n extends hw{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Je.LOADING:Je.LOADED,this.imageState_===Je.LOADING&&this.ready().then(()=>this.imageState_=Je.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){let i=this.renderOptions_,r=Gt(i.size*e,i.size*e);this.draw_(i,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){let Y=r;r=s,s=Y}let o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),u=r-c,h=Math.sqrt(l*l+u*u),f=h/l;if(e==="miter"&&f<=i)return f*t;let p=t/2/f,g=t/2*(u/h),b=Math.sqrt((r+p)*(r+p)+g*g)-r;if(this.radius2_===void 0||e==="bevel")return b*2;let E=r*Math.sin(a),M=Math.sqrt(r*r-E*E),O=s-M,$=Math.sqrt(E*E+O*O)/E;if($<=i){let Y=$*t/2-s-r;return 2*Math.max(b,Y)}return b*2}createRenderOptions(){let e=_o,t=yo,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=vr(this.stroke_.getColor()??Ca),a=this.stroke_.getWidth()??Ta,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??yo,e=this.stroke_.getLineCap()??_o,i=this.stroke_.getMiterLimit()??ba);let l=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=ui),t.fillStyle=vr(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Ia(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=Gt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){let l=s+a*o,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=ui,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},mw=C2;var E2=class n extends mw{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},gw=E2;var _w=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=B9,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=B9,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function U9(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Qe(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var T2=null;function x2(n,e){if(!T2){let t=new Hh({color:"rgba(255,255,255,0.4)"}),i=new dw({color:"#3399CC",width:1.25});T2=[new _w({image:new gw({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return T2}function B9(n){return n.getGeometry()}var Ul=_w;var Ehe="#333",S2=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=kn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Hh({color:Ehe}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=kn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},j9=S2;var Qt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var D2=class extends Jn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Qt.OPACITY]=e.opacity!==void 0?e.opacity:1,Qe(typeof t[Qt.OPACITY]=="number","Layer opacity must be a number"),t[Qt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Qt.Z_INDEX]=e.zIndex,t[Qt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Qt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Qt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Qt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=$t(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return wt()}getLayerStatesArray(e){return wt()}getExtent(){return this.get(Qt.EXTENT)}getMaxResolution(){return this.get(Qt.MAX_RESOLUTION)}getMinResolution(){return this.get(Qt.MIN_RESOLUTION)}getMinZoom(){return this.get(Qt.MIN_ZOOM)}getMaxZoom(){return this.get(Qt.MAX_ZOOM)}getOpacity(){return this.get(Qt.OPACITY)}getSourceState(){return wt()}getVisible(){return this.get(Qt.VISIBLE)}getZIndex(){return this.get(Qt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Qt.EXTENT,e)}setMaxResolution(e){this.set(Qt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Qt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Qt.MAX_ZOOM,e)}setMinZoom(e){this.set(Qt.MIN_ZOOM,e)}setOpacity(e){Qe(typeof e=="number","Layer opacity must be a number"),this.set(Qt.OPACITY,e)}setVisible(e){this.set(Qt.VISIBLE,e)}setZIndex(e){this.set(Qt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},yw=D2;var di={ANIMATING:0,INTERACTING:1};var ss={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function A2(n,e,t){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;let l=e?0:s[0]*r,c=e?0:s[1]*r,u=a?a[0]:0,h=a?a[1]:0,f=n[0]+l/2+u,p=n[2]-l/2+u,g=n[1]+c/2+h,I=n[3]-c/2+h;f>p&&(f=(p+f)/2,p=f),g>I&&(g=(I+g)/2,I=g);let b=$t(i[0],f,p),E=$t(i[1],g,I);if(o&&t&&r){let M=30*r;b+=-M*Math.log(1+Math.max(0,f-i[0])/M)+M*Math.log(1+Math.max(0,i[0]-p)/M),E+=-M*Math.log(1+Math.max(0,g-i[1])/M)+M*Math.log(1+Math.max(0,i[1]-I)/M)}return[b,E]}}function z9(n){return n}function R2(n,e,t,i){let r=ut(e)/t[0],s=vn(e)/t[1];return i?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function M2(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),$t(i,t/2,e*2)}function H9(n,e,t,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){let l=n[0],c=n[n.length-1],u=t?R2(l,t,o,i):l;if(a)return e?M2(r,u,c):$t(r,c,u);let h=Math.min(u,r),f=Math.floor(Ch(n,h,s));return n[f]>u&&f<n.length-1?n[f+1]:n[f]}}}function $9(n,e,t,i,r,s){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(o,a,l,c){if(o!==void 0){let u=r?R2(e,r,l,s):e;if(c)return i?M2(o,u,t):$t(o,t,u);let h=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(n)-h),p=-a*(.5-h)+.5,g=Math.min(u,o),I=Math.floor(Math.log(e/g)/Math.log(n)+p),b=Math.max(f,I),E=e/Math.pow(n,b);return $t(E,t,u)}}}function k2(n,e,t,i,r){return t=t!==void 0?t:!0,function(s,o,a,l){if(s!==void 0){let c=i?R2(n,i,a,r):n;return!t||!l?$t(s,e,c):M2(s,c,e)}}}function Wh(n){if(n!==void 0)return 0}function O2(n){if(n!==void 0)return n}function G9(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function W9(n){let e=n===void 0?Lh(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}function P2(n){return Math.pow(n,3)}function os(n){return 1-P2(1-n)}function q9(n){return 3*n*n-2*n*n*n}function K9(n){return n}var F2=0,N2=class extends Jn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=tw(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&VD(),e.center&&(e.center=ks(e.center,this.projection_)),e.extent&&(e.extent=rs(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in ss)delete t[a];this.setProperties(t,!0);let i=xhe(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=The(e),s=i.constraint,o=She(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=ks(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=ks(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){i&&vw(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<t;++r){let u=arguments[r],h={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||q9,callback:i};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;let f=va(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}Dhe(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(di.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[di.ANIMATING]>0}getInteracting(){return this.hints_[di.INTERACTING]>0}cancelAnimations(){this.setHint(di.ANIMATING,-this.hints_[di.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&vw(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){let a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],s=!0;for(let o=0,a=r.length;o<a;++o){let l=r[o];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;let h=l.easing(u);if(l.sourceCenter){let f=l.sourceCenter[0],p=l.sourceCenter[1],g=l.targetCenter[0],I=l.targetCenter[1];this.nextCenter_=l.targetCenter;let b=f+h*(g-f),E=p+h*(I-p);this.targetCenter_=[b,E]}if(l.sourceResolution&&l.targetResolution){let f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){let p=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(f,0,p,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=h===1?va(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){let p=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(p,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(di.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let o=r[0].callback;o&&vw(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Nh(i,e-this.getRotation()),z6(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){let o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&wm(e,this.getProjection())}getCenterInternal(){return this.get(ss.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return Ol(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();Qe(t,"The view center is not defined");let i=this.getResolution();Qe(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return Qe(r!==void 0,"The view rotation is not defined"),pm(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(ss.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(rs(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=ut(e)/t[0],r=vn(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(ss.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/t;return function(o){return Math.log(i/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),s=this.padding_;if(s){let o=this.getViewportSizeMinusPadding_();r=L2(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let s=Ch(this.resolutions_,e,1);t=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let t=$t(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,$t(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Qe(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Qe(!Ml(e),"Cannot fit empty extent provided as `geometry`");let r=rs(e,this.getProjection());i=e2(r)}else if(e.getType()==="Circle"){let r=rs(e.getExtent(),this.getProjection());i=e2(r),i.rotate(this.getRotation(),ns(r))}else{let r=cu();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,f=s.length;h<f;h+=o){let p=s[h]*i-s[h+1]*r,g=s[h]*r+s[h+1]*i;a=Math.min(a,p),l=Math.min(l,g),c=Math.max(c,p),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1,o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);let c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),f=ns(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;let p=f[0]*h-f[1]*u,g=f[1]*h+f[0]*u,I=this.getConstrainedCenter([p,g],l),b=t.callback?t.callback:Ds;t.duration!==void 0?this.animateInternal({resolution:l,center:I,duration:t.duration,easing:t.easing},b):(this.targetResolution_=l,this.targetCenter_=I,this.applyTargetState_(!1,!0),vw(b,!0))}centerOn(e,t,i){this.centerOnInternal(ks(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(L2(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let s,o=this.padding_;if(o&&e){let a=this.getViewportSizeMinusPadding_(-i),l=L2(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=wm(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&ks(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=ks(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ks(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(ss.ROTATION)!==r&&this.set(ss.ROTATION,r),this.get(ss.RESOLUTION)!==o&&(this.set(ss.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(ss.CENTER)||!su(this.get(ss.CENTER),a))&&this.set(ss.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!su(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:os,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(di.INTERACTING,1)}endInteraction(e,t,i){i=i&&ks(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(di.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function vw(n,e){setTimeout(function(){n(e)},0)}function The(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return A2(n.extent,n.constrainOnlyCenter,t)}let e=tw(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,A2(t,!1,!1)}return z9}function xhe(n){let e,t,i,o=n.minZoom!==void 0?n.minZoom:F2,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,h=n.showFullExtent!==void 0?n.showFullExtent:!1,f=tw(n.projection,"EPSG:3857"),p=f.getExtent(),g=n.constrainOnlyCenter,I=n.extent;if(!c&&!I&&f.isGlobal()&&(g=!1,I=p),n.resolutions!==void 0){let b=n.resolutions;t=b[o],i=b[a]!==void 0?b[a]:b[b.length-1],n.constrainResolution?e=H9(b,u,!g&&I,h):e=k2(t,i,u,!g&&I,h)}else{let E=(p?Math.max(ut(p),vn(p)):360*ga.degrees/f.getMetersPerUnit())/256/Math.pow(2,F2),M=E/Math.pow(2,28-F2);t=n.maxResolution,t!==void 0?o=0:t=E/Math.pow(l,o),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,a):i=E/Math.pow(l,a):i=M),a=o+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-o),n.constrainResolution?e=$9(l,t,i,u,!g&&I,h):e=k2(t,i,u,!g&&I,h)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:l}}function She(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?W9():t===!1?O2:typeof t=="number"?G9(t):O2}return Wh}function Dhe(n){return!(n.sourceCenter&&n.targetCenter&&!su(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function L2(n,e,t,i,r){let s=Math.cos(-r),o=Math.sin(-r),a=n[0]*s-n[1]*o,l=n[1]*s+n[0]*o;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,o=-o;let c=a*s-l*o,u=l*s+a*o;return[c,u]}var br=N2;var V2=class extends yw{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Qt.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Qt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Dt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=at(e,Se.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof br?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();let s=this.getExtent();return Dm(r,t.viewState)&&(!s||bn(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof br?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Qt.MAP,e)}getMapInternal(){return this.get(Qt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Dt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Dt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=at(e,ki.PRECOMPOSE,t=>{let r=t.frameState.layerStatesArray,s=this.getLayerState(!1);Qe(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)}),this.mapRenderKey_=at(this,Se.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Qt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Dm(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var hu=V2;function B2(n,e,t,i,r){Q9(n,e,t||0,i||n.length-1,r||Ahe)}function Q9(n,e,t,i,r){for(;i>t;){if(i-t>600){var s=i-t+1,o=e-t+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1),u=Math.max(t,Math.floor(e-o*l/s+c)),h=Math.min(i,Math.floor(e+(s-o)*l/s+c));Q9(n,e,u,h,r)}var f=n[e],p=t,g=i;for(Am(n,t,e),r(n[i],f)>0&&Am(n,t,i);p<g;){for(Am(n,p,g),p++,g--;r(n[p],f)<0;)p++;for(;r(n[g],f)>0;)g--}r(n[t],f)===0?Am(n,t,g):(g++,Am(n,g,i)),g<=e&&(t=g+1),e<=g&&(i=g-1)}}function Am(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function Ahe(n,e){return n<e?-1:n>e?1:0}var Yh=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!Iw(e,t))return i;let r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){let a=t.children[o],l=t.leaf?r(a):a;Iw(e,l)&&(t.leaf?i.push(a):j2(e,l)?this._all(a,i):s.push(a))}t=s.pop()}return i}collides(e){let t=this.data;if(!Iw(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let s=t.children[r],o=t.leaf?this.toBBox(s):s;if(Iw(e,o)){if(t.leaf||j2(e,o))return!0;i.push(s)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Kh([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),s=[],o=[],a,l,c;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),i.leaf){let u=Rhe(e,i.children,t);if(u!==-1)return i.children.splice(u,1),s.push(i),this._condense(s),this}!c&&!i.leaf&&j2(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let s=i-t+1,o=this._maxEntries,a;if(s<=o)return a=Kh(e.slice(t,i+1)),qh(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=Kh([]),a.leaf=!1,a.height=r;let l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));Z9(e,t,i,c,this.compareMinX);for(let u=t;u<=i;u+=c){let h=Math.min(u+c-1,i);Z9(e,u,h,l,this.compareMinY);for(let f=u;f<=h;f+=l){let p=Math.min(f+l-1,h);a.children.push(this._build(e,f,p,r-1))}}return qh(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=U2(c),h=Ohe(e,c)-u;h<o?(o=h,s=u<s?u:s,a=c):h===o&&u<s&&(s=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),Mm(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){let i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);let o=this._chooseSplitIndex(i,s,r),a=Kh(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,qh(i,this.toBBox),qh(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=Kh([e,t]),this.data.height=e.height+1,this.data.leaf=!1,qh(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,s=1/0,o=1/0;for(let a=t;a<=i-t;a++){let l=Rm(e,0,a,this.toBBox),c=Rm(e,a,i,this.toBBox),u=Phe(l,c),h=U2(l)+U2(c);u<s?(s=u,r=a,o=h<o?h:o):u===s&&h<o&&(o=h,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:Mhe,s=e.leaf?this.compareMinY:khe,o=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let s=this.toBBox,o=Rm(e,0,t,s),a=Rm(e,i-t,i,s),l=ww(o)+ww(a);for(let c=t;c<i-t;c++){let u=e.children[c];Mm(o,e.leaf?s(u):u),l+=ww(o)}for(let c=i-t-1;c>=t;c--){let u=e.children[c];Mm(a,e.leaf?s(u):u),l+=ww(a)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Mm(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():qh(e[t],this.toBBox)}};function Rhe(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function qh(n,e){Rm(n,0,n.children.length,e,n)}function Rm(n,e,t,i,r){r||(r=Kh(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){let o=n.children[s];Mm(r,n.leaf?i(o):o)}return r}function Mm(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function Mhe(n,e){return n.minX-e.minX}function khe(n,e){return n.minY-e.minY}function U2(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function ww(n){return n.maxX-n.minX+(n.maxY-n.minY)}function Ohe(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function Phe(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),s=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-i)}function j2(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Iw(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Kh(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Z9(n,e,t,i,r){let s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=i)continue;let o=e+Math.ceil((t-e)/i/2)*i;B2(n,o,e,t,r),s.push(e,o,o,t)}}function X9(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var z2=class n extends hw{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let o=e.img!==void 0?e.img:null,a=e.src;Qe(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||mt(o)),Qe(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Qe(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Je.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?Je.LOADED:Je.IDLE:l=Je.LOADING:l=Je.LOADED),this.color_=e.color!==void 0?Ia(e.color):null,this.iconImage_=zh(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let p=this.iconImage_.getSize();this.setScale(X9(p[0],p[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(X9(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Je.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Je.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Se.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Se.CHANGE,e)}ready(){return this.iconImage_.ready()}},fu=z2;var pu=0;var Qi=1<<pu++,kt=1<<pu++,lr=1<<pu++,Ur=1<<pu++,zl=1<<pu++,Om=1<<pu++,bw=Math.pow(2,pu)-1,$2={[Qi]:"boolean",[kt]:"number",[lr]:"string",[Ur]:"color",[zl]:"number[]",[Om]:"size"},Fhe=Object.keys($2).map(Number).sort(gr);function Lhe(n){return n in $2}function Pm(n){let e=[];for(let t of Fhe)Fm(n,t)&&e.push($2[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Fm(n,e){return(n&e)===e}function jl(n,e){return n===e}var On=class{constructor(e,t){if(!Lhe(e))throw new Error(`literal expressions must have a specific type, got ${Pm(e)}`);this.type=e,this.value=t}},H2=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function G2(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Ei(n,e,t){switch(typeof n){case"boolean":{if(jl(e,lr))return new On(lr,n?"true":"false");if(!Fm(e,Qi))throw new Error(`got a boolean, but expected ${Pm(e)}`);return new On(Qi,n)}case"number":{if(jl(e,Om))return new On(Om,kn(n));if(jl(e,Qi))return new On(Qi,!!n);if(jl(e,lr))return new On(lr,n.toString());if(!Fm(e,kt))throw new Error(`got a number, but expected ${Pm(e)}`);return new On(kt,n)}case"string":{if(jl(e,Ur))return new On(Ur,Em(n));if(jl(e,Qi))return new On(Qi,!!n);if(!Fm(e,lr))throw new Error(`got a string, but expected ${Pm(e)}`);return new On(lr,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return Khe(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(jl(e,Om)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new On(Om,n)}if(jl(e,Ur)){if(n.length===3)return new On(Ur,[...n,1]);if(n.length===4)return new On(Ur,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!Fm(e,zl))throw new Error(`got an array of numbers, but expected ${Pm(e)}`);return new On(zl,n)}var ee={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},Nhe={[ee.Get]:nt(It(1,1/0),Vhe),[ee.Var]:nt(It(1,1),Bhe),[ee.Id]:nt(Uhe,km),[ee.Concat]:nt(It(2,1/0),Zt(lr)),[ee.GeometryType]:nt(jhe,km),[ee.Resolution]:nt(km),[ee.Zoom]:nt(km),[ee.Time]:nt(km),[ee.Any]:nt(It(2,1/0),Zt(Qi)),[ee.All]:nt(It(2,1/0),Zt(Qi)),[ee.Not]:nt(It(1,1),Zt(Qi)),[ee.Equal]:nt(It(2,2),Zt(bw)),[ee.NotEqual]:nt(It(2,2),Zt(bw)),[ee.GreaterThan]:nt(It(2,2),Zt(kt)),[ee.GreaterThanOrEqualTo]:nt(It(2,2),Zt(kt)),[ee.LessThan]:nt(It(2,2),Zt(kt)),[ee.LessThanOrEqualTo]:nt(It(2,2),Zt(kt)),[ee.Multiply]:nt(It(2,1/0),J9),[ee.Coalesce]:nt(It(2,1/0),J9),[ee.Divide]:nt(It(2,2),Zt(kt)),[ee.Add]:nt(It(2,1/0),Zt(kt)),[ee.Subtract]:nt(It(2,2),Zt(kt)),[ee.Clamp]:nt(It(3,3),Zt(kt)),[ee.Mod]:nt(It(2,2),Zt(kt)),[ee.Pow]:nt(It(2,2),Zt(kt)),[ee.Abs]:nt(It(1,1),Zt(kt)),[ee.Floor]:nt(It(1,1),Zt(kt)),[ee.Ceil]:nt(It(1,1),Zt(kt)),[ee.Round]:nt(It(1,1),Zt(kt)),[ee.Sin]:nt(It(1,1),Zt(kt)),[ee.Cos]:nt(It(1,1),Zt(kt)),[ee.Atan]:nt(It(1,2),Zt(kt)),[ee.Sqrt]:nt(It(1,1),Zt(kt)),[ee.Match]:nt(It(4,1/0),e7,Hhe),[ee.Between]:nt(It(3,3),Zt(kt)),[ee.Interpolate]:nt(It(6,1/0),e7,$he),[ee.Case]:nt(It(3,1/0),zhe,Ghe),[ee.In]:nt(It(2,2),Whe),[ee.Number]:nt(It(1,1/0),Zt(bw)),[ee.String]:nt(It(1,1/0),Zt(bw)),[ee.Array]:nt(It(1,1/0),Zt(kt)),[ee.Color]:nt(It(1,4),Zt(kt)),[ee.Band]:nt(It(1,3),Zt(kt)),[ee.Palette]:nt(It(2,2),qhe),[ee.ToString]:nt(It(1,1),Zt(Qi|kt|lr|Ur))};function Vhe(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=n[s+1];switch(typeof o){case"number":{r[s]=new On(kt,o);break}case"string":{r[s]=new On(lr,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return r}function Bhe(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new On(lr,i)]}function Uhe(n,e,t){t.featureId=!0}function jhe(n,e,t){t.geometryType=!0}function km(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function It(n,e){return function(t,i,r){let s=t[0],o=t.length-1;if(n===e){if(o!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${s}, got ${o}`)}}else if(o<n||o>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function J9(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=Ei(n[s+1],e,t);r[s]=o}return r}function Zt(n){return function(e,t,i){let r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){let a=Ei(e[o+1],n,i);s[o]=a}return s}}function zhe(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function e7(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Hhe(n,e,t){let i=n.length-1,r=lr|kt|Qi,s=Ei(n[1],r,t),o=Ei(n[n.length-1],e,t),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Ei(n[l+2],s.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Ei(n[l+3],o.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function $he(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let s=new On(kt,r),o;try{o=Ei(n[2],kt,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Ei(n[l+3],kt,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Ei(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function Ghe(n,e,t){let i=Ei(n[n.length-1],e,t),r=new Array(n.length-1);for(let s=0;s<r.length-1;s+=2){try{let o=Ei(n[s+1],Qi,t);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{let o=Ei(n[s+2],i.type,t);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function Whe(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=lr}else r=kt;let s=new Array(i.length);for(let a=0;a<s.length;a++)try{let l=Ei(i[a],r,t);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Ei(n[1],r,t),...s]}function qhe(n,e,t){let i;try{i=Ei(n[1],kt,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Ei(r[o],Ur,t)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof On))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function nt(...n){return function(e,t,i){let r=e[0],s;for(let o=0;o<n.length;o++){let a=n[o](e,t,i);if(o==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new H2(t,r,...s)}}function Khe(n,e,t){let i=n[0],r=Nhe[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function W2(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return W2(n.getGeometries()[0]);default:return""}}function q2(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function vo(n,e,t){let i=Ei(n,e,t);return Os(i,t)}function Os(n,e){if(n instanceof On){if(n.type===Ur&&typeof n.value=="string"){let i=Em(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case ee.Number:case ee.String:case ee.Coalesce:return Yhe(n,e);case ee.Get:case ee.Var:return Qhe(n,e);case ee.Id:return i=>i.featureId;case ee.GeometryType:return i=>i.geometryType;case ee.Concat:{let i=n.args.map(r=>Os(r,e));return r=>"".concat(...i.map(s=>s(r).toString()))}case ee.Resolution:return i=>i.resolution;case ee.Any:case ee.All:case ee.Between:case ee.In:case ee.Not:return Xhe(n,e);case ee.Equal:case ee.NotEqual:case ee.LessThan:case ee.LessThanOrEqualTo:case ee.GreaterThan:case ee.GreaterThanOrEqualTo:return Zhe(n,e);case ee.Multiply:case ee.Divide:case ee.Add:case ee.Subtract:case ee.Clamp:case ee.Mod:case ee.Pow:case ee.Abs:case ee.Floor:case ee.Ceil:case ee.Round:case ee.Sin:case ee.Cos:case ee.Atan:case ee.Sqrt:return Jhe(n,e);case ee.Case:return efe(n,e);case ee.Match:return tfe(n,e);case ee.Interpolate:return nfe(n,e);case ee.ToString:return ife(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function Yhe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Os(n.args[s],e);switch(t){case ee.Coalesce:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case ee.Number:case ee.String:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Qhe(n,e){let i=n.args[0].value;switch(n.operator){case ee.Get:return r=>{let s=n.args,o=r.properties[i];for(let a=1,l=s.length;a<l;++a){let u=s[a].value;o=o[u]}return o};case ee.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Zhe(n,e){let t=n.operator,i=Os(n.args[0],e),r=Os(n.args[1],e);switch(t){case ee.Equal:return s=>i(s)===r(s);case ee.NotEqual:return s=>i(s)!==r(s);case ee.LessThan:return s=>i(s)<r(s);case ee.LessThanOrEqualTo:return s=>i(s)<=r(s);case ee.GreaterThan:return s=>i(s)>r(s);case ee.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function Xhe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Os(n.args[s],e);switch(t){case ee.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case ee.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case ee.Between:return s=>{let o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case ee.In:return s=>{let o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case ee.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function Jhe(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Os(n.args[s],e);switch(t){case ee.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case ee.Divide:return s=>r[0](s)/r[1](s);case ee.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case ee.Subtract:return s=>r[0](s)-r[1](s);case ee.Clamp:return s=>{let o=r[0](s),a=r[1](s);if(o<a)return a;let l=r[2](s);return o>l?l:o};case ee.Mod:return s=>r[0](s)%r[1](s);case ee.Pow:return s=>Math.pow(r[0](s),r[1](s));case ee.Abs:return s=>Math.abs(r[0](s));case ee.Floor:return s=>Math.floor(r[0](s));case ee.Ceil:return s=>Math.ceil(r[0](s));case ee.Round:return s=>Math.round(r[0](s));case ee.Sin:return s=>Math.sin(r[0](s));case ee.Cos:return s=>Math.cos(r[0](s));case ee.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case ee.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function efe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Os(n.args[r],e);return r=>{for(let s=0;s<t-1;s+=2)if(i[s](r))return i[s+1](r);return i[t-1](r)}}function tfe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Os(n.args[r],e);return r=>{let s=i[0](r);for(let o=1;o<t;o+=2)if(s===i[o](r))return i[o+1](r);return i[t-1](r)}}function nfe(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Os(n.args[r],e);return r=>{let s=i[0](r),o=i[1](r),a,l;for(let c=2;c<t;c+=2){let u=i[c](r),h=i[c+1](r),f=Array.isArray(h);if(f&&(h=E9(h)),u>=o)return c===2?h:f?rfe(s,o,a,l,u,h):Lm(s,o,a,l,u,h);a=u,l=h}return l}}function ife(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Os(n.args[s],e);switch(t){case ee.ToString:return s=>{let o=r[0](s);return n.args[0].type===Ur?Tm(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Lm(n,e,t,i,r,s){let o=r-t;if(o===0)return i;let a=e-t,l=n===1?a/o:(Math.pow(n,a)-1)/(Math.pow(n,o)-1);return i+l*(s-i)}function rfe(n,e,t,i,r,s){if(r-t===0)return i;let a=r2(i),l=r2(s),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[Lm(n,e,t,a[0],r,l[0]),Lm(n,e,t,a[1],r,l[1]),a[2]+Lm(n,e,t,0,r,c),Lm(n,e,t,i[3],r,s[3])];return s2(T9(u))}function sfe(n){return!0}function r7(n){let e=G2(),t=ofe(n,e),i=q2();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){let o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=W2(r.getGeometry())),t(i)}}function Q2(n){let e=G2(),t=n.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=K2(n[o],e);let r=q2(),s=new Array(t);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){let c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){let u=i[c](r);u&&(s[l]=u,l+=1)}return s.length=l,s}}function ofe(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let s=n[r],o="filter"in s?vo(s.filter,Qi,e):sfe,a;if(Array.isArray(s.style)){let l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=K2(s.style[c],e)}else a=[K2(s.style,e)];i[r]={filter:o,styles:a}}return function(r){let s=[],o=!1;for(let a=0;a<t;++a){let l=i[a].filter;if(l(r)&&!(n[a].else&&o)){o=!0;for(let c of i[a].styles){let u=c(r);u&&s.push(u)}}}return s}}function K2(n,e){let t=Nm(n,"",e),i=Vm(n,"",e),r=afe(n,e),s=lfe(n,e),o=Cr(n,"z-index",e);if(!t&&!i&&!r&&!s&&!As(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new Ul;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(i){let u=i(l);u&&(c=!1),a.setStroke(u)}if(r){let u=r(l);u&&(c=!1),a.setText(u)}if(s){let u=s(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Nm(n,e,t){let i;if(e+"fill-pattern-src"in n)i=hfe(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return s=>null;i=Z2(n,e+"fill-color",t)}if(!i)return null;let r=new Hh;return function(s){let o=i(s);return o==="none"?null:(r.setColor(o),r)}}function Vm(n,e,t){let i=Cr(n,e+"stroke-width",t),r=Z2(n,e+"stroke-color",t);if(!i&&!r)return null;let s=xa(n,e+"stroke-line-cap",t),o=xa(n,e+"stroke-line-join",t),a=s7(n,e+"stroke-line-dash",t),l=Cr(n,e+"stroke-line-dash-offset",t),c=Cr(n,e+"stroke-miter-limit",t),u=new dw;return function(h){if(r){let f=r(h);if(f==="none")return null;u.setColor(f)}if(i&&u.setWidth(i(h)),s){let f=s(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(o){let f=o(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function afe(n,e){let t="text-",i=xa(n,t+"value",e);if(!i)return null;let r=Nm(n,t,e),s=Nm(n,t+"background-",e),o=Vm(n,t,e),a=Vm(n,t+"background-",e),l=xa(n,t+"font",e),c=Cr(n,t+"max-angle",e),u=Cr(n,t+"offset-x",e),h=Cr(n,t+"offset-y",e),f=Bm(n,t+"overflow",e),p=xa(n,t+"placement",e),g=Cr(n,t+"repeat",e),I=Tw(n,t+"scale",e),b=Bm(n,t+"rotate-with-view",e),E=Cr(n,t+"rotation",e),M=xa(n,t+"align",e),O=xa(n,t+"justify",e),F=xa(n,t+"baseline",e),$=s7(n,t+"padding",e),Y=xw(n,t+"declutter-mode"),A=new j9({declutterMode:Y});return function(C){if(A.setText(i(C)),r&&A.setFill(r(C)),s&&A.setBackgroundFill(s(C)),o&&A.setStroke(o(C)),a&&A.setBackgroundStroke(a(C)),l&&A.setFont(l(C)),c&&A.setMaxAngle(c(C)),u&&A.setOffsetX(u(C)),h&&A.setOffsetY(h(C)),f&&A.setOverflow(f(C)),p){let T=p(C);if(T!=="point"&&T!=="line")throw new Error("Expected point or line for text-placement");A.setPlacement(T)}if(g&&A.setRepeat(g(C)),I&&A.setScale(I(C)),b&&A.setRotateWithView(b(C)),E&&A.setRotation(E(C)),M){let T=M(C);if(T!=="left"&&T!=="center"&&T!=="right"&&T!=="end"&&T!=="start")throw new Error("Expected left, right, center, start, or end for text-align");A.setTextAlign(T)}if(O){let T=O(C);if(T!=="left"&&T!=="right"&&T!=="center")throw new Error("Expected left, right, or center for text-justify");A.setJustify(T)}if(F){let T=F(C);if(T!=="bottom"&&T!=="top"&&T!=="middle"&&T!=="alphabetic"&&T!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");A.setTextBaseline(T)}return $&&A.setPadding($(C)),A}}function lfe(n,e){return"icon-src"in n?cfe(n,e):"shape-points"in n?ufe(n,e):"circle-radius"in n?dfe(n,e):null}function cfe(n,e){let t="icon-",i=t+"src",r=o7(n[i],i),s=Cw(n,t+"anchor",e),o=Tw(n,t+"scale",e),a=Cr(n,t+"opacity",e),l=Cw(n,t+"displacement",e),c=Cr(n,t+"rotation",e),u=Bm(n,t+"rotate-with-view",e),h=n7(n,t+"anchor-origin"),f=i7(n,t+"anchor-x-units"),p=i7(n,t+"anchor-y-units"),g=gfe(n,t+"color"),I=pfe(n,t+"cross-origin"),b=mfe(n,t+"offset"),E=n7(n,t+"offset-origin"),M=Ew(n,t+"width"),O=Ew(n,t+"height"),F=ffe(n,t+"size"),$=xw(n,t+"declutter-mode"),Y=new fu({src:r,anchorOrigin:h,anchorXUnits:f,anchorYUnits:p,color:g,crossOrigin:I,offset:b,offsetOrigin:E,height:O,width:M,size:F,declutterMode:$});return function(A){return a&&Y.setOpacity(a(A)),l&&Y.setDisplacement(l(A)),c&&Y.setRotation(c(A)),u&&Y.setRotateWithView(u(A)),o&&Y.setScale(o(A)),s&&Y.setAnchor(s(A)),Y}}function ufe(n,e){let t="shape-",i=t+"points",r=t+"radius",s=Y2(n[i],i),o=Y2(n[r],r),a=Nm(n,t,e),l=Vm(n,t,e),c=Tw(n,t+"scale",e),u=Cw(n,t+"displacement",e),h=Cr(n,t+"rotation",e),f=Bm(n,t+"rotate-with-view",e),p=Ew(n,t+"radius2"),g=Ew(n,t+"angle"),I=xw(n,t+"declutter-mode"),b=new mw({points:s,radius:o,radius2:p,angle:g,declutterMode:I});return function(E){return a&&b.setFill(a(E)),l&&b.setStroke(l(E)),u&&b.setDisplacement(u(E)),h&&b.setRotation(h(E)),f&&b.setRotateWithView(f(E)),c&&b.setScale(c(E)),b}}function dfe(n,e){let t="circle-",i=Nm(n,t,e),r=Vm(n,t,e),s=Cr(n,t+"radius",e),o=Tw(n,t+"scale",e),a=Cw(n,t+"displacement",e),l=Cr(n,t+"rotation",e),c=Bm(n,t+"rotate-with-view",e),u=xw(n,t+"declutter-mode"),h=new gw({radius:5,declutterMode:u});return function(f){return s&&h.setRadius(s(f)),i&&h.setFill(i(f)),r&&h.setStroke(r(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),c&&h.setRotateWithView(c(f)),o&&h.setScale(o(f)),h}}function Cr(n,e,t){if(!(e in n))return;let i=vo(n[e],kt,t);return function(r){return Y2(i(r),e)}}function xa(n,e,t){if(!(e in n))return null;let i=vo(n[e],lr,t);return function(r){return o7(i(r),e)}}function hfe(n,e,t){let i=xa(n,e+"pattern-src",t),r=t7(n,e+"pattern-offset",t),s=t7(n,e+"pattern-size",t),o=Z2(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function Bm(n,e,t){if(!(e in n))return null;let i=vo(n[e],Qi,t);return function(r){let s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function Z2(n,e,t){if(!(e in n))return null;let i=vo(n[e],Ur,t);return function(r){return a7(i(r),e)}}function s7(n,e,t){if(!(e in n))return null;let i=vo(n[e],zl,t);return function(r){return Um(i(r),e)}}function Cw(n,e,t){if(!(e in n))return null;let i=vo(n[e],zl,t);return function(r){let s=Um(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function t7(n,e,t){if(!(e in n))return null;let i=vo(n[e],zl,t);return function(r){return l7(i(r),e)}}function Tw(n,e,t){if(!(e in n))return null;let i=vo(n[e],zl|kt,t);return function(r){return _fe(i(r),e)}}function Ew(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function ffe(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return kn(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function pfe(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function n7(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function i7(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function mfe(n,e){let t=n[e];if(t!==void 0)return Um(t,e)}function xw(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function gfe(n,e){let t=n[e];if(t!==void 0)return a7(t,e)}function Um(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function o7(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function Y2(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function a7(n,e){if(typeof n=="string")return n;let t=Um(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function l7(n,e){let t=Um(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function _fe(n,e){return typeof n=="number"?n:l7(n,e)}var c7={RENDER_ORDER:"renderOrder"},X2=class extends hu{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(c7.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Yh(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(c7.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?x2:e;let t=yfe(e);this.styleFunction_=e===null?void 0:U9(t),this.changed()}};function yfe(n){if(n===void 0)return x2;if(!n)return null;if(typeof n=="function"||n instanceof Ul)return n;if(!Array.isArray(n))return Q2([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof Ul){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!(o instanceof Ul))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return r7(r)}return Q2(n)}var Sw=X2;var jm={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},zm=[jm.FILL],wo=[jm.STROKE],Sa=[jm.BEGIN_PATH],J2=[jm.CLOSE_PATH],je=jm;var eA=class{drawCustom(e,t,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Dw=eA;var tA=class extends Dw{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates,o=s.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Rs(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,i,r,s,o){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();o&&(t+=r);let u=e[t],h=e[t+1],f=this.tmpCoordinate_,p=!0,g,I,b;for(g=t+r;g<i;g+=r)f[0]=e[g],f[1]=e[g+1],b=Gv(c,f),b!==I?(p&&(a[l++]=u,a[l++]=h,p=!1),a[l++]=f[0],a[l++]=f[1]):b===ei.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],p=!1):p=!0,u=f[0],h=f[1],I=b;return(s&&p||g===t+r)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,i,r,s){for(let o=0,a=i.length;o<a;++o){let l=i[o],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);s.push(c),t=l}return t}drawCustom(e,t,i,r,s){this.beginGeometry(e,t,s);let o=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,h,f,p;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];let g=e.getEndss();p=0;for(let I=0,b=g.length;I<b;++I){let E=[];p=this.drawCustomCoordinates_(c,p,g[I],a,E),f.push(E)}this.instructions.push([je.CUSTOM,l,f,e,i,WD,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,f,e,r||i,WD,s]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([je.CUSTOM,l,h,e,i,Bh,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,h,e,r||i,Bh,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([je.CUSTOM,l,u,e,i,Fl,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,Fl,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([je.CUSTOM,l,u,e,i,Fl,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,Fl,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([je.CUSTOM,l,u,e,i,void 0,s]),this.hitDetectionInstructions.push([je.CUSTOM,l,u,e,r||i,void 0,s]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[je.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[je.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,s,o=-1;for(t=0;t<i;++t)r=e[t],s=r[0],s==je.END_GEOMETRY?o=t:s==je.BEGIN_GEOMETRY&&(r[2]=t,b6(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){let i=this.state;if(e){let r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=vr(r||ui)}else i.fillStyle=void 0;if(t){let r=t.getColor();i.strokeStyle=vr(r||Ca);let s=t.getLineCap();i.lineCap=s!==void 0?s:_o;let o=t.getLineDash();i.lineDash=o?o.slice():wr;let a=t.getLineDashOffset();i.lineDashOffset=a||Ir;let l=t.getLineJoin();i.lineJoin=l!==void 0?l:yo;let c=t.getWidth();i.lineWidth=c!==void 0?c:Ta;let u=t.getMiterLimit();i.miterLimit=u!==void 0?u:ba,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){let t=e.fillStyle,i=[je.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[je.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!Ki(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[je.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Wv(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;Dh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Io=tA;var nA=class extends Io{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Rs(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([je.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([je.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Rs(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);let o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([je.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([je.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},u7=nA;var iA=class extends Io{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[je.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wr,Ir],Sa);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(wo),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wr,Ir],Sa);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,f=a.length;h<f;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(wo),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Sa)}},d7=iA;var rA=class extends Io{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=i.length;this.instructions.push(Sa),this.hitDetectionInstructions.push(Sa);for(let c=0;c<l;++c){let u=i[c],h=this.coordinates.length,f=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),p=[je.MOVE_TO_LINE_TO,h,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(J2),this.hitDetectionInstructions.push(J2)),t=u}return o&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),a&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),t}drawCircle(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,ui]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wr,Ir]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[je.CIRCLE,c];this.instructions.push(Sa,u),this.hitDetectionInstructions.push(Sa,u),r.fillStyle!==void 0&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),r.strokeStyle!==void 0&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,ui]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wr,Ir]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_FILL_STYLE,ui]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([je.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wr,Ir]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,f=a.length;h<f;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Pl(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},sA=rA;function h7(n,e,t,i,r){let s=[],o=t,a=0,l=e.slice(t,2);for(;a<n&&o+r<i;){let[c,u]=l.slice(-2),h=e[o+r],f=e[o+r+1],p=Math.sqrt((h-c)*(h-c)+(f-u)*(f-u));if(a+=p,a>=n){let g=(n-a+p)/p,I=Yi(c,h,g),b=Yi(u,f,g);l.push(I,b),s.push(l),l=[I,b],a==n&&(o+=r),a=0}else if(a<n)l.push(e[o+r],e[o+r+1]),o+=r;else{let g=p-a,I=Yi(c,h,g/p),b=Yi(u,f,g/p);l.push(I,b),s.push(l),l=[I,b],a=0,o+=r}}return a>0&&s.push(l),s}function f7(n,e,t,i,r){let s=t,o=t,a=0,l=0,c=t,u,h,f,p,g,I,b,E,M,O;for(h=t;h<i;h+=r){let F=e[h],$=e[h+1];g!==void 0&&(M=F-g,O=$-I,p=Math.sqrt(M*M+O*O),b!==void 0&&(l+=f,u=Math.acos((b*M+E*O)/(f*p)),u>n&&(l>a&&(a=l,s=c,o=h),l=0,c=h-r)),f=p,b=M,E=O),g=F,I=$}return l+=p,l>a?[c,h]:[s,o]}var Hm={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},oA=class extends Io{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[ui]={fillStyle:ui},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,h=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!bn(this.maxExtent,e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),c=="LineString")f=[u.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let b=e.getEndss();f=[];for(let E=0,M=b.length;E<M;++E)f.push(b[E][0])}this.beginGeometry(e,t,i);let p=o.repeat,g=p?void 0:o.textAlign,I=0;for(let b=0,E=f.length;b<E;++b){let M;p?M=h7(p*this.resolution,u,I,f[b],h):M=[u.slice(I,f[b])];for(let O=0,F=M.length;O<F;++O){let $=M[O],Y=0,A=$.length;if(g==null){let T=f7(o.maxAngle,$,0,$.length,2);Y=T[0],A=T[1]}for(let T=Y;T<A;T+=h)a.push($[T],$[T+1]);let C=a.length;I=f[b],this.drawChars_(l,C),l=C}}this.endGeometry(t)}else{let f=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||f.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":let M=e.getFlatInteriorPoints();u=[];for(let O=0,F=M.length;O<F;O+=3)o.overflow||f.push(M[O+2]/this.resolution),u.push(M[O],M[O+1]);if(u.length===0)return;h=2;break;default:}let p=this.appendFlatPointCoordinates(u,h);if(p===l)return;if(f&&(p-l)/2!==u.length/h){let M=l/2;f=f.filter((O,F)=>{let $=a[(M+F)*2]===u[F*h]&&a[(M+F)*2+1]===u[F*h+1];return $||--M,$})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,i);let g=o.padding;if(g!=Ea&&(o.scale[0]<0||o.scale[1]<0)){let M=o.padding[0],O=o.padding[1],F=o.padding[2],$=o.padding[3];o.scale[0]<0&&(O=-O,$=-$),o.scale[1]<0&&(M=-M,F=-F),g=[M,O,F,$]}let I=this.pixelRatio;this.instructions.push([je.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Ea?Ea:g.map(function(M){return M*I}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let b=1/I,E=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=ui,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([je.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[b,b],NaN,this.declutterMode_,this.declutterImageWithText_,g,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?ui:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),o.backgroundFill&&(this.state.fillStyle=E,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||Bl,justify:t.justify,textBaseline:t.textBaseline||du,scale:t.scale});let o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=Hm[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([je.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,s,f*l,h,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([je.DRAW_CHARS,e,t,c,r.overflow,a&&ui,r.maxAngle,l,u,s,f*l,h,o,1/l,this.declutterMode_])}setTextStyle(e,t){let i,r,s;if(!e)this.text_="";else{let o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=vr(o.getColor()||ui)):(r=null,this.textFillState_=r);let a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);let g=a.getLineDash(),I=a.getLineDashOffset(),b=a.getWidth(),E=a.getMiterLimit();s.lineCap=a.getLineCap()||_o,s.lineDash=g?g.slice():wr,s.lineDashOffset=I===void 0?Ir:I,s.lineJoin=a.getLineJoin()||yo,s.lineWidth=b===void 0?Ta:b,s.miterLimit=E===void 0?ba:E,s.strokeStyle=vr(a.getColor()||Ca)}i=this.textState_;let l=e.getFont()||pw;F9(l);let c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||du,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ea,i.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this.textRotation_=p===void 0?0:p,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:mt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+mt(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},p7=oA;var vfe={Circle:sA,Default:Io,Image:u7,LineString:d7,Polygon:sA,Text:p7},aA=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let s=i[r].finish();e[t][r]=s}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[t];if(s===void 0){let o=vfe[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s}return s}},m7=aA;var wfe=5,lA=class extends zv{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=wfe}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return wt()}getData(e){return null}prepareFrame(e){return wt()}renderFrame(e,t){return wt()}forEachFeatureAtCoordinate(e,t,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===Je.LOADED||t.getState()===Je.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Je.LOADED&&t!=Je.ERROR&&e.addEventListener(Se.CHANGE,this.boundHandleImageChange_),t==Je.IDLE&&(e.load(),t=e.getState()),t==Je.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},g7=lA;var cA=class extends wi{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},Aw=cA;var uA=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(jh(),{get:(e,t)=>{if(typeof jh()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let s=t[i];if(typeof s=="function"){s(e);continue}let o=t[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Rw=uA;var hA=[],Qh=null;function Ife(){Qh=Gt(1,1,void 0,{willReadFrequently:!0})}var dA=class extends g7{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=bi(),this.pixelTransform=bi(),this.inversePixelTransform=bi(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Qh||Ife(),Qh.clearRect(0,0,1,1);let r;try{Qh.drawImage(e,t,i,1,1,0,0,1,1),r=Qh.getImageData(0,0,1,1).data}catch{return Qh=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Ki(Ia(e.style.backgroundColor),Ia(i)))){let a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Gt();let l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=is(i),s=kh(i),o=Mh(i),a=Rh(i);zn(t.coordinateToPixelTransform,r),zn(t.coordinateToPixelTransform,s),zn(t.coordinateToPixelTransform,o),zn(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;zn(l,r),zn(l,s),zn(l,o),zn(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(ut(i)/r*o),l=Math.round(vn(i)/r*o);Mi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),$v(this.inversePixelTransform,this.pixelTransform);let c=D6(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let s=new Aw(e,this.inversePixelTransform,i,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(ki.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(ki.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Rw),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(ki.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(ki.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,s,o,a){let l=s/2,c=o/2,u=r/t,h=-u,f=-e[0]+a,p=-e[1];return Mi(this.tempTransform,l,c,u,h,-i,f,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}},Mw=dA;function _7(n,e,t,i,r,s,o,a,l,c,u,h){let f=n[e],p=n[e+1],g=0,I=0,b=0,E=0;function M(){g=f,I=p,e+=i,f=n[e],p=n[e+1],E+=b,b=Math.sqrt((f-g)*(f-g)+(p-I)*(p-I))}do M();while(e<t-i&&E+b<s);let O=b===0?0:(s-E)/b,F=Yi(g,f,O),$=Yi(I,p,O),Y=e-i,A=E,C=s+a*l(c,r,u);for(;e<t-i&&E+b<C;)M();O=b===0?0:(C-E)/b;let T=Yi(g,f,O),P=Yi(I,p,O),N;if(h){let Z=[F,$,T,P];nw(Z,0,4,2,h,Z,Z),N=Z[0]>Z[2]}else N=F>T;let V=Math.PI,k=[],Ce=Y+i===e;e=Y,b=0,E=A,f=n[e],p=n[e+1];let be;if(Ce){M(),be=Math.atan2(p-I,f-g),N&&(be+=be>0?-V:V);let Z=(T+F)/2,ie=(P+$)/2;return k[0]=[Z,ie,(C-s)/2,be,r],k}r=r.replace(/\n/g," ");for(let Z=0,ie=r.length;Z<ie;){M();let le=Math.atan2(p-I,f-g);if(N&&(le+=le>0?-V:V),be!==void 0){let re=le-be;if(re+=re>V?-2*V:re<-V?2*V:0,Math.abs(re)>o)return null}be=le;let De=Z,Ee=0;for(;Z<ie;++Z){let re=N?ie-Z-1:Z,wn=a*l(c,r[re],u);if(e+i<t&&E+b<s+Ee+wn/2)break;Ee+=wn}if(Z===De)continue;let ze=N?r.substring(ie-De,ie-Z):r.substring(De,Z);O=b===0?0:(s+Ee/2-E)/b;let $e=Yi(g,f,O),lt=Yi(I,p,O);k.push([$e,lt,Ee/2,le,ze]),s+=Ee}return k}var Zh=Hn(),Hl=[],Da=[],Aa=[],$l=[];function y7(n){return n[3].declutterBox}var v7=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function fA(n,e){return e==="start"?e=v7.test(n)?"right":"left":e==="end"&&(e=v7.test(n)?"left":"right"),Hm[e]}function bfe(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var pA=class{constructor(e,t,i,r,s){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=bi(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new Rw:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let s=e+t+i+r;if(this.labels_[s])return this.labels_[s];let o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?Hm[l.justify]:fA(Array.isArray(e)?e[0]:e,l.textAlign||Bl),f=r&&o.lineWidth?o.lineWidth:0,p=Array.isArray(e)?e:String(e).split(`
`).reduce(bfe,[]),{width:g,height:I,widths:b,heights:E,lineWidths:M}=N9(l,p),O=g+f,F=[],$=(O+2)*u[0],Y=(I+f)*u[1],A={width:$<0?Math.floor($):Math.ceil($),height:Y<0?Math.floor(Y):Math.ceil(Y),contextInstructions:F};(u[0]!=1||u[1]!=1)&&F.push("scale",u),r&&(F.push("strokeStyle",o.strokeStyle),F.push("lineWidth",f),F.push("lineCap",o.lineCap),F.push("lineJoin",o.lineJoin),F.push("miterLimit",o.miterLimit),F.push("setLineDash",[o.lineDash]),F.push("lineDashOffset",o.lineDashOffset)),i&&F.push("fillStyle",a.fillStyle),F.push("textBaseline","middle"),F.push("textAlign","center");let C=.5-h,T=h*O+C*f,P=[],N=[],V=0,k=0,Ce=0,be=0,Z;for(let ie=0,le=p.length;ie<le;ie+=2){let De=p[ie];if(De===`
`){k+=V,V=0,T=h*O+C*f,++be;continue}let Ee=p[ie+1]||l.font;Ee!==Z&&(r&&P.push("font",Ee),i&&N.push("font",Ee),Z=Ee),V=Math.max(V,E[Ce]);let ze=[De,T+C*b[Ce]+h*(b[Ce]-M[be]),.5*(f+V)+k];T+=b[Ce],r&&P.push("strokeText",ze),i&&N.push("fillText",ze),++Ce}return Array.prototype.push.apply(F,P),Array.prototype.push.apply(F,N),this.labels_[s]=A,A}replayTextBackground_(e,t,i,r,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,s,o,a,l,c,u,h,f,p,g,I,b){a*=f[0],l*=f[1];let E=i-a,M=r-l,O=s+c>e?e-c:s,F=o+u>t?t-u:o,$=g[3]+O*f[0]+g[1],Y=g[0]+F*f[1]+g[2],A=E-g[3],C=M-g[0];(I||h!==0)&&(Hl[0]=A,$l[0]=A,Hl[1]=C,Da[1]=C,Da[0]=A+$,Aa[0]=Da[0],Aa[1]=C+Y,$l[1]=Aa[1]);let T;return h!==0?(T=Mi(bi(),i,r,1,1,h,-i,-r),zn(T,Hl),zn(T,Da),zn(T,Aa),zn(T,$l),Vr(Math.min(Hl[0],Da[0],Aa[0],$l[0]),Math.min(Hl[1],Da[1],Aa[1],$l[1]),Math.max(Hl[0],Da[0],Aa[0],$l[0]),Math.max(Hl[1],Da[1],Aa[1],$l[1]),Zh)):Vr(Math.min(A,A+$),Math.min(C,C+Y),Math.max(A,A+$),Math.max(C,C+Y),Zh),p&&(E=Math.round(E),M=Math.round(M)),{drawImageX:E,drawImageY:M,drawImageW:O,drawImageH:F,originX:c,originY:u,declutterBox:{minX:Zh[0],minY:Zh[1],maxX:Zh[2],maxY:Zh[3],value:b},canvasTransform:T,scale:f}}replayImageOrLabel_(e,t,i,r,s,o,a){let l=!!(o||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Hl,Da,Aa,$l,o,a),V9(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=zn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let s=this.textStates[t],o=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=fA(Array.isArray(e)?e[0]:e,s.textAlign||Bl),u=Hm[s.textBaseline||du],h=a&&a.lineWidth?a.lineWidth:0,f=o.width/l-2*s.scale[0],p=c*f+2*(.5-c)*h,g=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:p,anchorY:g}}execute_(e,t,i,r,s,o,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&Ki(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=_r(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),S6(this.renderedTransform_,i));let h=0,f=r.length,p=0,g,I,b,E,M,O,F,$,Y,A,C,T,P,N=0,V=0,k=null,Ce=null,be=this.coordinateCache_,Z=this.viewRotation_,ie=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,le={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},De=this.instructions!=r||this.overlaps?0:200,Ee,ze,$e,lt;for(;h<f;){let re=r[h];switch(re[0]){case je.BEGIN_GEOMETRY:Ee=re[1],lt=re[3],Ee.getGeometry()?a!==void 0&&!bn(a,lt.getExtent())?h=re[2]+1:++h:h=re[2],c&&(c.zIndex=re[4]);break;case je.BEGIN_PATH:N>De&&(this.fill_(e),N=0),V>De&&(e.stroke(),V=0),!N&&!V&&(e.beginPath(),M=NaN,O=NaN),++h;break;case je.CIRCLE:p=re[1];let Pn=u[p],gt=u[p+1],$n=u[p+2],yn=u[p+3],Cn=$n-Pn,Ti=yn-gt,Do=Math.sqrt(Cn*Cn+Ti*Ti);e.moveTo(Pn+Do,gt),e.arc(Pn,gt,Do,0,2*Math.PI,!0),++h;break;case je.CLOSE_PATH:e.closePath(),++h;break;case je.CUSTOM:p=re[1],g=re[2];let Ma=re[3],Yl=re[4],Ao=re[5];le.geometry=Ma,le.feature=Ee,h in be||(be[h]=[]);let Vs=be[h];Ao?Ao(u,p,g,2,Vs):(Vs[0]=u[p],Vs[1]=u[p+1],Vs.length=2),c&&(c.zIndex=re[6]),Yl(Vs,le),++h;break;case je.DRAW_IMAGE:p=re[1],g=re[2],Y=re[3],I=re[4],b=re[5];let Zi=re[6],$r=re[7],Ro=re[8],Mo=re[9],ko=re[10],Bs=re[11],ka=re[12],Us=re[13];E=re[14]||"declutter";let En=re[15];if(!Y&&re.length>=20){A=re[19],C=re[20],T=re[21],P=re[22];let Xi=this.drawLabelWithPointPlacement_(A,C,T,P);Y=Xi.label,re[3]=Y;let Gr=re[23];I=(Xi.anchorX-Gr)*this.pixelRatio,re[4]=I;let Ji=re[24];b=(Xi.anchorY-Ji)*this.pixelRatio,re[5]=b,Zi=Y.height,re[6]=Zi,Us=Y.width,re[13]=Us}let Ql;re.length>25&&(Ql=re[25]);let Gn,Wn,Oo;re.length>17?(Gn=re[16],Wn=re[17],Oo=re[18]):(Gn=Ea,Wn=!1,Oo=!1),ko&&ie?Bs+=Z:!ko&&!ie&&(Bs-=Z);let rg=0;for(;p<g;p+=2){if(Ql&&Ql[rg++]<Us/this.pixelRatio)continue;let Xi=this.calculateImageOrLabelDimensions_(Y.width,Y.height,u[p],u[p+1],Us,Zi,I,b,Ro,Mo,Bs,ka,s,Gn,Wn||Oo,Ee),Gr=[e,t,Y,Xi,$r,Wn?k:null,Oo?Ce:null];if(l){let Ji,Pi,er;if(En){let rn=g-p;if(!En[rn]){En[rn]={args:Gr,declutterMode:E};continue}let Fn=En[rn];Ji=Fn.args,Pi=Fn.declutterMode,delete En[rn],er=y7(Ji)}let mn,Wr;if(Ji&&(Pi!=="declutter"||!l.collides(er))&&(mn=!0),(E!=="declutter"||!l.collides(Xi.declutterBox))&&(Wr=!0),Pi==="declutter"&&E==="declutter"){let rn=mn&&Wr;mn=rn,Wr=rn}mn&&(Pi!=="none"&&l.insert(er),this.replayImageOrLabel_.apply(this,Ji)),Wr&&(E!=="none"&&l.insert(Xi.declutterBox),this.replayImageOrLabel_.apply(this,Gr))}else this.replayImageOrLabel_.apply(this,Gr)}++h;break;case je.DRAW_CHARS:let df=re[1],sg=re[2],Po=re[3],og=re[4];P=re[5];let ag=re[6],Eu=re[7],lg=re[8];T=re[9];let hf=re[10];A=re[11],C=re[12];let Tu=[re[13],re[13]];E=re[14]||"declutter";let xu=this.textStates[C],Oa=xu.font,ls=[xu.scale[0]*Eu,xu.scale[1]*Eu],Fo;Oa in this.widths_?Fo=this.widths_[Oa]:(Fo={},this.widths_[Oa]=Fo);let Su=k9(u,df,sg,2),js=Math.abs(ls[0])*b2(Oa,A,Fo);if(og||js<=Su){let Xi=this.textStates[C].textAlign,Gr=(Su-js)*fA(A,Xi),Ji=_7(u,df,sg,2,A,Gr,ag,Math.abs(ls[0]),b2,Oa,Fo,ie?0:this.viewRotation_);e:if(Ji){let Pi=[],er,mn,Wr,rn,Fn;if(T)for(er=0,mn=Ji.length;er<mn;++er){Fn=Ji[er],Wr=Fn[4],rn=this.createLabel(Wr,C,"",T),I=Fn[2]+(ls[0]<0?-hf:hf),b=Po*rn.height+(.5-Po)*2*hf*ls[1]/ls[0]-lg;let cs=this.calculateImageOrLabelDimensions_(rn.width,rn.height,Fn[0],Fn[1],rn.width,rn.height,I,b,0,0,Fn[3],Tu,!1,Ea,!1,Ee);if(l&&E==="declutter"&&l.collides(cs.declutterBox))break e;Pi.push([e,t,rn,cs,1,null,null])}if(P)for(er=0,mn=Ji.length;er<mn;++er){Fn=Ji[er],Wr=Fn[4],rn=this.createLabel(Wr,C,P,""),I=Fn[2],b=Po*rn.height-lg;let cs=this.calculateImageOrLabelDimensions_(rn.width,rn.height,Fn[0],Fn[1],rn.width,rn.height,I,b,0,0,Fn[3],Tu,!1,Ea,!1,Ee);if(l&&E==="declutter"&&l.collides(cs.declutterBox))break e;Pi.push([e,t,rn,cs,1,null,null])}l&&E!=="none"&&l.load(Pi.map(y7));for(let cs=0,pI=Pi.length;cs<pI;++cs)this.replayImageOrLabel_.apply(this,Pi[cs])}}++h;break;case je.END_GEOMETRY:if(o!==void 0){Ee=re[1];let Xi=o(Ee,lt,E);if(Xi)return Xi}++h;break;case je.FILL:De?N++:this.fill_(e),++h;break;case je.MOVE_TO_LINE_TO:for(p=re[1],g=re[2],ze=u[p],$e=u[p+1],e.moveTo(ze,$e),M=ze+.5|0,O=$e+.5|0,p+=2;p<g;p+=2)ze=u[p],$e=u[p+1],F=ze+.5|0,$=$e+.5|0,(p==g-2||F!==M||$!==O)&&(e.lineTo(ze,$e),M=F,O=$);++h;break;case je.SET_FILL_STYLE:k=re,this.alignAndScaleFill_=re[2],N&&(this.fill_(e),N=0,V&&(e.stroke(),V=0)),e.fillStyle=re[1],++h;break;case je.SET_STROKE_STYLE:Ce=re,V&&(e.stroke(),V=0),this.setStrokeStyle_(e,re),++h;break;case je.STROKE:De?V++:e.stroke(),++h;break;default:++h;break}}N&&this.fill_(e),V&&e.stroke()}execute(e,t,i,r,s,o){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,s)}},w7=pA;var mu=["Polygon","Circle","LineString","Image","Text","Default"],_A=["Image","Text"],I7=mu.filter(n=>!_A.includes(n)),gA=class{constructor(e,t,i,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=bi(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let s=e[i];for(let o in s){let a=s[o];r[o]=new w7(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,s,o){r=Math.round(r);let a=r*2+1,l=Mi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Gt(a,a,void 0,{willReadFrequently:!0}));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Hn(),ru(h,e),Dh(h,t*(this.renderBuffer_+r),h));let f=Cfe(r),p;function g($,Y,A){let C=u.getImageData(0,0,a,a).data;for(let T=0,P=f.length;T<P;T++)if(C[f[T]]>0){if(!o||A==="none"||p!=="Image"&&p!=="Text"||o.includes($)){let N=(f[T]-3)/4,V=r-N%a,k=r-(N/a|0),Ce=s($,Y,V*V+k*k);if(Ce)return Ce}u.clearRect(0,0,a,a);break}}let I=Object.keys(this.executorsByZIndex_).map(Number);I.sort(gr);let b,E,M,O,F;for(b=I.length-1;b>=0;--b){let $=I[b].toString();for(M=this.executorsByZIndex_[$],E=mu.length-1;E>=0;--E)if(p=mu[E],O=M[p],O!==void 0&&(F=O.executeHitDetection(u,l,i,g,h),F))return F}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],s=t[2],o=t[3],a=[i,r,i,o,s,o,s,r];return _r(a,0,8,2,e,a),a}isEmpty(){return As(this.executorsByZIndex_)}execute(e,t,i,r,s,o,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(gr),o=o||mu;let c=mu.length,u,h,f,p,g;for(a&&l.reverse(),u=0,h=l.length;u<h;++u){let I=l[u].toString();for(g=this.executorsByZIndex_[I],f=0,p=o.length;f<p;++f){let b=o[f],E=g[b];if(E!==void 0){let M=a===null?void 0:E.getZIndexContext(),O=M?M.getContext():e,F=this.maxExtent_&&b!=="Image"&&b!=="Text";if(F&&(O.save(),this.clip(O,i)),!M||b==="Text"||b==="Image"?E.execute(O,t,i,r,s,a):M.pushFunction($=>E.execute($,t,i,r,s,a)),F&&O.restore(),M){M.offset();let $=l[u]*c+f;this.deferredZIndexContexts_[$]||(this.deferredZIndexContexts_[$]=[]),this.deferredZIndexContexts_[$].push(M)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(gr);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[i]].length=0}},mA={};function Cfe(n){if(mA[n]!==void 0)return mA[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let s=0;s<=n;++s)for(let o=0;o<=n;++o){let a=s*s+o*o;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((n+s)*e+(n+o))*4+3),s>0&&l.push(((n-s)*e+(n+o))*4+3),o>0&&(l.push(((n+s)*e+(n-o))*4+3),s>0&&l.push(((n-s)*e+(n-o))*4+3))}let r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return mA[n]=r,r}var b7=gA;var yA=class extends Dw{constructor(e,t,i,r,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?Xv(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=bi()}drawImages_(e,t,i,r){if(!this.image_)return;let s=_r(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=s.length;u<h;u+=2){let f=s[u]-this.imageAnchorX_,p=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let g=f+this.imageAnchorX_,I=p+this.imageAnchorY_;Mi(a,g,I,1,1,c,-g,-I),o.save(),o.transform.apply(o,a),o.translate(g,I),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let s=_r(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){let l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,s){let o=this.context_,a=_r(e,t,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),i}drawRings_(e,t,i,r){for(let s=0,o=i.length;s<o;++s)t=this.moveToLineTo_(e,t,i[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=n9(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(bn(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),s=0,o=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=o.length;l<c;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=s.length;a<l;++a){let c=s[a];r=this.drawRings_(i,r,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Ki(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Bl;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:vr(i||ui)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||wr;this.strokeState_={lineCap:r!==void 0?r:_o,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||Ir)*this.pixelRatio_,lineJoin:a!==void 0?a:yo,lineWidth:(l!==void 0?l:Ta)*this.pixelRatio_,miterLimit:c!==void 0?c:ba,strokeStyle:vr(i||Ca)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let p=t.getColor();this.textFillState_={fillStyle:vr(p||ui)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let p=i.getColor(),g=i.getLineCap(),I=i.getLineDash(),b=i.getLineDashOffset(),E=i.getLineJoin(),M=i.getWidth(),O=i.getMiterLimit();this.textStrokeState_={lineCap:g!==void 0?g:_o,lineDash:I||wr,lineDashOffset:b||Ir,lineJoin:E!==void 0?E:yo,lineWidth:M!==void 0?M:Ta,miterLimit:O!==void 0?O:ba,strokeStyle:vr(p||Ca)}}let r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:r!==void 0?r:pw,textAlign:h!==void 0?h:Bl,textBaseline:f!==void 0?f:du},this.text_=u!==void 0?Array.isArray(u)?u.reduce((p,g,I)=>p+=I%2?" ":g,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},C7=yA;var Ps=.5;function E7(n,e,t,i,r,s,o,a,l){let c=l?Ol(r,l):r,u=n[0]*Ps,h=n[1]*Ps,f=Gt(u,h);f.imageSmoothingEnabled=!1;let p=f.canvas,g=new C7(f,Ps,r,null,o,a,l?au(cu(),l):null),I=t.length,b=Math.floor((256*256*256-1)/I),E={};for(let O=1;O<=I;++O){let F=t[O-1],$=F.getStyleFunction()||i;if(!$)continue;let Y=$(F,s);if(!Y)continue;Array.isArray(Y)||(Y=[Y]);let C=(O*b).toString(16).padStart(7,"#00000");for(let T=0,P=Y.length;T<P;++T){let N=Y[T],V=N.getGeometryFunction()(F);if(!V||!bn(c,V.getExtent()))continue;let k=N.clone(),Ce=k.getFill();Ce&&Ce.setColor(C);let be=k.getStroke();be&&(be.setColor(C),be.setLineDash(null)),k.setText(void 0);let Z=N.getImage();if(Z){let Ee=Z.getImageSize();if(!Ee)continue;let ze=Gt(Ee[0],Ee[1],void 0,{alpha:!1}),$e=ze.canvas;ze.fillStyle=C,ze.fillRect(0,0,$e.width,$e.height),k.setImage(new fu({img:$e,anchor:Z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Z.getOrigin(),opacity:1,size:Z.getSize(),scale:Z.getScale(),rotation:Z.getRotation(),rotateWithView:Z.getRotateWithView()}))}let ie=k.getZIndex()||0,le=E[ie];le||(le={},E[ie]=le,le.Polygon=[],le.Circle=[],le.LineString=[],le.Point=[]);let De=V.getType();if(De==="GeometryCollection"){let Ee=V.getGeometriesArrayRecursive();for(let ze=0,$e=Ee.length;ze<$e;++ze){let lt=Ee[ze];le[lt.getType().replace("Multi","")].push(lt,k)}}else le[De.replace("Multi","")].push(V,k)}}let M=Object.keys(E).map(Number).sort(gr);for(let O=0,F=M.length;O<F;++O){let $=E[M[O]];for(let Y in $){let A=$[Y];for(let C=0,T=A.length;C<T;C+=2){g.setStyle(A[C+1]);for(let P=0,N=e.length;P<N;++P)g.setTransform(e[P]),g.drawGeometry(A[C])}}}return f.getImageData(0,0,p.width,p.height)}function T7(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*Ps),s=Math.floor(Math.round(n[1])*Ps),o=($t(r,0,t.width-1)+$t(s,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],u=t.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&i.push(e[u/h-1])}return i}var Efe=.5,x7={Point:Mfe,LineString:Dfe,Polygon:Ofe,MultiPoint:kfe,MultiLineString:Afe,MultiPolygon:Rfe,GeometryCollection:Sfe,Circle:Tfe};function S7(n,e){return parseInt(mt(n),10)-parseInt(mt(e),10)}function vA(n,e){let t=wA(n,e);return t*t}function wA(n,e){return Efe*n/e}function Tfe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function IA(n,e,t,i,r,s,o,a){let l=[],c=t.getImage();if(c){let f=!0,p=c.getImageState();p==Je.LOADED||p==Je.ERROR?f=!1:p==Je.IDLE&&c.load(),f&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),xfe(n,e,t,i,s,o,a),h}function xfe(n,e,t,i,r,s,o){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,r);if(t.getRenderer())D7(n,l,t,e,o);else{let u=x7[l.getType()];u(n,l,t,e,o,s)}}function D7(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)D7(n,o[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function Sfe(n,e,t,i,r,s){let o=e.getGeometriesArray(),a,l;for(a=0,l=o.length;a<l;++a){let c=x7[o[a].getType()];c(n,o[a],t,i,r,s)}}function Dfe(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Afe(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Rfe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function Mfe(n,e,t,i,r,s){let o=t.getImage(),a=t.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=Je.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,i,r)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,r)}}function kfe(n,e,t,i,r,s){let o=t.getImage(),a=o&&o.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=Je.LOADED)return;let h=n.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(e,i,r)}if(c){let h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,i,r)}}function Ofe(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}var bA=class extends Mw{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Hn(),this.wrappedRenderedExtent_=Hn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,s=t.viewState,o=s.center,a=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),h=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),p=t.pixelRatio,g=t.viewHints,I=!(g[di.ANIMATING]||g[di.INTERACTING]),b=this.context,E=Math.round(ut(r)/a*p),M=Math.round(vn(r)/a*p),O=h.getWrapX()&&l.canWrapX(),F=O?ut(u):null,$=O?Math.ceil((r[2]-u[2])/F)+1:1,Y=O?Math.floor((r[0]-u[0])/F):0;do{let A=this.getRenderTransform(o,a,0,p,E,M,Y*F);t.declutter&&(A=A.slice(0)),e.execute(b,[b.canvas.width,b.canvas.height],A,c,I,i===void 0?mu:i?_A:I7,i?f&&t.declutter[f]:void 0)}while(++Y<$)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Gt(this.context.canvas.width,this.context.canvas.height,hA))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,mo(this.context),hA.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let s=this.context,o=this.replayGroup_,a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(ki.PRERENDER)||this.getLayer().hasListener(ki.POSTRENDER)))return null;this.setDrawContext_(),this.preRender(s,e);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=rs(i.extent,l);a=bn(c,e.extent),this.clipped_=a&&!pa(c,e.extent),this.clipped_&&this.clipUnrotated(s,e,c)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*Ps,f=i[1]*Ps;u.push(this.getRenderTransform(r,s,o,Ps,h,f,0).slice());let p=c.getSource(),g=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!pa(g,l)){let b=l[0],E=ut(g),M=0,O;for(;b<g[0];)--M,O=E*M,u.push(this.getRenderTransform(r,s,o,Ps,h,f,O).slice()),b+=E;for(M=0,b=l[2];b>g[2];)++M,O=E*M,u.push(this.getRenderTransform(r,s,o,Ps,h,f,O).slice()),b-=E}let I=cu();this.hitDetectionImageData_=E7(i,u,this.renderedFeatures_,c.getStyleFunction(),l,s,o,vA(s,this.renderedPixelRatio_),I?a:null)}t(T7(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,s){if(!this.replayGroup_)return;let o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(g,I,b){let E=mt(g),M=c[E];if(M){if(M!==!0&&b<M.distanceSq){if(b===0)return c[E]=!0,s.splice(s.lastIndexOf(M),1),r(g,l,I);M.geometry=I,M.distanceSq=b}}else{if(b===0)return c[E]=!0,r(g,l,I);s.push(c[E]={feature:g,layer:l,geometry:I,distanceSq:b,callback:r})}},h,f=[this.replayGroup_],p=this.getLayer().getDeclutter();return f.some(g=>h=g.forEachFeatureAtCoordinate(e,o,a,i,u,p&&t.declutter[p]?t.declutter[p].all().map(I=>I.value):null)),h}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[di.ANIMATING],s=e.viewHints[di.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,f=e.pixelRatio,p=t.getRevision(),g=t.getRenderBuffer(),I=t.getRenderOrder();I===void 0&&(I=S7);let b=c.center.slice(),E=Dh(l,g*h),M=E.slice(),O=[E.slice()],F=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!pa(F,e.extent)){let be=ut(F),Z=Math.max(ut(E)/2,be);E[0]=F[0]-Z,E[2]=F[2]+Z,Jv(b,u);let ie=MD(O[0],u);ie[0]<F[0]&&ie[2]<F[2]?O.push([ie[0]+be,ie[1],ie[2]+be,ie[3]]):ie[0]>F[0]&&ie[2]>F[2]&&O.push([ie[0]-be,ie[1],ie[2]-be,ie[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==I&&this.renderedFrameDeclutter_===!!e.declutter&&pa(this.wrappedRenderedExtent_,E))return Ki(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=b,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let $=new m7(wA(h,f),E,h,f),Y=cu(),A;if(Y){for(let be=0,Z=O.length;be<Z;++be){let ie=O[be],le=Ol(ie,u);i.loadFeatures(le,Q6(h,u),Y)}A=au(Y,u)}else for(let be=0,Z=O.length;be<Z;++be)i.loadFeatures(O[be],h,u);let C=vA(h,f),T=!0,P=(be,Z)=>{let ie,le=be.getStyleFunction()||t.getStyleFunction();if(le&&(ie=le(be,h)),ie){let De=this.renderFeature(be,C,ie,$,A,this.getLayer().getDeclutter(),Z);T=T&&!De}},N=Ol(E,u),V=i.getFeaturesInExtent(N);I&&V.sort(I);for(let be=0,Z=V.length;be<Z;++be)P(V[be],be);this.renderedFeatures_=V,this.ready=T;let k=$.finish(),Ce=new b7(E,h,f,i.getOverlaps(),k,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=I,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=M,this.wrappedRenderedExtent_=E,this.renderedCenter_=b,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=Ce,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,s,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=IA(r,e,i[c],t,this.boundHandleStyleImageChange_,s,o,a)||l;else l=IA(r,e,i,t,this.boundHandleStyleImageChange_,s,o,a);return l}},A7=bA;var CA=class extends Sw{constructor(e){super(e)}createRenderer(){return new A7(this)}},R7=CA;var EA=class{constructor(e){this.rbush_=new Yh(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[mt(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,s=t.length;r<s;r++){let o=e[r],a=t[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=l,this.items_[mt(a)]=l}this.rbush_.load(i)}remove(e){let t=mt(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[mt(t)],r=[i.minX,i.minY,i.maxX,i.maxY];ma(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,s=e.length;r<s;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return As(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return Vr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},TA=EA;function M7(n,e,t,i){let r=[],s=Hn();for(let o=0,a=t.length;o<a;++o){let l=t[o];s=Ah(n,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}var k7=bi(),$m=class n{constructor(e,t,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Kv(this.flatCoordinates_):Ah(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=ns(this.getExtent());this.flatInteriorPoints_=bm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=_9(this.flatCoordinates_,this.ends_),t=M7(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=d9(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=p2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,s=i.length;r<s;++r){let o=i[r],a=p2(e,t,o,2,.5);Eh(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Ci(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=vn(i)/vn(t);Mi(k7,i[0],i[3],r,-r,0,0,0),_r(this.flatCoordinates_,0,this.flatCoordinates_.length,2,k7,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=jv((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Im(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=l9(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=iw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};$m.prototype.getFlatCoordinates=$m.prototype.getOrientedFlatCoordinates;var gu=$m;var xA=class extends Jn{constructor(e){super(),this.projection=Ci(e.projection),this.attributions_=O7(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=O7(e),this.changed()}setState(e){this.state_=e,this.changed()}};function O7(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var kw=xA;var jr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function P7(n,e){return[[-1/0,-1/0,1/0,1/0]]}var Pfe=!1;function Ffe(n,e,t,i,r,s,o){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Pfe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?s(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function SA(n,e){return function(t,i,r,s,o){let a=this;Ffe(n,e,t,i,r,function(l,c){a.addFeatures(l),s!==void 0&&s(l)},o||Ds)}}var bo=class extends wi{constructor(e,t,i){super(e),this.feature=t,this.features=i}},DA=class extends kw{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ds,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Qe(this.format_,"`format` must be set when `url` is set"),this.loader_=SA(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:P7;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new TA:null,this.loadedExtentsRtree_=new TA,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new or(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=mt(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new bo(jr.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof gu||(this.featureChangeKeys_[e]=[at(t,Se.CHANGE,this.handleFeatureChange_,this),at(t,Ss.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof gu){let s=this.idIndex_[r];s instanceof gu?Array.isArray(s)?s.push(t):this.idIndex_[r]=[s,t]:i=!1}else i=!1}return i&&(Qe(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let s=0,o=e.length;s<o;s++){let a=e[s],l=mt(a);this.addToIndex_(l,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){let a=i[s],l=mt(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(jr.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new bo(jr.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(jr.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(jr.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ii.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ii.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Dt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){let i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new bo(jr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let s=r.getGeometry();if(s instanceof gu||s.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof gu||r.intersectsExtent(e)){let s=t(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),As(this.nullGeometryFeatures_)||Eh(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=Oh(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],s=null,o=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||ha,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),h=a;if(a=u instanceof gu?0:u.closestPointXY(i,r,o,a),a<h){s=c;let f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=mt(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}let s=t.getId();if(s!==void 0){let o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new bo(jr.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:mt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&As(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,s=this.strategy_(e,t,i);for(let o=0,a=s.length;o<a;++o){let l=s[o];r.forEachInExtent(l,function(u){return pa(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new bo(jr.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new bo(jr.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new bo(jr.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i;t.forEachInExtent(e,function(r){if(ma(r.extent,e))return i=r,!0}),i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=mt(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Dt),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(jr.REMOVEFEATURE)&&this.dispatchEvent(new bo(jr.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Qe(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(SA(e,this.format_))}},F7=DA;var ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var AA=class extends Al{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Se.CHANGE)}release(){this.state===ve.ERROR&&this.setState(ve.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ve.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){wt()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:P2(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},Xh=AA;var RA=class extends Xh{constructor(e,t,i,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ve.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ve.ERROR,this.unlistenImage_(),this.image_=Lfe(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ve.LOADED:this.state=ve.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ve.ERROR&&(this.state=ve.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ve.IDLE&&(this.state=ve.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=R9(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function Lfe(){let n=Gt(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Ow=RA;var MA=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},L7=MA;var kA=class extends bh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){wt()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Mi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),$v(r,i)}forEachFeatureAtCoordinate(e,t,i,r,s,o,a,l){let c,u=t.viewState;function h(F,$,Y,A){return s.call(o,$,F?Y:null,A)}let f=u.projection,p=Jv(e.slice(),f),g=[[0,0]];if(f.canWrapX()&&r){let F=f.getExtent(),$=ut(F);g.push([-$,0],[$,0])}let I=t.layerStatesArray,b=I.length,E=[],M=[];for(let F=0;F<g.length;F++)for(let $=b-1;$>=0;--$){let Y=I[$],A=Y.layer;if(A.hasRenderer()&&Dm(Y,u)&&a.call(l,A)){let C=A.getRenderer(),T=A.getSource();if(C&&T){let P=T.getWrapX()?p:e,N=h.bind(null,Y.managed);M[0]=P[0]+g[F][0],M[1]=P[1]+g[F][1],c=C.forEachFeatureAtCoordinate(M,t,i,N,E)}if(c)return c}}if(E.length===0)return;let O=1/E.length;return E.forEach((F,$)=>F.distanceSq+=$*O),E.sort((F,$)=>F.distanceSq-$.distanceSq),E.some(F=>c=F.callback(F.feature,F.layer,F.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,s,o){return this.forEachFeatureAtCoordinate(e,t,i,r,ha,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){wt()}scheduleExpireIconCache(e){Br.canExpireCache()&&e.postRenderFunctions.push(Nfe)}};function Nfe(n,e){Br.expire()}var N7=kA;var OA=class extends N7{constructor(e){super(e),this.fontChangeListenerKey_=at(go,Ss.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Vl+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new Aw(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Dt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ki.PRECOMPOSE,e);let t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof Sw&&a.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let s=[],o=null;for(let a=0,l=t.length;a<l;++a){let c=t[a];e.layerIndex=a;let u=c.layer,h=u.getSourceState();if(!Dm(c,r)||h!="ready"&&h!="undefined"){u.unrender();continue}let f=u.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(c))}this.declutter(e,s),A9(this.element_,this.children_),this.dispatchRenderEvent(ki.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},V7=OA;var Fs=class extends wi{constructor(e,t){super(e),this.layer=t}},PA={LAYERS:"layers"},FA=class n extends yw{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(PA.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new or(i.slice(),{unique:!0}):Qe(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new or(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Dt),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(at(e,Ii.ADD,this.handleLayersAdd_,this),at(e,Ii.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Dt);po(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new Fs("addlayer",s))}this.changed()}registerLayerListeners_(e){let t=[at(e,Ss.PROPERTYCHANGE,this.handleLayerChange_,this),at(e,Se.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(at(e,"addlayer",this.handleLayerGroupAdd_,this),at(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[mt(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Fs("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Fs("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Fs("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=mt(t);this.listenerKeys_[i].forEach(Dt),delete this.listenerKeys_[i],this.dispatchEvent(new Fs("removelayer",t)),this.changed()}getLayers(){return this.get(PA.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Fs("removelayer",i[r]))}this.set(PA.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});let r=this.getLayerState(),s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=t.length;o<a;o++){let l=t[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=ar(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return t}getSourceState(){return"ready"}},Gm=FA;var LA=class extends wi{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},Gl=LA;var NA=class extends Gl{constructor(e,t,i,r,s,o){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Co=NA;var pn={SINGLECLICK:"singleclick",CLICK:Se.CLICK,DBLCLICK:Se.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Wm={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var VA=class extends Al{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=at(i,Wm.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=at(i,Wm.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Se.TOUCHMOVE,this.boundHandleTouchMove_,uw?{passive:!1}:!1)}emulateClick_(e){let t=new Co(pn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Co(pn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new Co(pn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==pn.POINTERUP||t.type==pn.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==pn.POINTERDOWN||t.type==pn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new Co(pn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Dt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new Co(pn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(at(i,pn.POINTERMOVE,this.handlePointerMove_,this),at(i,pn.POINTERUP,this.handlePointerUp_,this),at(this.element_,pn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(at(this.element_.getRootNode(),pn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new Co(pn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Co(pn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Dt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Se.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Dt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Dt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},B7=VA;var Eo={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Oi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var qm=1/0,BA=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,po(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Qe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=qm?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,s=t[e],o=i[e],a=e;for(;e<r>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;t[e]=t[u],i[e]=i[u],e=u}t[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,s=i[t],o=r[t];for(;t>e;){let a=this.getParentIndex_(t);if(r[a]>o)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=s,r[t]=o}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,s=t.length,o,a,l;for(a=0;a<s;++a)o=t[a],l=e(o),l==qm?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,t[r++]=o);t.length=r,i.length=r,this.heapify_()}},U7=BA;var UA=class extends U7{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(Se.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===ve.LOADED||i===ve.ERROR||i===ve.EMPTY){i!==ve.ERROR&&t.removeEventListener(Se.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],s=r.getKey();r.getState()===ve.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}},j7=UA;function z7(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return qm;if(!n.wantedTiles[t][e.getKey()])return qm;let s=n.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}var jA=class extends Jn{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Dt(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ds&&this.listenerKeys.push(at(e,Eo.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},Jh=jA;var zA=class extends Jh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Se.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Vl+" "+$h+(this.collapsed_&&this.collapsible_?" "+y2:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=Array.from(new Set(t.flatMap(r=>r.getAttributions(e))));if(!this.overrideCollapsible_){let r=!t.some(s=>s.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return i}updateElement_(e){return z(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>E6(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ki(t,this.renderedAttributions_)){D9(this.ulElement_);for(let r=0,s=t.length;r<s;++r){let o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(y2),this.collapsed_?c2(this.collapseLabel_,this.label_):c2(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},H7=zA;var HA=class extends Jh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Se.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Vl+" "+$h,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Sm)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:os}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let s=this.element.classList.contains(Sm);!s&&i===0?this.element.classList.add(Sm):s&&i!==0&&this.element.classList.remove(Sm)}this.label_.style.transform=r}this.rotation_=i}},$7=HA;var $A=class extends Jh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(Se.CLICK,this.handleClick_.bind(this,i),!1);let h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(Se.CLICK,this.handleClick_.bind(this,-i),!1);let f=t+" "+Vl+" "+$h,p=this.element;p.className=f,p.appendChild(u),p.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:os})):i.setZoom(s)}}},G7=$A;function W7(n){n=n||{};let e=new or;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new G7(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new $7(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new H7(n.attributionOptions)),e}var GA={ACTIVE:"active"};var WA=class extends Jn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(GA.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(GA.ACTIVE,e)}setMap(e){this.map_=e}};function q7(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:K9,center:n.getConstrainedCenter(r)})}}function ef(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let s=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:i!==void 0?i:250,easing:os})}var To=WA;var qA=class extends To{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==pn.DBLCLICK){let i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();ef(a,o,s,this.duration_),i.preventDefault(),t=!0}return!t}},K7=qA;var KA=class extends To{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==pn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==pn.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==pn.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==pn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function tf(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var xo=KA;function Km(n){let e=arguments;return function(t){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](t),!!i);++r);return i}}var Y7=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Vfe=function(n){let e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},Pw=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?Vfe(n):!0},Q7=ha;var Fw=function(n){let e=n.originalEvent;return e.button==0&&!(S9&&o2&&e.ctrlKey)};var Lw=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var Z7=function(n){let e=n.originalEvent;return o2?e.metaKey:e.ctrlKey},X7=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Nw=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Vw=function(n){let e=n.originalEvent;return Qe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"};var J7=function(n){let e=n.originalEvent;return Qe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var YA=class extends xo{constructor(e){super({stopDown:fa}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:Km(Lw,J7);this.condition_=e.onFocusOnly?Km(Pw,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(tf(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();H6(s,a.getResolution()),Nh(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:os})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},e8=YA;var QA=class extends xo{constructor(e){e=e||{},super({stopDown:fa}),this.condition_=e.condition?e.condition:Y7,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Vw(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===Wh)return;let r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return Vw(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Vw(e)&&Fw(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},t8=QA;var ZA=class extends bh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new y9([r])}getGeometry(){return this.geometry_}},n8=ZA;var Ym={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},nf=class extends wi{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},XA=class extends xo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new n8(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Fw,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],s=i[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new nf(Ym.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new nf(t?Ym.BOXEND:Ym.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new nf(Ym.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new nf(Ym.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}},i8=XA;var JA=class extends i8{constructor(e){e=e||{};let t=e.condition?e.condition:X7;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:os})}},r8=JA;var Wl={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var eR=class extends To{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Lw(t)&&Nw(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Se.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Wl.DOWN||r==Wl.LEFT||r==Wl.RIGHT||r==Wl.UP)){let o=e.map.getView(),a=o.getResolution()*this.pixelDelta_,l=0,c=0;r==Wl.DOWN?c=-a:r==Wl.LEFT?l=-a:r==Wl.RIGHT?l=a:c=a;let u=[l,c];Nh(u,o.getRotation()),q7(o,u,this.duration_),i.preventDefault(),t=!0}}return!t}},s8=eR;var tR=class extends To{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!Z7(t)&&Nw(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Se.KEYDOWN||e.type==Se.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();ef(a,o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},o8=tR;var nR=class extends To{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:Q7;this.condition_=e.onFocusOnly?Km(Pw,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Se.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Se.WHEEL&&(s=r.deltaY,x9&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=lw),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;let o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;let l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-$t(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ef(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},a8=nR;var iR=class extends xo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=fa),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=s;let o=e.map,a=o.getView();a.getConstraints().rotation!==Wh&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(tf(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},l8=iR;var rR=class extends xo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=fa),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(tf(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},c8=rR;function u8(n){n=n||{};let e=new or,t=new L7(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new t8),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new K7({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new e8({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new l8),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new c8({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new s8),e.push(new o8({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new a8({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new r8({duration:n.zoomDuration})),e}function d8(n){if(n instanceof hu){n.setMapInternal(null);return}n instanceof Gm&&n.getLayers().forEach(d8)}function h8(n,e){if(n instanceof hu){n.setMapInternal(e);return}if(n instanceof Gm){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)h8(t[i],e)}}var sR=class extends Jn{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=Bfe(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:lw,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=bi(),this.pixelToCoordinateTransform_=bi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||W7(),this.interactions=t.interactions||u8({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new j7(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Oi.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Oi.VIEW,this.handleViewChanged_),this.addChangeListener(Oi.SIZE,this.handleSizeChanged_),this.addChangeListener(Oi.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof br)&&e.view.then(function(r){i.setView(new br(r))}),this.controls.addEventListener(Ii.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ii.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ii.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ii.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ii.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ii.REMOVE,r=>{let s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){h8(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:ha,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof Gm?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:ha,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Oi.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return wm(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?zn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Oi.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof or){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let s=r.layer.getRenderer();if(s&&!s.ready)return!0;let o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){let t=ks(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?zn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Oi.SIZE)}getView(){return this.get(Oi.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return z7(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new Co(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===Wm.POINTERDOWN||i===Se.WHEEL||i===Se.KEYDOWN){let r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){let o=e.viewHints;if(o[di.ANIMATING]||o[di.INTERACTING]){let a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(ki.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ki.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Gl(Eo.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Gl(Eo.LOADSTART,this,e))));let i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Dt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Se.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Se.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new V7(this)),this.mapBrowserEventHandler_=new B7(this,this.moveTolerance_);for(let s in pn)this.mapBrowserEventHandler_.addEventListener(pn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Se.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Se.WHEEL,this.boundHandleBrowserEvent_,uw?{passive:!1}:!1);let i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[at(i,Se.KEYDOWN,this.handleBrowserEvent,this),at(i,Se.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Dt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Dt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=at(e,Ss.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=at(e,Se.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Dt),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Fs("addlayer",e)),this.layerGroupPropertyListenerKeys_=[at(e,Ss.PROPERTYCHANGE,this.render,this),at(e,Se.CHANGE,this.render,this),at(e,"addlayer",this.handleLayerAdd_,this),at(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){d8(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,s=null;if(t!==void 0&&g2(t)&&i&&i.isDef()){let o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:pm(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:mt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=pm(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Ml(this.previousExtent_)&&!ma(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Gl(Eo.MOVESTART,this,r)),this.previousExtent_=iu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[di.ANIMATING]&&!s.viewHints[di.INTERACTING]&&!ma(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Gl(Eo.MOVEEND,this,s)),Wv(s.extent,this.previousExtent_))),this.dispatchEvent(new Gl(Eo.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Eo.LOADSTART)||this.hasListener(Eo.LOADEND)||this.hasListener(ki.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Fs("removelayer",t)),this.set(Oi.LAYERGROUP,e)}setSize(e){this.set(Oi.SIZE,e)}setTarget(e){this.set(Oi.TARGET,e)}setView(e){if(!e||e instanceof br){this.set(Oi.VIEW,e);return}this.set(Oi.VIEW,new br);let t=this;e.then(function(i){t.setView(new br(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!g2(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ew("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!Ki(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function Bfe(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Gm({layers:n.layers});t[Oi.LAYERGROUP]=i,t[Oi.TARGET]=n.target,t[Oi.VIEW]=n.view instanceof br?n.view:new br;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new or(n.controls.slice()):(Qe(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let s;n.interactions!==void 0&&(Array.isArray(n.interactions)?s=new or(n.interactions.slice()):(Qe(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=n.interactions));let o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new or(n.overlays.slice()):(Qe(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=n.overlays):o=new or,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}var oR=sR;var aR=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return Qe(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return Qe(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Qe(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},Bw=aR;function rf(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function _u(n,e,t){return n+"/"+e+"/"+t}function Uw(n){return _u(n[0],n[1],n[2])}function f8(n){return n.split("/").map(Number)}function p8(n){return Ufe(n[0],n[1],n[2])}function Ufe(n,e,t){return(e<<n)+t}function m8(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let s=e.getFullTileRange(t);return s?s.containsXY(i,r):!0}var lR=class extends Bw{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;let e=this.peekFirstKey(),i=f8(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(Uw(r.tileCoord)),r.release())})}},jw=lR;var zw=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function yu(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new zw(n,e,t,i)}var Hw=zw;var Qm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var cR=class extends hu{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Qm.PRELOAD)}setPreload(e){this.set(Qm.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Qm.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Qm.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},g8=cR;function of(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}function _8(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Float32Array||n instanceof DataView?n:null}var jfe=new Error("disposed"),sf=null;function y8(n){sf||(sf=Gt(n.width,n.height,void 0,{willReadFrequently:!0}));let e=sf.canvas,t=n.width;e.width!==t&&(e.width=t);let i=n.height;return e.height!==i&&(e.height=i),sf.clearRect(0,0,t,i),sf.drawImage(n,0,0),sf.getImageData(0,0,t,i).data}var zfe=[256,256],uR=class extends Xh{constructor(e){let t=ve.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=of(this.data_);return e?[e.width,e.height]:zfe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ve.IDLE&&this.state!==ve.ERROR)return;this.state=ve.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=ve.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=ve.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(jfe),this.controller_=null),super.disposeInternal()}},Zm=uR;var Hfe=10,v8=.25,dR=class{constructor(e,t,i,r,s,o){this.sourceProj_=e,this.targetProj_=t;let a={},l=lu(this.targetProj_,this.sourceProj_);this.transformInv_=function(M){let O=M[0]+"/"+M[1];return a[O]||(a[O]=l(M)),a[O]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ut(r)>=ut(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ut(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ut(this.targetProj_.getExtent()):null;let c=is(i),u=kh(i),h=Mh(i),f=Rh(i),p=this.transformInv_(c),g=this.transformInv_(u),I=this.transformInv_(h),b=this.transformInv_(f),E=Hfe+(o?Math.max(0,Math.ceil(Math.log2(Rl(i)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,f,p,g,I,b,E),this.wrapsXInSource_){let M=1/0;this.triangles_.forEach(function(O,F,$){M=Math.min(M,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(O=>{if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-M>this.sourceWorldWidth_/2){let F=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];F[0][0]-M>this.sourceWorldWidth_/2&&(F[0][0]-=this.sourceWorldWidth_),F[1][0]-M>this.sourceWorldWidth_/2&&(F[1][0]-=this.sourceWorldWidth_),F[2][0]-M>this.sourceWorldWidth_/2&&(F[2][0]-=this.sourceWorldWidth_);let $=Math.min(F[0][0],F[1][0],F[2][0]);Math.max(F[0][0],F[1][0],F[2][0])-$<this.sourceWorldWidth_/2&&(O.source=F)}})}a={}}addTriangle_(e,t,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,i]})}addQuad_(e,t,i,r,s,o,a,l,c){let u=DD([s,o,a,l]),h=this.sourceWorldWidth_?ut(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let b=DD([e,t,i,r]);g=ut(b)/this.targetWorldWidth_>v8||g}!p&&this.sourceProj_.isGlobal()&&h&&(g=h>v8||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!bn(u,this.maxSourceExtent_))return;let I=0;if(!g&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(I=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),I!=1&&I!=2&&I!=4&&I!=8)return}if(c>0){if(!g){let b=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(b),M;p?M=(va(s[0],f)+va(a[0],f))/2-va(E[0],f):M=(s[0]+a[0])/2-E[0];let O=(s[1]+a[1])/2-E[1];g=M*M+O*O>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let b=[(t[0]+i[0])/2,(t[1]+i[1])/2],E=this.transformInv_(b),M=[(r[0]+e[0])/2,(r[1]+e[1])/2],O=this.transformInv_(M);this.addQuad_(e,t,b,M,s,o,E,O,c-1),this.addQuad_(M,b,i,r,O,E,a,l,c-1)}else{let b=[(e[0]+t[0])/2,(e[1]+t[1])/2],E=this.transformInv_(b),M=[(i[0]+r[0])/2,(i[1]+r[1])/2],O=this.transformInv_(M);this.addQuad_(e,b,M,r,s,E,O,l,c-1),this.addQuad_(b,t,i,M,E,o,a,O,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}I&11||this.addTriangle_(e,i,r,s,a,l),I&14||this.addTriangle_(e,i,t,s,a,o),I&&(I&13||this.addTriangle_(t,r,e,o,l,s),I&7||this.addTriangle_(t,r,i,o,l,a))}calculateSourceExtent(){let e=Hn();return this.triangles_.forEach(function(t,i,r){let s=t.source;ru(e,s[0]),ru(e,s[1]),ru(e,s[2])}),e}getTriangles(){return this.triangles_}},$w=dR;var hR,Ls=[];function w8(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function fR(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function $fe(){if(hR===void 0){let n=Gt(6,6,Ls);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",w8(n,4,5,4,0),w8(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;hR=fR(e,0)||fR(e,4)||fR(e,8),mo(n),Ls.push(n.canvas)}return hR}function I8(n,e,t,i){let r=vm(t,e,n),s=UD(e,i,t),o=e.getMetersPerUnit();o!==void 0&&(s*=o);let a=n.getMetersPerUnit();a!==void 0&&(s/=a);let l=n.getExtent();if(!l||Rs(l,r)){let c=UD(n,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function Gw(n,e,t,i){let r=ns(t),s=I8(n,e,r,i);return(!isFinite(s)||s<=0)&&Yv(t,function(o){return s=I8(n,e,o,i),isFinite(s)&&s>0}),s}function Ww(n,e,t,i,r,s,o,a,l,c,u,h,f,p){let g=Gt(Math.round(t*n),Math.round(t*e),Ls);if(h||(g.imageSmoothingEnabled=!1),l.length===0)return g.canvas;g.scale(t,t);function I($){return Math.round($*t)/t}g.globalCompositeOperation="lighter";let b=Hn();l.forEach(function($,Y,A){A6(b,$.extent)});let E,M=t/i,O=(h?1:1+Math.pow(2,-24))/M;if(!f||l.length!==1||c!==0){if(E=Gt(Math.round(ut(b)*M),Math.round(vn(b)*M),Ls),h||(E.imageSmoothingEnabled=!1),r&&p){let $=(r[0]-b[0])*M,Y=-(r[3]-b[3])*M,A=ut(r)*M,C=vn(r)*M;E.rect($,Y,A,C),E.clip()}l.forEach(function($,Y,A){if($.image.width>0&&$.image.height>0){if($.clipExtent){E.save();let V=($.clipExtent[0]-b[0])*M,k=-($.clipExtent[3]-b[3])*M,Ce=ut($.clipExtent)*M,be=vn($.clipExtent)*M;E.rect(h?V:Math.round(V),h?k:Math.round(k),h?Ce:Math.round(V+Ce)-Math.round(V),h?be:Math.round(k+be)-Math.round(k)),E.clip()}let C=($.extent[0]-b[0])*M,T=-($.extent[3]-b[3])*M,P=ut($.extent)*M,N=vn($.extent)*M;E.drawImage($.image,c,c,$.image.width-2*c,$.image.height-2*c,h?C:Math.round(C),h?T:Math.round(T),h?P:Math.round(C+P)-Math.round(C),h?N:Math.round(T+N)-Math.round(T)),$.clipExtent&&E.restore()}})}let F=is(o);return a.getTriangles().forEach(function($,Y,A){let C=$.source,T=$.target,P=C[0][0],N=C[0][1],V=C[1][0],k=C[1][1],Ce=C[2][0],be=C[2][1],Z=I((T[0][0]-F[0])/s),ie=I(-(T[0][1]-F[1])/s),le=I((T[1][0]-F[0])/s),De=I(-(T[1][1]-F[1])/s),Ee=I((T[2][0]-F[0])/s),ze=I(-(T[2][1]-F[1])/s),$e=P,lt=N;P=0,N=0,V-=$e,k-=lt,Ce-=$e,be-=lt;let re=[[V,k,0,0,le-Z],[Ce,be,0,0,Ee-Z],[0,0,V,k,De-ie],[0,0,Ce,be,ze-ie]],wn=j6(re);if(!wn)return;if(g.save(),g.beginPath(),$fe()||!h){g.moveTo(le,De);let gt=4,$n=Z-le,yn=ie-De;for(let Cn=0;Cn<gt;Cn++)g.lineTo(le+I((Cn+1)*$n/gt),De+I(Cn*yn/(gt-1))),Cn!=gt-1&&g.lineTo(le+I((Cn+1)*$n/gt),De+I((Cn+1)*yn/(gt-1)));g.lineTo(Ee,ze)}else g.moveTo(le,De),g.lineTo(Z,ie),g.lineTo(Ee,ze);g.clip(),g.transform(wn[0],wn[2],wn[1],wn[3],Z,ie),g.translate(b[0]-$e,b[3]-lt);let Pn;if(E)Pn=E.canvas,g.scale(O,-O);else{let gt=l[0],$n=gt.extent;Pn=gt.image,g.scale(ut($n)/Pn.width,-vn($n)/Pn.height)}g.drawImage(Pn,0,0),g.restore()}),E&&(mo(E),Ls.push(E.canvas)),u&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach(function($,Y,A){let C=$.target,T=(C[0][0]-F[0])/s,P=-(C[0][1]-F[1])/s,N=(C[1][0]-F[0])/s,V=-(C[1][1]-F[1])/s,k=(C[2][0]-F[0])/s,Ce=-(C[2][1]-F[1])/s;g.beginPath(),g.moveTo(N,V),g.lineTo(T,P),g.lineTo(k,Ce),g.closePath(),g.stroke()}),g.restore()),g.canvas}var pR=class extends Zm{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let t=e.sourceProj,i=t.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=t.canWrapX()?r?ar(i,r):i:r;let s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent(),a=this.sourceTileGrid_.getExtent(),l=o?ar(s,o):s;if(Rl(l)===0){this.state=ve.EMPTY;return}i&&(a?a=ar(a,i):a=i);let c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,h=Gw(t,u,l,c);if(!isFinite(h)||h<=0){this.state=ve.EMPTY;return}let f=e.errorThreshold!==void 0?e.errorThreshold:.5;if(this.triangulation_=new $w(t,u,l,a,h*f,c),this.triangulation_.getTriangles().length===0){this.state=ve.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let p=this.triangulation_.calculateSourceExtent();if(a&&(t.canWrapX()?(p[1]=$t(p[1],a[1],a[3]),p[3]=$t(p[3],a[1],a[3])):p=ar(p,a)),!Rl(p))this.state=ve.EMPTY;else{let g=0,I=0;t.canWrapX()&&(g=ut(i),I=Math.floor((p[0]-i[0])/g)),Oh(p.slice(),t,!0).forEach(E=>{let M=this.sourceTileGrid_.getTileRangeForExtentAndZ(E,this.sourceZ_),O=e.getTileFunction;for(let F=M.minX;F<=M.maxX;F++)for(let $=M.minY;$<=M.maxY;$++){let Y=O(this.sourceZ_,F,$,this.pixelRatio_);if(Y){let A=I*g;this.sourceTiles_.push({tile:Y,offset:A})}}++I}),this.sourceTiles_.length===0&&(this.state=ve.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){let e=[],t=!1;if(this.sourceTiles_.forEach(g=>{let I=g.tile;if(!I||I.getState()!==ve.LOADED)return;let b=I.getSize(),E=this.gutter_,M,O=_8(I.getData());O?M=O:(t=!0,M=y8(of(I.getData())));let F=[b[0]+2*E,b[1]+2*E],$=M instanceof Float32Array,Y=F[0]*F[1],A=$?Float32Array:Uint8ClampedArray,C=new A(M.buffer),T=A.BYTES_PER_ELEMENT,P=T*C.length/Y,N=C.byteLength/F[1],V=Math.floor(N/T/F[0]),k=Y*V,Ce=C;if(C.length!==k){Ce=new A(k);let ie=0,le=0,De=F[0]*V;for(let Ee=0;Ee<F[1];++Ee){for(let ze=0;ze<De;++ze)Ce[ie++]=C[le+ze];le+=N/T}}let be=this.sourceTileGrid_.getTileCoordExtent(I.tileCoord);be[0]+=g.offset,be[2]+=g.offset;let Z=this.clipExtent_?.slice();Z&&(Z[0]+=g.offset,Z[2]+=g.offset),e.push({extent:be,clipExtent:Z,data:new Uint8ClampedArray(Ce.buffer),dataType:A,bytesPerPixel:P,pixelSize:F})}),this.sourceTiles_.length=0,e.length===0){this.state=ve.ERROR,this.changed();return}let i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),u,h,f=e[0].bytesPerPixel,p=Math.ceil(f/3);for(let g=p-1;g>=0;--g){let I=[];for(let $=0,Y=e.length;$<Y;++$){let A=e[$],C=A.data,T=A.pixelSize,P=T[0],N=T[1],V=Gt(P,N,Ls),k=V.createImageData(P,N),Ce=k.data,be=g*3;for(let Z=0,ie=Ce.length;Z<ie;Z+=4)Ce[Z]=C[be],Ce[Z+1]=C[be+1],Ce[Z+2]=C[be+2],Ce[Z+3]=255,be+=f;V.putImageData(k,0,0),I.push({extent:A.extent,clipExtent:A.clipExtent,image:V.canvas})}let b=Ww(s,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,I,this.gutter_,!1,!1,!1);for(let $=0,Y=I.length;$<Y;++$){let C=I[$].image.getContext("2d");mo(C),Ls.push(C.canvas)}let E=b.getContext("2d"),M=E.getImageData(0,0,b.width,b.height);mo(E),Ls.push(b),u||(h=new Uint8ClampedArray(f*M.width*M.height),u=new e[0].dataType(h.buffer));let O=M.data,F=g*3;for(let $=0,Y=O.length;$<Y;$+=4)O[$+3]===255?(h[F]=O[$],h[F+1]=O[$+1],h[F+2]=O[$+2]):(h[F]=0,h[F+1]=0,h[F+2]=0),F+=f}if(t){let g=Gt(s,o),I=new ImageData(u,s);g.putImageData(I,0,0),this.reprojData_=g.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(s*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=ve.LOADED,this.changed()}load(){if(this.state!==ve.IDLE&&this.state!==ve.ERROR)return;this.state=ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i!==ve.IDLE&&i!==ve.LOADING)return;e++;let r=at(t,Se.CHANGE,()=>{let s=t.getState();(s==ve.LOADED||s==ve.ERROR||s==ve.EMPTY)&&(Dt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t}){t.getState()==ve.IDLE&&t.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Dt),this.sourcesListenerKeys_=null}},b8=pR;var mR=class extends Xh{constructor(e,t,i,r,s,o,a,l,c,u,h,f){super(s,ve.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let p=r.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),I=this.sourceTileGrid_.getExtent(),b=g?ar(p,g):p;if(Rl(b)===0){this.state=ve.EMPTY;return}let E=e.getExtent();E&&(I?I=ar(I,E):I=E);let M=r.getResolution(this.wrappedTileCoord_[0]),O=Gw(e,i,b,M);if(!isFinite(O)||O<=0){this.state=ve.EMPTY;return}let F=u!==void 0?u:.5;if(this.triangulation_=new $w(e,i,b,I,O*F,M),this.triangulation_.getTriangles().length===0){this.state=ve.EMPTY;return}this.sourceZ_=t.getZForResolution(O);let $=this.triangulation_.calculateSourceExtent();if(I&&(e.canWrapX()?($[1]=$t($[1],I[1],I[3]),$[3]=$t($[3],I[1],I[3])):$=ar($,I)),!Rl($))this.state=ve.EMPTY;else{let Y=0,A=0;e.canWrapX()&&(Y=ut(E),A=Math.floor(($[0]-E[0])/Y)),Oh($.slice(),e,!0).forEach(T=>{let P=t.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let N=P.minX;N<=P.maxX;N++)for(let V=P.minY;V<=P.maxY;V++){let k=c(this.sourceZ_,N,V,a);if(k){let Ce=A*Y;this.sourceTiles_.push({tile:k,offset:Ce})}}++A}),this.sourceTiles_.length===0&&(this.state=ve.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==ve.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let s=this.clipExtent_?.slice();s&&(s[0]+=t.offset,s[2]+=t.offset),e.push({extent:r,clipExtent:s,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ve.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ww(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ve.LOADED}this.changed()}load(){if(this.state==ve.IDLE){this.state=ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==ve.IDLE||i==ve.LOADING){e++;let r=at(t,Se.CHANGE,s=>{let o=t.getState();(o==ve.LOADED||o==ve.ERROR||o==ve.EMPTY)&&(Dt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==ve.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Dt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(mo(this.canvas_.getContext("2d")),Ls.push(this.canvas_),this.canvas_=null),super.release()}},qw=mR;function gR(n,e,t,i){return`${n},${_u(e,t,i)}`}function _R(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function Wfe(n,e,t){let i=n[t];return i?i.delete(e):!1}function C8(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=ar(e,rs(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=ar(e,r))}return e}var yR=class extends Mw{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Hn(),this.tempTileRange_=new Hw(0,0,0,0),this.tempTileCoord_=rf(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new Bw(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let s=this.tileCache_,a=this.getLayer().getSource(),l=gR(a.getKey(),e,t,i),c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,t,i,r){let s=this.getOrCreateTile(e,t,i,r);return s||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=zn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Rs(s,r))return null;let o=t.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){let h=l.getTileCoordForCoordAndZ(r,u),f=this.getTile(u,h[1],h[2],t);if(!f||f.getState()!==ve.LOADED)continue;let p=l.getOrigin(u),g=kn(l.getTileSize(u)),I=l.getResolution(u),b;if(f instanceof Ow)b=f.getImage();else if(f instanceof Zm){if(b=of(f.getData()),!b)continue}else continue;let E=Math.floor(c*((r[0]-p[0])/I-h[1]*g[0])),M=Math.floor(c*((p[1]-r[1])/I-h[2]*g[1])),O=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(b,E+O,M+O)}return null}prepareFrame(e){let t=this.getLayer().getSource();if(!t)return!1;let i=this.getLayer().getSource().getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,s){let o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=mt(l);u in e.wantedTiles||(e.wantedTiles[u]={});let h=e.wantedTiles[u],f=a.getMapInternal(),p=Math.max(i-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let g=i;g>=p;--g){let I=c.getTileRangeForExtentAndZ(t,g,this.tempTileRange_),b=c.getResolution(g);for(let E=I.minX;E<=I.maxX;++E)for(let M=I.minY;M<=I.maxY;++M){let O=this.getTile(g,E,M,e);if(!O||!_R(r,O,g))continue;let $=O.getKey();if(h[$]=!0,O.getState()===ve.IDLE&&!e.tileQueue.isKeyQueued($)){let Y=rf(g,E,M,this.tempTileCoord_);e.tileQueue.enqueue([O,u,c.getTileCoordCenter(Y),b])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=gR(a[l],r,s,o);if(i.containsKey(c)){let u=i.get(c);if(u.getState()===ve.LOADED)return u.endTransition(mt(this)),_R(t,u,r),!0}}return!1}findAltTiles_(e,t,i,r){let s=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!s)return!1;let o=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){let f=gR(c,i,u,h),p=!1;if(a.containsKey(f)){let g=a.get(f);g.getState()===ve.LOADED&&(_R(r,g,i),p=!0)}p||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;let i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),f=u.getTileGridForProjection(s),p=f.getZForResolution(o,u.zDirection),g=f.getResolution(p),I=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==I&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=I):this.renderedSourceKey_=I;let b=e.extent,E=u.getTilePixelRatio(l);this.prepareContainer(e,t);let M=this.context.canvas.width,O=this.context.canvas.height,F=i.extent&&rs(i.extent,s);F&&(b=ar(b,rs(i.extent,s)));let $=g*M/2/E,Y=g*O/2/E,A=[a[0]-$,a[1]-Y,a[0]+$,a[1]+Y],C={},T=c.getPreload();if(e.nextExtent){let Ee=f.getZForResolution(r.nextResolution,u.zDirection),ze=C8(e,e.nextExtent);this.enqueueTiles(e,ze,Ee,C,T)}let P=C8(e,b);this.enqueueTiles(e,P,p,C,0),T>0&&setTimeout(()=>{this.enqueueTiles(e,P,p-1,C,T-1)},0);let N=mt(this),V=e.time;for(let Ee of C[p]){let ze=Ee.getState();if((Ee instanceof qw||Ee instanceof b8)&&ze===ve.EMPTY)continue;let $e=Ee.tileCoord;if(ze===ve.LOADED&&Ee.getAlpha(N,V)===1){Ee.endTransition(N);continue}if(this.renderComplete=!1,this.findStaleTile_($e,C)){Wfe(C,Ee,p),e.animate=!0;continue}if(this.findAltTiles_(f,$e,p+1,C))continue;let wn=f.getMinZoom();for(let Pn=p-1;Pn>=wn&&!this.findAltTiles_(f,$e,Pn,C);--Pn);}let k=g/o*l/E,Ce=this.getRenderContext(e);Mi(this.tempTransform,M/2,O/2,k,k,0,-M/2,-O/2),i.extent&&this.clipUnrotated(Ce,e,F),u.getInterpolate()||(Ce.imageSmoothingEnabled=!1),this.preRender(Ce,e),this.renderedTiles.length=0;let be=Object.keys(C).map(Number);be.sort(gr);let Z,ie=[],le=[];for(let Ee=be.length-1;Ee>=0;--Ee){let ze=be[Ee],$e=u.getTilePixelSize(ze,l,s),re=f.getResolution(ze)/g,wn=$e[0]*re*k,Pn=$e[1]*re*k,gt=f.getTileCoordForCoordAndZ(is(A),ze),$n=f.getTileCoordExtent(gt),yn=zn(this.tempTransform,[E*($n[0]-A[0])/g,E*(A[3]-$n[3])/g]),Cn=E*u.getGutterForProjection(s);for(let Ti of C[ze]){if(Ti.getState()!==ve.LOADED)continue;let Do=Ti.tileCoord,Ma=gt[1]-Do[1],Yl=Math.round(yn[0]-(Ma-1)*wn),Ao=gt[2]-Do[2],Vs=Math.round(yn[1]-(Ao-1)*Pn),Zi=Math.round(yn[0]-Ma*wn),$r=Math.round(yn[1]-Ao*Pn),Ro=Yl-Zi,Mo=Vs-$r,ko=be.length===1,Bs=!1;Z=[Zi,$r,Zi+Ro,$r,Zi+Ro,$r+Mo,Zi,$r+Mo];for(let ka=0,Us=ie.length;ka<Us;++ka)if(!ko&&ze<le[ka]){let En=ie[ka];bn([Zi,$r,Zi+Ro,$r+Mo],[En[0],En[3],En[4],En[7]])&&(Bs||(Ce.save(),Bs=!0),Ce.beginPath(),Ce.moveTo(Z[0],Z[1]),Ce.lineTo(Z[2],Z[3]),Ce.lineTo(Z[4],Z[5]),Ce.lineTo(Z[6],Z[7]),Ce.moveTo(En[6],En[7]),Ce.lineTo(En[4],En[5]),Ce.lineTo(En[2],En[3]),Ce.lineTo(En[0],En[1]),Ce.clip())}ie.push(Z),le.push(ze),this.drawTile(Ti,e,Zi,$r,Ro,Mo,Cn,ko),Bs&&Ce.restore(),this.renderedTiles.unshift(Ti),this.updateUsedTiles(e.usedTiles,u,Ti)}}this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!ma(this.renderedExtent_,A),this.renderedExtent_=A,this.renderedPixelRatio=l,this.renderedProjection=s,this.postRender(this.context,e),i.extent&&Ce.restore(),Ce.imageSmoothingEnabled=!0;let De=(Ee,ze)=>{let $e=mt(u),lt=ze.wantedTiles[$e],re=lt?Object.keys(lt).length:0;this.updateCacheSize(re),this.tileCache_.expireCache()};return e.postRenderFunctions.push(De),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,s,o,a,l){let c;if(e instanceof Zm){if(c=of(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),h=mt(this),f=t.layerStatesArray[t.layerIndex],p=f.opacity*(l?e.getAlpha(h,t.time):1),g=p!==u.globalAlpha;g&&(u.save(),u.globalAlpha=p),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,s,o),g&&u.restore(),p!==f.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=mt(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},E8=yR;var vR=class extends g8{constructor(e){super(e)}createRenderer(){return new E8(this,{cacheSize:this.getCacheSize()})}},T8=vR;var Kw={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var af=[0,0,0],ql=5,wR=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Qe(C6(this.resolutions_,(r,s)=>s-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Qe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=is(i)),Qe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Qe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,Qe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{let o=new Hw(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,s,a])}forEachTileCoordParentTileRange(e,t,i,r){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=yu(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,c,i),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let s=e[1]*2,o=e[2]*2;return yu(s,s+1,o,o+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],s=e[1],o=e[2];if(t===r)return yu(s,o,s,o,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(s*l),u=Math.floor(o*l);if(t<r)return yu(c,c,u,u,i);let h=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return yu(c,h,u,f,i)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,af);let r=af[1],s=af[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,af);let o=af[1],a=af[2];return yu(r,o,s,a,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=kn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=kn(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return Vr(o,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,s){let o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=kn(this.getTileSize(o),this.tmpSize_),u=a*(e-l[0])/i/c[0],h=a*(l[1]-t)/i/c[1];return r?(u=ym(u,ql)-1,h=ym(h,ql)-1):(u=_m(u,ql),h=_m(h,ql)),rf(o,u,h,s)}getTileCoordForXYAndZ_(e,t,i,r,s){let o=this.getOrigin(i),a=this.getResolution(i),l=kn(this.getTileSize(i),this.tmpSize_),c=(e-o[0])/a/l[0],u=(o[1]-t)/a/l[1];return r?(c=ym(c,ql)-1,u=ym(u,ql)-1):(c=_m(c,ql),u=_m(u,ql)),rf(i,c,u,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=Ch(this.resolutions_,e,t||0);return $t(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return ZD(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},IR=wR;function Yw(n){let e=n.getDefaultTileGrid();return e||(e=Kfe(n),n.setDefaultTileGrid(e)),e}function x8(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),s=Qw(t);if(!Rs(s,r)){let o=ut(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,n.getTileCoordForCoordAndZ(r,i)}return e}function qfe(n,e,t,i){i=i!==void 0?i:"top-left";let r=D8(n,e,t);return new IR({extent:n,origin:R6(n,i),resolutions:r,tileSize:t})}function S8(n){let e=n||{},t=e.extent||Ci("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:D8(t,e.maxZoom,e.tileSize,e.maxResolution)};return new IR(i)}function D8(n,e,t,i){e=e!==void 0?e:42,t=kn(t!==void 0?t:256);let r=vn(n),s=ut(n);i=i>0?i:Math.max(s/t[0],r/t[1]);let o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function Kfe(n,e,t,i){let r=Qw(n);return qfe(r,e,t,i)}function Qw(n){n=Ci(n);let e=n.getExtent();if(!e){let t=180*ga.degrees/n.getMetersPerUnit();e=Vr(-t,-t,t,t)}return e}var bR=class extends kw{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&kn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new jw(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){let i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,s){return wt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Yw(e)}getTileCacheForProjection(e){let t=this.getProjection();return Qe(t===null||ou(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),o=kn(r.getTileSize(e),this.tmpSize);return s==1?o:O9(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();let i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=x8(i,e,t)),m8(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}useTile(e,t,i,r){}},Zw=class extends wi{constructor(e,t){super(e),this.tile=t}},A8=bR;var Yfe=/\{z\}/g,Qfe=/\{x\}/g,Zfe=/\{y\}/g,Xfe=/\{-y\}/g;function R8(n,e,t,i,r){return n.replace(Yfe,e.toString()).replace(Qfe,t.toString()).replace(Zfe,i.toString()).replace(Xfe,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function M8(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),s;for(s=i;s<=r;++s)e.push(n.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function Jfe(n,e){return function(t,i,r){if(!t)return;let s,o=t[0];if(e){let a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return R8(n,o,t[1],t[2],s)}}function k8(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Jfe(n[r],e);return epe(i)}function epe(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=p8(e),s=va(r,n.length);return n[s](e,t,i)}}var CR=class n extends A8{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=mt(t),r=t.getState(),s;r==ve.LOADING?(this.tileLoadingKeys_[i]=!0,s=Kw.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==ve.ERROR?Kw.TILELOADERROR:r==ve.LOADED?Kw.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Zw(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=M8(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(k8(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){let r=_u(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}},O8=CR;var ER=class extends O8{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:tpe,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Ow,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){let i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(let r in this.tileCacheForProjection){let s=this.tileCacheForProjection[r];s.expireCache(s==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ou(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||ou(t,e)))return this.tileGrid;let i=mt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Yw(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){let t=this.getProjection();if(!t||ou(t,e))return this.tileCache;let i=mt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new jw(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,s,o){let a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,u=new this.tileClass(a,c!==void 0?ve.IDLE:ve.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(Se.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,i,r,s){let o=this.getProjection();if(!o||!s||ou(o,s))return this.getTileInternal(e,t,i,r,o||s);let a=this.getTileCacheForProjection(s),l=[e,t,i],c,u=Uw(l);a.containsKey(u)&&(c=a.get(u));let h=this.getKey();if(c&&c.key==h)return c;let f=this.getTileGridForProjection(o),p=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),I=new qw(o,f,s,p,l,g,this.getTilePixelRatio(r),this.getGutter(),(b,E,M,O)=>this.getTileInternal(b,E,M,O,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return I.key=h,c?a.replace(u,I):a.set(u,I),I}getTileInternal(e,t,i,r,s){let o=_u(e,t,i),a=this.getKey();if(!this.tileCache.containsKey(o)){let c=this.createTile_(e,t,i,r,s,a);return this.tileCache.set(o,c),c}let l=this.tileCache.get(o);return l.key!=a&&(l=this.createTile_(e,t,i,r,s,a),this.tileCache.replace(o,l)),l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(let t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){let i=Ci(e);if(i){let r=mt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(let e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}};function tpe(n,e){n.getImage().src=e}var P8=ER;var TR=class extends P8{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:S8({extent:Qw(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},F8=TR;var npe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',xR=class extends F8{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[npe];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},SR=xR;var L8=(()=>{let e=class e{constructor(){this.map=null,this.marker=null,this.vectorLayer=null,this.coordinates=""}ngOnChanges(){let i=this.convertCoordinates(this.coordinates),r=K6(i);this.map?(this.marker&&this.marker.setGeometry(new Uh(r)),this.map.getView().setCenter(r),this.map.getView().setZoom(19)):(this.marker=new SD({geometry:new Uh(r)}),this.marker.setStyle(new Ul({image:new fu({src:"https://openlayers.org/en/latest/examples/data/icon.png",anchor:[.5,1]})})),this.vectorLayer=new R7({source:new F7({features:[this.marker]})}),this.map=new oR({target:"map",layers:[new T8({source:new SR}),this.vectorLayer],view:new br({center:r,zoom:19,projection:"EPSG:3857"})}))}convertCoordinates(i){return[parseFloat(i.split(", ")[0]),parseFloat(i.split(", ")[1])]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-map"]],inputs:{coordinates:"coordinates"},standalone:!0,features:[un,ye],decls:1,vars:0,consts:[["id","map",1,"map-container"]],template:function(r,s){r&1&&W(0,"div",0)},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:400px}"]});let n=e;return n})();function ipe(n,e){if(n&1&&(ce(0),W(1,"app-map",1),ue()),n&2){let t=y();v(),_("coordinates",t.lastPosition().coordinate)}}var N8=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.route=r,this.id=Dn(""),this.idSubject=new ti(""),this.lastPosition=Ec(()=>{let s={};for(let o=this.percorso().checkpoint.length-1;o>=0;o--){if(this.percorso().checkpoint[o].orarioPassaggioPrevisto&&this.percorso().checkpoint[o].orarioPassaggioEffettivo){if(this.percorso().checkpoint[o].orarioPassaggioEffettivo?.getHours()>0&&this.percorso().checkpoint[o].orarioPassaggioEffettivo?.getMinutes()>0){s=this.percorso().checkpoint[o];break}}else if(this.percorso().checkpoint[o].orarioArrivoPrevisto&&this.percorso().checkpoint[o].orarioArrivoEffettivo){if(this.percorso().checkpoint[o].orarioArrivoEffettivo?.getHours()>0&&this.percorso().checkpoint[o].orarioArrivoEffettivo?.getMinutes()>0){s=this.percorso().checkpoint[o];break}}else if(this.percorso().checkpoint[o].orarioPartenzaPrevisto&&this.percorso().checkpoint[o].orarioPartenzaEffettivo&&this.percorso().checkpoint[o].orarioPartenzaEffettivo?.getHours()>0&&this.percorso().checkpoint[o].orarioPartenzaEffettivo?.getMinutes()>0){s=this.percorso().checkpoint[o];break}o===0&&(s=this.percorso().checkpoint[0])}return s}),this.percorso=Dn({}),this.readyToShow=Dn(!1)}ngOnInit(){this.routeSub=this.route.params.subscribe(i=>{this.id.set(i.id),this.idSubject.next(i.id)}),this.idSubject.subscribe(i=>{this.getPercorso()})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}getPercorso(){this.firestoreService.getPercorsi().subscribe(i=>{this.readyToShow.set(!1),this.percorso.set(i.filter(r=>r.id===this.id())[0]),this.percorso.update(r=>{let s=r;for(let o=0;o<r.checkpoint.length;o++)s.checkpoint[o].orarioPassaggioPrevisto&&(s.checkpoint[o].orarioPassaggioPrevisto=s.checkpoint[o].orarioPassaggioPrevisto.toDate(),s.checkpoint[o].orarioPassaggioEffettivo=s.checkpoint[o].orarioPassaggioEffettivo.toDate()),s.checkpoint[o].orarioArrivoPrevisto&&(s.checkpoint[o].orarioArrivoPrevisto=s.checkpoint[o].orarioArrivoPrevisto.toDate(),s.checkpoint[o].orarioArrivoEffettivo=s.checkpoint[o].orarioArrivoEffettivo.toDate()),s.checkpoint[o].orarioPartenzaPrevisto&&(s.checkpoint[o].orarioPartenzaPrevisto=s.checkpoint[o].orarioPartenzaPrevisto.toDate(),s.checkpoint[o].orarioPartenzaEffettivo=s.checkpoint[o].orarioPartenzaEffettivo.toDate());return s}),console.log("percorso ",this.percorso()),console.log("ultima posizione ",this.lastPosition()),this.readyToShow.set(!0)})}};e.\u0275fac=function(r){return new(r||e)(G(Uv),G(Jr))},e.\u0275cmp=ne({type:e,selectors:[["app-tracking"]],standalone:!0,features:[ye],decls:3,vars:2,consts:[[4,"ngIf"],[3,"coordinates"]],template:function(r,s){r&1&&(S(0,"p"),pe(1),R(),D(2,ipe,2,1,"ng-container",0)),r&2&&(v(),Bn("tracking works! ",s.id(),""),v(),_("ngIf",s.readyToShow()))},dependencies:[L8,Pt]});let n=e;return n})();var V8=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:DN,children:[{path:":id",component:N8}]},{path:"login",component:WV},{path:"manage",component:v6,canActivate:[w6]}];function B8(n){return new de(3e3,!1)}function rpe(){return new de(3100,!1)}function spe(){return new de(3101,!1)}function ope(n){return new de(3001,!1)}function ape(n){return new de(3003,!1)}function lpe(n){return new de(3004,!1)}function cpe(n,e){return new de(3005,!1)}function upe(){return new de(3006,!1)}function dpe(){return new de(3007,!1)}function hpe(n,e){return new de(3008,!1)}function fpe(n){return new de(3002,!1)}function ppe(n,e,t,i,r){return new de(3010,!1)}function mpe(){return new de(3011,!1)}function gpe(){return new de(3012,!1)}function _pe(){return new de(3200,!1)}function ype(){return new de(3202,!1)}function vpe(){return new de(3013,!1)}function wpe(n){return new de(3014,!1)}function Ipe(n){return new de(3015,!1)}function bpe(n){return new de(3016,!1)}function Cpe(n,e){return new de(3404,!1)}function Epe(n){return new de(3502,!1)}function Tpe(n){return new de(3503,!1)}function xpe(){return new de(3300,!1)}function Spe(n){return new de(3504,!1)}function Dpe(n){return new de(3301,!1)}function Ape(n,e){return new de(3302,!1)}function Rpe(n){return new de(3303,!1)}function Mpe(n,e){return new de(3400,!1)}function kpe(n){return new de(3401,!1)}function Ope(n){return new de(3402,!1)}function Ppe(n,e){return new de(3505,!1)}function Kl(n){switch(n.length){case 0:return new dl;case 1:return n[0];default:return new xp(n)}}function J8(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((f,p)=>{let g=p,I=f;if(p!=="offset")switch(g=n.normalizePropertyName(g,r),I){case my:I=t.get(p);break;case to:I=i.get(p);break;default:I=n.normalizeStyleValue(p,g,I,r);break}h.set(g,I)}),u||s.push(h),a=h,o=c}),r.length)throw Epe(r);return s}function QR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&DR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&DR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&DR(t,"destroy",n)));break}}function DR(n,e,t){let i=t.totalTime,r=!!t.disabled,s=ZR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function ZR(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Hr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function U8(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var Fpe=typeof document>"u"?null:document.documentElement;function XR(n){let e=n.parentNode||n.host||null;return e===Fpe?null:e}function Lpe(n){return n.substring(1,6)=="ebkit"}var vu=null,j8=!1;function Npe(n){vu||(vu=Vpe()||{},j8=vu.style?"WebkitAppearance"in vu.style:!1);let e=!0;return vu.style&&!Lpe(n)&&(e=n in vu.style,!e&&j8&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vu.style)),e}function Vpe(){return typeof document<"u"?document.body:null}function eB(n,e){for(;e;){if(e===n)return!0;e=XR(e)}return!1}function tB(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var JR=(()=>{let e=class e{validateStyleProperty(i){return Npe(i)}matchesElement(i,r){return!1}containsElement(i,r){return eB(i,r)}getParentElement(i){return XR(i)}query(i,r,s){return tB(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new dl(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})(),iM=class iM{};iM.NOOP=new JR;var bu=iM,Cu=class{};var Bpe=1e3,nB="{{",Upe="}}",iB="ng-enter",PR="ng-leave",Xw="ng-trigger",iI=".ng-trigger",z8="ng-animating",FR=".ng-animating";function Ra(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:LR(parseFloat(e[1]),e[2])}function LR(n,e){switch(e){case"s":return n*Bpe;default:return n}}function rI(n,e,t){return n.hasOwnProperty("duration")?n:jpe(n,e,t)}function jpe(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(B8(n)),{duration:0,delay:0,easing:""};r=LR(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=LR(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(rpe()),a=!0),s<0&&(e.push(spe()),a=!0),a&&e.splice(l,0,B8(n))}return{duration:r,delay:s,easing:o}}function zpe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function So(n,e,t){e.forEach((i,r)=>{let s=eM(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Iu(n,e){e.forEach((t,i)=>{let r=eM(i);n.style[r]=""})}function Xm(n){return Array.isArray(n)?n.length==1?n[0]:d3(n):n}function Hpe(n,e,t){let i=e.params||{},r=rB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(ope(s))})}var NR=new RegExp(`${nB}\\s*(.+?)\\s*${Upe}`,"g");function rB(n){let e=[];if(typeof n=="string"){let t;for(;t=NR.exec(n);)e.push(t[1]);NR.lastIndex=0}return e}function eg(n,e,t){let i=`${n}`,r=i.replace(NR,(s,o)=>{let a=e[o];return a==null&&(t.push(ape(o)),a=""),a.toString()});return r==i?n:r}var $pe=/-+([a-z0-9])/g;function eM(n){return n.replace($pe,(...e)=>e[1].toUpperCase())}function Gpe(n,e){return n===0||e===0}function Wpe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,tM(n,a)))}}return e}function zr(n,e,t){switch(e.type){case st.Trigger:return n.visitTrigger(e,t);case st.State:return n.visitState(e,t);case st.Transition:return n.visitTransition(e,t);case st.Sequence:return n.visitSequence(e,t);case st.Group:return n.visitGroup(e,t);case st.Animate:return n.visitAnimate(e,t);case st.Keyframes:return n.visitKeyframes(e,t);case st.Style:return n.visitStyle(e,t);case st.Reference:return n.visitReference(e,t);case st.AnimateChild:return n.visitAnimateChild(e,t);case st.AnimateRef:return n.visitAnimateRef(e,t);case st.Query:return n.visitQuery(e,t);case st.Stagger:return n.visitStagger(e,t);default:throw lpe(e.type)}}function tM(n,e){return window.getComputedStyle(n)[e]}var qpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),sI=class extends Cu{normalizePropertyName(e,t){return eM(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(qpe.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(cpe(e,i))}return o+s}};var oI="*";function Kpe(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Ype(i,t,e)):t.push(n),t}function Ype(n,e,t){if(n[0]==":"){let l=Qpe(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(Ipe(n)),e;let r=i[1],s=i[2],o=i[3];e.push(H8(r,o));let a=r==oI&&o==oI;s[0]=="<"&&!a&&e.push(H8(o,r))}function Qpe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(bpe(n)),"* => *"}}var Jw=new Set(["true","1"]),eI=new Set(["false","0"]);function H8(n,e){let t=Jw.has(n)||eI.has(n),i=Jw.has(e)||eI.has(e);return(r,s)=>{let o=n==oI||n==r,a=e==oI||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Jw.has(n):eI.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?Jw.has(e):eI.has(e)),o&&a}}var sB=":self",Zpe=new RegExp(`s*${sB}s*,?`,"g");function oB(n,e,t,i){return new VR(n).build(e,t,i)}var $8="",VR=class{constructor(e){this._driver=e}build(e,t,i){let r=new BR(t);return this._resetContextStyleTimingState(r),zr(this,Xm(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=$8,e.collectedStyles=new Map,e.collectedStyles.set($8,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(upe()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==st.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==st.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(dpe())}),{type:st.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{rB(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(hpe(e.name,[...s.values()]))}return{type:st.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=zr(this,Xm(e.animation),t),r=Kpe(e.expr,t.errors);return{type:st.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wu(e.options)}}visitSequence(e,t){return{type:st.Sequence,steps:e.steps.map(i=>zr(this,i,t)),options:wu(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=zr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:st.Group,steps:s,options:wu(e.options)}}visitAnimate(e,t){let i=tme(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:zi({});if(s.type==st.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=zi(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:st.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===to?i.push(a):t.errors.push(fpe(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(nB)>=0){s=!0;break}}}),{type:st.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(ppe(l,u.startTime,u.endTime,s,r)),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&Hpe(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:st.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(mpe()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(E=>{let M=this._makeStyleAst(E,t),O=M.offset!=null?M.offset:eme(M.styles),F=0;return O!=null&&(s++,F=M.offset=O),l=l||F<0||F>1,a=a||F<c,c=F,o.push(F),M});l&&t.errors.push(gpe()),a&&t.errors.push(_pe());let h=e.steps.length,f=0;s>0&&s<h?t.errors.push(ype()):s==0&&(f=r/(h-1));let p=h-1,g=t.currentTime,I=t.currentAnimateTimings,b=I.duration;return u.forEach((E,M)=>{let O=f>0?M==p?1:f*M:o[M],F=O*b;t.currentTime=g+I.delay+F,I.duration=F,this._validateStyleAst(E,t),E.offset=O,i.styles.push(E)}),i}visitReference(e,t){return{type:st.Reference,animation:zr(this,Xm(e.animation),t),options:wu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:st.AnimateChild,options:wu(e.options)}}visitAnimateRef(e,t){return{type:st.AnimateRef,animation:this.visitReference(e.animation,t),options:wu(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Xpe(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Hr(t.collectedStyles,t.currentQuerySelector,new Map);let a=zr(this,Xm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:st.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:wu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(vpe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:rI(e.timings,t.errors,!0);return{type:st.Stagger,animation:zr(this,Xm(e.animation),t),timings:i,options:null}}};function Xpe(n){let e=!!n.split(/\s*,\s*/).find(t=>t==sB);return e&&(n=n.replace(Zpe,"")),n=n.replace(/@\*/g,iI).replace(/@\w+/g,t=>iI+"-"+t.slice(1)).replace(/:animating/g,FR),[n,e]}function Jpe(n){return n?se({},n):null}var BR=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function eme(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function tme(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=rI(n,e).duration;return AR(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=AR(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=rI(t,e);return AR(r.duration,r.delay,r.easing)}function wu(n){return n?(n=se({},n),n.params&&(n.params=Jpe(n.params))):n={},n}function AR(n,e,t){return{duration:n,delay:e,easing:t}}function nM(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var tg=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},nme=1,ime=":enter",rme=new RegExp(ime,"g"),sme=":leave",ome=new RegExp(sme,"g");function aB(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new UR().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var UR=class{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new tg;let h=new jR(e,t,c,r,s,u,[]);h.options=l;let f=l.delay?Ra(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,l),zr(this,i,h);let p=h.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let I=p.length-1;I>=0;I--){let b=p[I];if(b.element===t){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[nM(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ra(eg(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Ra(i.duration):null,a=i.delay!=null?Ra(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),zr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==st.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aI);let o=Ra(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>zr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ra(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),zr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?eg(i,t.params,t.errors):i;return rI(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==st.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ra(r.delay):0;s&&(t.previousNode.type===st.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aI);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),zr(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;zr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},aI={},jR=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new lI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ra(i.duration)),i.delay!=null&&(r.delay=Ra(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=eg(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=aI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new zR(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(rme,"."+this._enterClassName),e=e.replace(ome,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(wpe(t)),a}},lI=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=nme,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||to),this._currentKeyframe.set(t,to);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=ame(e,this._globalTimelineStyles);for(let[a,l]of o){let c=eg(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??to),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===my?e.add(h):u===to&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return nM(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},zR=class extends lI{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",G8(a)),s.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]),p=f.get("offset"),g=t+p*i;f.set("offset",G8(g/o)),s.push(f)}i=o,t=0,r="",e=s}return nM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function G8(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function ame(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,to)}else for(let[s,o]of r)t.set(s,o)}),t}function W8(n,e,t,i,r,s,o,a,l,c,u,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}var RR={},cI=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return lme(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){let h=[],f=this.ast.options&&this.ast.options.params||RR,p=a&&a.params||RR,g=this.buildStyles(i,p,h),I=l&&l.params||RR,b=this.buildStyles(r,I,h),E=new Set,M=new Map,O=new Map,F=r==="void",$={params:lB(I,f),delay:this.ast.options?.delay},Y=u?[]:aB(e,t,this.ast.animation,s,o,g,b,$,c,h),A=0;return Y.forEach(C=>{A=Math.max(C.duration+C.delay,A)}),h.length?W8(t,this._triggerName,i,r,F,g,b,[],[],M,O,A,h):(Y.forEach(C=>{let T=C.element,P=Hr(M,T,new Set);C.preStyleProps.forEach(V=>P.add(V));let N=Hr(O,T,new Set);C.postStyleProps.forEach(V=>N.add(V)),T!==t&&E.add(T)}),W8(t,this._triggerName,i,r,F,g,b,Y,[...E.values()],M,O,A))}};function lme(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function lB(n,e){let t=se({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var HR=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=lB(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=eg(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function cme(n,e,t){return new $R(n,e,t)}var $R=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new HR(r.style,s,i))}),q8(this.states,"true","1"),q8(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new cI(e,r,this.states))}),this.fallbackTransition=ume(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function ume(n,e,t){let i=[(o,a)=>!0],r={type:st.Sequence,steps:[],options:null},s={type:st.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new cI(n,s,e)}function q8(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var dme=new tg,GR=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=oB(this._driver,t,i,r);if(i.length)throw Tpe(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=J8(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=aB(this._driver,t,s,iB,PR,new Map,new Map,i,dme,r),o.forEach(u=>{let h=Hr(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(xpe()),o=[]),r.length)throw Spe(r);a.forEach((u,h)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(h,p,to))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=Kl(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Dpe(e);return t}listen(e,t,i,r){let s=ZR(t,"","","");return QR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},K8="ng-animate-queued",hme=".ng-animate-queued",MR="ng-animate-disabled",fme=".ng-animate-disabled",pme="ng-star-inserted",mme=".ng-star-inserted",gme=[],cB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_me={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ns="__ng_removed",ng=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=vme(r),i){let s=e,{value:o}=s,a=SI(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Jm="void",kR=new ng(Jm),WR=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,as(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw Ape(i,t);if(i==null||i.length==0)throw Rpe(t);if(!wme(i))throw Mpe(i,t);let s=Hr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Hr(this._engine.statesByElement,e,new Map);return a.has(t)||(as(e,Xw),as(e,Xw+"-"+t),a.set(t,kR)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw kpe(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new ig(this.id,t,e),a=this._engine.statesByElement.get(e);a||(as(e,Xw),as(e,Xw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new ng(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=kR),!(c.value===Jm)&&l.value===c.value){if(!Cme(l.params,c.params)){let I=[],b=s.matchStyles(l.value,l.params,I),E=s.matchStyles(c.value,c.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Iu(e,b),So(e,E)})}return}let f=Hr(this._engine.playersByElement,e,[]);f.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let p=s.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!r)return;p=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(as(e,K8),o.onStart(()=>{lf(e,K8)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);let b=this._engine.playersByElement.get(e);if(b){let E=b.indexOf(o);E>=0&&b.splice(E,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,iI,!0);i.forEach(r=>{if(r[Ns])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Jm,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Kl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||kR,u=new ng(Jm),h=new ig(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Ns];(!s||s===cB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){as(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=ZR(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,QR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},qR=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new WR(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(tI(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!tI(t))return;let s=t[Ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),as(e,MR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lf(e,MR))}removeNode(e,t,i){if(tI(t)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Ns]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return tI(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,iI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,FR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kl(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ns];if(t&&t.setForRemoval){if(e[Ns]=cB,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(MR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,fme,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];as(r,pme)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Kl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Ope(e)}_flushAnimations(e,t){let i=new tg,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Z=>{u.add(Z);let ie=this.driver.query(Z,hme,!0);for(let le=0;le<ie.length;le++)u.add(ie[le])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=Z8(f,this.collectedEnterElements),g=new Map,I=0;p.forEach((Z,ie)=>{let le=iB+I++;g.set(ie,le),Z.forEach(De=>as(De,le))});let b=[],E=new Set,M=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let ie=this.collectedLeaveElements[Z],le=ie[Ns];le&&le.setForRemoval&&(b.push(ie),E.add(ie),le.hasAnimation?this.driver.query(ie,mme,!0).forEach(De=>E.add(De)):M.add(ie))}let O=new Map,F=Z8(f,Array.from(E));F.forEach((Z,ie)=>{let le=PR+I++;O.set(ie,le),Z.forEach(De=>as(De,le))}),e.push(()=>{p.forEach((Z,ie)=>{let le=g.get(ie);Z.forEach(De=>lf(De,le))}),F.forEach((Z,ie)=>{let le=O.get(ie);Z.forEach(De=>lf(De,le))}),b.forEach(Z=>{this.processLeaveNode(Z)})});let $=[],Y=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(le=>{let De=le.player,Ee=le.element;if($.push(De),this.collectedEnterElements.length){let gt=Ee[Ns];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(le.triggerName)){let $n=gt.previousTriggersValues.get(le.triggerName),yn=this.statesByElement.get(le.element);if(yn&&yn.has(le.triggerName)){let Cn=yn.get(le.triggerName);Cn.value=$n,yn.set(le.triggerName,Cn)}}De.destroy();return}}let ze=!h||!this.driver.containsElement(h,Ee),$e=O.get(Ee),lt=g.get(Ee),re=this._buildInstruction(le,i,lt,$e,ze);if(re.errors&&re.errors.length){Y.push(re);return}if(ze){De.onStart(()=>Iu(Ee,re.fromStyles)),De.onDestroy(()=>So(Ee,re.toStyles)),r.push(De);return}if(le.isFallbackTransition){De.onStart(()=>Iu(Ee,re.fromStyles)),De.onDestroy(()=>So(Ee,re.toStyles)),r.push(De);return}let wn=[];re.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||wn.push(gt)}),re.timelines=wn,i.append(Ee,re.timelines);let Pn={instruction:re,player:De,element:Ee};o.push(Pn),re.queriedElements.forEach(gt=>Hr(a,gt,[]).push(De)),re.preStyleProps.forEach((gt,$n)=>{if(gt.size){let yn=l.get($n);yn||l.set($n,yn=new Set),gt.forEach((Cn,Ti)=>yn.add(Ti))}}),re.postStyleProps.forEach((gt,$n)=>{let yn=c.get($n);yn||c.set($n,yn=new Set),gt.forEach((Cn,Ti)=>yn.add(Ti))})});if(Y.length){let Z=[];Y.forEach(ie=>{Z.push(Ppe(ie.triggerName,ie.errors))}),$.forEach(ie=>ie.destroy()),this.reportError(Z)}let A=new Map,C=new Map;o.forEach(Z=>{let ie=Z.element;i.has(ie)&&(C.set(ie,ie),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,A))}),r.forEach(Z=>{let ie=Z.element;this._getPreviousPlayers(ie,!1,Z.namespaceId,Z.triggerName,null).forEach(De=>{Hr(A,ie,[]).push(De),De.destroy()})});let T=b.filter(Z=>X8(Z,l,c)),P=new Map;Q8(P,this.driver,M,c,to).forEach(Z=>{X8(Z,l,c)&&T.push(Z)});let V=new Map;p.forEach((Z,ie)=>{Q8(V,this.driver,new Set(Z),l,my)}),T.forEach(Z=>{let ie=P.get(Z),le=V.get(Z);P.set(Z,new Map([...ie?.entries()??[],...le?.entries()??[]]))});let k=[],Ce=[],be={};o.forEach(Z=>{let{element:ie,player:le,instruction:De}=Z;if(i.has(ie)){if(u.has(ie)){le.onDestroy(()=>So(ie,De.toStyles)),le.disabled=!0,le.overrideTotalTime(De.totalTime),r.push(le);return}let Ee=be;if(C.size>1){let $e=ie,lt=[];for(;$e=$e.parentNode;){let re=C.get($e);if(re){Ee=re;break}lt.push($e)}lt.forEach(re=>C.set(re,Ee))}let ze=this._buildAnimation(le.namespaceId,De,A,s,V,P);if(le.setRealPlayer(ze),Ee===be)k.push(le);else{let $e=this.playersByElement.get(Ee);$e&&$e.length&&(le.parentPlayer=Kl($e)),r.push(le)}}else Iu(ie,De.fromStyles),le.onDestroy(()=>So(ie,De.toStyles)),Ce.push(le),u.has(ie)&&r.push(le)}),Ce.forEach(Z=>{let ie=s.get(Z.element);if(ie&&ie.length){let le=Kl(ie);Z.setRealPlayer(le)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<b.length;Z++){let ie=b[Z],le=ie[Ns];if(lf(ie,PR),le&&le.hasAnimation)continue;let De=[];if(a.size){let ze=a.get(ie);ze&&ze.length&&De.push(...ze);let $e=this.driver.query(ie,FR,!0);for(let lt=0;lt<$e.length;lt++){let re=a.get($e[lt]);re&&re.length&&De.push(...re)}}let Ee=De.filter(ze=>!ze.destroyed);Ee.length?Ime(this,ie,Ee):this.processLeaveNode(ie)}return b.length=0,k.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let ie=this.players.indexOf(Z);this.players.splice(ie,1)}),Z.play()}),k}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Jm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==s,h=Hr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(p=>{let g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),h.push(p)})}Iu(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,f=t.timelines.map(g=>{let I=g.element;u.add(I);let b=I[Ns];if(b&&b.removedBeforeQueried)return new dl(g.duration,g.delay);let E=I!==l,M=bme((i.get(I)||gme).map(A=>A.getRealPlayer())).filter(A=>{let C=A;return C.element?C.element===I:!1}),O=s.get(I),F=o.get(I),$=J8(this._normalizer,g.keyframes,O,F),Y=this._buildPlayer(g,$,M);if(g.subTimeline&&r&&h.add(I),E){let A=new ig(e,a,I);A.setRealPlayer(Y),c.push(A)}return Y});c.forEach(g=>{Hr(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>yme(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>as(g,z8));let p=Kl(f);return p.onDestroy(()=>{u.forEach(g=>lf(g,z8)),So(l,t.toStyles)}),h.forEach(g=>{Hr(r,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new dl(e.duration,e.delay)}},ig=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new dl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>QR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function yme(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function vme(n){return n??null}function tI(n){return n&&n.nodeType===1}function wme(n){return n=="start"||n=="done"}function Y8(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Q8(n,e,t,i,r){let s=[];t.forEach(l=>s.push(Y8(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let f=e.computeStyle(c,h,r);u.set(h,f),(!f||f.length==0)&&(c[Ns]=_me,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>Y8(l,s[a++])),o}function Z8(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function as(n,e){n.classList?.add(e)}function lf(n,e){n.classList?.remove(e)}function Ime(n,e,t){Kl(t).onDone(()=>n.processLeaveNode(e))}function bme(n){let e=[];return uB(n,e),e}function uB(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof xp?uB(i.players,e):e.push(i)}}function Cme(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function X8(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var uf=class{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new qR(e.body,t,i,r),this._timelineEngine=new GR(e.body,t,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=oB(this._driver,s,l,c);if(l.length)throw Cpe(r,l);c.length&&void 0,a=cme(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=U8(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=U8(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Eme(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=OR(e[0]),e.length>1&&(i=OR(e[e.length-1]))):e instanceof Map&&(t=OR(e)),t||i?new KR(n,t,i):null}var cf=class cf{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=cf.initialStylesByElement.get(e);r||cf.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&So(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(So(this._element,this._initialStyles),this._endStyles&&(So(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(cf.initialStylesByElement.delete(this._element),this._startStyles&&(Iu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Iu(this._element,this._endStyles),this._endStyles=null),So(this._element,this._initialStyles),this._state=3)}};cf.initialStylesByElement=new WeakMap;var KR=cf;function OR(n){let e=null;return n.forEach((t,i)=>{Tme(i)&&(e=e||new Map,e.set(i,t))}),e}function Tme(n){return n==="display"||n==="position"}var uI=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:tM(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},dI=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eB(e,t)}getParentElement(e){return XR(e)}query(e,t,i){return tB(e,t,i)}computeStyle(e,t,i){return tM(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(p=>p instanceof uI);Gpe(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((g,I)=>c.set(I,g))});let h=zpe(t).map(p=>new Map(p));h=Wpe(e,h,c);let f=Eme(e,h);return new uI(e,h,l,f)}};var nI="@",dB="@.disabled",hI=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==nI&&t==dB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},YR=class extends hI{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==nI?t.charAt(1)=="."&&t==dB?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==nI){let r=xme(e),s=t.slice(1),o="";return s.charAt(0)!=nI&&([s,o]=Sme(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function xme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Sme(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var fI=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let h=()=>c.delete(r);u=new hI(i,r,this.engine,h),c.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new YR(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Ame=(()=>{let e=class e extends uf{constructor(i,r,s){super(i,r,s,he(sd,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(ke(yt),ke(bu),ke(Cu))},e.\u0275prov=we({token:e,factory:e.\u0275fac});let n=e;return n})();function Rme(){return new sI}function Mme(n,e,t){return new fI(n,e,t)}var hB=[{provide:Cu,useFactory:Rme},{provide:uf,useClass:Ame},{provide:_c,useFactory:Mme,deps:[O0,uf,qe]}],kme=[{provide:bu,useFactory:()=>new dI},{provide:B1,useValue:"BrowserAnimations"},...hB],Hje=[{provide:bu,useClass:JR},{provide:B1,useValue:"NoopAnimations"},...hB];function fB(){return Qs("NgEagerAnimations"),[...kme]}var pB={apiKey:"AIzaSyDcssjNZoxSROTfUnpTSIEIiMIpo2A-rww",authDomain:"santalucia-d9576.firebaseapp.com",projectId:"santalucia-d9576",storageBucket:"santalucia-d9576.appspot.com",messagingSenderId:"969590860252",appId:"1:969590860252:web:5998cdc474ac44b8f70719"};var mB={providers:[vN(V8),fB(),EL(),w1([z3(()=>H3(pB)),jV(()=>HV()),h6(()=>g6())])]};var rM=(()=>{class n extends Be{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Le(n)))(r||n)}})();static \u0275cmp=ne({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[Ae,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,r){i&1&&(Ne(),S(0,"svg",0),W(1,"path",1),R()),i&2&&(oe(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Ome=["menubar"],Pme=(n,e)=>({"p-submenu-list":n,"p-menubar-root-list":e}),gB=n=>({"p-menuitem-link":!0,"p-disabled":n}),Fme=()=>({exact:!1}),Lme=(n,e)=>({$implicit:n,root:e});function Nme(n,e){if(n&1&&W(0,"li",8),n&2){let t=y().$implicit,i=y();_("ngStyle",i.getItemProp(t,"style"))("ngClass",i.getSeparatorItemClass(t)),H("id",i.getItemId(t))("data-pc-section","separator")}}function Vme(n,e){if(n&1&&W(0,"span",19),n&2){let t=y(4).$implicit,i=y();_("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),H("data-pc-section","icon")("tabindex",-1)}}function Bme(n,e){if(n&1&&(S(0,"span",20),pe(1),R()),n&2){let t=y(4).$implicit,i=y();_("id",i.getItemLabelId(t)),H("data-pc-section","label"),v(),Bn(" ",i.getItemLabel(t)," ")}}function Ume(n,e){if(n&1&&W(0,"span",21),n&2){let t=y(4).$implicit,i=y();_("innerHTML",i.getItemLabel(t),fd)("id",i.getItemLabelId(t)),H("data-pc-section","label")}}function jme(n,e){if(n&1&&(S(0,"span",22),pe(1),R()),n&2){let t=y(4).$implicit,i=y();_("ngClass",i.getItemProp(t,"badgeStyleClass")),v(),Ke(i.getItemProp(t,"badge"))}}function zme(n,e){n&1&&W(0,"AngleDownIcon",25),n&2&&(_("styleClass","p-submenu-icon"),H("data-pc-section","submenuicon"))}function Hme(n,e){n&1&&W(0,"AngleRightIcon",25),n&2&&(_("styleClass","p-submenu-icon"),H("data-pc-section","submenuicon"))}function $me(n,e){if(n&1&&(ce(0),D(1,zme,1,2,"AngleDownIcon",24)(2,Hme,1,2,"AngleRightIcon",24),ue()),n&2){let t=y(6);v(),_("ngIf",t.root),v(),_("ngIf",!t.root)}}function Gme(n,e){}function Wme(n,e){n&1&&D(0,Gme,0,0,"ng-template",26),n&2&&_("data-pc-section","submenuicon")}function qme(n,e){if(n&1&&(ce(0),D(1,$me,3,2,"ng-container",11)(2,Wme,1,1,null,23),ue()),n&2){let t=y(5);v(),_("ngIf",!t.submenuIconTemplate),v(),_("ngTemplateOutlet",t.submenuIconTemplate)}}function Kme(n,e){if(n&1&&(S(0,"a",15),D(1,Vme,1,4,"span",16)(2,Bme,2,3,"span",17)(3,Ume,1,3,"ng-template",null,2,dn)(5,jme,2,2,"span",18)(6,qme,3,2,"ng-container",11),R()),n&2){let t=Ft(4),i=y(3).$implicit,r=y();_("target",r.getItemProp(i,"target"))("ngClass",Re(11,gB,r.getItemProp(i,"disabled"))),H("href",r.getItemProp(i,"url"),wc)("data-automationid",r.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),v(),_("ngIf",r.getItemProp(i,"icon")),v(),_("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),v(3),_("ngIf",r.getItemProp(i,"badge")),v(),_("ngIf",r.isItemGroup(i))}}function Yme(n,e){if(n&1&&W(0,"span",19),n&2){let t=y(4).$implicit,i=y();_("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),H("data-pc-section","icon")("tabindex",-1)}}function Qme(n,e){if(n&1&&(S(0,"span",29),pe(1),R()),n&2){let t=y(4).$implicit,i=y();v(),Ke(i.getItemLabel(t))}}function Zme(n,e){if(n&1&&W(0,"span",30),n&2){let t=y(4).$implicit,i=y();_("innerHTML",i.getItemLabel(t),fd),H("data-pc-section","label")}}function Xme(n,e){if(n&1&&(S(0,"span",22),pe(1),R()),n&2){let t=y(4).$implicit,i=y();_("ngClass",i.getItemProp(t,"badgeStyleClass")),v(),Ke(i.getItemProp(t,"badge"))}}function Jme(n,e){n&1&&W(0,"AngleDownIcon",25),n&2&&(_("styleClass","p-submenu-icon"),H("data-pc-section","submenuicon"))}function ege(n,e){n&1&&W(0,"AngleRightIcon",25),n&2&&(_("styleClass","p-submenu-icon"),H("data-pc-section","submenuicon"))}function tge(n,e){if(n&1&&(ce(0),D(1,Jme,1,2,"AngleDownIcon",24)(2,ege,1,2,"AngleRightIcon",24),ue()),n&2){let t=y(6);v(),_("ngIf",t.root),v(),_("ngIf",!t.root)}}function nge(n,e){}function ige(n,e){n&1&&D(0,nge,0,0,"ng-template",26),n&2&&_("data-pc-section","submenuicon")}function rge(n,e){if(n&1&&(ce(0),D(1,tge,3,2,"ng-container",11)(2,ige,1,1,null,23),ue()),n&2){y(5);let t=Ft(1);v(),_("ngIf",!t.submenuIconTemplate),v(),_("ngTemplateOutlet",t.submenuIconTemplate)}}function sge(n,e){if(n&1&&(S(0,"a",27),D(1,Yme,1,4,"span",16)(2,Qme,2,1,"span",28)(3,Zme,1,2,"ng-template",null,3,dn)(5,Xme,2,2,"span",18)(6,rge,3,2,"ng-container",11),R()),n&2){let t=Ft(4),i=y(3).$implicit,r=y();_("routerLink",r.getItemProp(i,"routerLink"))("queryParams",r.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(i,"routerLinkActiveOptions")||ri(20,Fme))("target",r.getItemProp(i,"target"))("ngClass",Re(21,gB,r.getItemProp(i,"disabled")))("fragment",r.getItemProp(i,"fragment"))("queryParamsHandling",r.getItemProp(i,"queryParamsHandling"))("preserveFragment",r.getItemProp(i,"preserveFragment"))("skipLocationChange",r.getItemProp(i,"skipLocationChange"))("replaceUrl",r.getItemProp(i,"replaceUrl"))("state",r.getItemProp(i,"state")),H("data-automationid",r.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),v(),_("ngIf",r.getItemProp(i,"icon")),v(),_("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),v(3),_("ngIf",r.getItemProp(i,"badge")),v(),_("ngIf",r.isItemGroup(i))}}function oge(n,e){if(n&1&&(ce(0),D(1,Kme,7,13,"a",13)(2,sge,7,23,"a",14),ue()),n&2){let t=y(2).$implicit,i=y();v(),_("ngIf",!i.getItemProp(t,"routerLink")),v(),_("ngIf",i.getItemProp(t,"routerLink"))}}function age(n,e){}function lge(n,e){n&1&&D(0,age,0,0,"ng-template")}function cge(n,e){if(n&1&&(ce(0),D(1,lge,1,0,null,31),ue()),n&2){let t=y(2).$implicit,i=y();v(),_("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",tn(2,Lme,t.item,i.root))}}function uge(n,e){if(n&1){let t=fe();S(0,"p-menubarSub",32),J("itemClick",function(r){B(t);let s=y(3);return U(s.itemClick.emit(r))})("itemMouseEnter",function(r){B(t);let s=y(3);return U(s.onItemMouseEnter(r))}),R()}if(n&2){let t=y(2).$implicit,i=y();_("itemTemplate",i.itemTemplate)("items",t.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("ariaLabelledBy",i.getItemLabelId(t))}}function dge(n,e){if(n&1){let t=fe();S(0,"li",9,1)(2,"div",10),J("click",function(r){B(t);let s=y().$implicit,o=y();return U(o.onItemClick(r,s))})("mouseenter",function(r){B(t);let s=y().$implicit,o=y();return U(o.onItemMouseEnter({$event:r,processedItem:s}))}),D(3,oge,3,2,"ng-container",11)(4,cge,2,5,"ng-container",11),R(),D(5,uge,1,9,"p-menubarSub",12),R()}if(n&2){let t=y(),i=t.$implicit,r=t.index,s=y();oe(s.getItemProp(i,"styleClass")),_("ngStyle",s.getItemProp(i,"style"))("ngClass",s.getItemClass(i))("tooltipOptions",s.getItemProp(i,"tooltipOptions")),H("id",s.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(i))("data-p-focused",s.isItemFocused(i))("data-p-disabled",s.isItemDisabled(i))("aria-label",s.getItemLabel(i))("aria-disabled",s.isItemDisabled(i)||void 0)("aria-haspopup",s.isItemGroup(i)&&!s.getItemProp(i,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(i)?s.isItemActive(i):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),v(2),H("data-pc-section","content"),v(),_("ngIf",!s.itemTemplate),v(),_("ngIf",s.itemTemplate),v(),_("ngIf",s.isItemVisible(i)&&s.isItemGroup(i))}}function hge(n,e){if(n&1&&D(0,Nme,1,4,"li",6)(1,dge,6,21,"li",7),n&2){let t=e.$implicit,i=y();_("ngIf",i.isItemVisible(t)&&i.getItemProp(t,"separator")),v(),_("ngIf",i.isItemVisible(t)&&!i.getItemProp(t,"separator"))}}var fge=["menubutton"],pge=["rootmenu"],mge=["*"],gge=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function _ge(n,e){n&1&&_e(0)}function yge(n,e){if(n&1&&(S(0,"div",8),D(1,_ge,1,0,"ng-container",9),R()),n&2){let t=y();v(),_("ngTemplateOutlet",t.startTemplate)}}function vge(n,e){n&1&&W(0,"BarsIcon")}function wge(n,e){}function Ige(n,e){n&1&&D(0,wge,0,0,"ng-template")}function bge(n,e){if(n&1){let t=fe();S(0,"a",10,2),J("click",function(r){B(t);let s=y();return U(s.menuButtonClick(r))})("keydown",function(r){B(t);let s=y();return U(s.menuButtonKeydown(r))}),D(2,vge,1,0,"BarsIcon",11)(3,Ige,1,0,null,9),R()}if(n&2){let t=y();H("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),v(2),_("ngIf",!t.menuIconTemplate),v(),_("ngTemplateOutlet",t.menuIconTemplate)}}function Cge(n,e){n&1&&_e(0)}function Ege(n,e){if(n&1&&(S(0,"div",12),D(1,Cge,1,0,"ng-container",9),R()),n&2){let t=y();v(),_("ngTemplateOutlet",t.endTemplate)}}function Tge(n,e){n&1&&(S(0,"div",12),pi(1),R())}var sM=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new sn;mouseLeft$=this.mouseLeaves.pipe(YI(()=>KI(this.autoHideDelay)),ni(t=>this.autoHide&&t));static \u0275fac=function(i){return new(i||n)};static \u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),xge=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new X;itemMouseEnter=new X;menuFocus=new X;menuBlur=new X;menuKeydown=new X;menubarViewChild;mouseLeaveSubscriber;constructor(t,i,r,s){this.el=t,this.renderer=i,this.cd=r,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,i){this.getItemProp(i,"command",{originalEvent:t,item:i.item}),this.itemClick.emit({originalEvent:t,processedItem:i,isFocus:!0})}getItemProp(t,i,r=null){return t&&t.item?te.getItemValue(t.item[i],r):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemLabelId(t){return`${this.menuId}_${t.key}_label`}getItemClass(t){return tt(se({},this.getItemProp(t,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)})}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return tt(se({},this.getItemProp(t,"class")),{"p-menuitem-separator":!0})}isItemVisible(t){return this.getItemProp(t,"visible")!==!1}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return te.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);let{event:i,processedItem:r}=t;this.itemMouseEnter.emit({originalEvent:i,processedItem:r})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(G(rt),G(Xt),G(Ct),G(sM))};static \u0275cmp=ne({type:n,selectors:[["p-menubarSub"]],viewQuery:function(i,r){if(i&1&&Ge(Ome,7),i&2){let s;Te(s=xe())&&(r.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[j.HasDecoratorInputTransform,"root","root",K],autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],mobileActive:[j.HasDecoratorInputTransform,"mobileActive","mobileActive",K],autoDisplay:[j.HasDecoratorInputTransform,"autoDisplay","autoDisplay",K],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[j.HasDecoratorInputTransform,"level","level",Ve],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[xt],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(i,r){if(i&1){let s=fe();S(0,"ul",4,0),J("focus",function(a){return B(s),U(r.menuFocus.emit(a))})("blur",function(a){return B(s),U(r.menuBlur.emit(a))})("keydown",function(a){return B(s),U(r.menuKeydown.emit(a))}),D(2,hge,2,2,"ng-template",5),R()}i&2&&(_("ngClass",tn(8,Pme,!r.root,r.root))("tabindex",0),H("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.root?r.menuId:null)("aria-activedescendant",r.focusedItemId),v(2),_("ngForOf",r.items))},dependencies:()=>[zt,Bi,Pt,Kt,Ht,rl,J0,ji,Od,Yd,Qd,n],encapsulation:2})}return n})(),_B=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new X;onBlur=new X;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Dn([]);number=Dn(0);focusedItemInfo=Dn({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let t=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:t.index!==-1?`${this.id}${te.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.menubarService=l,qf(()=>{let c=this.activeItemPath();te.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||Lt()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}createProcessedItems(t,i=0,r={},s=""){let o=[];return t&&t.forEach((a,l)=>{let c=(s!==""?s+"_":"")+l,u={item:a,index:l,level:i,key:c,parent:r,parentKey:s};u.items=this.createProcessedItems(a.items,i+1,u,c),o.push(u)}),o}getItemProp(t,i){return t?te.getItemValue(t[i]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){(t.code==="Enter"||t.code==="Space")&&this.menuButtonClick(t)}onItemClick(t){let{originalEvent:i,processedItem:r}=t,s=this.isProcessedItemGroup(r),o=te.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:u,parentKey:h,item:f}=r;this.activeItemPath.set(this.activeItemPath().filter(p=>c!==p.key&&c.startsWith(p.key))),this.focusedItemInfo.set({index:l,level:u,parentKey:h,item:f}),this.dirty=!o,L.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(t);else{let l=o?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,l?l.index:-1),this.mobileActive=!1,L.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){L.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,i){let r=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let s=this.focusedItemInfo();this.focusedItemInfo.set(tt(se({},s),{item:r.item,index:i})),this.scrollInView()}}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedItemId,r=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){let{processedItem:i,isFocus:r}=t;if(te.isEmpty(i))return;let{index:s,key:o,level:a,parentKey:l,items:c,item:u}=i,h=te.isNotEmpty(c),f=this.activeItemPath().filter(p=>p.parentKey!==l&&p.parentKey!==o);h&&f.push(i),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:u}),this.activeItemPath.set(f),h&&(this.dirty=!0),r&&L.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,Un.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Un.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,i){this.mobileActive&&setTimeout(()=>{L.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&L.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){let t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item}),L.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(r),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&te.isPrintableCharacter(t.key)&&this.searchItems(t,t.key);break}}findVisibleItem(t){return te.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&te.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(i=>i.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&te.isNotEmpty(t.items)}searchItems(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?te.isEmpty(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowRightKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(s=>s.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowUpKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(te.isEmpty(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let o=this.findLastItemIndex();this.changeFocusedItemIndex(t,o)}}else{let s=this.activeItemPath().find(o=>o.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(t);let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{let o=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o)}}t.preventDefault()}onArrowLeftKey(t){let i=this.visibleItems[this.focusedItemInfo().index],r=i?this.activeItemPath().find(s=>s.key===i.parentKey):null;if(r){this.onItemChange({originalEvent:t,processedItem:r});let s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),t.preventDefault()}else{let s=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:t,processedItem:i})}this.hide()}onEnterKey(t){if(this.focusedItemInfo().index!==-1){let i=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=i&&L.findSingle(i,'a[data-pc-section="action"]');r?r.click():i&&i.click()}t.preventDefault()}findLastFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return te.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){let i=t>0?te.findLastIndex(this.visibleItems.slice(0,t),r=>this.isValidItem(r)):-1;return i>-1?i:t}findNextItemIndex(t){let i=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(r=>this.isValidItem(r)):-1;return i>-1?i+t+1:t}bindResizeListener(){nn(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{L.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){nn(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{let i=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),r=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);i&&(r?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(i){return new(i||n)(G(yt),G(jt),G(rt),G(Xt),G(Ct),G(fn),G(sM))};static \u0275cmp=ne({type:n,selectors:[["p-menubar"]],contentQueries:function(i,r,s){if(i&1&&Jt(s,St,4),i&2){let o;Te(o=xe())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ge(fge,5),Ge(pge,5)),i&2){let s;Te(s=xe())&&(r.menubutton=s.first),Te(s=xe())&&(r.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[j.HasDecoratorInputTransform,"autoZIndex","autoZIndex",K],baseZIndex:[j.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Ve],autoDisplay:[j.HasDecoratorInputTransform,"autoDisplay","autoDisplay",K],autoHide:[j.HasDecoratorInputTransform,"autoHide","autoHide",K],autoHideDelay:[j.HasDecoratorInputTransform,"autoHideDelay","autoHideDelay",Ve],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[_n([sM]),xt],ngContentSelectors:mge,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(i,r){if(i&1){let s=fe();Ai(),S(0,"div",3),D(1,yge,2,1,"div",4)(2,bge,4,7,"a",5),S(3,"p-menubarSub",6,0),J("itemClick",function(a){return B(s),U(r.onItemClick(a))})("menuFocus",function(a){return B(s),U(r.onMenuFocus(a))})("menuBlur",function(a){return B(s),U(r.onMenuBlur(a))})("menuKeydown",function(a){return B(s),U(r.onKeyDown(a))})("itemMouseEnter",function(a){return B(s),U(r.onItemMouseEnter(a))}),R(),D(5,Ege,2,1,"div",7)(6,Tge,2,0,"ng-template",null,1,dn),R()}if(i&2){let s=Ft(7);oe(r.styleClass),_("ngClass",Re(23,gge,r.mobileActive))("ngStyle",r.style),H("data-pc-section","root")("data-pc-name","menubar"),v(),_("ngIf",r.startTemplate),v(),_("ngIf",r.model&&r.model.length>0),v(),_("items",r.processedItems)("itemTemplate",r.itemTemplate)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("submenuIconTemplate",r.submenuIconTemplate)("activeItemPath",r.activeItemPath()),v(2),_("ngIf",r.endTemplate)("ngIfElse",s)}},dependencies:()=>[zt,Pt,Kt,Ht,rM,xge],styles:[`@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}
`],encapsulation:2,changeDetection:0})}return n})(),yB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ol,pr,ll,ft,rM,Yd,Qd,ol,ll,ft]})}return n})();var vB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et,ft]})}return n})();var Dge=["*"];function Age(n,e){if(n&1&&(S(0,"span",4),pe(1),R()),n&2){let t=y();v(),Ke(t.label)}}function Rge(n,e){if(n&1&&W(0,"span",6),n&2){let t=y(2);oe(t.icon),_("ngClass","p-avatar-icon")}}function Mge(n,e){if(n&1&&D(0,Rge,1,3,"span",5),n&2){let t=y(),i=Ft(6);_("ngIf",t.icon)("ngIfElse",i)}}function kge(n,e){if(n&1){let t=fe();S(0,"img",8),J("error",function(r){B(t);let s=y(2);return U(s.imageError(r))}),R()}if(n&2){let t=y(2);_("src",t.image,wc),H("aria-label",t.ariaLabel)}}function Oge(n,e){if(n&1&&D(0,kge,1,2,"img",7),n&2){let t=y();_("ngIf",t.image)}}var wB=(()=>{class n{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new X;containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}}imageError(t){this.onImageError.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ne({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},ngContentSelectors:Dge,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(i,r){if(i&1&&(Ai(),S(0,"div",2),pi(1),D(2,Age,2,1,"span",3)(3,Mge,1,2,"ng-template",null,0,dn)(5,Oge,1,1,"ng-template",null,1,dn),R()),i&2){let s=Ft(4);oe(r.styleClass),_("ngClass",r.containerClass())("ngStyle",r.style),H("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-name","avatar"),v(2),_("ngIf",r.label)("ngIfElse",s)}},dependencies:[zt,Pt,Ht],styles:[`@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),IB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Pe({imports:[Et]})}return n})();function Fge(n,e){n&1&&W(0,"p-avatar",5)}function Lge(n,e){if(n&1){let t=fe();S(0,"a",6),J("click",function(){let r=B(t).$implicit,s=y();return U(r.url?r.label==="Segui Santa Lucia"?s.navigateToHome():s.navigate(r.url):s.share())}),W(1,"span"),S(2,"span",7),pe(3),R()()}if(n&2){let t=e.$implicit;v(),oe(t.icon),v(2),Ke(t.label)}}function Nge(n,e){if(n&1){let t=fe();S(0,"a",9),W(1,"span",10),S(2,"span",7),pe(3,"Gestisci"),R()(),S(4,"a",11),J("click",function(){B(t);let r=y(2);return U(r.logout())}),W(5,"span",12),S(6,"span",7),pe(7,"Esci"),R()()}}function Vge(n,e){n&1&&(S(0,"a",13),W(1,"span",12),S(2,"span",7),pe(3,"Accedi"),R()())}function Bge(n,e){if(n&1&&(S(0,"div",8),D(1,Nge,8,0)(2,Vge,4,0),R()),n&2){let t=y();v(),md(1,t.isLogged()?1:2)}}var bB=(()=>{let e=class e{constructor(i,r){this.router=i,this.authService=r}ngOnInit(){this.items=[{label:"Segui Santa Lucia",icon:"pi pi-map-marker",url:"/home"},{label:"Contatti",icon:"pi pi-address-book",url:"/contatti"},{label:"Codividi",icon:"pi pi-share-alt"}]}navigate(i){this.router.navigate([i])}navigateToHome(){window.location.href="/home"}share(){navigator.share?navigator.share({title:"Segui Santa Lucia",text:"Descrizione della piattaforma",url:"https://www.tuapiattaforma.com"}).then(()=>{console.log("Condivisione avvenuta con successo")}).catch(i=>{console.error("Errore nella condivisione",i)}):console.log("API Web Share non supportata nel browser")}isLogged(){return this.authService.isLogged()}logout(){this.authService.logout(),window.open("/home","_self")}};e.\u0275fac=function(r){return new(r||e)(G(mi),G(bl))},e.\u0275cmp=ne({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ye],decls:5,vars:1,consts:[[1,"card"],[3,"model"],["pTemplate","start"],["pTemplate","item"],["pTemplate","end"],["image","assets/LogoDeputazione.png","shape","circle"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",3,"click"],[1,"ml-2"],[1,"flex","align-items-center","gap-2","auth-section"],["pRipple","","routerLink","/manage",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"],[1,"pi","pi-sliders-h"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px",3,"click"],[1,"pi","pi-sign-in",2,"font-size","larger"],["pRipple","","routerLink","/login",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"]],template:function(r,s){r&1&&(S(0,"div",0)(1,"p-menubar",1),D(2,Fge,1,0,"ng-template",2)(3,Lge,4,3,"ng-template",3)(4,Bge,3,1,"ng-template",4),R()()),r&2&&(v(),_("model",s.items))},dependencies:[yB,_B,rl,St,vB,IB,wB,es,pr,ji,Et],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited{color:inherit}"]});let n=e;return n})();var CB=(()=>{let e=class e{constructor(i){this.authService=i,this.title="FollowSantaLucia"}ngOnInit(){this.authService.user$.subscribe(i=>{i?this.authService.currentUser.set({email:i.email,username:i.displayName}):this.authService.currentUser.set(null)})}};e.\u0275fac=function(r){return new(r||e)(G(bl))},e.\u0275cmp=ne({type:e,selectors:[["app-root"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,s){r&1&&W(0,"app-navbar")(1,"router-outlet")},dependencies:[yp,bB]});let n=e;return n})();ML(CB,mB).catch(n=>console.error(n));
