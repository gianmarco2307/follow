import{a as ue,b as ut,c as Yb,f as qa,g as G}from"./chunk-5G567QLT.js";function Ck(n,e){return Object.is(n,e)}var Ci=null,Np=!1,Ng=1,Js=Symbol("SIGNAL");function $t(n){let e=Ci;return Ci=n,e}function Gz(){return Np}var Bp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jb(n){if(Np)throw new Error("");if(Ci===null)return;Ci.consumerOnSignalRead(n);let e=Ci.nextProducerIndex++;if(Hu(Ci),e<Ci.producerNode.length&&Ci.producerNode[e]!==n&&Vp(Ci)){let t=Ci.producerNode[e];Hg(t,Ci.producerIndexOfThis[e])}Ci.producerNode[e]!==n&&(Ci.producerNode[e]=n,Ci.producerIndexOfThis[e]=Vp(Ci)?Sk(n,Ci,e):0),Ci.producerLastReadVersion[e]=n.version}function Wz(){Ng++}function Ik(n){if(!(Vp(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ng)){if(!n.producerMustRecompute(n)&&!Ug(n)){n.dirty=!1,n.lastCleanEpoch=Ng;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ng}}function Ek(n){if(n.liveConsumerNode===void 0)return;let e=Np;Np=!0;try{for(let t of n.liveConsumerNode)t.dirty||xk(t)}finally{Np=e}}function Tk(){return Ci?.consumerAllowSignalWrites!==!1}function xk(n){n.dirty=!0,Ek(n),n.consumerMarkedDirty?.(n)}function Bg(n){return n&&(n.nextProducerIndex=0),$t(n)}function zg(n,e){if($t(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Vp(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Hg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ug(n){Hu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Ik(t),i!==t.version))return!0}return!1}function ew(n){if(Hu(n),Vp(n))for(let e=0;e<n.producerNode.length;e++)Hg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Sk(n,e,t){if(Dk(n),Hu(n),n.liveConsumerNode.length===0)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Sk(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Hg(n,e){if(Dk(n),Hu(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Hg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Hu(r),r.producerIndexOfThis[i]=e}}function Vp(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Dk(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Mk(n){let e=Object.create(qz);e.computation=n;let t=()=>{if(Ik(e),Jb(e),e.value===Vg)throw e.error;return e.value};return t[Js]=e,t}var Qb=Symbol("UNSET"),Zb=Symbol("COMPUTING"),Vg=Symbol("ERRORED"),qz=ut(ue({},Bp),{value:Qb,dirty:!0,error:null,equal:Ck,producerMustRecompute(n){return n.value===Qb||n.value===Zb},producerRecomputeValue(n){if(n.value===Zb)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Zb;let t=Bg(n),i;try{i=n.computation()}catch(r){i=Vg,n.error=r}finally{zg(n,t)}if(e!==Qb&&e!==Vg&&i!==Vg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function Kz(){throw new Error}var Ak=Kz;function Rk(){Ak()}function kk(n){Ak=n}var Yz=null;function Ok(n){let e=Object.create(Fk);e.value=n;let t=()=>(Jb(e),e.value);return t[Js]=e,t}function tw(n,e){Tk()||Rk(),n.equal(n.value,e)||(n.value=e,Qz(n))}function Pk(n,e){Tk()||Rk(),tw(n,e(n.value))}var Fk=ut(ue({},Bp),{equal:Ck,value:void 0});function Qz(n){n.version++,Wz(),Ek(n),Yz?.()}function Lk(n,e,t){let i=Object.create(Zz);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(ew(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Xb)}let a=()=>{if(i.fn===null)return;if(Gz())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Ug(i))return;i.hasRun=!0;let l=Bg(i);try{i.cleanupFn(),i.cleanupFn=Xb,i.fn(r)}finally{zg(i,l)}};return i.ref={notify:()=>xk(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[Js]:i},i.ref}var Xb=()=>{},Zz=ut(ue({},Bp),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Xb});function Ct(n){return typeof n=="function"}function ju(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jg=ju(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function dc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Kn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ct(i))try{i()}catch(s){e=s instanceof jg?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Nk(s)}catch(o){e=e??[],o instanceof jg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new jg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Nk(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&dc(t,e)}remove(e){let{_finalizers:t}=this;t&&dc(t,e),e instanceof n&&e._removeParent(this)}};Kn.EMPTY=(()=>{let n=new Kn;return n.closed=!0,n})();var nw=Kn.EMPTY;function $g(n){return n instanceof Kn||n&&"closed"in n&&Ct(n.remove)&&Ct(n.add)&&Ct(n.unsubscribe)}function Nk(n){Ct(n)?n():n.unsubscribe()}var Is={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $u={setTimeout(n,e,...t){let{delegate:i}=$u;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$u;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gg(n){$u.setTimeout(()=>{let{onUnhandledError:e}=Is;if(e)e(n);else throw n})}function hc(){}var Vk=iw("C",void 0,void 0);function Bk(n){return iw("E",void 0,n)}function zk(n){return iw("N",n,void 0)}function iw(n,e,t){return{kind:n,value:e,error:t}}var pc=null;function Gu(n){if(Is.useDeprecatedSynchronousErrorHandling){let e=!pc;if(e&&(pc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=pc;if(pc=null,t)throw i}}else n()}function Uk(n){Is.useDeprecatedSynchronousErrorHandling&&pc&&(pc.errorThrown=!0,pc.error=n)}var fc=class extends Kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$g(e)&&e.add(this)):this.destination=eU}static create(e,t,i){return new Wu(e,t,i)}next(e){this.isStopped?sw(zk(e),this):this._next(e)}error(e){this.isStopped?sw(Bk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sw(Vk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xz=Function.prototype.bind;function rw(n,e){return Xz.call(n,e)}var ow=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Wg(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Wg(i)}else Wg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wg(t)}}},Wu=class extends fc{constructor(e,t,i){super();let r;if(Ct(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Is.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rw(e.next,s),error:e.error&&rw(e.error,s),complete:e.complete&&rw(e.complete,s)}):r=e}this.destination=new ow(r)}};function Wg(n){Is.useDeprecatedSynchronousErrorHandling?Uk(n):Gg(n)}function Jz(n){throw n}function sw(n,e){let{onStoppedNotification:t}=Is;t&&$u.setTimeout(()=>t(n,e))}var eU={closed:!0,next:hc,error:Jz,complete:hc};var qu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nr(n){return n}function qg(...n){return aw(n)}function aw(n){return n.length===0?Nr:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Et=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=nU(t)?t:new Wu(t,i,r);return Gu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Hk(i),new i((r,s)=>{let o=new Wu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[qu](){return this}pipe(...t){return aw(t)(this)}toPromise(t){return t=Hk(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Hk(n){var e;return(e=n??Is.Promise)!==null&&e!==void 0?e:Promise}function tU(n){return n&&Ct(n.next)&&Ct(n.error)&&Ct(n.complete)}function nU(n){return n&&n instanceof fc||tU(n)&&$g(n)}function lw(n){return Ct(n?.lift)}function Vt(n){return e=>{if(lw(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(n,e,t,i,r){return new cw(n,e,t,i,r)}var cw=class extends fc{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ku(){return Vt((n,e)=>{let t=null;n._refCount++;let i=Ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Yu=class extends Et{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kn;let t=this.getSubject();e.add(this.source.subscribe(Ot(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kn.EMPTY)}return e}refCount(){return Ku()(this)}};var jk=ju(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pn=(()=>{class n extends Et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Kg(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new jk}next(t){Gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?nw:(this.currentObservers=null,s.push(t),new Kn(()=>{this.currentObservers=null,dc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Et;return t.source=this,t}}return n.create=(e,t)=>new Kg(e,t),n})(),Kg=class extends pn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:nw}};var pi=class extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var uw={now(){return(uw.delegate||Date).now()},delegate:void 0};var Yg=class extends Kn{constructor(e,t){super()}schedule(e,t=0){return this}};var zp={setInterval(n,e,...t){let{delegate:i}=zp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=zp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qu=class extends Yg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return zp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&zp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,dc(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Zu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Zu.now=uw.now;var Xu=class extends Zu{constructor(e,t=Zu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Ju=new Xu(Qu),dw=Ju;var Qg=class extends Qu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Zg=class extends Xu{};var hw=new Zg(Qg);var Vr=new Et(n=>n.complete());function Xg(n){return n&&Ct(n.schedule)}function $k(n){return n[n.length-1]}function Jg(n){return Ct($k(n))?n.pop():void 0}function Ka(n){return Xg($k(n))?n.pop():void 0}function pw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Wk(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Gk(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(n){return this instanceof mc?(this.v=n,this):new mc(n)}function qk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(m){return function(v){return Promise.resolve(v).then(m,h)}}function a(m,v){i[m]&&(r[m]=function(w){return new Promise(function(C,S){s.push([m,w,C,S])>1||l(m,w)})},v&&(r[m]=v(r[m])))}function l(m,v){try{c(i[m](v))}catch(w){p(s[0][3],w)}}function c(m){m.value instanceof mc?Promise.resolve(m.value.v).then(u,h):p(s[0][2],m)}function u(m){l("next",m)}function h(m){l("throw",m)}function p(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Kk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Gk=="function"?Gk(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var e_=n=>n&&typeof n.length=="number"&&typeof n!="function";function t_(n){return Ct(n?.then)}function n_(n){return Ct(n[qu])}function i_(n){return Symbol.asyncIterator&&Ct(n?.[Symbol.asyncIterator])}function r_(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var s_=iU();function o_(n){return Ct(n?.[s_])}function a_(n){return qk(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield mc(t.read());if(r)return yield mc(void 0);yield yield mc(i)}}finally{t.releaseLock()}})}function l_(n){return Ct(n?.getReader)}function Nn(n){if(n instanceof Et)return n;if(n!=null){if(n_(n))return rU(n);if(e_(n))return sU(n);if(t_(n))return oU(n);if(i_(n))return Yk(n);if(o_(n))return aU(n);if(l_(n))return lU(n)}throw r_(n)}function rU(n){return new Et(e=>{let t=n[qu]();if(Ct(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sU(n){return new Et(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oU(n){return new Et(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gg)})}function aU(n){return new Et(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Yk(n){return new Et(e=>{cU(n,e).catch(t=>e.error(t))})}function lU(n){return Yk(a_(n))}function cU(n,e){var t,i,r,s;return Wk(this,void 0,void 0,function*(){try{for(t=Kk(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function wr(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Ya(n,e=0){return Vt((t,i)=>{t.subscribe(Ot(i,r=>wr(i,n,()=>i.next(r),e),()=>wr(i,n,()=>i.complete(),e),r=>wr(i,n,()=>i.error(r),e)))})}function Qa(n,e=0){return Vt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Qk(n,e){return Nn(n).pipe(Qa(e),Ya(e))}function Zk(n,e){return Nn(n).pipe(Qa(e),Ya(e))}function Xk(n,e){return new Et(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Jk(n,e){return new Et(t=>{let i;return wr(t,e,()=>{i=n[s_](),wr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Ct(i?.return)&&i.return()})}function c_(n,e){if(!n)throw new Error("Iterable cannot be null");return new Et(t=>{wr(t,e,()=>{let i=n[Symbol.asyncIterator]();wr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function eO(n,e){return c_(a_(n),e)}function tO(n,e){if(n!=null){if(n_(n))return Qk(n,e);if(e_(n))return Xk(n,e);if(t_(n))return Zk(n,e);if(i_(n))return c_(n,e);if(o_(n))return Jk(n,e);if(l_(n))return eO(n,e)}throw r_(n)}function Gt(n,e){return e?tO(n,e):Nn(n)}function Ye(...n){let e=Ka(n);return Gt(n,e)}function ed(n,e){let t=Ct(n)?n:()=>n,i=r=>r.error(t());return new Et(e?r=>e.schedule(i,0,r):i)}function fw(n){return!!n&&(n instanceof Et||Ct(n.lift)&&Ct(n.subscribe))}var qo=ju(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function nO(n){return n instanceof Date&&!isNaN(n)}function ft(n,e){return Vt((t,i)=>{let r=0;t.subscribe(Ot(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:uU}=Array;function dU(n,e){return uU(e)?n(...e):n(e)}function u_(n){return ft(e=>dU(n,e))}var{isArray:hU}=Array,{getPrototypeOf:pU,prototype:fU,keys:mU}=Object;function d_(n){if(n.length===1){let e=n[0];if(hU(e))return{args:e,keys:null};if(gU(e)){let t=mU(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function gU(n){return n&&typeof n=="object"&&pU(n)===fU}function h_(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Up(...n){let e=Ka(n),t=Jg(n),{args:i,keys:r}=d_(n);if(i.length===0)return Gt([],e);let s=new Et(_U(i,e,r?o=>h_(r,o):Nr));return t?s.pipe(u_(t)):s}function _U(n,e,t=Nr){return i=>{iO(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)iO(e,()=>{let c=Gt(n[l],e),u=!1;c.subscribe(Ot(i,h=>{s[l]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function iO(n,e,t){n?wr(t,n,e):e()}function rO(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,h=!1,p=()=>{h&&!l.length&&!c&&e.complete()},m=w=>c<i?v(w):l.push(w),v=w=>{s&&e.next(w),c++;let C=!1;Nn(t(w,u++)).subscribe(Ot(e,S=>{r?.(S),s?m(S):e.next(S)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){let S=l.shift();o?wr(e,o,()=>v(S)):v(S)}p()}catch(S){e.error(S)}}))};return n.subscribe(Ot(e,m,()=>{h=!0,p()})),()=>{a?.()}}function ni(n,e,t=1/0){return Ct(e)?ni((i,r)=>ft((s,o)=>e(i,s,r,o))(Nn(n(i,r))),t):(typeof e=="number"&&(t=e),Vt((i,r)=>rO(i,r,n,t)))}function Za(n=1/0){return ni(Nr,n)}function sO(){return Za(1)}function td(...n){return sO()(Gt(n,Ka(n)))}function p_(n){return new Et(e=>{Nn(n()).subscribe(e)})}function mw(...n){let e=Jg(n),{args:t,keys:i}=d_(n),r=new Et(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let h=!1;Nn(t[u]).subscribe(Ot(s,p=>{h||(h=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?h_(i,a):a),s.complete())}))}});return e?r.pipe(u_(e)):r}function oO(n=0,e,t=dw){let i=-1;return e!=null&&(Xg(e)?t=e:i=e),new Et(r=>{let s=nO(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function gw(n=0,e=Ju){return n<0&&(n=0),oO(n,n,e)}function fi(n,e){return Vt((t,i)=>{let r=0;t.subscribe(Ot(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Xa(n){return Vt((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Ot(t,void 0,void 0,o=>{s=Nn(n(o,Xa(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function aO(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Ot(o,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Ko(n,e){return Ct(e)?ni(n,e,1):ni(n,1)}function _w(n){return Vt((e,t)=>{let i=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let a=r;r=null,t.next(a)}};e.subscribe(Ot(t,a=>{s?.unsubscribe(),i=!0,r=a,s=Ot(t,o,hc),Nn(n(a)).subscribe(s)},()=>{o(),t.complete()},void 0,()=>{r=s=null}))})}function Ja(n){return Vt((e,t)=>{let i=!1;e.subscribe(Ot(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Yo(n){return n<=0?()=>Vr:Vt((e,t)=>{let i=0;e.subscribe(Ot(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function yw(n){return ft(()=>n)}function f_(n=yU){return Vt((e,t)=>{let i=!1;e.subscribe(Ot(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function yU(){return new qo}function gc(n){return Vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function eo(n,e){let t=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):Nr,Yo(1),t?Ja(e):f_(()=>new qo))}function nd(n){return n<=0?()=>Vr:Vt((e,t)=>{let i=[];e.subscribe(Ot(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function vw(n,e){let t=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):Nr,nd(1),t?Ja(e):f_(()=>new qo))}function m_(n,e){return Vt(aO(n,e,arguments.length>=2,!0))}function g_(...n){let e=Ka(n);return Vt((t,i)=>{(e?td(n,t,e):td(n,t)).subscribe(i)})}function Cr(n,e){return Vt((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Ot(i,l=>{r?.unsubscribe();let c=0,u=s++;Nn(n(l,u)).subscribe(r=Ot(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function bw(n){return Vt((e,t)=>{Nn(n).subscribe(Ot(t,()=>t.complete(),hc)),!t.closed&&e.subscribe(t)})}function ii(n,e,t){let i=Ct(n)||e||t?{next:n,error:e,complete:t}:n;return i?Vt((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Ot(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Nr}var XO="https://g.co/ng/security#xss",ye=class extends Error{constructor(e,t){super(Z_(e,t)),this.code=e}};function Z_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function tf(n){return{toString:n}.toString()}var __="__parameters__";function vU(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function JO(n,e,t){return tf(()=>{let i=vU(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let h=l.hasOwnProperty(__)?l[__]:Object.defineProperty(l,__,{value:[]})[__];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Br=globalThis;function mn(n){for(let e in n)if(n[e]===mn)return e;throw Error("Could not find renamed property on target object.")}function bU(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(fr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Nw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var wU=mn({__forward_ref__:mn});function gn(n){return n.__forward_ref__=gn,n.toString=function(){return fr(this())},n}function pr(n){return eP(n)?n():n}function eP(n){return typeof n=="function"&&n.hasOwnProperty(wU)&&n.__forward_ref__===gn}function xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ie(n){return{providers:n.providers||[],imports:n.imports||[]}}function X_(n){return lO(n,nP)||lO(n,iP)}function tP(n){return X_(n)!==null}function lO(n,e){return n.hasOwnProperty(e)?n[e]:null}function CU(n){let e=n&&(n[nP]||n[iP]);return e||null}function cO(n){return n&&(n.hasOwnProperty(uO)||n.hasOwnProperty(IU))?n[uO]:null}var nP=mn({\u0275prov:mn}),uO=mn({\u0275inj:mn}),iP=mn({ngInjectableDef:mn}),IU=mn({ngInjectorDef:mn}),Be=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rP(n){return n&&!!n.\u0275providers}var EU=mn({\u0275cmp:mn}),TU=mn({\u0275dir:mn}),xU=mn({\u0275pipe:mn}),SU=mn({\u0275mod:mn}),A_=mn({\u0275fac:mn}),Hp=mn({__NG_ELEMENT_ID__:mn}),dO=mn({__NG_ENV_ID__:mn});function bc(n){return typeof n=="string"?n:n==null?"":String(n)}function DU(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():bc(n)}function MU(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ye(-200,n)}function GC(n,e){throw new ye(-201,!1)}var Ft=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ft||{}),Vw;function sP(){return Vw}function Ir(n){let e=Vw;return Vw=n,e}function oP(n,e,t){let i=X_(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ft.Optional)return null;if(e!==void 0)return e;GC(n,"Injector")}var AU={},jp=AU,Bw="__NG_DI_FLAG__",R_="ngTempTokenPath",RU="ngTokenPath",kU=/\n/gm,OU="\u0275",hO="__source",ad;function PU(){return ad}function el(n){let e=ad;return ad=n,e}function FU(n,e=Ft.Default){if(ad===void 0)throw new ye(-203,!1);return ad===null?oP(n,void 0,e):ad.get(n,e&Ft.Optional?null:void 0,e)}function Ne(n,e=Ft.Default){return(sP()||FU)(pr(n),e)}function he(n,e=Ft.Default){return Ne(n,J_(e))}function J_(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zw(n){let e=[];for(let t=0;t<n.length;t++){let i=pr(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ye(900,!1);let r,s=Ft.Default;for(let o=0;o<i.length;o++){let a=i[o],l=LU(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(Ne(r,s))}else e.push(Ne(i))}return e}function aP(n,e){return n[Bw]=e,n.prototype[Bw]=e,n}function LU(n){return n[Bw]}function NU(n,e,t,i){let r=n[R_];throw e[hO]&&r.unshift(e[hO]),n.message=VU(`
`+n.message,r,t,i),n[RU]=r,n[R_]=null,n}function VU(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==OU?n.slice(2):n;let r=fr(e);if(Array.isArray(e))r=e.map(fr).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):fr(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(kU,`
  `)}`}var Vi=aP(JO("Optional"),8);var e0=aP(JO("SkipSelf"),4);function wc(n,e){let t=n.hasOwnProperty(A_);return t?n[A_]:null}function BU(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function zU(n){return n.flat(Number.POSITIVE_INFINITY)}function WC(n,e){n.forEach(t=>Array.isArray(t)?WC(t,e):e(t))}function lP(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function k_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function UU(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function HU(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function t0(n,e,t){let i=nf(n,e);return i>=0?n[i|1]=t:(i=~i,HU(n,i,e,t)),i}function ww(n,e){let t=nf(n,e);if(t>=0)return n[t|1]}function nf(n,e){return jU(n,e,1)}function jU(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var cd={},Er=[],ud=new Be(""),cP=new Be("",-1),uP=new Be(""),O_=class{get(e,t=jp){if(t===jp){let i=new Error(`NullInjectorError: No provider for ${fr(e)}!`);throw i.name="NullInjectorError",i}return t}},dP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dP||{}),io=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(io||{}),O=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(O||{});function $U(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Uw(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];GU(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function hP(n){return n===3||n===4||n===6}function GU(n){return n.charCodeAt(0)===64}function $p(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?pO(n,t,r,null,e[++i]):pO(n,t,r,null,null))}}return n}function pO(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var pP="ng-template";function WU(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&$U(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(qC(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function qC(n){return n.type===4&&n.value!==pP}function qU(n,e,t){let i=n.type===4&&!t?pP:n.value;return e===i}function KU(n,e,t){let i=4,r=n.attrs,s=r!==null?ZU(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Es(i)&&!Es(l))return!1;if(o&&Es(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!qU(n,l,t)||l===""&&e.length===1){if(Es(i))return!1;o=!0}}else if(i&8){if(r===null||!WU(n,r,l,t)){if(Es(i))return!1;o=!0}}else{let c=e[++a],u=YU(l,r,qC(n),t);if(u===-1){if(Es(i))return!1;o=!0;continue}if(c!==""){let h;if(u>s?h="":h=r[u+1].toLowerCase(),i&2&&c!==h){if(Es(i))return!1;o=!0}}}}return Es(i)||o}function Es(n){return(n&1)===0}function YU(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return XU(e,n)}function fP(n,e,t=!1){for(let i=0;i<e.length;i++)if(KU(n,e[i],t))return!0;return!1}function QU(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function ZU(n){for(let e=0;e<n.length;e++){let t=n[e];if(hP(t))return e}return n.length}function XU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function JU(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function fO(n,e){return n?":not("+e.trim()+")":e}function eH(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Es(o)&&(e+=fO(s,r),r=""),i=o,s=s||!Es(i);t++}return r!==""&&(e+=fO(s,r)),e}function tH(n){return n.map(eH).join(",")}function nH(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Es(r))break;r=s}i++}return{attrs:e,classes:t}}function X(n){return tf(()=>{let e=vP(n),t=ut(ue({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||io.Emulated,styles:n.styles||Er,_:null,schemas:n.schemas||null,tView:null,id:""});bP(t);let i=n.dependencies;return t.directiveDefs=gO(i,!1),t.pipeDefs=gO(i,!0),t.id=sH(t),t})}function iH(n){return nl(n)||mP(n)}function rH(n){return n!==null}function Ee(n){return tf(()=>({type:n.type,bootstrap:n.bootstrap||Er,declarations:n.declarations||Er,imports:n.imports||Er,exports:n.exports||Er,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mO(n,e){if(n==null)return cd;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=O.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==O.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Pt(n){return tf(()=>{let e=vP(n);return bP(e),e})}function n0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function nl(n){return n[EU]||null}function mP(n){return n[TU]||null}function gP(n){return n[xU]||null}function _P(n){let e=nl(n)||mP(n)||gP(n);return e!==null?e.standalone:!1}function yP(n,e){let t=n[SU]||null;if(!t&&e===!0)throw new Error(`Type ${fr(n)} does not have '\u0275mod' property.`);return t}function vP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||cd,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Er,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mO(n.inputs,e),outputs:mO(n.outputs),debugInfo:null}}function bP(n){n.features?.forEach(e=>e(n))}function gO(n,e){if(!n)return null;let t=e?gP:iH;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(rH)}function sH(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wd(n){return{\u0275providers:n}}function KC(...n){return{\u0275providers:wP(!0,n),\u0275fromNgModule:!0}}function wP(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return WC(e,o=>{let a=o;Hw(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&CP(r,s),t}function CP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];YC(r,s=>{e(s,i)})}}function Hw(n,e,t,i){if(n=pr(n),!n)return!1;let r=null,s=cO(n),o=!s&&nl(n);if(!s&&!o){let l=n.ngModule;if(s=cO(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Hw(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{WC(s.imports,u=>{Hw(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&CP(c,e)}if(!a){let c=wc(r)||(()=>new r);e({provide:r,useFactory:c,deps:Er},r),e({provide:uP,useValue:r,multi:!0},r),e({provide:ud,useValue:()=>Ne(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;YC(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function YC(n,e){for(let t of n)rP(t)&&(t=t.\u0275providers),Array.isArray(t)?YC(t,e):e(t)}var oH=mn({provide:String,useValue:mn});function IP(n){return n!==null&&typeof n=="object"&&oH in n}function aH(n){return!!(n&&n.useExisting)}function lH(n){return!!(n&&n.useFactory)}function dd(n){return typeof n=="function"}function cH(n){return!!n.useClass}var i0=new Be(""),I_={},uH={},Cw;function QC(){return Cw===void 0&&(Cw=new O_),Cw}var Zi=class{},Gp=class extends Zi{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$w(e,o=>this.processProvider(o)),this.records.set(cP,id(void 0,this)),r.has("environment")&&this.records.set(Zi,id(void 0,this));let s=this.records.get(i0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uP,Er,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=$t(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$t(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=el(this),i=Ir(void 0),r;try{return e()}finally{el(t),Ir(i)}}get(e,t=jp,i=Ft.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dO))return e[dO](this);i=J_(i);let r,s=el(this),o=Ir(void 0);try{if(!(i&Ft.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=mH(e)&&X_(e);c&&this.injectableDefInScope(c)?l=id(jw(e),I_):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ft.Self?QC():this.parent;return t=i&Ft.Optional&&t===jp?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[R_]=a[R_]||[]).unshift(fr(e)),s)throw a;return NU(a,e,"R3InjectorError",this.source)}else throw a}finally{Ir(o),el(s)}}resolveInjectorInitializers(){let e=$t(null),t=el(this),i=Ir(void 0),r;try{let s=this.get(ud,Er,Ft.Self);for(let o of s)o()}finally{el(t),Ir(i),$t(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(fr(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(e){e=pr(e);let t=dd(e)?e:pr(e&&e.provide),i=hH(e);if(!dd(e)&&e.multi===!0){let r=this.records.get(t);r||(r=id(void 0,I_,!0),r.factory=()=>zw(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=$t(null);try{return t.value===I_&&(t.value=uH,t.value=t.factory()),typeof t.value=="object"&&t.value&&fH(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{$t(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function jw(n){let e=X_(n),t=e!==null?e.factory:wc(n);if(t!==null)return t;if(n instanceof Be)throw new ye(204,!1);if(n instanceof Function)return dH(n);throw new ye(204,!1)}function dH(n){if(n.length>0)throw new ye(204,!1);let t=CU(n);return t!==null?()=>t.factory(n):()=>new n}function hH(n){if(IP(n))return id(void 0,n.useValue);{let e=EP(n);return id(e,I_)}}function EP(n,e,t){let i;if(dd(n)){let r=pr(n);return wc(r)||jw(r)}else if(IP(n))i=()=>pr(n.useValue);else if(lH(n))i=()=>n.useFactory(...zw(n.deps||[]));else if(aH(n))i=()=>Ne(pr(n.useExisting));else{let r=pr(n&&(n.useClass||n.provide));if(pH(n))i=()=>new r(...zw(n.deps));else return wc(r)||jw(r)}return i}function id(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function pH(n){return!!n.deps}function fH(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mH(n){return typeof n=="function"||typeof n=="object"&&n instanceof Be}function $w(n,e){for(let t of n)Array.isArray(t)?$w(t,e):t&&rP(t)?$w(t.\u0275providers,e):e(t)}function Ms(n,e){n instanceof Gp&&n.assertNotDestroyed();let t,i=el(n),r=Ir(void 0);try{return e()}finally{el(i),Ir(r)}}function TP(){return sP()!==void 0||PU()!=null}function xP(n){if(!TP())throw new ye(-203,!1)}function gH(n){return typeof n=="function"}var Xo=0,mt=1,rt=2,Ni=3,Ts=4,zr=5,hd=6,Wp=7,Yi=8,pd=9,xs=10,Mn=11,qp=12,_O=13,Cd=14,os=15,rf=16,rd=17,Qo=18,r0=19,SP=20,tl=21,E_=22,Cc=23,Xi=25,DP=1;var Ic=7,P_=8,fd=9,Qi=10,ZC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ZC||{});function yc(n){return Array.isArray(n)&&typeof n[DP]=="object"}function Jo(n){return Array.isArray(n)&&n[DP]===!0}function XC(n){return(n.flags&4)!==0}function s0(n){return n.componentOffset>-1}function o0(n){return(n.flags&1)===1}function il(n){return!!n.template}function _H(n){return(n[rt]&512)!==0}var Gw=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function MP(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function cn(){return AP}function AP(n){return n.type.prototype.ngOnChanges&&(n.setInput=vH),yH}cn.ngInherit=!0;function yH(){let n=kP(this),e=n?.current;if(e){let t=n.previous;if(t===cd)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function vH(n,e,t,i,r){let s=this.declaredInputs[i],o=kP(n)||bH(n,{previous:cd,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Gw(c&&c.currentValue,t,l===cd),MP(n,e,r,t)}var RP="__ngSimpleChanges__";function kP(n){return n[RP]||null}function bH(n,e){return n[RP]=e}var yO=null;var to=function(n,e,t){yO?.(n,e,t)},OP="svg",wH="math",CH=!1;function IH(){return CH}function ro(n){for(;Array.isArray(n);)n=n[Xo];return n}function PP(n,e){return ro(e[n])}function as(n,e){return ro(e[n.index])}function JC(n,e){return n.data[e]}function FP(n,e){return n[e]}function ol(n,e){let t=e[n];return yc(t)?t:t[Xo]}function EH(n){return(n[rt]&4)===4}function eI(n){return(n[rt]&128)===128}function TH(n){return Jo(n[Ni])}function md(n,e){return e==null?null:n[e]}function LP(n){n[rd]=0}function xH(n){n[rt]&1024||(n[rt]|=1024,eI(n)&&Kp(n))}function SH(n,e){for(;n>0;)e=e[Cd],n--;return e}function tI(n){return!!(n[rt]&9216||n[Cc]?.dirty)}function Ww(n){n[xs].changeDetectionScheduler?.notify(1),tI(n)?Kp(n):n[rt]&64&&(IH()?(n[rt]|=1024,Kp(n)):n[xs].changeDetectionScheduler?.notify())}function Kp(n){n[xs].changeDetectionScheduler?.notify();let e=Yp(n);for(;e!==null&&!(e[rt]&8192||(e[rt]|=8192,!eI(e)));)e=Yp(e)}function NP(n,e){if((n[rt]&256)===256)throw new ye(911,!1);n[tl]===null&&(n[tl]=[]),n[tl].push(e)}function DH(n,e){if(n[tl]===null)return;let t=n[tl].indexOf(e);t!==-1&&n[tl].splice(t,1)}function Yp(n){let e=n[Ni];return Jo(e)?e[Ni]:e}var Dt={lFrame:$P(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MH(){return Dt.lFrame.elementDepthCount}function AH(){Dt.lFrame.elementDepthCount++}function RH(){Dt.lFrame.elementDepthCount--}function VP(){return Dt.bindingsEnabled}function BP(){return Dt.skipHydrationRootTNode!==null}function kH(n){return Dt.skipHydrationRootTNode===n}function OH(){Dt.skipHydrationRootTNode=null}function tt(){return Dt.lFrame.lView}function Vn(){return Dt.lFrame.tView}function F(n){return Dt.lFrame.contextLView=n,n[Yi]}function L(n){return Dt.lFrame.contextLView=null,n}function Ji(){let n=zP();for(;n!==null&&n.type===64;)n=n.parent;return n}function zP(){return Dt.lFrame.currentTNode}function PH(){let n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ac(n,e){let t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function nI(){return Dt.lFrame.isParent}function iI(){Dt.lFrame.isParent=!1}function FH(){return Dt.lFrame.contextLView}function oo(){let n=Dt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function LH(){return Dt.lFrame.bindingIndex}function NH(n){return Dt.lFrame.bindingIndex=n}function Id(){return Dt.lFrame.bindingIndex++}function rI(n){let e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function VH(){return Dt.lFrame.inI18n}function BH(n,e){let t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,qw(e)}function zH(){return Dt.lFrame.currentDirectiveIndex}function qw(n){Dt.lFrame.currentDirectiveIndex=n}function UH(n){let e=Dt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function UP(){return Dt.lFrame.currentQueryIndex}function sI(n){Dt.lFrame.currentQueryIndex=n}function HH(n){let e=n[mt];return e.type===2?e.declTNode:e.type===1?n[zr]:null}function HP(n,e,t){if(t&Ft.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ft.Host);)if(r=HH(s),r===null||(s=s[Cd],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=Dt.lFrame=jP();return i.currentTNode=e,i.lView=n,!0}function oI(n){let e=jP(),t=n[mt];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jP(){let n=Dt.lFrame,e=n===null?null:n.child;return e===null?$P(n):e}function $P(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function GP(){let n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var WP=GP;function aI(){let n=GP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jH(n){return(Dt.lFrame.contextLView=SH(n,Dt.lFrame.contextLView))[Yi]}function ea(){return Dt.lFrame.selectedIndex}function Ec(n){Dt.lFrame.selectedIndex=n}function a0(){let n=Dt.lFrame;return JC(n.tView,n.selectedIndex)}function ke(){Dt.lFrame.currentNamespace=OP}function $H(){return Dt.lFrame.currentNamespace}var qP=!0;function l0(){return qP}function c0(n){qP=n}function GH(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=AP(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function u0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function T_(n,e,t){KP(n,e,3,t)}function x_(n,e,t,i){(n[rt]&3)===t&&KP(n,e,t,i)}function Iw(n,e){let t=n[rt];(t&3)===e&&(t&=16383,t+=1,n[rt]=t)}function KP(n,e,t,i){let r=i!==void 0?n[rd]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[rd]+=65536),(a<s||s==-1)&&(WH(n,t,e,l),n[rd]=(n[rd]&4294901760)+l+2),l++}function vO(n,e){to(4,n,e);let t=$t(null);try{e.call(n)}finally{$t(t),to(5,n,e)}}function WH(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[rt]>>14<n[rd]>>16&&(n[rt]&3)===e&&(n[rt]+=16384,vO(a,s)):vO(a,s)}var ld=-1,Tc=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function qH(n){return n instanceof Tc}function KH(n){return(n.flags&8)!==0}function YH(n){return(n.flags&16)!==0}function YP(n){return n!==ld}function F_(n){return n&32767}function QH(n){return n>>16}function L_(n,e){let t=QH(n),i=e;for(;t>0;)i=i[Cd],t--;return i}var Kw=!0;function N_(n){let e=Kw;return Kw=n,e}var ZH=256,QP=ZH-1,ZP=5,XH=0,no={};function JH(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Hp)&&(i=t[Hp]),i==null&&(i=t[Hp]=XH++);let r=i&QP,s=1<<r;e.data[n+(r>>ZP)]|=s}function V_(n,e){let t=XP(n,e);if(t!==-1)return t;let i=e[mt];i.firstCreatePass&&(n.injectorIndex=e.length,Ew(i.data,n),Ew(e,null),Ew(i.blueprint,null));let r=lI(n,e),s=n.injectorIndex;if(YP(r)){let o=F_(r),a=L_(r,e),l=a[mt].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Ew(n,e){n.push(0,0,0,0,0,0,0,0,e)}function XP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lI(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=iF(r),i===null)return ld;if(t++,r=r[Cd],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ld}function Yw(n,e,t){JH(n,e,t)}function ej(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(hP(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function JP(n,e,t){if(t&Ft.Optional||n!==void 0)return n;GC(e,"NodeInjector")}function eF(n,e,t,i){if(t&Ft.Optional&&i===void 0&&(i=null),!(t&(Ft.Self|Ft.Host))){let r=n[pd],s=Ir(void 0);try{return r?r.get(e,i,t&Ft.Optional):oP(e,i,t&Ft.Optional)}finally{Ir(s)}}return JP(i,e,t)}function tF(n,e,t,i=Ft.Default,r){if(n!==null){if(e[rt]&2048&&!(i&Ft.Self)){let o=rj(n,e,t,i,no);if(o!==no)return o}let s=nF(n,e,t,i,no);if(s!==no)return s}return eF(e,t,i,r)}function nF(n,e,t,i,r){let s=nj(t);if(typeof s=="function"){if(!HP(e,n,i))return i&Ft.Host?JP(r,t,i):eF(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ft.Optional))GC(t);else return o}finally{WP()}}else if(typeof s=="number"){let o=null,a=XP(n,e),l=ld,c=i&Ft.Host?e[os][zr]:null;for((a===-1||i&Ft.SkipSelf)&&(l=a===-1?lI(n,e):e[a+8],l===ld||!wO(i,!1)?a=-1:(o=e[mt],a=F_(l),e=L_(l,e)));a!==-1;){let u=e[mt];if(bO(s,a,u.data)){let h=tj(a,e,t,o,i,c);if(h!==no)return h}l=e[a+8],l!==ld&&wO(i,e[mt].data[a+8]===c)&&bO(s,a,e)?(o=u,a=F_(l),e=L_(l,e)):a=-1}}return r}function tj(n,e,t,i,r,s){let o=e[mt],a=o.data[n+8],l=i==null?s0(a)&&Kw:i!=o&&(a.type&3)!==0,c=r&Ft.Host&&s===a,u=S_(a,o,t,l,c);return u!==null?xc(e,o,u,a):no}function S_(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,h=i?a:a+u,p=r?a+u:c;for(let m=h;m<p;m++){let v=o[m];if(m<l&&t===v||m>=l&&v.type===t)return m}if(r){let m=o[l];if(m&&il(m)&&m.type===t)return l}return null}function xc(n,e,t,i){let r=n[t],s=e.data;if(qH(r)){let o=r;o.resolving&&MU(DU(s[t]));let a=N_(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ir(o.injectImpl):null,u=HP(n,i,Ft.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&GH(t,s[t],e)}finally{c!==null&&Ir(c),N_(a),o.resolving=!1,WP()}}return r}function nj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hp)?n[Hp]:void 0;return typeof e=="number"?e>=0?e&QP:ij:e}function bO(n,e,t){let i=1<<n;return!!(t[e+(n>>ZP)]&i)}function wO(n,e){return!(n&Ft.Self)&&!(n&Ft.Host&&e)}var vc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return tF(this._tNode,this._lView,e,J_(i),t)}};function ij(){return new vc(Ji(),tt())}function Me(n){return tf(()=>{let e=n.prototype.constructor,t=e[A_]||Qw(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[A_]||Qw(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Qw(n){return eP(n)?()=>{let e=Qw(pr(n));return e&&e()}:wc(n)}function rj(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[rt]&2048&&!(o[rt]&512);){let a=nF(s,o,t,i|Ft.Self,no);if(a!==no)return a;let l=s.parent;if(!l){let c=o[SP];if(c){let u=c.get(t,no,i);if(u!==no)return u}l=iF(o),o=o[Cd]}s=l}return r}function iF(n){let e=n[mt],t=e.type;return t===2?e.declTNode:t===1?n[zr]:null}function cI(n){return ej(Ji(),n)}function CO(n,e=null,t=null,i){let r=rF(n,e,t,i);return r.resolveInjectorInitializers(),r}function rF(n,e=null,t=null,i,r=new Set){let s=[t||Er,KC(n)];return i=i||(typeof n=="object"?void 0:fr(n)),new Gp(s,e||QC(),i||null,r)}var ri=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return CO({name:""},r,i,"");{let s=i.name??"";return CO({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=jp,e.NULL=new O_,e.\u0275prov=xe({token:e,providedIn:"any",factory:()=>Ne(cP)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var sj="ngOriginalError";function Tw(n){return n[sj]}var Ss=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Tw(e);for(;t&&Tw(t);)t=Tw(t);return t||null}},sF=new Be("",{providedIn:"root",factory:()=>he(Ss).handleError.bind(void 0)}),d0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oj,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),Zw=class extends d0{constructor(e){super(),this._lView=e}onDestroy(e){return NP(this._lView,e),()=>DH(this._lView,e)}};function oj(){return new Zw(tt())}function aj(){return Ed(Ji(),tt())}function Ed(n,e){return new je(as(n,e))}var je=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=aj;let n=e;return n})();function lj(n){return n instanceof je?n.nativeElement:n}var Xw=class extends pn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TP()&&(this.destroyRef=he(d0,{optional:!0})??void 0)}emit(e){let t=$t(null);try{super.next(e)}finally{$t(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=xw(s),r&&(r=xw(r)),o&&(o=xw(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Kn&&e.add(a),a}};function xw(n){return e=>{setTimeout(n,void 0,e)}}var Z=Xw;function cj(){return this._results[Symbol.iterator]()}var Jw=class n{get changes(){return this._changes??=new Z}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=cj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=zU(e);(this._changesDetected=!BU(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function oF(n){return(n.flags&128)===128}var aF=new Map,uj=0;function dj(){return uj++}function hj(n){aF.set(n[r0],n)}function pj(n){aF.delete(n[r0])}var IO="__ngContext__";function rl(n,e){yc(e)?(n[IO]=e[r0],hj(e)):n[IO]=e}function lF(n){return uF(n[qp])}function cF(n){return uF(n[Ts])}function uF(n){for(;n!==null&&!Jo(n);)n=n[Ts];return n}var eC;function dF(n){eC=n}function hF(){if(eC!==void 0)return eC;if(typeof document<"u")return document;throw new ye(210,!1)}var uI=new Be("",{providedIn:"root",factory:()=>fj}),fj="ng",dI=new Be(""),Bt=new Be("",{providedIn:"platform",factory:()=>"unknown"});var hI=new Be(""),pI=new Be("",{providedIn:"root",factory:()=>hF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mj="h",gj="b";var _j=()=>null;function fI(n,e,t=!1){return _j(n,e,t)}var pF=!1,yj=new Be("",{providedIn:"root",factory:()=>pF});var y_;function vj(){if(y_===void 0&&(y_=null,Br.trustedTypes))try{y_=Br.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return y_}function h0(n){return vj()?.createHTML(n)||n}var v_;function fF(){if(v_===void 0&&(v_=null,Br.trustedTypes))try{v_=Br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return v_}function EO(n){return fF()?.createHTML(n)||n}function TO(n){return fF()?.createScriptURL(n)||n}var B_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XO})`}};function al(n){return n instanceof B_?n.changingThisBreaksApplicationSecurity:n}function p0(n,e){let t=bj(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${XO})`)}return t===e}function bj(n){return n instanceof B_&&n.getTypeName()||null}function wj(n){let e=new nC(n);return Cj()?new tC(e):e}var tC=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(h0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},nC=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=h0(e),t}};function Cj(){try{return!!new window.DOMParser().parseFromString(h0(""),"text/html")}catch{return!1}}var Ij=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mI(n){return n=String(n),n.match(Ij)?n:"unsafe:"+n}function ta(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function sf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var mF=ta("area,br,col,hr,img,wbr"),gF=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_F=ta("rp,rt"),Ej=sf(_F,gF),Tj=sf(gF,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xj=sf(_F,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xO=sf(mF,Tj,xj,Ej),yF=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sj=ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dj=ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Mj=sf(yF,Sj,Dj),Aj=ta("script,style,template"),iC=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Oj(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=kj(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=SO(e).toLowerCase();if(!xO.hasOwnProperty(t))return this.sanitizedSomething=!0,!Aj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Mj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;yF[a]&&(l=mI(l)),this.buf.push(" ",o,'="',DO(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=SO(e).toLowerCase();xO.hasOwnProperty(t)&&!mF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(DO(e))}};function Rj(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function kj(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw vF(e);return e}function Oj(n){let e=n.firstChild;if(e&&Rj(n,e))throw vF(e);return e}function SO(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function vF(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Pj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fj=/([^\#-~ |!])/g;function DO(n){return n.replace(/&/g,"&amp;").replace(Pj,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Fj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var b_;function bF(n,e){let t=null;try{b_=b_||wj(n);let i=e?String(e):"";t=b_.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=b_.getInertBodyElement(i)}while(i!==s);let a=new iC().sanitizeChildren(MO(t)||t);return h0(a)}finally{if(t){let i=MO(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function MO(n){return"content"in n&&Lj(n)?n.content:null}function Lj(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var of=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(of||{});function Rc(n){let e=gI();return e?EO(e.sanitize(of.HTML,n)||""):p0(n,"HTML")?EO(al(n)):bF(hF(),bc(n))}function kc(n){let e=gI();return e?e.sanitize(of.URL,n)||"":p0(n,"URL")?al(n):mI(bc(n))}function Nj(n){let e=gI();if(e)return TO(e.sanitize(of.RESOURCE_URL,n)||"");if(p0(n,"ResourceURL"))return TO(al(n));throw new ye(904,!1)}function Vj(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Nj:kc}function wF(n,e,t){return Vj(e,t)(n)}function gI(){let n=tt();return n&&n[xs].sanitizer}var Bj=/^>|^->|<!--|-->|--!>|<!-$/g,zj=/(<|>)/g,Uj="\u200B$1\u200B";function Hj(n){return n.replace(Bj,e=>e.replace(zj,Uj))}function CF(n){return n.ownerDocument}function IF(n){return n instanceof Function?n():n}function jj(n){return(n??he(ri)).get(Bt)==="browser"}var so=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(so||{}),$j;function _I(n,e){return $j(n,e)}function sd(n,e,t,i,r){if(i!=null){let s,o=!1;Jo(i)?s=i:yc(i)&&(o=!0,i=i[Xo]);let a=ro(i);n===0&&t!==null?r==null?DF(e,t,a):z_(e,t,a,r||null,!0):n===1&&t!==null?z_(e,t,a,r||null,!0):n===2?o$(e,a,o):n===3&&e.destroyNode(a),s!=null&&l$(e,n,s,t,r)}}function Gj(n,e){return n.createText(e)}function Wj(n,e,t){n.setValue(e,t)}function qj(n,e){return n.createComment(Hj(e))}function EF(n,e,t){return n.createElement(e,t)}function Kj(n,e){TF(n,e),e[Xo]=null,e[zr]=null}function Yj(n,e,t,i,r,s){i[Xo]=r,i[zr]=e,g0(n,i,t,1,r,s)}function TF(n,e){e[xs].changeDetectionScheduler?.notify(1),g0(n,e,e[Mn],2,null,null)}function Qj(n){let e=n[qp];if(!e)return Sw(n[mt],n);for(;e;){let t=null;if(yc(e))t=e[qp];else{let i=e[Qi];i&&(t=i)}if(!t){for(;e&&!e[Ts]&&e!==n;)yc(e)&&Sw(e[mt],e),e=e[Ni];e===null&&(e=n),yc(e)&&Sw(e[mt],e),t=e&&e[Ts]}e=t}}function Zj(n,e,t,i){let r=Qi+i,s=t.length;i>0&&(t[r-1][Ts]=e),i<s-Qi?(e[Ts]=t[r],lP(t,Qi+i,e)):(t.push(e),e[Ts]=null),e[Ni]=t;let o=e[rf];o!==null&&t!==o&&Xj(o,e);let a=e[Qo];a!==null&&a.insertView(n),Ww(e),e[rt]|=128}function Xj(n,e){let t=n[fd],r=e[Ni][Ni][os];e[os]!==r&&(n[rt]|=ZC.HasTransplantedViews),t===null?n[fd]=[e]:t.push(e)}function xF(n,e){let t=n[fd],i=t.indexOf(e);t.splice(i,1)}function Qp(n,e){if(n.length<=Qi)return;let t=Qi+e,i=n[t];if(i){let r=i[rf];r!==null&&r!==n&&xF(r,i),e>0&&(n[t-1][Ts]=i[Ts]);let s=k_(n,Qi+e);Kj(i[mt],i);let o=s[Qo];o!==null&&o.detachView(s[mt]),i[Ni]=null,i[Ts]=null,i[rt]&=-129}return i}function f0(n,e){if(!(e[rt]&256)){let t=e[Mn];t.destroyNode&&g0(n,e,t,3,null,null),Qj(e)}}function Sw(n,e){if(e[rt]&256)return;let t=$t(null);try{e[rt]&=-129,e[rt]|=256,e[Cc]&&ew(e[Cc]),e$(n,e),Jj(n,e),e[mt].type===1&&e[Mn].destroy();let i=e[rf];if(i!==null&&Jo(e[Ni])){i!==e[Ni]&&xF(i,e);let r=e[Qo];r!==null&&r.detachView(n)}pj(e)}finally{$t(t)}}function Jj(n,e){let t=n.cleanup,i=e[Wp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Wp]=null);let r=e[tl];if(r!==null){e[tl]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function e$(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Tc)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];to(4,a,l);try{l.call(a)}finally{to(5,a,l)}}else{to(4,r,s);try{s.call(r)}finally{to(5,r,s)}}}}}function SF(n,e,t){return t$(n,e.parent,t)}function t$(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Xo];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===io.None||s===io.Emulated)return null}return as(i,t)}}function z_(n,e,t,i,r){n.insertBefore(e,t,i,r)}function DF(n,e,t){n.appendChild(e,t)}function AO(n,e,t,i,r){i!==null?z_(n,e,t,i,r):DF(n,e,t)}function n$(n,e,t,i){n.removeChild(e,t,i)}function yI(n,e){return n.parentNode(e)}function i$(n,e){return n.nextSibling(e)}function MF(n,e,t){return s$(n,e,t)}function r$(n,e,t){return n.type&40?as(n,t):null}var s$=r$,RO;function m0(n,e,t,i){let r=SF(n,i,e),s=e[Mn],o=i.parent||e[zr],a=MF(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)AO(s,r,t[l],a,!1);else AO(s,r,t,a,!1);RO!==void 0&&RO(s,i,e,t,r)}function D_(n,e){if(e!==null){let t=e.type;if(t&3)return as(e,n);if(t&4)return rC(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return D_(n,i);{let r=n[e.index];return Jo(r)?rC(-1,r):ro(r)}}else{if(t&32)return _I(e,n)()||ro(n[e.index]);{let i=AF(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Yp(n[os]);return D_(r,i)}else return D_(n,e.next)}}}return null}function AF(n,e){if(e!==null){let i=n[os][zr],r=e.projection;return i.projection[r]}return null}function rC(n,e){let t=Qi+n+1;if(t<e.length){let i=e[t],r=i[mt].firstChild;if(r!==null)return D_(i,r)}return e[Ic]}function o$(n,e,t){let i=yI(n,e);i&&n$(n,i,e,t)}function vI(n,e,t,i,r,s,o){for(;t!=null;){let a=i[t.index],l=t.type;if(o&&e===0&&(a&&rl(ro(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)vI(n,e,t.child,i,r,s,!1),sd(e,n,r,a,s);else if(l&32){let c=_I(t,i),u;for(;u=c();)sd(e,n,r,u,s);sd(e,n,r,a,s)}else l&16?RF(n,e,i,t,r,s):sd(e,n,r,a,s);t=o?t.projectionNext:t.next}}function g0(n,e,t,i,r,s){vI(t,i,n.firstChild,e,r,s,!1)}function a$(n,e,t){let i=e[Mn],r=SF(n,t,e),s=t.parent||e[zr],o=MF(s,t,e);RF(i,0,e,t,r,o)}function RF(n,e,t,i,r,s){let o=t[os],l=o[zr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];sd(e,n,r,u,s)}else{let c=l,u=o[Ni];oF(i)&&(c.flags|=128),vI(n,e,c,u,r,s,!0)}}function l$(n,e,t,i,r){let s=t[Ic],o=ro(t);s!==o&&sd(e,n,i,s,r);for(let a=Qi;a<t.length;a++){let l=t[a];g0(l[mt],l,n,e,i,s)}}function c$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:so.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=so.Important),n.setStyle(t,i,r,s))}}function u$(n,e,t){n.setAttribute(e,"style",t)}function kF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OF(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Uw(n,e,i),r!==null&&kF(n,e,r),s!==null&&u$(n,e,s)}var Ur={};function g(n=1){PF(Vn(),tt(),ea()+n,!1)}function PF(n,e,t,i){if(!i)if((e[rt]&3)===3){let s=n.preOrderCheckHooks;s!==null&&T_(e,s,t)}else{let s=n.preOrderHooks;s!==null&&x_(e,s,0,t)}Ec(t)}function j(n,e=Ft.Default){let t=tt();if(t===null)return Ne(n,e);let i=Ji();return tF(i,t,pr(n),e)}function FF(){let n="invalid";throw new Error(n)}function LF(n,e,t,i,r,s){let o=$t(null);try{let a=null;r&O.SignalBased&&(a=e[i][Js]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&O.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):MP(e,a,i,s)}finally{$t(o)}}function d$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ec(~r);else{let s=r,o=t[++i],a=t[++i];BH(o,s);let l=e[s];a(2,l)}}}finally{Ec(-1)}}function _0(n,e,t,i,r,s,o,a,l,c,u){let h=e.blueprint.slice();return h[Xo]=r,h[rt]=i|4|128|8|64,(c!==null||n&&n[rt]&2048)&&(h[rt]|=2048),LP(h),h[Ni]=h[Cd]=n,h[Yi]=t,h[xs]=o||n&&n[xs],h[Mn]=a||n&&n[Mn],h[pd]=l||n&&n[pd]||null,h[zr]=s,h[r0]=dj(),h[hd]=u,h[SP]=c,h[os]=e.type==2?n[os]:h,h}function Td(n,e,t,i,r){let s=n.data[e];if(s===null)s=h$(n,e,t,i,r),VH()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=PH();s.injectorIndex=o===null?-1:o.injectorIndex}return Ac(s,!0),s}function h$(n,e,t,i,r){let s=zP(),o=nI(),a=o?s:s&&s.parent,l=n.data[e]=y$(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function NF(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function VF(n,e,t,i,r){let s=ea(),o=i&2;try{Ec(-1),o&&e.length>Xi&&PF(n,e,Xi,!1),to(o?2:0,r),t(i,r)}finally{Ec(s),to(o?3:1,r)}}function bI(n,e,t){if(XC(e)){let i=$t(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{$t(i)}}}function wI(n,e,t){VP()&&(E$(n,e,t,as(t,e)),(t.flags&64)===64&&UF(n,e,t))}function CI(n,e,t=as){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function BF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=II(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function II(n,e,t,i,r,s,o,a,l,c,u){let h=Xi+i,p=h+r,m=p$(h,p),v=typeof c=="function"?c():c;return m[mt]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function p$(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ur);return t}function f$(n,e,t,i){let s=i.get(yj,pF)||t===io.ShadowDom,o=n.selectRootElement(e,s);return m$(o),o}function m$(n){g$(n)}var g$=()=>null;function _$(n,e,t,i){let r=$F(e);r.push(t),n.firstCreatePass&&GF(n).push(i,r.length-1)}function y$(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return BP()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kO(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=O.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?OO(i,t,c,a,l):OO(i,t,c,a)}return i}function OO(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function v$(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let h=s[u],p=t?t.get(h):null,m=p?p.inputs:null,v=p?p.outputs:null;l=kO(0,h.inputs,u,l,m),c=kO(1,h.outputs,u,c,v);let w=l!==null&&o!==null&&!qC(e)?F$(l,u,o):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function b$(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function EI(n,e,t,i,r,s,o,a){let l=as(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(xI(n,t,u,i,r),s0(e)&&w$(t,e.index)):e.type&3?(i=b$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function w$(n,e){let t=ol(e,n);t[rt]&16||(t[rt]|=64)}function TI(n,e,t,i){if(VP()){let r=i===null?null:{"":-1},s=x$(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&zF(n,e,t,o,r,a),r&&S$(t,i,r)}t.mergedAttrs=$p(t.mergedAttrs,t.attrs)}function zF(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Yw(V_(t,e),n,i[c].type);M$(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=NF(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=$p(t.mergedAttrs,u.hostAttrs),A$(n,t,e,l,u),D$(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}v$(n,t,s)}function C$(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;I$(o)!=a&&o.push(a),o.push(t,i,s)}}function I$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function E$(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;s0(t)&&R$(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||V_(t,e),rl(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=xc(e,n,a,t);if(rl(c,e),o!==null&&P$(e,a-r,c,l,t,o),il(l)){let u=ol(t.index,e);u[Yi]=xc(e,n,a,t)}}}function UF(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=zH();try{Ec(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];qw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&T$(l,c)}}finally{Ec(-1),qw(o)}}function T$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function x$(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(fP(e,o.selectors,!1))if(i||(i=[]),il(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;sC(n,e,l)}else i.unshift(o),sC(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function sC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S$(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new ye(-301,!1);i.push(e[r],s)}}}function D$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;il(e)&&(t[""]=n)}}function M$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function A$(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=wc(r.type,!0)),o=new Tc(s,il(r),j);n.blueprint[i]=o,t[i]=o,C$(n,e,i,NF(n,t,r.hostVars,Ur),r)}function R$(n,e,t){let i=as(e,n),r=BF(t),s=n[xs].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=y0(n,_0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function k$(n,e,t,i,r,s){let o=as(n,e);O$(e[Mn],o,s,n.value,t,i,r)}function O$(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?bc(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function P$(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],h=o[a++];LF(i,t,l,c,u,h)}}function F$(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function HF(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function jF(n,e){let t=n.contentQueries;if(t!==null){let i=$t(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];sI(s),a.contentQueries(2,e[o],o)}}}finally{$t(i)}}}function y0(n,e){return n[qp]?n[_O][Ts]=e:n[qp]=e,n[_O]=e,e}function oC(n,e,t){sI(0);let i=$t(null);try{e(n,t)}finally{$t(i)}}function $F(n){return n[Wp]||(n[Wp]=[])}function GF(n){return n.cleanup||(n.cleanup=[])}function WF(n,e){let t=n[pd],i=t?t.get(Ss,null):null;i&&i.handleError(e)}function xI(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],u=n.data[o];LF(u,c,i,a,l,r)}}function qF(n,e,t){let i=PP(e,n);Wj(n[Mn],i,t)}function L$(n,e){let t=ol(e,n),i=t[mt];N$(i,t);let r=t[Xo];r!==null&&t[hd]===null&&(t[hd]=fI(r,t[pd])),SI(i,t,t[Yi])}function N$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function SI(n,e,t){oI(e);try{let i=n.viewQuery;i!==null&&oC(1,i,t);let r=n.template;r!==null&&VF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qo]?.finishViewCreation(n),n.staticContentQueries&&jF(n,e),n.staticViewQueries&&oC(2,n.viewQuery,t);let s=n.components;s!==null&&V$(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[rt]&=-5,aI()}}function V$(n,e){for(let t=0;t<e.length;t++)L$(n,e[t])}function v0(n,e,t,i){let r=$t(null);try{let s=e.tView,a=n[rt]&4096?4096:16,l=_0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[rf]=c;let u=n[Qo];return u!==null&&(l[Qo]=u.createEmbeddedView(s)),SI(s,l,t),l}finally{$t(r)}}function KF(n,e){let t=Qi+e;if(t<n.length)return n[t]}function Zp(n,e){return!e||e.firstChild===null||oF(n)}function b0(n,e,t,i=!0){let r=e[mt];if(Zj(r,e,n,t),i){let o=rC(t,n),a=e[Mn],l=yI(a,n[Ic]);l!==null&&Yj(r,n[zr],a,e,l,o)}let s=e[hd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function YF(n,e){let t=Qp(n,e);return t!==void 0&&f0(t[mt],t),t}function U_(n,e,t,i,r=!1){for(;t!==null;){let s=e[t.index];s!==null&&i.push(ro(s)),Jo(s)&&B$(s,i);let o=t.type;if(o&8)U_(n,e,t.child,i);else if(o&32){let a=_I(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=AF(e,t);if(Array.isArray(a))i.push(...a);else{let l=Yp(e[os]);U_(l[mt],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function B$(n,e){for(let t=Qi;t<n.length;t++){let i=n[t],r=i[mt].firstChild;r!==null&&U_(i[mt],i,r,e)}n[Ic]!==n[Xo]&&e.push(n[Ic])}var QF=[];function z$(n){return n[Cc]??U$(n)}function U$(n){let e=QF.pop()??Object.create(j$);return e.lView=n,e}function H$(n){n.lView[Cc]!==n&&(n.lView=null,QF.push(n))}var j$=ut(ue({},Bp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Kp(n.lView)},consumerOnSignalRead(){this.lView[Cc]=this}}),ZF=100;function XF(n,e=!0,t=0){let i=n[xs],r=i.rendererFactory,s=!1;s||r.begin?.();try{$$(n,t)}catch(o){throw e&&WF(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function $$(n,e){aC(n,e);let t=0;for(;tI(n);){if(t===ZF)throw new ye(103,!1);t++,aC(n,1)}}function G$(n,e,t,i){let r=e[rt];if((r&256)===256)return;let s=!1;!s&&e[xs].inlineEffectRunner?.flush(),oI(e);let o=null,a=null;!s&&W$(n)&&(a=z$(e),o=Bg(a));try{LP(e),NH(n.bindingStartIndex),t!==null&&VF(n,e,t,2,i);let l=(r&3)===3;if(!s)if(l){let h=n.preOrderCheckHooks;h!==null&&T_(e,h,null)}else{let h=n.preOrderHooks;h!==null&&x_(e,h,0,null),Iw(e,0)}if(q$(e),JF(e,0),n.contentQueries!==null&&jF(n,e),!s)if(l){let h=n.contentCheckHooks;h!==null&&T_(e,h)}else{let h=n.contentHooks;h!==null&&x_(e,h,1),Iw(e,1)}d$(n,e);let c=n.components;c!==null&&tL(e,c,0);let u=n.viewQuery;if(u!==null&&oC(2,u,i),!s)if(l){let h=n.viewCheckHooks;h!==null&&T_(e,h)}else{let h=n.viewHooks;h!==null&&x_(e,h,2),Iw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[E_]){for(let h of e[E_])h();e[E_]=null}s||(e[rt]&=-73)}catch(l){throw Kp(e),l}finally{a!==null&&(zg(a,o),H$(a)),aI()}}function W$(n){return n.type!==2}function JF(n,e){for(let t=lF(n);t!==null;t=cF(t))for(let i=Qi;i<t.length;i++){let r=t[i];eL(r,e)}}function q$(n){for(let e=lF(n);e!==null;e=cF(e)){if(!(e[rt]&ZC.HasTransplantedViews))continue;let t=e[fd];for(let i=0;i<t.length;i++){let r=t[i],s=r[Ni];xH(r)}}}function K$(n,e,t){let i=ol(e,n);eL(i,t)}function eL(n,e){eI(n)&&aC(n,e)}function aC(n,e){let i=n[mt],r=n[rt],s=n[Cc],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ug(s)),s&&(s.dirty=!1),n[rt]&=-9217,o)G$(i,n,i.template,n[Yi]);else if(r&8192){JF(n,1);let a=i.components;a!==null&&tL(n,a,1)}}function tL(n,e,t){for(let i=0;i<e.length;i++)K$(n,e[i],t)}function DI(n){for(n[xs].changeDetectionScheduler?.notify();n;){n[rt]|=64;let e=Yp(n);if(_H(n)&&!e)return n;n=e}return null}var Sc=class{get rootNodes(){let e=this._lView,t=e[mt];return U_(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yi]}set context(e){this._lView[Yi]=e}get destroyed(){return(this._lView[rt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ni];if(Jo(e)){let t=e[P_],i=t?t.indexOf(this):-1;i>-1&&(Qp(e,i),k_(t,i))}this._attachedToViewContainer=!1}f0(this._lView[mt],this._lView)}onDestroy(e){NP(this._lView,e)}markForCheck(){DI(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){Ww(this._lView),this._lView[rt]|=128}detectChanges(){this._lView[rt]|=1024,XF(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,TF(this._lView[mt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=e,Ww(this._lView)}},Ds=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Z$;let n=e;return n})(),Y$=Ds,Q$=class extends Y${constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=v0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Sc(r)}};function Z$(){return w0(Ji(),tt())}function w0(n,e){return n.type&4?new Q$(e,n,Ed(n,e)):null}var wTe=new RegExp(`^(\\d+)*(${gj}|${mj})*(.*)`);var X$=()=>null;function Xp(n,e){return X$(n,e)}var gd=class{},lC=class{},H_=class{};function J$(n){let e=Error(`No component factory found for ${fr(n)}.`);return e[eG]=n,e}var eG="ngComponent";var cC=class{resolveComponentFactory(e){throw J$(e)}},C0=(()=>{let e=class e{};e.NULL=new cC;let n=e;return n})(),Dc=class{},Wt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>tG();let n=e;return n})();function tG(){let n=tt(),e=Ji(),t=ol(e.index,n);return(yc(t)?t:n)[Mn]}var nG=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),Dw={};var PO=new Set;function As(n){PO.has(n)||(PO.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function FO(...n){}function iG(){let n=typeof Br.requestAnimationFrame=="function",e=Br[n?"requestAnimationFrame":"setTimeout"],t=Br[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Qe=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Z(!1),this.onMicrotaskEmpty=new Z(!1),this.onStable=new Z(!1),this.onError=new Z(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=iG().nativeRequestAnimationFrame,oG(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ye(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,rG,FO,FO);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},rG={};function MI(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sG(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Br,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uC(n),n.isCheckStableRunning=!0,MI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uC(n))}function oG(n){let e=()=>{sG(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(aG(a))return t.invokeTask(r,s,o,a);try{return LO(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),NO(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return LO(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),NO(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,uC(n),MI(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function uC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NO(n){n._nesting--,MI(n)}function aG(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var od=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(od||{}),lG={destroy(){}};function I0(n,e){!e&&xP(I0);let t=e?.injector??he(ri);if(!jj(t))return lG;As("NgAfterNextRender");let i=t.get(AI),r=i.handler??=new hC,s=e?.phase??od.MixedReadWrite,o=()=>{r.unregister(l),a()},a=t.get(d0).onDestroy(o),l=Ms(t,()=>new dC(s,()=>{o(),n()}));return r.register(l),{destroy:o}}var dC=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=he(Qe),this.errorHandler=he(Ss,{optional:!0}),he(gd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},hC=class{constructor(){this.executingCallbacks=!1,this.buckets={[od.EarlyRead]:new Set,[od.Write]:new Set,[od.MixedReadWrite]:new Set,[od.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},AI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function j_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Nw(r,a);else if(s==2){let l=a,c=e[++o];i=Nw(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var $_=class extends C0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=nl(e);return new _d(t,this.ngModule)}};function VO(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function cG(n){let e=n.toLowerCase();return e==="svg"?OP:e==="math"?wH:null}var pC=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=J_(i);let r=this.injector.get(e,Dw,i);return r!==Dw||t===Dw?r:this.parentInjector.get(e,t,i)}},_d=class extends H_{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=VO(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return VO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=tH(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=$t(null);try{r=r||this.ngModule;let o=r instanceof Zi?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new pC(e,o):e,l=a.get(Dc,null);if(l===null)throw new ye(407,!1);let c=a.get(nG,null),u=a.get(AI,null),h=a.get(gd,null),p={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",w=i?f$(m,i,this.componentDef.encapsulation,a):EF(m,v,cG(v)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let S=null;w!==null&&(S=fI(w,a,!0));let R=II(0,null,null,1,0,null,null,null,null,null,null),V=_0(null,R,null,C,null,null,p,m,a,null,S);oI(V);let z,q;try{let Y=this.componentDef,A,x=null;Y.findHostDirectiveDefs?(A=[],x=new Map,Y.findHostDirectiveDefs(Y,A,x),A.push(Y)):A=[Y];let D=uG(V,w),B=dG(D,w,Y,A,V,p,m);q=JC(R,Xi),w&&fG(m,Y,w,i),t!==void 0&&mG(q,this.ngContentSelectors,t),z=pG(B,Y,A,x,V,[gG]),SI(R,V,null)}finally{aI()}return new fC(this.componentType,z,Ed(q,V),V,q)}finally{$t(s)}}},fC=class extends lC{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Sc(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;xI(s[mt],s,r,e,t),this.previousInputValues.set(e,t);let o=ol(this._tNode.index,s);DI(o)}}get injector(){return new vc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uG(n,e){let t=n[mt],i=Xi;return n[i]=e,Td(t,i,2,"#host",null)}function dG(n,e,t,i,r,s,o){let a=r[mt];hG(i,n,e,o);let l=null;e!==null&&(l=fI(e,r[pd]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=_0(r,BF(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&sC(a,n,i.length-1),y0(r,h),r[n.index]=h}function hG(n,e,t,i){for(let r of n)e.mergedAttrs=$p(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(j_(e,e.mergedAttrs,!0),t!==null&&OF(i,t,e))}function pG(n,e,t,i,r,s){let o=Ji(),a=r[mt],l=as(o,r);zF(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let h=o.directiveStart+u,p=xc(r,a,h,o);rl(p,r)}UF(a,r,o),l&&rl(l,r);let c=xc(r,a,o.directiveStart+o.componentOffset,o);if(n[Yi]=r[Yi]=c,s!==null)for(let u of s)u(c,e);return bI(a,o,r),c}function fG(n,e,t,i){if(i)Uw(n,t,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=nH(e.selectors[0]);r&&Uw(n,t,r),s&&s.length>0&&kF(n,t,s.join(" "))}}function mG(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function gG(){let n=Ji();u0(tt()[mt],n)}var Rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_G;let n=e;return n})();function _G(){let n=Ji();return iL(n,tt())}var yG=Rs,nL=class extends yG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ed(this._hostTNode,this._hostLView)}get injector(){return new vc(this._hostTNode,this._hostLView)}get parentInjector(){let e=lI(this._hostTNode,this._hostLView);if(YP(e)){let t=L_(e,this._hostLView),i=F_(e),r=t[mt].data[i+8];return new vc(r,t)}else return new vc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=BO(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qi}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Xp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Zp(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!gH(e),a;if(o)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?e:new _d(nl(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let w=(o?c:this.parentInjector).get(Zi,null);w&&(s=w)}let u=nl(l.componentType??{}),h=Xp(this._lContainer,u?.id??null),p=h?.firstChild??null,m=l.create(c,r,p,s);return this.insertImpl(m.hostView,a,Zp(this._hostTNode,h)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(TH(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ni],c=new nL(l,l[zr],l[Ni]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return b0(o,r,s,i),e.attachToViewContainerRef(),lP(Mw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=BO(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Qp(this._lContainer,t);i&&(k_(Mw(this._lContainer),t),f0(i[mt],i))}detach(e){let t=this._adjustIndex(e,-1),i=Qp(this._lContainer,t);return i&&k_(Mw(this._lContainer),t)!=null?new Sc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function BO(n){return n[P_]}function Mw(n){return n[P_]||(n[P_]=[])}function iL(n,e){let t,i=e[n.index];return Jo(i)?t=i:(t=HF(i,e,null,n),e[n.index]=t,y0(e,t)),bG(t,e,n,i),new nL(t,n,e)}function vG(n,e){let t=n[Mn],i=t.createComment(""),r=as(e,n),s=yI(t,r);return z_(t,s,i,i$(t,r),!1),i}var bG=IG,wG=()=>!1;function CG(n,e,t){return wG(n,e,t)}function IG(n,e,t,i){if(n[Ic])return;let r;t.type&8?r=ro(i):r=vG(e,t),n[Ic]=r}var mC=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},gC=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)RI(e,t).matches!==null&&this.queries[t].setDirty()}},G_=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=RG(e):this.predicate=e}},_C=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yC=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,EG(t,s)),this.matchTNodeWithReadOption(e,t,S_(t,e,s,!1,!1))}else i===Ds?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,S_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===je||r===Rs||r===Ds&&t.type&4)this.addMatch(t.index,-2);else{let s=S_(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function EG(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function TG(n,e){return n.type&11?Ed(n,e):n.type&4?w0(n,e):null}function xG(n,e,t,i){return t===-1?TG(e,n):t===-2?SG(n,e,i):xc(n,n[mt],t,e)}function SG(n,e,t){if(t===je)return Ed(e,n);if(t===Ds)return w0(e,n);if(t===Rs)return iL(e,n)}function rL(n,e,t,i){let r=e[Qo].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(xG(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function vC(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=rL(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let h=Qi;h<u.length;h++){let p=u[h];p[rf]===p[Ni]&&vC(p[mt],p,c,i)}if(u[fd]!==null){let h=u[fd];for(let p=0;p<h.length;p++){let m=h[p];vC(m[mt],m,c,i)}}}}}return i}function DG(n,e){return n[Qo].queries[e].queryList}function sL(n,e,t){let i=new Jw((t&4)===4);return _$(n,e,i,i.destroy),(e[Qo]??=new gC).queries.push(new mC(i))-1}function MG(n,e,t){let i=Vn();return i.firstCreatePass&&(oL(i,new G_(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),sL(i,tt(),e)}function AG(n,e,t,i){let r=Vn();if(r.firstCreatePass){let s=Ji();oL(r,new G_(e,t,i),s.index),kG(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return sL(r,tt(),t)}function RG(n){return n.split(",").map(e=>e.trim())}function oL(n,e,t){n.queries===null&&(n.queries=new _C),n.queries.track(new yC(e,t))}function kG(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function RI(n,e){return n.queries.getByIndex(e)}function OG(n,e){let t=n[mt],i=RI(t,e);return i.crossesNgTemplate?vC(t,n,e,[]):rL(t,n,i,e)}function PG(n){return typeof n=="function"&&n[Js]!==void 0}function Zt(n,e){As("NgSignals");let t=Ok(n),i=t[Js];return e?.equal&&(i.equal=e.equal),t.set=r=>tw(i,r),t.update=r=>Pk(i,r),t.asReadonly=FG.bind(t),t}function FG(){let n=this[Js];if(n.readonlyFn===void 0){let e=()=>this();e[Js]=n,n.readonlyFn=e}return n.readonlyFn}function aL(n){return PG(n)&&typeof n.set=="function"}function LG(n){return Object.getPrototypeOf(n.prototype).constructor}function Se(n){let e=LG(n.type),t=!0,i=[n];for(;e;){let r;if(il(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ye(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=w_(n.inputs),o.inputTransforms=w_(n.inputTransforms),o.declaredInputs=w_(n.declaredInputs),o.outputs=w_(n.outputs);let a=r.hostBindings;a&&UG(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&BG(n,l),c&&zG(n,c),NG(n,r),bU(n.outputs,r.outputs),il(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Se&&(t=!1)}}e=Object.getPrototypeOf(e)}VG(i)}function NG(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function VG(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=$p(r.hostAttrs,t=$p(t,r.hostAttrs))}}function w_(n){return n===cd?{}:n===Er?[]:n}function BG(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function zG(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function UG(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Ze(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var sl=class{},Jp=class{};var bC=class extends sl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $_(this);let r=yP(e);this._bootstrapComponents=IF(r.bootstrap),this._r3Injector=rF(e,t,[{provide:sl,useValue:this},{provide:C0,useValue:this.componentFactoryResolver},...i],fr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wC=class extends Jp{constructor(e){super(),this.moduleType=e}create(e){return new bC(this.moduleType,e,[])}};var W_=class extends sl{constructor(e){super(),this.componentFactoryResolver=new $_(this),this.instance=null;let t=new Gp([...e.providers,{provide:sl,useValue:this},{provide:C0,useValue:this.componentFactoryResolver}],e.parent||QC(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function E0(n,e,t=null){return new W_({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Oc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lL(n){return kI(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function HG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function kI(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function na(n,e,t){return n[e]=t}function T0(n,e){return n[e]}function Tr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function yd(n,e,t,i){let r=Tr(n,e,t);return Tr(n,e+1,i)||r}function cL(n,e,t,i,r){let s=yd(n,e,t,i);return Tr(n,e+2,r)||s}function x0(n,e,t,i,r,s){let o=yd(n,e,t,i);return yd(n,e+2,r,s)||o}function jG(n){return(n.flags&32)===32}function $G(n,e,t,i,r,s,o,a,l){let c=e.consts,u=Td(e,n,4,o||null,md(c,a));TI(e,t,u,md(c,l)),u0(e,u);let h=u.tView=II(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function T(n,e,t,i,r,s,o,a){let l=tt(),c=Vn(),u=n+Xi,h=c.firstCreatePass?$G(u,c,l,e,t,i,r,s,o):c.data[u];Ac(h,!1);let p=GG(c,l,h,n);l0()&&m0(c,l,p,h),rl(p,l);let m=HF(p,l,p,h);return l[u]=m,y0(l,m),CG(m,h,l),o0(h)&&wI(c,l,h),o!=null&&CI(l,h,a),T}var GG=WG;function WG(n,e,t,i){return c0(!0),e[Mn].createComment("")}function N(n,e,t,i){let r=tt(),s=Id();if(Tr(r,s,e)){let o=Vn(),a=a0();k$(a,r,n,e,t,i)}return N}function uL(n,e,t,i){return Tr(n,Id(),t)?e+bc(t)+i:Ur}function qG(n,e,t,i,r,s){let o=LH(),a=yd(n,o,t,r);return rI(2),a?e+bc(t)+i+bc(r)+s:Ur}function C_(n,e){return n<<17|e<<2}function Mc(n){return n>>17&32767}function KG(n){return(n&2)==2}function YG(n,e){return n&131071|e<<17}function CC(n){return n|2}function vd(n){return(n&131068)>>2}function Aw(n,e){return n&-131069|e<<2}function QG(n){return(n&1)===1}function IC(n){return n|1}function ZG(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Mc(o),l=vd(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||nf(h,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let p=Mc(n[a+1]);n[i+1]=C_(p,a),p!==0&&(n[p+1]=Aw(n[p+1],i)),n[a+1]=YG(n[a+1],i)}else n[i+1]=C_(a,0),a!==0&&(n[a+1]=Aw(n[a+1],i)),a=i;else n[i+1]=C_(l,0),a===0?a=i:n[l+1]=Aw(n[l+1],i),l=i;c&&(n[i+1]=CC(n[i+1])),zO(n,u,i,!0),zO(n,u,i,!1),XG(e,u,n,i,s),o=C_(a,l),s?e.classBindings=o:e.styleBindings=o}function XG(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&nf(s,e)>=0&&(t[i+1]=IC(t[i+1]))}function zO(n,e,t,i){let r=n[t+1],s=e===null,o=i?Mc(r):vd(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];JG(l,e)&&(a=!0,n[o+1]=i?IC(c):CC(c)),o=i?Mc(c):vd(c)}a&&(n[t+1]=i?CC(r):IC(r))}function JG(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?nf(n,e)>=0:!1}var mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dL(n){return n.substring(mi.key,mi.keyEnd)}function eW(n){return n.substring(mi.value,mi.valueEnd)}function tW(n){return fL(n),hL(n,bd(n,0,mi.textEnd))}function hL(n,e){let t=mi.textEnd;return t===e?-1:(e=mi.keyEnd=iW(n,mi.key=e,t),bd(n,e,t))}function nW(n){return fL(n),pL(n,bd(n,0,mi.textEnd))}function pL(n,e){let t=mi.textEnd,i=mi.key=bd(n,e,t);return t===i?-1:(i=mi.keyEnd=rW(n,i,t),i=UO(n,i,t,58),i=mi.value=bd(n,i,t),i=mi.valueEnd=sW(n,i,t),UO(n,i,t,59))}function fL(n){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=n.length}function bd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function iW(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function rW(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function UO(n,e,t,i){return e=bd(n,e,t),e<t&&e++,e}function sW(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=HO(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=HO(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function HO(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function f(n,e,t){let i=tt(),r=Id();if(Tr(i,r,e)){let s=Vn(),o=a0();EI(s,o,i,n,e,i[Mn],t,!1)}return f}function EC(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";xI(n,t,s[o],o,i)}function Pc(n,e,t){return mL(n,e,t,!1),Pc}function Bn(n,e){return mL(n,e,null,!0),Bn}function ks(n){gL(vL,oW,n,!1)}function oW(n,e){for(let t=nW(e);t>=0;t=pL(e,t))vL(n,dL(e),eW(e))}function ne(n){gL(pW,aW,n,!0)}function aW(n,e){for(let t=tW(e);t>=0;t=hL(e,t))t0(n,dL(e),!0)}function mL(n,e,t,i){let r=tt(),s=Vn(),o=rI(2);if(s.firstUpdatePass&&yL(s,n,o,i),e!==Ur&&Tr(r,o,e)){let a=s.data[ea()];bL(s,a,r,r[Mn],n,r[o+1]=mW(e,t),i,o)}}function gL(n,e,t,i){let r=Vn(),s=rI(2);r.firstUpdatePass&&yL(r,null,s,i);let o=tt();if(t!==Ur&&Tr(o,s,t)){let a=r.data[ea()];if(wL(a,i)&&!_L(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Nw(l,t||"")),EC(r,a,o,t,i)}else fW(r,a,o,o[Mn],o[s+1],o[s+1]=hW(n,e,t),i,s)}}function _L(n,e){return e>=n.expandoStartIndex}function yL(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[ea()],o=_L(n,t);wL(s,i)&&e===null&&!o&&(e=!1),e=lW(r,s,e,i),ZG(r,s,e,t,o,i)}}function lW(n,e,t,i){let r=UH(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Rw(null,n,e,t,i),t=ef(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Rw(r,n,e,t,i),s===null){let l=cW(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Rw(null,n,e,l[1],i),l=ef(l,e.attrs,i),uW(n,e,i,l))}else s=dW(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function cW(n,e,t){let i=t?e.classBindings:e.styleBindings;if(vd(i)!==0)return n[Mc(i)]}function uW(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Mc(r)]=i}function dW(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=ef(i,o,t)}return ef(i,e.attrs,t)}function Rw(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=ef(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function ef(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),t0(n,o,t?!0:e[++s]))}return n===void 0?null:n}function hW(n,e,t){if(t==null||t==="")return Er;let i=[],r=al(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function vL(n,e,t){t0(n,e,al(t))}function pW(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&t0(n,i,t)}function fW(n,e,t,i,r,s,o,a){r===Ur&&(r=Er);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let p=l<r.length?r[l+1]:void 0,m=c<s.length?s[c+1]:void 0,v=null,w;u===h?(l+=2,c+=2,p!==m&&(v=h,w=m)):h===null||u!==null&&u<h?(l+=2,v=u):(c+=2,v=h,w=m),v!==null&&bL(n,e,t,i,v,w,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function bL(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=QG(c)?jO(l,e,t,r,vd(c),o):void 0;if(!q_(u)){q_(s)||KG(c)&&(s=jO(l,null,t,r,a,o));let h=PP(ea(),t);c$(i,o,h,r,s)}}function jO(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=u===null,p=t[r+1];p===Ur&&(p=h?Er:void 0);let m=h?ww(p,i):u===i?p:void 0;if(c&&!q_(m)&&(m=ww(l,i)),q_(m)&&(a=m,o))return a;let v=n[r+1];r=o?Mc(v):vd(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=ww(l,i))}return a}function q_(n){return n!==void 0}function mW(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fr(al(n)))),n}function wL(n,e){return(n.flags&(e?8:16))!==0}var TC=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function kw(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function gW(n,e,t){let i,r,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let l=n.at(s),c=e[s],u=kw(s,l,s,c,t);if(u!==0){u<0&&n.updateValue(s,c),s++;continue}let h=n.at(o),p=e[a],m=kw(o,h,a,p,t);if(m!==0){m<0&&n.updateValue(o,p),o--,a--;continue}let v=t(s,l),w=t(o,h),C=t(s,c);if(Object.is(C,w)){let S=t(a,p);Object.is(S,v)?(n.swap(s,o),n.updateValue(o,p),a--,o--):n.move(o,s),n.updateValue(s,c),s++;continue}if(i??=new K_,r??=GO(n,s,o,t),xC(n,i,s,C))n.updateValue(s,c),s++,o++;else if(r.has(C))i.set(v,n.detach(s)),o--;else{let S=n.create(s,e[s]);n.attach(s,S),s++,o++}}for(;s<=a;)$O(n,i,t,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&s<=o;){let c=n.at(s),u=l.value,h=kw(s,c,s,u,t);if(h!==0)h<0&&n.updateValue(s,u),s++,l=a.next();else{i??=new K_,r??=GO(n,s,o,t);let p=t(s,u);if(xC(n,i,s,p))n.updateValue(s,u),s++,o++,l=a.next();else if(!r.has(p))n.attach(s,n.create(s,u)),s++,o++,l=a.next();else{let m=t(s,c);i.set(m,n.detach(s)),o--}}}for(;!l.done;)$O(n,i,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(a=>{n.destroy(a)})}function xC(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function $O(n,e,t,i,r){if(xC(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function GO(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var K_=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function mr(n,e,t){As("NgControlFlow");let i=tt(),r=Id(),s=AC(i,Xi+n),o=0;if(Tr(i,r,e)){let a=$t(null);try{if(YF(s,o),e!==-1){let l=RC(i[mt],Xi+e),c=Xp(s,l.tView.ssrId),u=v0(i,l,t,{dehydratedView:c});b0(s,u,o,Zp(l,c))}}finally{$t(a)}}else{let a=KF(s,o);a!==void 0&&(a[Yi]=t)}}var SC=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Qi}};var DC=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function CL(n,e,t,i,r,s,o,a,l,c,u,h,p){As("NgControlFlow");let m=l!==void 0,v=tt(),w=a?o.bind(v[os][Yi]):o,C=new DC(m,w);v[Xi+n]=C,T(n+1,e,t,i,r,s),m&&T(n+2,l,c,u,h,p)}var MC=class extends TC{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Qi}at(e){return this.getLView(e)[Yi].$implicit}attach(e,t){let i=t[hd];this.needsIndexUpdate||=e!==this.length,b0(this.lContainer,t,e,Zp(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,_W(this.lContainer,e)}create(e,t){let i=Xp(this.lContainer,this.templateTNode.tView.ssrId);return v0(this.hostLView,this.templateTNode,new SC(this.lContainer,t,e),{dehydratedView:i})}destroy(e){f0(e[mt],e)}updateValue(e,t){this.getLView(e)[Yi].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Yi].$index=e}getLView(e){return yW(this.lContainer,e)}};function IL(n){let e=$t(null),t=ea();try{let i=tt(),r=i[mt],s=i[t];if(s.liveCollection===void 0){let a=t+1,l=AC(i,a),c=RC(r,a);s.liveCollection=new MC(l,i,c)}else s.liveCollection.reset();let o=s.liveCollection;if(gW(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Id(),l=o.length===0;if(Tr(i,a,l)){let c=t+2,u=AC(i,c);if(l){let h=RC(r,c),p=Xp(u,h.tView.ssrId),m=v0(i,h,void 0,{dehydratedView:p});b0(u,m,0,Zp(h,p))}else YF(u,0)}}}finally{$t(e)}}function AC(n,e){return n[e]}function _W(n,e){return Qp(n,e)}function yW(n,e){return KF(n,e)}function RC(n,e){return JC(n,e)}function vW(n,e,t,i,r,s){let o=e.consts,a=md(o,r),l=Td(e,n,2,i,a);return TI(e,t,l,md(o,s)),l.attrs!==null&&j_(l,l.attrs,!1),l.mergedAttrs!==null&&j_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function I(n,e,t,i){let r=tt(),s=Vn(),o=Xi+n,a=r[Mn],l=s.firstCreatePass?vW(o,s,r,e,t,i):s.data[o],c=bW(s,r,l,a,e,n);r[o]=c;let u=o0(l);return Ac(l,!0),OF(a,c,l),!jG(l)&&l0()&&m0(s,r,c,l),MH()===0&&rl(c,r),AH(),u&&(wI(s,r,l),bI(s,l,r)),i!==null&&CI(r,l),I}function E(){let n=Ji();nI()?iI():(n=n.parent,Ac(n,!1));let e=n;kH(e)&&OH(),RH();let t=Vn();return t.firstCreatePass&&(u0(t,n),XC(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&KH(e)&&EC(t,e,tt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YH(e)&&EC(t,e,tt(),e.stylesWithoutHost,!1),E}function $(n,e,t,i){return I(n,e,t,i),E(),$}var bW=(n,e,t,i,r,s)=>(c0(!0),EF(i,r,$H()));function wW(n,e,t,i,r){let s=e.consts,o=md(s,i),a=Td(e,n,8,"ng-container",o);o!==null&&j_(a,o,!0);let l=md(s,r);return TI(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function re(n,e,t){let i=tt(),r=Vn(),s=n+Xi,o=r.firstCreatePass?wW(s,r,i,e,t):r.data[s];Ac(o,!0);let a=CW(r,i,o,n);return i[s]=a,l0()&&m0(r,i,a,o),rl(a,i),o0(o)&&(wI(r,i,o),bI(r,o,i)),t!=null&&CI(i,o),re}function se(){let n=Ji(),e=Vn();return nI()?iI():(n=n.parent,Ac(n,!1)),e.firstCreatePass&&(u0(e,n),XC(n)&&e.queries.elementEnd(n)),se}function de(n,e,t){return re(n,e,t),se(),de}var CW=(n,e,t,i)=>(c0(!0),qj(e[Mn],""));function le(){return tt()}var _c=void 0;function IW(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var EW=["en",[["a","p"],["AM","PM"],_c],[["AM","PM"],_c,_c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_c,"{1} 'at' {0}",_c],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",IW],Ow={};function ls(n){let e=TW(n),t=WO(e);if(t)return t;let i=e.split("-")[0];if(t=WO(i),t)return t;if(i==="en")return EW;throw new ye(701,!1)}function WO(n){return n in Ow||(Ow[n]=Br.ng&&Br.ng.common&&Br.ng.common.locales&&Br.ng.common.locales[n]),Ow[n]}var Yn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Yn||{});function TW(n){return n.toLowerCase().replace(/_/g,"-")}var Y_="en-US";var xW=Y_;function SW(n){typeof n=="string"&&(xW=n.toLowerCase().replace(/_/g,"-"))}function Q(n,e,t,i){let r=tt(),s=Vn(),o=Ji();return EL(s,r,r[Mn],o,n,e,i),Q}function DW(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Wp],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function EL(n,e,t,i,r,s,o){let a=o0(i),c=n.firstCreatePass&&GF(n),u=e[Yi],h=$F(e),p=!0;if(i.type&3||o){let w=as(i,e),C=o?o(w):w,S=h.length,R=o?z=>o(ro(z[i.index])):i.index,V=null;if(!o&&a&&(V=DW(n,e,r,i.index)),V!==null){let z=V.__ngLastListenerFn__||V;z.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,p=!1}else{s=KO(i,e,u,s,!1);let z=t.listen(C,r,s);h.push(s,z),c&&c.push(r,R,S,S+1)}}else s=KO(i,e,u,s,!1);let m=i.outputs,v;if(p&&m!==null&&(v=m[r])){let w=v.length;if(w)for(let C=0;C<w;C+=2){let S=v[C],R=v[C+1],q=e[S][R].subscribe(s),Y=h.length;h.push(s,q),c&&c.push(r,i.index,Y,-(Y+1))}}}function qO(n,e,t,i){let r=$t(null);try{return to(6,e,t),t(i)!==!1}catch(s){return WF(n,s),!1}finally{to(7,e,t),$t(r)}}function KO(n,e,t,i,r){return function s(o){if(o===Function)return i;let a=n.componentOffset>-1?ol(n.index,e):e;DI(a);let l=qO(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=qO(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function _(n=1){return jH(n)}function MW(n,e){let t=null,i=QU(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?fP(n,s,!0):JU(i,s))return r}return t}function _n(n){let e=tt()[os][zr];if(!e.projection){let t=n?n.length:1,i=e.projection=UU(t,null),r=i.slice(),s=e.child;for(;s!==null;){let o=n?MW(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function nn(n,e=0,t){let i=tt(),r=Vn(),s=Td(r,Xi+n,16,null,t||null);s.projection===null&&(s.projection=e),iI(),(!i[hd]||BP())&&(s.flags&32)!==32&&a$(r,i,s)}function OI(n,e,t){return TL(n,"",e,"",t),OI}function TL(n,e,t,i,r){let s=tt(),o=uL(s,e,t,i);if(o!==Ur){let a=Vn(),l=a0();EI(a,l,s,n,o,s[Mn],r,!1)}return TL}function dt(n,e,t,i){AG(n,e,t,i)}function Ve(n,e,t){MG(n,e,t)}function me(n){let e=tt(),t=Vn(),i=UP();sI(i+1);let r=RI(t,i);if(n.dirty&&EH(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=OG(e,i);n.reset(s,lj),n.notifyOnChanges()}return!0}return!1}function ge(){return DG(tt(),UP())}function AW(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function ct(n){let e=FH();return FP(e,Xi+n)}function ie(n,e=""){let t=tt(),i=Vn(),r=n+Xi,s=i.firstCreatePass?Td(i,r,1,e,null):i.data[r],o=RW(i,t,s,e,n);t[r]=o,l0()&&m0(i,t,o,s),Ac(s,!1)}var RW=(n,e,t,i,r)=>(c0(!0),Gj(e[Mn],i));function Ue(n){return zt("",n,""),Ue}function zt(n,e,t){let i=tt(),r=uL(i,n,e,t);return r!==Ur&&qF(i,ea(),r),zt}function PI(n,e,t,i,r){let s=tt(),o=qG(s,n,e,t,i,r);return o!==Ur&&qF(s,ea(),o),PI}function Ii(n,e,t){aL(e)&&(e=e());let i=tt(),r=Id();if(Tr(i,r,e)){let s=Vn(),o=a0();EI(s,o,i,n,e,i[Mn],t,!1)}return Ii}function Bi(n,e){let t=aL(n);return t&&n.set(e),t}function Ei(n,e){let t=tt(),i=Vn(),r=Ji();return EL(i,t,t[Mn],r,n,e),Ei}function kW(n,e,t){let i=Vn();if(i.firstCreatePass){let r=il(n);kC(t,i.data,i.blueprint,r,!0),kC(e,i.data,i.blueprint,r,!1)}}function kC(n,e,t,i,r){if(n=pr(n),Array.isArray(n))for(let s=0;s<n.length;s++)kC(n[s],e,t,i,r);else{let s=Vn(),o=tt(),a=Ji(),l=dd(n)?n:pr(n.provide),c=EP(n),u=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(dd(n)||!n.multi){let m=new Tc(c,r,j),v=Fw(l,e,r?u:u+p,h);v===-1?(Yw(V_(a,o),s,l),Pw(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),o.push(m)):(t[v]=m,o[v]=m)}else{let m=Fw(l,e,u+p,h),v=Fw(l,e,u,u+p),w=m>=0&&t[m],C=v>=0&&t[v];if(r&&!C||!r&&!w){Yw(V_(a,o),s,l);let S=FW(r?PW:OW,t.length,r,i,c);!r&&C&&(t[v].providerFactory=S),Pw(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),o.push(S)}else{let S=xL(t[r?v:m],c,!r&&i);Pw(s,n,m>-1?m:v,S)}!r&&i&&C&&t[v].componentProviders++}}}function Pw(n,e,t,i){let r=dd(e),s=cH(e);if(r||s){let l=(s?pr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function xL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function OW(n,e,t,i){return OC(this.multi,[])}function PW(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=xc(t,t[mt],this.providerFactory.index,i);s=a.slice(0,o),OC(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],OC(r,s);return s}function OC(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function FW(n,e,t,i,r){let s=new Tc(n,t,j);return s.multi=[],s.index=e,s.componentProviders=0,xL(s,r,i&&!t),s}function dn(n,e=[]){return t=>{t.providersResolver=(i,r)=>kW(i,r?r(n):n,e)}}var LW=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=wP(!1,i.type),s=r.length>0?E0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=xe({token:e,providedIn:"environment",factory:()=>new e(Ne(Zi))});let n=e;return n})();function _e(n){As("NgStandalone"),n.getStandaloneInjector=e=>e.get(LW).getOrCreateStandaloneInjector(n)}function Jt(n,e,t){let i=oo()+n,r=tt();return r[i]===Ur?na(r,i,t?e.call(t):e()):T0(r,i)}function Ce(n,e,t,i){return NW(tt(),oo(),n,e,t,i)}function Lt(n,e,t,i,r){return SL(tt(),oo(),n,e,t,i,r)}function En(n,e,t,i,r,s){return VW(tt(),oo(),n,e,t,i,r,s)}function Fc(n,e,t,i,r,s,o){return BW(tt(),oo(),n,e,t,i,r,s,o)}function xd(n,e,t,i,r,s,o,a){let l=oo()+n,c=tt(),u=x0(c,l,t,i,r,s);return Tr(c,l+4,o)||u?na(c,l+5,a?e.call(a,t,i,r,s,o):e(t,i,r,s,o)):T0(c,l+5)}function Lc(n,e,t,i,r,s,o,a,l){let c=oo()+n,u=tt(),h=x0(u,c,t,i,r,s);return yd(u,c+4,o,a)||h?na(u,c+6,l?e.call(l,t,i,r,s,o,a):e(t,i,r,s,o,a)):T0(u,c+6)}function S0(n,e,t,i,r,s,o,a,l,c){let u=oo()+n,h=tt(),p=x0(h,u,t,i,r,s);return cL(h,u+4,o,a,l)||p?na(h,u+7,c?e.call(c,t,i,r,s,o,a,l):e(t,i,r,s,o,a,l)):T0(h,u+7)}function af(n,e,t,i){return zW(tt(),oo(),n,e,t,i)}function lf(n,e){let t=n[e];return t===Ur?void 0:t}function NW(n,e,t,i,r,s){let o=e+t;return Tr(n,o,r)?na(n,o+1,s?i.call(s,r):i(r)):lf(n,o+1)}function SL(n,e,t,i,r,s,o){let a=e+t;return yd(n,a,r,s)?na(n,a+2,o?i.call(o,r,s):i(r,s)):lf(n,a+2)}function VW(n,e,t,i,r,s,o,a){let l=e+t;return cL(n,l,r,s,o)?na(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):lf(n,l+3)}function BW(n,e,t,i,r,s,o,a,l){let c=e+t;return x0(n,c,r,s,o,a)?na(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):lf(n,c+4)}function zW(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Tr(n,o++,r[l])&&(a=!0);return a?na(n,o,i.apply(s,r)):lf(n,o)}function zi(n,e){let t=Vn(),i,r=n+Xi;t.firstCreatePass?(i=UW(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=wc(i.type,!0)),o,a=Ir(j);try{let l=N_(!1),c=s();return N_(l),AW(t,tt(),r,c),c}finally{Ir(a)}}function UW(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Ui(n,e,t,i){let r=n+Xi,s=tt(),o=FP(s,r);return HW(s,r)?SL(s,oo(),e,o.transform,t,i,o):o.transform(t,i)}function HW(n,e){return n[mt].data[e].pure}function qt(n,e){return w0(n,e)}var Zo=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},DL=new Zo("17.3.11"),D0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var ML=new Be("");function Nc(n){return!!n&&typeof n.then=="function"}function AL(n){return!!n&&typeof n.subscribe=="function"}var M0=new Be(""),RL=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=he(M0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Nc(o))i.push(o);else if(AL(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cf=new Be("");function jW(){kk(()=>{throw new ye(600,!1)})}function $W(n){return n.isBoundToModule}function GW(n,e,t){try{let i=t();return Nc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Sd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(sF),this.afterRenderEffectManager=he(AI),this.externalTestViews=new Set,this.beforeRender=new pn,this.afterTick=new pn,this.componentTypes=[],this.components=[],this.isStable=he(Oc).hasPendingTasks.pipe(ft(i=>!i)),this._injector=he(Zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof H_;if(!this._injector.get(RL).done){let m=!s&&_P(i),v=!1;throw new ye(405,v)}let a;s?a=i:a=this._injector.get(C0).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=$W(a)?void 0:this._injector.get(sl),c=r||a.selector,u=a.create(ri.NULL,[],c,l),h=u.location.nativeElement,p=u.injector.get(ML,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Lw(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new ye(101,!1);let r=$t(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,$t(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===ZF)throw new ye(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)WW(a,o,l)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>PC(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>PC(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Lw(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(cf,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Lw(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ye(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Lw(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WW(n,e,t){!e&&!PC(n)||qW(n,t,e)}function PC(n){return tI(n)}function qW(n,e,t){let i;t?(i=0,n[rt]|=1024):n[rt]&64?i=0:i=1,XF(n,e,i)}var FC=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},A0=(()=>{let e=class e{compileModuleSync(i){return new wC(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=yP(i),o=IF(s.declarations).reduce((a,l)=>{let c=nl(l);return c&&a.push(new _d(c)),a},[]);return new FC(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var KW=(()=>{let e=class e{constructor(){this.zone=he(Qe),this.applicationRef=he(Sd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function YW(n){return[{provide:Qe,useFactory:n},{provide:ud,multi:!0,useFactory:()=>{let e=he(KW,{optional:!0});return()=>e.initialize()}},{provide:ud,multi:!0,useFactory:()=>{let e=he(JW);return()=>{e.initialize()}}},{provide:sF,useFactory:QW}]}function QW(){let n=he(Qe),e=he(Ss);return t=>n.runOutsideAngular(()=>e.handleError(t))}function ZW(n){let e=YW(()=>new Qe(XW(n)));return wd([[],e])}function XW(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var JW=(()=>{let e=class e{constructor(){this.subscription=new Kn,this.initialized=!1,this.zone=he(Qe),this.pendingTasks=he(Oc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function eq(){return typeof $localize<"u"&&$localize.locale||Y_}var R0=new Be("",{providedIn:"root",factory:()=>he(R0,Ft.Optional|Ft.SkipSelf)||eq()});var kL=new Be("");var M_=null;function tq(n=[],e){return ri.create({name:e,providers:[{provide:i0,useValue:"platform"},{provide:kL,useValue:new Set([()=>M_=null])},...n]})}function nq(n=[]){if(M_)return M_;let e=tq(n);return M_=e,jW(),iq(e),e}function iq(n){n.get(dI,null)?.forEach(t=>t())}var Je=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rq;let n=e;return n})();function rq(n){return sq(Ji(),tt(),(n&16)===16)}function sq(n,e,t){if(s0(n)&&!t){let i=ol(n.index,e);return new Sc(i,i)}else if(n.type&47){let i=e[os];return new Sc(i,e)}return null}var LC=class{constructor(){}supports(e){return lL(e)}create(e){return new NC(e)}},oq=(n,e)=>e,NC=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oq}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<YO(i,r,s)?t:i,a=YO(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let p=0;p<c;p++){let m=p<s.length?s[p]:s[p]=0,v=m+p;u<=v&&v<c&&(s[p]=m+1)}let h=o.previousIndex;s[h]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!lL(e))throw new ye(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,HG(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new VC(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Q_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Q_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},VC=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},BC=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Q_=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new BC,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var zC=class{constructor(){}supports(e){return e instanceof Map||kI(e)}create(){return new UC}},UC=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||kI(e)))throw new ye(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new HC(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},HC=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function QO(){return new FI([new LC])}var FI=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||QO()),deps:[[e,new e0,new Vi]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new ye(901,!1)}};e.\u0275prov=xe({token:e,providedIn:"root",factory:QO});let n=e;return n})();function ZO(){return new LI([new zC])}var LI=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ZO()),deps:[[e,new e0,new Vi]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new ye(901,!1)}};e.\u0275prov=xe({token:e,providedIn:"root",factory:ZO});let n=e;return n})();function OL(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=nq(i),s=[ZW(),...t||[]],a=new W_({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Qe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Ss,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:m=>{c.handleError(m)}})});let h=()=>a.destroy(),p=r.get(kL);return p.add(h),a.onDestroy(()=>{u.unsubscribe(),p.delete(h)}),GW(c,l,()=>{let m=a.get(RL);return m.runInitializers(),m.donePromise.then(()=>{let v=a.get(R0,Y_);SW(v||Y_);let w=a.get(Sd);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}function W(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Le(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function ao(n,e){As("NgSignals");let t=Mk(n);return e?.equal&&(t[Js].equal=e.equal),t}var aq=new Be("",{providedIn:"root",factory:()=>he(lq)}),lq=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>new jC});let n=e;return n})(),jC=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=he(Oc),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},$C=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=Lk(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Ss,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function uf(n,e){As("NgSignals"),!e?.injector&&xP(uf);let t=e?.injector??he(ri),i=e?.manualCleanup!==!0?t.get(d0):null,r=new $C(t.get(aq),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(Je,null,{optional:!0});return!s||!(s._lView[rt]&8)?r.watcher.notify():(s._lView[E_]??=[]).push(r.watcher.notify),r}function PL(n){let e=nl(n);if(!e)return null;let t=new _d(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UL=null;function oa(){return UL}function HL(n){UL??=n}var z0=class{};var ht=new Be(""),GI=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(cq),providedIn:"platform"});let n=e;return n})(),jL=new Be(""),cq=(()=>{let e=class e extends GI{constructor(){super(),this._doc=he(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oa().getBaseHref(this._doc)}onPopState(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function WI(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function FL(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ra(n){return n&&n[0]!=="?"?"?"+n:n}var aa=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(qI),providedIn:"root"});let n=e;return n})(),$L=new Be(""),qI=(()=>{let e=class e extends aa{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??he(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return WI(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ra(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ra(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ra(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Ne(GI),Ne($L,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),GL=(()=>{let e=class e extends aa{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=WI(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ra(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ra(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Ne(GI),Ne($L,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),Md=(()=>{let e=class e{constructor(i){this._subject=new Z,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=hq(FL(LL(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ra(r))}normalize(i){return e.stripTrailingSlash(dq(this._basePath,LL(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ra(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ra(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ra,e.joinWithSlash=WI,e.stripTrailingSlash=FL,e.\u0275fac=function(r){return new(r||e)(Ne(aa))},e.\u0275prov=xe({token:e,factory:()=>uq(),providedIn:"root"});let n=e;return n})();function uq(){return new Md(Ne(aa))}function dq(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function LL(n){return n.replace(/\/index.html$/,"")}function hq(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(gr||{}),yn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(yn||{}),Hr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Hr||{}),ll={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function pq(n){return ls(n)[Yn.LocaleId]}function fq(n,e,t){let i=ls(n),r=[i[Yn.DayPeriodsFormat],i[Yn.DayPeriodsStandalone]],s=cs(r,e);return cs(s,t)}function mq(n,e,t){let i=ls(n),r=[i[Yn.DaysFormat],i[Yn.DaysStandalone]],s=cs(r,e);return cs(s,t)}function gq(n,e,t){let i=ls(n),r=[i[Yn.MonthsFormat],i[Yn.MonthsStandalone]],s=cs(r,e);return cs(s,t)}function _q(n,e){let i=ls(n)[Yn.Eras];return cs(i,e)}function k0(n,e){let t=ls(n);return cs(t[Yn.DateFormat],e)}function O0(n,e){let t=ls(n);return cs(t[Yn.TimeFormat],e)}function P0(n,e){let i=ls(n)[Yn.DateTimeFormat];return cs(i,e)}function H0(n,e){let t=ls(n),i=t[Yn.NumberSymbols][e];if(typeof i>"u"){if(e===ll.CurrencyDecimal)return t[Yn.NumberSymbols][ll.Decimal];if(e===ll.CurrencyGroup)return t[Yn.NumberSymbols][ll.Group]}return i}function WL(n){if(!n[Yn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Yn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yq(n){let e=ls(n);return WL(e),(e[Yn.ExtraData][2]||[]).map(i=>typeof i=="string"?NI(i):[NI(i[0]),NI(i[1])])}function vq(n,e,t){let i=ls(n);WL(i);let r=[i[Yn.ExtraData][0],i[Yn.ExtraData][1]],s=cs(r,e)||[];return cs(s,t)||[]}function cs(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function NI(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var bq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F0={},wq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,sa=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sa||{}),sn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(sn||{}),rn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(rn||{});function Cq(n,e,t,i){let r=Rq(n);e=ia(t,e)||e;let o=[],a;for(;e;)if(a=wq.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=KL(i,l),r=Aq(r,i,!0));let c="";return o.forEach(u=>{let h=Dq(u);c+=h?h(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function U0(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ia(n,e){let t=pq(n);if(F0[t]??={},F0[t][e])return F0[t][e];let i="";switch(e){case"shortDate":i=k0(n,Hr.Short);break;case"mediumDate":i=k0(n,Hr.Medium);break;case"longDate":i=k0(n,Hr.Long);break;case"fullDate":i=k0(n,Hr.Full);break;case"shortTime":i=O0(n,Hr.Short);break;case"mediumTime":i=O0(n,Hr.Medium);break;case"longTime":i=O0(n,Hr.Long);break;case"fullTime":i=O0(n,Hr.Full);break;case"short":let r=ia(n,"shortTime"),s=ia(n,"shortDate");i=L0(P0(n,Hr.Short),[r,s]);break;case"medium":let o=ia(n,"mediumTime"),a=ia(n,"mediumDate");i=L0(P0(n,Hr.Medium),[o,a]);break;case"long":let l=ia(n,"longTime"),c=ia(n,"longDate");i=L0(P0(n,Hr.Long),[l,c]);break;case"full":let u=ia(n,"fullTime"),h=ia(n,"fullDate");i=L0(P0(n,Hr.Full),[u,h]);break}return i&&(F0[t][e]=i),i}function L0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Os(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Iq(n,e){return Os(n,3).substring(0,e)}function si(n,e,t=0,i=!1,r=!1){return function(s,o){let a=Eq(n,s);if((t>0||a>-t)&&(a+=t),n===sn.Hours)a===0&&t===-12&&(a=12);else if(n===sn.FractionalSeconds)return Iq(a,e);let l=H0(o,ll.MinusSign);return Os(a,e,l,i,r)}}function Eq(n,e){switch(n){case sn.FullYear:return e.getFullYear();case sn.Month:return e.getMonth();case sn.Date:return e.getDate();case sn.Hours:return e.getHours();case sn.Minutes:return e.getMinutes();case sn.Seconds:return e.getSeconds();case sn.FractionalSeconds:return e.getMilliseconds();case sn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function bn(n,e,t=gr.Format,i=!1){return function(r,s){return Tq(r,s,n,e,t,i)}}function Tq(n,e,t,i,r,s){switch(t){case rn.Months:return gq(e,r,i)[n.getMonth()];case rn.Days:return mq(e,r,i)[n.getDay()];case rn.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=yq(e),u=vq(e,r,i),h=c.findIndex(p=>{if(Array.isArray(p)){let[m,v]=p,w=o>=m.hours&&a>=m.minutes,C=o<v.hours||o===v.hours&&a<v.minutes;if(m.hours<v.hours){if(w&&C)return!0}else if(w||C)return!0}else if(p.hours===o&&p.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return fq(e,r,i)[o<12?0:1];case rn.Eras:return _q(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function N0(n){return function(e,t,i){let r=-1*i,s=H0(t,ll.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sa.Short:return(r>=0?"+":"")+Os(o,2,s)+Os(Math.abs(r%60),2,s);case sa.ShortGMT:return"GMT"+(r>=0?"+":"")+Os(o,1,s);case sa.Long:return"GMT"+(r>=0?"+":"")+Os(o,2,s)+":"+Os(Math.abs(r%60),2,s);case sa.Extended:return i===0?"Z":(r>=0?"+":"")+Os(o,2,s)+":"+Os(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var xq=0,B0=4;function Sq(n){let e=U0(n,xq,1).getDay();return U0(n,0,1+(e<=B0?B0:B0+7)-e)}function qL(n){let e=n.getDay(),t=e===0?-3:B0-e;return U0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function VI(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=qL(t),o=Sq(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Os(r,n,H0(i,ll.MinusSign))}}function V0(n,e=!1){return function(t,i){let s=qL(t).getFullYear();return Os(s,n,H0(i,ll.MinusSign),e)}}var BI={};function Dq(n){if(BI[n])return BI[n];let e;switch(n){case"G":case"GG":case"GGG":e=bn(rn.Eras,yn.Abbreviated);break;case"GGGG":e=bn(rn.Eras,yn.Wide);break;case"GGGGG":e=bn(rn.Eras,yn.Narrow);break;case"y":e=si(sn.FullYear,1,0,!1,!0);break;case"yy":e=si(sn.FullYear,2,0,!0,!0);break;case"yyy":e=si(sn.FullYear,3,0,!1,!0);break;case"yyyy":e=si(sn.FullYear,4,0,!1,!0);break;case"Y":e=V0(1);break;case"YY":e=V0(2,!0);break;case"YYY":e=V0(3);break;case"YYYY":e=V0(4);break;case"M":case"L":e=si(sn.Month,1,1);break;case"MM":case"LL":e=si(sn.Month,2,1);break;case"MMM":e=bn(rn.Months,yn.Abbreviated);break;case"MMMM":e=bn(rn.Months,yn.Wide);break;case"MMMMM":e=bn(rn.Months,yn.Narrow);break;case"LLL":e=bn(rn.Months,yn.Abbreviated,gr.Standalone);break;case"LLLL":e=bn(rn.Months,yn.Wide,gr.Standalone);break;case"LLLLL":e=bn(rn.Months,yn.Narrow,gr.Standalone);break;case"w":e=VI(1);break;case"ww":e=VI(2);break;case"W":e=VI(1,!0);break;case"d":e=si(sn.Date,1);break;case"dd":e=si(sn.Date,2);break;case"c":case"cc":e=si(sn.Day,1);break;case"ccc":e=bn(rn.Days,yn.Abbreviated,gr.Standalone);break;case"cccc":e=bn(rn.Days,yn.Wide,gr.Standalone);break;case"ccccc":e=bn(rn.Days,yn.Narrow,gr.Standalone);break;case"cccccc":e=bn(rn.Days,yn.Short,gr.Standalone);break;case"E":case"EE":case"EEE":e=bn(rn.Days,yn.Abbreviated);break;case"EEEE":e=bn(rn.Days,yn.Wide);break;case"EEEEE":e=bn(rn.Days,yn.Narrow);break;case"EEEEEE":e=bn(rn.Days,yn.Short);break;case"a":case"aa":case"aaa":e=bn(rn.DayPeriods,yn.Abbreviated);break;case"aaaa":e=bn(rn.DayPeriods,yn.Wide);break;case"aaaaa":e=bn(rn.DayPeriods,yn.Narrow);break;case"b":case"bb":case"bbb":e=bn(rn.DayPeriods,yn.Abbreviated,gr.Standalone,!0);break;case"bbbb":e=bn(rn.DayPeriods,yn.Wide,gr.Standalone,!0);break;case"bbbbb":e=bn(rn.DayPeriods,yn.Narrow,gr.Standalone,!0);break;case"B":case"BB":case"BBB":e=bn(rn.DayPeriods,yn.Abbreviated,gr.Format,!0);break;case"BBBB":e=bn(rn.DayPeriods,yn.Wide,gr.Format,!0);break;case"BBBBB":e=bn(rn.DayPeriods,yn.Narrow,gr.Format,!0);break;case"h":e=si(sn.Hours,1,-12);break;case"hh":e=si(sn.Hours,2,-12);break;case"H":e=si(sn.Hours,1);break;case"HH":e=si(sn.Hours,2);break;case"m":e=si(sn.Minutes,1);break;case"mm":e=si(sn.Minutes,2);break;case"s":e=si(sn.Seconds,1);break;case"ss":e=si(sn.Seconds,2);break;case"S":e=si(sn.FractionalSeconds,1);break;case"SS":e=si(sn.FractionalSeconds,2);break;case"SSS":e=si(sn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=N0(sa.Short);break;case"ZZZZZ":e=N0(sa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=N0(sa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=N0(sa.Long);break;default:return null}return BI[n]=e,e}function KL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Mq(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Aq(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=KL(e,r);return Mq(n,i*(s-r))}function Rq(n){if(NL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return U0(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(bq))return kq(i)}let e=new Date(n);if(!NL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function kq(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function NL(n){return n instanceof Date&&!isNaN(n.valueOf())}function j0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var zI=/\s+/,VL=[],gt=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=VL,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(zI):VL}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(zI):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(zI).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(j(je),j(Wt))},e.\u0275dir=Pt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[O.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var UI=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},oi=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new UI(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),BL(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);BL(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(j(Rs),j(Ds),j(FI))},e.\u0275dir=Pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function BL(n,e){n.context.$implicit=e.item}var nt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new HI,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){zL("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){zL("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(j(Rs),j(Ds))},e.\u0275dir=Pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),HI=class{constructor(){this.$implicit=null,this.ngIf=null}};function zL(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${fr(e)}'.`)}var _t=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:so.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(j(je),j(LI),j(Wt))},e.\u0275dir=Pt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),Mt=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(j(Rs))},e.\u0275dir=Pt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[cn]});let n=e;return n})();function Oq(n,e){return new ye(2100,!1)}var Pq="mediumDate",Fq=new Be(""),Lq=new Be(""),$0=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??Pq,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Cq(i,a,o||this.locale,l)}catch(a){throw Oq(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(j(R0,16),j(Fq,24),j(Lq,24))},e.\u0275pipe=n0({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var He=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let n=e;return n})(),KI="browser",Nq="server";function Kt(n){return n===KI}function G0(n){return n===Nq}var YL=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>Kt(he(Bt))?new jI(he(ht),window):new $I});let n=e;return n})(),jI=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Vq(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function Vq(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var $I=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Dd=class{};var hf=class{},q0=class{},Vc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var QI=class{encodeKey(e){return QL(e)}encodeValue(e){return QL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Uq(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var Hq=/%(\d[a-f0-9])/gi,jq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QL(n){return encodeURIComponent(n).replace(Hq,(e,t)=>jq[t]??e)}function W0(n){return`${n}`}var cl=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new QI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Uq(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(W0):[W0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(W0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(W0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ZI=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $q(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ZL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XL(n){return typeof Blob<"u"&&n instanceof Blob}function JL(n){return typeof FormData<"u"&&n instanceof FormData}function Gq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var df=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if($q(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Vc,this.context??=new ZI,!this.params)this.params=new cl,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ZL(this.body)||XL(this.body)||JL(this.body)||Gq(this.body)?this.body:this.body instanceof cl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||JL(this.body)?null:XL(this.body)?this.body.type||null:ZL(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),u)),new n(t,i,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Ad=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ad||{}),pf=class{constructor(e,t=Q0.Ok,i="OK"){this.headers=e.headers||new Vc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},XI=class n extends pf{constructor(e={}){super(e),this.type=Ad.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},K0=class n extends pf{constructor(e={}){super(e),this.type=Ad.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Y0=class extends pf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Q0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Q0||{});function YI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var JI=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof df)o=i;else{let c;s.headers instanceof Vc?c=s.headers:c=new Vc(s.headers);let u;s.params&&(s.params instanceof cl?u=s.params:u=new cl({fromObject:s.params})),o=new df(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=Ye(o).pipe(Ko(c=>this.handler.handle(c)));if(i instanceof df||s.observe==="events")return a;let l=a.pipe(fi(c=>c instanceof K0));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ft(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ft(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ft(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ft(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new cl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,YI(s,r))}post(i,r,s={}){return this.request("POST",i,YI(s,r))}put(i,r,s={}){return this.request("PUT",i,YI(s,r))}};e.\u0275fac=function(r){return new(r||e)(Ne(hf))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function Wq(n,e){return e(n)}function qq(n,e,t){return(i,r)=>Ms(t,()=>e(i,s=>n(s,r)))}var n3=new Be(""),Kq=new Be(""),Yq=new Be("");var e3=(()=>{let e=class e extends hf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=he(Oc);let s=he(Yq,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(n3),...this.injector.get(Kq,[])]));this.chain=s.reduceRight((o,a)=>qq(o,a,this.injector),Wq)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(gc(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(Ne(q0),Ne(Zi))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();var Qq=/^\)\]\}',?\n/;function Zq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var t3=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ye(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Gt(r.\u0275loadImpl()):Ye(null)).pipe(Cr(()=>new Et(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((C,S)=>a.setRequestHeader(C,S.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let C=i.detectContentTypeHeader();C!==null&&a.setRequestHeader("Content-Type",C)}if(i.responseType){let C=i.responseType.toLowerCase();a.responseType=C!=="json"?C:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let C=a.statusText||"OK",S=new Vc(a.getAllResponseHeaders()),R=Zq(a)||i.url;return c=new XI({headers:S,status:a.status,statusText:C,url:R}),c},h=()=>{let{headers:C,status:S,statusText:R,url:V}=u(),z=null;S!==Q0.NoContent&&(z=typeof a.response>"u"?a.responseText:a.response),S===0&&(S=z?Q0.Ok:0);let q=S>=200&&S<300;if(i.responseType==="json"&&typeof z=="string"){let Y=z;z=z.replace(Qq,"");try{z=z!==""?JSON.parse(z):null}catch(A){z=Y,q&&(q=!1,z={error:A,text:z})}}q?(o.next(new K0({body:z,headers:C,status:S,statusText:R,url:V||void 0})),o.complete()):o.error(new Y0({error:z,headers:C,status:S,statusText:R,url:V||void 0}))},p=C=>{let{url:S}=u(),R=new Y0({error:C,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(R)},m=!1,v=C=>{m||(o.next(u()),m=!0);let S={type:Ad.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),i.responseType==="text"&&a.responseText&&(S.partialText=a.responseText),o.next(S)},w=C=>{let S={type:Ad.UploadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),o.next(S)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),i.reportProgress&&(a.addEventListener("progress",v),l!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(l),o.next({type:Ad.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),i.reportProgress&&(a.removeEventListener("progress",v),l!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(Ne(Dd))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),i3=new Be(""),Xq="XSRF-TOKEN",Jq=new Be("",{providedIn:"root",factory:()=>Xq}),eK="X-XSRF-TOKEN",tK=new Be("",{providedIn:"root",factory:()=>eK}),Z0=class{},nK=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=j0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(Ne(ht),Ne(Bt),Ne(Jq))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function iK(n,e){let t=n.url.toLowerCase();if(!he(i3)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=he(Z0).getToken(),r=he(tK);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function r3(...n){let e=[JI,t3,e3,{provide:hf,useExisting:e3},{provide:q0,useExisting:t3},{provide:n3,useValue:iK,multi:!0},{provide:i3,useValue:!0},{provide:Z0,useClass:nK}];for(let t of n)e.push(...t.\u0275providers);return wd(e)}var nE=class extends z0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},iE=class n extends nE{static makeCurrent(){HL(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=sK();return t==null?null:oK(t)}resetBaseElement(){ff=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return j0(document.cookie,e)}},ff=null;function sK(){return ff=ff||document.querySelector("base"),ff?ff.getAttribute("href"):null}function oK(n){return new URL(n,document.baseURI).pathname}var aK=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),rE=new Be(""),a3=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new ye(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(Ne(rE),Ne(Qe))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),X0=class{constructor(e){this._doc=e}},eE="ng-app-id",l3=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=G0(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${eE}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(eE),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(eE,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(Ne(ht),Ne(uI),Ne(pI,8),Ne(Bt))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),tE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oE=/%COMP%/g,c3="%COMP%",lK=`_nghost-${c3}`,cK=`_ngcontent-${c3}`,uK=!0,dK=new Be("",{providedIn:"root",factory:()=>uK});function hK(n){return cK.replace(oE,n)}function pK(n){return lK.replace(oE,n)}function u3(n,e){return e.map(t=>t.replace(oE,n))}var J0=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=G0(l),this.defaultRenderer=new mf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===io.ShadowDom&&(r=ut(ue({},r),{encapsulation:io.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof ey?s.applyToHost(i):s instanceof gf&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case io.Emulated:o=new ey(c,u,r,this.appId,h,a,l,p);break;case io.ShadowDom:return new sE(c,u,i,r,a,l,this.nonce,p);default:o=new gf(c,u,r,h,a,l,p);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(Ne(a3),Ne(l3),Ne(uI),Ne(dK),Ne(ht),Ne(Bt),Ne(Qe),Ne(pI))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),mf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(tE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(s3(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(s3(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ye(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=tE[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=tE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(so.DashCase|so.Important)?e.style.setProperty(t,i,r&so.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&so.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=oa().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function s3(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var sE=class extends mf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=u3(r.id,r.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gf=class extends mf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?u3(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ey=class extends gf{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=hK(c),this.hostAttr=pK(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},fK=(()=>{let e=class e extends X0{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(Ne(ht))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),o3=["alt","control","meta","shift"],mK={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_K=(()=>{let e=class e extends X0{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oa().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),o3.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=mK[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),o3.forEach(a=>{if(a!==s){let l=gK[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(Ne(ht))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function d3(n,e){return OL(ue({rootComponent:n},yK(e)))}function yK(n){return{appProviders:[...IK,...n?.providers??[]],platformProviders:CK}}function vK(){iE.makeCurrent()}function bK(){return new Ss}function wK(){return dF(document),document}var CK=[{provide:Bt,useValue:KI},{provide:dI,useValue:vK,multi:!0},{provide:ht,useFactory:wK,deps:[]}];var IK=[{provide:i0,useValue:"root"},{provide:Ss,useFactory:bK,deps:[]},{provide:rE,useClass:fK,multi:!0,deps:[ht,Qe,Bt]},{provide:rE,useClass:_K,multi:!0,deps:[ht]},J0,l3,a3,{provide:Dc,useExisting:J0},{provide:Dd,useClass:aK,deps:[]},[]];var h3=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(Ne(ht))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var At="primary",kf=Symbol("RouteTitle"),dE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fd(n){return new dE(n)}function TK(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lo(n[t],e[t]))return!1;return!0}function lo(n,e){let t=n?hE(n):void 0,i=e?hE(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!w3(n[r],e[r]))return!1;return!0}function hE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function w3(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function C3(n){return n.length>0?n[n.length-1]:null}function fl(n){return fw(n)?n:Nc(n)?Gt(Promise.resolve(n)):Ye(n)}var SK={exact:E3,subset:T3},I3={exact:DK,subset:MK,ignored:()=>!0};function p3(n,e,t){return SK[t.paths](n.root,e.root,t.matrixParams)&&I3[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function DK(n,e){return lo(n,e)}function E3(n,e,t){if(!zc(n.segments,e.segments)||!iy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!E3(n.children[i],e.children[i],t))return!1;return!0}function MK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>w3(n[t],e[t]))}function T3(n,e,t){return x3(n,e,e.segments,t)}function x3(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!zc(r,t)||e.hasChildren()||!iy(r,t,i))}else if(n.segments.length===t.length){if(!zc(n.segments,t)||!iy(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!T3(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!zc(n.segments,r)||!iy(n.segments,r,i)||!n.children[At]?!1:x3(n.children[At],e,s,i)}}function iy(n,e,t){return e.every((i,r)=>I3[t](n[r].parameters,i.parameters))}var ul=class{constructor(e=new un([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Fd(this.queryParams),this._queryParamMap}toString(){return kK.serialize(this)}},un=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ry(this)}},Bc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fd(this.parameters),this._parameterMap}toString(){return D3(this)}};function AK(n,e){return zc(n,e)&&n.every((t,i)=>lo(t.parameters,e[i].parameters))}function zc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function RK(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===At&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==At&&(t=t.concat(e(r,i)))}),t}var Of=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>new If,providedIn:"root"});let n=e;return n})(),If=class{parse(e){let t=new fE(e);return new ul(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_f(e.root,!0)}`,i=FK(e.queryParams),r=typeof e.fragment=="string"?`#${OK(e.fragment)}`:"";return`${t}${i}${r}`}},kK=new If;function ry(n){return n.segments.map(e=>D3(e)).join("/")}function _f(n,e){if(!n.hasChildren())return ry(n);if(e){let t=n.children[At]?_f(n.children[At],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==At&&i.push(`${r}:${_f(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=RK(n,(i,r)=>r===At?[_f(n.children[At],!1)]:[`${r}:${_f(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[At]!=null?`${ry(n)}/${t[0]}`:`${ry(n)}/(${t.join("//")})`}}function S3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ty(n){return S3(n).replace(/%3B/gi,";")}function OK(n){return encodeURI(n)}function pE(n){return S3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sy(n){return decodeURIComponent(n)}function f3(n){return sy(n.replace(/\+/g,"%20"))}function D3(n){return`${pE(n.path)}${PK(n.parameters)}`}function PK(n){return Object.entries(n).map(([e,t])=>`;${pE(e)}=${pE(t)}`).join("")}function FK(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${ty(t)}=${ty(r)}`).join("&"):`${ty(t)}=${ty(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var LK=/^[^\/()?;#]+/;function aE(n){let e=n.match(LK);return e?e[0]:""}var NK=/^[^\/()?;=#]+/;function VK(n){let e=n.match(NK);return e?e[0]:""}var BK=/^[^=?&#]+/;function zK(n){let e=n.match(BK);return e?e[0]:""}var UK=/^[^&#]+/;function HK(n){let e=n.match(UK);return e?e[0]:""}var fE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[At]=new un(e,t)),i}parseSegment(){let e=aE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ye(4009,!1);return this.capture(e),new Bc(sy(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=VK(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=aE(this.remaining);r&&(i=r,this.capture(i))}e[sy(t)]=sy(i)}parseQueryParam(e){let t=zK(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=HK(this.remaining);o&&(i=o,this.capture(i))}let r=f3(t),s=f3(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=aE(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ye(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=At);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[At]:new un([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ye(4011,!1)}};function M3(n){return n.segments.length>0?new un([],{[At]:n}):n}function A3(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=A3(r);if(i===At&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new un(n.segments,e);return jK(t)}function jK(n){if(n.numberOfChildren===1&&n.children[At]){let e=n.children[At];return new un(n.segments.concat(e.segments),e.children)}return n}function Ld(n){return n instanceof ul}function $K(n,e,t=null,i=null){let r=R3(n);return k3(r,e,t,i)}function R3(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new un(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=M3(i);return e??r}function k3(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return lE(r,r,r,t,i);let s=GK(e);if(s.toRoot())return lE(r,r,new un([],{}),t,i);let o=WK(s,r,n),a=o.processChildren?bf(o.segmentGroup,o.index,s.commands):P3(o.segmentGroup,o.index,s.commands);return lE(r,o.segmentGroup,a,t,i)}function oy(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ef(n){return typeof n=="object"&&n!=null&&n.outlets}function lE(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=O3(n,e,t);let a=M3(A3(o));return new ul(a,s,r)}function O3(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=O3(s,e,t)}),new un(n.segments,i)}var ay=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&oy(i[0]))throw new ye(4003,!1);let r=i.find(Ef);if(r&&r!==C3(i))throw new ye(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GK(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ay(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new ay(t,e,i)}var Od=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function WK(n,e,t){if(n.isAbsolute)return new Od(e,!0,0);if(!t)return new Od(e,!1,NaN);if(t.parent===null)return new Od(t,!0,0);let i=oy(n.commands[0])?0:1,r=t.segments.length-1+i;return qK(t,r,n.numberOfDoubleDots)}function qK(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ye(4005,!1);r=i.segments.length}return new Od(i,!1,r-s)}function KK(n){return Ef(n[0])?n[0].outlets:{[At]:n}}function P3(n,e,t){if(n??=new un([],{}),n.segments.length===0&&n.hasChildren())return bf(n,e,t);let i=YK(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new un(n.segments.slice(0,i.pathIndex),{});return s.children[At]=new un(n.segments.slice(i.pathIndex),n.children),bf(s,0,r)}else return i.match&&r.length===0?new un(n.segments,{}):i.match&&!n.hasChildren()?mE(n,e,t):i.match?bf(n,0,r):mE(n,e,t)}function bf(n,e,t){if(t.length===0)return new un(n.segments,{});{let i=KK(t),r={};if(Object.keys(i).some(s=>s!==At)&&n.children[At]&&n.numberOfChildren===1&&n.children[At].segments.length===0){let s=bf(n.children[At],e,t);return new un(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=P3(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new un(n.segments,r)}}function YK(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Ef(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!g3(l,c,o))return s;i+=2}else{if(!g3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function mE(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Ef(s)){let l=QK(s.outlets);return new un(i,l)}if(r===0&&oy(t[0])){let l=n.segments[e];i.push(new Bc(l.path,m3(t[0]))),r++;continue}let o=Ef(s)?s.outlets[At]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&oy(a)?(i.push(new Bc(o,m3(a))),r+=2):(i.push(new Bc(o,{})),r++)}return new un(i,{})}function QK(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=mE(new un([],{}),0,i))}),e}function m3(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function g3(n,e,t){return n==t.path&&lo(e,t.parameters)}var wf="imperative",xi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(xi||{}),us=class{constructor(e,t){this.id=e,this.url=t}},Nd=class extends us{constructor(e,t,i="imperative",r=null){super(e,t),this.type=xi.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gr=class extends us{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=xi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$r=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($r||{}),ly=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ly||{}),dl=class extends us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=xi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hl=class extends us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=xi.NavigationSkipped}},Tf=class extends us{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=xi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cy=class extends us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=xi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gE=class extends us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=xi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_E=class extends us{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=xi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yE=class extends us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=xi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vE=class extends us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=xi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bE=class{constructor(e){this.route=e,this.type=xi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wE=class{constructor(e){this.route=e,this.type=xi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CE=class{constructor(e){this.snapshot=e,this.type=xi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},IE=class{constructor(e){this.snapshot=e,this.type=xi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},EE=class{constructor(e){this.snapshot=e,this.type=xi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},TE=class{constructor(e){this.snapshot=e,this.type=xi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uy=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=xi.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xf=class{},Sf=class{constructor(e){this.url=e}};var xE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pf,this.attachRef=null}},Pf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new xE,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),dy=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=SE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=SE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=DE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return DE(e,this._root).map(t=>t.value)}};function SE(n,e){if(n===e.value)return e;for(let t of e.children){let i=SE(n,t);if(i)return i}return null}function DE(n,e){if(n===e.value)return[e];for(let t of e.children){let i=DE(n,t);if(i.length)return i.unshift(e),i}return[]}var jr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hy=class extends dy{constructor(e,t){super(e),this.snapshot=t,VE(this,e)}toString(){return this.snapshot.toString()}};function F3(n){let e=ZK(n),t=new pi([new Bc("",{})]),i=new pi({}),r=new pi({}),s=new pi({}),o=new pi(""),a=new ds(t,i,s,o,r,At,n,e.root);return a.snapshot=e.root,new hy(new jr(a,[]),e)}function ZK(n){let e={},t={},i={},r="",s=new Df([],e,i,r,t,At,n,null,{});return new py("",new jr(s,[]))}var ds=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ft(c=>c[kf]))??Ye(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(e=>Fd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(e=>Fd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function NE(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ue(ue({},e.params),n.params),data:ue(ue({},e.data),n.data),resolve:ue(ue(ue(ue({},n.data),e.data),r?.data),n._resolvedData)}:i={params:ue({},n.params),data:ue({},n.data),resolve:ue(ue({},n.data),n._resolvedData??{})},r&&N3(r)&&(i.resolve[kf]=r.title),i}var Df=class{get title(){return this.data?.[kf]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},py=class extends dy{constructor(e,t){super(t),this.url=e,VE(this,t)}toString(){return L3(this._root)}};function VE(n,e){e.value._routerState=n,e.children.forEach(t=>VE(n,t))}function L3(n){let e=n.children.length>0?` { ${n.children.map(L3).join(", ")} } `:"";return`${n.value}${e}`}function cE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),lo(e.params,t.params)||n.paramsSubject.next(t.params),xK(e.url,t.url)||n.urlSubject.next(t.url),lo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ME(n,e){let t=lo(n.params,e.params)&&AK(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||ME(n.parent,e.parent))}function N3(n){return typeof n.title=="string"||n.title===null}var Ff=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new Z,this.deactivateEvents=new Z,this.attachEvents=new Z,this.detachEvents=new Z,this.parentContexts=he(Pf),this.location=he(Rs),this.changeDetector=he(Je),this.environmentInjector=he(Zi),this.inputBinder=he(_y,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ye(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ye(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ye(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ye(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new AE(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]});let n=e;return n})(),AE=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ds?this.route:e===Pf?this.childContexts:this.parent.get(e,t)}},_y=new Be(""),_3=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Up([r.queryParams,r.params,r.data]).pipe(Cr(([o,a,l],c)=>(l=ue(ue(ue({},o),a),l),c===0?Ye(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=PL(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function XK(n,e,t){let i=Mf(n,e._root,t?t._root:void 0);return new hy(i,e)}function Mf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=JK(n,e,t);return new jr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Mf(n,a)),o}}let i=eY(e.value),r=e.children.map(s=>Mf(n,s));return new jr(i,r)}}function JK(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Mf(n,i,r);return Mf(n,i)})}function eY(n){return new ds(new pi(n.url),new pi(n.params),new pi(n.queryParams),new pi(n.fragment),new pi(n.data),n.outlet,n.component,n)}var V3="ngNavigationCancelingError";function B3(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Ld(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=z3(!1,$r.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function z3(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[V3]=!0,t.cancellationCode=e,t}function tY(n){return U3(n)&&Ld(n.url)}function U3(n){return!!n&&n[V3]}var nY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["ng-component"]],standalone:!0,features:[_e],decls:1,vars:0,template:function(r,s){r&1&&$(0,"router-outlet")},dependencies:[Ff],encapsulation:2});let n=e;return n})();function iY(n,e){return n.providers&&!n._injector&&(n._injector=E0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function BE(n){let e=n.children&&n.children.map(BE),t=e?ut(ue({},n),{children:e}):ue({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=nY),t}function co(n){return n.outlet||At}function rY(n,e){let t=n.filter(i=>co(i)===e);return t.push(...n.filter(i=>co(i)!==e)),t}function Lf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sY=(n,e,t,i)=>ft(r=>(new RE(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),RE=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),cE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=kd(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=kd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=kd(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=kd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new TE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new IE(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(cE(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Lf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},fy=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pd=class{constructor(e,t){this.component=e,this.route=t}};function oY(n,e,t){let i=n._root,r=e?e._root:null;return yf(i,r,t,[i.value])}function aY(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Bd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!tP(n)?n:e.get(n):i}function yf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=kd(e);return n.children.forEach(o=>{lY(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Cf(a,t.getContext(o),r)),r}function lY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=cY(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new fy(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yf(n,e,a?a.children:null,i,r):yf(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Pd(a.outlet.component,o))}else o&&Cf(e,a,r),r.canActivateChecks.push(new fy(i)),s.component?yf(n,null,a?a.children:null,i,r):yf(n,null,t,i,r);return r}function cY(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!zc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zc(n.url,e.url)||!lo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ME(n,e)||!lo(n.queryParams,e.queryParams);case"paramsChange":default:return!ME(n,e)}}function Cf(n,e,t){let i=kd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Cf(o,e.children.getContext(s),t):Cf(o,null,t):Cf(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Pd(e.outlet.component,r)):t.canDeactivateChecks.push(new Pd(null,r)):t.canDeactivateChecks.push(new Pd(null,r))}function Nf(n){return typeof n=="function"}function uY(n){return typeof n=="boolean"}function dY(n){return n&&Nf(n.canLoad)}function hY(n){return n&&Nf(n.canActivate)}function pY(n){return n&&Nf(n.canActivateChild)}function fY(n){return n&&Nf(n.canDeactivate)}function mY(n){return n&&Nf(n.canMatch)}function H3(n){return n instanceof qo||n?.name==="EmptyError"}var ny=Symbol("INITIAL_VALUE");function Vd(){return Cr(n=>Up(n.map(e=>e.pipe(Yo(1),g_(ny)))).pipe(ft(e=>{for(let t of e)if(t!==!0){if(t===ny)return ny;if(t===!1||t instanceof ul)return t}return!0}),fi(e=>e!==ny),Yo(1)))}function gY(n,e){return ni(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Ye(ut(ue({},t),{guardsResult:!0})):_Y(o,i,r,n).pipe(ni(a=>a&&uY(a)?yY(i,s,n,e):Ye(a)),ft(a=>ut(ue({},t),{guardsResult:a})))})}function _Y(n,e,t,i){return Gt(n).pipe(ni(r=>IY(r.component,r.route,t,e,i)),eo(r=>r!==!0,!0))}function yY(n,e,t,i){return Gt(e).pipe(Ko(r=>td(bY(r.route.parent,i),vY(r.route,i),CY(n,r.path,t),wY(n,r.route,t))),eo(r=>r!==!0,!0))}function vY(n,e){return n!==null&&e&&e(new EE(n)),Ye(!0)}function bY(n,e){return n!==null&&e&&e(new CE(n)),Ye(!0)}function wY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ye(!0);let r=i.map(s=>p_(()=>{let o=Lf(e)??t,a=Bd(s,o),l=hY(a)?a.canActivate(e,n):Ms(o,()=>a(e,n));return fl(l).pipe(eo())}));return Ye(r).pipe(Vd())}function CY(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aY(o)).filter(o=>o!==null).map(o=>p_(()=>{let a=o.guards.map(l=>{let c=Lf(o.node)??t,u=Bd(l,c),h=pY(u)?u.canActivateChild(i,n):Ms(c,()=>u(i,n));return fl(h).pipe(eo())});return Ye(a).pipe(Vd())}));return Ye(s).pipe(Vd())}function IY(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Ye(!0);let o=s.map(a=>{let l=Lf(e)??r,c=Bd(a,l),u=fY(c)?c.canDeactivate(n,e,t,i):Ms(l,()=>c(n,e,t,i));return fl(u).pipe(eo())});return Ye(o).pipe(Vd())}function EY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ye(!0);let s=r.map(o=>{let a=Bd(o,n),l=dY(a)?a.canLoad(e,t):Ms(n,()=>a(e,t));return fl(l)});return Ye(s).pipe(Vd(),j3(i))}function j3(n){return qg(ii(e=>{if(Ld(e))throw B3(n,e)}),ft(e=>e===!0))}function TY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Ye(!0);let s=r.map(o=>{let a=Bd(o,n),l=mY(a)?a.canMatch(e,t):Ms(n,()=>a(e,t));return fl(l)});return Ye(s).pipe(Vd(),j3(i))}var Af=class{constructor(e){this.segmentGroup=e||null}},my=class extends Error{constructor(e){super(),this.urlTree=e}};function Rd(n){return ed(new Af(n))}function xY(n){return ed(new ye(4e3,!1))}function SY(n){return ed(z3(!1,$r.GuardRejected))}var kE=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ye(i);if(r.numberOfChildren>1||!r.children[At])return xY(e.redirectTo);r=r.children[At]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new my(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new ul(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new un(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ye(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},OE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DY(n,e,t,i,r){let s=zE(n,e,t);return s.matched?(i=iY(e,i),TY(i,e,t,r).pipe(ft(o=>o===!0?s:ue({},OE)))):Ye(s)}function zE(n,e,t){if(e.path==="**")return MY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ue({},OE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||TK)(t,n,e);if(!r)return ue({},OE);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?ue(ue({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function MY(n){return{matched:!0,parameters:n.length>0?C3(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function y3(n,e,t,i){return t.length>0&&kY(n,t,i)?{segmentGroup:new un(e,RY(i,new un(t,n.children))),slicedSegments:[]}:t.length===0&&OY(n,t,i)?{segmentGroup:new un(n.segments,AY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new un(n.segments,n.children),slicedSegments:t}}function AY(n,e,t,i){let r={};for(let s of t)if(yy(n,e,s)&&!i[co(s)]){let o=new un([],{});r[co(s)]=o}return ue(ue({},i),r)}function RY(n,e){let t={};t[At]=e;for(let i of n)if(i.path===""&&co(i)!==At){let r=new un([],{});t[co(i)]=r}return t}function kY(n,e,t){return t.some(i=>yy(n,e,i)&&co(i)!==At)}function OY(n,e,t){return t.some(i=>yy(n,e,i))}function yy(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PY(n,e,t,i){return co(n)!==i&&(i===At||!yy(e,t,n))?!1:zE(e,n,t).matched}function FY(n,e,t){return e.length===0&&!n.children[t]}var PE=class{};function LY(n,e,t,i,r,s,o="emptyOnly"){return new FE(n,e,t,i,r,o,s).recognize()}var NY=31,FE=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new kE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ye(4002,`'${e.segmentGroup}'`)}recognize(){let e=y3(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ft(t=>{let i=new Df([],Object.freeze({}),Object.freeze(ue({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),r=new jr(i,t),s=new py("",r),o=$K(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,At).pipe(Xa(i=>{if(i instanceof my)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Af?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=NE(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ft(s=>s instanceof jr?[s]:[]))}processChildren(e,t,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Gt(r).pipe(Ko(s=>{let o=i.children[s],a=rY(t,s);return this.processSegmentGroup(e,a,o,s)}),m_((s,o)=>(s.push(...o),s)),Ja(null),vw(),ni(s=>{if(s===null)return Rd(i);let o=$3(s);return VY(o),Ye(o)}))}processSegment(e,t,i,r,s,o){return Gt(t).pipe(Ko(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Xa(l=>{if(l instanceof Af)return Ye(null);throw l}))),eo(a=>!!a),Xa(a=>{if(H3(a))return FY(i,r,s)?Ye(new PE):Rd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return PY(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Rd(r):Rd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=zE(t,r,s);if(!a)return Rd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NY&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(ni(p=>this.processSegment(e,i,t,p.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){let o=DY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),o.pipe(Cr(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Cr(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:p}=a,m=new Df(u,p,Object.freeze(ue({},this.urlTree.queryParams)),this.urlTree.fragment,zY(i),co(i),i.component??i._loadedComponent??null,i,UY(i)),{segmentGroup:v,slicedSegments:w}=y3(t,u,h,l);if(w.length===0&&v.hasChildren())return this.processChildren(c,l,v).pipe(ft(S=>S===null?null:new jr(m,S)));if(l.length===0&&w.length===0)return Ye(new jr(m,[]));let C=co(i)===s;return this.processSegment(c,l,v,w,C?At:s,!0).pipe(ft(S=>new jr(m,S instanceof jr?[S]:[])))}))):Rd(t)))}getChildConfig(e,t,i){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):EY(e,t,i,this.urlSerializer).pipe(ni(r=>r?this.configLoader.loadChildren(e,t).pipe(ii(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):SY(t))):Ye({routes:[],injector:e})}};function VY(n){n.sort((e,t)=>e.value.outlet===At?-1:t.value.outlet===At?1:e.value.outlet.localeCompare(t.value.outlet))}function BY(n){let e=n.value.routeConfig;return e&&e.path===""}function $3(n){let e=[],t=new Set;for(let i of n){if(!BY(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=$3(i.children);e.push(new jr(i.value,r))}return e.filter(i=>!t.has(i))}function zY(n){return n.data||{}}function UY(n){return n.resolve||{}}function HY(n,e,t,i,r,s){return ni(o=>LY(n,e,t,i,o.extractedUrl,r,s).pipe(ft(({state:a,tree:l})=>ut(ue({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function jY(n,e){return ni(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ye(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of G3(l))o.add(c);let a=0;return Gt(o).pipe(Ko(l=>s.has(l)?$Y(l,i,n,e):(l.data=NE(l,l.parent,n).resolve,Ye(void 0))),ii(()=>a++),nd(1),ni(l=>a===o.size?Ye(t):Vr))})}function G3(n){let e=n.children.map(t=>G3(t)).flat();return[n,...e]}function $Y(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!N3(r)&&(s[kf]=r.title),GY(s,n,e,i).pipe(ft(o=>(n._resolvedData=o,n.data=NE(n,n.parent,t).resolve,null)))}function GY(n,e,t,i){let r=hE(n);if(r.length===0)return Ye({});let s={};return Gt(r).pipe(ni(o=>WY(n[o],e,t,i).pipe(eo(),ii(a=>{s[o]=a}))),nd(1),yw(s),Xa(o=>H3(o)?Vr:ed(o)))}function WY(n,e,t,i){let r=Lf(e)??i,s=Bd(n,r),o=s.resolve?s.resolve(e,t):Ms(r,()=>s(e,t));return fl(o)}function uE(n){return Cr(e=>{let t=n(e);return t?Gt(t).pipe(ft(()=>e)):Ye(e)})}var W3=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===At);return r}getResolvedTitleForRoute(i){return i.data[kf]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(qY),providedIn:"root"});let n=e;return n})(),qY=(()=>{let e=class e extends W3{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Ne(h3))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Vf=new Be("",{providedIn:"root",factory:()=>({})}),Rf=new Be(""),UE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(A0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ye(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=fl(i.loadComponent()).pipe(ft(q3),ii(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),gc(()=>{this.componentLoaders.delete(i)})),s=new Yu(r,()=>new pn).pipe(Ku());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KY(r,this.compiler,i,this.onLoadEndListener).pipe(gc(()=>{this.childrenLoaders.delete(r)})),a=new Yu(o,()=>new pn).pipe(Ku());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function KY(n,e,t,i){return fl(n.loadChildren()).pipe(ft(q3),ni(r=>r instanceof Jp||Array.isArray(r)?Ye(r):Gt(e.compileModuleAsync(r))),ft(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Rf,[],{optional:!0,self:!0}).flat()),{routes:o.map(BE),injector:s}}))}function YY(n){return n&&typeof n=="object"&&"default"in n}function q3(n){return YY(n)?n.default:n}var HE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(QY),providedIn:"root"});let n=e;return n})(),QY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),K3=new Be(""),Y3=new Be("");function ZY(n,e,t){let i=n.get(Y3),r=n.get(ht);return n.get(Qe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),XY(n))),{onViewTransitionCreated:l}=i;return l&&Ms(n,()=>l({transition:a,from:e,to:t})),o})}function XY(n){return new Promise(e=>{I0(e,{injector:n})})}var jE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=he(UE),this.environmentInjector=he(Zi),this.urlSerializer=he(Of),this.rootContexts=he(Pf),this.location=he(Md),this.inputBindingEnabled=he(_y,{optional:!0})!==null,this.titleStrategy=he(W3),this.options=he(Vf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=he(HE),this.createViewTransition=he(K3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null;let i=s=>this.events.next(new bE(s)),r=s=>this.events.next(new wE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ut(ue(ue({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new pi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wf,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(o=>o.id!==0),ft(o=>ut(ue({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cr(o=>{let a=!1,l=!1;return Ye(o).pipe(Cr(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$r.SupersededByNewNavigation),Vr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ut(ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new hl(c.id,this.urlSerializer.serialize(c.rawUrl),p,ly.IgnoredSameUrlNavigation)),c.resolve(null),Vr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ye(c).pipe(Cr(p=>{let m=this.transitions?.getValue();return this.events.next(new Nd(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Vr:Promise.resolve(p)}),HY(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ii(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ut(ue({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new cy(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:w,extras:C}=c,S=new Nd(p,this.urlSerializer.serialize(m),v,w);this.events.next(S);let R=F3(this.rootComponentType).snapshot;return this.currentTransition=o=ut(ue({},c),{targetSnapshot:R,urlAfterRedirects:m,extras:ut(ue({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Ye(o)}else{let p="";return this.events.next(new hl(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ly.IgnoredByUrlHandlingStrategy)),c.resolve(null),Vr}}),ii(c=>{let u=new gE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ft(c=>(this.currentTransition=o=ut(ue({},c),{guards:oY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),gY(this.environmentInjector,c=>this.events.next(c)),ii(c=>{if(o.guardsResult=c.guardsResult,Ld(c.guardsResult))throw B3(this.urlSerializer,c.guardsResult);let u=new _E(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),fi(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",$r.GuardRejected),!1)),uE(c=>{if(c.guards.canActivateChecks.length)return Ye(c).pipe(ii(u=>{let h=new yE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Cr(u=>{let h=!1;return Ye(u).pipe(jY(this.paramsInheritanceStrategy,this.environmentInjector),ii({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",$r.NoDataFromResolver)}}))}),ii(u=>{let h=new vE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),uE(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ii(m=>{h.component=m}),ft(()=>{})));for(let m of h.children)p.push(...u(m));return p};return Up(u(c.targetSnapshot.root)).pipe(Ja(null),Yo(1))}),uE(()=>this.afterPreactivation()),Cr(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Gt(h).pipe(ft(()=>o)):Ye(o)}),ft(c=>{let u=XK(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ut(ue({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),ii(()=>{this.events.next(new xf)}),sY(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Yo(1),ii({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),bw(this.transitionAbortSubject.pipe(ii(c=>{throw c}))),gc(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",$r.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xa(c=>{if(l=!0,U3(c))this.events.next(new dl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),tY(c)?this.events.next(new Sf(c.url)):o.resolve(!1);else{this.events.next(new Tf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Vr}))}))}cancelNavigationTransition(i,r,s){let o=new dl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function JY(n){return n!==wf}var eQ=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(tQ),providedIn:"root"});let n=e;return n})(),LE=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},tQ=(()=>{let e=class e extends LE{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Me(e)))(s||e)}})(),e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Q3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(nQ),providedIn:"root"});let n=e;return n})(),nQ=(()=>{let e=class e extends Q3{constructor(){super(...arguments),this.location=he(Md),this.urlSerializer=he(Of),this.options=he(Vf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=he(HE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ul,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F3(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Nd)this.stateMemento=this.createStateMemento();else if(i instanceof hl)this.rawUrlTree=r.initialUrl;else if(i instanceof cy){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof xf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof dl&&(i.code===$r.GuardRejected||i.code===$r.NoDataFromResolver)?this.restoreHistory(r):i instanceof Tf?this.restoreHistory(r,!0):i instanceof Gr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=ue(ue({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=ue(ue({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Me(e)))(s||e)}})(),e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),vf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vf||{});function Z3(n,e){n.events.pipe(fi(t=>t instanceof Gr||t instanceof dl||t instanceof Tf||t instanceof hl),ft(t=>t instanceof Gr||t instanceof hl?vf.COMPLETE:(t instanceof dl?t.code===$r.Redirect||t.code===$r.SupersededByNewNavigation:!1)?vf.REDIRECTING:vf.FAILED),fi(t=>t!==vf.REDIRECTING),Yo(1)).subscribe(()=>{e()})}function iQ(n){throw n}var rQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ti=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=he(D0),this.stateManager=he(Q3),this.options=he(Vf,{optional:!0})||{},this.pendingTasks=he(Oc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=he(jE),this.urlSerializer=he(Of),this.location=he(Md),this.urlHandlingStrategy=he(HE),this._events=new pn,this.errorHandler=this.options.errorHandler||iQ,this.navigated=!1,this.routeReuseStrategy=he(eQ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=he(Rf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!he(_y,{optional:!0}),this.eventsSubscription=new Kn,this.isNgZoneEnabled=he(Qe)instanceof Qe&&Qe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dl&&r.code!==$r.Redirect&&r.code!==$r.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gr)this.navigated=!0;else if(r instanceof Sf){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||JY(s.source)};this.scheduleNavigation(a,wf,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}aQ(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=ue({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(BE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=ue(ue({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=s?s.snapshot:this.routerState.snapshot.root;p=R3(m)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),p=this.currentUrlTree.root}return k3(p,i,h,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Ld(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wf,null,r)}navigate(i,r={skipLocationChange:!1}){return oQ(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=ue({},rQ):r===!1?s=ue({},sQ):s=r,Ld(i))return p3(this.currentUrlTree,i,s);let o=this.parseUrl(i);return p3(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((p,m)=>{l=p,c=m});let h=this.pendingTasks.add();return Z3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function oQ(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ye(4008,!1)}function aQ(n){return!(n instanceof xf)&&!(n instanceof Sf)}var pl=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:wF(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(j(Ti),j(ds),cI("tabindex"),j(Wt),j(je),j(aa))},e.\u0275dir=Pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Q("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&N("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[O.HasDecoratorInputTransform,"preserveFragment","preserveFragment",W],skipLocationChange:[O.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",W],replaceUrl:[O.HasDecoratorInputTransform,"replaceUrl","replaceUrl",W],routerLink:"routerLink"},standalone:!0,features:[Ze,cn]});let n=e;return n})(),vy=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Z,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof Gr&&this.update()})}ngAfterContentInit(){Ye(this.links.changes,Ye(null)).pipe(Za()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Gt(i).pipe(Za()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=lQ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(j(Ti),j(je),j(Wt),j(Je),j(pl,8))},e.\u0275dir=Pt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&dt(o,pl,5),r&2){let a;me(a=ge())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cn]});let n=e;return n})();function lQ(n){return!!n.paths}var gy=class{};var cQ=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(fi(i=>i instanceof Gr),Ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=E0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Gt(s).pipe(Za())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Ye(null);let o=s.pipe(ni(a=>a===null?Ye(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Gt([o,a]).pipe(Za())}else return o})}};e.\u0275fac=function(r){return new(r||e)(Ne(Ti),Ne(A0),Ne(Zi),Ne(gy),Ne(UE))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),X3=new Be(""),uQ=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=he(Zi),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Nd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Gr?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof hl&&i.code===ly.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof uy&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>G(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),I0(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new uy(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){FF()},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function J3(n,...e){return wd([{provide:Rf,multi:!0,useValue:n},[],{provide:ds,useFactory:eN,deps:[Ti]},{provide:cf,multi:!0,useFactory:tN},e.map(t=>t.\u0275providers)])}function eN(n){return n.routerState.root}function Bf(n,e){return{\u0275kind:n,\u0275providers:e}}function tN(){let n=he(ri);return e=>{let t=n.get(Sd);if(e!==t.components[0])return;let i=n.get(Ti),r=n.get(nN);n.get($E)===1&&i.initialNavigation(),n.get(iN,null,Ft.Optional)?.setUpPreloading(),n.get(X3,null,Ft.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var nN=new Be("",{factory:()=>new pn}),$E=new Be("",{providedIn:"root",factory:()=>1});function dQ(){return Bf(2,[{provide:$E,useValue:0},{provide:M0,multi:!0,deps:[ri],useFactory:e=>{let t=e.get(jL,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Ti),s=e.get(nN);Z3(r,()=>{i(!0)}),e.get(jE).afterPreactivation=()=>(i(!0),s.closed?Ye(void 0):s),r.initialNavigation()}))}}])}function hQ(){return Bf(3,[{provide:M0,multi:!0,useFactory:()=>{let e=he(Ti);return()=>{e.setUpLocationChangeListener()}}},{provide:$E,useValue:2}])}var iN=new Be("");function pQ(n){return Bf(0,[{provide:iN,useExisting:cQ},{provide:gy,useExisting:n}])}function fQ(){return Bf(8,[_3,{provide:_y,useExisting:_3}])}function mQ(n){let e=[{provide:K3,useValue:ZY},{provide:Y3,useValue:ue({skipNextTransition:!!n?.skipInitialTransition},n)}];return Bf(9,e)}var v3=new Be("ROUTER_FORROOT_GUARD"),gQ=[Md,{provide:Of,useClass:If},Ti,Pf,{provide:ds,useFactory:eN,deps:[Ti]},UE,[]],ml=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[gQ,[],{provide:Rf,multi:!0,useValue:i},{provide:v3,useFactory:bQ,deps:[[Ti,new Vi,new e0]]},{provide:Vf,useValue:r||{}},r?.useHash?yQ():vQ(),_Q(),r?.preloadingStrategy?pQ(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wQ(r):[],r?.bindToComponentInputs?fQ().\u0275providers:[],r?.enableViewTransitions?mQ().\u0275providers:[],CQ()]}}static forChild(i){return{ngModule:e,providers:[{provide:Rf,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(Ne(v3,8))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let n=e;return n})();function _Q(){return{provide:X3,useFactory:()=>{let n=he(YL),e=he(Qe),t=he(Vf),i=he(jE),r=he(Of);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uQ(r,i,n,e,t)}}}function yQ(){return{provide:aa,useClass:GL}}function vQ(){return{provide:aa,useClass:qI}}function bQ(n){return"guarded"}function wQ(n){return[n.initialNavigation==="disabled"?hQ().\u0275providers:[],n.initialNavigation==="enabledBlocking"?dQ().\u0275providers:[]]}var b3=new Be("");function CQ(){return[{provide:b3,useFactory:tN},{provide:cf,multi:!0,useExisting:b3}]}var by=[{label:"Sabato Sera",option:"24-sera"},{label:"Domenica Mattina",option:"25-mattina"},{label:"Domenica Sera",option:"25-sera"},{label:"Luned\xEC Sera",option:"26-sera"}];var te=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var p=Object.keys(e);if(o=p.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,p[s]))return!1;for(s=o;s--!==0;)if(a=p[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return ue(ue({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var p=Object.keys(e);if(o=p.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,p[s]))return!1;for(s=o;s--!==0;)if(a=p[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},rN=0;function it(n="pn_id_"){return rN++,`${n}${rN}`}function IQ(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var xn=IQ();var sN=["*"];var Si=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),GE=(()=>{class n{static AND="and";static OR="or"}return n})(),Ud=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let c of i){let u=te.resolveFieldData(l,c);if(this.filters[s](u,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r);return te.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=te.removeAccents(i.toString()).toLocaleLowerCase(r),o=te.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:te.removeAccents(t.toString()).toLocaleLowerCase(r)==te.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:te.removeAccents(t.toString()).toLocaleLowerCase(r)!=te.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(te.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gl=(()=>{class n{clickSource=new pn;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yt=(()=>{class n{ripple=!1;inputStyle=Zt("outlined");overlayOptions={};csp=Zt({nonce:void 0});filterMatchModeOptions={text:[Si.STARTS_WITH,Si.CONTAINS,Si.NOT_CONTAINS,Si.ENDS_WITH,Si.EQUALS,Si.NOT_EQUALS],numeric:[Si.EQUALS,Si.NOT_EQUALS,Si.LESS_THAN,Si.LESS_THAN_OR_EQUAL_TO,Si.GREATER_THAN,Si.GREATER_THAN_OR_EQUAL_TO],date:[Si.DATE_IS,Si.DATE_IS_NOT,Si.DATE_BEFORE,Si.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new pn;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=ue(ue({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-header"]],standalone:!0,features:[_e],ngContentSelectors:sN,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2})}return n})(),Cy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-footer"]],standalone:!0,features:[_e],ngContentSelectors:sN,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2})}return n})(),qe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(j(Ds))};static \u0275dir=Pt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[O.None,"pTemplate","name"]},standalone:!0})}return n})(),Ke=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({})}return n})(),An=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var k=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=R=>{if(R)return getComputedStyle(R).getPropertyValue("position")==="relative"?R:s(R.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),m=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u},v,w;l.top+a+o.height>h.height?(v=l.top-m.top-o.height,t.style.transformOrigin="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-m.top,t.style.transformOrigin="top");let C=l.left+o.width-h.width,S=l.left-m.left;o.width>h.width?w=(l.left-m.left)*-1:C>0?w=S-C:w=l.left-m.left,t.style.top=v+"px",t.style.left=w+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),h=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),v,w;u.top+l+o>m.height?(v=u.top+h-o,t.style.transformOrigin="bottom",v<0&&(v=h)):(v=l+u.top+h,t.style.transformOrigin="top"),u.left+a>m.width?w=Math.max(0,u.left+p+c-a):w=u.left+p,t.style.top=v+"px",t.style.left=w+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,p=t.clientHeight,m=this.getOuterHeight(i);u<0?t.scrollTop=h+u:u+m>p&&(t.scrollTop=h+u-p+m)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let h=Array.isArray(c)?r(s,c):Object.entries(c).map(([p,m])=>s==="style"&&(m||m===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?p:void 0);l=h.length?l.concat(h.filter(p=>!!p)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Ps=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=k.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var EQ=["*"],Oe=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=te.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[O.HasDecoratorInputTransform,"spin","spin",W],styleClass:"styleClass"},standalone:!0,features:[Ze,_e],ngContentSelectors:EQ,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2,changeDetection:0})}return n})();var Hd=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var jd=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ai=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Kt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(k.removeClass(i,"p-ink-active"),!k.getHeight(i)&&!k.getWidth(i)){let a=Math.max(k.getOuterWidth(this.el.nativeElement),k.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=k.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-k.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-k.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),k.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&k.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&k.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),k.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,k.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(Wt),j(je),j(Qe),j(Yt,8))};static \u0275dir=Pt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),li=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({})}return n})();var $d=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:it()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){Kt(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=ue(ue({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(k.hasClass(t.relatedTarget,"p-tooltip")||k.hasClass(t.relatedTarget,"p-tooltip-text")||k.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?k.appendChild(this.container,this.el.nativeElement):k.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),k.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?xn.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&xn.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof Ds){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+k.getWindowScrollLeft(),r=t.top+k.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+k.getOuterWidth(t),s=i.top+(k.getOuterHeight(t)-k.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?k.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-k.getOuterWidth(this.container),r=t.top+(k.getOuterHeight(this.el.nativeElement)-k.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=t.top-k.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=t.top+k.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=ue(ue({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return k.hasClass(t,"p-inputwrapper")?k.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=k.getOuterWidth(this.container),o=k.getOuterHeight(this.container),a=k.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ps(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):k.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&xn.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(j(Bt),j(je),j(Qe),j(Yt),j(Wt),j(Rs))};static \u0275dir=Pt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&Q("keydown.escape",function(o){return r.onPressEscape(o)},!1,CF)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[O.HasDecoratorInputTransform,"escape","escape",W],showDelay:[O.HasDecoratorInputTransform,"showDelay","showDelay",Le],hideDelay:[O.HasDecoratorInputTransform,"hideDelay","hideDelay",Le],life:[O.HasDecoratorInputTransform,"life","life",Le],positionTop:[O.HasDecoratorInputTransform,"positionTop","positionTop",Le],positionLeft:[O.HasDecoratorInputTransform,"positionLeft","positionLeft",Le],autoHide:[O.HasDecoratorInputTransform,"autoHide","autoHide",W],fitContent:[O.HasDecoratorInputTransform,"fitContent","fitContent",W],hideOnEscape:[O.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",W],content:[O.None,"pTooltip","content"],disabled:[O.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ze,cn]})}return n})(),_l=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();var TQ=["content"],xQ=["navbar"],SQ=["inkbar"],DQ=["prevBtn"],MQ=["nextBtn"],AQ=["tabLink"],RQ=["tab"],kQ=n=>({"p-tabmenu p-component":!0,"p-tabmenu-scrollable":n}),OQ=(n,e,t)=>({"p-tabmenuitem":!0,"p-disabled":n,"p-highlight":e,"p-hidden":t}),PQ=(n,e)=>({$implicit:n,index:e}),FQ=()=>({exact:!1});function LQ(n,e){n&1&&$(0,"ChevronLeftIcon"),n&2&&N("aria-hidden",!0)}function NQ(n,e){}function VQ(n,e){n&1&&T(0,NQ,0,0,"ng-template")}function BQ(n,e){if(n&1){let t=le();I(0,"button",17,3),Q("click",function(){F(t);let r=_();return L(r.navBackward())}),T(2,LQ,1,1,"ChevronLeftIcon",18)(3,VQ,1,0,null,19),E()}if(n&2){let t=_();g(2),f("ngIf",!t.previousIconTemplate),g(),f("ngTemplateOutlet",t.previousIconTemplate)}}function zQ(n,e){if(n&1&&$(0,"span",28),n&2){let t=_(2).$implicit;f("ngClass",t.icon)("ngStyle",t.iconStyle)}}function UQ(n,e){if(n&1&&(I(0,"span",29),ie(1),E()),n&2){let t=_(2).$implicit,i=_();g(),Ue(i.getItemProp(t,"label"))}}function HQ(n,e){if(n&1&&$(0,"span",30),n&2){let t=_(2).$implicit,i=_();f("innerHTML",i.getItemProp(t,"label"),Rc)}}function jQ(n,e){if(n&1&&(I(0,"span",31),ie(1),E()),n&2){let t=_(2).$implicit,i=_();f("ngClass",t.badgeStyleClass),g(),Ue(i.getItemProp(t,"badge"))}}function $Q(n,e){if(n&1&&(I(0,"a",24,5),re(2),T(3,zQ,1,2,"span",25)(4,UQ,2,1,"span",26)(5,HQ,1,1,"ng-template",null,6,qt)(7,jQ,2,2,"span",27),se(),E()),n&2){let t=ct(6),i=_().$implicit,r=_();f("target",r.getItemProp(i,"target")),N("href",r.getItemProp(i,"url"),kc)("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),g(3),f("ngIf",i.icon),g(),f("ngIf",i.escape!==!1)("ngIfElse",t),g(3),f("ngIf",i.badge)}}function GQ(n,e){if(n&1&&$(0,"span",28),n&2){let t=_(2).$implicit;f("ngClass",t.icon)("ngStyle",t.iconStyle),N("aria-hidden",!0)}}function WQ(n,e){if(n&1&&(I(0,"span",29),ie(1),E()),n&2){let t=_(2).$implicit,i=_();g(),Ue(i.getItemProp(t,"label"))}}function qQ(n,e){if(n&1&&$(0,"span",30),n&2){let t=_(2).$implicit,i=_();f("innerHTML",i.getItemProp(t,"label"),Rc)}}function KQ(n,e){if(n&1&&(I(0,"span",31),ie(1),E()),n&2){let t=_(2).$implicit,i=_();f("ngClass",t.badgeStyleClass),g(),Ue(i.getItemProp(t,"badge"))}}function YQ(n,e){if(n&1&&(I(0,"a",32,5),re(2),T(3,GQ,1,3,"span",25)(4,WQ,2,1,"span",26)(5,qQ,1,1,"ng-template",null,7,qt)(7,KQ,2,2,"span",27),se(),E()),n&2){let t=ct(6),i=_().$implicit,r=_();f("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||Jt(19,FQ))("target",i.target)("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),N("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),g(3),f("ngIf",i.icon),g(),f("ngIf",i.escape!==!1)("ngIfElse",t),g(3),f("ngIf",i.badge)}}function QQ(n,e){n&1&&de(0)}function ZQ(n,e){if(n&1){let t=le();I(0,"li",20,4),Q("click",function(r){let s=F(t).$implicit,o=_();return L(o.itemClick(r,s))})("keydown",function(r){let s=F(t),o=s.$implicit,a=s.index,l=_();return L(l.onKeydownItem(r,a,o))})("focus",function(){let r=F(t).$implicit,s=_();return L(s.onMenuItemFocus(r))}),T(2,$Q,8,10,"a",21)(3,YQ,8,20,"a",22)(4,QQ,1,0,"ng-container",23),E()}if(n&2){let t=e.$implicit,i=e.index,r=_();ne(t.styleClass),f("ngStyle",t.style)("ngClass",En(11,OQ,r.getItemProp(t,"disabled"),r.isActive(t),t.visible===!1))("tooltipOptions",t.tooltipOptions),N("data-p-disabled",r.disabled(t))("data-p-highlight",r.focusedItemInfo()===t),g(2),f("ngIf",!t.routerLink&&!r.itemTemplate),g(),f("ngIf",t.routerLink&&!r.itemTemplate),g(),f("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lt(15,PQ,t,i))}}function XQ(n,e){n&1&&$(0,"ChevronRightIcon"),n&2&&N("aria-hidden",!0)}function JQ(n,e){}function eZ(n,e){n&1&&T(0,JQ,0,0,"ng-template")}function tZ(n,e){if(n&1){let t=le();I(0,"button",33,8),Q("click",function(){F(t);let r=_();return L(r.navForward())}),T(2,XQ,1,1,"ChevronRightIcon",18)(3,eZ,1,0,null,19),E()}if(n&2){let t=_();g(2),f("ngIf",!t.previousIconTemplate),g(),f("ngTemplateOutlet",t.nextIconTemplate)}}var oN=(()=>{class n{platformId;router;route;cd;set model(t){this._model=t,this._focusableItems=(this._model||[]).reduce((i,r)=>(i.push(r),i),[])}get model(){return this._model}set activeItem(t){this._activeItem=t,this.activeItemChange.emit(t),this.tabChanged=!0}get activeItem(){return this._activeItem}scrollable;popup;style;styleClass;ariaLabel;ariaLabelledBy;activeItemChange=new Z;content;navbar;inkbar;prevBtn;nextBtn;tabLink;tab;templates;itemTemplate;previousIconTemplate;nextIconTemplate;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;timerIdForAutoScroll=null;_focusableItems;_model;_activeItem;focusedItemInfo=Zt(null);get focusableItems(){return(!this._focusableItems||!this._focusableItems.length)&&(this._focusableItems=(this.model||[]).reduce((t,i)=>(t.push(i),t),[])),this._focusableItems}constructor(t,i,r,s){this.platformId=t,this.router=i,this.route=r,this.cd=s,this.router.events.pipe(fi(o=>o instanceof Gr)).subscribe(o=>{this.cd.markForCheck()})}ngOnChanges(t){t.activeItem&&this.autoScrollForActiveItem()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Kt(this.platformId)&&(this.updateInkBar(),this.autoScrollForActiveItem(),this.initButtonState())}ngAfterViewChecked(){Kt(this.platformId)&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.clearAutoScrollHandler()}isActive(t){if(t.routerLink){let i=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(i,{relativeTo:this.route}).toString(),t.routerLinkActiveOptions?.exact??t.routerLinkActiveOptions??!1)}return t===this.activeItem}getItemProp(t,i){return t?te.getItemValue(t[i]):void 0}visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1}disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled}onMenuItemFocus(t){this.focusedItemInfo.set(t)}itemClick(t,i){if(i.disabled){t.preventDefault();return}!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.activeItem=i,this.tabChanged=!0,this.cd.markForCheck()}onKeydownItem(t,i,r){let s=i,o={},a=this.tabLink.toArray(),l=this.tab.toArray();switch(t.code){case"ArrowRight":o=this.findNextItem(l,s),s=o.i;break;case"ArrowLeft":o=this.findPrevItem(l,s),s=o.i;break;case"End":o=this.findPrevItem(l,this.model.length),s=o.i,t.preventDefault();break;case"Home":o=this.findNextItem(l,-1),s=o.i,t.preventDefault();break;case"Space":case"Enter":this.itemClick(t,r);break;case"Tab":this.onTabKeyDown(a);break;default:break}a[s]&&a[i]&&(a[i].nativeElement.tabIndex="-1",a[s].nativeElement.tabIndex="0",a[s].nativeElement.focus()),this.cd.markForCheck()}onTabKeyDown(t){t.forEach(i=>{i.nativeElement.tabIndex=k.getAttribute(i.nativeElement.parentElement,"data-p-highlight")?"0":"-1"})}findNextItem(t,i){let r=i+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let s=t[r];return s?k.getAttribute(s.nativeElement,"data-p-disabled")?this.findNextItem(t,r):{nextItem:s.nativeElement,i:r}:null}findPrevItem(t,i){let r=i-1;if(r<0)return{prevItem:t[0],i:0};let s=t[r];return s?k.getAttribute(s.nativeElement,"data-p-disabled")?this.findPrevItem(t,r):{prevItem:s.nativeElement,i:r}:null}updateInkBar(){let t=k.findSingle(this.navbar?.nativeElement,"li.p-highlight");t&&(this.inkbar.nativeElement.style.width=k.getWidth(t)+"px",this.inkbar.nativeElement.style.left=k.getOffset(t).left-k.getOffset(this.navbar?.nativeElement).left+"px")}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+k.getWidth(i):t,0)}updateButtonState(){let t=this.content?.nativeElement,{scrollLeft:i,scrollWidth:r}=t,s=k.getWidth(t);this.backwardIsDisabled=i===0,this.forwardIsDisabled=parseInt(i)===r-s}updateScrollBar(t){let i=this.navbar?.nativeElement.children[t];i&&i&&typeof i.scrollIntoView=="function"&&i.scrollIntoView({block:"nearest",inline:"center"})}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}navBackward(){let t=this.content?.nativeElement,i=k.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft-i;t.scrollLeft=r<=0?0:r}navForward(){let t=this.content?.nativeElement,i=k.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft+i,s=t.scrollWidth-i;t.scrollLeft=r>=s?s:r}autoScrollForActiveItem(){this.scrollable&&(this.clearAutoScrollHandler(),this.timerIdForAutoScroll=setTimeout(()=>{let t=this.model.findIndex(i=>this.isActive(i));t!==-1&&this.updateScrollBar(t)}))}clearAutoScrollHandler(){this.timerIdForAutoScroll&&(clearTimeout(this.timerIdForAutoScroll),this.timerIdForAutoScroll=null)}initButtonState(){this.scrollable&&Promise.resolve().then(()=>{this.updateButtonState(),this.cd.markForCheck()})}static \u0275fac=function(i){return new(i||n)(j(Bt),j(Ti),j(ds),j(Je))};static \u0275cmp=X({type:n,selectors:[["p-tabMenu"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(TQ,5),Ve(xQ,5),Ve(SQ,5),Ve(DQ,5),Ve(MQ,5),Ve(AQ,5),Ve(RQ,5)),i&2){let s;me(s=ge())&&(r.content=s.first),me(s=ge())&&(r.navbar=s.first),me(s=ge())&&(r.inkbar=s.first),me(s=ge())&&(r.prevBtn=s.first),me(s=ge())&&(r.nextBtn=s.first),me(s=ge())&&(r.tabLink=s),me(s=ge())&&(r.tab=s)}},hostAttrs:[1,"p-element"],inputs:{model:"model",activeItem:"activeItem",scrollable:[O.HasDecoratorInputTransform,"scrollable","scrollable",W],popup:[O.HasDecoratorInputTransform,"popup","popup",W],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{activeItemChange:"activeItemChange"},features:[Ze,cn],decls:11,vars:11,consts:[["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["tab",""],["tabLink",""],["htmlLabel",""],["htmlRouteLabel",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabmenu-nav-container"],["class","p-tabmenu-nav-prev p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],[1,"p-tabmenu-nav-content",3,"scroll"],["role","menubar",1,"p-tabmenu-nav","p-reset"],["role","presentation","pTooltip","",3,"ngStyle","class","ngClass","tooltipOptions","click","keydown","focus",4,"ngFor","ngForOf"],["role","none",1,"p-tabmenu-ink-bar"],["class","p-tabmenu-nav-next p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-prev","p-tabmenu-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation","pTooltip","",3,"click","keydown","focus","ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"target",4,"ngIf"],["role","menuitem","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"target"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-next","p-tabmenu-nav-btn","p-link",3,"click"]],template:function(i,r){if(i&1){let s=le();I(0,"div",9)(1,"div",10),T(2,BQ,4,2,"button",11),I(3,"div",12,0),Q("scroll",function(a){return F(s),L(r.onScroll(a))}),I(5,"ul",13,1),T(7,ZQ,5,18,"li",14),$(8,"li",15,2),E()(),T(10,tZ,4,2,"button",16),E()()}i&2&&(ne(r.styleClass),f("ngClass",Ce(9,kQ,r.scrollable))("ngStyle",r.style),g(2),f("ngIf",r.scrollable&&!r.backwardIsDisabled),g(3),N("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel),g(2),f("ngForOf",r.focusableItems),g(3),f("ngIf",r.scrollable&&!r.forwardIsDisabled))},dependencies:()=>[gt,oi,nt,Mt,_t,pl,vy,ai,$d,Hd,jd],styles:[`@layer primeng{.p-tabmenu-nav-container{position:relative}.p-tabmenu-scrollable .p-tabmenu-nav-container{overflow:hidden}.p-tabmenu-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabmenu-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabmenu-nav-prev{left:0}.p-tabmenu-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabmenu-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:nowrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1;white-space:nowrap}.p-tabmenu-ink-bar{display:none;z-index:1}.p-tabmenu-nav-content::-webkit-scrollbar{display:none}.p-tabmenuitem:not(.p-hidden){display:flex}}
`],encapsulation:2,changeDetection:0})}return n})(),aN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,ml,Ke,li,_l,Hd,jd,ml,Ke,_l]})}return n})();var lN=(()=>{let e=class e{constructor(i){this.router=i,this.tabs=[]}ngOnInit(){this.tabs=by,this.activeItem=this.whatActiveItem(),this.router.navigate([`home/${this.activeItem.option}`])}whatActiveItem(){let i=new Date;return i.getDate()<=24?this.tabs[0]:i.getDate()===25?i.getHours()<=18?this.tabs[1]:this.tabs[2]:this.tabs[3]}onActiveItemChange(i){this.activeItem=i,this.router.navigate([`home/${this.activeItem.option}`])}};e.\u0275fac=function(r){return new(r||e)(j(Ti))},e.\u0275cmp=X({type:e,selectors:[["app-tab"]],standalone:!0,features:[_e],decls:1,vars:2,consts:[[3,"activeItemChange","model","activeItem"]],template:function(r,s){r&1&&(I(0,"p-tabMenu",0),Q("activeItemChange",function(a){return s.onActiveItemChange(a)}),E()),r&2&&f("model",s.tabs)("activeItem",s.activeItem)},dependencies:[aN,oN],styles:["[_nghost-%COMP%]     .p-tabmenu-nav{display:flex;justify-content:center}@media (max-width: 630px){[_nghost-%COMP%]     .p-tabmenu-nav{justify-content:unset}}[_nghost-%COMP%]     .p-tabmenu .p-tabmenu-nav .p-tabmenuitem.p-highlight .p-menuitem-link{border-color:var(--verde);color:var(--verde)}"]});let n=e;return n})();var cN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["app-home"]],standalone:!0,features:[_e],decls:2,vars:0,template:function(r,s){r&1&&$(0,"app-tab")(1,"router-outlet")},dependencies:[Ff,lN]});let n=e;return n})();var yN=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(j(Wt),j(je))},e.\u0275dir=Pt({type:e});let n=e;return n})(),iZ=(()=>{let e=class e extends yN{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Me(e)))(s||e)}})(),e.\u0275dir=Pt({type:e,features:[Se]});let n=e;return n})(),Rn=new Be("");var rZ={provide:Rn,useExisting:gn(()=>Kd),multi:!0};function sZ(){let n=oa()?oa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var oZ=new Be(""),Kd=(()=>{let e=class e extends yN{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sZ())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(j(Wt),j(je),j(oZ,8))},e.\u0275dir=Pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Q("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[dn([rZ]),Se]});let n=e;return n})();function yl(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function vN(n){return n!=null&&typeof n.length=="number"}var ZE=new Be(""),XE=new Be(""),aZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wd=class{static min(e){return lZ(e)}static max(e){return cZ(e)}static required(e){return uZ(e)}static requiredTrue(e){return dZ(e)}static email(e){return hZ(e)}static minLength(e){return pZ(e)}static maxLength(e){return fZ(e)}static pattern(e){return mZ(e)}static nullValidator(e){return bN(e)}static compose(e){return xN(e)}static composeAsync(e){return DN(e)}};function lZ(n){return e=>{if(yl(e.value)||yl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function cZ(n){return e=>{if(yl(e.value)||yl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function uZ(n){return yl(n.value)?{required:!0}:null}function dZ(n){return n.value===!0?null:{required:!0}}function hZ(n){return yl(n.value)||aZ.test(n.value)?null:{email:!0}}function pZ(n){return e=>yl(e.value)||!vN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function fZ(n){return e=>vN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function mZ(n){if(!n)return bN;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(yl(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function bN(n){return null}function wN(n){return n!=null}function CN(n){return Nc(n)?Gt(n):n}function IN(n){let e={};return n.forEach(t=>{e=t!=null?ue(ue({},e),t):e}),Object.keys(e).length===0?null:e}function EN(n,e){return e.map(t=>t(n))}function gZ(n){return!n.validate}function TN(n){return n.map(e=>gZ(e)?e:t=>e.validate(t))}function xN(n){if(!n)return null;let e=n.filter(wN);return e.length==0?null:function(t){return IN(EN(t,e))}}function SN(n){return n!=null?xN(TN(n)):null}function DN(n){if(!n)return null;let e=n.filter(wN);return e.length==0?null:function(t){let i=EN(t,e).map(CN);return mw(i).pipe(ft(IN))}}function MN(n){return n!=null?DN(TN(n)):null}function uN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AN(n){return n._rawValidators}function RN(n){return n._rawAsyncValidators}function qE(n){return n?Array.isArray(n)?n:[n]:[]}function Ey(n,e){return Array.isArray(n)?n.includes(e):n===e}function dN(n,e){let t=qE(e);return qE(n).forEach(r=>{Ey(t,r)||t.push(r)}),t}function hN(n,e){return qE(e).filter(t=>!Ey(n,t))}var Ty=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Uc=class extends Ty{get formDirective(){return null}get path(){return null}},Wr=class extends Ty{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xy=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_Z={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pDe=ut(ue({},_Z),{"[class.ng-submitted]":"isSubmitted"}),vl=(()=>{let e=class e extends xy{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(j(Wr,2))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Bn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Se]});let n=e;return n})(),kN=(()=>{let e=class e extends xy{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(j(Uc,10))},e.\u0275dir=Pt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Bn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Se]});let n=e;return n})();var zf="VALID",Iy="INVALID",Gd="PENDING",Uf="DISABLED";function JE(n){return(Ay(n)?n.validators:n)||null}function yZ(n){return Array.isArray(n)?SN(n):n||null}function eT(n,e){return(Ay(e)?e.asyncValidators:n)||null}function vZ(n){return Array.isArray(n)?MN(n):n||null}function Ay(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ON(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ye(1e3,"");if(!i[t])throw new ye(1001,"")}function PN(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ye(1002,"")})}var qd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zf}get invalid(){return this.status===Iy}get pending(){return this.status==Gd}get disabled(){return this.status===Uf}get enabled(){return this.status!==Uf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}hasValidator(e){return Ey(this._rawValidators,e)}hasAsyncValidator(e){return Ey(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gd,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uf,this.errors=null,this._forEachChild(i=>{i.disable(ut(ue({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ut(ue({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zf,this._forEachChild(i=>{i.enable(ut(ue({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ut(ue({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zf||this.status===Gd)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uf:zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gd,this._hasOwnPendingAsyncValidator=!0;let t=CN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Z,this.statusChanges=new Z}_calculateStatus(){return this._allControlsDisabled()?Uf:this.errors?Iy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gd)?Gd:this._anyControlsHaveStatus(Iy)?Iy:zf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ay(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yZ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=vZ(this._rawAsyncValidators)}},Sy=class extends qd{constructor(e,t,i){super(JE(t),eT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PN(this,!0,e),Object.keys(e).forEach(i=>{ON(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var KE=class extends Sy{};var Ry=new Be("CallSetDisabledState",{providedIn:"root",factory:()=>ky}),ky="always";function FN(n,e){return[...e.path,n]}function YE(n,e,t=ky){tT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),wZ(n,e),IZ(n,e),CZ(n,e),bZ(n,e)}function pN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),My(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Dy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bZ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tT(n,e){let t=AN(n);e.validator!==null?n.setValidators(uN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=RN(n);e.asyncValidator!==null?n.setAsyncValidators(uN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Dy(e._rawValidators,r),Dy(e._rawAsyncValidators,r)}function My(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=AN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=RN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return Dy(e._rawValidators,i),Dy(e._rawAsyncValidators,i),t}function wZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&LN(n,e)})}function CZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&LN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function LN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IZ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function EZ(n,e){n==null,tT(n,e)}function TZ(n,e){return My(n,e)}function NN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function xZ(n){return Object.getPrototypeOf(n.constructor)===iZ}function SZ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VN(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Kd?t=s:xZ(s)?i=s:r=s}),r||i||t||null}function DZ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Hf=class extends qd{constructor(e=null,t,i){super(JE(t),eT(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ay(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MZ=n=>n instanceof Hf;var AZ={provide:Wr,useExisting:gn(()=>Fs)},gN=Promise.resolve(),Fs=(()=>{let e=class e extends Wr{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Hf,this._registered=!1,this.name="",this.update=new Z,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=VN(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),NN(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){YE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){gN.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&W(r);gN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?FN(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(j(Uc,9),j(ZE,10),j(XE,10),j(Rn,10),j(Je,8),j(Ry,8))},e.\u0275dir=Pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[O.None,"disabled","isDisabled"],model:[O.None,"ngModel","model"],options:[O.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dn([AZ]),Se,cn]});let n=e;return n})(),BN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Pt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var zN=new Be("");var RZ={provide:Uc,useExisting:gn(()=>nT)},nT=(()=>{let e=class e extends Uc{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Z,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(My(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return YE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){pN(i.control||null,i,!1),DZ(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,SZ(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(pN(r||null,i),MZ(s)&&(YE(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);EZ(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&TZ(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tT(this.form,this),this._oldForm&&My(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(j(ZE,10),j(XE,10),j(Ry,8))},e.\u0275dir=Pt({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Q("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[O.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([RZ]),Se,cn]});let n=e;return n})();var kZ={provide:Wr,useExisting:gn(()=>iT)},iT=(()=>{let e=class e extends Wr{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Z,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=VN(this,o)}ngOnChanges(i){this._added||this._setUpControl(),NN(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return FN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(j(Uc,13),j(ZE,10),j(XE,10),j(Rn,10),j(zN,8))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""]],inputs:{name:[O.None,"formControlName","name"],isDisabled:[O.None,"disabled","isDisabled"],model:[O.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[dn([kZ]),Se,cn]});let n=e;return n})();var UN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let n=e;return n})(),QE=class extends qd{constructor(e,t,i){super(JE(t),eT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PN(this,!1,e),e.forEach((i,r)=>{ON(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function _N(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var HN=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return _N(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Sy(s,o)}record(i,r=null){let s=this._reduceControls(i);return new KE(s,r)}control(i,r,s){let o={};return this.useNonNullable?(_N(r)?o=r:(o.validators=r,o.asyncValidators=s),new Hf(i,ut(ue({},o),{nonNullable:!0}))):new Hf(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new QE(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Hf)return i;if(i instanceof qd)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ca=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ry,useValue:i.callSetDisabledState??ky}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[UN]});let n=e;return n})(),jN=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:zN,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ry,useValue:i.callSetDisabledState??ky}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[UN]});let n=e;return n})();var bl=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,s){this.el=t,this.ngModel=i,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(j(je),j(Fs,8),j(Je),j(Yt))};static \u0275dir=Pt({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&Q("input",function(o){return r.onInput(o)}),i&2&&Bn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),hs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();var OZ=["*"],$N=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-floatLabel"]],ngContentSelectors:OZ,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,r){i&1&&(_n(),I(0,"span",0),nn(1),E())},encapsulation:2,changeDetection:0})}return n})(),GN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,ml,Ke]})}return n})();var yt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(yt||{}),uo="*";function Cl(n,e){return{type:yt.Trigger,name:n,definitions:e,options:{}}}function xr(n,e=null){return{type:yt.Animate,styles:e,timings:n}}function WN(n,e=null){return{type:yt.Sequence,steps:n,options:e}}function gi(n){return{type:yt.Style,styles:n,offset:null}}function qN(n,e,t){return{type:yt.State,name:n,styles:e,options:t}}function Sr(n,e,t=null){return{type:yt.Transition,expr:n,animation:e,options:t}}function Qd(n,e=null){return{type:yt.Reference,animation:n,options:e}}function Zd(n,e=null){return{type:yt.AnimateRef,animation:n,options:e}}var wl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},jf=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Py="!";var rT=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var sT=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var kn=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Di=(()=>{class n{autofocus=!1;focused=!1;platformId=he(Bt);document=he(ht);host=he(je);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Kt(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=k.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Pt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W]},standalone:!0,features:[Ze]})}return n})(),er=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({})}return n})();var FZ=["input"],LZ=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),NZ=n=>({value:"visible",params:n}),VZ=n=>({width:n});function BZ(n,e){if(n&1){let t=le();I(0,"TimesIcon",10),Q("click",function(){F(t);let r=_(2);return L(r.clear())}),E()}n&2&&(f("styleClass","p-password-clear-icon"),N("data-pc-section","clearIcon"))}function zZ(n,e){}function UZ(n,e){n&1&&T(0,zZ,0,0,"ng-template")}function HZ(n,e){if(n&1){let t=le();re(0),T(1,BZ,1,2,"TimesIcon",7),I(2,"span",8),Q("click",function(){F(t);let r=_();return L(r.clear())}),T(3,UZ,1,0,null,9),E(),se()}if(n&2){let t=_();g(),f("ngIf",!t.clearIconTemplate),g(),N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function jZ(n,e){if(n&1){let t=le();I(0,"EyeSlashIcon",12),Q("click",function(){F(t);let r=_(3);return L(r.onMaskToggle())}),E()}n&2&&N("data-pc-section","hideIcon")}function $Z(n,e){}function GZ(n,e){n&1&&T(0,$Z,0,0,"ng-template")}function WZ(n,e){if(n&1){let t=le();I(0,"span",12),Q("click",function(){F(t);let r=_(3);return L(r.onMaskToggle())}),T(1,GZ,1,0,null,9),E()}if(n&2){let t=_(3);g(),f("ngTemplateOutlet",t.hideIconTemplate)}}function qZ(n,e){if(n&1&&(re(0),T(1,jZ,1,1,"EyeSlashIcon",11)(2,WZ,2,1,"span",11),se()),n&2){let t=_(2);g(),f("ngIf",!t.hideIconTemplate),g(),f("ngIf",t.hideIconTemplate)}}function KZ(n,e){if(n&1){let t=le();I(0,"EyeIcon",12),Q("click",function(){F(t);let r=_(3);return L(r.onMaskToggle())}),E()}n&2&&N("data-pc-section","showIcon")}function YZ(n,e){}function QZ(n,e){n&1&&T(0,YZ,0,0,"ng-template")}function ZZ(n,e){if(n&1){let t=le();I(0,"span",12),Q("click",function(){F(t);let r=_(3);return L(r.onMaskToggle())}),T(1,QZ,1,0,null,9),E()}if(n&2){let t=_(3);g(),f("ngTemplateOutlet",t.showIconTemplate)}}function XZ(n,e){if(n&1&&(re(0),T(1,KZ,1,1,"EyeIcon",11)(2,ZZ,2,1,"span",11),se()),n&2){let t=_(2);g(),f("ngIf",!t.showIconTemplate),g(),f("ngIf",t.showIconTemplate)}}function JZ(n,e){if(n&1&&(re(0),T(1,qZ,3,2,"ng-container",5)(2,XZ,3,2,"ng-container",5),se()),n&2){let t=_();g(),f("ngIf",t.unmasked),g(),f("ngIf",!t.unmasked)}}function eX(n,e){n&1&&de(0)}function tX(n,e){n&1&&de(0)}function nX(n,e){if(n&1&&(re(0),T(1,tX,1,0,"ng-container",9),se()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.contentTemplate)}}function iX(n,e){if(n&1&&(I(0,"div",15),$(1,"div",3),zi(2,"mapper"),E(),I(3,"div",16),ie(4),E()),n&2){let t=_(2);N("data-pc-section","meter"),g(),f("ngClass",Ui(2,6,t.meter,t.strengthClass))("ngStyle",Ce(9,VZ,t.meter?t.meter.width:"")),N("data-pc-section","meterLabel"),g(2),N("data-pc-section","info"),g(),Ue(t.infoText)}}function rX(n,e){n&1&&de(0)}function sX(n,e){if(n&1){let t=le();I(0,"div",13,1),Q("click",function(r){F(t);let s=_();return L(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){F(t);let s=_();return L(s.onAnimationStart(r))})("@overlayAnimation.done",function(r){F(t);let s=_();return L(s.onAnimationEnd(r))}),T(2,eX,1,0,"ng-container",9)(3,nX,2,1,"ng-container",14)(4,iX,5,11,"ng-template",null,2,qt)(6,rX,1,0,"ng-container",9),E()}if(n&2){let t=ct(5),i=_();f("ngClass","p-password-panel p-component")("@overlayAnimation",Ce(10,NZ,Lt(7,LZ,i.showTransitionOptions,i.hideTransitionOptions))),N("data-pc-section","panel"),g(2),f("ngTemplateOutlet",i.headerTemplate),g(),f("ngIf",i.contentTemplate)("ngIfElse",t),g(3),f("ngTemplateOutlet",i.footerTemplate)}}var oX=(()=>{class n{transform(t,i,...r){return i(t,...r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=n0({name:"mapper",type:n,pure:!0})}return n})(),aX={provide:Rn,useExisting:gn(()=>oT),multi:!0},oT=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new Z;onBlur=new Z;onClear=new Z;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.config=o,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,xn.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(t){switch(t.toState){case"void":xn.clear(t.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=k.getOuterWidth(this.input.nativeElement)+"px",k.absolutePosition(this.overlay,this.input.nativeElement)):k.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyUp(t){if(this.feedback){let i=t.target.value;if(this.updateUI(i),t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(t){let i=null,r=null;switch(this.testStrength(t)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null;break}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}writeValue(t){t===void 0?this.value=null:this.value=t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){Kt(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Ps(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(Kt(this.platformId)&&!this.resizeListener){let t=this.document.defaultView;this.resizeListener=this.renderer.listen(t,"resize",()=>{this.overlayVisible&&!k.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(An.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(An.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(An.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(An.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(xn.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(Wt),j(Je),j(Yt),j(je),j(gl))};static \u0275cmp=X({type:n,selectors:[["p-password"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ve(FZ,5),i&2){let s;me(s=ge())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(i,r){i&2&&Bn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[O.HasDecoratorInputTransform,"maxLength","maxLength",Le],strongLabel:"strongLabel",inputId:"inputId",feedback:[O.HasDecoratorInputTransform,"feedback","feedback",W],appendTo:"appendTo",toggleMask:[O.HasDecoratorInputTransform,"toggleMask","toggleMask",W],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[O.HasDecoratorInputTransform,"showClear","showClear",W],autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[dn([aX]),Ze],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(i,r){if(i&1){let s=le();I(0,"div",3),zi(1,"mapper"),I(2,"input",4,0),zi(4,"mapper"),zi(5,"mapper"),Q("input",function(a){return F(s),L(r.onInput(a))})("focus",function(a){return F(s),L(r.onInputFocus(a))})("blur",function(a){return F(s),L(r.onInputBlur(a))})("keyup",function(a){return F(s),L(r.onKeyUp(a))}),E(),T(6,HZ,4,3,"ng-container",5)(7,JZ,3,2,"ng-container",5)(8,sX,7,12,"div",6),E()}i&2&&(ne(r.styleClass),f("ngClass",Ui(1,26,r.toggleMask,r.containerClass))("ngStyle",r.style),N("data-pc-name","password")("data-pc-section","root"),g(2),ne(r.inputStyleClass),f("ngClass",Ui(4,29,r.disabled,r.inputFieldClass))("disabled",r.disabled)("ngStyle",r.inputStyle)("value",r.value)("variant",r.variant)("autofocus",r.autofocus),N("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",Ui(5,32,r.unmasked,r.inputType))("placeholder",r.placeholder)("autocomplete",r.autocomplete)("maxlength",r.maxLength)("data-pc-section","input"),g(4),f("ngIf",r.showClear&&r.value!=null),g(),f("ngIf",r.toggleMask),g(),f("ngIf",r.overlayVisible))},dependencies:()=>[gt,nt,Mt,_t,bl,Di,kn,sT,rT,oX],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Cl("overlayAnimation",[Sr(":enter",[gi({opacity:0,transform:"scaleY(0.8)"}),xr("{{showTransitionParams}}")]),Sr(":leave",[xr("{{hideTransitionParams}}",gi({opacity:0}))])])]},changeDetection:0})}return n})(),KN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,hs,er,kn,sT,rT,Ke]})}return n})();var El=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var cX=["*"],YN=n=>({class:n});function uX(n,e){n&1&&de(0)}function dX(n,e){if(n&1&&$(0,"span",8),n&2){let t=_(3);f("ngClass",t.iconClass()),N("aria-hidden",!0)("data-pc-section","loadingicon")}}function hX(n,e){if(n&1&&$(0,"SpinnerIcon",9),n&2){let t=_(3);f("styleClass",t.spinnerIconClass())("spin",!0),N("aria-hidden",!0)("data-pc-section","loadingicon")}}function pX(n,e){if(n&1&&(re(0),T(1,dX,1,3,"span",6)(2,hX,1,4,"SpinnerIcon",7),se()),n&2){let t=_(2);g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function fX(n,e){}function mX(n,e){if(n&1&&T(0,fX,0,0,"ng-template",10),n&2){let t=_(2);f("ngIf",t.loadingIconTemplate)}}function gX(n,e){if(n&1&&(re(0),T(1,pX,3,2,"ng-container",2)(2,mX,1,1,null,5),se()),n&2){let t=_();g(),f("ngIf",!t.loadingIconTemplate),g(),f("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Ce(3,YN,t.iconClass()))}}function _X(n,e){if(n&1&&$(0,"span",8),n&2){let t=_(2);f("ngClass",t.iconClass()),N("data-pc-section","icon")}}function yX(n,e){}function vX(n,e){if(n&1&&T(0,yX,0,0,"ng-template",10),n&2){let t=_(2);f("ngIf",!t.icon&&t.iconTemplate)}}function bX(n,e){if(n&1&&(re(0),T(1,_X,1,2,"span",6)(2,vX,1,1,null,5),se()),n&2){let t=_();g(),f("ngIf",t.icon&&!t.iconTemplate),g(),f("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Ce(3,YN,t.iconClass()))}}function wX(n,e){if(n&1&&(I(0,"span",11),ie(1),E()),n&2){let t=_();N("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),g(),Ue(t.label)}}function CX(n,e){if(n&1&&(I(0,"span",8),ie(1),E()),n&2){let t=_();ne(t.badgeClass),f("ngClass",t.badgeStyleClass()),N("data-pc-section","badge"),g(),Ue(t.badge)}}var Tl={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},Xd=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Tl);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){k.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[Tl.button,Tl.component];return this.icon&&!this.label&&te.isEmpty(this.htmlElement.textContent)&&t.push(Tl.iconOnly),this.loading&&(t.push(Tl.disabled,Tl.loading),!this.icon&&this.label&&t.push(Tl.labelOnly),this.icon&&!this.label&&!te.isEmpty(this.htmlElement.textContent)&&t.push(Tl.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!k.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!k.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&k.addClass(i,r);let s=this.getIconClass();s&&k.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=k.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=k.findSingle(this.htmlElement,".p-button-icon"),i=k.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(j(je),j(ht))};static \u0275dir=Pt({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[O.HasDecoratorInputTransform,"raised","raised",W],rounded:[O.HasDecoratorInputTransform,"rounded","rounded",W],text:[O.HasDecoratorInputTransform,"text","text",W],outlined:[O.HasDecoratorInputTransform,"outlined","outlined",W],size:"size",plain:[O.HasDecoratorInputTransform,"plain","plain",W]},standalone:!0,features:[Ze]})}return n})(),Hc=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Z;onFocus=new Z;onBlur=new Z;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(j(je))};static \u0275cmp=X({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Bn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],loading:[O.HasDecoratorInputTransform,"loading","loading",W],loadingIcon:"loadingIcon",raised:[O.HasDecoratorInputTransform,"raised","raised",W],rounded:[O.HasDecoratorInputTransform,"rounded","rounded",W],text:[O.HasDecoratorInputTransform,"text","text",W],plain:[O.HasDecoratorInputTransform,"plain","plain",W],severity:"severity",outlined:[O.HasDecoratorInputTransform,"outlined","outlined",W],link:[O.HasDecoratorInputTransform,"link","link",W],tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Ze,_e],ngContentSelectors:cX,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(_n(),I(0,"button",0),Q("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),nn(1),T(2,uX,1,0,"ng-container",1)(3,gX,3,5,"ng-container",2)(4,bX,3,5,"ng-container",2)(5,wX,2,3,"span",3)(6,CX,2,5,"span",4),E()),i&2&&(f("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),N("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),g(2),f("ngTemplateOutlet",r.contentTemplate),g(),f("ngIf",r.loading),g(),f("ngIf",!r.loading),g(),f("ngIf",!r.contentTemplate&&r.label),g(),f("ngIf",!r.contentTemplate&&r.badge))},dependencies:[nt,Mt,_t,gt,ai,Di,El],encapsulation:2,changeDetection:0})}return n})(),_r=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[Hc,Ke]})}return n})();var ZN=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},IX=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),i.push(t[u],t[h],t[p],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IX(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new lT;let p=s<<2|a>>4;if(i.push(p),c!==64){let m=a<<4&240|c>>2;if(i.push(m),h!==64){let v=c<<6&192|h;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},lT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},EX=function(n){let e=ZN(n);return XN.encodeByteArray(e,!0)},$f=function(n){return EX(n).replace(/\./g,"")},uT=function(n){try{return XN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xX=()=>TX().__FIREBASE_DEFAULTS__,SX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DX=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&uT(n[1]);return e&&JSON.parse(e)},Ly=()=>{try{return xX()||SX()||DX()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dT=n=>{var e,t;return(t=(e=Ly())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JN=n=>{let e=dT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},hT=()=>{var n;return(n=Ly())===null||n===void 0?void 0:n.config},pT=n=>{var e;return(e=Ly())===null||e===void 0?void 0:e[`_${n}`]};var Fy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function e4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(t)),$f(JSON.stringify(o)),""].join(".")}function _i(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())}function MX(){var n;let e=(n=Ly())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r4(){let n=_i();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function s4(){return!MX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function o4(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var AX="FirebaseError",qr=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=AX,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}},ua=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?RX(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qr(r,a,i)}};function RX(n,e){return n.replace(kX,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var kX=/\{\$([^}]+)}/g;function a4(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jc(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(QN(s)&&QN(o)){if(!jc(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function QN(n){return n!==null&&typeof n=="object"}function Gf(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eh(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function th(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function l4(n,e){let t=new cT(n,e);return t.subscribe.bind(t)}var cT=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");OX(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=aT),r.error===void 0&&(r.error=aT),r.complete===void 0&&(r.complete=aT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function OX(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function aT(){}var E2e=4*60*60*1e3;function tr(n){return n&&n._delegate?n._delegate:n}var ps=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $c="[DEFAULT]";var mT=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Fy;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FX(e))try{this.getOrInitializeService({instanceIdentifier:$c})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return G(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$c){return this.instances.has(e)}getOptions(e=$c){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PX(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$c){return this.component?this.component.multipleInstances?e:$c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PX(n){return n===$c?void 0:n}function FX(n){return n.instantiationMode==="EAGER"}var Ny=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new mT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var LX=[],Ut=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ut||{}),NX={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},VX=Ut.INFO,BX={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},zX=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=BX[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xl=class{constructor(e){this.name=e,this._logLevel=VX,this._logHandler=zX,this._userLogHandler=null,LX.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}};var UX=(n,e)=>e.some(t=>n instanceof t),c4,u4;function HX(){return c4||(c4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jX(){return u4||(u4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var d4=new WeakMap,_T=new WeakMap,h4=new WeakMap,gT=new WeakMap,vT=new WeakMap;function $X(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ho(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&d4.set(t,n)}).catch(()=>{}),vT.set(e,n),e}function GX(n){if(_T.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});_T.set(n,e)}var yT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _T.get(n);if(e==="objectStoreNames")return n.objectStoreNames||h4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function p4(n){yT=n(yT)}function WX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Vy(this),e,...t);return h4.set(i,e.sort?e.sort():[e]),ho(i)}:jX().includes(n)?function(...e){return n.apply(Vy(this),e),ho(d4.get(this))}:function(...e){return ho(n.apply(Vy(this),e))}}function qX(n){return typeof n=="function"?WX(n):(n instanceof IDBTransaction&&GX(n),UX(n,HX())?new Proxy(n,yT):n)}function ho(n){if(n instanceof IDBRequest)return $X(n);if(gT.has(n))return gT.get(n);let e=qX(n);return e!==n&&(gT.set(n,e),vT.set(e,n)),e}var Vy=n=>vT.get(n);function m4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=ho(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ho(o.result),l.oldVersion,l.newVersion,ho(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var KX=["get","getKey","getAll","getAllKeys","count"],YX=["put","add","delete","clear"],bT=new Map;function f4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bT.get(e))return bT.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=YX.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||KX.includes(t)))return;let s=function(o,...a){return G(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return bT.set(e,s),s}p4(n=>ut(ue({},n),{get:(e,t,i)=>f4(e,t)||n.get(e,t,i),has:(e,t)=>!!f4(e,t)||n.has(e,t)}));var CT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QX(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function QX(n){let e=n.getComponent();return e?.type==="VERSION"}var IT="@firebase/app",g4="0.10.8";var Gc=new xl("@firebase/app"),ZX="@firebase/app-compat",XX="@firebase/analytics-compat",JX="@firebase/analytics",eJ="@firebase/app-check-compat",tJ="@firebase/app-check",nJ="@firebase/auth",iJ="@firebase/auth-compat",rJ="@firebase/database",sJ="@firebase/database-compat",oJ="@firebase/functions",aJ="@firebase/functions-compat",lJ="@firebase/installations",cJ="@firebase/installations-compat",uJ="@firebase/messaging",dJ="@firebase/messaging-compat",hJ="@firebase/performance",pJ="@firebase/performance-compat",fJ="@firebase/remote-config",mJ="@firebase/remote-config-compat",gJ="@firebase/storage",_J="@firebase/storage-compat",yJ="@firebase/firestore",vJ="@firebase/vertexai-preview",bJ="@firebase/firestore-compat",wJ="firebase",CJ="10.12.5";var ET="[DEFAULT]",IJ={[IT]:"fire-core",[ZX]:"fire-core-compat",[JX]:"fire-analytics",[XX]:"fire-analytics-compat",[tJ]:"fire-app-check",[eJ]:"fire-app-check-compat",[nJ]:"fire-auth",[iJ]:"fire-auth-compat",[rJ]:"fire-rtdb",[sJ]:"fire-rtdb-compat",[oJ]:"fire-fn",[aJ]:"fire-fn-compat",[lJ]:"fire-iid",[cJ]:"fire-iid-compat",[uJ]:"fire-fcm",[dJ]:"fire-fcm-compat",[hJ]:"fire-perf",[pJ]:"fire-perf-compat",[fJ]:"fire-rc",[mJ]:"fire-rc-compat",[gJ]:"fire-gcs",[_J]:"fire-gcs-compat",[yJ]:"fire-fst",[bJ]:"fire-fst-compat",[vJ]:"fire-vertex","fire-js":"fire-js",[wJ]:"fire-js-all"};var Wf=new Map,EJ=new Map,TT=new Map;function _4(n,e){try{n.container.addComponent(e)}catch(t){Gc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dl(n){let e=n.name;if(TT.has(e))return Gc.debug(`There were multiple attempts to register component ${e}.`),!1;TT.set(e,n);for(let t of Wf.values())_4(t,n);for(let t of EJ.values())_4(t,n);return!0}function Kf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function po(n){return n.settings!==void 0}var TJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new ua("app","Firebase",TJ);var xT=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}};var Ml=CJ;function MT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ET,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Sl.create("bad-app-name",{appName:String(r)});if(t||(t=hT()),!t)throw Sl.create("no-options");let s=Wf.get(r);if(s){if(jc(t,s.options)&&jc(i,s.config))return s;throw Sl.create("duplicate-app",{appName:r})}let o=new Ny(r);for(let l of TT.values())o.addComponent(l);let a=new xT(t,i,o);return Wf.set(r,a),a}function nh(n=ET){let e=Wf.get(n);if(!e&&n===ET&&hT())return MT();if(!e)throw Sl.create("no-app",{appName:n});return e}function By(){return Array.from(Wf.values())}function yi(n,e,t){var i;let r=(i=IJ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gc.warn(a.join(" "));return}Dl(new ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var xJ="firebase-heartbeat-database",SJ=1,qf="firebase-heartbeat-store",wT=null;function w4(){return wT||(wT=m4(xJ,SJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sl.create("idb-open",{originalErrorMessage:n.message})})),wT}function DJ(n){return G(this,null,function*(){try{let t=(yield w4()).transaction(qf),i=yield t.objectStore(qf).get(C4(n));return yield t.done,i}catch(e){if(e instanceof qr)Gc.warn(e.message);else{let t=Sl.create("idb-get",{originalErrorMessage:e?.message});Gc.warn(t.message)}}})}function y4(n,e){return G(this,null,function*(){try{let i=(yield w4()).transaction(qf,"readwrite");yield i.objectStore(qf).put(e,C4(n)),yield i.done}catch(t){if(t instanceof qr)Gc.warn(t.message);else{let i=Sl.create("idb-set",{originalErrorMessage:t?.message});Gc.warn(i.message)}}})}function C4(n){return`${n.name}!${n.options.appId}`}var MJ=1024,AJ=30*24*60*60*1e3,ST=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new DT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return G(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v4();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=AJ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return G(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=v4(),{heartbeatsToSend:i,unsentEntries:r}=RJ(this._heartbeatsCache.heartbeats),s=$f(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function v4(){return new Date().toISOString().substring(0,10)}function RJ(n,e=MJ){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),b4(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),b4(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var DT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(this,null,function*(){return fT()?o4().then(()=>!0).catch(()=>!1):!1})}read(){return G(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield DJ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return G(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return y4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return G(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return y4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function b4(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function kJ(n){Dl(new ps("platform-logger",e=>new CT(e),"PRIVATE")),Dl(new ps("heartbeat",e=>new ST(e),"PRIVATE")),yi(IT,g4,n),yi(IT,g4,"esm2017"),yi("fire-js","")}kJ("");var OJ="firebase",PJ="10.12.5";yi(OJ,PJ,"app");var qc=new Zo("ANGULARFIRE2_VERSION");function Uy(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Yf=(n,e)=>{let t=e?[e]:By(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},rh=class{constructor(){return Yf(FJ)}},FJ="app-check";function ih(){}var zy=class{zone;delegate;constructor(e,t=hw){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},AT=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ih,{},ih,ih)),t.pipe(ii({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},sh=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zy(Zone.current)),this.insideAngular=t.run(()=>new zy(Zone.current,Ju)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Ne(Qe))};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hy(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function LJ(n){return Hy().ngZone.runOutsideAngular(()=>n())}function Wc(n){return Hy().ngZone.run(()=>n())}function NJ(n){return VJ(Hy())(n)}function VJ(n){return function(t){return t=t.lift(new AT(n.ngZone)),t.pipe(Qa(n.outsideAngular),Ya(n.insideAngular))}}var BJ=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Wc(()=>n.apply(void 0,i))},Kr=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Wc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ih,{},ih,ih))),i[s]=BJ(i[s],t));let r=LJ(()=>n.apply(this,i));if(!e)if(r instanceof Et){let s=Hy();return r.pipe(Qa(s.outsideAngular),Ya(s.insideAngular))}else return Wc(()=>r);return r instanceof Et?r.pipe(NJ):r instanceof Promise?Wc(()=>new Promise((s,o)=>r.then(a=>Wc(()=>s(a)),a=>Wc(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Wc(()=>r)};var da=class{constructor(e){return e}},Kc=class{constructor(){return By()}};function zJ(n){return n&&n.length===1?n[0]:new da(nh())}var RT=new Be("angularfire2._apps"),UJ={provide:da,useFactory:zJ,deps:[[new Vi,RT]]},HJ={provide:Kc,deps:[[new Vi,RT]]};function jJ(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new da(i)}}var $J=(()=>{class n{constructor(t){yi("angularfire",qc.full,"core"),yi("angularfire",qc.full,"app"),yi("angular",DL.full,t.toString())}static \u0275fac=function(i){return new(i||n)(Ne(Bt))};static \u0275mod=Ee({type:n});static \u0275inj=Ie({providers:[UJ,HJ]})}return n})();function I4(n,...e){return{ngModule:$J,providers:[{provide:RT,useFactory:jJ(n),multi:!0,deps:[Qe,ri,sh,...e]}]}}var E4=Kr(MT,!0);function H4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var j4=H4,$4=new ua("auth","Firebase",H4());var Ky=new xl("@firebase/auth");function GJ(n,...e){Ky.logLevel<=Ut.WARN&&Ky.warn(`Auth (${Ml}): ${n}`,...e)}function $y(n,...e){Ky.logLevel<=Ut.ERROR&&Ky.error(`Auth (${Ml}): ${n}`,...e)}function mo(n,...e){throw JT(n,...e)}function Yc(n,...e){return JT(n,...e)}function G4(n,e,t){let i=Object.assign(Object.assign({},j4()),{[e]:t});return new ua("auth","Firebase",i).create(e,{appName:n.name})}function Rl(n){return G4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JT(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $4.create(n,...e)}function ot(n,e,...t){if(!n)throw JT(e,...t)}function ha(n){let e="INTERNAL ASSERTION FAILED: "+n;throw $y(e),new Error(e)}function kl(n,e){n||ha(e)}function FT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WJ(){return T4()==="http:"||T4()==="https:"}function T4(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function qJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WJ()||n4()||"connection"in navigator)?navigator.onLine:!0}function KJ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kl(t>e,"Short delay should be less than long delay!"),this.isMobile=t4()||i4()}get(){return qJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ex(n,e){kl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Yy=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var YJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QJ=new Qc(3e4,6e4);function Xc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ol(s,o,a,l){return G(this,arguments,function*(n,e,t,i,r={}){return W4(n,r,()=>G(this,null,function*(){let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});let h=Gf(Object.assign({key:n.config.apiKey},u)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),Yy.fetch()(q4(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function W4(n,e,t){return G(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},YJ),e);try{let r=new LT(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw jy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw jy(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw G4(n,u,c);mo(n,u)}}catch(r){if(r instanceof qr)throw r;mo(n,"network-request-failed",{message:String(r)})}})}function sv(s,o,a,l){return G(this,arguments,function*(n,e,t,i,r={}){let c=yield Ol(n,e,t,i,r);return"mfaPendingCredential"in c&&mo(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function q4(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?ex(n.config,r):`${n.config.apiScheme}://${r}`}function ZJ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var LT=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Yc(this.auth,"network-request-failed")),QJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function jy(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Yc(n,e,i);return r.customData._tokenResponse=t,r}function x4(n){return n!==void 0&&n.enterprise!==void 0}var NT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZJ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function XJ(n,e){return G(this,null,function*(){return Ol(n,"GET","/v2/recaptchaConfig",Xc(n,e))})}function JJ(n,e){return G(this,null,function*(){return Ol(n,"POST","/v1/accounts:delete",e)})}function K4(n,e){return G(this,null,function*(){return Ol(n,"POST","/v1/accounts:lookup",e)})}function Qf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tx(n,e=!1){return G(this,null,function*(){let t=tr(n),i=yield t.getIdToken(e),r=nx(i);ot(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Qf(kT(r.auth_time)),issuedAtTime:Qf(kT(r.iat)),expirationTime:Qf(kT(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kT(n){return Number(n)*1e3}function nx(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return $y("JWT malformed, contained fewer than 3 sections"),null;try{let r=uT(t);return r?JSON.parse(r):($y("Failed to decode base64 JWT payload"),null)}catch(r){return $y("Caught error parsing JWT payload as JSON",r?.toString()),null}}function S4(n){let e=nx(n);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xf(n,e,t=!1){return G(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof qr&&eee(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function eee({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var VT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>G(this,null,function*(){yield this.iteration()}),t)}iteration(){return G(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qf(this.lastLoginAt),this.creationTime=Qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qy(n){return G(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Xf(n,K4(t,{idToken:i}));ot(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Y4(s.providerUserInfo):[],a=tee(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function ix(n){return G(this,null,function*(){let e=tr(n);yield Qy(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function tee(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Y4(n){return n.map(e=>{var{providerId:t}=e,i=pw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function nee(n,e){return G(this,null,function*(){let t=yield W4(n,{},()=>G(this,null,function*(){let i=Gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=q4(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yy.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function iee(n,e){return G(this,null,function*(){return Ol(n,"POST","/v2/accounts:revokeToken",Xc(n,e))})}var Zf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ot(e.length!==0,"internal-error");let t=S4(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return G(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return G(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield nee(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(ot(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ot(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ot(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ha("not implemented")}};function Al(n,e){ot(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var oh=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return G(this,null,function*(){let t=yield Xf(this,this.stsTokenManager.getToken(this.auth,e));return ot(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return tx(this,e)}reload(){return ix(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return G(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Qy(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return G(this,null,function*(){if(po(this.auth.app))return Promise.reject(Rl(this.auth));let e=yield this.getIdToken();return yield Xf(this,JJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(r=t.email)!==null&&r!==void 0?r:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=t.createdAt)!==null&&c!==void 0?c:void 0,R=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:z,isAnonymous:q,providerData:Y,stsTokenManager:A}=t;ot(V&&A,e,"internal-error");let x=Zf.fromJSON(this.name,A);ot(typeof V=="string",e,"internal-error"),Al(h,e.name),Al(p,e.name),ot(typeof z=="boolean",e,"internal-error"),ot(typeof q=="boolean",e,"internal-error"),Al(m,e.name),Al(v,e.name),Al(w,e.name),Al(C,e.name),Al(S,e.name),Al(R,e.name);let D=new n({uid:V,auth:e,email:p,emailVerified:z,displayName:h,isAnonymous:q,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:S,lastLoginAt:R});return Y&&Array.isArray(Y)&&(D.providerData=Y.map(B=>Object.assign({},B))),C&&(D._redirectEventId=C),D}static _fromIdTokenResponse(e,t,i=!1){return G(this,null,function*(){let r=new Zf;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Qy(s),s})}static _fromGetAccountInfoResponse(e,t,i){return G(this,null,function*(){let r=t.users[0];ot(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Y4(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Zf;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Jf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var D4=new Map;function pa(n){kl(n instanceof Function,"Expected a class definition");let e=D4.get(n);return e?(kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D4.set(n,e),e)}var ree=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return G(this,null,function*(){return!0})}_set(t,i){return G(this,null,function*(){this.storage[t]=i})}_get(t){return G(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return G(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),BT=ree;function Gy(n,e,t){return`firebase:${n}:${e}:${t}`}var Zy=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Gy(this.userKey,r.apiKey,s),this.fullPersistenceKey=Gy("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return G(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?oh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return G(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return G(this,null,function*(){if(!t.length)return new n(pa(BT),e,i);let r=(yield Promise.all(t.map(c=>G(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||pa(BT),o=Gy(i,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(o);if(u){let h=oh._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>G(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,i))})}};function M4(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eV(e))return"Blackberry";if(tV(e))return"Webos";if(rx(e))return"Safari";if((e.includes("chrome/")||Z4(e))&&!e.includes("edge/"))return"Chrome";if(J4(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Q4(n=_i()){return/firefox\//i.test(n)}function rx(n=_i()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z4(n=_i()){return/crios\//i.test(n)}function X4(n=_i()){return/iemobile/i.test(n)}function J4(n=_i()){return/android/i.test(n)}function eV(n=_i()){return/blackberry/i.test(n)}function tV(n=_i()){return/webos/i.test(n)}function ov(n=_i()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function see(n=_i()){var e;return ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oee(){return r4()&&document.documentMode===10}function nV(n=_i()){return ov(n)||J4(n)||tV(n)||eV(n)||/windows phone/i.test(n)||X4(n)}function aee(){try{return!!(window&&window!==window.top)}catch{return!1}}function iV(n,e=[]){let t;switch(n){case"Browser":t=M4(_i());break;case"Worker":t=`${M4(_i())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${i}`}var zT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return G(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function lee(t){return G(this,arguments,function*(n,e={}){return Ol(n,"GET","/v2/passwordPolicy",Xc(n,e))})}var cee=6,UT=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:cee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var HT=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new zT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pa(t)),this._initializationPromise=this.queue(()=>G(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Zy.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return G(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return G(this,null,function*(){try{let t=yield K4(this,{idToken:e}),i=yield oh._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return G(this,null,function*(){var t;if(po(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return G(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return G(this,null,function*(){try{yield Qy(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KJ()}_delete(){return G(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return G(this,null,function*(){if(po(this.app))return Promise.reject(Rl(this));let t=e?tr(e):null;return t&&ot(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return G(this,null,function*(){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>G(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return G(this,null,function*(){return po(this.app)?Promise.reject(Rl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return po(this.app)?Promise.reject(Rl(this)):this.queue(()=>G(this,null,function*(){yield this.assertedPersistence.setPersistence(pa(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return G(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return G(this,null,function*(){let e=yield lee(this),t=new UT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return G(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield iee(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return G(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return G(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&pa(e)||this._popupRedirectResolver;ot(t,this,"argument-error"),this.redirectPersistenceManager=yield Zy.create(this,[pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return G(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>G(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return G(this,null,function*(){if(e===this.currentUser)return this.queue(()=>G(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return G(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return G(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return G(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&GJ(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ah(n){return tr(n)}var Xy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=l4(t=>this.observer=t)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var av={loadJS(){return G(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uee(n){av=n}function rV(n){return av.loadJS(n)}function dee(){return av.recaptchaEnterpriseScript}function hee(){return av.gapiScript}function sV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var pee="recaptcha-enterprise",fee="NO_RECAPTCHA",jT=class{constructor(e){this.type=pee,this.auth=ah(e)}verify(e="verify",t=!1){return G(this,null,function*(){function i(s){return G(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>G(this,null,function*(){XJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new NT(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;x4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(fee)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&x4(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dee();l.length!==0&&(l+=a),rV(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function A4(n,e,t,i=!1){return G(this,null,function*(){let r=new jT(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function R4(n,e,t,i){return G(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield A4(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>G(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield A4(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function sx(n,e){let t=Kf(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(jc(s,e??{}))return r;mo(r,"already-initialized")}return t.initialize({options:e})}function mee(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(pa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ox(n,e,t){let i=ah(n);ot(i._canInitEmulator,i,"emulator-config-failed"),ot(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=oV(e),{host:o,port:a}=gee(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||_ee()}function oV(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gee(n){let e=oV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:k4(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:k4(o)}}}function k4(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _ee(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var em=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}};function yee(n,e){return G(this,null,function*(){return Ol(n,"POST","/v1/accounts:signUp",e)})}function vee(n,e){return G(this,null,function*(){return sv(n,"POST","/v1/accounts:signInWithPassword",Xc(n,e))})}function bee(n,e){return G(this,null,function*(){return sv(n,"POST","/v1/accounts:signInWithEmailLink",Xc(n,e))})}function wee(n,e){return G(this,null,function*(){return sv(n,"POST","/v1/accounts:signInWithEmailLink",Xc(n,e))})}var tm=class n extends em{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return G(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R4(e,t,"signInWithPassword",vee);case"emailLink":return bee(e,{email:this._email,oobCode:this._password});default:mo(e,"internal-error")}})}_linkToIdToken(e,t){return G(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R4(e,i,"signUpPassword",yee);case"emailLink":return wee(e,{idToken:t,email:this._email,oobCode:this._password});default:mo(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function OT(n,e){return G(this,null,function*(){return sv(n,"POST","/v1/accounts:signInWithIdp",Xc(n,e))})}function Cee(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Iee(n){let e=eh(th(n)).link,t=e?eh(th(e)).deep_link_id:null,i=eh(th(n)).deep_link_id;return(i?eh(th(i)).link:null)||i||t||e||n}var Jy=class n{constructor(e){var t,i,r,s,o,a;let l=eh(th(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=Cee((r=l.mode)!==null&&r!==void 0?r:null);ot(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Iee(e);try{return new n(t)}catch{return null}}};var aV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return tm._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Jy.parseLink(i);return ot(r,"argument-error"),tm._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ev=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $T=class extends ev{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nm=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return G(this,null,function*(){let s=yield oh._fromIdTokenResponse(e,i,r),o=O4(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return G(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=O4(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function O4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var GT=class n extends qr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function lV(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?GT._fromErrorAndOperation(n,s,e,i):s})}function Eee(n,e,t=!1){return G(this,null,function*(){let i=yield Xf(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return nm._forOperation(n,"link",i)})}function Tee(n,e,t=!1){return G(this,null,function*(){let{auth:i}=n;if(po(i.app))return Promise.reject(Rl(i));let r="reauthenticate";try{let s=yield Xf(n,lV(i,r,e,n),t);ot(s.idToken,i,"internal-error");let o=nx(s.idToken);ot(o,i,"internal-error");let{sub:a}=o;return ot(n.uid===a,i,"user-mismatch"),nm._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&mo(i,"user-mismatch"),s}})}function cV(n,e,t=!1){return G(this,null,function*(){if(po(n.app))return Promise.reject(Rl(n));let i="signIn",r=yield lV(n,i,e),s=yield nm._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function ax(n,e){return G(this,null,function*(){return cV(ah(n),e)})}function xee(n){return G(this,null,function*(){let e=ah(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function lx(n,e,t){return po(n.app)?Promise.reject(Rl(n)):ax(tr(n),aV.credential(e,t)).catch(i=>G(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&xee(n),i}))}function rm(n,e,t,i){return tr(n).onIdTokenChanged(e,t,i)}function cx(n,e,t){return tr(n).beforeAuthStateChanged(e,t)}function ux(n){return tr(n).signOut()}var tv="__sak";var nv=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tv,"1"),this.storage.removeItem(tv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function See(){let n=_i();return rx(n)||ov(n)}var Dee=1e3,Mee=10,Aee=(()=>{class n extends nv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=See()&&aee(),this.fallbackToPolling=nV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);oee()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Mee):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Dee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return G(this,null,function*(){yield qa(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return G(this,null,function*(){let i=yield qa(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return G(this,null,function*(){yield qa(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),uV=Aee;var Ree=(()=>{class n extends nv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),dx=Ree;function kee(n){return Promise.all(n.map(e=>G(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Oee=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return G(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(u=>G(this,null,function*(){return u(i.origin,o)})),c=yield kee(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function dV(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var WT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return G(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=dV("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function fo(){return window}function Pee(n){fo().location.href=n}function hV(){return typeof fo().WorkerGlobalScope<"u"&&typeof fo().importScripts=="function"}function Fee(){return G(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Lee(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Nee(){return hV()?self:null}var pV="firebaseLocalStorageDb",Vee=1,iv="firebaseLocalStorage",fV="fbase_key",Zc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lv(n,e){return n.transaction([iv],e?"readwrite":"readonly").objectStore(iv)}function Bee(){let n=indexedDB.deleteDatabase(pV);return new Zc(n).toPromise()}function qT(){let n=indexedDB.open(pV,Vee);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(iv,{keyPath:fV})}catch(r){t(r)}}),n.addEventListener("success",()=>G(this,null,function*(){let i=n.result;i.objectStoreNames.contains(iv)?e(i):(i.close(),yield Bee(),e(yield qT()))}))})}function P4(n,e,t){return G(this,null,function*(){let i=lv(n,!0).put({[fV]:e,value:t});return new Zc(i).toPromise()})}function zee(n,e){return G(this,null,function*(){let t=lv(n,!1).get(e),i=yield new Zc(t).toPromise();return i===void 0?null:i.value})}function F4(n,e){let t=lv(n,!0).delete(e);return new Zc(t).toPromise()}var Uee=800,Hee=3,jee=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return G(this,null,function*(){return this.db?this.db:(this.db=yield qT(),this.db)})}_withRetries(t){return G(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>Hee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return G(this,null,function*(){return hV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return G(this,null,function*(){this.receiver=Oee._getInstance(Nee()),this.receiver._subscribe("keyChanged",(t,i)=>G(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>G(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return G(this,null,function*(){var t,i;if(this.activeServiceWorker=yield Fee(),!this.activeServiceWorker)return;this.sender=new WT(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return G(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Lee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return G(this,null,function*(){try{if(!indexedDB)return!1;let t=yield qT();return yield P4(t,tv,"1"),yield F4(t,tv),!0}catch{}return!1})}_withPendingWrite(t){return G(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return G(this,null,function*(){return this._withPendingWrite(()=>G(this,null,function*(){return yield this._withRetries(r=>P4(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return G(this,null,function*(){let i=yield this._withRetries(r=>zee(r,t));return this.localCache[t]=i,i})}_remove(t){return G(this,null,function*(){return this._withPendingWrite(()=>G(this,null,function*(){return yield this._withRetries(i=>F4(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return G(this,null,function*(){let t=yield this._withRetries(s=>{let o=lv(s,!1).getAll();return new Zc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>G(this,null,function*(){return this._poll()}),Uee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),mV=jee;var gMe=sV("rcb"),_Me=new Qc(3e4,6e4);function $ee(n,e){return e?pa(e):(ot(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var im=class extends em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return OT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return OT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return OT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Gee(n){return cV(n.auth,new im(n),n.bypassAuthState)}function Wee(n){let{auth:e,user:t}=n;return ot(t,e,"internal-error"),Tee(t,new im(n),n.bypassAuthState)}function qee(n){return G(this,null,function*(){let{auth:e,user:t}=n;return ot(t,e,"internal-error"),Eee(t,new im(n),n.bypassAuthState)})}var KT=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>G(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return G(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gee;case"linkViaPopup":case"linkViaRedirect":return qee;case"reauthViaPopup":case"reauthViaRedirect":return Wee;default:mo(this.auth,"internal-error")}}resolve(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yMe=new Qc(2e3,1e4);var Kee="pendingRedirect",Wy=new Map,YT=class n extends KT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return G(this,null,function*(){let e=Wy.get(this.auth._key());if(!e){try{let i=(yield Yee(this.resolver,this.auth))?yield qa(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Wy.set(this.auth._key(),e)}return this.bypassAuthState||Wy.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return G(this,null,function*(){if(e.type==="signInViaRedirect")return qa(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,qa(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return G(this,null,function*(){})}cleanUp(){}};function Yee(n,e){return G(this,null,function*(){let t=Xee(e),i=Zee(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Qee(n,e){Wy.set(n._key(),e)}function Zee(n){return pa(n._redirectPersistence)}function Xee(n){return Gy(Kee,n.config.apiKey,n.name)}function Jee(n,e,t=!1){return G(this,null,function*(){if(po(n.app))return Promise.reject(Rl(n));let i=ah(n),r=$ee(i,e),o=yield new YT(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var ete=10*60*1e3,QT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tte(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!gV(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Yc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ete&&this.cachedEventUids.clear(),this.cachedEventUids.has(L4(e))}saveEventToCache(e){this.cachedEventUids.add(L4(e)),this.lastProcessedEventTime=Date.now()}};function L4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gV({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tte(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gV(n);default:return!1}}function nte(t){return G(this,arguments,function*(n,e={}){return Ol(n,"GET","/v1/projects",e)})}var ite=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rte=/^https?/;function ste(n){return G(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield nte(n);for(let t of e)try{if(ote(t))return}catch{}mo(n,"unauthorized-domain")})}function ote(n){let e=FT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!rte.test(t))return!1;if(ite.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var ate=new Qc(3e4,6e4);function N4(){let n=fo().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lte(n){return new Promise((e,t)=>{var i,r,s;function o(){N4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N4(),t(Yc(n,"network-request-failed"))},timeout:ate.get()})}if(!((r=(i=fo().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=fo().gapi)===null||s===void 0)&&s.load)o();else{let a=sV("iframefcb");return fo()[a]=()=>{gapi.load?o():t(Yc(n,"network-request-failed"))},rV(`${hee()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw qy=null,e})}var qy=null;function cte(n){return qy=qy||lte(n),qy}var ute=new Qc(5e3,15e3),dte="__/auth/iframe",hte="emulator/auth/iframe",pte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mte(n){let e=n.config;ot(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ex(e,hte):`https://${n.config.authDomain}/${dte}`,i={apiKey:e.apiKey,appName:n.name,v:Ml},r=fte.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Gf(i).slice(1)}`}function gte(n){return G(this,null,function*(){let e=yield cte(n),t=fo().gapi;return ot(t,n,"internal-error"),e.open({where:document.body,url:mte(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pte,dontclear:!0},i=>new Promise((r,s)=>G(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Yc(n,"network-request-failed"),a=fo().setTimeout(()=>{s(o)},ute.get());function l(){fo().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var _te={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yte=500,vte=600,bte="_blank",wte="http://localhost",rv=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cte(n,e,t,i=yte,r=vte){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},_te),{width:i.toString(),height:r.toString(),top:s,left:o}),c=_i().toLowerCase();t&&(a=Z4(c)?bte:t),Q4(c)&&(e=e||wte,l.scrollbars="yes");let u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(see(c)&&a!=="_self")return Ite(e||"",a),new rv(null);let h=window.open(e||"",a,u);ot(h,n,"popup-blocked");try{h.focus()}catch{}return new rv(h)}function Ite(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Ete="__/auth/handler",Tte="emulator/auth/handler",xte=encodeURIComponent("fac");function V4(n,e,t,i,r,s){return G(this,null,function*(){ot(n.config.authDomain,n,"auth-domain-config-required"),ot(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ml,eventId:r};if(e instanceof ev){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",a4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof $T){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${xte}=${encodeURIComponent(l)}`:"";return`${Ste(n)}?${Gf(a).slice(1)}${c}`})}function Ste({config:n}){return n.emulator?ex(n,Tte):`https://${n.authDomain}/${Ete}`}var PT="webStorageSupport",ZT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dx,this._completeRedirectFn=Jee,this._overrideRedirectResult=Qee}_openPopup(e,t,i,r){return G(this,null,function*(){var s;kl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield V4(e,t,i,FT(),r);return Cte(e,o,dV())})}_openRedirect(e,t,i,r){return G(this,null,function*(){yield this._originValidation(e);let s=yield V4(e,t,i,FT(),r);return Pee(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(kl(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return G(this,null,function*(){let t=yield gte(e),i=new QT(e);return t.register("authEvent",r=>(ot(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(PT,{type:PT},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[PT];o!==void 0&&t(!!o),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ste(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nV()||rx()||ov()}},_V=ZT;var B4="@firebase/auth",z4="1.7.6";var XT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return G(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Dte(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mte(n){Dl(new ps("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iV(n)},c=new HT(i,r,s,l);return mee(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Dl(new ps("auth-internal",e=>{let t=ah(e.getProvider("auth").getImmediate());return(i=>new XT(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(B4,z4,Dte(n)),yi(B4,z4,"esm2017")}var Ate=5*60,Rte=pT("authIdTokenMaxAge")||Ate,U4=null,kte=n=>e=>G(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Rte)return;let r=t?.token;U4!==r&&(U4=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function hx(n=nh()){let e=Kf(n,"auth");if(e.isInitialized())return e.getImmediate();let t=sx(n,{popupRedirectResolver:_V,persistence:[mV,uV,dx]}),i=pT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=kte(s.toString());cx(t,o,()=>o(t.currentUser)),rm(t,a=>o(a))}}let r=dT("auth");return r&&ox(t,`http://${r}`),t}function Ote(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uee({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Yc("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Ote().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mte("Browser");function bV(n){return new Et(function(e){var t=rm(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var wV="auth",Jc=class{constructor(e){return e}},sm=class{constructor(){return Yf(wV)}};var px=new Be("angularfire2.auth-instances");function Cne(n,e){let t=Uy(wV,n,e);return t&&new Jc(t)}function Ine(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Jc(i)}}var Ene={provide:sm,deps:[[new Vi,px]]},Tne={provide:Jc,useFactory:Cne,deps:[[new Vi,px],da]},xne=(()=>{class n{constructor(){yi("angularfire",qc.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({providers:[Tne,Ene]})}return n})();function CV(n,...e){return{ngModule:xne,providers:[{provide:px,useFactory:Ine(n),multi:!0,deps:[Qe,ri,sh,Kc,[new Vi,rh],...e]}]}}var IV=Kr(bV,!0);var EV=Kr(hx,!0);var TV=Kr(lx,!0);var xV=Kr(ux,!0);var Pl=(()=>{let e=class e{constructor(i){this.firebaseAuth=i,this.user$=IV(this.firebaseAuth),this.currentUser=Zt(void 0)}login(i,r){let s=TV(this.firebaseAuth,i,r).then(()=>{});return Gt(s)}logout(){let i=xV(this.firebaseAuth);return Gt(i)}isLogged(){return this.currentUser()!==null&&this.currentUser()!==void 0}};e.\u0275fac=function(r){return new(r||e)(Ne(Jc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var SV=(()=>{let e=class e{constructor(i,r,s,o){this.fb=i,this.http=r,this.router=s,this.authService=o,this.form=this.fb.nonNullable.group({email:["",[Wd.required,Wd.email]],password:["",Wd.required]})}onSubmit(){let i=this.form.getRawValue();this.authService.login(i.email,i.password).subscribe({next:()=>{console.log("Login successful"),this.router.navigate(["/home"])},error:r=>{console.error(r)}})}};e.\u0275fac=function(r){return new(r||e)(j(HN),j(JI),j(Ti),j(Pl))},e.\u0275cmp=X({type:e,selectors:[["app-login"]],standalone:!0,features:[_e],decls:21,vars:2,consts:[[1,"section"],[3,"ngSubmit","formGroup"],["pInputText","","id","email","formControlName","email"],["for","email"],["formControlName","password","id","password",3,"feedback"],["for","password"],["type","submit","label","Accedi"]],template:function(r,s){r&1&&(I(0,"div",0)(1,"h1"),ie(2,"Login"),E(),$(3,"br"),I(4,"form",1),Q("ngSubmit",function(){return s.onSubmit()}),I(5,"div")(6,"p-floatLabel"),$(7,"input",2),I(8,"label",3),ie(9,"Email"),E()()(),$(10,"br")(11,"br"),I(12,"div")(13,"p-floatLabel"),$(14,"p-password",4),I(15,"label",5),ie(16,"Password"),E()()(),$(17,"br")(18,"br"),I(19,"div"),$(20,"p-button",6),E()()()),r&2&&(g(4),f("formGroup",s.form),g(10),f("feedback",!1))},dependencies:[jN,BN,Kd,vl,kN,nT,iT,hs,bl,GN,$N,KN,oT,_r,Hc],styles:[".section[_ngcontent-%COMP%]{width:fit-content;margin:2em auto;display:flex;flex-flow:column nowrap;border:1px black solid;border-radius:10px;padding:32px;text-align:center}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}"]});let n=e;return n})();var Dne=["overlay"],Mne=["content"],Ane=["*"],Rne=(n,e,t,i,r,s,o,a,l,c,u,h,p,m)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":h,"p-overlay-right-start":p,"p-overlay-right-end":m}),kne=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),One=n=>({value:"visible",params:n}),Pne=n=>({mode:n}),Fne=n=>({$implicit:n});function Lne(n,e){n&1&&de(0)}function Nne(n,e){if(n&1){let t=le();I(0,"div",3,1),Q("click",function(r){F(t);let s=_(2);return L(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){F(t);let s=_(2);return L(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){F(t);let s=_(2);return L(s.onOverlayContentAnimationDone(r))}),nn(2),T(3,Lne,1,0,"ng-container",4),E()}if(n&2){let t=_(2);ne(t.contentStyleClass),f("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Ce(11,One,En(7,kne,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),g(3),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Ce(15,Fne,Ce(13,Pne,t.overlayMode)))}}function Vne(n,e){if(n&1){let t=le();I(0,"div",3,0),Q("click",function(){F(t);let r=_();return L(r.onOverlayClick())}),T(2,Nne,4,17,"div",2),E()}if(n&2){let t=_();ne(t.styleClass),f("ngStyle",t.style)("ngClass",af(5,Rne,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),g(2),f("ngIf",t.visible)}}var Bne={provide:Rn,useExisting:gn(()=>mx),multi:!0},zne=Qd([gi({transform:"{{transform}}",opacity:0}),xr("{{showTransitionParams}}")]),Une=Qd([xr("{{hideTransitionParams}}",gi({transform:"{{transform}}",opacity:0}))]),mx=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return te.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return te.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return te.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return te.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new Z;onBeforeShow=new Z;onShow=new Z;onBeforeHide=new Z;onHide=new Z;onAnimationStart=new Z;onAnimationDone=new Z;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Kt(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return ue(ue({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return ue(ue({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return k.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,c){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&k.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&xn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),k.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&k.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),xn.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ps(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!k.isTouchDevice()}):!k.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!k.isTouchDevice()}):!k.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),xn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(je),j(Wt),j(Yt),j(gl),j(Je),j(Qe))};static \u0275cmp=X({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(Dne,5),Ve(Mne,5)),i&2){let s;me(s=ge())&&(r.overlayViewChild=s.first),me(s=ge())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[dn([Bne])],ngContentSelectors:Ane,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(_n(),T(0,Vne,3,20,"div",2)),i&2&&f("ngIf",r.modalVisible)},dependencies:[gt,nt,Mt,_t],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Cl("overlayContentAnimation",[Sr(":enter",[Zd(zne)]),Sr(":leave",[Zd(Une)])])]},changeDetection:0})}return n})(),gx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,Ke]})}return n})();var jne=["element"],$ne=["content"],Gne=["*"],Wne=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),_x=(n,e)=>({$implicit:n,options:e}),qne=n=>({"p-scroller-loading":n}),Kne=n=>({"p-component-overlay":n}),Yne=n=>({numCols:n}),DV=n=>({options:n}),Qne=()=>({styleClass:"p-scroller-loading-icon"}),Zne=(n,e)=>({rows:n,columns:e});function Xne(n,e){n&1&&de(0)}function Jne(n,e){if(n&1&&(re(0),T(1,Xne,1,0,"ng-container",10),se()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Lt(2,_x,t.loadedItems,t.getContentOptions()))}}function eie(n,e){n&1&&de(0)}function tie(n,e){if(n&1&&(re(0),T(1,eie,1,0,"ng-container",10),se()),n&2){let t=e.$implicit,i=e.index,r=_(3);g(),f("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lt(2,_x,t,r.getOptions(i)))}}function nie(n,e){if(n&1&&(I(0,"div",11,3),T(2,tie,2,5,"ng-container",12),E()),n&2){let t=_(2);f("ngClass",Ce(5,qne,t.d_loading))("ngStyle",t.contentStyle),N("data-pc-section","content"),g(2),f("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function iie(n,e){if(n&1&&$(0,"div",13),n&2){let t=_(2);f("ngStyle",t.spacerStyle),N("data-pc-section","spacer")}}function rie(n,e){n&1&&de(0)}function sie(n,e){if(n&1&&(re(0),T(1,rie,1,0,"ng-container",10),se()),n&2){let t=e.index,i=_(4);g(),f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ce(4,DV,i.getLoaderOptions(t,i.both&&Ce(2,Yne,i._numItemsInViewport.cols))))}}function oie(n,e){if(n&1&&(re(0),T(1,sie,2,6,"ng-container",15),se()),n&2){let t=_(3);g(),f("ngForOf",t.loaderArr)}}function aie(n,e){n&1&&de(0)}function lie(n,e){if(n&1&&(re(0),T(1,aie,1,0,"ng-container",10),se()),n&2){let t=_(4);g(),f("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",Ce(3,DV,Jt(2,Qne)))}}function cie(n,e){n&1&&$(0,"SpinnerIcon",16),n&2&&(f("styleClass","p-scroller-loading-icon pi-spin"),N("data-pc-section","loadingIcon"))}function uie(n,e){if(n&1&&T(0,lie,2,5,"ng-container",6)(1,cie,1,2,"ng-template",null,5,qt),n&2){let t=ct(2),i=_(3);f("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function die(n,e){if(n&1&&(I(0,"div",14),T(1,oie,2,1,"ng-container",6)(2,uie,3,2,"ng-template",null,4,qt),E()),n&2){let t=ct(3),i=_(2);f("ngClass",Ce(4,Kne,!i.loaderTemplate)),N("data-pc-section","loader"),g(),f("ngIf",i.loaderTemplate)("ngIfElse",t)}}function hie(n,e){if(n&1){let t=le();re(0),I(1,"div",7,1),Q("scroll",function(r){F(t);let s=_();return L(s.onContainerScroll(r))}),T(3,Jne,2,5,"ng-container",6)(4,nie,3,7,"ng-template",null,2,qt)(6,iie,1,2,"div",8)(7,die,4,6,"div",9),E(),se()}if(n&2){let t=ct(5),i=_();g(),ne(i._styleClass),f("ngStyle",i._style)("ngClass",En(12,Wne,i.inline,i.both,i.horizontal)),N("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),g(2),f("ngIf",i.contentTemplate)("ngIfElse",t),g(3),f("ngIf",i._showSpacer),g(),f("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function pie(n,e){n&1&&de(0)}function fie(n,e){if(n&1&&(re(0),T(1,pie,1,0,"ng-container",10),se()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Lt(5,_x,t.items,Lt(2,Zne,t._items,t.loadedColumns)))}}function mie(n,e){if(n&1&&(nn(0),T(1,fie,2,8,"ng-container",17)),n&2){let t=_();g(),f("ngIf",t.contentTemplate)}}var lh=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new Z;onScroll=new Z;onScrollIndexChange=new Z;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Kt(this.platformId)&&!this.initialized&&k.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=k.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=k.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=k.getWidth(this.contentEl),this.defaultContentHeight=k.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||k.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,h=(S=0,R)=>S<=R?0:S,p=(S,R,V)=>S*R+V,m=(S=0,R=0)=>this.scrollTo({left:S,top:R,behavior:i}),v=this.both?{rows:0,cols:0}:0,w=!1,C=!1;this.both?(v={rows:h(t[0],l[0]),cols:h(t[1],l[1])},m(p(v.cols,u[1],c.left),p(v.rows,u[0],c.top)),C=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,w=v.rows!==s.rows||v.cols!==s.cols):(v=h(t,l),this.horizontal?m(p(v,u,c.left),o):m(a,p(v,u,c.top)),C=this.lastScrollPos!==(this.horizontal?a:o),w=v!==s),this.isRangeChanged=w,C&&(this.first=v)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,h=0)=>this.scrollTo({left:u,top:h,behavior:r}),l=i==="to-start",c=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(c,u)=>u||c?Math.ceil(c/(u||c)):0,o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[k.getWidth(this.contentEl),k.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[k.getWidth(this.elementViewChild.nativeElement),k.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=ut(ue({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=ut(ue({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(C,S)=>C?C>S?C-S:C:0,o=(C,S)=>S||C?Math.floor(C/(S||C)):0,a=(C,S,R,V,z,q)=>C<=z?z:q?R-V-z:S+z-1,l=(C,S,R,V,z,q,Y)=>C<=q?0:Math.max(0,Y?C<S?R:C-q:C>S?R:C-2*q),c=(C,S,R,V,z,q=!1)=>{let Y=S+V+2*z;return C>=z&&(Y+=z+1),this.getLast(Y,q)},u=s(i.scrollTop,r.top),h=s(i.scrollLeft,r.left),p=this.both?{rows:0,cols:0}:0,m=this.last,v=!1,w=this.lastScrollPos;if(this.both){let C=this.lastScrollPos.top<=u,S=this.lastScrollPos.left<=h;if(!this._appendOnly||this._appendOnly&&(C||S)){let R={rows:o(u,this._itemSize[0]),cols:o(h,this._itemSize[1])},V={rows:a(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],C),cols:a(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};p={rows:l(R.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],C),cols:l(R.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},m={rows:c(R.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(R.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,w={top:u,left:h}}}else{let C=this.horizontal?h:u,S=this.lastScrollPos<=C;if(!this._appendOnly||this._appendOnly&&S){let R=o(C,this._itemSize),V=a(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);p=l(R,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),m=c(R,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=p!==this.first||m!==this.last||this.isRangeChanged,w=C}}return{first:p,last:m,isRangeChanged:v,scrollPos:w}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){Kt(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=k.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(k.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[k.getWidth(this.elementViewChild?.nativeElement),k.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=k.getWidth(this.contentEl),this.defaultContentHeight=k.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return ue({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(Wt),j(Je),j(Qe))};static \u0275cmp=X({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(jne,5),Ve($ne,5)),i&2){let s;me(s=ge())&&(r.elementViewChild=s.first),me(s=ge())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[cn],ngContentSelectors:Gne,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(_n(),T(0,hie,8,16,"ng-container",6)(1,mie,2,1,"ng-template",null,0,qt)),i&2){let s=ct(2);f("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[gt,oi,nt,Mt,_t,El],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),fa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,El,Ke]})}return n})();var nr=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var vx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"rect",1),E())},encapsulation:2})}return n})();var ch=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var uh=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var om=n=>({height:n}),gie=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),bx=n=>({$implicit:n});function _ie(n,e){n&1&&$(0,"CheckIcon",4),n&2&&f("styleClass","p-dropdown-check-icon")}function yie(n,e){n&1&&$(0,"BlankIcon",4),n&2&&f("styleClass","p-dropdown-blank-icon")}function vie(n,e){if(n&1&&(re(0),T(1,_ie,1,1,"CheckIcon",3)(2,yie,1,1,"BlankIcon",3),se()),n&2){let t=_();g(),f("ngIf",t.selected),g(),f("ngIf",!t.selected)}}function bie(n,e){if(n&1&&(I(0,"span"),ie(1),E()),n&2){let t,i=_();g(),Ue((t=i.label)!==null&&t!==void 0?t:"empty")}}function wie(n,e){n&1&&de(0)}var Cie=["container"],Iie=["filter"],Eie=["focusInput"],Tie=["editableInput"],xie=["items"],Sie=["scroller"],Die=["overlay"],Mie=["firstHiddenFocusableEl"],Aie=["lastHiddenFocusableEl"],Rie=n=>({"max-height":n}),MV=n=>({options:n}),kie=n=>({"p-variant-filled":n}),AV=(n,e)=>({$implicit:n,options:e}),Oie=()=>({});function Pie(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(2);g(),Ue(t.label()==="p-emptylabel"?"\xA0":t.label())}}function Fie(n,e){if(n&1&&de(0,25),n&2){let t=_(2);f("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Ce(2,bx,t.selectedOption))}}function Lie(n,e){if(n&1&&(I(0,"span"),ie(1),E()),n&2){let t=_(3);g(),Ue(t.label()==="p-emptylabel"?"\xA0":t.label())}}function Nie(n,e){if(n&1&&T(0,Lie,2,1,"span",18),n&2){let t=_(2);f("ngIf",t.isSelectedOptionEmpty())}}function Vie(n,e){if(n&1){let t=le();I(0,"span",23,3),Q("focus",function(r){F(t);let s=_();return L(s.onInputFocus(r))})("blur",function(r){F(t);let s=_();return L(s.onInputBlur(r))})("keydown",function(r){F(t);let s=_();return L(s.onKeyDown(r))}),T(2,Pie,2,1,"ng-container",20)(3,Fie,1,4,"ng-container",24)(4,Nie,1,1,"ng-template",null,4,qt),E()}if(n&2){let t,i=ct(5),r=_();f("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),N("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),g(2),f("ngIf",!r.selectedItemTemplate)("ngIfElse",i),g(),f("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function Bie(n,e){if(n&1){let t=le();I(0,"input",26,5),Q("input",function(r){F(t);let s=_();return L(s.onEditableInput(r))})("keydown",function(r){F(t);let s=_();return L(s.onKeyDown(r))})("focus",function(r){F(t);let s=_();return L(s.onInputFocus(r))})("blur",function(r){F(t);let s=_();return L(s.onInputBlur(r))}),E()}if(n&2){let t=_();f("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),N("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function zie(n,e){if(n&1){let t=le();I(0,"TimesIcon",29),Q("click",function(r){F(t);let s=_(2);return L(s.clear(r))}),E()}n&2&&(f("styleClass","p-dropdown-clear-icon"),N("data-pc-section","clearicon"))}function Uie(n,e){}function Hie(n,e){n&1&&T(0,Uie,0,0,"ng-template")}function jie(n,e){if(n&1){let t=le();I(0,"span",30),Q("click",function(r){F(t);let s=_(2);return L(s.clear(r))}),T(1,Hie,1,0,null,31),E()}if(n&2){let t=_(2);N("data-pc-section","clearicon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function $ie(n,e){if(n&1&&(re(0),T(1,zie,1,2,"TimesIcon",27)(2,jie,2,2,"span",28),se()),n&2){let t=_();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function Gie(n,e){n&1&&de(0)}function Wie(n,e){if(n&1&&(re(0),T(1,Gie,1,0,"ng-container",31),se()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.loadingIconTemplate)}}function qie(n,e){if(n&1&&$(0,"span",34),n&2){let t=_(3);f("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function Kie(n,e){n&1&&$(0,"span",35),n&2&&ne("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function Yie(n,e){if(n&1&&(re(0),T(1,qie,1,1,"span",32)(2,Kie,1,2,"span",33),se()),n&2){let t=_(2);g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function Qie(n,e){if(n&1&&(re(0),T(1,Wie,2,1,"ng-container",18)(2,Yie,3,2,"ng-container",18),se()),n&2){let t=_();g(),f("ngIf",t.loadingIconTemplate),g(),f("ngIf",!t.loadingIconTemplate)}}function Zie(n,e){if(n&1&&$(0,"span",39),n&2){let t=_(3);f("ngClass",t.dropdownIcon)}}function Xie(n,e){n&1&&$(0,"ChevronDownIcon",40),n&2&&f("styleClass","p-dropdown-trigger-icon")}function Jie(n,e){if(n&1&&(re(0),T(1,Zie,1,1,"span",37)(2,Xie,1,1,"ChevronDownIcon",38),se()),n&2){let t=_(2);g(),f("ngIf",t.dropdownIcon),g(),f("ngIf",!t.dropdownIcon)}}function ere(n,e){}function tre(n,e){n&1&&T(0,ere,0,0,"ng-template")}function nre(n,e){if(n&1&&(I(0,"span",41),T(1,tre,1,0,null,31),E()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.dropdownIconTemplate)}}function ire(n,e){if(n&1&&T(0,Jie,3,2,"ng-container",18)(1,nre,2,1,"span",36),n&2){let t=_();f("ngIf",!t.dropdownIconTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function rre(n,e){n&1&&de(0)}function sre(n,e){n&1&&de(0)}function ore(n,e){if(n&1&&(re(0),T(1,sre,1,0,"ng-container",48),se()),n&2){let t=_(3);g(),f("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Ce(2,MV,t.filterOptions))}}function are(n,e){n&1&&$(0,"SearchIcon",40),n&2&&f("styleClass","p-dropdown-filter-icon")}function lre(n,e){}function cre(n,e){n&1&&T(0,lre,0,0,"ng-template")}function ure(n,e){if(n&1&&(I(0,"span",52),T(1,cre,1,0,null,31),E()),n&2){let t=_(4);g(),f("ngTemplateOutlet",t.filterIconTemplate)}}function dre(n,e){if(n&1){let t=le();I(0,"div",49)(1,"input",50,10),Q("input",function(r){F(t);let s=_(3);return L(s.onFilterInputChange(r))})("keydown",function(r){F(t);let s=_(3);return L(s.onFilterKeyDown(r))})("blur",function(r){F(t);let s=_(3);return L(s.onFilterBlur(r))}),E(),T(3,are,1,1,"SearchIcon",38)(4,ure,2,1,"span",51),E()}if(n&2){let t=_(3);g(),f("value",t._filterValue()||"")("ngClass",Ce(8,kie,t.variant==="filled"||t.config.inputStyle()==="filled")),N("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),g(2),f("ngIf",!t.filterIconTemplate),g(),f("ngIf",t.filterIconTemplate)}}function hre(n,e){if(n&1){let t=le();I(0,"div",47),Q("click",function(r){return F(t),L(r.stopPropagation())}),T(1,ore,2,4,"ng-container",20)(2,dre,5,10,"ng-template",null,9,qt),E()}if(n&2){let t=ct(3),i=_(2);g(),f("ngIf",i.filterTemplate)("ngIfElse",t)}}function pre(n,e){n&1&&de(0)}function fre(n,e){if(n&1&&T(0,pre,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;_(2);let r=ct(9);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Lt(2,AV,t,i))}}function mre(n,e){n&1&&de(0)}function gre(n,e){if(n&1&&T(0,mre,1,0,"ng-container",48),n&2){let t=e.options,i=_(4);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ce(2,MV,t))}}function _re(n,e){n&1&&(re(0),T(1,gre,1,4,"ng-template",54),se())}function yre(n,e){if(n&1){let t=le();I(0,"p-scroller",53,11),Q("onLazyLoad",function(r){F(t);let s=_(2);return L(s.onLazyLoad.emit(r))}),T(2,fre,1,5,"ng-template",22)(3,_re,2,0,"ng-container",18),E()}if(n&2){let t=_(2);ks(Ce(8,om,t.scrollHeight)),f("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),g(3),f("ngIf",t.loaderTemplate)}}function vre(n,e){n&1&&de(0)}function bre(n,e){if(n&1&&(re(0),T(1,vre,1,0,"ng-container",48),se()),n&2){_();let t=ct(9),i=_();g(),f("ngTemplateOutlet",t)("ngTemplateOutletContext",Lt(3,AV,i.visibleOptions(),Jt(2,Oie)))}}function wre(n,e){if(n&1&&(I(0,"span"),ie(1),E()),n&2){let t=_(2).$implicit,i=_(3);g(),Ue(i.getOptionGroupLabel(t.optionGroup))}}function Cre(n,e){n&1&&de(0)}function Ire(n,e){if(n&1&&(re(0),I(1,"li",58),T(2,wre,2,1,"span",18)(3,Cre,1,0,"ng-container",48),E(),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_().options,o=_(2);g(),f("ngStyle",Ce(5,om,s.itemSize+"px")),N("id",o.id+"_"+o.getOptionIndex(r,s)),g(),f("ngIf",!o.groupTemplate),g(),f("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Ce(7,bx,i.optionGroup))}}function Ere(n,e){if(n&1){let t=le();re(0),I(1,"p-dropdownItem",59),Q("onClick",function(r){F(t);let s=_().$implicit,o=_(3);return L(o.onOptionSelect(r,s))})("onMouseEnter",function(r){F(t);let s=_().index,o=_().options,a=_(2);return L(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),E(),se()}if(n&2){let t=_(),i=t.$implicit,r=t.index,s=_().options,o=_(2);g(),f("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function Tre(n,e){if(n&1&&T(0,Ire,4,9,"ng-container",18)(1,Ere,2,10,"ng-container",18),n&2){let t=e.$implicit,i=_(3);f("ngIf",i.isOptionGroup(t)),g(),f("ngIf",!i.isOptionGroup(t))}}function xre(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(4);g(),zt(" ",t.emptyFilterMessageLabel," ")}}function Sre(n,e){n&1&&de(0,null,13)}function Dre(n,e){if(n&1&&(I(0,"li",60),T(1,xre,2,1,"ng-container",20)(2,Sre,2,0,"ng-container",31),E()),n&2){let t=_().options,i=_(2);f("ngStyle",Ce(4,om,t.itemSize+"px")),g(),f("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),g(),f("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Mre(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(4);g(),zt(" ",t.emptyMessageLabel," ")}}function Are(n,e){n&1&&de(0,null,14)}function Rre(n,e){if(n&1&&(I(0,"li",60),T(1,Mre,2,1,"ng-container",20)(2,Are,2,0,"ng-container",31),E()),n&2){let t=_().options,i=_(2);f("ngStyle",Ce(4,om,t.itemSize+"px")),g(),f("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),g(),f("ngTemplateOutlet",i.emptyTemplate)}}function kre(n,e){if(n&1&&(I(0,"ul",55,12),T(2,Tre,2,2,"ng-template",56)(3,Dre,3,6,"li",57)(4,Rre,3,6,"li",57),E()),n&2){let t=e.$implicit,i=e.options,r=_(2);f("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),N("id",r.id+"_list")("aria-label",r.listLabel),g(2),f("ngForOf",t),g(),f("ngIf",r.filterValue&&r.isEmpty()),g(),f("ngIf",!r.filterValue&&r.isEmpty())}}function Ore(n,e){n&1&&de(0)}function Pre(n,e){if(n&1){let t=le();I(0,"div",42)(1,"span",43,6),Q("focus",function(r){F(t);let s=_();return L(s.onFirstHiddenFocus(r))}),E(),T(3,rre,1,0,"ng-container",31)(4,hre,4,2,"div",44),I(5,"div",45),T(6,yre,4,10,"p-scroller",46)(7,bre,2,6,"ng-container",18)(8,kre,5,7,"ng-template",null,7,qt),E(),T(10,Ore,1,0,"ng-container",31),I(11,"span",43,8),Q("focus",function(r){F(t);let s=_();return L(s.onLastHiddenFocus(r))}),E()()}if(n&2){let t=_();ne(t.panelStyleClass),f("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),g(),N("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),g(2),f("ngTemplateOutlet",t.headerTemplate),g(),f("ngIf",t.filter),g(),f("ngStyle",Ce(16,Rie,t.virtualScroll?"auto":t.scrollHeight||"auto")),g(),f("ngIf",t.virtualScroll),g(),f("ngIf",!t.virtualScroll),g(3),f("ngTemplateOutlet",t.footerTemplate),g(),N("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Fre={provide:Rn,useExisting:gn(()=>am),multi:!0},Lre=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new Z;onMouseEnter=new Z;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[O.HasDecoratorInputTransform,"selected","selected",W],focused:[O.HasDecoratorInputTransform,"focused","focused",W],label:"label",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],visible:[O.HasDecoratorInputTransform,"visible","visible",W],itemSize:[O.HasDecoratorInputTransform,"itemSize","itemSize",Le],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[O.HasDecoratorInputTransform,"checkmark","checkmark",W]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Ze],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(I(0,"li",0),Q("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),T(1,vie,3,2,"ng-container",1)(2,bie,2,1,"span",1)(3,wie,1,0,"ng-container",2),E()),i&2&&(f("id",r.id)("ngStyle",Ce(14,om,r.itemSize+"px"))("ngClass",En(16,gie,r.selected,r.disabled,r.focused)),N("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),g(),f("ngIf",r.checkmark),g(),f("ngIf",!r.template),g(),f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Ce(20,bx,r.option)))},dependencies:()=>[gt,nt,Mt,_t,ai,vx,nr],encapsulation:2})}return n})(),am=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){te.deepEquals(t,this._options())||this._options.set(t)}onChange=new Z;onFilter=new Z;onFocus=new Z;onBlur=new Z;onClick=new Z;onShow=new Z;onHide=new Z;onClear=new Z;onLazyLoad=new Z;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Zt(null);_placeholder=Zt(void 0);modelValue=Zt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Zt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Zt(-1);labelId;listId;clicked=Zt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(An.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(An.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(An.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=ao(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&o.push(ut(ue({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(o)}return r}return t});label=ao(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=ao(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=ao(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,uf(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&te.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}te.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&te.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||it(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=k.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&k.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return te.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return te.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?te.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?te.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?te.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?te.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?te.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&te.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&k.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=k.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=k.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&k.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{k.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{k.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&te.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=k.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?te.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return te.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())k.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?k.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;k.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?k.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;k.focus(i)}hasFocusableElements(){return k.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?k.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():k.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(j(je),j(Wt),j(Je),j(Qe),j(Ud),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(Cie,5),Ve(Iie,5),Ve(Eie,5),Ve(Tie,5),Ve(xie,5),Ve(Sie,5),Ve(Die,5),Ve(Mie,5),Ve(Aie,5)),i&2){let s;me(s=ge())&&(r.containerViewChild=s.first),me(s=ge())&&(r.filterViewChild=s.first),me(s=ge())&&(r.focusInputViewChild=s.first),me(s=ge())&&(r.editableInputViewChild=s.first),me(s=ge())&&(r.itemsViewChild=s.first),me(s=ge())&&(r.scroller=s.first),me(s=ge())&&(r.overlayViewChild=s.first),me(s=ge())&&(r.firstHiddenFocusableElementOnOverlay=s.first),me(s=ge())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Bn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[O.HasDecoratorInputTransform,"filter","filter",W],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],required:[O.HasDecoratorInputTransform,"required","required",W],editable:[O.HasDecoratorInputTransform,"editable","editable",W],appendTo:"appendTo",tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],resetFilterOnHide:[O.HasDecoratorInputTransform,"resetFilterOnHide","resetFilterOnHide",W],checkmark:[O.HasDecoratorInputTransform,"checkmark","checkmark",W],dropdownIcon:"dropdownIcon",loading:[O.HasDecoratorInputTransform,"loading","loading",W],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[O.HasDecoratorInputTransform,"autoDisplayFirst","autoDisplayFirst",W],group:[O.HasDecoratorInputTransform,"group","group",W],showClear:[O.HasDecoratorInputTransform,"showClear","showClear",W],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[O.HasDecoratorInputTransform,"lazy","lazy",W],virtualScroll:[O.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[O.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Le],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[O.HasDecoratorInputTransform,"maxlength","maxlength",Le],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[O.HasDecoratorInputTransform,"focusOnHover","focusOnHover",W],selectOnFocus:[O.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",W],autoOptionFocus:[O.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",W],autofocusFilter:[O.HasDecoratorInputTransform,"autofocusFilter","autofocusFilter",W],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[dn([Fre]),Ze],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=le();I(0,"div",15,0),Q("click",function(a){return F(s),L(r.onContainerClick(a))}),T(2,Vie,6,20,"span",16)(3,Bie,2,8,"input",17)(4,$ie,3,2,"ng-container",18),I(5,"div",19),Q("mousedown",function(a){return F(s),L(r.onMouseDown(a))}),T(6,Qie,3,2,"ng-container",20)(7,ire,2,2,"ng-template",null,1,qt),E(),I(9,"p-overlay",21,2),Ei("visibleChange",function(a){return F(s),Bi(r.overlayVisible,a)||(r.overlayVisible=a),L(a)}),Q("onAnimationStart",function(a){return F(s),L(r.onOverlayAnimationStart(a))})("onHide",function(){return F(s),L(r.hide())}),T(11,Pre,13,18,"ng-template",22),E()()}if(i&2){let s,o=ct(8);ne(r.styleClass),f("ngClass",r.containerClass)("ngStyle",r.style),N("id",r.id),g(2),f("ngIf",!r.editable),g(),f("ngIf",r.editable),g(),f("ngIf",r.isVisibleClearIcon),g(),N("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),g(),f("ngIf",r.loading)("ngIfElse",o),g(3),Ii("visible",r.overlayVisible),f("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[gt,oi,nt,Mt,_t,mx,qe,$d,lh,Di,kn,ch,uh,Lre],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),eu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,gx,Ke,_l,li,fa,er,kn,ch,uh,vx,nr,gx,Ke,fa]})}return n})();var wx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Cx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Nre=["container"],Vre=["inputfield"],Bre=["contentWrapper"],zre=[[["p-header"]],[["p-footer"]]],Ure=["p-header","p-footer"],Hre=(n,e,t,i,r)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":e,"p-calendar-timeonly":t,"p-calendar-disabled":i,"p-focus":r}),jre=n=>({clickCallBack:n}),$re=n=>({"p-datepicker-icon":n}),Gre=(n,e,t,i,r,s)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}),kV=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),Wre=n=>({value:"visibleTouchUI",params:n}),qre=n=>({value:"visible",params:n}),Ix=n=>({$implicit:n}),Kre=(n,e)=>({"p-datepicker-other-month":n,"p-datepicker-today":e}),Yre=(n,e)=>({"p-highlight p-datepicker-current-day":n,"p-disabled":e}),PV=(n,e)=>({"p-highlight":n,"p-disabled":e}),OV=n=>[n];function Qre(n,e){if(n&1){let t=le();I(0,"TimesIcon",11),Q("click",function(){F(t);let r=_(3);return L(r.clear())}),E()}n&2&&f("styleClass","p-calendar-clear-icon")}function Zre(n,e){}function Xre(n,e){n&1&&T(0,Zre,0,0,"ng-template")}function Jre(n,e){if(n&1){let t=le();I(0,"span",12),Q("click",function(){F(t);let r=_(3);return L(r.clear())}),T(1,Xre,1,0,null,13),E()}if(n&2){let t=_(3);g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function ese(n,e){if(n&1&&(re(0),T(1,Qre,1,1,"TimesIcon",9)(2,Jre,2,1,"span",10),se()),n&2){let t=_(2);g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function tse(n,e){if(n&1&&$(0,"span",16),n&2){let t=_(3);f("ngClass",t.icon)}}function nse(n,e){n&1&&$(0,"CalendarIcon")}function ise(n,e){}function rse(n,e){n&1&&T(0,ise,0,0,"ng-template")}function sse(n,e){if(n&1&&(re(0),T(1,nse,1,0,"CalendarIcon",7)(2,rse,1,0,null,13),se()),n&2){let t=_(3);g(),f("ngIf",!t.triggerIconTemplate),g(),f("ngTemplateOutlet",t.triggerIconTemplate)}}function ose(n,e){if(n&1){let t=le();I(0,"button",14),Q("click",function(r){F(t),_();let s=ct(1),o=_();return L(o.onButtonClick(r,s))}),T(1,tse,1,1,"span",15)(2,sse,3,2,"ng-container",7),E()}if(n&2){let t,i=_(2);f("disabled",i.disabled),N("aria-label",i.iconButtonAriaLabel)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null),g(),f("ngIf",i.icon),g(),f("ngIf",!i.icon)}}function ase(n,e){if(n&1){let t=le();I(0,"CalendarIcon",19),Q("click",function(r){F(t);let s=_(3);return L(s.onButtonClick(r))}),E()}if(n&2){let t=_(3);f("ngClass",Ce(1,$re,t.showOnFocus))}}function lse(n,e){n&1&&de(0)}function cse(n,e){if(n&1&&(re(0),T(1,ase,1,3,"CalendarIcon",17)(2,lse,1,0,"ng-container",18),se()),n&2){let t=_(2);g(),f("ngIf",!t.inputIconTemplate),g(),f("ngTemplateOutlet",t.inputIconTemplate)("ngTemplateOutletContext",Ce(3,jre,t.onButtonClick.bind(t)))}}function use(n,e){if(n&1){let t=le();I(0,"input",6,1),Q("focus",function(r){F(t);let s=_();return L(s.onInputFocus(r))})("keydown",function(r){F(t);let s=_();return L(s.onInputKeydown(r))})("click",function(){F(t);let r=_();return L(r.onInputClick())})("blur",function(r){F(t);let s=_();return L(s.onInputBlur(r))})("input",function(r){F(t);let s=_();return L(s.onUserInput(r))}),E(),T(2,ese,3,2,"ng-container",7)(3,ose,3,6,"button",8)(4,cse,3,5,"ng-container",7)}if(n&2){let t,i=_();ne(i.inputStyleClass),f("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),N("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),g(2),f("ngIf",i.showClear&&!i.disabled&&i.value!=null),g(),f("ngIf",i.showIcon&&i.iconDisplay==="button"),g(),f("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function dse(n,e){n&1&&de(0)}function hse(n,e){n&1&&$(0,"ChevronLeftIcon",40),n&2&&f("styleClass","p-datepicker-prev-icon")}function pse(n,e){}function fse(n,e){n&1&&T(0,pse,0,0,"ng-template")}function mse(n,e){if(n&1&&(I(0,"span",41),T(1,fse,1,0,null,13),E()),n&2){let t=_(5);g(),f("ngTemplateOutlet",t.previousIconTemplate)}}function gse(n,e){if(n&1){let t=le();I(0,"button",38),Q("keydown",function(r){F(t);let s=_(4);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(4);return L(s.onPrevButtonClick(r))}),T(1,hse,1,1,"ChevronLeftIcon",35)(2,mse,2,1,"span",39),E()}if(n&2){let t=_(4);N("aria-label",t.prevIconAriaLabel),g(),f("ngIf",!t.previousIconTemplate),g(),f("ngIf",t.previousIconTemplate)}}function _se(n,e){if(n&1){let t=le();I(0,"button",42),Q("click",function(r){F(t);let s=_(4);return L(s.switchToMonthView(r))})("keydown",function(r){F(t);let s=_(4);return L(s.onContainerButtonKeydown(r))}),ie(1),E()}if(n&2){let t=_().$implicit,i=_(3);f("disabled",i.switchViewButtonDisabled()),N("aria-label",i.getTranslation("chooseMonth")),g(),zt(" ",i.getMonthName(t.month)," ")}}function yse(n,e){if(n&1){let t=le();I(0,"button",43),Q("click",function(r){F(t);let s=_(4);return L(s.switchToYearView(r))})("keydown",function(r){F(t);let s=_(4);return L(s.onContainerButtonKeydown(r))}),ie(1),E()}if(n&2){let t=_().$implicit,i=_(3);f("disabled",i.switchViewButtonDisabled()),N("aria-label",i.getTranslation("chooseYear")),g(),zt(" ",i.getYear(t)," ")}}function vse(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(5);g(),PI("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function bse(n,e){n&1&&de(0)}function wse(n,e){if(n&1&&(I(0,"span",44),T(1,vse,2,2,"ng-container",7)(2,bse,1,0,"ng-container",18),E()),n&2){let t=_(4);g(),f("ngIf",!t.decadeTemplate),g(),f("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",Ce(3,Ix,t.yearPickerValues))}}function Cse(n,e){n&1&&$(0,"ChevronRightIcon",40),n&2&&f("styleClass","p-datepicker-next-icon")}function Ise(n,e){}function Ese(n,e){n&1&&T(0,Ise,0,0,"ng-template")}function Tse(n,e){if(n&1&&(I(0,"span",45),T(1,Ese,1,0,null,13),E()),n&2){let t=_(4);g(),f("ngTemplateOutlet",t.nextIconTemplate)}}function xse(n,e){if(n&1&&(I(0,"th",51)(1,"span"),ie(2),E()()),n&2){let t=_(5);g(2),Ue(t.getTranslation("weekHeader"))}}function Sse(n,e){if(n&1&&(I(0,"th",52)(1,"span"),ie(2),E()()),n&2){let t=e.$implicit;g(2),Ue(t)}}function Dse(n,e){if(n&1&&(I(0,"td",55)(1,"span",56),ie(2),E()()),n&2){let t=_().index,i=_(2).$implicit;g(2),zt(" ",i.weekNumbers[t]," ")}}function Mse(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(2).$implicit;g(),Ue(t.day)}}function Ase(n,e){n&1&&de(0)}function Rse(n,e){if(n&1&&(re(0),T(1,Ase,1,0,"ng-container",18),se()),n&2){let t=_(2).$implicit,i=_(6);g(),f("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",Ce(2,Ix,t))}}function kse(n,e){n&1&&de(0)}function Ose(n,e){if(n&1&&(re(0),T(1,kse,1,0,"ng-container",18),se()),n&2){let t=_(2).$implicit,i=_(6);g(),f("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",Ce(2,Ix,t))}}function Pse(n,e){if(n&1&&(I(0,"div",59),ie(1),E()),n&2){let t=_(2).$implicit;g(),zt(" ",t.day," ")}}function Fse(n,e){if(n&1){let t=le();re(0),I(1,"span",57),Q("click",function(r){F(t);let s=_().$implicit,o=_(6);return L(o.onDateSelect(r,s))})("keydown",function(r){F(t);let s=_().$implicit,o=_(3).index,a=_(3);return L(a.onDateCellKeydown(r,s,o))}),T(2,Mse,2,1,"ng-container",7)(3,Rse,2,4,"ng-container",7)(4,Ose,2,4,"ng-container",7),E(),T(5,Pse,2,1,"div",58),se()}if(n&2){let t=_().$implicit,i=_(6);g(),f("ngClass",Lt(6,Yre,i.isSelected(t)&&t.selectable,!t.selectable)),N("data-date",i.formatDateKey(i.formatDateMetaToDate(t))),g(),f("ngIf",!i.dateTemplate&&(t.selectable||!i.disabledDateTemplate)),g(),f("ngIf",t.selectable||!i.disabledDateTemplate),g(),f("ngIf",!t.selectable),g(),f("ngIf",i.isSelected(t))}}function Lse(n,e){if(n&1&&(I(0,"td",16),T(1,Fse,6,9,"ng-container",7),E()),n&2){let t=e.$implicit,i=_(6);f("ngClass",Lt(3,Kre,t.otherMonth,t.today)),N("aria-label",t.day),g(),f("ngIf",t.otherMonth?i.showOtherMonths:!0)}}function Nse(n,e){if(n&1&&(I(0,"tr"),T(1,Dse,3,1,"td",53)(2,Lse,2,6,"td",54),E()),n&2){let t=e.$implicit,i=_(5);g(),f("ngIf",i.showWeek),g(),f("ngForOf",t)}}function Vse(n,e){if(n&1&&(I(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),T(4,xse,3,1,"th",48)(5,Sse,3,1,"th",49),E()(),I(6,"tbody"),T(7,Nse,3,2,"tr",50),E()()()),n&2){let t=_().$implicit,i=_(3);g(4),f("ngIf",i.showWeek),g(),f("ngForOf",i.weekDays),g(2),f("ngForOf",t.dates)}}function Bse(n,e){if(n&1){let t=le();I(0,"div",27)(1,"div",28),T(2,gse,3,3,"button",29),I(3,"div",30),T(4,_se,2,3,"button",31)(5,yse,2,3,"button",32)(6,wse,3,5,"span",33),E(),I(7,"button",34),Q("keydown",function(r){F(t);let s=_(3);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(3);return L(s.onNextButtonClick(r))}),T(8,Cse,1,1,"ChevronRightIcon",35)(9,Tse,2,1,"span",36),E()(),T(10,Vse,8,3,"div",37),E()}if(n&2){let t=e.index,i=_(3);g(2),f("ngIf",t===0),g(2),f("ngIf",i.currentView==="date"),g(),f("ngIf",i.currentView!=="year"),g(),f("ngIf",i.currentView==="year"),g(),Pc("display",i.numberOfMonths===1||t===i.numberOfMonths-1?"inline-flex":"none"),N("aria-label",i.nextIconAriaLabel),g(),f("ngIf",!i.nextIconTemplate),g(),f("ngIf",i.nextIconTemplate),g(),f("ngIf",i.currentView==="date")}}function zse(n,e){if(n&1&&(I(0,"div",59),ie(1),E()),n&2){let t=_().$implicit;g(),zt(" ",t," ")}}function Use(n,e){if(n&1){let t=le();I(0,"span",62),Q("click",function(r){let s=F(t).index,o=_(4);return L(o.onMonthSelect(r,s))})("keydown",function(r){let s=F(t).index,o=_(4);return L(o.onMonthCellKeydown(r,s))}),ie(1),T(2,zse,2,1,"div",58),E()}if(n&2){let t=e.$implicit,i=e.index,r=_(4);f("ngClass",Lt(3,PV,r.isMonthSelected(i),r.isMonthDisabled(i))),g(),zt(" ",t," "),g(),f("ngIf",r.isMonthSelected(i))}}function Hse(n,e){if(n&1&&(I(0,"div",60),T(1,Use,3,6,"span",61),E()),n&2){let t=_(3);g(),f("ngForOf",t.monthPickerValues())}}function jse(n,e){if(n&1&&(I(0,"div",59),ie(1),E()),n&2){let t=_().$implicit;g(),zt(" ",t," ")}}function $se(n,e){if(n&1){let t=le();I(0,"span",65),Q("click",function(r){let s=F(t).$implicit,o=_(4);return L(o.onYearSelect(r,s))})("keydown",function(r){let s=F(t).$implicit,o=_(4);return L(o.onYearCellKeydown(r,s))}),ie(1),T(2,jse,2,1,"div",58),E()}if(n&2){let t=e.$implicit,i=_(4);f("ngClass",Lt(3,PV,i.isYearSelected(t),i.isYearDisabled(t))),g(),zt(" ",t," "),g(),f("ngIf",i.isYearSelected(t))}}function Gse(n,e){if(n&1&&(I(0,"div",63),T(1,$se,3,6,"span",64),E()),n&2){let t=_(3);g(),f("ngForOf",t.yearPickerValues())}}function Wse(n,e){if(n&1&&(re(0),I(1,"div",23),T(2,Bse,11,10,"div",24),E(),T(3,Hse,2,1,"div",25)(4,Gse,2,1,"div",26),se()),n&2){let t=_(2);g(2),f("ngForOf",t.months),g(),f("ngIf",t.currentView==="month"),g(),f("ngIf",t.currentView==="year")}}function qse(n,e){n&1&&$(0,"ChevronUpIcon")}function Kse(n,e){}function Yse(n,e){n&1&&T(0,Kse,0,0,"ng-template")}function Qse(n,e){n&1&&(re(0),ie(1,"0"),se())}function Zse(n,e){n&1&&$(0,"ChevronDownIcon")}function Xse(n,e){}function Jse(n,e){n&1&&T(0,Xse,0,0,"ng-template")}function eoe(n,e){n&1&&$(0,"ChevronUpIcon")}function toe(n,e){}function noe(n,e){n&1&&T(0,toe,0,0,"ng-template")}function ioe(n,e){n&1&&(re(0),ie(1,"0"),se())}function roe(n,e){n&1&&$(0,"ChevronDownIcon")}function soe(n,e){}function ooe(n,e){n&1&&T(0,soe,0,0,"ng-template")}function aoe(n,e){if(n&1&&(I(0,"div",69)(1,"span"),ie(2),E()()),n&2){let t=_(3);g(2),Ue(t.timeSeparator)}}function loe(n,e){n&1&&$(0,"ChevronUpIcon")}function coe(n,e){}function uoe(n,e){n&1&&T(0,coe,0,0,"ng-template")}function doe(n,e){n&1&&(re(0),ie(1,"0"),se())}function hoe(n,e){n&1&&$(0,"ChevronDownIcon")}function poe(n,e){}function foe(n,e){n&1&&T(0,poe,0,0,"ng-template")}function moe(n,e){if(n&1){let t=le();I(0,"div",74)(1,"button",68),Q("keydown",function(r){F(t);let s=_(3);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(3);return L(s.incrementSecond(r))})("keydown.space",function(r){F(t);let s=_(3);return L(s.incrementSecond(r))})("mousedown",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(3);return L(r.onTimePickerElementMouseLeave())}),T(2,loe,1,0,"ChevronUpIcon",7)(3,uoe,1,0,null,13),E(),I(4,"span"),T(5,doe,2,0,"ng-container",7),ie(6),E(),I(7,"button",68),Q("keydown",function(r){F(t);let s=_(3);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(3);return L(s.decrementSecond(r))})("keydown.space",function(r){F(t);let s=_(3);return L(s.decrementSecond(r))})("mousedown",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(3);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(3);return L(r.onTimePickerElementMouseLeave())}),T(8,hoe,1,0,"ChevronDownIcon",7)(9,foe,1,0,null,13),E()()}if(n&2){let t=_(3);g(),N("aria-label",t.getTranslation("nextSecond")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentSecond<10),g(),Ue(t.currentSecond),g(),N("aria-label",t.getTranslation("prevSecond")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate)}}function goe(n,e){n&1&&$(0,"ChevronUpIcon")}function _oe(n,e){}function yoe(n,e){n&1&&T(0,_oe,0,0,"ng-template")}function voe(n,e){n&1&&$(0,"ChevronDownIcon")}function boe(n,e){}function woe(n,e){n&1&&T(0,boe,0,0,"ng-template")}function Coe(n,e){if(n&1){let t=le();I(0,"div",75)(1,"button",76),Q("keydown",function(r){F(t);let s=_(3);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(3);return L(s.toggleAMPM(r))})("keydown.enter",function(r){F(t);let s=_(3);return L(s.toggleAMPM(r))}),T(2,goe,1,0,"ChevronUpIcon",7)(3,yoe,1,0,null,13),E(),I(4,"span"),ie(5),E(),I(6,"button",76),Q("keydown",function(r){F(t);let s=_(3);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(3);return L(s.toggleAMPM(r))})("keydown.enter",function(r){F(t);let s=_(3);return L(s.toggleAMPM(r))}),T(7,voe,1,0,"ChevronDownIcon",7)(8,woe,1,0,null,13),E()()}if(n&2){let t=_(3);g(),N("aria-label",t.getTranslation("am")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),Ue(t.pm?"PM":"AM"),g(),N("aria-label",t.getTranslation("pm")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate)}}function Ioe(n,e){if(n&1){let t=le();I(0,"div",66)(1,"div",67)(2,"button",68),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(2);return L(s.incrementHour(r))})("keydown.space",function(r){F(t);let s=_(2);return L(s.incrementHour(r))})("mousedown",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(2);return L(r.onTimePickerElementMouseLeave())}),T(3,qse,1,0,"ChevronUpIcon",7)(4,Yse,1,0,null,13),E(),I(5,"span"),T(6,Qse,2,0,"ng-container",7),ie(7),E(),I(8,"button",68),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(2);return L(s.decrementHour(r))})("keydown.space",function(r){F(t);let s=_(2);return L(s.decrementHour(r))})("mousedown",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(2);return L(r.onTimePickerElementMouseLeave())}),T(9,Zse,1,0,"ChevronDownIcon",7)(10,Jse,1,0,null,13),E()(),I(11,"div",69)(12,"span"),ie(13),E()(),I(14,"div",70)(15,"button",68),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(2);return L(s.incrementMinute(r))})("keydown.space",function(r){F(t);let s=_(2);return L(s.incrementMinute(r))})("mousedown",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(2);return L(r.onTimePickerElementMouseLeave())}),T(16,eoe,1,0,"ChevronUpIcon",7)(17,noe,1,0,null,13),E(),I(18,"span"),T(19,ioe,2,0,"ng-container",7),ie(20),E(),I(21,"button",68),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let s=_(2);return L(s.decrementMinute(r))})("keydown.space",function(r){F(t);let s=_(2);return L(s.decrementMinute(r))})("mousedown",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let s=_(2);return L(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=_(2);return L(r.onTimePickerElementMouseLeave())}),T(22,roe,1,0,"ChevronDownIcon",7)(23,ooe,1,0,null,13),E()(),T(24,aoe,3,1,"div",71)(25,moe,10,8,"div",72)(26,Coe,9,7,"div",73),E()}if(n&2){let t=_(2);g(2),N("aria-label",t.getTranslation("nextHour")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentHour<10),g(),Ue(t.currentHour),g(),N("aria-label",t.getTranslation("prevHour")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate),g(3),Ue(t.timeSeparator),g(2),N("aria-label",t.getTranslation("nextMinute")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentMinute<10),g(),Ue(t.currentMinute),g(),N("aria-label",t.getTranslation("prevMinute")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate),g(),f("ngIf",t.showSeconds),g(),f("ngIf",t.showSeconds),g(),f("ngIf",t.hourFormat=="12")}}function Eoe(n,e){if(n&1){let t=le();I(0,"div",77)(1,"button",78),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(2);return L(s.onTodayButtonClick(r))}),E(),I(2,"button",78),Q("keydown",function(r){F(t);let s=_(2);return L(s.onContainerButtonKeydown(r))})("click",function(r){F(t);let s=_(2);return L(s.onClearButtonClick(r))}),E()()}if(n&2){let t=_(2);g(),f("label",t.getTranslation("today"))("ngClass",Ce(4,OV,t.todayButtonStyleClass)),g(),f("label",t.getTranslation("clear"))("ngClass",Ce(6,OV,t.clearButtonStyleClass))}}function Toe(n,e){n&1&&de(0)}function xoe(n,e){if(n&1){let t=le();I(0,"div",20,2),Q("@overlayAnimation.start",function(r){F(t);let s=_();return L(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){F(t);let s=_();return L(s.onOverlayAnimationDone(r))})("click",function(r){F(t);let s=_();return L(s.onOverlayClick(r))}),nn(2),T(3,dse,1,0,"ng-container",13)(4,Wse,5,3,"ng-container",7)(5,Ioe,27,20,"div",21)(6,Eoe,3,8,"div",22),nn(7,1),T(8,Toe,1,0,"ng-container",13),E()}if(n&2){let t=_();ne(t.panelStyleClass),f("ngStyle",t.panelStyle)("ngClass",Lc(15,Gre,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,t.view==="month",t.touchUI))("@overlayAnimation",t.touchUI?Ce(25,Wre,Lt(22,kV,t.showTransitionOptions,t.hideTransitionOptions)):Ce(30,qre,Lt(27,kV,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",t.inline===!0),N("id",t.panelId)("aria-label",t.getTranslation("chooseDate"))("role",t.inline?null:"dialog")("aria-modal",t.inline?null:"true"),g(3),f("ngTemplateOutlet",t.headerTemplate),g(),f("ngIf",!t.timeOnly),g(),f("ngIf",(t.showTime||t.timeOnly)&&t.currentView==="date"),g(),f("ngIf",t.showButtonBar),g(2),f("ngTemplateOutlet",t.footerTemplate)}}var Soe={provide:Rn,useExisting:gn(()=>Doe),multi:!0},Doe=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(t){this._minDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){let i=t.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){let i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new Z;onBlur=new Z;onClose=new Z;onSelect=new Z;onClear=new Z;onInput=new Z;onTodayClick=new Z;onClearClick=new Z;onMonthChange=new Z;onYearChange=new Z;onClickOutside=new Z;onShow=new Z;templates;containerViewChild;inputfieldViewChild;set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(t,i,r,s,o,a,l){this.document=t,this.el=i,this.renderer=r,this.cd=s,this.zone=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=it(),this.panelId=this.attributeSelector+"_panel";let t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"inputicon":this.inputIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"decrementicon":this.decrementIconTemplate=t.template;break;case"incrementicon":this.incrementIconTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.dateTemplate=t.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=k.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,i){this.yearOptions=[];for(let r=t;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),i=this.getTranslation(An.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[t]),t=t==6?0:++t}monthPickerValues(){let t=[];for(let i=0;i<=11;i++)t.push(this.config.getTranslation("monthNamesShort")[i]);return t}yearPickerValues(){let t=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)t.push(i+r);return t}createMonths(t,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=t+r,o=i;s>11&&(s=s%11-1,o=i+1),this.months.push(this.createMonth(s,o))}}getWeekNumber(t){let i=new Date(t.getTime());if(this.startWeekFromFirstDayOfYear){let s=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+s-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(t,i){let r=[],s=this.getFirstDayOfMonthIndex(t,i),o=this.getDaysCountInMonth(t,i),a=this.getDaysCountInPrevMonth(t,i),l=1,c=new Date,u=[],h=Math.ceil((o+s)/7);for(let p=0;p<h;p++){let m=[];if(p==0){for(let w=a-s+1;w<=a;w++){let C=this.getPreviousMonthAndYear(t,i);m.push({day:w,month:C.month,year:C.year,otherMonth:!0,today:this.isToday(c,w,C.month,C.year),selectable:this.isSelectable(w,C.month,C.year,!0)})}let v=7-m.length;for(let w=0;w<v;w++)m.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)}),l++}else for(let v=0;v<7;v++){if(l>o){let w=this.getNextMonthAndYear(t,i);m.push({day:l-o,month:w.month,year:w.year,otherMonth:!0,today:this.isToday(c,l-o,w.month,w.year),selectable:this.isSelectable(l-o,w.month,w.year,!0)})}else m.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(m[0].year,m[0].month,m[0].day))),r.push(m)}return{month:t,year:i,dates:r,weekNumbers:u}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]-i,t[t.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]+i,t[t.length-1]+i)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,i){if(this.disabled||!i.selectable){t.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()}shouldSelectDate(t){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(t,i){this.view==="month"?this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,i){this.view==="year"?this.onDateSelect(t,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value){if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);t+=r,i!==this.value.length-1&&(t+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];t=this.formatDateTime(i),r&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let i=this.keepInvalid?t:null,r=this.isValidDateForTimeConstraints(t);return this.isValidDate(t)?this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t))):this.dataType==="string"&&(i=t),i=r?i:"",i}formatDateMetaToDate(t){return new Date(t.year,t.month,t.day)}formatDateKey(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}setCurrentHourPM(t){this.hourFormat=="12"?(this.pm=t>11,t>=12?this.currentHour=t==12?12:t-12:this.currentHour=t==0?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let i=this.formatDateMetaToDate(t);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(t){if(this.value=t,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(t,i){let r=new Date;r.setDate(1),r.setMonth(t),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}getDaysCountInPrevMonth(t,i){let r=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(t,i){let r,s;return t===0?(r=11,s=i-1):(r=t-1,s=i),{month:r,year:s}}getNextMonthAndYear(t,i){let r,s;return t===11?(r=0,s=i+1):(r=t+1,s=i),{month:r,year:s}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,t),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,t,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(t,i){let r=i??this.currentYear;for(let s=1;s<this.getDaysCountInMonth(t,r)+1;s++)if(this.isSelectable(s,t,r,!1))return!1;return!0}isYearDisabled(t){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,t))}isYearSelected(t){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===t}return!1}isDateEquals(t,i){return t&&te.isDate(t)?t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year:!1}isDateBetween(t,i,r){let s=!1;if(te.isDate(t)&&te.isDate(i)){let o=this.formatDateMetaToDate(r);return t.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return s}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(t,i,r,s){return t.getDate()===i&&t.getMonth()===r&&t.getFullYear()===s}isSelectable(t,i,r,s){let o=!0,a=!0,l=!0,c=!0;return s&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(t,i,r)),this.disabledDays&&(c=!this.isDayDisabled(t,i,r)),o&&a&&l&&c)}isDateDisabled(t,i,r){if(this.disabledDates){for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===t)return!0}return!1}isDayDisabled(t,i,r){if(this.disabledDays){let o=new Date(r,i,t).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return this.currentView==="month"?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:if(this.inline||this.trapFocus(t),this.inline){let i=k.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=t.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break;default:break}}onInputKeydown(t){this.isKeydown=!0,t.keyCode===40&&this.contentViewChild?this.trapFocus(t):t.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault()):t.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):t.keyCode===9&&this.contentViewChild&&(k.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,i,r){let s=t.currentTarget,o=s.parentElement,a=this.formatDateMetaToDate(i);switch(t.which){case 40:{s.tabIndex="-1";let v=k.index(o),w=o.parentElement.nextElementSibling;if(w){let C=w.children[v].children[0];k.hasClass(C,"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(w.children[v].children[0].tabIndex="0",w.children[v].children[0].focus())}else this.navigationState={backward:!1},this.navForward(t);t.preventDefault();break}case 38:{s.tabIndex="-1";let v=k.index(o),w=o.parentElement.previousElementSibling;if(w){let C=w.children[v].children[0];k.hasClass(C,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(C.tabIndex="0",C.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{s.tabIndex="-1";let v=o.previousElementSibling;if(v){let w=v.children[0];k.hasClass(w,"p-disabled")||k.hasClass(w.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(w.tabIndex="0",w.focus())}else this.navigateToMonth(!0,r);t.preventDefault();break}case 39:{s.tabIndex="-1";let v=o.nextElementSibling;if(v){let w=v.children[0];k.hasClass(w,"p-disabled")?this.navigateToMonth(!1,r):(w.tabIndex="0",w.focus())}else this.navigateToMonth(!1,r);t.preventDefault();break}case 13:case 32:{this.onDateSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}case 33:{s.tabIndex="-1";let v=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),w=this.formatDateKey(v);this.navigateToMonth(!0,r,`span[data-date='${w}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 34:{s.tabIndex="-1";let v=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),w=this.formatDateKey(v);this.navigateToMonth(!1,r,`span[data-date='${w}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 36:s.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),u=k.findSingle(s.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),t.preventDefault();break;case 35:s.tabIndex="-1";let h=new Date(a.getFullYear(),a.getMonth()+1,0),p=this.formatDateKey(h),m=k.findSingle(s.offsetParent,`span[data-date='${p}']:not(.p-disabled):not(.p-ink)`);h&&(m.tabIndex="0",m.focus()),t.preventDefault();break;default:break}}onMonthCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=k.index(r);let a=s[t.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onMonthSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}default:break}}onYearCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=k.index(r);let a=s[t.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onYearSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.trapFocus(t);break}default:break}}navigateToMonth(t,i,r){if(t)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let s=this.contentViewChild.nativeElement.children[i-1];if(r){let o=k.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=k.find(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let s=this.contentViewChild.nativeElement.children[i+1];if(r){let o=k.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=k.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=k.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=k.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=k.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(t=i[i.length-1])}else this.currentView==="month"?t=k.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=k.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=k.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let t=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=k.find(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=k.findSingle(t,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&k.find(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=k.find(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=k.findSingle(t,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&k.find(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=k.findSingle(t,"span.p-highlight"),!i){let r=k.findSingle(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=k.findSingle(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(t){let i=k.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let s=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(s=o);i[s].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(t,i){return this.hourFormat=="12"?t===12?i?12:0:i?t+12:t:t}constrainTime(t,i,r,s){let o=[t,i,r],a,l=this.value,c=this.convertTo24Hour(t,s),u=this.isRangeSelection(),h=this.isMultipleSelection();(u||h)&&(this.value||(this.value=[new Date,new Date]),u&&(l=this.value[1]||this.value[0]),h&&(l=this.value[this.value.length-1]));let m=l?l.toDateString():null,v=this.minDate&&m&&this.minDate.toDateString()===m,w=this.maxDate&&m&&this.maxDate.toDateString()===m;switch(v&&(a=this.minDate.getHours()>=12),!0){case(v&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):o[0]=11;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(v&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):o[0]=11,this.pm=!0;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(v&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(v&&this.minDate.getHours()>c):o[0]=this.minDate.getHours();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(w&&this.maxDate.getHours()<c):o[0]=this.maxDate.getHours();case(w&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(w&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(t){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,s=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(s),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,s),t.preventDefault()}toggleAMPMIfNotMinDate(t){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=t}onTimePickerElementMouseDown(t,i,r){this.disabled||(this.repeat(t,null,i,r),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,i,r,s){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,r,s),this.cd.markForCheck()},o),r){case 0:s===1?this.incrementHour(t):this.decrementHour(t);break;case 1:s===1?this.incrementMinute(t):this.decrementMinute(t);break;case 2:s===1?this.incrementSecond(t):this.decrementSecond(t);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),t.preventDefault()}incrementMinute(t){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}decrementMinute(t){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}incrementSecond(t){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}decrementSecond(t){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?t=[this.value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let i=t.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let s=this.keepInvalid?i:null;this.updateModel(s)}this.filled=i!=null&&i.length,this.onInput.emit(t)}isValidSelection(t){if(this.isSingleSelection())return this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1);let i=t.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=t.length===1||t.length>1&&t[1]>=t[0]),i}parseValueFromString(t){if(!t||t.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){let r=t.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=t.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(t){let i,r=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let s=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,a,o)}else i=this.parseDate(t,s)}return i}populateTime(t,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let s=this.parseTime(i);t.setHours(s.hour),t.setMinutes(s.minute),t.setSeconds(s.second)}isValidDate(t){return te.isDate(t)&&te.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[1]||t[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?xn.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):xn.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t);break}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&xn.clear(t.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):k.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=k.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=k.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=k.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),k.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):k.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),k.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),k.blockBodyScroll())}disableModality(){this.mask&&(k.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let t=this.document.body.children,i;for(let r=0;r<t.length;r++){let s=t[r];if(k.hasClass(s,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||k.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(An.FIRST_DAY_OF_WEEK)}formatDate(t,i){if(!t)return"";let r,s=u=>{let h=r+1<i.length&&i.charAt(r+1)===u;return h&&r++,h},o=(u,h,p)=>{let m=""+h;if(s(u))for(;m.length<p;)m="0"+m;return m},a=(u,h,p,m)=>s(u)?m[h]:p[h],l="",c=!1;if(t)for(r=0;r<i.length;r++)if(c)i.charAt(r)==="'"&&!s("'")?c=!1:l+=i.charAt(r);else switch(i.charAt(r)){case"d":l+=o("d",t.getDate(),2);break;case"D":l+=a("D",t.getDay(),this.getTranslation(An.DAY_NAMES_SHORT),this.getTranslation(An.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",t.getMonth()+1,2);break;case"M":l+=a("M",t.getMonth(),this.getTranslation(An.MONTH_NAMES_SHORT),this.getTranslation(An.MONTH_NAMES));break;case"y":l+=s("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this.ticksTo1970;break;case"'":s("'")?l+="'":c=!0;break;default:l+=i.charAt(r)}return l}formatTime(t){if(!t)return"";let i="",r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=t.getHours()>11?" PM":" AM"),i}parseTime(t){let i=t.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let s=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(o)||s>23||o>59||this.hourFormat=="12"&&s>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(s!==12&&this.pm?s+=12:!this.pm&&s===12&&(s-=12)),{hour:s,minute:o,second:a}}parseDate(t,i){if(i==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t==="")return null;let r,s,o,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,h=-1,p=-1,m=!1,v,w=V=>{let z=r+1<i.length&&i.charAt(r+1)===V;return z&&r++,z},C=V=>{let z=w(V),q=V==="@"?14:V==="!"?20:V==="y"&&z?4:V==="o"?3:2,Y=V==="y"?q:1,A=new RegExp("^\\d{"+Y+","+q+"}"),x=t.substring(a).match(A);if(!x)throw"Missing number at position "+a;return a+=x[0].length,parseInt(x[0],10)},S=(V,z,q)=>{let Y=-1,A=w(V)?q:z,x=[];for(let D=0;D<A.length;D++)x.push([D,A[D]]);x.sort((D,B)=>-(D[1].length-B[1].length));for(let D=0;D<x.length;D++){let B=x[D][1];if(t.substr(a,B.length).toLowerCase()===B.toLowerCase()){Y=x[D][0],a+=B.length;break}}if(Y!==-1)return Y+1;throw"Unknown name at position "+a},R=()=>{if(t.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(h=1),r=0;r<i.length;r++)if(m)i.charAt(r)==="'"&&!w("'")?m=!1:R();else switch(i.charAt(r)){case"d":h=C("d");break;case"D":S("D",this.getTranslation(An.DAY_NAMES_SHORT),this.getTranslation(An.DAY_NAMES));break;case"o":p=C("o");break;case"m":u=C("m");break;case"M":u=S("M",this.getTranslation(An.MONTH_NAMES_SHORT),this.getTranslation(An.MONTH_NAMES));break;case"y":c=C("y");break;case"@":v=new Date(C("@")),c=v.getFullYear(),u=v.getMonth()+1,h=v.getDate();break;case"!":v=new Date((C("!")-this.ticksTo1970)/1e4),c=v.getFullYear(),u=v.getMonth()+1,h=v.getDate();break;case"'":w("'")?R():m=!0;break;default:R()}if(a<t.length&&(o=t.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),p>-1){u=1,h=p;do{if(s=this.getDaysCountInMonth(c,u-1),h<=s)break;u++,h-=s}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,h=h===-1?1:h),v=this.daylightSavingAdjust(new Date(c,u-1,h)),v.getFullYear()!==c||v.getMonth()+1!==u||v.getDate()!==h)throw"Invalid date";return v}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(t){return this.keepInvalid?!0:(!this.minDate||t>=this.minDate)&&(!this.maxDate||t<=this.maxDate)}onTodayButtonClick(t){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(t,r),this.onTodayClick.emit(i)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",k.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:o}=i[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=o;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;t+=`
                        @media screen and (max-width: ${s}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ps(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return k.hasClass(t.target,"p-datepicker-prev")||k.hasClass(t.target,"p-datepicker-prev-icon")||k.hasClass(t.target,"p-datepicker-next")||k.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!k.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&xn.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(j(ht),j(je),j(Wt),j(Je),j(Qe),j(Yt),j(gl))};static \u0275cmp=X({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(Nre,5),Ve(Vre,5),Ve(Bre,5)),i&2){let s;me(s=ge())&&(r.containerViewChild=s.first),me(s=ge())&&(r.inputfieldViewChild=s.first),me(s=ge())&&(r.content=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Bn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[O.HasDecoratorInputTransform,"inline","inline",W],showOtherMonths:[O.HasDecoratorInputTransform,"showOtherMonths","showOtherMonths",W],selectOtherMonths:[O.HasDecoratorInputTransform,"selectOtherMonths","selectOtherMonths",W],showIcon:[O.HasDecoratorInputTransform,"showIcon","showIcon",W],icon:"icon",appendTo:"appendTo",readonlyInput:[O.HasDecoratorInputTransform,"readonlyInput","readonlyInput",W],shortYearCutoff:"shortYearCutoff",monthNavigator:[O.HasDecoratorInputTransform,"monthNavigator","monthNavigator",W],yearNavigator:[O.HasDecoratorInputTransform,"yearNavigator","yearNavigator",W],hourFormat:"hourFormat",timeOnly:[O.HasDecoratorInputTransform,"timeOnly","timeOnly",W],stepYearPicker:[O.HasDecoratorInputTransform,"stepYearPicker","stepYearPicker",Le],stepHour:[O.HasDecoratorInputTransform,"stepHour","stepHour",Le],stepMinute:[O.HasDecoratorInputTransform,"stepMinute","stepMinute",Le],stepSecond:[O.HasDecoratorInputTransform,"stepSecond","stepSecond",Le],showSeconds:[O.HasDecoratorInputTransform,"showSeconds","showSeconds",W],required:[O.HasDecoratorInputTransform,"required","required",W],showOnFocus:[O.HasDecoratorInputTransform,"showOnFocus","showOnFocus",W],showWeek:[O.HasDecoratorInputTransform,"showWeek","showWeek",W],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[O.HasDecoratorInputTransform,"showClear","showClear",W],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[O.HasDecoratorInputTransform,"maxDateCount","maxDateCount",Le],showButtonBar:[O.HasDecoratorInputTransform,"showButtonBar","showButtonBar",W],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],autoZIndex:[O.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[O.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Le],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[O.HasDecoratorInputTransform,"keepInvalid","keepInvalid",W],hideOnDateTimeSelect:[O.HasDecoratorInputTransform,"hideOnDateTimeSelect","hideOnDateTimeSelect",W],touchUI:[O.HasDecoratorInputTransform,"touchUI","touchUI",W],timeSeparator:"timeSeparator",focusTrap:[O.HasDecoratorInputTransform,"focusTrap","focusTrap",W],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[dn([Soe]),Ze],ngContentSelectors:Ure,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,r){i&1&&(_n(zre),I(0,"span",3,0),T(2,use,5,22,"ng-template",4)(3,xoe,9,32,"div",5),E()),i&2&&(ne(r.styleClass),f("ngClass",xd(6,Hre,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),g(2),f("ngIf",!r.inline),g(),f("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[gt,oi,nt,Mt,_t,Xd,ai,Hd,jd,wx,ch,kn,Cx,Di],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Cl("overlayAnimation",[qN("visibleTouchUI",gi({transform:"translate(-50%,-50%)",opacity:1})),Sr("void => visible",[gi({opacity:0,transform:"scaleY(0.8)"}),xr("{{showTransitionParams}}",gi({opacity:1,transform:"*"}))]),Sr("visible => void",[xr("{{hideTransitionParams}}",gi({opacity:0}))]),Sr("void => visibleTouchUI",[gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),xr("{{showTransitionParams}}")]),Sr("visibleTouchUI => void",[xr("{{hideTransitionParams}}",gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),FV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,_r,Ke,li,Hd,jd,wx,ch,kn,Cx,er,_r,Ke]})}return n})();var Ex=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ArrowDownIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var Tx=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ArrowUpIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var LV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["FilterIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var NV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["FilterSlashIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var VV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var BV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["SortAltIcon"]],standalone:!0,features:[Se,_e],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),E(),I(6,"defs")(7,"clipPath",5),$(8,"rect",6),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(6),f("id",r.pathId))},encapsulation:2})}return n})();var zV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var UV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var HV=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["TrashIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var dh=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var xx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleUpIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Moe=["input"],Aoe=(n,e,t)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":t}),jV=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),$V=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function Roe(n,e){if(n&1){let t=le();I(0,"TimesIcon",8),Q("click",function(){F(t);let r=_(2);return L(r.clear())}),E()}n&2&&(f("ngClass","p-inputnumber-clear-icon"),N("data-pc-section","clearIcon"))}function koe(n,e){}function Ooe(n,e){n&1&&T(0,koe,0,0,"ng-template")}function Poe(n,e){if(n&1){let t=le();I(0,"span",9),Q("click",function(){F(t);let r=_(2);return L(r.clear())}),T(1,Ooe,1,0,null,10),E()}if(n&2){let t=_(2);N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function Foe(n,e){if(n&1&&(re(0),T(1,Roe,1,2,"TimesIcon",6)(2,Poe,2,2,"span",7),se()),n&2){let t=_();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function Loe(n,e){if(n&1&&$(0,"span",14),n&2){let t=_(2);f("ngClass",t.incrementButtonIcon),N("data-pc-section","incrementbuttonicon")}}function Noe(n,e){n&1&&$(0,"AngleUpIcon"),n&2&&N("data-pc-section","incrementbuttonicon")}function Voe(n,e){}function Boe(n,e){n&1&&T(0,Voe,0,0,"ng-template")}function zoe(n,e){if(n&1&&(re(0),T(1,Noe,1,1,"AngleUpIcon",3)(2,Boe,1,0,null,10),se()),n&2){let t=_(2);g(),f("ngIf",!t.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function Uoe(n,e){if(n&1&&$(0,"span",14),n&2){let t=_(2);f("ngClass",t.decrementButtonIcon),N("data-pc-section","decrementbuttonicon")}}function Hoe(n,e){n&1&&$(0,"AngleDownIcon"),n&2&&N("data-pc-section","decrementbuttonicon")}function joe(n,e){}function $oe(n,e){n&1&&T(0,joe,0,0,"ng-template")}function Goe(n,e){if(n&1&&(re(0),T(1,Hoe,1,1,"AngleDownIcon",3)(2,$oe,1,0,null,10),se()),n&2){let t=_(2);g(),f("ngIf",!t.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function Woe(n,e){if(n&1){let t=le();I(0,"span",11)(1,"button",12),Q("mousedown",function(r){F(t);let s=_();return L(s.onUpButtonMouseDown(r))})("mouseup",function(){F(t);let r=_();return L(r.onUpButtonMouseUp())})("mouseleave",function(){F(t);let r=_();return L(r.onUpButtonMouseLeave())})("keydown",function(r){F(t);let s=_();return L(s.onUpButtonKeyDown(r))})("keyup",function(){F(t);let r=_();return L(r.onUpButtonKeyUp())}),T(2,Loe,1,2,"span",13)(3,zoe,3,2,"ng-container",3),E(),I(4,"button",12),Q("mousedown",function(r){F(t);let s=_();return L(s.onDownButtonMouseDown(r))})("mouseup",function(){F(t);let r=_();return L(r.onDownButtonMouseUp())})("mouseleave",function(){F(t);let r=_();return L(r.onDownButtonMouseLeave())})("keydown",function(r){F(t);let s=_();return L(s.onDownButtonKeyDown(r))})("keyup",function(){F(t);let r=_();return L(r.onDownButtonKeyUp())}),T(5,Uoe,1,2,"span",13)(6,Goe,3,2,"ng-container",3),E()()}if(n&2){let t=_();N("data-pc-section","buttonGroup"),g(),ne(t.incrementButtonClass),f("ngClass",Jt(17,jV))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",t.incrementButtonIcon),g(),f("ngIf",!t.incrementButtonIcon),g(),ne(t.decrementButtonClass),f("ngClass",Jt(18,$V))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section",t.decrementbutton),g(),f("ngIf",t.decrementButtonIcon),g(),f("ngIf",!t.decrementButtonIcon)}}function qoe(n,e){if(n&1&&$(0,"span",14),n&2){let t=_(2);f("ngClass",t.incrementButtonIcon),N("data-pc-section","incrementbuttonicon")}}function Koe(n,e){n&1&&$(0,"AngleUpIcon"),n&2&&N("data-pc-section","incrementbuttonicon")}function Yoe(n,e){}function Qoe(n,e){n&1&&T(0,Yoe,0,0,"ng-template")}function Zoe(n,e){if(n&1&&(re(0),T(1,Koe,1,1,"AngleUpIcon",3)(2,Qoe,1,0,null,10),se()),n&2){let t=_(2);g(),f("ngIf",!t.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function Xoe(n,e){if(n&1){let t=le();I(0,"button",12),Q("mousedown",function(r){F(t);let s=_();return L(s.onUpButtonMouseDown(r))})("mouseup",function(){F(t);let r=_();return L(r.onUpButtonMouseUp())})("mouseleave",function(){F(t);let r=_();return L(r.onUpButtonMouseLeave())})("keydown",function(r){F(t);let s=_();return L(s.onUpButtonKeyDown(r))})("keyup",function(){F(t);let r=_();return L(r.onUpButtonKeyUp())}),T(1,qoe,1,2,"span",13)(2,Zoe,3,2,"ng-container",3),E()}if(n&2){let t=_();ne(t.incrementButtonClass),f("ngClass",Jt(8,jV))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",t.incrementButtonIcon),g(),f("ngIf",!t.incrementButtonIcon)}}function Joe(n,e){if(n&1&&$(0,"span",14),n&2){let t=_(2);f("ngClass",t.decrementButtonIcon),N("data-pc-section","decrementbuttonicon")}}function eae(n,e){n&1&&$(0,"AngleDownIcon"),n&2&&N("data-pc-section","decrementbuttonicon")}function tae(n,e){}function nae(n,e){n&1&&T(0,tae,0,0,"ng-template")}function iae(n,e){if(n&1&&(re(0),T(1,eae,1,1,"AngleDownIcon",3)(2,nae,1,0,null,10),se()),n&2){let t=_(2);g(),f("ngIf",!t.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function rae(n,e){if(n&1){let t=le();I(0,"button",12),Q("mousedown",function(r){F(t);let s=_();return L(s.onDownButtonMouseDown(r))})("mouseup",function(){F(t);let r=_();return L(r.onDownButtonMouseUp())})("mouseleave",function(){F(t);let r=_();return L(r.onDownButtonMouseLeave())})("keydown",function(r){F(t);let s=_();return L(s.onDownButtonKeyDown(r))})("keyup",function(){F(t);let r=_();return L(r.onDownButtonKeyUp())}),T(1,Joe,1,2,"span",13)(2,iae,3,2,"ng-container",3),E()}if(n&2){let t=_();ne(t.decrementButtonClass),f("ngClass",Jt(8,$V))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","decrementbutton"),g(),f("ngIf",t.decrementButtonIcon),g(),f("ngIf",!t.decrementButtonIcon)}}var sae={provide:Rn,useExisting:gn(()=>Sx),multi:!0},Sx=(()=>{class n{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}onInput=new Z;onFocus=new Z;onBlur=new Z;onKeyDown=new Z;onClear=new Z;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(t,i,r,s,o){this.document=t,this.el=i,this.cd=r,this.injector=s,this.config=o}ngOnChanges(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!t[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=t.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=t.template;break}})}ngOnInit(){this.ngControl=this.injector.get(Wr,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(t.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let t=this.getDecimalChar();return new RegExp(`[${t}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,ut(ue({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&t!=this.prefix&&(r=this.prefix+r),this.suffix&&t!=this.suffix&&(r=r+this.suffix),r}return t.toString()}return""}parseValue(t){let i=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),s=new RegExp(this._currency,""),o=t.replace(i,"").replace(r,"").trim().replace(/\s/g,"").replace(s,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(t,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},s),this.spin(t,r)}spin(t,i){let r=this.step*i,s=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(t,o),this.handleOnInput(t,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)}onUserInput(t){this.readonly||(this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let i=t.target.selectionStart,r=t.target.selectionEnd,s=t.target.value,o=null;switch(t.altKey&&t.preventDefault(),t.key){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":for(let a=i;a<=s.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(s.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(s.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(t,o);break;case"Backspace":{if(t.preventDefault(),i===r){if(i==1&&this.prefix||i==s.length&&this.suffix)break;let a=s.charAt(i-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=s.slice(0,i-1)+s.slice(i);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i-1)+h+s.slice(i)}else c===1?(o=s.slice(0,i-1)+"0"+s.slice(i),o=this.parseValue(o)>0?o:""):o=s.slice(0,i-1)+s.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=s.slice(1));this.updateValue(t,o,null,"delete-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break}case"Delete":if(t.preventDefault(),i===r){if(i==0&&this.prefix||i==s.length-1&&this.suffix)break;let a=s.charAt(i),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){let u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=s.slice(0,i)+s.slice(i+1);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i)+h+s.slice(i+1)}else c===1?(o=s.slice(0,i)+"0"+s.slice(i+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,i)+s.slice(i+1)}this.updateValue(t,o,null,"delete-back-single")}else o=this.deleteRange(s,i,r),this.updateValue(t,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break;default:break}this.onKeyDown.emit(t)}onInputKeyPress(t){if(this.readonly)return;let i=t.which||t.keyCode,r=String.fromCharCode(i),s=this.isDecimalSign(r),o=this.isMinusSign(r);i!=13&&t.preventDefault(),!s&&t.code==="NumpadDecimal"&&(s=!0,r=this._decimalChar,i=r.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+r),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(t,r,{isDecimalSign:s,isMinusSign:o});return}this.maxlength&&l.length>this.maxlength||(48<=i&&i<=57||o||s)&&this.insert(t,r,{isDecimalSign:s,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(t){if(!this.disabled&&!this.readonly){t.preventDefault();let i=(t.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let r=this.parseValue(i);r!=null&&this.insert(t,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let s=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let r=t.search(this._minusSign);this._minusSign.lastIndex=0;let s=t.search(this._suffix);this._suffix.lastIndex=0;let o=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:o}}insert(t,i,r={isDecimalSign:!1,isMinusSign:!1}){let s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&s!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:h,currencyCharIndex:p}=this.getCharIndexes(l),m;if(r.isMinusSign)o===0&&(m=l,(u===-1||a!==0)&&(m=this.insertText(l,i,0,a)),this.updateValue(t,m,i,"insert"));else if(r.isDecimalSign)c>0&&o===c?this.updateValue(t,l,i,"insert"):c>o&&c<a?(m=this.insertText(l,i,o,a),this.updateValue(t,m,i,"insert")):c===-1&&this.maxFractionDigits&&(m=this.insertText(l,i,o,a),this.updateValue(t,m,i,"insert"));else{let v=this.numberFormat.resolvedOptions().maximumFractionDigits,w=o!==a?"range-insert":"insert";if(c>0&&o>c){if(o+i.length-(c+1)<=v){let C=p>=o?p-1:h>=o?h:l.length;m=l.slice(0,o)+i+l.slice(o+i.length,C)+l.slice(C),this.updateValue(t,m,i,w)}}else m=this.insertText(l,i,o,a),this.updateValue(t,m,i,w)}}insertText(t,i,r,s){if((i==="."?i:i.split(".")).length===2){let a=t.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,a>0?t.slice(0,r)+this.formatValue(i)+t.slice(s):t||this.formatValue(i)}else return s-r===t.length?this.formatValue(i):r===0?i+t.slice(s):s===t.length?t.slice(0,r)+i:t.slice(0,r)+i+t.slice(s)}deleteRange(t,i,r){let s;return r-i===t.length?s="":i===0?s=t.slice(r):r===t.length?s=t.slice(0,i):s=t.slice(0,i)+t.slice(r),s}initCursor(){let t=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,s=r.length,o=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(t===i||t!==0||i<a)&&(t-=a);let l=r.charAt(t);if(this.isNumeralChar(l))return t+a;let c=t-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(c=t;c<s;)if(l=r.charAt(c),this.isNumeralChar(l)){o=c+a;break}else c++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let t=this.input?.nativeElement.value;!this.readonly&&t!==k.getSelection()&&this.initCursor()}isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,i,r,s){let o=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,s,i),this.handleOnInput(t,o,a))}handleOnInput(t,i,r){this.isValueChanged(i,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(t,r),this.onInput.emit({originalEvent:t,value:r,formattedValue:i}))}isValueChanged(t,i){if(i===null&&t!==null)return!0;if(i!=null){let r=typeof t=="string"?this.parseValue(t):t;return i!==r}return!1}validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t}updateInput(t,i,r,s){i=i||"";let o=this.input?.nativeElement.value,a=this.formatValue(t),l=o.length;if(a!==s&&(a=this.concatValues(a,s)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let h=a.length;if(r==="range-insert"){let p=this.parseValue((o||"").slice(0,c)),v=(p!==null?p.toString():"").split("").join(`(${this.groupChar})?`),w=new RegExp(v,"g");w.test(a);let C=i.split("").join(`(${this.groupChar})?`),S=new RegExp(C,"g");S.test(a.slice(w.lastIndex)),u=w.lastIndex+S.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(h===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(r==="delete-back-single"){let p=o.charAt(u-1),m=o.charAt(u),v=l-h,w=this._group.test(m);w&&v===1?u+=1:!w&&this.isNumeralChar(p)&&(u+=-1*v+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(o==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let m=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(m,m)}else u=u+(h-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",t)}concatValues(t,i){if(t&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?t:t.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+i.slice(r):t}return t}getDecimalLength(t){if(t){let i=t.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=i?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(t,i),this.onBlur.emit(t)}formattedValue(){let t=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(t)}updateModel(t,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||n)(j(ht),j(je),j(Je),j(ri),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-inputNumber"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ve(Moe,5),i&2){let s;me(s=ge())&&(r.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Bn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[O.HasDecoratorInputTransform,"showButtons","showButtons",W],format:[O.HasDecoratorInputTransform,"format","format",W],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[O.HasDecoratorInputTransform,"size","size",Le],maxlength:[O.HasDecoratorInputTransform,"maxlength","maxlength",Le],tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[O.HasDecoratorInputTransform,"ariaRequired","ariaRequired",W],name:"name",required:[O.HasDecoratorInputTransform,"required","required",W],autocomplete:"autocomplete",min:[O.HasDecoratorInputTransform,"min","min",Le],max:[O.HasDecoratorInputTransform,"max","max",Le],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],step:[O.HasDecoratorInputTransform,"step","step",Le],allowEmpty:[O.HasDecoratorInputTransform,"allowEmpty","allowEmpty",W],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[O.HasDecoratorInputTransform,"useGrouping","useGrouping",W],variant:"variant",minFractionDigits:[O.HasDecoratorInputTransform,"minFractionDigits","minFractionDigits",t=>Le(t,null)],maxFractionDigits:[O.HasDecoratorInputTransform,"maxFractionDigits","maxFractionDigits",t=>Le(t,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[O.HasDecoratorInputTransform,"showClear","showClear",W],autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[dn([sae]),Ze,cn],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,r){if(i&1){let s=le();I(0,"span",1)(1,"input",2,0),Q("input",function(a){return F(s),L(r.onUserInput(a))})("keydown",function(a){return F(s),L(r.onInputKeyDown(a))})("keypress",function(a){return F(s),L(r.onInputKeyPress(a))})("paste",function(a){return F(s),L(r.onPaste(a))})("click",function(){return F(s),L(r.onInputClick())})("focus",function(a){return F(s),L(r.onInputFocus(a))})("blur",function(a){return F(s),L(r.onInputBlur(a))}),E(),T(3,Foe,3,2,"ng-container",3)(4,Woe,7,19,"span",4)(5,Xoe,3,9,"button",5)(6,rae,3,9,"button",5),E()}i&2&&(ne(r.styleClass),f("ngClass",En(39,Aoe,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),N("data-pc-name","inputnumber")("data-pc-section","root"),g(),ne(r.inputStyleClass),Bn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),f("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),N("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),g(2),f("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),g(),f("ngIf",r.showButtons&&r.buttonLayout==="stacked"),g(),f("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),g(),f("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[gt,nt,Mt,_t,bl,Xd,Di,kn,xx,dh],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),tu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,hs,_r,er,kn,xx,dh,Ke]})}return n})();var Dx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Mx=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Ax=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleLeftIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var hh=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var cv=n=>({"p-disabled":n}),uv=n=>({$implicit:n}),aae=n=>({"p-highlight":n});function lae(n,e){n&1&&de(0)}function cae(n,e){if(n&1&&(I(0,"div",15),T(1,lae,1,0,"ng-container",16),E()),n&2){let t=_(2);N("data-pc-section","start"),g(),f("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Ce(3,uv,t.paginatorState))}}function uae(n,e){if(n&1&&(I(0,"span",17),ie(1),E()),n&2){let t=_(2);g(),Ue(t.currentPageReport)}}function dae(n,e){n&1&&$(0,"AngleDoubleLeftIcon",19),n&2&&f("styleClass","p-paginator-icon")}function hae(n,e){}function pae(n,e){n&1&&T(0,hae,0,0,"ng-template")}function fae(n,e){if(n&1&&(I(0,"span",20),T(1,pae,1,0,null,21),E()),n&2){let t=_(3);g(),f("ngTemplateOutlet",t.firstPageLinkIconTemplate)}}function mae(n,e){if(n&1){let t=le();I(0,"button",18),Q("click",function(r){F(t);let s=_(2);return L(s.changePageToFirst(r))}),T(1,dae,1,1,"AngleDoubleLeftIcon",6)(2,fae,2,1,"span",7),E()}if(n&2){let t=_(2);f("disabled",t.isFirstPage()||t.empty())("ngClass",Ce(5,cv,t.isFirstPage()||t.empty())),N("aria-label",t.getAriaLabel("firstPageLabel")),g(),f("ngIf",!t.firstPageLinkIconTemplate),g(),f("ngIf",t.firstPageLinkIconTemplate)}}function gae(n,e){n&1&&$(0,"AngleLeftIcon",19),n&2&&f("styleClass","p-paginator-icon")}function _ae(n,e){}function yae(n,e){n&1&&T(0,_ae,0,0,"ng-template")}function vae(n,e){if(n&1&&(I(0,"span",20),T(1,yae,1,0,null,21),E()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.previousPageLinkIconTemplate)}}function bae(n,e){if(n&1){let t=le();I(0,"button",24),Q("click",function(r){let s=F(t).$implicit,o=_(3);return L(o.onPageLinkClick(r,s-1))}),ie(1),E()}if(n&2){let t=e.$implicit,i=_(3);f("ngClass",Ce(4,aae,t-1==i.getPage())),N("aria-label",i.getPageAriaLabel(t))("aria-current",t-1==i.getPage()?"page":void 0),g(),zt(" ",i.getLocalization(t)," ")}}function wae(n,e){if(n&1&&(I(0,"span",22),T(1,bae,2,6,"button",23),E()),n&2){let t=_(2);g(),f("ngForOf",t.pageLinks)}}function Cae(n,e){if(n&1&&ie(0),n&2){let t=_(3);Ue(t.currentPageReport)}}function Iae(n,e){n&1&&de(0)}function Eae(n,e){if(n&1&&T(0,Iae,1,0,"ng-container",16),n&2){let t=e.$implicit,i=_(4);f("ngTemplateOutlet",i.jumpToPageItemTemplate)("ngTemplateOutletContext",Ce(2,uv,t))}}function Tae(n,e){n&1&&(re(0),T(1,Eae,1,4,"ng-template",28),se())}function xae(n,e){n&1&&de(0)}function Sae(n,e){if(n&1&&T(0,xae,1,0,"ng-container",21),n&2){let t=_(4);f("ngTemplateOutlet",t.dropdownIconTemplate)}}function Dae(n,e){n&1&&T(0,Sae,1,1,"ng-template",29)}function Mae(n,e){if(n&1){let t=le();I(0,"p-dropdown",25),Q("onChange",function(r){F(t);let s=_(2);return L(s.onPageDropdownChange(r))}),T(1,Cae,1,1,"ng-template",26)(2,Tae,2,0,"ng-container",27)(3,Dae,1,0,null,27),E()}if(n&2){let t=_(2);f("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),N("aria-label",t.getAriaLabel("jumpToPageDropdownLabel")),g(2),f("ngIf",t.jumpToPageItemTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function Aae(n,e){n&1&&$(0,"AngleRightIcon",19),n&2&&f("styleClass","p-paginator-icon")}function Rae(n,e){}function kae(n,e){n&1&&T(0,Rae,0,0,"ng-template")}function Oae(n,e){if(n&1&&(I(0,"span",20),T(1,kae,1,0,null,21),E()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.nextPageLinkIconTemplate)}}function Pae(n,e){n&1&&$(0,"AngleDoubleRightIcon",19),n&2&&f("styleClass","p-paginator-icon")}function Fae(n,e){}function Lae(n,e){n&1&&T(0,Fae,0,0,"ng-template")}function Nae(n,e){if(n&1&&(I(0,"span",20),T(1,Lae,1,0,null,21),E()),n&2){let t=_(3);g(),f("ngTemplateOutlet",t.lastPageLinkIconTemplate)}}function Vae(n,e){if(n&1){let t=le();I(0,"button",30),Q("click",function(r){F(t);let s=_(2);return L(s.changePageToLast(r))}),T(1,Pae,1,1,"AngleDoubleRightIcon",6)(2,Nae,2,1,"span",7),E()}if(n&2){let t=_(2);f("disabled",t.isLastPage()||t.empty())("ngClass",Ce(5,cv,t.isLastPage()||t.empty())),N("aria-label",t.getAriaLabel("lastPageLabel")),g(),f("ngIf",!t.lastPageLinkIconTemplate),g(),f("ngIf",t.lastPageLinkIconTemplate)}}function Bae(n,e){if(n&1){let t=le();I(0,"p-inputNumber",31),Q("ngModelChange",function(r){F(t);let s=_(2);return L(s.changePage(r-1))}),E()}if(n&2){let t=_(2);f("ngModel",t.currentPage())("disabled",t.empty())}}function zae(n,e){n&1&&de(0)}function Uae(n,e){if(n&1&&T(0,zae,1,0,"ng-container",16),n&2){let t=e.$implicit,i=_(4);f("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",Ce(2,uv,t))}}function Hae(n,e){n&1&&(re(0),T(1,Uae,1,4,"ng-template",28),se())}function jae(n,e){n&1&&de(0)}function $ae(n,e){if(n&1&&T(0,jae,1,0,"ng-container",21),n&2){let t=_(4);f("ngTemplateOutlet",t.dropdownIconTemplate)}}function Gae(n,e){n&1&&T(0,$ae,1,1,"ng-template",29)}function Wae(n,e){if(n&1){let t=le();I(0,"p-dropdown",32),Ei("ngModelChange",function(r){F(t);let s=_(2);return Bi(s.rows,r)||(s.rows=r),L(r)}),Q("onChange",function(r){F(t);let s=_(2);return L(s.onRppChange(r))}),T(1,Hae,2,0,"ng-container",27)(2,Gae,1,0,null,27),E()}if(n&2){let t=_(2);f("options",t.rowsPerPageItems),Ii("ngModel",t.rows),f("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)("ariaLabel",t.getAriaLabel("rowsPerPageLabel")),g(),f("ngIf",t.dropdownItemTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function qae(n,e){n&1&&de(0)}function Kae(n,e){if(n&1&&(I(0,"div",33),T(1,qae,1,0,"ng-container",16),E()),n&2){let t=_(2);N("data-pc-section","end"),g(),f("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Ce(3,uv,t.paginatorState))}}function Yae(n,e){if(n&1){let t=le();I(0,"div",1),T(1,cae,2,5,"div",2)(2,uae,2,1,"span",3)(3,mae,3,7,"button",4),I(4,"button",5),Q("click",function(r){F(t);let s=_();return L(s.changePageToPrev(r))}),T(5,gae,1,1,"AngleLeftIcon",6)(6,vae,2,1,"span",7),E(),T(7,wae,2,1,"span",8)(8,Mae,4,8,"p-dropdown",9),I(9,"button",10),Q("click",function(r){F(t);let s=_();return L(s.changePageToNext(r))}),T(10,Aae,1,1,"AngleRightIcon",6)(11,Oae,2,1,"span",7),E(),T(12,Vae,3,7,"button",11)(13,Bae,1,2,"p-inputNumber",12)(14,Wae,3,8,"p-dropdown",13)(15,Kae,2,5,"div",14),E()}if(n&2){let t=_();ne(t.styleClass),f("ngStyle",t.style)("ngClass","p-paginator p-component"),N("data-pc-section","paginator")("data-pc-section","root"),g(),f("ngIf",t.templateLeft),g(),f("ngIf",t.showCurrentPageReport),g(),f("ngIf",t.showFirstLastIcon),g(),f("disabled",t.isFirstPage()||t.empty())("ngClass",Ce(25,cv,t.isFirstPage()||t.empty())),N("aria-label",t.getAriaLabel("prevPageLabel")),g(),f("ngIf",!t.previousPageLinkIconTemplate),g(),f("ngIf",t.previousPageLinkIconTemplate),g(),f("ngIf",t.showPageLinks),g(),f("ngIf",t.showJumpToPageDropdown),g(),f("disabled",t.isLastPage()||t.empty())("ngClass",Ce(27,cv,t.isLastPage()||t.empty())),N("aria-label",t.getAriaLabel("nextPageLabel")),g(),f("ngIf",!t.nextPageLinkIconTemplate),g(),f("ngIf",t.nextPageLinkIconTemplate),g(),f("ngIf",t.showFirstLastIcon),g(),f("ngIf",t.showJumpToPageInput),g(),f("ngIf",t.rowsPerPageOptions),g(),f("ngIf",t.templateRight)}}var GV=(()=>{class n{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(t){this._first=t}onPageChange=new Z;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(t,i){this.cd=t,this.config=i}ngOnInit(){this.updatePaginatorState()}getAriaLabel(t){return this.config.translation.aria?this.config.translation.aria[t]:void 0}getPageAriaLabel(t){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${t}`):void 0}getLocalization(t){let i=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(i.map((s,o)=>[o,s]));return t>9?String(t).split("").map(o=>r.get(Number(o))).join(""):r.get(t)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=t.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=t.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=t.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=t.template;break}})}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions(),t.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)typeof t=="object"&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(t)),value:t})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let t=this.getPageCount(),i=Math.min(this.pageLinkSize,t),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(t-1,r+i-1);var o=this.pageLinkSize-(s-r+1);return r=Math.max(0,r-o),[r,s]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),i=t[0],r=t[1];for(let s=i;s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(t){var i=this.getPageCount();if(t>=0&&t<i){this._first=this.rows*t;var r={page:t,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){let t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,i){this.changePage(i),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(i){return new(i||n)(j(Je),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-paginator"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[O.HasDecoratorInputTransform,"pageLinkSize","pageLinkSize",Le],style:"style",styleClass:"styleClass",alwaysShow:[O.HasDecoratorInputTransform,"alwaysShow","alwaysShow",W],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[O.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",W],showFirstLastIcon:[O.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",W],totalRecords:[O.HasDecoratorInputTransform,"totalRecords","totalRecords",Le],rows:[O.HasDecoratorInputTransform,"rows","rows",Le],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[O.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",W],showJumpToPageInput:[O.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",W],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[O.HasDecoratorInputTransform,"showPageLinks","showPageLinks",W],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Ze,cn],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(i,r){i&1&&T(0,Yae,16,29,"div",0),i&2&&f("ngIf",r.alwaysShow?!0:r.pageLinks&&r.pageLinks.length>1)},dependencies:()=>[gt,oi,nt,Mt,_t,am,qe,Sx,vl,Fs,ai,Dx,Mx,Ax,hh],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),WV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,eu,tu,ca,Ke,li,Dx,Mx,Ax,hh,eu,tu,ca,Ke]})}return n})();var Zae=["container"],Xae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-button-icon-only":t}),Jae=(n,e)=>({$implicit:n,index:e});function ele(n,e){if(n&1&&$(0,"span",8),n&2){let t=_(2).$implicit;ne(t.icon),f("ngClass","p-button-icon p-button-icon-left"),N("data-pc-section","icon")}}function tle(n,e){if(n&1&&(re(0),T(1,ele,1,4,"span",6),I(2,"span",7),ie(3),E(),se()),n&2){let t=_().$implicit,i=_();g(),f("ngIf",t.icon),g(),N("data-pc-section","label"),g(),Ue(i.getOptionLabel(t))}}function nle(n,e){n&1&&de(0)}function ile(n,e){if(n&1&&T(0,nle,1,0,"ng-container",9),n&2){let t=_(),i=t.$implicit,r=t.index,s=_();f("ngTemplateOutlet",s.selectButtonTemplate)("ngTemplateOutletContext",Lt(2,Jae,i,r))}}function rle(n,e){if(n&1){let t=le();I(0,"div",4),Q("click",function(r){let s=F(t),o=s.$implicit,a=s.index,l=_();return L(l.onOptionSelect(r,o,a))})("keydown",function(r){let s=F(t),o=s.$implicit,a=s.index,l=_();return L(l.onKeyDown(r,o,a))})("focus",function(r){let s=F(t).index,o=_();return L(o.onFocus(r,s))})("blur",function(){F(t);let r=_();return L(r.onBlur())}),T(1,tle,4,3,"ng-container",5)(2,ile,1,5,"ng-template",null,1,qt),E()}if(n&2){let t=e.$implicit,i=e.index,r=ct(3),s=_();ne(t.styleClass),f("role",s.multiple?"checkbox":"radio")("ngClass",En(14,Xae,s.isSelected(t),s.disabled||s.isOptionDisabled(t),t.icon&&!s.getOptionLabel(t)))("autofocus",s.autofocus),N("tabindex",i===s.focusedIndex?"0":"-1")("aria-label",t.label)("aria-checked",s.isSelected(t))("aria-disabled",s.optionDisabled)("title",t.title)("aria-labelledby",s.getOptionLabel(t))("data-pc-section","button"),g(),f("ngIf",!s.itemTemplate)("ngIfElse",r)}}var sle={provide:Rn,useExisting:gn(()=>ole),multi:!0},ole=(()=>{class n{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new Z;onChange=new Z;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(t){this.cd=t}getOptionLabel(t){return this.optionLabel?te.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?te.resolveFieldData(t,this.optionValue):this.optionLabel||t.value===void 0?t:t.value}isOptionDisabled(t){return this.optionDisabled?te.resolveFieldData(t,this.optionDisabled):t.disabled!==void 0?t.disabled:!1}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionSelect(t,i,r){if(this.disabled||this.isOptionDisabled(i))return;let s=this.isSelected(i);if(s&&this.unselectable)return;let o=this.getOptionValue(i),a;if(this.multiple)s?a=this.value.filter(l=>!te.equals(l,o,this.equalityKey)):a=this.value?[...this.value,o]:[o];else{if(s&&!this.allowEmpty)return;a=s?null:o}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.onOptionClick.emit({originalEvent:t,option:i,index:r})}onKeyDown(t,i,r){switch(t.code){case"Space":{this.onOptionSelect(t,i,r),t.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(t,"next"),t.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(t,"prev"),t.preventDefault();break}default:break}}changeTabIndexes(t,i){let r,s;for(let o=0;o<=this.container.nativeElement.children.length-1;o++)this.container.nativeElement.children[o].getAttribute("tabindex")==="0"&&(r={elem:this.container.nativeElement.children[o],index:o});i==="prev"?r.index===0?s=this.container.nativeElement.children.length-1:s=r.index-1:r.index===this.container.nativeElement.children.length-1?s=0:s=r.index+1,this.focusedIndex=s,this.container.nativeElement.children[s].focus()}onFocus(t,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(i=>!te.equals(i,this.getOptionValue(t),this.dataKey))}isSelected(t){let i=!1,r=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let s of this.value)if(te.equals(s,r,this.dataKey)){i=!0;break}}}else i=te.equals(this.getOptionValue(t),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||n)(j(Je))};static \u0275cmp=X({type:n,selectors:[["p-selectButton"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,5),i&2){let o;me(o=ge())&&(r.itemTemplate=o.first)}},viewQuery:function(i,r){if(i&1&&Ve(Zae,5),i&2){let s;me(s=ge())&&(r.container=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[O.HasDecoratorInputTransform,"unselectable","unselectable",W],tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],multiple:[O.HasDecoratorInputTransform,"multiple","multiple",W],allowEmpty:[O.HasDecoratorInputTransform,"allowEmpty","allowEmpty",W],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],dataKey:"dataKey",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[dn([sle]),Ze],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(I(0,"div",2,0),T(2,rle,4,18,"div",3),E()),i&2&&(ne(r.styleClass),f("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),N("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),g(2),f("ngForOf",r.options))},dependencies:[gt,oi,nt,Mt,_t,ai,Di],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return n})(),qV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,li,Ke,er,Ke]})}return n})();var ale=(n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),lle=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),cle=(n,e,t)=>({"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function ule(n,e){if(n&1&&$(0,"span",8),n&2){let t=_(2);f("ngClass",t.checkboxTrueIcon),N("data-pc-section","checkIcon")}}function dle(n,e){n&1&&$(0,"CheckIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","checkIcon"))}function hle(n,e){}function ple(n,e){n&1&&T(0,hle,0,0,"ng-template")}function fle(n,e){if(n&1&&(I(0,"span",12),T(1,ple,1,0,null,13),E()),n&2){let t=_(3);N("data-pc-section","checkIcon"),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function mle(n,e){if(n&1&&(re(0),T(1,dle,1,2,"CheckIcon",9)(2,fle,2,2,"span",10),se()),n&2){let t=_(2);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function gle(n,e){if(n&1&&(re(0),T(1,ule,1,2,"span",7)(2,mle,3,2,"ng-container",5),se()),n&2){let t=_();g(),f("ngIf",t.checkboxTrueIcon),g(),f("ngIf",!t.checkboxTrueIcon)}}function _le(n,e){if(n&1&&$(0,"span",8),n&2){let t=_(2);f("ngClass",t.checkboxFalseIcon),N("data-pc-section","uncheckIcon")}}function yle(n,e){n&1&&$(0,"TimesIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","uncheckIcon"))}function vle(n,e){}function ble(n,e){n&1&&T(0,vle,0,0,"ng-template")}function wle(n,e){if(n&1&&(I(0,"span",12),T(1,ble,1,0,null,13),E()),n&2){let t=_(3);N("data-pc-section","uncheckIcon"),g(),f("ngTemplateOutlet",t.uncheckIconTemplate)}}function Cle(n,e){if(n&1&&(re(0),T(1,yle,1,2,"TimesIcon",9)(2,wle,2,2,"span",10),se()),n&2){let t=_(2);g(),f("ngIf",!t.uncheckIconTemplate),g(),f("ngIf",t.uncheckIconTemplate)}}function Ile(n,e){if(n&1&&(re(0),T(1,_le,1,2,"span",7)(2,Cle,3,2,"ng-container",5),se()),n&2){let t=_();g(),f("ngIf",t.checkboxFalseIcon),g(),f("ngIf",!t.checkboxFalseIcon)}}function Ele(n,e){if(n&1){let t=le();I(0,"label",14),Q("click",function(r){F(t);let s=_(),o=ct(3);return L(s.onClick(r,o))}),ie(1),E()}if(n&2){let t=_();f("ngClass",En(3,cle,t.value!=null,t.disabled,t.focused)),N("for",t.inputId),g(),Ue(t.label)}}var Tle={provide:Rn,useExisting:gn(()=>xle),multi:!0},xle=(()=>{class n{cd;config;constructor(t,i){this.cd=t,this.config=i}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new Z;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}onKeyDown(t){t.key==="Enter"&&(this.toggle(t),t.preventDefault())}toggle(t){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"checkicon":this.checkIconTemplate=t.template;break;case"uncheckicon":this.uncheckIconTemplate=t.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}static \u0275fac=function(i){return new(i||n)(j(Je),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-triStateCheckbox"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onChange:"onChange"},features:[dn([Tle]),Ze],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(i,r){if(i&1){let s=le();I(0,"div",1),Q("click",function(a){F(s);let l=ct(3);return L(r.onClick(a,l))}),I(1,"div",2)(2,"input",3,0),Q("keydown",function(a){return F(s),L(r.onKeyDown(a))})("focus",function(){return F(s),L(r.onFocus())})("blur",function(){return F(s),L(r.onBlur())}),E()(),I(4,"div",4),T(5,gle,3,2,"ng-container",5)(6,Ile,3,2,"ng-container",5),E()(),T(7,Ele,2,7,"label",6)}i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",En(20,ale,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),N("data-pc-name","tristatecheckbox")("data-pc-section","root"),g(2),f("name",r.name)("readonly",r.readonly)("disabled",r.disabled)("autofocus",r.autofocus),N("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-section","hiddenInput"),g(2),f("ngClass",En(24,lle,r.value!=null,r.disabled,r.focused)),N("aria-checked",r.value===!0),g(),f("ngIf",r.value===!0),g(),f("ngIf",r.value===!1),g(),f("ngIf",r.label))},dependencies:()=>[gt,nt,Mt,_t,Di,nr,kn],encapsulation:2,changeDetection:0})}return n})(),KV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,er,nr,kn,Ke]})}return n})();var Sle=["container"],Dle=["resizeHelper"],Mle=["reorderIndicatorUp"],Ale=["reorderIndicatorDown"],Rle=["wrapper"],kle=["table"],Ole=["thead"],Ple=["tfoot"],Fle=["scroller"],Lle=(n,e,t)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":t}),Nle=n=>({maxHeight:n}),YV=n=>({height:n}),QV=(n,e)=>({$implicit:n,options:e}),Vle=n=>({columns:n}),Ble=(n,e,t)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":t}),Rx=n=>({$implicit:n}),Ox=()=>({display:"none"});function zle(n,e){if(n&1&&$(0,"i"),n&2){let t=_(2);ne("p-datatable-loading-icon "+t.loadingIcon)}}function Ule(n,e){n&1&&$(0,"SpinnerIcon",25),n&2&&f("spin",!0)("styleClass","p-datatable-loading-icon")}function Hle(n,e){}function jle(n,e){n&1&&T(0,Hle,0,0,"ng-template")}function $le(n,e){if(n&1&&(I(0,"span",26),T(1,jle,1,0,null,27),E()),n&2){let t=_(3);g(),f("ngTemplateOutlet",t.loadingIconTemplate)}}function Gle(n,e){if(n&1&&(re(0),T(1,Ule,1,2,"SpinnerIcon",23)(2,$le,2,1,"span",24),se()),n&2){let t=_(2);g(),f("ngIf",!t.loadingIconTemplate),g(),f("ngIf",t.loadingIconTemplate)}}function Wle(n,e){if(n&1&&(I(0,"div",21),T(1,zle,1,2,"i",22)(2,Gle,3,2,"ng-container",16),E()),n&2){let t=_();g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function qle(n,e){n&1&&de(0)}function Kle(n,e){if(n&1&&(I(0,"div",28),T(1,qle,1,0,"ng-container",27),E()),n&2){let t=_();g(),f("ngTemplateOutlet",t.captionTemplate)}}function Yle(n,e){n&1&&de(0)}function Qle(n,e){if(n&1&&T(0,Yle,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Zle(n,e){n&1&&T(0,Qle,1,1,"ng-template",30)}function Xle(n,e){n&1&&de(0)}function Jle(n,e){if(n&1&&T(0,Xle,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function ece(n,e){n&1&&T(0,Jle,1,1,"ng-template",31)}function tce(n,e){n&1&&de(0)}function nce(n,e){if(n&1&&T(0,tce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function ice(n,e){n&1&&T(0,nce,1,1,"ng-template",32)}function rce(n,e){n&1&&de(0)}function sce(n,e){if(n&1&&T(0,rce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function oce(n,e){n&1&&T(0,sce,1,1,"ng-template",33)}function ace(n,e){n&1&&de(0)}function lce(n,e){if(n&1&&T(0,ace,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function cce(n,e){n&1&&T(0,lce,1,1,"ng-template",34)}function uce(n,e){if(n&1){let t=le();I(0,"p-paginator",29),Q("onPageChange",function(r){F(t);let s=_();return L(s.onPageChange(r))}),T(1,Zle,1,0,null,16)(2,ece,1,0,null,16)(3,ice,1,0,null,16)(4,oce,1,0,null,16)(5,cce,1,0,null,16),E()}if(n&2){let t=_();f("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-top"))("locale",t.paginatorLocale),g(),f("ngIf",t.paginatorDropdownIconTemplate),g(),f("ngIf",t.paginatorFirstPageLinkIconTemplate),g(),f("ngIf",t.paginatorPreviousPageLinkIconTemplate),g(),f("ngIf",t.paginatorLastPageLinkIconTemplate),g(),f("ngIf",t.paginatorNextPageLinkIconTemplate)}}function dce(n,e){n&1&&de(0)}function hce(n,e){if(n&1&&T(0,dce,1,0,"ng-container",37),n&2){let t=e.$implicit,i=e.options;_(2);let r=ct(10);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Lt(2,QV,t,i))}}function pce(n,e){if(n&1){let t=le();I(0,"p-scroller",35,3),Q("onLazyLoad",function(r){F(t);let s=_();return L(s.onLazyItemLoad(r))}),T(2,hce,1,5,"ng-template",36),E()}if(n&2){let t=_();ks(Ce(15,YV,t.scrollHeight!=="flex"?t.scrollHeight:void 0)),f("items",t.processedData)("columns",t.columns)("scrollHeight",t.scrollHeight!=="flex"?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)("autoSize",!0)}}function fce(n,e){n&1&&de(0)}function mce(n,e){if(n&1&&(re(0),T(1,fce,1,0,"ng-container",37),se()),n&2){let t=_(),i=ct(10);g(),f("ngTemplateOutlet",i)("ngTemplateOutletContext",Lt(4,QV,t.processedData,Ce(2,Vle,t.columns)))}}function gce(n,e){n&1&&de(0)}function _ce(n,e){n&1&&de(0)}function yce(n,e){if(n&1&&$(0,"tbody",44),n&2){let t=_().options,i=_();f("value",i.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function vce(n,e){if(n&1&&$(0,"tbody",45),n&2){let t=_().options;f("ngStyle",Ce(1,YV,"calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px)"))}}function bce(n,e){n&1&&de(0)}function wce(n,e){if(n&1&&(I(0,"tfoot",46,6),T(2,bce,1,0,"ng-container",37),E()),n&2){let t=_().options,i=_();g(2),f("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",Ce(2,Rx,t.columns))}}function Cce(n,e){if(n&1&&(I(0,"table",38,4),T(2,gce,1,0,"ng-container",37),I(3,"thead",39,5),T(5,_ce,1,0,"ng-container",37),E(),T(6,yce,1,5,"tbody",40),$(7,"tbody",41),T(8,vce,1,3,"tbody",42)(9,wce,3,4,"tfoot",43),E()),n&2){let t=e.options,i=_();ne(i.tableStyleClass),f("ngClass",En(18,Ble,i.scrollable,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit"))("ngStyle",i.tableStyle),N("id",i.id+"-table"),g(2),f("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",Ce(22,Rx,t.columns)),g(3),f("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",Ce(24,Rx,t.columns)),g(),f("ngIf",i.frozenValue||i.frozenBodyTemplate),g(),f("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle)("value",i.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",t),g(),f("ngIf",t.spacerStyle),g(),f("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function Ice(n,e){n&1&&de(0)}function Ece(n,e){if(n&1&&T(0,Ice,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Tce(n,e){n&1&&T(0,Ece,1,1,"ng-template",30)}function xce(n,e){n&1&&de(0)}function Sce(n,e){if(n&1&&T(0,xce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function Dce(n,e){n&1&&T(0,Sce,1,1,"ng-template",31)}function Mce(n,e){n&1&&de(0)}function Ace(n,e){if(n&1&&T(0,Mce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function Rce(n,e){n&1&&T(0,Ace,1,1,"ng-template",32)}function kce(n,e){n&1&&de(0)}function Oce(n,e){if(n&1&&T(0,kce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function Pce(n,e){n&1&&T(0,Oce,1,1,"ng-template",33)}function Fce(n,e){n&1&&de(0)}function Lce(n,e){if(n&1&&T(0,Fce,1,0,"ng-container",27),n&2){let t=_(3);f("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function Nce(n,e){n&1&&T(0,Lce,1,1,"ng-template",34)}function Vce(n,e){if(n&1){let t=le();I(0,"p-paginator",29),Q("onPageChange",function(r){F(t);let s=_();return L(s.onPageChange(r))}),T(1,Tce,1,0,null,16)(2,Dce,1,0,null,16)(3,Rce,1,0,null,16)(4,Pce,1,0,null,16)(5,Nce,1,0,null,16),E()}if(n&2){let t=_();f("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-bottom"))("locale",t.paginatorLocale),g(),f("ngIf",t.paginatorDropdownIconTemplate),g(),f("ngIf",t.paginatorFirstPageLinkIconTemplate),g(),f("ngIf",t.paginatorPreviousPageLinkIconTemplate),g(),f("ngIf",t.paginatorLastPageLinkIconTemplate),g(),f("ngIf",t.paginatorNextPageLinkIconTemplate)}}function Bce(n,e){n&1&&de(0)}function zce(n,e){if(n&1&&(I(0,"div",47),T(1,Bce,1,0,"ng-container",27),E()),n&2){let t=_();g(),f("ngTemplateOutlet",t.summaryTemplate)}}function Uce(n,e){n&1&&$(0,"div",48,7),n&2&&f("ngStyle",Jt(1,Ox))}function Hce(n,e){n&1&&$(0,"ArrowDownIcon")}function jce(n,e){}function $ce(n,e){n&1&&T(0,jce,0,0,"ng-template")}function Gce(n,e){if(n&1&&(I(0,"span",49,8),T(2,Hce,1,0,"ArrowDownIcon",16)(3,$ce,1,0,null,27),E()),n&2){let t=_();f("ngStyle",Jt(3,Ox)),g(2),f("ngIf",!t.reorderIndicatorUpIconTemplate),g(),f("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function Wce(n,e){n&1&&$(0,"ArrowUpIcon")}function qce(n,e){}function Kce(n,e){n&1&&T(0,qce,0,0,"ng-template")}function Yce(n,e){if(n&1&&(I(0,"span",50,9),T(2,Wce,1,0,"ArrowUpIcon",16)(3,Kce,1,0,null,27),E()),n&2){let t=_();f("ngStyle",Jt(3,Ox)),g(2),f("ngIf",!t.reorderIndicatorDownIconTemplate),g(),f("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}var Qce=["pTableBody",""],Px=(n,e,t,i,r)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r}),Zce=(n,e,t,i,r,s,o)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r,rowgroup:s,rowspan:o}),dv=(n,e,t,i,r,s)=>({$implicit:n,rowIndex:e,columns:t,expanded:i,editing:r,frozen:s}),ZV=(n,e,t,i)=>({$implicit:n,rowIndex:e,columns:t,frozen:i}),XV=(n,e)=>({$implicit:n,frozen:e});function Xce(n,e){n&1&&de(0)}function Jce(n,e){if(n&1&&(re(0,3),T(1,Xce,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",xd(2,Px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function eue(n,e){n&1&&de(0)}function tue(n,e){if(n&1&&(re(0),T(1,eue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",xd(2,Px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function nue(n,e){n&1&&de(0)}function iue(n,e){if(n&1&&(re(0),T(1,nue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",S0(2,Zce,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function rue(n,e){n&1&&de(0)}function sue(n,e){if(n&1&&(re(0,3),T(1,rue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",xd(2,Px,i,s.getRowIndex(r),s.columns,s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function oue(n,e){if(n&1&&T(0,Jce,2,8,"ng-container",2)(1,tue,2,8,"ng-container",0)(2,iue,2,10,"ng-container",0)(3,sue,2,8,"ng-container",2),n&2){let t=e.$implicit,i=e.index,r=_(2);f("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,i)),g(),f("ngIf",r.dt.rowGroupMode!=="rowspan"),g(),f("ngIf",r.dt.rowGroupMode==="rowspan"),g(),f("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,i))}}function aue(n,e){if(n&1&&(re(0),T(1,oue,4,4,"ng-template",1),se()),n&2){let t=_();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function lue(n,e){n&1&&de(0)}function cue(n,e){if(n&1&&(re(0),T(1,lue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.template)("ngTemplateOutletContext",Lc(2,dv,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function uue(n,e){n&1&&de(0)}function due(n,e){if(n&1&&(re(0,3),T(1,uue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",Lc(2,dv,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function hue(n,e){n&1&&de(0)}function pue(n,e){n&1&&de(0)}function fue(n,e){if(n&1&&(re(0,3),T(1,pue,1,0,"ng-container",4),se()),n&2){let t=_(2),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",Lc(2,dv,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),s.dt.editMode==="row"&&s.dt.isRowEditing(i),s.frozen))}}function mue(n,e){if(n&1&&(re(0),T(1,hue,1,0,"ng-container",4)(2,fue,2,9,"ng-container",2),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",Fc(3,ZV,i,s.getRowIndex(r),s.columns,s.frozen)),g(),f("ngIf",s.dt.groupFooterTemplate&&s.dt.rowGroupMode==="subheader"&&s.shouldRenderRowGroupFooter(s.value,i,s.getRowIndex(r)))}}function gue(n,e){if(n&1&&T(0,cue,2,9,"ng-container",0)(1,due,2,9,"ng-container",2)(2,mue,3,8,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=_(2);f("ngIf",!r.dt.groupHeaderTemplate),g(),f("ngIf",r.dt.groupHeaderTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,r.getRowIndex(i))),g(),f("ngIf",r.dt.isRowExpanded(t))}}function _ue(n,e){if(n&1&&(re(0),T(1,gue,3,3,"ng-template",1),se()),n&2){let t=_();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function yue(n,e){n&1&&de(0)}function vue(n,e){n&1&&de(0)}function bue(n,e){if(n&1&&(re(0),T(1,vue,1,0,"ng-container",4),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_(2);g(),f("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Fc(2,ZV,i,s.getRowIndex(r),s.columns,s.frozen))}}function wue(n,e){if(n&1&&T(0,yue,1,0,"ng-container",4)(1,bue,2,7,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=_(2);f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Lc(3,dv,t,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen)),g(),f("ngIf",r.dt.isRowExpanded(t))}}function Cue(n,e){if(n&1&&(re(0),T(1,wue,2,10,"ng-template",1),se()),n&2){let t=_();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Iue(n,e){n&1&&de(0)}function Eue(n,e){if(n&1&&(re(0),T(1,Iue,1,0,"ng-container",4),se()),n&2){let t=_();g(),f("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",Lt(2,XV,t.columns,t.frozen))}}function Tue(n,e){n&1&&de(0)}function xue(n,e){if(n&1&&(re(0),T(1,Tue,1,0,"ng-container",4),se()),n&2){let t=_();g(),f("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",Lt(2,XV,t.columns,t.frozen))}}var kx=(()=>{class n{sortSource=new pn;selectionSource=new pn;contextMenuSource=new pn;valueSource=new pn;totalRecordsSource=new pn;columnsSource=new pn;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac})}return n})(),Fx=(()=>{class n{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new Z;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(t,i)=>i;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}selectAllChange=new Z;selectionChange=new Z;onRowSelect=new Z;onRowUnselect=new Z;onPage=new Z;onSort=new Z;onFilter=new Z;onLazyLoad=new Z;onRowExpand=new Z;onRowCollapse=new Z;onContextMenuSelect=new Z;onColResize=new Z;onColReorder=new Z;onRowReorder=new Z;onEditInit=new Z;onEditComplete=new Z;onEditCancel=new Z;onHeaderCheckboxToggle=new Z;sortFunction=new Z;firstChange=new Z;rowsChange=new Z;onStateSave=new Z;onStateRestore=new Z;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=it();styleElement;responsiveStyleElement;window;constructor(t,i,r,s,o,a,l,c,u,h){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=u,this.config=h,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template;break}})}ngAfterViewInit(){Kt(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&Kt(this.platformId)&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this.isStateful()||(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(t){let i=t||this.processedData;if(i&&this.paginator){let r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(te.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(te.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let i=t.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===t.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(t.field);s?r?s.order=s.order*-1:(this._multiSortMeta=[{field:t.field,order:s.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):this.lazy||(this.value.sort((s,o)=>{let a=te.resolveFieldData(s,t),l=te.resolveFieldData(o,t),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,i*c}),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter());let r={field:t,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.lazy||(this.value.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0)),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,i,r,s){let o=te.resolveFieldData(t,r[s].field),a=te.resolveFieldData(i,r[s].field);return te.compare(o,a,this.filterLocale)===0?r.length-1>s?this.multisortField(t,i,r,s+1):0:this.compareValuesOnSort(o,a,r[s].order)}compareValuesOnSort(t,i,r){return te.sort(t,i,r,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i]}return null}isSorted(t){if(this.sortMode==="single")return this.sortField&&this.sortField===t;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==t){i=!0;break}}return i}}handleRowClick(t){let i=t.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if(!(r=="INPUT"||r=="BUTTON"||r=="A"||s=="INPUT"||s=="BUTTON"||s=="A"||k.hasClass(t.originalEvent.target,"p-clickable"))){if(this.selectionMode){let o=t.rowData,a=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&this.anchorRowIndex!=null)k.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=a,this.selectRange(t.originalEvent,a);else{let l=this.isSelected(o);if(!l&&!this.isRowSelectable(o,a))return;let c=this.rowTouched?!1:this.metaKeySelection,u=this.dataKey?String(te.resolveFieldData(o,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let h=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(l&&h){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let p=this.findIndexInSelection(o);this._selection=this.selection.filter((m,v)=>v!=p),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o,this.selectionChange.emit(o),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(h?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,o],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a})):(this._selection=o,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if(this.selectionMode==="multiple")if(l){let h=this.findIndexInSelection(o);this._selection=this.selection.filter((p,m)=>m!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){let i=t.rowData,r=t.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),o=this.dataKey?String(te.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),o&&(this.selectionKeys={},this.selectionKeys[o]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),o&&(this.selectionKeys[o]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}selectRange(t,i,r){let s,o;this.anchorRowIndex>i?(s=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(s=this.anchorRowIndex,o=i):(s=i,o=i),this.lazy&&this.paginator&&(s-=this.first,o-=this.first);let a=[];for(let l=s;l<=o;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!r){if(!this.isRowSelectable(c,i))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(te.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:a,type:"row"})}clearSelectionRange(t){let i,r,s=this.rangeRowIndex,o=this.anchorRowIndex;s>o?(i=this.anchorRowIndex,r=this.rangeRowIndex):s<o?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let a=i;a<=r;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((h,p)=>p!=c);let u=this.dataKey?String(te.resolveFieldData(l,this.dataKey)):null;u&&delete this.selectionKeys[u],this.onRowUnselect.emit({originalEvent:t,data:l,type:"row"})}}isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys[te.resolveFieldData(t,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1}findIndexInSelection(t){let i=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(t,this.selection[r])){i=r;break}}return i}isRowSelectable(t,i){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:i}))}toggleRowWithRadio(t,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(te.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(te.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let o=this.findIndexInSelection(i);this._selection=this.selection.filter((a,l)=>l!=o),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,i){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:t,checked:i});else{let r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,s=this.selectionPageOnly&&this._selection?this._selection.filter(o=>!r.some(a=>this.equals(o,a))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((o,a)=>this.rowSelectable({data:o,index:a})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}}equals(t,i){return this.compareSelectionBy==="equals"?t===i:te.equals(t,i,this.dataKey)}filter(t,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,i){this.filter(t,"global",i)}isFilterBlank(t){return t!=null?!!(typeof t=="string"&&t.trim().length==0||Array.isArray(t)&&t.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let r=!0,s=!1,o=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){o=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let h of u)if(r=this.executeLocalFilter(c,this.value[i],h),h.operator===GE.OR&&r||h.operator===GE.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[i],u);if(!r)break}if(this.filters.global&&!s&&t)for(let l=0;l<t.length;l++){let c=t[l].field||t[l];if(s=this.filterService.filters[this.filters.global.matchMode](te.resolveFieldData(this.value[i],c),this.filters.global.value,this.filterLocale),s)break}let a;this.filters.global?a=o?o&&r&&s:s:a=o&&r,a&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,i,r){let s=r.value,o=r.matchMode||Si.STARTS_WITH,a=te.resolveFieldData(i,t),l=this.filterService.filters[o];return l(a,s,this.filterLocale)}hasFilter(){let t=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,t]of Object.entries(this.filters))if(Array.isArray(t))for(let i of t)i.value=null;else t&&(t.value=null)}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let i,r="",s=this.columns;t&&t.selectionOnly?i=this.selection||[]:t&&t.allValues?i=this.value||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));let o=s.filter(u=>u.exportable!==!1&&u.field);r+=o.map(u=>'"'+this.getExportHeader(u)+'"').join(this.csvSeparator);let a=i.map(u=>o.map(h=>{let p=te.resolveFieldData(u,h.field);return p!=null?this.exportFunction?p=this.exportFunction({data:p,field:h.field}):p=String(p).replace(/"/g,'""'):p="",'"'+p+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(r+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),r],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(t){this.onLazyLoad.emit(ut(ue(ue({},this.createLazyLoadMetadata()),t),{rows:t.last-t.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,i,r,s){this.editingCell=t,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&k.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(k.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(t){let i=String(te.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(t,i){if(k.find(i,".ng-invalid.ng-dirty").length===0){let r=String(te.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(t){let i=String(te.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}toggleRow(t,i){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let r=this.groupRowsBy?String(te.resolveFieldData(t,this.groupRowsBy)):String(te.resolveFieldData(t,this.dataKey));this.expandedRowKeys[r]!=null?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:t})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return this.groupRowsBy?this.expandedRowKeys[String(te.resolveFieldData(t,this.groupRowsBy))]===!0:this.expandedRowKeys[String(te.resolveFieldData(t,this.dataKey))]===!0}isRowEditing(t){return this.editingRowKeys[String(te.resolveFieldData(t,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(t){let i=k.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,t.type=="touchstart"?this.lastResizerHelperX=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let i=k.getOffset(this.containerViewChild?.nativeElement).left;k.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",t.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+t,s=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15;if(r>=s){if(this.columnResizeMode==="fit"){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&a>15&&this.resizeTableCells(r,a)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let o=this.tableViewChild?.nativeElement.offsetWidth+t;this.setResizeTableWidth(o+"px"),this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",k.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let t=[],i=k.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return k.find(i,"tr > th").forEach(s=>t.push(k.getOuterWidth(s))),t}onColumnDragStart(t,i){this.reorderIconWidth=k.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=k.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();let r=k.getOffset(this.containerViewChild?.nativeElement),s=k.getOffset(i);if(this.draggedColumn!=i){let o=k.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=k.indexWithinGroup(i,"preorderablecolumn"),l=s.left-r.left,c=r.top-s.top,u=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",t.pageX>u?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&t.preventDefault()}onColumnDrop(t,i){if(t.preventDefault(),this.draggedColumn){let r=k.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=k.indexWithinGroup(i,"preorderablecolumn"),o=r!=s;if(o&&(s-r==1&&this.dropPosition===-1||r-s==1&&this.dropPosition===1)&&(o=!1),o&&s<r&&this.dropPosition===1&&(s=s+1),o&&s>r&&this.dropPosition===-1&&(s=s-1),o&&(te.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();te.reorderArray(a,r+1,s+1),this.updateStyleElement(a,r,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(t,i){let r=k.index(this.resizeColumnElement),s=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(s,r,t,i)}updateStyleElement(t,i,r,s){this.destroyStyleElement(),this.createStyleElement();let o="";t.forEach((a,l)=>{let c=l===i?r:s&&l===i+1?s:a,u=`width: ${c}px !important; max-width: ${c}px !important;`;o+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${u}
                }
            `}),this.renderer.setProperty(this.styleElement,"textContent",o)}onRowDragStart(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}onRowDragOver(t,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=k.getOffset(r).top,o=t.pageY,a=s+k.getOuterHeight(r)/2,l=r.previousElementSibling;o<a?(k.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,l?k.addClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top")):(l?k.removeClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,k.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,i){let r=i.previousElementSibling;r&&k.removeClass(r,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,i){if(this.droppedRowIndex!=null){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;te.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return t==null||t.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(Kt(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let t=this.getStorage(),i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){let t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){let i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,s=function(o,a){return typeof a=="string"&&r.test(a)?new Date(a):a};if(i){let o=JSON.parse(i,s);this.paginator&&(this.first!==void 0&&(this.first=o.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=o.rows,this.rowsChange.emit(this.rows))),o.sortField&&(this.restoringSort=!0,this._sortField=o.sortField,this._sortOrder=o.sortOrder),o.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=o.multiSortMeta),o.filters&&(this.restoringFilter=!0,this.filters=o.filters),this.resizableColumns&&(this.columnWidthsState=o.columnWidths,this.tableWidthState=o.tableWidth),o.expandedRowKeys&&(this.expandedRowKeys=o.expandedRowKeys),o.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(o.selection)),this.stateRestored=!0,this.onStateRestore.emit(o)}}saveColumnWidths(t){let i=[];k.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(k.getOuterWidth(s))),t.columnWidths=i.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=k.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),te.isNotEmpty(t)){this.createStyleElement();let i="";t.forEach((r,s)=>{let o=`width: ${r}px !important; max-width: ${r}px !important`;i+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {
                            ${o}
                        }
                    `}),this.styleElement.textContent=i}}}saveColumnOrder(t){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),t.columnOrder=i}}restoreColumnOrder(){let i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let o=[];s.map(a=>{let l=this.findColumnByKey(a);l&&o.push(l)}),this.columnOrderStateRestored=!0,this.columns=o}}}findColumnByKey(t){if(this.columns){for(let i of this.columns)if(i.key===t||i.field===t)return i}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",k.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(Kt(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",k.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let t=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"textContent",t)}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(t){return[this.paginatorStyleClass,t].filter(i=>!!i).join(" ").trim()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(Wt),j(je),j(Qe),j(kx),j(Je),j(Ud),j(gl),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-table"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(Sle,5),Ve(Dle,5),Ve(Mle,5),Ve(Ale,5),Ve(Rle,5),Ve(kle,5),Ve(Ole,5),Ve(Ple,5),Ve(Fle,5)),i&2){let s;me(s=ge())&&(r.containerViewChild=s.first),me(s=ge())&&(r.resizeHelperViewChild=s.first),me(s=ge())&&(r.reorderIndicatorUpViewChild=s.first),me(s=ge())&&(r.reorderIndicatorDownViewChild=s.first),me(s=ge())&&(r.wrapperViewChild=s.first),me(s=ge())&&(r.tableViewChild=s.first),me(s=ge())&&(r.tableHeaderViewChild=s.first),me(s=ge())&&(r.tableFooterViewChild=s.first),me(s=ge())&&(r.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[O.HasDecoratorInputTransform,"paginator","paginator",W],pageLinks:[O.HasDecoratorInputTransform,"pageLinks","pageLinks",Le],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[O.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",W],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[O.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",W],showJumpToPageDropdown:[O.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",W],showJumpToPageInput:[O.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",W],showFirstLastIcon:[O.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",W],showPageLinks:[O.HasDecoratorInputTransform,"showPageLinks","showPageLinks",W],defaultSortOrder:[O.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",Le],sortMode:"sortMode",resetPageOnSort:[O.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",W],selectionMode:"selectionMode",selectionPageOnly:[O.HasDecoratorInputTransform,"selectionPageOnly","selectionPageOnly",W],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[O.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",W],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[O.HasDecoratorInputTransform,"lazy","lazy",W],lazyLoadOnInit:[O.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",W],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[O.HasDecoratorInputTransform,"filterDelay","filterDelay",Le],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[O.HasDecoratorInputTransform,"scrollable","scrollable",W],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[O.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[O.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Le],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[O.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",Le],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[O.HasDecoratorInputTransform,"resizableColumns","resizableColumns",W],columnResizeMode:"columnResizeMode",reorderableColumns:[O.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",W],loading:[O.HasDecoratorInputTransform,"loading","loading",W],loadingIcon:"loadingIcon",showLoader:[O.HasDecoratorInputTransform,"showLoader","showLoader",W],rowHover:[O.HasDecoratorInputTransform,"rowHover","rowHover",W],customSort:[O.HasDecoratorInputTransform,"customSort","customSort",W],showInitialSortBadge:[O.HasDecoratorInputTransform,"showInitialSortBadge","showInitialSortBadge",W],autoLayout:[O.HasDecoratorInputTransform,"autoLayout","autoLayout",W],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[O.HasDecoratorInputTransform,"groupRowsByOrder","groupRowsByOrder",Le],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[dn([kx]),Ze,cn],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(i,r){i&1&&(I(0,"div",10,0),T(2,Wle,3,2,"div",11)(3,Kle,2,1,"div",12)(4,uce,6,24,"p-paginator",13),I(5,"div",14,1),T(7,pce,3,17,"p-scroller",15)(8,mce,2,7,"ng-container",16)(9,Cce,10,26,"ng-template",null,2,qt),E(),T(11,Vce,6,24,"p-paginator",13)(12,zce,2,1,"div",17)(13,Uce,2,2,"div",18)(14,Gce,4,4,"span",19)(15,Yce,4,4,"span",20),E()),i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",En(16,Lle,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&r.scrollHeight==="flex")),N("id",r.id),g(2),f("ngIf",r.loading&&r.showLoader),g(),f("ngIf",r.captionTemplate),g(),f("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),g(),f("ngStyle",Ce(20,Nle,r.virtualScroll?"":r.scrollHeight)),g(2),f("ngIf",r.virtualScroll),g(),f("ngIf",!r.virtualScroll),g(3),f("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),g(),f("ngIf",r.summaryTemplate),g(),f("ngIf",r.resizableColumns),g(),f("ngIf",r.reorderableColumns),g(),f("ngIf",r.reorderableColumns))},dependencies:()=>[gt,nt,Mt,_t,GV,qe,lh,Ex,Tx,El,Sue],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return n})(),Sue=(()=>{class n{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(t,i,r,s){this.dt=t,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-(1+this.dt._first)];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowGroupFooter(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r+(1+this.dt._first)];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}shouldRenderRowspan(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=t[r-1];if(o){let a=te.resolveFieldData(o,this.dt.groupRowsBy);return s!==a}else return!0}calculateRowGroupSize(t,i,r){let s=te.resolveFieldData(i,this.dt.groupRowsBy),o=s,a=0;for(;s===o;){a++;let l=t[++r];if(l)o=te.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=k.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=k.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,i){return this.dt.virtualScroll?(i=i||this.scrollerOptions,i?i[t]:null):null}getRowIndex(t){let i=this.dt.paginator?this.dt.first+t:t,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}static \u0275fac=function(i){return new(i||n)(j(Fx),j(kx),j(Je),j(je))};static \u0275cmp=X({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[O.None,"pTableBody","columns"],template:[O.None,"pTableBodyTemplate","template"],value:"value",frozen:[O.HasDecoratorInputTransform,"frozen","frozen",W],frozenRows:[O.HasDecoratorInputTransform,"frozenRows","frozenRows",W],scrollerOptions:"scrollerOptions"},features:[Ze],attrs:Qce,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&T(0,aue,2,2,"ng-container",0)(1,_ue,2,2,"ng-container",0)(2,Cue,2,2,"ng-container",0)(3,Eue,2,5,"ng-container",0)(4,xue,2,5,"ng-container",0),i&2&&(f("ngIf",!r.dt.expandedRowTemplate),g(),f("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),g(),f("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),g(),f("ngIf",r.dt.loading),g(),f("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[oi,nt,Mt],encapsulation:2})}return n})();var JV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,WV,hs,eu,ca,_r,qV,FV,tu,KV,fa,Ex,Tx,El,BV,UV,zV,nr,LV,NV,VV,HV,Ke,fa]})}return n})();var Mue=["input"];function Aue(n,e){if(n&1){let t=le();I(0,"TimesIcon",5),Q("click",function(){F(t);let r=_(2);return L(r.clear())}),E()}n&2&&(f("styleClass","p-inputmask-clear-icon"),N("data-pc-section","clearIcon"))}function Rue(n,e){}function kue(n,e){n&1&&T(0,Rue,0,0,"ng-template")}function Oue(n,e){if(n&1){let t=le();I(0,"span",6),Q("click",function(){F(t);let r=_(2);return L(r.clear())}),T(1,kue,1,0,null,7),E()}if(n&2){let t=_(2);N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function Pue(n,e){if(n&1&&(re(0),T(1,Aue,1,2,"TimesIcon",3)(2,Oue,2,2,"span",4),se()),n&2){let t=_();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}var Fue={provide:Rn,useExisting:gn(()=>Lx),multi:!0},Lx=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new Z;onFocus=new Z;onBlur=new Z;onInput=new Z;onKeydown=new Z;onClear=new Z;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.el=r,this.cd=s,this.config=o}ngOnInit(){if(Kt(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let i=0;i<t.length;i++){let r=t[i];r=="?"?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<t.length;i++){let r=t[i];r!="?"&&(this.defs[r]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(r))}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,i){let r,s,o;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof t=="number")s=t,o=typeof i=="number"?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,o):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",s),r.select());else return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(r=this.document.createRange(),s=0-r.duplicate().moveStart("character",-1e5),o=s+r.text.length),{begin:s,end:o}}isCompleted(){let t;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,i){let r,s;if(!(t<0)){for(r=t,s=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(s<this.len&&this.tests[r].test(this.buffer[s]))this.buffer[r]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s);else break;s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let i,r,s,o;for(i=t,r=this.getPlaceholder(t);i<this.len;i++)if(this.tests[i])if(s=this.seekNext(i),o=this.buffer[i],this.buffer[i]=r,s<this.len&&this.tests[s].test(o))r=o;else break}handleAndroidInput(t){var i=this.inputViewChild?.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(r.begin===0)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let i=this.document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(i)}}onInputKeydown(t){if(this.readonly)return;let i=t.which||t.keyCode,r,s,o,a;Kt(this.platformId)&&(a=/iphone/i.test(k.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),i===8||i===46||a&&i===127?(r=this.caret(),s=r.begin,o=r.end,o-s===0&&(s=i!==46?this.seekPrev(s):o=this.seekNext(s-1),o=i===46?this.seekNext(o):o),this.clearBuffer(s,o),this.keepBuffer?this.shiftL(s,o-2):this.shiftL(s,o-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):i===13?(this.onInputBlur(t),this.updateModel(t)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var i=t.which||t.keyCode,r=this.caret(),s,o,a,l;t.ctrlKey||t.altKey||t.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(r.end-r.begin!==0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),s=this.seekNext(r.begin-1),s<this.len&&(o=String.fromCharCode(i),this.tests[s].test(o)&&(this.shiftR(s),this.buffer[s]=o,this.writeBuffer(),a=this.seekNext(s),k.isClient()&&/android/i.test(k.getUserAgent())?setTimeout(()=>{this.caret(a)},0):this.caret(a),r.begin<=this.lastRequiredNonMaskPos&&(l=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),l&&this.onComplete.emit())}}clearBuffer(t,i){if(!this.keepBuffer){let r;for(r=t;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let i=this.inputViewChild?.nativeElement.value,r=-1,s,o,a;for(s=0,a=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);a++<i.length;)if(o=i.charAt(a-1),this.tests[s].test(o)){this.keepBuffer||(this.buffer[s]=o),r=s;break}if(a>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(a)&&a++,s<this.partialPosition&&(r=s);return t?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,r+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=this.inputViewChild?.nativeElement.value,i=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask?.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&t.push(r)}return t.join("")}updateModel(t){let i=this.unmask?this.getUnmaskedValue():t.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(je),j(Je),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-inputMask"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ve(Mue,7),i&2){let s;me(s=ge())&&(r.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,r){i&2&&Bn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputmask-clearable",r.showClear&&!r.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[O.HasDecoratorInputTransform,"autoClear","autoClear",W],showClear:[O.HasDecoratorInputTransform,"showClear","showClear",W],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[O.HasDecoratorInputTransform,"size","size",Le],maxlength:[O.HasDecoratorInputTransform,"maxlength","maxlength",Le],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[O.HasDecoratorInputTransform,"ariaRequired","ariaRequired",W],disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],unmask:[O.HasDecoratorInputTransform,"unmask","unmask",W],name:"name",required:[O.HasDecoratorInputTransform,"required","required",W],characterPattern:"characterPattern",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],autoFocus:[O.HasDecoratorInputTransform,"autoFocus","autoFocus",W],autocomplete:"autocomplete",keepBuffer:[O.HasDecoratorInputTransform,"keepBuffer","keepBuffer",W],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[dn([Fue]),Ze],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1){let s=le();I(0,"input",1,0),Q("focus",function(a){return F(s),L(r.onInputFocus(a))})("blur",function(a){return F(s),L(r.onInputBlur(a))})("keydown",function(a){return F(s),L(r.onInputKeydown(a))})("keypress",function(a){return F(s),L(r.onKeyPress(a))})("input",function(a){return F(s),L(r.onInputChange(a))})("paste",function(a){return F(s),L(r.handleInputChange(a))}),E(),T(2,Pue,3,2,"ng-container",2)}i&2&&(ne(r.styleClass),f("ngClass",r.inputClass)("ngStyle",r.style)("disabled",r.disabled)("readonly",r.readonly)("variant",r.variant)("autofocus",r.autofocus),N("id",r.inputId)("type",r.type)("name",r.name)("placeholder",r.placeholder)("title",r.title)("size",r.size)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-required",r.ariaRequired)("required",r.required)("data-pc-name","inputmask")("data-pc-section","root"),g(2),f("ngIf",r.value!=null&&r.filled&&r.showClear&&!r.disabled))},dependencies:()=>[gt,nt,Mt,_t,bl,Di,kn],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),e5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,hs,er,kn,Ke]})}return n})();var t5=(()=>{class n{pFocusTrapDisabled=!1;platformId=he(Bt);host=he(je);document=he(ht);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Kt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&Kt(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",i=r=>k.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?k.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;k.focus(s)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?k.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;k.focus(s)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Pt({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[O.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",W]},features:[Ze,cn]})}return n})(),n5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();var Nx=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var Vx=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var Vue=["titlebar"],Bue=["content"],zue=["footer"],Uue=["*",[["p-header"]],[["p-footer"]]],Hue=["*","p-header","p-footer"],jue=(n,e,t,i,r,s,o,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":s,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),$ue=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),Gue=(n,e)=>({transform:n,transition:e}),Wue=n=>({value:"visible",params:n}),que=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),Kue=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),Yue=()=>({"min-width":0});function Que(n,e){n&1&&de(0)}function Zue(n,e){if(n&1&&(re(0),T(1,Que,1,0,"ng-container",10),se()),n&2){let t=_(3);g(),f("ngTemplateOutlet",t.headlessTemplate)}}function Xue(n,e){if(n&1){let t=le();I(0,"div",15),Q("mousedown",function(r){F(t);let s=_(4);return L(s.initResize(r))}),E()}}function Jue(n,e){if(n&1&&(I(0,"span",21),ie(1),E()),n&2){let t=_(5);f("id",t.ariaLabelledBy),g(),Ue(t.header)}}function ede(n,e){if(n&1&&(I(0,"span",21),nn(1,1),E()),n&2){let t=_(5);f("id",t.ariaLabelledBy)}}function tde(n,e){n&1&&de(0)}function nde(n,e){if(n&1&&$(0,"span",25),n&2){let t=_(6);f("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function ide(n,e){n&1&&$(0,"WindowMaximizeIcon",27),n&2&&f("styleClass","p-dialog-header-maximize-icon")}function rde(n,e){n&1&&$(0,"WindowMinimizeIcon",27),n&2&&f("styleClass","p-dialog-header-maximize-icon")}function sde(n,e){if(n&1&&(re(0),T(1,ide,1,1,"WindowMaximizeIcon",26)(2,rde,1,1,"WindowMinimizeIcon",26),se()),n&2){let t=_(6);g(),f("ngIf",!t.maximized&&!t.maximizeIconTemplate),g(),f("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function ode(n,e){}function ade(n,e){n&1&&T(0,ode,0,0,"ng-template")}function lde(n,e){if(n&1&&(re(0),T(1,ade,1,0,null,10),se()),n&2){let t=_(6);g(),f("ngTemplateOutlet",t.maximizeIconTemplate)}}function cde(n,e){}function ude(n,e){n&1&&T(0,cde,0,0,"ng-template")}function dde(n,e){if(n&1&&(re(0),T(1,ude,1,0,null,10),se()),n&2){let t=_(6);g(),f("ngTemplateOutlet",t.minimizeIconTemplate)}}function hde(n,e){if(n&1){let t=le();I(0,"button",22),Q("click",function(){F(t);let r=_(5);return L(r.maximize())})("keydown.enter",function(){F(t);let r=_(5);return L(r.maximize())}),T(1,nde,1,1,"span",23)(2,sde,3,2,"ng-container",24)(3,lde,2,1,"ng-container",24)(4,dde,2,1,"ng-container",24),E()}if(n&2){let t=_(5);f("ngClass",Jt(7,que)),N("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),g(),f("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),g(),f("ngIf",!t.maximizeIcon),g(),f("ngIf",!t.maximized),g(),f("ngIf",t.maximized)}}function pde(n,e){if(n&1&&$(0,"span",30),n&2){let t=_(7);f("ngClass",t.closeIcon)}}function fde(n,e){n&1&&$(0,"TimesIcon",27),n&2&&f("styleClass","p-dialog-header-close-icon")}function mde(n,e){if(n&1&&(re(0),T(1,pde,1,1,"span",29)(2,fde,1,1,"TimesIcon",26),se()),n&2){let t=_(6);g(),f("ngIf",t.closeIcon),g(),f("ngIf",!t.closeIcon)}}function gde(n,e){}function _de(n,e){n&1&&T(0,gde,0,0,"ng-template")}function yde(n,e){if(n&1&&(I(0,"span"),T(1,_de,1,0,null,10),E()),n&2){let t=_(6);g(),f("ngTemplateOutlet",t.closeIconTemplate)}}function vde(n,e){if(n&1){let t=le();I(0,"button",28),Q("click",function(r){F(t);let s=_(5);return L(s.close(r))})("keydown.enter",function(r){F(t);let s=_(5);return L(s.close(r))}),T(1,mde,3,2,"ng-container",24)(2,yde,2,1,"span",24),E()}if(n&2){let t=_(5);f("ngClass",Jt(6,Kue))("ngStyle",Jt(7,Yue)),N("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),g(),f("ngIf",!t.closeIconTemplate),g(),f("ngIf",t.closeIconTemplate)}}function bde(n,e){if(n&1){let t=le();I(0,"div",16,3),Q("mousedown",function(r){F(t);let s=_(4);return L(s.initDrag(r))}),T(2,Jue,2,2,"span",17)(3,ede,2,1,"span",17)(4,tde,1,0,"ng-container",10),I(5,"div",18),T(6,hde,5,8,"button",19)(7,vde,3,8,"button",20),E()()}if(n&2){let t=_(4);g(2),f("ngIf",!t.headerFacet&&!t.headerTemplate),g(),f("ngIf",t.headerFacet),g(),f("ngTemplateOutlet",t.headerTemplate),g(2),f("ngIf",t.maximizable),g(),f("ngIf",t.closable)}}function wde(n,e){n&1&&de(0)}function Cde(n,e){n&1&&de(0)}function Ide(n,e){if(n&1&&(I(0,"div",31,4),nn(2,2),T(3,Cde,1,0,"ng-container",10),E()),n&2){let t=_(4);g(3),f("ngTemplateOutlet",t.footerTemplate)}}function Ede(n,e){if(n&1&&(T(0,Xue,1,0,"div",11)(1,bde,8,5,"div",12),I(2,"div",13,2),nn(4),T(5,wde,1,0,"ng-container",10),E(),T(6,Ide,4,1,"div",14)),n&2){let t=_(3);f("ngIf",t.resizable),g(),f("ngIf",t.showHeader),g(),ne(t.contentStyleClass),f("ngClass","p-dialog-content")("ngStyle",t.contentStyle),g(3),f("ngTemplateOutlet",t.contentTemplate),g(),f("ngIf",t.footerFacet||t.footerTemplate)}}function Tde(n,e){if(n&1){let t=le();I(0,"div",8,0),Q("@animation.start",function(r){F(t);let s=_(2);return L(s.onAnimationStart(r))})("@animation.done",function(r){F(t);let s=_(2);return L(s.onAnimationEnd(r))}),T(2,Zue,2,1,"ng-container",9)(3,Ede,7,8,"ng-template",null,1,qt),E()}if(n&2){let t=ct(4),i=_(2);ne(i.styleClass),f("ngClass",Fc(10,$ue,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",Ce(18,Wue,Lt(15,Gue,i.transformOptions,i.transitionOptions))),N("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),g(2),f("ngIf",i.headlessTemplate)("ngIfElse",t)}}function xde(n,e){if(n&1&&(I(0,"div",6),T(1,Tde,5,20,"div",7),E()),n&2){let t=_();ne(t.maskStyleClass),f("ngStyle",t.maskStyle)("ngClass",af(5,jue,[t.modal,t.modal||t.blockScroll,t.position==="left",t.position==="right",t.position==="top",t.position==="topleft"||t.position==="top-left",t.position==="topright"||t.position==="top-right",t.position==="bottom",t.position==="bottomleft"||t.position==="bottom-left",t.position==="bottomright"||t.position==="bottom-right"])),g(),f("ngIf",t.visible)}}var Sde=Qd([gi({transform:"{{transform}}",opacity:0}),xr("{{transition}}")]),Dde=Qd([xr("{{transition}}",gi({transform:"{{transform}}",opacity:0}))]),i5=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=ue({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new Z;onHide=new Z;visibleChange=new Z;onResizeInit=new Z;onResizeEnd=new Z;onDragEnd=new Z;onMaximize=new Z;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=it();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(An.ARIA).maximizeLabel}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.zone=o,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?it()+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,s;for(;(s=i.exec(t))!==null;){let o=parseFloat(s[1]),a=s[2];a==="ms"?r+=o:a==="s"&&(r+=o*1e3)}if(r!==0)return r}focus(t=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=k.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});return}let s=k.getFocusableElement(t);s?this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&k.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&k.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?k.blockBodyScroll():k.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(xn.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Kt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",k.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){k.hasClass(t.target,"p-dialog-header-icon")||k.hasClass(t.target,"p-dialog-header-close-icon")||k.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",k.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let i=k.getOuterWidth(this.container),r=k.getOuterHeight(this.container),s=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),u=parseFloat(l.marginTop),h=a.left+s-c,p=a.top+o-u,m=k.getViewport();this.container.style.position="fixed",this.keepInViewport?(h>=this.minX&&h+i<m.width&&(this._style.left=`${h}px`,this.lastPageX=t.pageX,this.container.style.left=`${h}px`),p>=this.minY&&p+r<m.height&&(this._style.top=`${p}px`,this.lastPageY=t.pageY,this.container.style.top=`${p}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${h}px`,this.lastPageY=t.pageY,this.container.style.top=`${p}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,k.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,k.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,s=k.getOuterWidth(this.container),o=k.getOuterHeight(this.container),a=k.getOuterHeight(this.contentViewChild?.nativeElement),l=s+i,c=o+r,u=this.container.style.minWidth,h=this.container.style.minHeight,p=this.container.getBoundingClientRect(),m=k.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!u||l>parseInt(u))&&p.left+l<m.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!h||c>parseInt(h))&&p.top+c<m.height&&(this.contentViewChild.nativeElement.style.height=a+c-o+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,k.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):k.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&k.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&k.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(k.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&k.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&xn.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?ue({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(je),j(Wt),j(Qe),j(Je),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,s){if(i&1&&(dt(s,wy,5),dt(s,Cy,5),dt(s,qe,4)),i&2){let o;me(o=ge())&&(r.headerFacet=o.first),me(o=ge())&&(r.footerFacet=o.first),me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(Vue,5),Ve(Bue,5),Ve(zue,5)),i&2){let s;me(s=ge())&&(r.headerViewChild=s.first),me(s=ge())&&(r.contentViewChild=s.first),me(s=ge())&&(r.footerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[O.HasDecoratorInputTransform,"draggable","draggable",W],resizable:[O.HasDecoratorInputTransform,"resizable","resizable",W],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[O.HasDecoratorInputTransform,"modal","modal",W],closeOnEscape:[O.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",W],dismissableMask:[O.HasDecoratorInputTransform,"dismissableMask","dismissableMask",W],rtl:[O.HasDecoratorInputTransform,"rtl","rtl",W],closable:[O.HasDecoratorInputTransform,"closable","closable",W],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[O.HasDecoratorInputTransform,"showHeader","showHeader",W],breakpoint:"breakpoint",blockScroll:[O.HasDecoratorInputTransform,"blockScroll","blockScroll",W],autoZIndex:[O.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[O.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Le],minX:[O.HasDecoratorInputTransform,"minX","minX",Le],minY:[O.HasDecoratorInputTransform,"minY","minY",Le],focusOnShow:[O.HasDecoratorInputTransform,"focusOnShow","focusOnShow",W],maximizable:[O.HasDecoratorInputTransform,"maximizable","maximizable",W],keepInViewport:[O.HasDecoratorInputTransform,"keepInViewport","keepInViewport",W],focusTrap:[O.HasDecoratorInputTransform,"focusTrap","focusTrap",W],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[Ze],ngContentSelectors:Hue,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){i&1&&(_n(Uue),T(0,xde,2,16,"div",5)),i&2&&f("ngIf",r.maskVisible)},dependencies:()=>[gt,nt,Mt,_t,t5,Xd,ai,kn,Nx,Vx],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[Cl("animation",[Sr("void => visible",[Zd(Sde)]),Sr("visible => void",[Zd(Dde)])])]},changeDetection:0})}return n})(),r5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,n5,_r,li,kn,Nx,Vx,Ke]})}return n})();var Ade=["*"],s5=(()=>{class n{style;styleClass;layout="horizontal";type="solid";align;containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":this.layout==="horizontal","p-divider-vertical":this.layout==="vertical","p-divider-solid":this.type==="solid","p-divider-dashed":this.type==="dashed","p-divider-dotted":this.type==="dotted","p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left"),"p-divider-center":this.layout==="horizontal"&&this.align==="center"||this.layout==="vertical"&&(!this.align||this.align==="center"),"p-divider-right":this.layout==="horizontal"&&this.align==="right","p-divider-top":this.layout==="vertical"&&this.align==="top","p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:Ade,decls:3,vars:6,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(i,r){i&1&&(_n(),I(0,"div",0)(1,"div",1),nn(2),E()()),i&2&&(ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),N("aria-orientation",r.layout)("data-pc-name","divider"))},dependencies:[gt,_t],styles:[`@layer primeng{.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-vertical:before{border-left-style:dotted}}
`],encapsulation:2,changeDetection:0})}return n})(),o5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();var a5=(()=>{class n{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new Z;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(t,i,r,s,o){this.el=t,this.ngModel=i,this.control=r,this.cd=s,this.config=o}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(je),j(Fs,8),j(Wr,8),j(Je),j(Yt))};static \u0275dir=Pt({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(i,r){i&1&&Q("input",function(o){return r.onInput(o)}),i&2&&Bn("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{autoResize:[O.HasDecoratorInputTransform,"autoResize","autoResize",W],variant:"variant"},outputs:{onResize:"onResize"},features:[Ze]})}return n})(),l5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();var Ode=["input"],Pde=(n,e,t,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t,"p-variant-filled":i}),Fde=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),Lde=(n,e,t)=>({"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function Nde(n,e){if(n&1&&$(0,"span",10),n&2){let t=_(3);f("ngClass",t.checkboxIcon),N("data-pc-section","icon")}}function Vde(n,e){n&1&&$(0,"CheckIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","icon"))}function Bde(n,e){if(n&1&&(re(0),T(1,Nde,1,2,"span",8)(2,Vde,1,2,"CheckIcon",9),se()),n&2){let t=_(2);g(),f("ngIf",t.checkboxIcon),g(),f("ngIf",!t.checkboxIcon)}}function zde(n,e){}function Ude(n,e){n&1&&T(0,zde,0,0,"ng-template")}function Hde(n,e){if(n&1&&(I(0,"span",12),T(1,Ude,1,0,null,13),E()),n&2){let t=_(2);N("data-pc-section","icon"),g(),f("ngTemplateOutlet",t.checkboxIconTemplate)}}function jde(n,e){if(n&1&&(re(0),T(1,Bde,3,2,"ng-container",5)(2,Hde,2,2,"span",7),se()),n&2){let t=_();g(),f("ngIf",!t.checkboxIconTemplate),g(),f("ngIf",t.checkboxIconTemplate)}}function $de(n,e){if(n&1){let t=le();I(0,"label",14),Q("click",function(r){F(t);let s=_(),o=ct(3);return L(s.onClick(r,o,!0))}),ie(1),E()}if(n&2){let t=_();ne(t.labelStyleClass),f("ngClass",En(6,Lde,t.checked(),t.disabled,t.focused)),N("for",t.inputId)("data-pc-section","label"),g(),zt(" ",t.label,"")}}var Gde={provide:Rn,useExisting:gn(()=>Bx),multi:!0},Bx=(()=>{class n{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new Z;onFocus=new Z;onBlur=new Z;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t,i,r){this.cd=t,this.injector=i,this.config=r}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"icon":this.checkboxIconTemplate=t.template;break}})}onClick(t,i,r){t.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(t),r&&i.focus())}updateModel(t){let i,r=this.injector.get(Wr,null,{optional:!0,self:!0}),s=r&&!this.formControl?r.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=s.filter(o=>!te.equals(o,this.value)):i=s?[...s,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){setTimeout(()=>{this.disabled=t,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:te.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||n)(j(Je),j(ri),j(Yt))};static \u0275cmp=X({type:n,selectors:[["p-checkbox"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&Ve(Ode,5),i&2){let s;me(s=ge())&&(r.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],binary:[O.HasDecoratorInputTransform,"binary","binary",W],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],required:[O.HasDecoratorInputTransform,"required","required",W],autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",W],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[dn([Gde]),Ze],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,r){if(i&1){let s=le();I(0,"div",1)(1,"div",2)(2,"input",3,0),Q("change",function(a){return F(s),L(r.handleChange(a))})("focus",function(a){return F(s),L(r.onInputFocus(a))})("blur",function(a){return F(s),L(r.onInputBlur(a))}),E()(),I(4,"div",4),Q("click",function(a){F(s);let l=ct(3);return L(r.onClick(a,l,!0))}),T(5,jde,3,2,"ng-container",5),E()(),T(6,$de,2,10,"label",6)}i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",Fc(28,Pde,r.checked(),r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),N("data-pc-name","checkbox")("data-pc-section","root"),g(),N("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),g(),f("value",r.value)("checked",r.checked())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),N("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("required",r.required)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-checked",r.checked())("data-pc-section","hiddenInput"),g(2),f("ngClass",En(33,Fde,r.checked(),r.disabled,r.focused)),N("data-p-highlight",r.checked())("data-p-disabled",r.disabled)("data-p-focused",r.focused)("data-pc-section","input"),g(),f("ngIf",r.checked()),g(),f("ngIf",r.label))},dependencies:()=>[gt,nt,Mt,_t,Di,nr],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return n})(),c5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,er,nr,Ke]})}return n})();var qde=["headerchkbox"],Kde=["filter"],Yde=["lastHiddenFocusableElement"],Qde=["firstHiddenFocusableElement"],Zde=["scroller"],Xde=["list"],Jde=["wrapper"],ehe=[[["p-header"]],[["p-footer"]]],the=["p-header","p-footer"],hv=(n,e)=>({$implicit:n,options:e}),u5=n=>({"p-checkbox-disabled":n}),nhe=(n,e,t)=>({"p-highlight":n,"p-focus":e,"p-disabled":t}),d5=n=>({options:n}),zx=n=>({height:n}),ihe=()=>({}),rhe=n=>({$implicit:n}),she=(n,e,t)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":e,"p-disabled":t}),ohe=(n,e)=>({$implicit:n,index:e}),ahe=n=>({"p-highlight":n});function lhe(n,e){n&1&&de(0)}function che(n,e){if(n&1&&(I(0,"div",20),nn(1),T(2,lhe,1,0,"ng-container",21),E()),n&2){let t=_();g(2),f("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",Lt(2,hv,t.modelValue(),t.visibleOptions()))}}function uhe(n,e){n&1&&$(0,"CheckIcon",30),n&2&&(f("styleClass","p-checkbox-icon"),N("aria-hidden",!0))}function dhe(n,e){}function hhe(n,e){n&1&&T(0,dhe,0,0,"ng-template")}function phe(n,e){if(n&1&&(I(0,"span",31),T(1,hhe,1,0,null,32),E()),n&2){let t=_(4);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function fhe(n,e){if(n&1&&(re(0),T(1,uhe,1,2,"CheckIcon",28)(2,phe,2,2,"span",29),se()),n&2){let t=_(3);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function mhe(n,e){if(n&1){let t=le();I(0,"div",24),Q("click",function(r){F(t);let s=_(2);return L(s.onToggleAll(r))})("keydown",function(r){F(t);let s=_(2);return L(s.onHeaderCheckboxKeyDown(r))}),I(1,"div",25)(2,"input",26,5),Q("focus",function(r){F(t);let s=_(2);return L(s.onHeaderCheckboxFocus(r))})("blur",function(r){F(t);let s=_(2);return L(s.onHeaderCheckboxBlur(r))}),E()(),I(4,"div",27),T(5,fhe,3,2,"ng-container",16),E()()}if(n&2){let t=_(2);f("ngClass",Ce(8,u5,t.disabled||t.toggleAllDisabled)),g(),N("data-p-hidden-accessible",!0),g(),f("disabled",t.disabled||t.toggleAllDisabled),N("checked",t.allSelected())("aria-label",t.toggleAllAriaLabel),g(2),f("ngClass",En(10,nhe,t.allSelected(),t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),N("aria-checked",t.allSelected()),g(),f("ngIf",t.allSelected())}}function ghe(n,e){n&1&&de(0)}function _he(n,e){if(n&1&&(re(0),T(1,ghe,1,0,"ng-container",21),se()),n&2){let t=_(2);g(),f("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Ce(2,d5,t.filterOptions))}}function yhe(n,e){n&1&&$(0,"SearchIcon",30),n&2&&(f("styleClass","p-listbox-filter-icon"),N("aria-hidden",!0))}function vhe(n,e){}function bhe(n,e){n&1&&T(0,vhe,0,0,"ng-template")}function whe(n,e){if(n&1&&(I(0,"span",38),T(1,bhe,1,0,null,32),E()),n&2){let t=_(4);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.filterIconTemplate)}}function Che(n,e){if(n&1){let t=le();I(0,"div",35)(1,"input",36,6),Q("input",function(r){F(t);let s=_(3);return L(s.onFilterChange(r))})("keydown",function(r){F(t);let s=_(3);return L(s.onFilterKeyDown(r))})("focus",function(r){F(t);let s=_(3);return L(s.onFilterFocus(r))})("blur",function(r){F(t);let s=_(3);return L(s.onFilterBlur(r))}),E(),T(3,yhe,1,2,"SearchIcon",28)(4,whe,2,2,"span",37),E()}if(n&2){let t=_(3);g(),f("value",t._filterValue()||"")("disabled",t.disabled)("tabindex",!t.disabled&&!t.focused?t.tabindex:-1),N("aria-owns",t.id+"_list")("aria-activedescendant",t.focusedOptionId)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),g(2),f("ngIf",!t.filterIconTemplate),g(),f("ngIf",t.filterIconTemplate)}}function Ihe(n,e){if(n&1&&(T(0,Che,5,9,"div",33),I(1,"span",34),ie(2),E()),n&2){let t=_(2);f("ngIf",t.filter),g(),N("data-p-hidden-accessible",!0),g(),zt(" ",t.filterResultMessageText," ")}}function Ehe(n,e){if(n&1&&(I(0,"div",20),T(1,mhe,6,14,"div",22)(2,_he,2,4,"ng-container",23)(3,Ihe,3,3,"ng-template",null,4,qt),E()),n&2){let t=ct(4),i=_();g(),f("ngIf",i.checkbox&&i.multiple&&i.showToggleAll),g(),f("ngIf",i.filterTemplate)("ngIfElse",t)}}function The(n,e){n&1&&de(0)}function xhe(n,e){if(n&1&&T(0,The,1,0,"ng-container",21),n&2){let t=e.$implicit,i=e.options;_(2);let r=ct(10);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Lt(2,hv,t,i))}}function She(n,e){n&1&&de(0)}function Dhe(n,e){if(n&1&&T(0,She,1,0,"ng-container",21),n&2){let t=e.options,i=_(3);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ce(2,d5,t))}}function Mhe(n,e){n&1&&(re(0),T(1,Dhe,1,4,"ng-template",41),se())}function Ahe(n,e){if(n&1){let t=le();I(0,"p-scroller",39,7),Q("onLazyLoad",function(r){F(t);let s=_();return L(s.onLazyLoad.emit(r))}),T(2,xhe,1,5,"ng-template",40)(3,Mhe,2,0,"ng-container",16),E()}if(n&2){let t=_();ks(Ce(9,zx,t.scrollHeight)),f("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions)("tabindex",t.scrollerTabIndex),g(3),f("ngIf",t.loaderTemplate)}}function Rhe(n,e){n&1&&de(0)}function khe(n,e){if(n&1&&(re(0),T(1,Rhe,1,0,"ng-container",21),se()),n&2){let t=_(),i=ct(10);g(),f("ngTemplateOutlet",i)("ngTemplateOutletContext",Lt(3,hv,t.visibleOptions(),Jt(2,ihe)))}}function Ohe(n,e){if(n&1&&(I(0,"span"),ie(1),E()),n&2){let t=_(2).$implicit,i=_(2);g(),Ue(i.getOptionGroupLabel(t.optionGroup))}}function Phe(n,e){n&1&&de(0)}function Fhe(n,e){if(n&1&&(re(0),I(1,"li",45),T(2,Ohe,2,1,"span",16)(3,Phe,1,0,"ng-container",21),E(),se()),n&2){let t=_(),i=t.$implicit,r=t.index,s=_().options,o=_();g(),f("ngStyle",Ce(5,zx,s.itemSize+"px")),N("id",o.id+"_"+o.getOptionIndex(r,s)),g(),f("ngIf",!o.groupTemplate),g(),f("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Ce(7,rhe,i.optionGroup))}}function Lhe(n,e){n&1&&$(0,"CheckIcon",30),n&2&&(f("styleClass","p-checkbox-icon"),N("aria-hidden",!0))}function Nhe(n,e){}function Vhe(n,e){n&1&&T(0,Nhe,0,0,"ng-template")}function Bhe(n,e){if(n&1&&(I(0,"span",31),T(1,Vhe,1,0,null,32),E()),n&2){let t=_(6);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function zhe(n,e){if(n&1&&(re(0),T(1,Lhe,1,2,"CheckIcon",28)(2,Bhe,2,2,"span",29),se()),n&2){let t=_(5);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function Uhe(n,e){if(n&1&&(I(0,"div",48)(1,"div",49),T(2,zhe,3,2,"ng-container",16),E()()),n&2){let t=_(2).$implicit,i=_(2);f("ngClass",Ce(3,u5,i.disabled||i.isOptionDisabled(t))),g(),f("ngClass",Ce(5,ahe,i.isSelected(t))),g(),f("ngIf",i.isSelected(t))}}function Hhe(n,e){if(n&1&&(I(0,"span"),ie(1),E()),n&2){let t=_(2).$implicit,i=_(2);g(),Ue(i.getOptionLabel(t))}}function jhe(n,e){n&1&&de(0)}function $he(n,e){if(n&1){let t=le();re(0),I(1,"li",46),Q("click",function(r){F(t);let s=_(),o=s.$implicit,a=s.index,l=_().options,c=_();return L(c.onOptionSelect(r,o,c.getOptionIndex(a,l)))})("dblclick",function(r){F(t);let s=_().$implicit,o=_(2);return L(o.onOptionDoubleClick(r,s))})("mousedown",function(r){F(t);let s=_().index,o=_().options,a=_();return L(a.onOptionMouseDown(r,a.getOptionIndex(s,o)))})("mouseenter",function(r){F(t);let s=_().index,o=_().options,a=_();return L(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))})("touchend",function(){F(t);let r=_(3);return L(r.onOptionTouchEnd())}),T(2,Uhe,3,7,"div",47)(3,Hhe,2,1,"span",16)(4,jhe,1,0,"ng-container",21),E(),se()}if(n&2){let t=_(),i=t.$implicit,r=t.index,s=_().options,o=_();g(),f("ngStyle",Ce(12,zx,s.itemSize+"px"))("ngClass",En(14,she,o.isSelected(i),o.focusedOptionIndex()===o.getOptionIndex(r,s),o.isOptionDisabled(i))),N("id",o.id+"_"+o.getOptionIndex(r,s))("aria-label",o.getOptionLabel(i))("aria-selected",o.isSelected(i))("aria-disabled",o.isOptionDisabled(i))("aria-setsize",o.ariaSetSize)("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s))),g(),f("ngIf",o.checkbox&&o.multiple),g(),f("ngIf",!o.itemTemplate),g(),f("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",Lt(18,ohe,i,o.getOptionIndex(r,s)))}}function Ghe(n,e){if(n&1&&T(0,Fhe,4,9,"ng-container",16)(1,$he,5,21,"ng-container",16),n&2){let t=e.$implicit,i=_(2);f("ngIf",i.isOptionGroup(t)),g(),f("ngIf",!i.isOptionGroup(t))}}function Whe(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(3);g(),zt(" ",t.emptyFilterMessageText," ")}}function qhe(n,e){n&1&&de(0,null,9)}function Khe(n,e){if(n&1&&(I(0,"li",50),T(1,Whe,2,1,"ng-container",23)(2,qhe,2,0,"ng-container",32),E()),n&2){let t=_(2);g(),f("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),g(),f("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function Yhe(n,e){if(n&1&&(re(0),ie(1),se()),n&2){let t=_(3);g(),zt(" ",t.emptyMessage," ")}}function Qhe(n,e){n&1&&de(0,null,10)}function Zhe(n,e){if(n&1&&(I(0,"li",50),T(1,Yhe,2,1,"ng-container",23)(2,Qhe,2,0,"ng-container",32),E()),n&2){let t=_(2);g(),f("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),g(),f("ngTemplateOutlet",t.emptyTemplate)}}function Xhe(n,e){if(n&1){let t=le();I(0,"ul",42,8),Q("focus",function(r){F(t);let s=_();return L(s.onListFocus(r))})("blur",function(r){F(t);let s=_();return L(s.onListBlur(r))})("keydown",function(r){F(t);let s=_();return L(s.onListKeyDown(r))}),T(2,Ghe,2,2,"ng-template",43)(3,Khe,3,3,"li",44)(4,Zhe,3,3,"li",44),E()}if(n&2){let t=e.$implicit,i=e.options,r=_();f("tabindex",-1)("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),N("aria-multiselectable",!0)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-label",r.ariaLabel)("aria-multiselectable",r.multiple)("aria-disabled",r.disabled),g(2),f("ngForOf",t),g(),f("ngIf",r.hasFilter()&&r.isEmpty()),g(),f("ngIf",!r.hasFilter()&&r.isEmpty())}}function Jhe(n,e){n&1&&de(0)}function epe(n,e){if(n&1&&(I(0,"div",51),nn(1,1),T(2,Jhe,1,0,"ng-container",21),E()),n&2){let t=_();g(2),f("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",Lt(2,hv,t.modelValue(),t.visibleOptions()))}}function tpe(n,e){if(n&1&&(I(0,"span",19),ie(1),E()),n&2){let t=_();g(),zt(" ",t.emptyMessage," ")}}var npe={provide:Rn,useExisting:gn(()=>Ux),multi:!0},Ux=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(t){this._options.set(t)}get filterValue(){return this._filterValue()}set filterValue(t){this._filterValue.set(t)}get selectAll(){return this._selectAll}set selectAll(t){this._selectAll=t}onChange=new Z;onClick=new Z;onDblClick=new Z;onFilter=new Z;onFocus=new Z;onBlur=new Z;onSelectAllChange=new Z;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;wrapperViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=Zt(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return te.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=Zt(null);startRangeIndex=Zt(-1);focusedOptionIndex=Zt(-1);modelValue=Zt(null);visibleOptions=ao(()=>{let t=this.group?this.flatOptions(this._options()):this._options()||[],i=this._filterValue();return this.searchFields[0]===void 0?i?t.filter(r=>r.toString().toLocaleLowerCase(this.filterLocale).indexOf(i.toLocaleLowerCase(this.filterLocale).trim())!==-1):t:i?this.filterService.filter(t,this.searchFields,i,this.filterMatchMode,this.filterLocale):t});constructor(t,i,r,s,o){this.el=t,this.cd=i,this.filterService=r,this.config=s,this.renderer=o}ngOnInit(){this.id=this.id||it(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterChange(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"checkicon":this.checkIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}writeValue(t){this.value=t,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let t=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(t),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(t,i){this.value=t,this.modelValue.set(t),this.onModelChange(t),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(t){return this.modelValue().filter(i=>!te.equals(i,this.getOptionValue(t),this.equalityKey()))}onOptionSelect(t,i,r=-1){this.disabled||this.isOptionDisabled(i)||this.readonly||(t&&this.onClick.emit({originalEvent:t,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(t,i):this.onOptionSelectSingle(t,i),this.optionTouched=!1,r!==-1&&this.focusedOptionIndex.set(r))}onOptionSelectMultiple(t,i){let r=this.isSelected(i),s=null;if(this.optionTouched?!1:this.metaKeySelection){let a=t.metaKey||t.ctrlKey;r?s=a?this.removeOption(i):[this.getOptionValue(i)]:(s=a?this.modelValue()||[]:[],s=[...s,this.getOptionValue(i)])}else s=r?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(s,t)}onOptionSelectSingle(t,i){let r=this.isSelected(i),s=!1,o=null;if(this.optionTouched?!1:this.metaKeySelection){let l=t.metaKey||t.ctrlKey;r?l&&(o=null,s=!0):(o=this.getOptionValue(i),s=!0)}else o=r?null:this.getOptionValue(i),s=!0;s&&this.updateModel(o,t)}onOptionSelectRange(t,i=-1,r=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(r,!0)),r===-1&&(r=this.findNearestSelectedOptionIndex(i)),i!==-1&&r!==-1){let s=Math.min(i,r),o=Math.max(i,r),a=this.visibleOptions().slice(s,o+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,t)}}onToggleAll(t){if(!(this.disabled||this.readonly)){if(k.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:t,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(i,t)}t.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:te.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(t=>this.isOptionGroup(t)||this.isOptionDisabled(t)||this.isSelected(t))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(t,i){this.changeFocusedOptionIndex(t,i)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}onOptionDoubleClick(t,i){this.disabled||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:t,option:i,value:this.value})}onFirstHiddenFocus(t){k.focus(this.listViewChild.nativeElement);let i=k.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=te.isEmpty(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(t){if(t.relatedTarget===this.listViewChild.nativeElement){let r=k.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");k.focus(r),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else k.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(t){!this.el.nativeElement.contains(t.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.wrapperViewChild.nativeElement.tabIndex="0",this.scrollerTabIndex="0")}onListFocus(t){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.onFocus.emit(t),this.wrapperViewChild.nativeElement.tabIndex="-1",this.scrollerTabIndex="-1"}onListBlur(t){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(t){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(t){if(this.disabled){t.preventDefault();return}switch(t.code){case"Space":this.onToggleAll(t);break;case"Enter":this.onToggleAll(t);break;case"Tab":this.onHeaderCheckboxTabKeyDown(t);break;default:break}}onHeaderCheckboxTabKeyDown(t){k.focus(this.listViewChild.nativeElement),t.preventDefault()}onFilterChange(t){let i=t.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterFocus(t){this.wrapperViewChild.nativeElement.tabIndex="-1"}onFilterBlur(t){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(t);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&t.code==="KeyA"&&i){let r=this.visibleOptions().filter(s=>this.isValidOption(s)).map(s=>this.getOptionValue(s));this.updateModel(r,t),t.preventDefault();break}!i&&te.isPrintableCharacter(t.key)&&(this.searchOptions(t,t.key),t.preventDefault());break}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":this.onEnterKey(t);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(t){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&t.shiftKey&&this.onOptionSelectRange(t,this.startRangeIndex(),i),this.changeFocusedOptionIndex(t,i),t.preventDefault()}onArrowUpKey(t){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&t.shiftKey&&this.onOptionSelectRange(t,i,this.startRangeIndex()),this.changeFocusedOptionIndex(t,i),t.preventDefault()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(t,i=!1){if(i)t.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let r=t.metaKey||t.ctrlKey,s=this.findFirstOptionIndex();this.multiple&&t.shiftKey&&r&&this.onOptionSelectRange(t,s,this.startRangeIndex()),this.changeFocusedOptionIndex(t,s)}t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget,s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}else{let r=t.metaKey||t.ctrlKey,s=this.findLastOptionIndex();this.multiple&&t.shiftKey&&r&&this.onOptionSelectRange(t,this.startRangeIndex(),s),this.changeFocusedOptionIndex(t,s)}t.preventDefault()}onPageDownKey(t){this.scrollInView(0),t.preventDefault()}onPageUpKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onEnterKey(t){this.focusedOptionIndex()!==-1&&(this.multiple&&t.shiftKey?this.onOptionSelectRange(t,this.focusedOptionIndex()):this.onOptionSelect(t,this.visibleOptions()[this.focusedOptionIndex()])),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onShiftKey(){let t=this.focusedOptionIndex();this.startRangeIndex.set(t)}getOptionGroupChildren(t){return this.optionGroupChildren?te.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?te.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionLabel(t){return this.optionLabel?te.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionValue(t){return this.optionValue?te.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}hasSelectedOption(){return te.isNotEmpty(this.modelValue())}isOptionGroup(t){return this.optionGroupLabel&&t.optionGroup&&t.group}changeFocusedOptionIndex(t,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(t,this.visibleOptions()[i]))}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId,r=k.findSingle(this.listViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(t!==-1?t:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findLastOptionIndex(){return te.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findFirstFocusedOptionIndex(){let t=this.findFirstSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findLastFocusedOptionIndex(){let t=this.findLastSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}findLastSelectedOptionIndex(){return this.hasSelectedOption()?te.findLastIndex(this.visibleOptions(),t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findNextSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return i>-1?i+t+1:-1}findPrevSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t>0?te.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidSelectedOption(r)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findPrevOptionIndex(t){let i=t>0?te.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findNearestSelectedOptionIndex(t,i=!1){let r=-1;return this.hasSelectedOption()&&(i?(r=this.findPrevSelectedOptionIndex(t),r=r===-1?this.findNextSelectedOptionIndex(t):r):(r=this.findNextSelectedOptionIndex(t),r=r===-1?this.findPrevSelectedOptionIndex(t):r)),r>-1?r:t}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}isOptionDisabled(t){return this.optionDisabled?te.resolveFieldData(t,this.optionDisabled):!1}isSelected(t){let i=this.getOptionValue(t);return this.multiple?(this.modelValue()||[]).some(r=>te.equals(r,i,this.equalityKey())):te.equals(this.modelValue(),i,this.equalityKey())}isValidOption(t){return t&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(je),j(Je),j(Ud),j(Yt),j(Wt))};static \u0275cmp=X({type:n,selectors:[["p-listbox"]],contentQueries:function(i,r,s){if(i&1&&(dt(s,wy,5),dt(s,Cy,5),dt(s,qe,4)),i&2){let o;me(o=ge())&&(r.headerFacet=o.first),me(o=ge())&&(r.footerFacet=o.first),me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(qde,5),Ve(Kde,5),Ve(Yde,5),Ve(Qde,5),Ve(Zde,5),Ve(Xde,5),Ve(Jde,5)),i&2){let s;me(s=ge())&&(r.headerCheckboxViewChild=s.first),me(s=ge())&&(r.filterViewChild=s.first),me(s=ge())&&(r.lastHiddenFocusableElement=s.first),me(s=ge())&&(r.firstHiddenFocusableElement=s.first),me(s=ge())&&(r.scroller=s.first),me(s=ge())&&(r.listViewChild=s.first),me(s=ge())&&(r.wrapperViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[O.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",W],ariaLabel:"ariaLabel",selectOnFocus:[O.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",W],searchLocale:[O.HasDecoratorInputTransform,"searchLocale","searchLocale",W],focusOnHover:[O.HasDecoratorInputTransform,"focusOnHover","focusOnHover",W],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[O.HasDecoratorInputTransform,"lazy","lazy",W],virtualScroll:[O.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[O.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Le],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[O.HasDecoratorInputTransform,"tabindex","tabindex",Le],multiple:[O.HasDecoratorInputTransform,"multiple","multiple",W],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[O.HasDecoratorInputTransform,"readonly","readonly",W],disabled:[O.HasDecoratorInputTransform,"disabled","disabled",W],checkbox:[O.HasDecoratorInputTransform,"checkbox","checkbox",W],filter:[O.HasDecoratorInputTransform,"filter","filter",W],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[O.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",W],dataKey:"dataKey",showToggleAll:[O.HasDecoratorInputTransform,"showToggleAll","showToggleAll",W],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[O.HasDecoratorInputTransform,"group","group",W],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[dn([npe]),Ze],ngContentSelectors:the,decls:17,vars:23,consts:[["firstHiddenFocusableElement",""],["wrapper",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","focus","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"]],template:function(i,r){if(i&1){let s=le();_n(ehe),I(0,"div",11),Q("focusout",function(a){return F(s),L(r.onFocusout(a))}),I(1,"span",12,0),Q("focus",function(a){return F(s),L(r.onFirstHiddenFocus(a))}),E(),T(3,che,3,5,"div",13)(4,Ehe,5,3,"div",13),I(5,"div",14,1),T(7,Ahe,4,11,"p-scroller",15)(8,khe,2,6,"ng-container",16)(9,Xhe,5,11,"ng-template",null,2,qt),E(),T(11,epe,3,5,"div",17)(12,tpe,2,1,"span",18),I(13,"span",19),ie(14),E(),I(15,"span",12,3),Q("focus",function(a){return F(s),L(r.onLastHiddenFocus(a))}),E()()}i&2&&(ne(r.styleClass),f("ngClass",r.containerClass)("ngStyle",r.style),N("id",r.id),g(),f("tabindex",r.disabled?-1:r.tabindex),N("data-p-hidden-focusable",!0),g(2),f("ngIf",r.headerFacet||r.headerTemplate),g(),f("ngIf",r.checkbox&&r.multiple&&r.showToggleAll||r.filter),g(),ne(r.listStyleClass),Pc("max-height",r.virtualScroll?"auto":r.scrollHeight||"auto"),f("ngClass","p-listbox-list-wrapper")("ngStyle",r.listStyle),N("tabindex",!r.disabled&&"0"),g(2),f("ngIf",r.virtualScroll),g(),f("ngIf",!r.virtualScroll),g(3),f("ngIf",r.footerFacet||r.footerTemplate),g(),f("ngIf",r.isEmpty()),g(2),zt(" ",r.selectedMessageText," "),g(),f("tabindex",r.disabled?-1:r.tabindex),N("data-p-hidden-focusable",!0))},dependencies:()=>[gt,oi,nt,Mt,_t,qe,ai,lh,uh,nr],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),h5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,li,fa,uh,nr,Ke,fa]})}return n})();var p5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f5={};var Fl,Hx;(function(){var n;function e(A,x){function D(){}D.prototype=x.prototype,A.D=x.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(B,U,H){for(var P=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)P[Ae-2]=arguments[Ae];return x.prototype[U].apply(B,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,x,D){D||(D=0);var B=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)B[U]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(U=0;16>U;++U)B[U]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=A.g[0],D=A.g[1],U=A.g[2];var H=A.g[3],P=x+(H^D&(U^H))+B[0]+3614090360&4294967295;x=D+(P<<7&4294967295|P>>>25),P=H+(U^x&(D^U))+B[1]+3905402710&4294967295,H=x+(P<<12&4294967295|P>>>20),P=U+(D^H&(x^D))+B[2]+606105819&4294967295,U=H+(P<<17&4294967295|P>>>15),P=D+(x^U&(H^x))+B[3]+3250441966&4294967295,D=U+(P<<22&4294967295|P>>>10),P=x+(H^D&(U^H))+B[4]+4118548399&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(U^x&(D^U))+B[5]+1200080426&4294967295,H=x+(P<<12&4294967295|P>>>20),P=U+(D^H&(x^D))+B[6]+2821735955&4294967295,U=H+(P<<17&4294967295|P>>>15),P=D+(x^U&(H^x))+B[7]+4249261313&4294967295,D=U+(P<<22&4294967295|P>>>10),P=x+(H^D&(U^H))+B[8]+1770035416&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(U^x&(D^U))+B[9]+2336552879&4294967295,H=x+(P<<12&4294967295|P>>>20),P=U+(D^H&(x^D))+B[10]+4294925233&4294967295,U=H+(P<<17&4294967295|P>>>15),P=D+(x^U&(H^x))+B[11]+2304563134&4294967295,D=U+(P<<22&4294967295|P>>>10),P=x+(H^D&(U^H))+B[12]+1804603682&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(U^x&(D^U))+B[13]+4254626195&4294967295,H=x+(P<<12&4294967295|P>>>20),P=U+(D^H&(x^D))+B[14]+2792965006&4294967295,U=H+(P<<17&4294967295|P>>>15),P=D+(x^U&(H^x))+B[15]+1236535329&4294967295,D=U+(P<<22&4294967295|P>>>10),P=x+(U^H&(D^U))+B[1]+4129170786&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^U&(x^D))+B[6]+3225465664&4294967295,H=x+(P<<9&4294967295|P>>>23),P=U+(x^D&(H^x))+B[11]+643717713&4294967295,U=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(U^H))+B[0]+3921069994&4294967295,D=U+(P<<20&4294967295|P>>>12),P=x+(U^H&(D^U))+B[5]+3593408605&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^U&(x^D))+B[10]+38016083&4294967295,H=x+(P<<9&4294967295|P>>>23),P=U+(x^D&(H^x))+B[15]+3634488961&4294967295,U=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(U^H))+B[4]+3889429448&4294967295,D=U+(P<<20&4294967295|P>>>12),P=x+(U^H&(D^U))+B[9]+568446438&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^U&(x^D))+B[14]+3275163606&4294967295,H=x+(P<<9&4294967295|P>>>23),P=U+(x^D&(H^x))+B[3]+4107603335&4294967295,U=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(U^H))+B[8]+1163531501&4294967295,D=U+(P<<20&4294967295|P>>>12),P=x+(U^H&(D^U))+B[13]+2850285829&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^U&(x^D))+B[2]+4243563512&4294967295,H=x+(P<<9&4294967295|P>>>23),P=U+(x^D&(H^x))+B[7]+1735328473&4294967295,U=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(U^H))+B[12]+2368359562&4294967295,D=U+(P<<20&4294967295|P>>>12),P=x+(D^U^H)+B[5]+4294588738&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^U)+B[8]+2272392833&4294967295,H=x+(P<<11&4294967295|P>>>21),P=U+(H^x^D)+B[11]+1839030562&4294967295,U=H+(P<<16&4294967295|P>>>16),P=D+(U^H^x)+B[14]+4259657740&4294967295,D=U+(P<<23&4294967295|P>>>9),P=x+(D^U^H)+B[1]+2763975236&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^U)+B[4]+1272893353&4294967295,H=x+(P<<11&4294967295|P>>>21),P=U+(H^x^D)+B[7]+4139469664&4294967295,U=H+(P<<16&4294967295|P>>>16),P=D+(U^H^x)+B[10]+3200236656&4294967295,D=U+(P<<23&4294967295|P>>>9),P=x+(D^U^H)+B[13]+681279174&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^U)+B[0]+3936430074&4294967295,H=x+(P<<11&4294967295|P>>>21),P=U+(H^x^D)+B[3]+3572445317&4294967295,U=H+(P<<16&4294967295|P>>>16),P=D+(U^H^x)+B[6]+76029189&4294967295,D=U+(P<<23&4294967295|P>>>9),P=x+(D^U^H)+B[9]+3654602809&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^U)+B[12]+3873151461&4294967295,H=x+(P<<11&4294967295|P>>>21),P=U+(H^x^D)+B[15]+530742520&4294967295,U=H+(P<<16&4294967295|P>>>16),P=D+(U^H^x)+B[2]+3299628645&4294967295,D=U+(P<<23&4294967295|P>>>9),P=x+(U^(D|~H))+B[0]+4096336452&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~U))+B[7]+1126891415&4294967295,H=x+(P<<10&4294967295|P>>>22),P=U+(x^(H|~D))+B[14]+2878612391&4294967295,U=H+(P<<15&4294967295|P>>>17),P=D+(H^(U|~x))+B[5]+4237533241&4294967295,D=U+(P<<21&4294967295|P>>>11),P=x+(U^(D|~H))+B[12]+1700485571&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~U))+B[3]+2399980690&4294967295,H=x+(P<<10&4294967295|P>>>22),P=U+(x^(H|~D))+B[10]+4293915773&4294967295,U=H+(P<<15&4294967295|P>>>17),P=D+(H^(U|~x))+B[1]+2240044497&4294967295,D=U+(P<<21&4294967295|P>>>11),P=x+(U^(D|~H))+B[8]+1873313359&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~U))+B[15]+4264355552&4294967295,H=x+(P<<10&4294967295|P>>>22),P=U+(x^(H|~D))+B[6]+2734768916&4294967295,U=H+(P<<15&4294967295|P>>>17),P=D+(H^(U|~x))+B[13]+1309151649&4294967295,D=U+(P<<21&4294967295|P>>>11),P=x+(U^(D|~H))+B[4]+4149444226&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~U))+B[11]+3174756917&4294967295,H=x+(P<<10&4294967295|P>>>22),P=U+(x^(H|~D))+B[2]+718787259&4294967295,U=H+(P<<15&4294967295|P>>>17),P=D+(H^(U|~x))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+U&4294967295,A.g[3]=A.g[3]+H&4294967295}i.prototype.u=function(A,x){x===void 0&&(x=A.length);for(var D=x-this.blockSize,B=this.B,U=this.h,H=0;H<x;){if(U==0)for(;H<=D;)r(this,A,H),H+=this.blockSize;if(typeof A=="string"){for(;H<x;)if(B[U++]=A.charCodeAt(H++),U==this.blockSize){r(this,B),U=0;break}}else for(;H<x;)if(B[U++]=A[H++],U==this.blockSize){r(this,B),U=0;break}}this.h=U,this.o+=x},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;var D=8*this.o;for(x=A.length-8;x<A.length;++x)A[x]=D&255,D/=256;for(this.u(A),A=Array(16),x=D=0;4>x;++x)for(var B=0;32>B;B+=8)A[D++]=this.g[x]>>>B&255;return A};function s(A,x){var D=a;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=x(A)}function o(A,x){this.h=x;for(var D=[],B=!0,U=A.length-1;0<=U;U--){var H=A[U]|0;B&&H==x||(D[U]=H,B=!1)}this.g=D}var a={};function l(A){return-128<=A&&128>A?s(A,function(x){return new o([x|0],0>x?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return C(c(-A));for(var x=[],D=1,B=0;A>=D;B++)x[B]=A/D|0,D*=4294967296;return new o(x,0)}function u(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return C(u(A.substring(1),x));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(x,8)),B=h,U=0;U<A.length;U+=8){var H=Math.min(8,A.length-U),P=parseInt(A.substring(U,U+H),x);8>H?(H=c(Math.pow(x,H)),B=B.j(H).add(c(P))):(B=B.j(D),B=B.add(c(P)))}return B}var h=l(0),p=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(w(this))return-C(this).m();for(var A=0,x=1,D=0;D<this.g.length;D++){var B=this.i(D);A+=(0<=B?B:4294967296+B)*x,x*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(w(this))return"-"+C(this).toString(A);for(var x=c(Math.pow(A,6)),D=this,B="";;){var U=z(D,x).g;D=S(D,U.j(x));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=U,v(D))return H+B;for(;6>H.length;)H="0"+H;B=H+B}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function w(A){return A.h==-1}n.l=function(A){return A=S(this,A),w(A)?-1:v(A)?0:1};function C(A){for(var x=A.g.length,D=[],B=0;B<x;B++)D[B]=~A.g[B];return new o(D,~A.h).add(p)}n.abs=function(){return w(this)?C(this):this},n.add=function(A){for(var x=Math.max(this.g.length,A.g.length),D=[],B=0,U=0;U<=x;U++){var H=B+(this.i(U)&65535)+(A.i(U)&65535),P=(H>>>16)+(this.i(U)>>>16)+(A.i(U)>>>16);B=P>>>16,H&=65535,P&=65535,D[U]=P<<16|H}return new o(D,D[D.length-1]&-2147483648?-1:0)};function S(A,x){return A.add(C(x))}n.j=function(A){if(v(this)||v(A))return h;if(w(this))return w(A)?C(this).j(C(A)):C(C(this).j(A));if(w(A))return C(this.j(C(A)));if(0>this.l(m)&&0>A.l(m))return c(this.m()*A.m());for(var x=this.g.length+A.g.length,D=[],B=0;B<2*x;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(var U=0;U<A.g.length;U++){var H=this.i(B)>>>16,P=this.i(B)&65535,Ae=A.i(U)>>>16,De=A.i(U)&65535;D[2*B+2*U]+=P*De,R(D,2*B+2*U),D[2*B+2*U+1]+=H*De,R(D,2*B+2*U+1),D[2*B+2*U+1]+=P*Ae,R(D,2*B+2*U+1),D[2*B+2*U+2]+=H*Ae,R(D,2*B+2*U+2)}for(B=0;B<x;B++)D[B]=D[2*B+1]<<16|D[2*B];for(B=x;B<2*x;B++)D[B]=0;return new o(D,0)};function R(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function V(A,x){this.g=A,this.h=x}function z(A,x){if(v(x))throw Error("division by zero");if(v(A))return new V(h,h);if(w(A))return x=z(C(A),x),new V(C(x.g),C(x.h));if(w(x))return x=z(A,C(x)),new V(C(x.g),x.h);if(30<A.g.length){if(w(A)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var D=p,B=x;0>=B.l(A);)D=q(D),B=q(B);var U=Y(D,1),H=Y(B,1);for(B=Y(B,2),D=Y(D,2);!v(B);){var P=H.add(B);0>=P.l(A)&&(U=U.add(D),H=P),B=Y(B,1),D=Y(D,1)}return x=S(A,U.j(x)),new V(U,x)}for(U=h;0<=A.l(x);){for(D=Math.max(1,Math.floor(A.m()/x.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),H=c(D),P=H.j(x);w(P)||0<P.l(A);)D-=B,H=c(D),P=H.j(x);v(H)&&(H=p),U=U.add(H),A=S(A,P)}return new V(U,A)}n.A=function(A){return z(this,A).h},n.and=function(A){for(var x=Math.max(this.g.length,A.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)&A.i(B);return new o(D,this.h&A.h)},n.or=function(A){for(var x=Math.max(this.g.length,A.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)|A.i(B);return new o(D,this.h|A.h)},n.xor=function(A){for(var x=Math.max(this.g.length,A.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)^A.i(B);return new o(D,this.h^A.h)};function q(A){for(var x=A.g.length+1,D=[],B=0;B<x;B++)D[B]=A.i(B)<<1|A.i(B-1)>>>31;return new o(D,A.h)}function Y(A,x){var D=x>>5;x%=32;for(var B=A.g.length-D,U=[],H=0;H<B;H++)U[H]=0<x?A.i(H+D)>>>x|A.i(H+D+1)<<32-x:A.i(H+D);return new o(U,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Hx=f5.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Fl=f5.Integer=o}).apply(typeof p5<"u"?p5:typeof self<"u"?self:typeof window<"u"?window:{});var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ma={};var jx,$x,ph,Gx,lm,fv,Wx,qx,Kx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,b){return d==Array.prototype||d==Object.prototype||(d[y]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pv=="object"&&pv];for(var y=0;y<d.length;++y){var b=d[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function r(d,y){if(y)e:{var b=i;d=d.split(".");for(var M=0;M<d.length-1;M++){var K=d[M];if(!(K in b))break e;b=b[K]}d=d[d.length-1],M=b[d],y=y(M),y!=M&&y!=null&&e(b,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var b=0,M=!1,K={next:function(){if(!M&&b<d.length){var J=b++;return{value:y(J,d[J]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}r("Array.prototype.values",function(d){return d||function(){return s(this,function(y,b){return b})}});var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function u(d,y,b){return d.call.apply(d.bind,arguments)}function h(d,y,b){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),d.apply(y,K)}}return function(){return d.apply(y,arguments)}}function p(d,y,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(d,y){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function v(d,y){function b(){}b.prototype=y.prototype,d.aa=y.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(M,K,J){for(var we=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)we[fn-2]=arguments[fn];return y.prototype[K].apply(M,we)}}function w(d){let y=d.length;if(0<y){let b=Array(y);for(let M=0;M<y;M++)b[M]=d[M];return b}return[]}function C(d,y){for(let b=1;b<arguments.length;b++){let M=arguments[b];if(l(M)){let K=d.length||0,J=M.length||0;d.length=K+J;for(let we=0;we<J;we++)d[K+we]=M[we]}else d.push(M)}}class S{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function R(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(d,y,b){for(let M in d)y.call(b,d[M],M,d)}function A(d,y){for(let b in d)y.call(void 0,d[b],b,d)}function x(d){let y={};for(let b in d)y[b]=d[b];return y}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,y){let b,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(b in M)d[b]=M[b];for(let J=0;J<D.length;J++)b=D[J],Object.prototype.hasOwnProperty.call(M,b)&&(d[b]=M[b])}}function U(d){var y=1;d=d.split(":");let b=[];for(;0<y&&d.length;)b.push(d.shift()),y--;return d.length&&b.push(d.join(":")),b}function H(d){a.setTimeout(()=>{throw d},0)}function P(){var d=Fe;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,b){let M=De.get();M.set(y,b),this.h?this.h.next=M:this.g=M,this.h=M}}var De=new S(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,Fe=new Ae,Re=()=>{let d=a.Promise.resolve(void 0);ae=()=>{d.then(We)}};var We=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(b){H(b)}var y=De;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}fe=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let b=()=>{};a.addEventListener("test",b,y),a.removeEventListener("test",b,y)}catch{}return d}();function Dn(d,y){if(wt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(q){e:{try{z(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else b=="mouseover"?y=d.fromElement:b=="mouseout"&&(y=d.toElement);this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Wn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Dn.aa.h.call(this)}}v(Dn,wt);var Wn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function Tn(d,y,b,M,K){this.listener=d,this.proxy=null,this.src=y,this.type=b,this.capture=!!M,this.ha=K,this.key=++Jn,this.da=this.fa=!1}function Pn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fi(d){this.src=d,this.g={},this.h=0}Fi.prototype.add=function(d,y,b,M,K){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var we=Ua(d,y,M,K);return-1<we?(y=d[we],b||(y.fa=!1)):(y=new Tn(y,this.src,J,!!M,K),y.fa=b,d.push(y)),y};function No(d,y){var b=y.type;if(b in d.g){var M=d.g[b],K=Array.prototype.indexOf.call(M,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(M,K,1),J&&(Pn(y),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Ua(d,y,b,M){for(var K=0;K<d.length;++K){var J=d[K];if(!J.da&&J.listener==y&&J.capture==!!b&&J.ha==M)return K}return-1}var oc="closure_lm_"+(1e6*Math.random()|0),Vo={};function Ys(d,y,b,M,K){if(M&&M.once)return Bo(d,y,b,M,K);if(Array.isArray(y)){for(var J=0;J<y.length;J++)Ys(d,y[J],b,M,K);return null}return b=ac(b),d&&d[St]?d.K(y,b,c(M)?!!M.capture:!!M,K):cr(d,y,b,!1,M,K)}function cr(d,y,b,M,K,J){if(!y)throw Error("Invalid event type");var we=c(K)?!!K.capture:!!K,fn=Zs(d);if(fn||(d[oc]=fn=new Fi(d)),b=fn.add(y,b,M,we,J),b.proxy)return b;if(M=is(),b.proxy=M,M.src=d,M.listener=b,d.addEventListener)ce||(K=we),K===void 0&&(K=!1),d.addEventListener(y.toString(),M,K);else if(d.attachEvent)d.attachEvent(Qs(y.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function is(){function d(b){return y.call(d.src,d.listener,b)}let y=Ha;return d}function Bo(d,y,b,M,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Bo(d,y[J],b,M,K);return null}return b=ac(b),d&&d[St]?d.L(y,b,c(M)?!!M.capture:!!M,K):cr(d,y,b,!0,M,K)}function zo(d,y,b,M,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)zo(d,y[J],b,M,K);else M=c(M)?!!M.capture:!!M,b=ac(b),d&&d[St]?(d=d.i,y=String(y).toString(),y in d.g&&(J=d.g[y],b=Ua(J,b,M,K),-1<b&&(Pn(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete d.g[y],d.h--)))):d&&(d=Zs(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ua(y,b,M,K)),(b=-1<d?y[d]:null)&&Uo(b))}function Uo(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[St])No(y.i,d);else{var b=d.type,M=d.proxy;y.removeEventListener?y.removeEventListener(b,M,d.capture):y.detachEvent?y.detachEvent(Qs(b),M):y.addListener&&y.removeListener&&y.removeListener(M),(b=Zs(y))?(No(b,d),b.h==0&&(b.src=null,y[oc]=null)):Pn(d)}}}function Qs(d){return d in Vo?Vo[d]:Vo[d]="on"+d}function Ha(d,y){if(d.da)d=!0;else{y=new Dn(y,this);var b=d.listener,M=d.ha||d.src;d.fa&&Uo(d),d=b.call(M,y)}return d}function Zs(d){return d=d[oc],d instanceof Fi?d:null}var Fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(d){return typeof d=="function"?d:(d[Fn]||(d[Fn]=function(y){return d.handleEvent(y)}),d[Fn])}function ei(){Xe.call(this),this.i=new Fi(this),this.M=this,this.F=null}v(ei,Xe),ei.prototype[St]=!0,ei.prototype.removeEventListener=function(d,y,b,M){zo(this,d,y,b,M)};function ti(d,y){var b,M=d.F;if(M)for(b=[];M;M=M.F)b.push(M);if(d=d.M,M=y.type||y,typeof y=="string")y=new wt(y,d);else if(y instanceof wt)y.target=y.target||d;else{var K=y;y=new wt(M,d),B(y,K)}if(K=!0,b)for(var J=b.length-1;0<=J;J--){var we=y.g=b[J];K=Ho(we,M,!0,y)&&K}if(we=y.g=d,K=Ho(we,M,!0,y)&&K,K=Ho(we,M,!1,y)&&K,b)for(J=0;J<b.length;J++)we=y.g=b[J],K=Ho(we,M,!1,y)&&K}ei.prototype.N=function(){if(ei.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var b=d.g[y],M=0;M<b.length;M++)Pn(b[M]);delete d.g[y],d.h--}}this.F=null},ei.prototype.K=function(d,y,b,M){return this.i.add(String(d),y,!1,b,M)},ei.prototype.L=function(d,y,b,M){return this.i.add(String(d),y,!0,b,M)};function Ho(d,y,b,M){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var we=y[J];if(we&&!we.da&&we.capture==b){var fn=we.listener,Li=we.ha||we.src;we.fa&&No(d.i,we),K=fn.call(Li,M)!==!1&&K}}return K&&!M.defaultPrevented}function vg(d,y,b){if(typeof d=="function")b&&(d=p(d,b));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function xp(d){d.g=vg(()=>{d.g=null,d.i&&(d.i=!1,xp(d))},d.l);let y=d.h;d.h=null,d.m.apply(null,y)}class bg extends Xe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(d){Xe.call(this),this.h=d,this.g={}}v(jo,Xe);var wg=[];function Cg(d){Y(d.g,function(y,b){this.g.hasOwnProperty(b)&&Uo(y)},d),d.g={}}jo.prototype.N=function(){jo.aa.N.call(this),Cg(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pu=a.JSON.stringify,Ig=a.JSON.parse,Sp=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Fu(){}Fu.prototype.h=null;function Lu(d){return d.h||(d.h=d.i())}function ja(){}var bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $o(){wt.call(this,"d")}v($o,wt);function Nu(){wt.call(this,"c")}v(Nu,wt);var Xs={},ur=null;function rs(){return ur=ur||new ei}Xs.La="serverreachability";function dr(d){wt.call(this,Xs.La,d)}v(dr,wt);function Wi(d){let y=rs();ti(y,new dr(y))}Xs.STAT_EVENT="statevent";function hr(d,y){wt.call(this,Xs.STAT_EVENT,d),this.stat=y}v(hr,wt);function Cn(d){let y=rs();ti(y,new hr(y,d))}Xs.Ma="timingevent";function ss(d,y){wt.call(this,Xs.Ma,d),this.size=y}v(ss,wt);function hn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function ws(d,y,b,M,K,J){d.info(function(){if(d.g)if(J)for(var we="",fn=J.split("&"),Li=0;Li<fn.length;Li++){var Xt=fn[Li].split("=");if(1<Xt.length){var qi=Xt[0];Xt=Xt[1];var Ki=qi.split("_");we=2<=Ki.length&&Ki[1]=="type"?we+(qi+"="+Xt+"&"):we+(qi+"=redacted&")}}else we=null;else we=J;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+y+`
`+b+`
`+we})}function Lb(d,y,b,M,K,J,we){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+y+`
`+b+`
`+J+" "+we})}function Vu(d,y,b,M){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Tz(d,b)+(M?" "+M:"")})}function Ez(d,y){d.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function Tz(d,y){if(!d.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var M=b[d];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var we=1;we<K.length;we++)K[we]=""}}}}return Pu(b)}catch{return y}}var Eg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nb;function Tg(){}v(Tg,Fu),Tg.prototype.g=function(){return new XMLHttpRequest},Tg.prototype.i=function(){return{}},Nb=new Tg;function $a(d,y,b,M){this.j=d,this.i=y,this.l=b,this.R=M||1,this.U=new jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new VR}function VR(){this.i=null,this.g="",this.h=!1}var BR={},Vb={};function Bb(d,y,b){d.L=1,d.v=Mg(Go(y)),d.m=b,d.P=!0,zR(d,null)}function zR(d,y){d.F=Date.now(),xg(d),d.A=Go(d.v);var b=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),ek(b.i,"t",M),d.C=0,b=d.j.J,d.h=new VR,d.g=yk(d.j,b?y:null,!d.m),0<d.O&&(d.M=new bg(p(d.Y,d,d.g),d.O)),y=d.U,b=d.g,M=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(wg[0]=K.toString()),K=wg);for(var J=0;J<K.length;J++){var we=Ys(b,K[J],M||y.handleEvent,!1,y.h||y);if(!we)break;y.g[we.key]=we}y=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Wi(),ws(d.i,d.u,d.A,d.l,d.R,d.m)}$a.prototype.ca=function(d){d=d.target;let y=this.M;y&&Wo(d)==3?y.j():this.Y(d)},$a.prototype.Y=function(d){try{if(d==this.g)e:{let Ki=Wo(this.g);var y=this.g.Ba();let Uu=this.g.Z();if(!(3>Ki)&&(Ki!=3||this.g&&(this.h.h||this.g.oa()||ak(this.g)))){this.J||Ki!=4||y==7||(y==8||0>=Uu?Wi(3):Wi(2)),zb(this);var b=this.g.Z();this.X=b;t:if(UR(this)){var M=ak(this.g);d="";var K=M.length,J=Wo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lc(this),Dp(this);var we="";break t}this.h.i=new a.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,d+=this.h.i.decode(M[y],{stream:!(J&&y==K-1)});M.length=0,this.h.g+=d,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=b==200,Lb(this.i,this.u,this.A,this.l,this.R,Ki,b),this.o){if(this.T&&!this.K){t:{if(this.g){var fn,Li=this.g;if((fn=Li.g?Li.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(fn)){var Xt=fn;break t}}Xt=null}if(b=Xt)Vu(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ub(this,b);else{this.o=!1,this.s=3,Cn(12),lc(this),Dp(this);break e}}if(this.P){b=!0;let Cs;for(;!this.J&&this.C<we.length;)if(Cs=xz(this,we),Cs==Vb){Ki==4&&(this.s=4,Cn(14),b=!1),Vu(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==BR){this.s=4,Cn(15),Vu(this.i,this.l,we,"[Invalid Chunk]"),b=!1;break}else Vu(this.i,this.l,Cs,null),Ub(this,Cs);if(UR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ki!=4||we.length!=0||this.h.h||(this.s=1,Cn(16),b=!1),this.o=this.o&&b,!b)Vu(this.i,this.l,we,"[Invalid Chunked Response]"),lc(this),Dp(this);else if(0<we.length&&!this.W){this.W=!0;var qi=this.j;qi.g==this&&qi.ba&&!qi.M&&(qi.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),qb(qi),qi.M=!0,Cn(11))}}else Vu(this.i,this.l,we,null),Ub(this,we);Ki==4&&lc(this),this.o&&!this.J&&(Ki==4?fk(this.j,this):(this.o=!1,xg(this)))}else jz(this.g),b==400&&0<we.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),lc(this),Dp(this)}}}catch{}finally{}};function UR(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function xz(d,y){var b=d.C,M=y.indexOf(`
`,b);return M==-1?Vb:(b=Number(y.substring(b,M)),isNaN(b)?BR:(M+=1,M+b>y.length?Vb:(y=y.slice(M,M+b),d.C=M+b,y)))}$a.prototype.cancel=function(){this.J=!0,lc(this)};function xg(d){d.S=Date.now()+d.I,HR(d,d.I)}function HR(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hn(p(d.ba,d),y)}function zb(d){d.B&&(a.clearTimeout(d.B),d.B=null)}$a.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(Ez(this.i,this.A),this.L!=2&&(Wi(),Cn(17)),lc(this),this.s=2,Dp(this)):HR(this,this.S-d)};function Dp(d){d.j.G==0||d.J||fk(d.j,d)}function lc(d){zb(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Cg(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ub(d,y){try{var b=d.j;if(b.G!=0&&(b.g==d||Hb(b.h,d))){if(!d.K&&Hb(b.h,d)&&b.G==3){try{var M=b.Da.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Pg(b),kg(b);else break e;Wb(b),Cn(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=hn(p(b.Za,b),6e3));if(1>=GR(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else uc(b,11)}else if((d.K||b.g==d)&&Pg(b),!R(y))for(K=b.Da.g.parse(y),y=0;y<K.length;y++){let Xt=K[y];if(b.T=Xt[0],Xt=Xt[1],b.G==2)if(Xt[0]=="c"){b.K=Xt[1],b.ia=Xt[2];let qi=Xt[3];qi!=null&&(b.la=qi,b.j.info("VER="+b.la));let Ki=Xt[4];Ki!=null&&(b.Aa=Ki,b.j.info("SVER="+b.Aa));let Uu=Xt[5];Uu!=null&&typeof Uu=="number"&&0<Uu&&(M=1.5*Uu,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;let Cs=d.g;if(Cs){let Lg=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lg){var J=M.h;J.g||Lg.indexOf("spdy")==-1&&Lg.indexOf("quic")==-1&&Lg.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(jb(J,J.h),J.h=null))}if(M.D){let Kb=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Kb&&(M.ya=Kb,In(M.I,M.D,Kb))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var we=d;if(M.qa=_k(M,M.J?M.ia:null,M.W),we.K){WR(M.h,we);var fn=we,Li=M.L;Li&&(fn.I=Li),fn.B&&(zb(fn),xg(fn)),M.g=we}else hk(M);0<b.i.length&&Og(b)}else Xt[0]!="stop"&&Xt[0]!="close"||uc(b,7);else b.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?uc(b,7):Gb(b):Xt[0]!="noop"&&b.l&&b.l.ta(Xt),b.v=0)}}Wi(4)}catch{}}var Sz=class{constructor(d,y){this.g=d,this.map=y}};function jR(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $R(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function GR(d){return d.h?1:d.g?d.g.size:0}function Hb(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function jb(d,y){d.g?d.g.add(y):d.h=y}function WR(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}jR.prototype.cancel=function(){if(this.i=qR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function qR(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(let b of d.g.values())y=y.concat(b.D);return y}return w(d.i)}function Dz(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],b=d.length,M=0;M<b;M++)y.push(d[M]);return y}y=[],b=0;for(M in d)y[b++]=d[M];return y}function Mz(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var b=0;b<d;b++)y.push(b);return y}y=[],b=0;for(let M in d)y[b++]=M;return y}}}function KR(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var b=Mz(d),M=Dz(d),K=M.length,J=0;J<K;J++)y.call(void 0,M[J],b&&b[J],d)}var YR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Az(d,y){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var M=d[b].indexOf("="),K=null;if(0<=M){var J=d[b].substring(0,M);K=d[b].substring(M+1)}else J=d[b];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function cc(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof cc){this.h=d.h,Sg(this,d.j),this.o=d.o,this.g=d.g,Dg(this,d.s),this.l=d.l;var y=d.i,b=new Rp;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),QR(this,b),this.m=d.m}else d&&(y=String(d).match(YR))?(this.h=!1,Sg(this,y[1]||"",!0),this.o=Mp(y[2]||""),this.g=Mp(y[3]||"",!0),Dg(this,y[4]),this.l=Mp(y[5]||"",!0),QR(this,y[6]||"",!0),this.m=Mp(y[7]||"")):(this.h=!1,this.i=new Rp(null,this.h))}cc.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ap(y,ZR,!0),":");var b=this.g;return(b||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ap(y,ZR,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Ap(b,b.charAt(0)=="/"?Oz:kz,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Ap(b,Fz)),d.join("")};function Go(d){return new cc(d)}function Sg(d,y,b){d.j=b?Mp(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Dg(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function QR(d,y,b){y instanceof Rp?(d.i=y,Lz(d.i,d.h)):(b||(y=Ap(y,Pz)),d.i=new Rp(y,d.h))}function In(d,y,b){d.i.set(y,b)}function Mg(d){return In(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Mp(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ap(d,y,b){return typeof d=="string"?(d=encodeURI(d).replace(y,Rz),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rz(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ZR=/[#\/\?@]/g,kz=/[#\?:]/g,Oz=/[#\?]/g,Pz=/[#\?@]/g,Fz=/#/g;function Rp(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ga(d){d.g||(d.g=new Map,d.h=0,d.i&&Az(d.i,function(y,b){d.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=Rp.prototype,n.add=function(d,y){Ga(this),this.i=null,d=Bu(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(y),this.h+=1,this};function XR(d,y){Ga(d),y=Bu(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function JR(d,y){return Ga(d),y=Bu(d,y),d.g.has(y)}n.forEach=function(d,y){Ga(this),this.g.forEach(function(b,M){b.forEach(function(K){d.call(y,K,M,this)},this)},this)},n.na=function(){Ga(this);let d=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let M=0;M<y.length;M++){let K=d[M];for(let J=0;J<K.length;J++)b.push(y[M])}return b},n.V=function(d){Ga(this);let y=[];if(typeof d=="string")JR(this,d)&&(y=y.concat(this.g.get(Bu(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)y=y.concat(d[b])}return y},n.set=function(d,y){return Ga(this),this.i=null,d=Bu(this,d),JR(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ek(d,y,b){XR(d,y),0<b.length&&(d.i=null,d.g.set(Bu(d,y),w(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var M=y[b];let J=encodeURIComponent(String(M)),we=this.V(M);for(M=0;M<we.length;M++){var K=J;we[M]!==""&&(K+="="+encodeURIComponent(String(we[M]))),d.push(K)}}return this.i=d.join("&")};function Bu(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Lz(d,y){y&&!d.j&&(Ga(d),d.i=null,d.g.forEach(function(b,M){var K=M.toLowerCase();M!=K&&(XR(this,M),ek(this,K,b))},d)),d.j=y}function Nz(d,y){let b=new qn;if(a.Image){let M=new Image;M.onload=m(Wa,b,"TestLoadImage: loaded",!0,y,M),M.onerror=m(Wa,b,"TestLoadImage: error",!1,y,M),M.onabort=m(Wa,b,"TestLoadImage: abort",!1,y,M),M.ontimeout=m(Wa,b,"TestLoadImage: timeout",!1,y,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else y(!1)}function Vz(d,y){let b=new qn,M=new AbortController,K=setTimeout(()=>{M.abort(),Wa(b,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:M.signal}).then(J=>{clearTimeout(K),J.ok?Wa(b,"TestPingServer: ok",!0,y):Wa(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Wa(b,"TestPingServer: error",!1,y)})}function Wa(d,y,b,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(b)}catch{}}function Bz(){this.g=new Sp}function zz(d,y,b){let M=b||"";try{KR(d,function(K,J){let we=K;c(K)&&(we=Pu(K)),y.push(M+J+"="+encodeURIComponent(we))})}catch(K){throw y.push(M+"type="+encodeURIComponent("_badmap")),K}}function kp(d){this.l=d.Ub||null,this.j=d.eb||!1}v(kp,Fu),kp.prototype.g=function(){return new Ag(this.l,this.j)},kp.prototype.i=function(d){return function(){return d}}({});function Ag(d,y){ei.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ag,ei),n=Ag.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Pp(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Op(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pp(this)),this.g&&(this.readyState=3,Pp(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tk(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function tk(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Op(this):Pp(this),this.readyState==3&&tk(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Op(this))},n.Qa=function(d){this.g&&(this.response=d,Op(this))},n.ga=function(){this.g&&Op(this)};function Op(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Pp(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=y.next();return d.join(`\r
`)};function Pp(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ag.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function nk(d){let y="";return Y(d,function(b,M){y+=M,y+=":",y+=b,y+=`\r
`}),y}function $b(d,y,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=nk(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):In(d,y,b))}function Ln(d){ei.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ln,ei);var Uz=/^https?$/i,Hz=["POST","PUT"];n=Ln.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nb.g(),this.v=this.o?Lu(this.o):Lu(Nb),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(J){ik(this,J);return}if(d=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)b.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(let J of M.keys())b.set(J,M.get(J));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Hz,y,void 0))||M||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[J,we]of b)this.g.setRequestHeader(J,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ok(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){ik(this,J)}};function ik(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,rk(d),Rg(d)}function rk(d){d.A||(d.A=!0,ti(d,"complete"),ti(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ti(this,"complete"),ti(this,"abort"),Rg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rg(this,!0)),Ln.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sk(this):this.bb())},n.bb=function(){sk(this)};function sk(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Wo(d)!=4||d.Z()!=2)){if(d.u&&Wo(d)==4)vg(d.Ea,0,d);else if(ti(d,"readystatechange"),Wo(d)==4){d.h=!1;try{let we=d.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var M;if(M=we===0){var K=String(d.D).match(YR)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),M=!Uz.test(K?K.toLowerCase():"")}b=M}if(b)ti(d,"complete"),ti(d,"success");else{d.m=6;try{var J=2<Wo(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",rk(d)}}finally{Rg(d)}}}}function Rg(d,y){if(d.g){ok(d);let b=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||ti(d,"ready");try{b.onreadystatechange=M}catch{}}}function ok(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Wo(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Wo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ig(y)}};function ak(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jz(d){let y={};d=(d.g&&2<=Wo(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(R(d[M]))continue;var b=U(d[M]);let K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();let J=y[K]||[];y[K]=J,J.push(b)}A(y,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fp(d,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||y}function lk(d){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fp("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fp("baseRetryDelayMs",5e3,d),this.cb=Fp("retryDelaySeedMs",1e4,d),this.Wa=Fp("forwardChannelMaxRetries",2,d),this.wa=Fp("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new jR(d&&d.concurrentRequestLimit),this.Da=new Bz,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lk.prototype,n.la=8,n.G=1,n.connect=function(d,y,b,M){Cn(0),this.W=d,this.H=y||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=_k(this,null,this.W),Og(this)};function Gb(d){if(ck(d),d.G==3){var y=d.U++,b=Go(d.I);if(In(b,"SID",d.K),In(b,"RID",y),In(b,"TYPE","terminate"),Lp(d,b),y=new $a(d,d.j,y),y.L=2,y.v=Mg(Go(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=y.v,b=!0),b||(y.g=yk(y.j,null),y.g.ea(y.v)),y.F=Date.now(),xg(y)}gk(d)}function kg(d){d.g&&(qb(d),d.g.cancel(),d.g=null)}function ck(d){kg(d),d.u&&(a.clearTimeout(d.u),d.u=null),Pg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Og(d){if(!$R(d.h)&&!d.s){d.s=!0;var y=d.Ga;ae||Re(),fe||(ae(),fe=!0),Fe.add(y,d),d.B=0}}function $z(d,y){return GR(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hn(p(d.Ga,d,y),mk(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let K=new $a(this,this.j,d),J=this.o;if(this.S&&(J?(J=x(J),B(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(y+=M,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=dk(this,K,y),b=Go(this.I),In(b,"RID",d),In(b,"CVER",22),this.D&&In(b,"X-HTTP-Session-Id",this.D),Lp(this,b),J&&(this.O?y="headers="+encodeURIComponent(String(nk(J)))+"&"+y:this.m&&$b(b,this.m,J)),jb(this.h,K),this.Ua&&In(b,"TYPE","init"),this.P?(In(b,"$req",y),In(b,"SID","null"),K.T=!0,Bb(K,b,null)):Bb(K,b,y),this.G=2}}else this.G==3&&(d?uk(this,d):this.i.length==0||$R(this.h)||uk(this))};function uk(d,y){var b;y?b=y.l:b=d.U++;let M=Go(d.I);In(M,"SID",d.K),In(M,"RID",b),In(M,"AID",d.T),Lp(d,M),d.m&&d.o&&$b(M,d.m,d.o),b=new $a(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),y&&(d.i=y.D.concat(d.i)),y=dk(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),jb(d.h,b),Bb(b,M,y)}function Lp(d,y){d.H&&Y(d.H,function(b,M){In(y,M,b)}),d.l&&KR({},function(b,M){In(y,M,b)})}function dk(d,y,b){b=Math.min(d.i.length,b);var M=d.l?p(d.l.Na,d.l,d):null;e:{var K=d.i;let J=-1;for(;;){let we=["count="+b];J==-1?0<b?(J=K[0].g,we.push("ofs="+J)):J=0:we.push("ofs="+J);let fn=!0;for(let Li=0;Li<b;Li++){let Xt=K[Li].g,qi=K[Li].map;if(Xt-=J,0>Xt)J=Math.max(0,K[Li].g-100),fn=!1;else try{zz(qi,we,"req"+Xt+"_")}catch{M&&M(qi)}}if(fn){M=we.join("&");break e}}}return d=d.i.splice(0,b),y.D=d,M}function hk(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ae||Re(),fe||(ae(),fe=!0),Fe.add(y,d),d.v=0}}function Wb(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hn(p(d.Fa,d),mk(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,pk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hn(p(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),kg(this),pk(this))};function qb(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function pk(d){d.g=new $a(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Go(d.qa);In(y,"RID","rpc"),In(y,"SID",d.K),In(y,"AID",d.T),In(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&In(y,"TO",d.ja),In(y,"TYPE","xmlhttp"),Lp(d,y),d.m&&d.o&&$b(y,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Mg(Go(y)),b.m=null,b.P=!0,zR(b,d)}n.Za=function(){this.C!=null&&(this.C=null,kg(this),Wb(this),Cn(19))};function Pg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function fk(d,y){var b=null;if(d.g==y){Pg(d),qb(d),d.g=null;var M=2}else if(Hb(d.h,y))b=y.D,WR(d.h,y),M=1;else return;if(d.G!=0){if(y.o)if(M==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var K=d.B;M=rs(),ti(M,new ss(M,b)),Og(d)}else hk(d);else if(K=y.s,K==3||K==0&&0<y.X||!(M==1&&$z(d,y)||M==2&&Wb(d)))switch(b&&0<b.length&&(y=d.h,y.i=y.i.concat(b)),K){case 1:uc(d,5);break;case 4:uc(d,10);break;case 3:uc(d,6);break;default:uc(d,2)}}}function mk(d,y){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*y}function uc(d,y){if(d.j.info("Error code "+y),y==2){var b=p(d.fb,d),M=d.Xa;let K=!M;M=new cc(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sg(M,"https"),Mg(M),K?Nz(M.toString(),b):Vz(M.toString(),b)}else Cn(2);d.G=0,d.l&&d.l.sa(y),gk(d),ck(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function gk(d){if(d.G=0,d.ka=[],d.l){let y=qR(d.h);(y.length!=0||d.i.length!=0)&&(C(d.ka,y),C(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function _k(d,y,b){var M=b instanceof cc?Go(b):new cc(b);if(M.g!="")y&&(M.g=y+"."+M.g),Dg(M,M.s);else{var K=a.location;M=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new cc(null);M&&Sg(J,M),y&&(J.g=y),K&&Dg(J,K),b&&(J.l=b),M=J}return b=d.D,y=d.ya,b&&y&&In(M,b,y),In(M,"VER",d.la),Lp(d,M),M}function yk(d,y,b){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Ln(new kp({eb:b})):new Ln(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vk(){}n=vk.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fg(){}Fg.prototype.g=function(d,y){return new Lr(d,y)};function Lr(d,y){ei.call(this),this.g=new lk(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!R(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new zu(this)}v(Lr,ei),Lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Gb(this.g)},Lr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Pu(d),d=b);y.i.push(new Sz(y.Ya++,d)),y.G==3&&Og(y)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Gb(this.g),delete this.g,Lr.aa.N.call(this)};function bk(d){$o.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(let b in y){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}v(bk,$o);function wk(){Nu.call(this),this.status=1}v(wk,Nu);function zu(d){this.g=d}v(zu,vk),zu.prototype.ua=function(){ti(this.g,"a")},zu.prototype.ta=function(d){ti(this.g,new bk(d))},zu.prototype.sa=function(d){ti(this.g,new wk)},zu.prototype.ra=function(){ti(this.g,"b")},Fg.prototype.createWebChannel=Fg.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,Kx=ma.createWebChannelTransport=function(){return new Fg},qx=ma.getStatEventTarget=function(){return rs()},Wx=ma.Event=Xs,fv=ma.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eg.NO_ERROR=0,Eg.TIMEOUT=8,Eg.HTTP_ERROR=6,lm=ma.ErrorCode=Eg,NR.COMPLETE="complete",Gx=ma.EventType=NR,ja.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",ei.prototype.listen=ei.prototype.K,ph=ma.WebChannel=ja,$x=ma.FetchXmlHttpFactory=kp,Ln.prototype.listenOnce=Ln.prototype.L,Ln.prototype.getLastError=Ln.prototype.Ka,Ln.prototype.getLastErrorCode=Ln.prototype.Ba,Ln.prototype.getStatus=Ln.prototype.Z,Ln.prototype.getResponseJson=Ln.prototype.Oa,Ln.prototype.getResponseText=Ln.prototype.oa,Ln.prototype.send=Ln.prototype.ea,Ln.prototype.setWithCredentials=Ln.prototype.Ha,jx=ma.XhrIo=Ln}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var m5="@firebase/firestore";var Mi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");var Fh="10.12.5";var ou=new xl("@firebase/firestore");function cm(){return ou.logLevel}function ze(n,...e){if(ou.logLevel<=Ut.DEBUG){let t=e.map(RD);ou.debug(`Firestore (${Fh}): ${n}`,...t)}}function _a(n,...e){if(ou.logLevel<=Ut.ERROR){let t=e.map(RD);ou.error(`Firestore (${Fh}): ${n}`,...t)}}function wh(n,...e){if(ou.logLevel<=Ut.WARN){let t=e.map(RD);ou.warn(`Firestore (${Fh}): ${n}`,...t)}}function RD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function at(n="Unexpected state"){let e=`FIRESTORE (${Fh}) INTERNAL ASSERTION FAILED: `+n;throw _a(e),new Error(e)}function vn(n,e){n||at()}function vt(n,e){return n}var pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$e=class extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ga=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}},eS=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},tS=class{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ga,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>G(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ga)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn(typeof i.accessToken=="string"),new vv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string"),new Mi(e)}},nS=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},iS=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new nS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rS=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sS=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn(typeof t.token=="string"),this.R=t.token,new rS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function rpe(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var bv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=rpe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function on(n,e){return n<e?-1:n>e?1:0}function Ch(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Hi=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Tt=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Hi(0,0))}static max(){return new n(new Hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wv=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&at(),i===void 0?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Hn=class n extends wv{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new $e(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},spe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yr=class n extends wv{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return spe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new $e(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new $e(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new $e(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var et=class n{constructor(e){this.path=e}static fromPath(e){return new n(Hn.fromString(e))}static fromName(e){return new n(Hn.fromString(e).popFirst(5))}static empty(){return new n(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Hn(e.slice()))}};var oS=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};oS.UNKNOWN_ID=-1;function ope(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(i===1e9?new Hi(t+1,0):new Hi(t,i));return new au(r,et.empty(),e)}function ape(n){return new au(n.readTime,n.key,-1)}var au=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Tt.min(),et.empty(),-1)}static max(){return new n(Tt.max(),et.empty(),-1)}};function lpe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(n.documentKey,e.documentKey),t!==0?t:on(n.largestBatchId,e.largestBatchId))}var cpe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aS=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Tm(n){return G(this,null,function*(){if(n.code!==pe.FAILED_PRECONDITION||n.message!==cpe)throw n;ze("LocalStore","Unexpectedly lost primary lease")})}var be=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function upe(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xm(n){return n.name==="IndexedDbTransactionError"}var W5=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Qv(n){return n==null}function mm(n){return n===0&&1/n==-1/0}function dpe(n){return typeof n=="number"&&Number.isInteger(n)&&!mm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hpe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YLe=[...hpe,"documentOverlays"],ppe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fpe=ppe,mpe=[...fpe,"indexConfiguration","indexState","indexEntries"];var QLe=[...mpe,"globals"];function g5(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lh(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q5(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var jn=class n{constructor(e,t){this.comparator=e,this.root=t||yo.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}},_h=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yo=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();let e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}};yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1;yo.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,t,i,r,s){return this}insert(e,t,i){return new yo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rr=class n{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _o=class n{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new n([])}unionWith(e){let t=new rr(Yr.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ch(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Iv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var sr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Iv("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};sr.EMPTY_BYTE_STRING=new sr("");var gpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(vn(!!n),typeof n=="string"){let e=0,t=gpe.exec(n);if(vn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nl(n){return typeof n=="string"?sr.fromBase64String(n):sr.fromUint8Array(n)}function kD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function OD(n){let e=n.mapValue.fields.__previous_value__;return kD(e)?OD(e):e}function gm(n){let e=ya(n.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}var lS=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},Ev=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var mv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kD(n)?4:K5(n)?9007199254740991:10:at()}function wo(n,e){if(n===e)return!0;let t=lu(n);if(t!==lu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gm(n).isEqual(gm(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ya(r.timestampValue),a=ya(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Nl(r.bytesValue).isEqual(Nl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Un(r.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(r.geoPointValue.longitude)===Un(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Un(r.integerValue)===Un(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Un(r.doubleValue),a=Un(s.doubleValue);return o===a?mm(o)===mm(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ch(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(g5(o)!==g5(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wo(o[l],a[l])))return!1;return!0}(n,e);default:return at()}}function _m(n,e){return(n.values||[]).find(t=>wo(t,e))!==void 0}function Ih(n,e){if(n===e)return 0;let t=lu(n),i=lu(e);if(t!==i)return on(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Un(s.integerValue||s.doubleValue),l=Un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return _5(n.timestampValue,e.timestampValue);case 4:return _5(gm(n),gm(e));case 5:return on(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Nl(s),l=Nl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=on(a[c],l[c]);if(u!==0)return u}return on(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=on(Un(s.latitude),Un(o.latitude));return a!==0?a:on(Un(s.longitude),Un(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=Ih(a[c],l[c]);if(u)return u}return on(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mv.mapValue&&o===mv.mapValue)return 0;if(s===mv.mapValue)return 1;if(o===mv.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let p=on(l[h],u[h]);if(p!==0)return p;let m=Ih(a[l[h]],c[u[h]]);if(m!==0)return m}return on(l.length,u.length)}(n.mapValue,e.mapValue);default:throw at()}}function _5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return on(n,e);let t=ya(n),i=ya(e),r=on(t.seconds,i.seconds);return r!==0?r:on(t.nanos,i.nanos)}function Eh(n){return cS(n)}function cS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ya(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return et.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=cS(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${cS(t.fields[o])}`;return r+"}"}(n.mapValue):at()}function uS(n){return!!n&&"integerValue"in n}function PD(n){return!!n&&"arrayValue"in n}function y5(n){return!!n&&"nullValue"in n}function v5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _v(n){return!!n&&"mapValue"in n}function dm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Lh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dm(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ls=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_v(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dm(t)}setAll(e){let t=Yr.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=dm(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());_v(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];_v(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Lh(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(dm(this.value))}};function Y5(n){let e=[];return Lh(n.fields,(t,i)=>{let r=new Yr([t]);if(_v(i)){let s=Y5(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new _o(e)}var Ns=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Tt.min(),Tt.min(),Tt.min(),Ls.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Tt.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Tt.min(),Tt.min(),Ls.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Tt.min(),Tt.min(),Ls.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Th=class{constructor(e,t){this.position=e,this.inclusive=t}};function b5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=et.comparator(et.fromName(o.referenceValue),t.key):i=Ih(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function w5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}var xh=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function _pe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Tv=class{},vi=class n extends Tv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hS(e,t,i):t==="array-contains"?new mS(e,i):t==="in"?new gS(e,i):t==="not-in"?new _S(e,i):t==="array-contains-any"?new yS(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pS(e,i):new fS(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ih(t,this.value)):t!==null&&lu(this.value)===lu(t)&&this.matchesComparison(Ih(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Co=class n extends Tv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Q5(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Q5(n){return n.op==="and"}function Z5(n){return ype(n)&&Q5(n)}function ype(n){for(let e of n.filters)if(e instanceof Co)return!1;return!0}function dS(n){if(n instanceof vi)return n.field.canonicalString()+n.op.toString()+Eh(n.value);if(Z5(n))return n.filters.map(e=>dS(e)).join(",");{let e=n.filters.map(t=>dS(t)).join(",");return`${n.op}(${e})`}}function X5(n,e){return n instanceof vi?function(i,r){return r instanceof vi&&i.op===r.op&&i.field.isEqual(r.field)&&wo(i.value,r.value)}(n,e):n instanceof Co?function(i,r){return r instanceof Co&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&X5(o,r.filters[a]),!0):!1}(n,e):void at()}function J5(n){return n instanceof vi?function(t){return`${t.field.canonicalString()} ${t.op} ${Eh(t.value)}`}(n):n instanceof Co?function(t){return t.op.toString()+" {"+t.getFilters().map(J5).join(" ,")+"}"}(n):"Filter"}var hS=class extends vi{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){let t=et.comparator(e.key,this.key);return this.matchesComparison(t)}},pS=class extends vi{constructor(e,t){super(e,"in",t),this.keys=e6("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},fS=class extends vi{constructor(e,t){super(e,"not-in",t),this.keys=e6("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function e6(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}var mS=class extends vi{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return PD(t)&&_m(t.arrayValue,this.value)}},gS=class extends vi{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_m(this.value.arrayValue,t)}},_S=class extends vi{constructor(e,t){super(e,"not-in",t)}matches(e){if(_m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_m(this.value.arrayValue,t)}},yS=class extends vi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!PD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_m(this.value.arrayValue,i))}};var vS=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function C5(n,e=null,t=[],i=[],r=null,s=null,o=null){return new vS(n,e,t,i,r,s,o)}function FD(n){let e=vt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dS(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Eh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Eh(i)).join(",")),e.ue=t}return e.ue}function LD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_pe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w5(n.startAt,e.startAt)&&w5(n.endAt,e.endAt)}function bS(n){return et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Sh=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function vpe(n,e,t,i,r,s,o,a){return new Sh(n,e,t,i,r,s,o,a)}function ND(n){return new Sh(n)}function I5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bpe(n){return n.collectionGroup!==null}function hm(n){let e=vt(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(Yr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xh(s,i))}),t.has(Yr.keyField().canonicalString())||e.ce.push(new xh(Yr.keyField(),i))}return e.ce}function vo(n){let e=vt(n);return e.le||(e.le=wpe(e,hm(n))),e.le}function wpe(n,e){if(n.limitType==="F")return C5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new xh(r.field,s)});let t=n.endAt?new Th(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Th(n.startAt.position,n.startAt.inclusive):null;return C5(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function wS(n,e,t){return new Sh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zv(n,e){return LD(vo(n),vo(e))&&n.limitType===e.limitType}function t6(n){return`${FD(vo(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>J5(r)).join(", ")}]`),Qv(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Eh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Eh(r)).join(",")),`Target(${i})`}(vo(n))}; limitType=${n.limitType})`}function Xv(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):et.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of hm(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=b5(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,hm(i),r)||i.endAt&&!function(o,a,l){let c=b5(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,hm(i),r))}(n,e)}function Cpe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function n6(n){return(e,t)=>{let i=!1;for(let r of hm(n)){let s=Ipe(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Ipe(n,e,t){let i=n.field.isKeyField()?et.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ih(l,c):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}var Vl=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Lh(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return q5(this.inner)}size(){return this.innerSize}};var Epe=new jn(et.comparator);function va(){return Epe}var i6=new jn(et.comparator);function um(...n){let e=i6;for(let t of n)e=e.insert(t.key,t);return e}function r6(n){let e=i6;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function nu(){return pm()}function s6(){return pm()}function pm(){return new Vl(n=>n.toString(),(n,e)=>n.isEqual(e))}var Tpe=new jn(et.comparator),xpe=new rr(et.comparator);function Ht(...n){let e=xpe;for(let t of n)e=e.add(t);return e}var Spe=new rr(on);function Dpe(){return Spe}function o6(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function a6(n){return{integerValue:""+n}}function Mpe(n,e){return dpe(e)?a6(e):o6(n,e)}var Dh=class{constructor(){this._=void 0}};function Ape(n,e,t){return n instanceof Mh?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&kD(s)&&(s=OD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof cu?c6(n,e):n instanceof uu?u6(n,e):function(r,s){let o=l6(r,s),a=E5(o)+E5(r.Pe);return uS(o)&&uS(r.Pe)?a6(a):o6(r.serializer,a)}(n,e)}function Rpe(n,e,t){return n instanceof cu?c6(n,e):n instanceof uu?u6(n,e):t}function l6(n,e){return n instanceof Ah?function(i){return uS(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Mh=class extends Dh{},cu=class extends Dh{constructor(e){super(),this.elements=e}};function c6(n,e){let t=d6(e);for(let i of n.elements)t.some(r=>wo(r,i))||t.push(i);return{arrayValue:{values:t}}}var uu=class extends Dh{constructor(e){super(),this.elements=e}};function u6(n,e){let t=d6(e);for(let i of n.elements)t=t.filter(r=>!wo(r,i));return{arrayValue:{values:t}}}var Ah=class extends Dh{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function E5(n){return Un(n.integerValue||n.doubleValue)}function d6(n){return PD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kpe(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof cu&&r instanceof cu||i instanceof uu&&r instanceof uu?Ch(i.elements,r.elements,wo):i instanceof Ah&&r instanceof Ah?wo(i.Pe,r.Pe):i instanceof Mh&&r instanceof Mh}(n.transform,e.transform)}var CS=class{constructor(e,t){this.version=e,this.transformResults=t}},su=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Rh=class{};function h6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xv(n.key,su.none()):new du(n.key,n.data,su.none());{let t=n.data,i=Ls.empty(),r=new rr(Yr.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ba(n.key,i,new _o(r.toArray()),su.none())}}function Ope(n,e,t){n instanceof du?function(r,s,o){let a=r.value.clone(),l=x5(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ba?function(r,s,o){if(!yv(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=x5(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(p6(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function fm(n,e,t,i){return n instanceof du?function(s,o,a,l){if(!yv(s.precondition,o))return a;let c=s.value.clone(),u=S5(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof ba?function(s,o,a,l){if(!yv(s.precondition,o))return a;let c=S5(s.fieldTransforms,l,o),u=o.data;return u.setAll(p6(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return yv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Ppe(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=l6(i.transform,r||null);s!=null&&(t===null&&(t=Ls.empty()),t.set(i.field,s))}return t||null}function T5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ch(i,r,(s,o)=>kpe(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var du=class extends Rh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ba=class extends Rh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function p6(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function x5(n,e,t){let i=new Map;vn(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Rpe(o,a,t[r]))}return i}function S5(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,Ape(s,o,e))}return i}var xv=class extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},IS=class extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ES=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Ope(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=fm(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=fm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=s6();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=h6(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Ch(this.mutations,e.mutations,(t,i)=>T5(t,i))&&Ch(this.baseMutations,e.baseMutations,(t,i)=>T5(t,i))}},TS=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vn(e.mutations.length===i.length);let r=function(){return Tpe}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var xS=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var SS=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ci,Qt;function Fpe(n){switch(n){default:return at();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function f6(n){if(n===void 0)return _a("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ci.OK:return pe.OK;case ci.CANCELLED:return pe.CANCELLED;case ci.UNKNOWN:return pe.UNKNOWN;case ci.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ci.INTERNAL:return pe.INTERNAL;case ci.UNAVAILABLE:return pe.UNAVAILABLE;case ci.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ci.NOT_FOUND:return pe.NOT_FOUND;case ci.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ci.ABORTED:return pe.ABORTED;case ci.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ci.DATA_LOSS:return pe.DATA_LOSS;default:return at()}}(Qt=ci||(ci={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";var D5=null;function Lpe(){return new TextEncoder}var Npe=new Fl([4294967295,4294967295],0);function M5(n){let e=Lpe().encode(n),t=new Hx;return t.update(e),new Uint8Array(t.digest())}function A5(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fl([t,i],0),new Fl([r,s],0)]}var DS=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(i<0)throw new iu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Fl.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Fl.fromNumber(i)));return r.compare(Npe)===1&&(r=new Fl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=M5(e),[i,r]=A5(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=M5(e),[i,r]=A5(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},iu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sv=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,ym.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Tt.min(),r,new jn(on),va(),Ht())}},ym=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ht(),Ht(),Ht())}};var yh=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Dv=class{constructor(e,t){this.targetId=e,this.me=t}},Mv=class{constructor(e,t,i=sr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Av=class{constructor(){this.fe=0,this.ge=k5(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ht(),t=Ht(),i=Ht();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new ym(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=k5()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},MS=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=va(),this.qe=R5(),this.Qe=new jn(on)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(bS(s))if(i===0){let o=new et(s.path);this.Ue(t,o,Ns.newNoDocument(o,Tt.min()))}else vn(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}D5?.et(function(u,h,p,m,v){var w,C,S,R,V,z;let q={localCacheCount:u,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},Y=h.unchangedNames;return Y&&(q.bloomFilter={applied:v===0,hashCount:(w=Y?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(R=(S=(C=Y?.bits)===null||C===void 0?void 0:C.bitmap)===null||S===void 0?void 0:S.length)!==null&&R!==void 0?R:0,padding:(z=(V=Y?.bits)===null||V===void 0?void 0:V.padding)!==null&&z!==void 0?z:0,mightContain:A=>{var x;return(x=m?.mightContain(A))!==null&&x!==void 0&&x}}),q}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Nl(i).toUint8Array()}catch(l){if(l instanceof Iv)return wh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DS(o,r,s)}catch(l){return wh(l instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&bS(a.target)){let l=new et(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ns.newNoDocument(l,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let i=Ht();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Sv(e,t,this.Qe,this.ke,i);return this.ke=va(),this.qe=R5(),this.Qe=new jn(on),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Av,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new rr(on),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Av),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function R5(){return new jn(et.comparator)}function k5(){return new jn(et.comparator)}var Vpe={asc:"ASCENDING",desc:"DESCENDING"},Bpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zpe={and:"AND",or:"OR"},AS=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function RS(n,e){return n.useProto3Json||Qv(e)?e:{value:e}}function Rv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Upe(n,e){return Rv(n,e.toTimestamp())}function bo(n){return vn(!!n),Tt.fromTimestamp(function(t){let i=ya(t);return new Hi(i.seconds,i.nanos)}(n))}function VD(n,e){return kS(n,e).canonicalString()}function kS(n,e){let t=function(r){return new Hn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function g6(n){let e=Hn.fromString(n);return vn(w6(e)),e}function OS(n,e){return VD(n.databaseId,e.path)}function Yx(n,e){let t=g6(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(y6(t))}function _6(n,e){return VD(n.databaseId,e)}function Hpe(n){let e=g6(n);return e.length===4?Hn.emptyPath():y6(e)}function PS(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y6(n){return vn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function O5(n,e,t){return{name:OS(n,e),fields:t.value.mapValue.fields}}function jpe(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(vn(u===void 0||typeof u=="string"),sr.fromBase64String(u||"")):(vn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),sr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?pe.UNKNOWN:f6(c.code);return new $e(u,c.message||"")}(o);t=new Mv(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Yx(n,i.document.name),s=bo(i.document.updateTime),o=i.document.createTime?bo(i.document.createTime):Tt.min(),a=new Ls({mapValue:{fields:i.document.fields}}),l=Ns.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new yh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Yx(n,i.document),s=i.readTime?bo(i.readTime):Tt.min(),o=Ns.newNoDocument(r,s),a=i.removedTargetIds||[];t=new yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Yx(n,i.document),s=i.removedTargetIds||[];t=new yh([],s,r,null)}else{if(!("filter"in e))return at();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new SS(r,s),a=i.targetId;t=new Dv(a,o)}}return t}function $pe(n,e){let t;if(e instanceof du)t={update:O5(n,e.key,e.value)};else if(e instanceof xv)t={delete:OS(n,e.key)};else if(e instanceof ba)t={update:O5(n,e.key,e.data),updateMask:Jpe(e.fieldMask)};else{if(!(e instanceof IS))return at();t={verify:OS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Upe(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:at()}(n,e.precondition)),t}function Gpe(n,e){return n&&n.length>0?(vn(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?bo(r.updateTime):bo(s);return o.isEqual(Tt.min())&&(o=bo(s)),new CS(o,r.transformResults||[])}(t,e))):[]}function Wpe(n,e){return{documents:[_6(n,e.path)]}}function qpe(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_6(n,r);let s=function(c){if(c.length!==0)return b6(Co.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:mh(p.field),direction:Qpe(p.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=RS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function Kpe(n){let e=Hpe(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){vn(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let p=v6(h);return p instanceof Co&&Z5(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(v){return new xh(gh(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Qv(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){let p=!!h.before,m=h.values||[];return new Th(m,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let p=!h.before,m=h.values||[];return new Th(m,p)}(t.endAt)),vpe(e,r,o,s,a,"F",l,c)}function Ype(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v6(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=gh(t.unaryFilter.field);return vi.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=gh(t.unaryFilter.field);return vi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=gh(t.unaryFilter.field);return vi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=gh(t.unaryFilter.field);return vi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):n.fieldFilter!==void 0?function(t){return vi.create(gh(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Co.create(t.compositeFilter.filters.map(i=>v6(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at()}function Qpe(n){return Vpe[n]}function Zpe(n){return Bpe[n]}function Xpe(n){return zpe[n]}function mh(n){return{fieldPath:n.canonicalString()}}function gh(n){return Yr.fromServerFormat(n.fieldPath)}function b6(n){return n instanceof vi?function(t){if(t.op==="=="){if(v5(t.value))return{unaryFilter:{field:mh(t.field),op:"IS_NAN"}};if(y5(t.value))return{unaryFilter:{field:mh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v5(t.value))return{unaryFilter:{field:mh(t.field),op:"IS_NOT_NAN"}};if(y5(t.value))return{unaryFilter:{field:mh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(t.field),op:Zpe(t.op),value:t.value}}}(n):n instanceof Co?function(t){let i=t.getFilters().map(r=>b6(r));return i.length===1?i[0]:{compositeFilter:{op:Xpe(t.op),filters:i}}}(n):at()}function Jpe(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function w6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vm=class n{constructor(e,t,i,r,s=Tt.min(),o=Tt.min(),a=sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var FS=class{constructor(e){this.ct=e}};function efe(n){let e=Kpe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wS(e,e.limit,"L"):e}var kv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Un(e.integerValue));else if("doubleValue"in e){let i=Un(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),mm(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ya(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Nl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?K5(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):at()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}St(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),et.fromName(e).path.forEach(i=>{this.dt(t,60),this.bt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};kv.Dt=new kv;var LS=class{constructor(){this.an=new NS}addToCollectionParentIndex(e,t){return this.an.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(au.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(au.min())}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}},NS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rr(Hn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rr(Hn.comparator)).toArray()}};var XLe=new Uint8Array(0);var go=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);var bm=class n{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new n(0)}static Bn(){return new n(-1)}};var VS=class{constructor(){this.changes=new Vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ns.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var zS=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&fm(i.mutation,r,_o.empty(),Hi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ht()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ht()){let r=nu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=um();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=nu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ht()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=va(),o=pm(),a=function(){return pm()}();return t.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ba)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fm(u.mutation,c,u.mutation.getFieldMask(),Hi.now())):o.set(c.key,_o.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new BS(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=pm(),r=new jn((o,a)=>o-a),s=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=i.get(l)||_o.empty();u=a.applyToLocalView(c,u),i.set(l,u);let h=(r.get(a.batchId)||Ht()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=s6();u.forEach(p=>{if(!s.has(p)){let m=h6(t.get(p),i.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return be.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bpe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):be.resolve(nu()),a=-1,l=s;return o.next(c=>be.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?be.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ht())).next(u=>({batchId:a,changes:r6(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=um();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=um();return this.indexManager.getCollectionParents(e,s).next(a=>be.forEach(a,l=>{let c=function(h,p){return new Sh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ns.newInvalidDocument(u)))});let a=um();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&fm(u.mutation,c,_o.empty(),Hi.now()),Xv(t,c)&&(a=a.insert(l,c))}),a})}};var US=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return be.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:bo(r.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(r){return{name:r.name,query:efe(r.bundledQuery),readTime:bo(r.readTime)}}(t)),be.resolve()}};var HS=class{constructor(){this.overlays=new jn(et.comparator),this.Pr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){let i=nu();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){let r=nu(),s=t.length+1,o=new et(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new jn((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=nu(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=nu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return be.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new xS(t,i));let s=this.Pr.get(t);s===void 0&&(s=Ht(),this.Pr.set(t,s)),this.Pr.set(t,s.add(i.key))}};var jS=class{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}};var wm=class{constructor(){this.Ir=new rr(ui.Tr),this.Er=new rr(ui.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){let i=new ui(e,t);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Rr(new ui(e,t))}Vr(e,t){e.forEach(i=>this.removeReference(i,t))}mr(e){let t=new et(new Hn([])),i=new ui(t,e),r=new ui(t,e+1),s=[];return this.Er.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let t=new et(new Hn([])),i=new ui(t,e),r=new ui(t,e+1),s=Ht();return this.Er.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new ui(e,0),i=this.Ir.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},ui=class{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return et.comparator(e.key,t.key)||on(e.yr,t.yr)}static dr(e,t){return on(e.yr,t.yr)||et.comparator(e.key,t.key)}};var $S=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new rr(ui.Tr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ES(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.Sr=this.Sr.add(new ui(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Dr(i),s=r<0?0:r;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new ui(t,0),r=new ui(t,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{let a=this.br(o.yr);s.push(a)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rr(on);return t.forEach(r=>{let s=new ui(r,0),o=new ui(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),be.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;et.isDocumentKey(s)||(s=s.child(""));let o=new ui(new et(s),0),a=new rr(on);return this.Sr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},o),be.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.br(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){vn(this.vr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return be.forEach(t.mutations,r=>{let s=new ui(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,t){let i=new ui(t,0),r=this.Sr.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var GS=class{constructor(e){this.Fr=e,this.docs=function(){return new jn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():Ns.newInvalidDocument(t))}getEntries(e,t){let i=va();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ns.newInvalidDocument(r))}),be.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=va(),o=t.path,a=new et(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lpe(ape(u),i)<=0||(r.has(u.key)||Xv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,i,r){at()}Mr(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WS(this)}getSize(e){return be.resolve(this.size)}},WS=class extends VS{constructor(e){super(),this.ur=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}};var qS=class{constructor(e){this.persistence=e,this.Or=new Vl(t=>FD(t),LD),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new wm,this.targetCount=0,this.Br=bm.Ln()}forEachTarget(e,t){return this.Or.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Nr&&(this.Nr=t),be.resolve()}Qn(e){this.Or.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new bm(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Qn(t),be.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){let i=this.Or.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.Lr.Ar(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.Lr.Vr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),be.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Lr.pr(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.Lr.containsKey(t))}};var KS=class{constructor(e,t){this.kr={},this.overlays={},this.qr=new W5(0),this.Qr=!1,this.Qr=!0,this.Kr=new jS,this.referenceDelegate=e(this),this.$r=new qS(this),this.indexManager=new LS,this.remoteDocumentCache=function(r){return new GS(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new FS(t),this.Wr=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.kr[e.toKey()];return i||(i=new $S(t,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);let r=new YS(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(s=>this.referenceDelegate.zr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}jr(e,t){return be.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,t)))}},YS=class extends aS{constructor(e){super(),this.currentSequenceNumber=e}},QS=class n{constructor(e){this.persistence=e,this.Hr=new wm,this.Jr=null}static Yr(e){return new n(e)}get Zr(){if(this.Jr)return this.Jr;throw at()}addReference(e,t,i){return this.Hr.addReference(i,t),this.Zr.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Hr.removeReference(i,t),this.Zr.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),be.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach(r=>this.Zr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Zr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Gr(){this.Jr=new Set}zr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Zr,i=>{let r=et.fromPath(i);return this.Xr(e,r).next(s=>{s||t.removeEntry(r,Tt.min())})}).next(()=>(this.Jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Xr(e,t).next(i=>{i?this.Zr.delete(t.toString()):this.Zr.add(t.toString())})}Ur(e){return 0}Xr(e,t){return be.or([()=>be.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}};var ZS=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ki=i,this.$i=r}static Ui(e,t){let i=Ht(),r=Ht();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var XS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var JS=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return s4()?8:upe(_i())>0?6:4}()}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new XS;return this.Zi(e,t,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,t,o,a.size)})}).next(()=>s.result)}Xi(e,t,i,r){return i.documentReadCount<this.zi?(cm()<=Ut.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",fh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),be.resolve()):(cm()<=Ut.DEBUG&&ze("QueryEngine","Query:",fh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(cm()<=Ut.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",fh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(t))):be.resolve())}Ji(e,t){if(I5(t))return be.resolve(null);let i=vo(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=wS(t,null,"F"),i=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ht(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.es(t,a);return this.ts(t,c,o,l.readTime)?this.Ji(e,wS(t,null,"F")):this.ns(e,c,t,l)}))})))}Yi(e,t,i,r){return I5(t)||r.isEqual(Tt.min())?be.resolve(null):this.Hi.getDocuments(e,i).next(s=>{let o=this.es(t,s);return this.ts(t,o,i,r)?be.resolve(null):(cm()<=Ut.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fh(t)),this.ns(e,o,t,ope(r,-1)).next(a=>a))})}es(e,t){let i=new rr(n6(e));return t.forEach((r,s)=>{Xv(e,s)&&(i=i.add(s))}),i}ts(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zi(e,t,i){return cm()<=Ut.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",fh(t)),this.Hi.getDocumentsMatchingQuery(e,t,au.min(),i)}ns(e,t,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var eD=class{constructor(e,t,i,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new jn(on),this.os=new Vl(s=>FD(s),LD),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ss))}};function tfe(n,e,t,i){return new eD(n,e,t,i)}function C6(n,e){return G(this,null,function*(){let t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.cs(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Ht();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})})}function nfe(n,e){let t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,p=h.keys(),m=be.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(w=>{let C=c.docVersions.get(v);vn(C!==null),w.version.compareTo(C)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function I6(n){let e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.$r.getLastRemoteSnapshotVersion(t))}function ife(n,e){let t=vt(n),i=e.snapshotVersion,r=t.ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.us.newChangeBuffer({trackRemovals:!0});r=t.ss;let a=[];e.targetChanges.forEach((u,h)=>{let p=r.get(h);if(!p)return;a.push(t.$r.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.$r.addMatchingKeys(s,u.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(sr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),r=r.insert(h,m),function(w,C,S){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,m,u)&&a.push(t.$r.updateTargetData(s,m))});let l=va(),c=Ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(rfe(s,o,e.documentUpdates).next(u=>{l=u.hs,c=u.Ps})),!i.isEqual(Tt.min())){let u=t.$r.getLastRemoteSnapshotVersion(s).next(h=>t.$r.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return be.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ss=r,s))}function rfe(n,e,t){let i=Ht(),r=Ht();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=va();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:o,Ps:r}})}function sfe(n,e){let t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ofe(n,e){let t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.$r.getTargetData(i,e).next(s=>s?(r=s,be.resolve(r)):t.$r.allocateTargetId(i).next(o=>(r=new vm(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ss=t.ss.insert(i.targetId,i),t.os.set(e,i.targetId)),i})}function tD(n,e,t){return G(this,null,function*(){let i=vt(n),r=i.ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!xm(o))throw o;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ss=i.ss.remove(e),i.os.delete(r.target)})}function P5(n,e,t){let i=vt(n),r=Tt.min(),s=Ht();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let h=vt(l),p=h.os.get(u);return p!==void 0?be.resolve(h.ss.get(p)):h.$r.getTargetData(c,u)}(i,o,vo(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.rs.getDocumentsMatchingQuery(o,e,t?r:Tt.min(),t?s:Ht())).next(a=>(afe(i,Cpe(e),a),{documents:a,Is:s})))}function afe(n,e,t){let i=n._s.get(e)||Tt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n._s.set(e,i)}var Ov=class{constructor(){this.activeTargetIds=Dpe()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var nD=class{constructor(){this.io=new Ov,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,i){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Ov,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iD=class{oo(e){}shutdown(){}};var Pv=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gv=null;function Qx(){return gv===null?gv=function(){return 268435456+Math.round(2147483648*Math.random())}():gv++,"0x"+gv.toString(16)}var lfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var rD=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var ir="WebChannelConnection",sD=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+t.host,this.Do=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get vo(){return!1}Fo(t,i,r,s,o){let a=Qx(),l=this.Mo(t,i.toUriEncodedString());ze("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(t,l,c,r).then(u=>(ze("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw wh("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}No(t,i,r,s,o,a){return this.Fo(t,i,r,s,o)}xo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}Mo(t,i){let r=lfe[t];return`${this.bo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,i,r){let s=Qx();return new Promise((o,a)=>{let l=new jx;l.setWithCredentials(!0),l.listenOnce(Gx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lm.NO_ERROR:let u=l.getResponseJson();ze(ir,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case lm.TIMEOUT:ze(ir,`RPC '${e}' ${s} timed out`),a(new $e(pe.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:let h=l.getStatus();if(ze(ir,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let m=p?.error;if(m&&m.status&&m.message){let v=function(C){let S=C.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(S)>=0?S:pe.UNKNOWN}(m.status);a(new $e(v,m.message))}else a(new $e(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $e(pe.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{ze(ir,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);ze(ir,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Lo(e,t,i){let r=Qx(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kx(),a=qx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new $x({})),this.xo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let u=s.join("");ze(ir,`Creating RPC '${e}' stream ${r}: ${u}`,l);let h=o.createWebChannel(u,l),p=!1,m=!1,v=new rD({Po:C=>{m?ze(ir,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(p||(ze(ir,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),ze(ir,`RPC '${e}' stream ${r} sending:`,C),h.send(C))},Io:()=>h.close()}),w=(C,S,R)=>{C.listen(S,V=>{try{R(V)}catch(z){setTimeout(()=>{throw z},0)}})};return w(h,ph.EventType.OPEN,()=>{m||(ze(ir,`RPC '${e}' stream ${r} transport opened.`),v.po())}),w(h,ph.EventType.CLOSE,()=>{m||(m=!0,ze(ir,`RPC '${e}' stream ${r} transport closed`),v.wo())}),w(h,ph.EventType.ERROR,C=>{m||(m=!0,wh(ir,`RPC '${e}' stream ${r} transport errored:`,C),v.wo(new $e(pe.UNAVAILABLE,"The operation could not be completed")))}),w(h,ph.EventType.MESSAGE,C=>{var S;if(!m){let R=C.data[0];vn(!!R);let V=R,z=V.error||((S=V[0])===null||S===void 0?void 0:S.error);if(z){ze(ir,`RPC '${e}' stream ${r} received error:`,z);let q=z.status,Y=function(D){let B=ci[D];if(B!==void 0)return f6(B)}(q),A=z.message;Y===void 0&&(Y=pe.INTERNAL,A="Unknown error status: "+q+" with message "+z.message),m=!0,v.wo(new $e(Y,A)),h.close()}else ze(ir,`RPC '${e}' stream ${r} received:`,R),v.So(R)}}),w(a,Wx.STAT_EVENT,C=>{C.stat===fv.PROXY?ze(ir,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===fv.NOPROXY&&ze(ir,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.yo()},0),v}};function Zx(){return typeof document<"u"?document:null}function Jv(n){return new AS(n,!0)}var Fv=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ai=e,this.timerId=t,this.Bo=i,this.ko=r,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let t=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var Lv=class{constructor(e,t,i,r,s,o,a,l){this.ai=e,this.jo=i,this.Ho=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Fv(e,t)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return G(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return G(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,t){return G(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(_a(t.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(t)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===t&&this.h_(i,r)},i=>{e(()=>{let r=new $e(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,t){let i=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(()=>G(this,null,function*(){this.state=0,this.start()}))}P_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget(()=>this.Jo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},oD=class extends Lv{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let t=jpe(this.serializer,e),i=function(s){if(!("targetChange"in s))return Tt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?bo(o.readTime):Tt.min()}(e);return this.listener.E_(t,i)}d_(e){let t={};t.database=PS(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=bS(l)?{documents:Wpe(s,l)}:{query:qpe(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=m6(s,o.resumeToken);let c=RS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Rv(s,o.snapshotVersion.toTimestamp());let c=RS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Ype(this.serializer,e);i&&(t.labels=i),this.__(t)}A_(e){let t={};t.database=PS(this.serializer),t.removeTarget=e,this.__(t)}},aD=class extends Lv{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return vn(!!e.streamToken),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let t=Gpe(e.writeResults,e.commitTime),i=bo(e.commitTime);return this.listener.f_(i,t)}g_(){let e={};e.database=PS(this.serializer),this.__(e)}V_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>$pe(this.serializer,i))};this.__(t)}};var lD=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,kS(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(pe.UNKNOWN,s.toString())})}No(e,t,i,r,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,kS(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(pe.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},cD=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(_a(t),this.b_=!1):ze("OnlineStateTracker",t)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var uD=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{i.enqueueAndForget(()=>G(this,null,function*(){hu(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield function(l){return G(this,null,function*(){let c=vt(l);c.N_.add(4),yield Sm(c),c.k_.set("Unknown"),c.N_.delete(4),yield e1(c)})}(this))}))}),this.k_=new cD(i,r)}};function e1(n){return G(this,null,function*(){if(hu(n))for(let e of n.L_)yield e(!0)})}function Sm(n){return G(this,null,function*(){for(let e of n.L_)yield e(!1)})}function E6(n,e){let t=vt(n);t.O_.has(e.targetId)||(t.O_.set(e.targetId,e),HD(t)?UD(t):Nh(t).n_()&&zD(t,e))}function BD(n,e){let t=vt(n),i=Nh(t);t.O_.delete(e),i.n_()&&T6(t,e),t.O_.size===0&&(i.n_()?i.s_():hu(t)&&t.k_.set("Unknown"))}function zD(n,e){if(n.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nh(n).d_(e)}function T6(n,e){n.q_.xe(e),Nh(n).A_(e)}function UD(n){n.q_=new MS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.O_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Nh(n).start(),n.k_.D_()}function HD(n){return hu(n)&&!Nh(n).t_()&&n.O_.size>0}function hu(n){return vt(n).N_.size===0}function x6(n){n.q_=void 0}function cfe(n){return G(this,null,function*(){n.k_.set("Online")})}function ufe(n){return G(this,null,function*(){n.O_.forEach((e,t)=>{zD(n,e)})})}function dfe(n,e){return G(this,null,function*(){x6(n),HD(n)?(n.k_.F_(e),UD(n)):n.k_.set("Unknown")})}function hfe(n,e,t){return G(this,null,function*(){if(n.k_.set("Online"),e instanceof Mv&&e.state===2&&e.cause)try{yield function(r,s){return G(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.O_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.O_.delete(a),r.q_.removeTarget(a))})}(n,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Nv(n,i)}else if(e instanceof yh?n.q_.Ke(e):e instanceof Dv?n.q_.He(e):n.q_.We(e),!t.isEqual(Tt.min()))try{let i=yield I6(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.O_.get(c);u&&s.O_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.O_.get(l);if(!u)return;s.O_.set(l,u.withResumeToken(sr.EMPTY_BYTE_STRING,u.snapshotVersion)),T6(s,l);let h=new vm(u.target,l,c,u.sequenceNumber);zD(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield Nv(n,i)}})}function Nv(n,e,t){return G(this,null,function*(){if(!xm(e))throw e;n.N_.add(1),yield Sm(n),n.k_.set("Offline"),t||(t=()=>I6(n.localStore)),n.asyncQueue.enqueueRetryable(()=>G(this,null,function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.N_.delete(1),yield e1(n)}))})}function S6(n,e){return e().catch(t=>Nv(n,t,e))}function t1(n){return G(this,null,function*(){let e=vt(n),t=Bl(e),i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;pfe(e);)try{let r=yield sfe(e.localStore,i);if(r===null){e.x_.length===0&&t.s_();break}i=r.batchId,ffe(e,r)}catch(r){yield Nv(e,r)}D6(e)&&M6(e)})}function pfe(n){return hu(n)&&n.x_.length<10}function ffe(n,e){n.x_.push(e);let t=Bl(n);t.n_()&&t.R_&&t.V_(e.mutations)}function D6(n){return hu(n)&&!Bl(n).t_()&&n.x_.length>0}function M6(n){Bl(n).start()}function mfe(n){return G(this,null,function*(){Bl(n).g_()})}function gfe(n){return G(this,null,function*(){let e=Bl(n);for(let t of n.x_)e.V_(t.mutations)})}function _fe(n,e,t){return G(this,null,function*(){let i=n.x_.shift(),r=TS.from(i,e,t);yield S6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield t1(n)})}function yfe(n,e){return G(this,null,function*(){e&&Bl(n).R_&&(yield function(i,r){return G(this,null,function*(){if(function(o){return Fpe(o)&&o!==pe.ABORTED}(r.code)){let s=i.x_.shift();Bl(i).i_(),yield S6(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield t1(i)}})}(n,e)),D6(n)&&M6(n)})}function F5(n,e){return G(this,null,function*(){let t=vt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");let i=hu(t);t.N_.add(3),yield Sm(t),i&&t.k_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.N_.delete(3),yield e1(t)})}function vfe(n,e){return G(this,null,function*(){let t=vt(n);e?(t.N_.delete(2),yield e1(t)):e||(t.N_.add(2),yield Sm(t),t.k_.set("Unknown"))})}function Nh(n){return n.Q_||(n.Q_=function(t,i,r){let s=vt(t);return s.y_(),new oD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:cfe.bind(null,n),Ao:ufe.bind(null,n),Vo:dfe.bind(null,n),E_:hfe.bind(null,n)}),n.L_.push(e=>G(this,null,function*(){e?(n.Q_.i_(),HD(n)?UD(n):n.k_.set("Unknown")):(yield n.Q_.stop(),x6(n))}))),n.Q_}function Bl(n){return n.K_||(n.K_=function(t,i,r){let s=vt(t);return s.y_(),new aD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:mfe.bind(null,n),Vo:yfe.bind(null,n),m_:gfe.bind(null,n),f_:_fe.bind(null,n)}),n.L_.push(e=>G(this,null,function*(){e?(n.K_.i_(),yield t1(n)):(yield n.K_.stop(),n.x_.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))}))),n.K_}var dD=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jD(n,e){if(_a("AsyncQueue",`${e}: ${n}`),xm(n))return new $e(pe.UNAVAILABLE,`${e}: ${n}`);throw n}var Vv=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=um(),this.sortedSet=new jn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Bv=class{constructor(){this.U_=new jn(et.comparator)}track(e){let t=e.doc.key,i=this.U_.get(t);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(t,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(t):e.type===1&&i.type===2?this.U_=this.U_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):at():this.U_=this.U_.insert(t,e)}W_(){let e=[];return this.U_.inorderTraversal((t,i)=>{e.push(i)}),e}},kh=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Vv.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var hD=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},pD=class{constructor(){this.queries=L5(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(t,i){let r=vt(t),s=r.queries;r.queries=L5(),s.forEach((o,a)=>{for(let l of a.z_)l.onError(i)})})(this,new $e(pe.ABORTED,"Firestore shutting down"))}};function L5(){return new Vl(n=>t6(n),Zv)}function bfe(n,e){return G(this,null,function*(){let t=vt(n),i=3,r=e.query,s=t.queries.get(r);s?!s.j_()&&e.H_()&&(i=2):(s=new hD,i=e.H_()?0:1);try{switch(i){case 0:s.G_=yield t.onListen(r,!0);break;case 1:s.G_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=jD(o,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.z_.push(e),e.Y_(t.onlineState),s.G_&&e.Z_(s.G_)&&$D(t)})}function wfe(n,e){return G(this,null,function*(){let t=vt(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?r=e.H_()?0:1:!s.j_()&&e.H_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function Cfe(n,e){let t=vt(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.z_)a.Z_(r)&&(i=!0);o.G_=r}}i&&$D(t)}function Ife(n,e,t){let i=vt(n),r=i.queries.get(e);if(r)for(let s of r.z_)s.onError(t);i.queries.delete(e)}function $D(n){n.J_.forEach(e=>{e.next()})}var fD,N5;(N5=fD||(fD={})).X_="default",N5.Cache="cache";var mD=class{constructor(e,t,i){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new kh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache||!this.H_())return!0;let i=t!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}sa(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==fD.Cache}};var zv=class{constructor(e){this.key=e}},Uv=class{constructor(e){this.key=e}},gD=class{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Ht(),this.mutatedKeys=Ht(),this.da=n6(e),this.Aa=new Vv(this.da)}get Ra(){return this.Ia}Va(e,t){let i=t?t.ma:new Bv,r=t?t.Aa:this.Aa,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let p=r.get(u),m=Xv(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),C=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),C=!0):this.fa(p,m)||(i.track({type:2,doc:m}),C=!0,(l&&this.da(m,l)>0||c&&this.da(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),C=!0):p&&!m&&(i.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(m?(o=o.add(m),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Aa:o,ma:i,ts:a,mutatedKeys:s}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let o=e.ma.W_();o.sort((u,h)=>function(m,v){let w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return w(m)-w(v)}(u.type,h.type)||this.da(u.doc,h.doc)),this.ga(i),r=r!=null&&r;let a=t&&!r?this.pa():[],l=this.Ea.size===0&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,o.length!==0||c?{snapshot:new kh(this.query,e.Aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Bv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(t=>this.Ia=this.Ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ia=this.Ia.delete(t)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=Ht(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});let t=[];return e.forEach(i=>{this.Ea.has(i)||t.push(new Uv(i))}),this.Ea.forEach(i=>{e.has(i)||t.push(new zv(i))}),t}Sa(e){this.Ia=e.Is,this.Ea=Ht();let t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return kh.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},_D=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},yD=class{constructor(e){this.key=e,this.Da=!1}},vD=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Vl(a=>t6(a),Zv),this.Fa=new Map,this.Ma=new Set,this.xa=new jn(et.comparator),this.Oa=new Map,this.Na=new wm,this.La={},this.Ba=new Map,this.ka=bm.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function Efe(n,e,t=!0){return G(this,null,function*(){let i=F6(n),r,s=i.va.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ba()):r=yield A6(i,e,t,!0),r})}function Tfe(n,e){return G(this,null,function*(){let t=F6(n);yield A6(t,e,!0,!1)})}function A6(n,e,t,i){return G(this,null,function*(){let r=yield ofe(n.localStore,vo(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield xfe(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&E6(n.remoteStore,r),a})}function xfe(n,e,t,i,r){return G(this,null,function*(){n.Qa=(h,p,m)=>function(w,C,S,R){return G(this,null,function*(){let V=C.view.Va(S);V.ts&&(V=yield P5(w.localStore,C.query,!1).then(({documents:A})=>C.view.Va(A,V)));let z=R&&R.targetChanges.get(C.targetId),q=R&&R.targetMismatches.get(C.targetId)!=null,Y=C.view.applyChanges(V,w.isPrimaryClient,z,q);return B5(w,C.targetId,Y.ya),Y.snapshot})}(n,h,p,m);let s=yield P5(n.localStore,e,!0),o=new gD(e,s.Is),a=o.Va(s.documents),l=ym.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);B5(n,t,c.ya);let u=new _D(e,t,o);return n.va.set(e,u),n.Fa.has(t)?n.Fa.get(t).push(e):n.Fa.set(t,[e]),c.snapshot})}function Sfe(n,e,t){return G(this,null,function*(){let i=vt(n),r=i.va.get(e),s=i.Fa.get(r.targetId);if(s.length>1)return i.Fa.set(r.targetId,s.filter(o=>!Zv(o,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tD(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&BD(i.remoteStore,r.targetId),bD(i,r.targetId)}).catch(Tm))):(bD(i,r.targetId),yield tD(i.localStore,r.targetId,!0))})}function Dfe(n,e){return G(this,null,function*(){let t=vt(n),i=t.va.get(e),r=t.Fa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),BD(t.remoteStore,i.targetId))})}function Mfe(n,e,t){return G(this,null,function*(){let i=Lfe(n);try{let r=yield function(o,a){let l=vt(o),c=Hi.now(),u=a.reduce((m,v)=>m.add(v.key),Ht()),h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=va(),w=Ht();return l.us.getEntries(m,u).next(C=>{v=C,v.forEach((S,R)=>{R.isValidDocument()||(w=w.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(C=>{h=C;let S=[];for(let R of a){let V=Ppe(R,h.get(R.key).overlayedDocument);V!=null&&S.push(new ba(R.key,V,Y5(V.value.mapValue),su.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(C=>{p=C;let S=C.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,C.batchId,S)})}).then(()=>({batchId:p.batchId,changes:r6(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.La[o.currentUser.toKey()];c||(c=new jn(on)),c=c.insert(a,l),o.La[o.currentUser.toKey()]=c}(i,r.batchId,t),yield Dm(i,r.changes),yield t1(i.remoteStore)}catch(r){let s=jD(r,"Failed to persist write");t.reject(s)}})}function R6(n,e){return G(this,null,function*(){let t=vt(n);try{let i=yield ife(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Oa.get(s);o&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Da=!0:r.modifiedDocuments.size>0?vn(o.Da):r.removedDocuments.size>0&&(vn(o.Da),o.Da=!1))}),yield Dm(t,i,e)}catch(i){yield Tm(i)}})}function V5(n,e,t){let i=vt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.va.forEach((s,o)=>{let a=o.view.Y_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=vt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let p of h.z_)p.Y_(a)&&(c=!0)}),c&&$D(l)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Afe(n,e,t){return G(this,null,function*(){let i=vt(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Oa.get(e),s=r&&r.key;if(s){let o=new jn(et.comparator);o=o.insert(s,Ns.newNoDocument(s,Tt.min()));let a=Ht().add(s),l=new Sv(Tt.min(),new Map,new jn(on),o,a);yield R6(i,l),i.xa=i.xa.remove(s),i.Oa.delete(e),GD(i)}else yield tD(i.localStore,e,!1).then(()=>bD(i,e,t)).catch(Tm)})}function Rfe(n,e){return G(this,null,function*(){let t=vt(n),i=e.batch.batchId;try{let r=yield nfe(t.localStore,e);O6(t,i,null),k6(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Dm(t,r)}catch(r){yield Tm(r)}})}function kfe(n,e,t){return G(this,null,function*(){let i=vt(n);try{let r=yield function(o,a){let l=vt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(vn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);O6(i,e,t),k6(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Dm(i,r)}catch(r){yield Tm(r)}})}function k6(n,e){(n.Ba.get(e)||[]).forEach(t=>{t.resolve()}),n.Ba.delete(e)}function O6(n,e,t){let i=vt(n),r=i.La[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function bD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Fa.get(e))n.va.delete(i),t&&n.Ca.Ka(i,t);n.Fa.delete(e),n.isPrimaryClient&&n.Na.mr(e).forEach(i=>{n.Na.containsKey(i)||P6(n,i)})}function P6(n,e){n.Ma.delete(e.path.canonicalString());let t=n.xa.get(e);t!==null&&(BD(n.remoteStore,t),n.xa=n.xa.remove(e),n.Oa.delete(t),GD(n))}function B5(n,e,t){for(let i of t)i instanceof zv?(n.Na.addReference(i.key,e),Ofe(n,i)):i instanceof Uv?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,e),n.Na.containsKey(i.key)||P6(n,i.key)):at()}function Ofe(n,e){let t=e.key,i=t.path.canonicalString();n.xa.get(t)||n.Ma.has(i)||(ze("SyncEngine","New document in limbo: "+t),n.Ma.add(i),GD(n))}function GD(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){let e=n.Ma.values().next().value;n.Ma.delete(e);let t=new et(Hn.fromString(e)),i=n.ka.next();n.Oa.set(i,new yD(t)),n.xa=n.xa.insert(t,i),E6(n.remoteStore,new vm(vo(ND(t.path)),i,"TargetPurposeLimboResolution",W5.oe))}}function Dm(n,e,t){return G(this,null,function*(){let i=vt(n),r=[],s=[],o=[];i.va.isEmpty()||(i.va.forEach((a,l)=>{o.push(i.Qa(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=ZS.Ui(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.Ca.E_(r),yield function(l,c){return G(this,null,function*(){let u=vt(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>be.forEach(c,p=>be.forEach(p.Ki,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>be.forEach(p.$i,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!xm(h))throw h;ze("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let p=h.targetId;if(!h.fromCache){let m=u.ss.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);u.ss=u.ss.insert(p,w)}}})}(i.localStore,s))})}function Pfe(n,e){return G(this,null,function*(){let t=vt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());let i=yield C6(t.localStore,e);t.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new $e(pe.CANCELLED,o))})}),s.Ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Dm(t,i.ls)}})}function Ffe(n,e){let t=vt(n),i=t.Oa.get(e);if(i&&i.Da)return Ht().add(i.key);{let r=Ht(),s=t.Fa.get(e);if(!s)return r;for(let o of s){let a=t.va.get(o);r=r.unionWith(a.view.Ra)}return r}}function F6(n){let e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ffe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Afe.bind(null,e),e.Ca.E_=Cfe.bind(null,e.eventManager),e.Ca.Ka=Ife.bind(null,e.eventManager),e}function Lfe(n){let e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kfe.bind(null,e),e}var Hv=class{constructor(){this.synchronizeTabs=!1}initialize(e){return G(this,null,function*(){this.serializer=Jv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tfe(this.persistence,new JS,e.initialUser,this.serializer)}createPersistence(e){return new KS(QS.Yr,this.serializer)}createSharedClientState(e){return new nD}terminate(){return G(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var wD=class{initialize(e,t){return G(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pfe.bind(null,this.syncEngine),yield vfe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pD}()}createDatastore(e){let t=Jv(e.databaseInfo.databaseId),i=function(s){return new sD(s)}(e.databaseInfo);return function(s,o,a,l){return new lD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new uD(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>V5(this.syncEngine,t,0),function(){return Pv.D()?new Pv:new iD}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,u){let h=new vD(r,s,o,a,l,c);return u&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return G(this,null,function*(){var e,t;yield function(r){return G(this,null,function*(){let s=vt(r);ze("RemoteStore","RemoteStore shutting down."),s.N_.add(5),yield Sm(s),s.B_.shutdown(),s.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var CD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var ID=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Mi.UNAUTHENTICATED,this.clientId=bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>G(this,null,function*(){ze("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>G(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=jD(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Xx(n,e){return G(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>G(this,null,function*(){i.isEqual(r)||(yield C6(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function z5(n,e){return G(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Vfe(n);ze("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>F5(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>F5(e.remoteStore,r)),n._onlineComponents=e})}function Nfe(n){return n.name==="FirebaseError"?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function Vfe(n){return G(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xx(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Nfe(t))throw t;wh("Error using user provided cache. Falling back to memory cache: "+t),yield Xx(n,new Hv)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield Xx(n,new Hv);return n._offlineComponents})}function L6(n){return G(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield z5(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield z5(n,new wD))),n._onlineComponents})}function Bfe(n){return L6(n).then(e=>e.syncEngine)}function U5(n){return G(this,null,function*(){let e=yield L6(n),t=e.eventManager;return t.onListen=Efe.bind(null,e.syncEngine),t.onUnlisten=Sfe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tfe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Dfe.bind(null,e.syncEngine),t})}function N6(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var H5=new Map;function V6(n,e,t){if(!t)throw new $e(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zfe(n,e,t,i){if(e===!0&&i===!0)throw new $e(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function j5(n){if(!et.isDocumentKey(n))throw new $e(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $5(n){if(et.isDocumentKey(n))throw new $e(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at()}function vh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=WD(n);throw new $e(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jv=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zfe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N6((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oh=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $e(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Jx;switch(i.type){case"firstParty":return new iS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=H5.get(t);i&&(ze("ComponentProvider","Removing Datastore"),H5.delete(t),i.terminate())}(this),Promise.resolve()}};function B6(n,e,t,i={}){var r;let s=(n=vh(n,Oh))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Mi.MOCK_USER;else{a=e4(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new $e(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mi(c)}n._authCredentials=new eS(new vv(a,l))}}var $v=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qr=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ll=class n extends $v{constructor(e,t,i){super(e,t,ND(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new et(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function z6(n,e,...t){if(n=tr(n),V6("collection","path",e),n instanceof Oh){let i=Hn.fromString(e,...t);return $5(i),new Ll(n,null,i)}{if(!(n instanceof Qr||n instanceof Ll))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Hn.fromString(e,...t));return $5(i),new Ll(n.firestore,null,i)}}function U6(n,e,...t){if(n=tr(n),arguments.length===1&&(e=bv.newId()),V6("doc","path",e),n instanceof Oh){let i=Hn.fromString(e,...t);return j5(i),new Qr(n,null,new et(i))}{if(!(n instanceof Qr||n instanceof Ll))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Hn.fromString(e,...t));return j5(i),new Qr(n.firestore,n instanceof Ll?n.converter:null,new et(i))}}var ED=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Fv(this,"async_queue_retry"),this.Tu=()=>{let t=Zx();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.e_.zo()};let e=Zx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let t=Zx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let t=new ga;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return G(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!xm(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let t=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw _a("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=t,t}enqueueAfterDelay(e,t,i){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);let r=dD.createAndSchedule(this,e,t,i,s=>this.Ru(s));return this.cu.push(r),r}Eu(){this.lu&&at()}verifyOperationInProgress(){}Vu(){return G(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.cu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let t=this.cu.indexOf(e);this.cu.splice(t,1)}};function G5(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Ph=class extends Oh{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new ED}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$6(this),this._firestoreClient.terminate()}};function H6(n,e){let t=typeof n=="object"?n:nh(),i=typeof n=="string"?n:e||"(default)",r=Kf(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=JN("firestore");s&&B6(r,...s)}return r}function j6(n){return n._firestoreClient||$6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $6(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,u){return new lS(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,N6(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new ID(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Cm=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(sr.fromBase64String(e))}catch(t){throw new $e(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Im=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gv=class{constructor(e){this._methodName=e}};var Em=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}};var Ufe=/^__.*__$/,TD=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}};function G6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}var xD=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Wv(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(G6(this.yu)&&Ufe.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},SD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jv(e)}Ou(e,t,i,r=!1){return new xD({yu:e,methodName:t,xu:i,path:Yr.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hfe(n){let e=n._freezeSettings(),t=Jv(n._databaseId);return new SD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jfe(n,e,t,i,r,s={}){let o=n.Ou(s.merge||s.mergeFields?2:0,e,t,r);Y6("Data must be an object, but it was:",o,i);let a=q6(i,o),l,c;if(s.merge)l=new _o(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let p=$fe(e,h,t);if(!o.contains(p))throw new $e(pe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Wfe(u,p)||u.push(p)}l=new _o(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new TD(new Ls(a),l,c)}function W6(n,e){if(K6(n=tr(n)))return Y6("Unsupported field value:",e,n),q6(n,e);if(n instanceof Gv)return function(i,r){if(!G6(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=W6(a,r.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=tr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Mpe(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Hi.fromDate(i);return{timestampValue:Rv(r.serializer,s)}}if(i instanceof Hi){let s=new Hi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rv(r.serializer,s)}}if(i instanceof Em)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cm)return{bytesValue:m6(r.serializer,i._byteString)};if(i instanceof Qr){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${WD(i)}`)}(n,e)}function q6(n,e){let t={};return q5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lh(n,(i,r)=>{let s=W6(r,e.Su(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function K6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Hi||n instanceof Em||n instanceof Cm||n instanceof Qr||n instanceof Gv)}function Y6(n,e,t){if(!K6(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=WD(t);throw i==="an object"?e.Fu(n+" a custom object"):e.Fu(n+" "+i)}}function $fe(n,e,t){if((e=tr(e))instanceof Im)return e._internalPath;if(typeof e=="string")return Q6(n,e);throw Wv("Field path arguments must be of type string or ",n,!1,void 0,t)}var Gfe=new RegExp("[~\\*/\\[\\]]");function Q6(n,e,t){if(e.search(Gfe)>=0)throw Wv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Im(...e.split("."))._internalPath}catch{throw Wv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wv(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new $e(pe.INVALID_ARGUMENT,a+n+l)}function Wfe(n,e){return n.some(t=>t.isEqual(e))}var qv=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Z6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},DD=class extends qv{data(){return super.data()}};function Z6(n,e){return typeof e=="string"?Q6(n,e):e instanceof Im?e._internalPath:e._delegate._internalPath}function qfe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $e(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var MD=class{convertValue(e,t="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Lh(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Em(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=OD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gm(e));default:return null}}convertTimestamp(e){let t=ya(e);return new Hi(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Hn.fromString(e);vn(w6(i));let r=new Ev(i.get(1),i.get(3)),s=new et(i.popFirst(5));return r.isEqual(t)||_a(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Kfe(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ru=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kv=class extends qv{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Z6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},bh=class extends Kv{data(e={}){return super.data(e)}},AD=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ru(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new bh(this._firestore,this._userDataWriter,i.key,i,new ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new bh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new bh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Yfe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Yfe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}var Yv=class extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cm(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}};function X6(n,e,t){n=vh(n,Qr);let i=vh(n.firestore,Ph),r=Kfe(n.converter,e,t);return Qfe(i,[jfe(Hfe(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,su.none())])}function qD(n,...e){var t,i,r;n=tr(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||G5(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(G5(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(n instanceof Qr)c=vh(n.firestore,Ph),u=ND(n._key.path),l={next:h=>{e[o]&&e[o](Zfe(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=vh(n,$v);c=vh(h.firestore,Ph),u=h._query;let p=new Yv(c);l={next:m=>{e[o]&&e[o](new AD(c,p,h,m))},error:e[o+1],complete:e[o+2]},qfe(n._query)}return function(p,m,v,w){let C=new CD(w),S=new mD(m,C,v);return p.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return bfe(yield U5(p),S)})),()=>{C.Ga(),p.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return wfe(yield U5(p),S)}))}}(j6(c),u,a,l)}function Qfe(n,e){return function(i,r){let s=new ga;return i.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return Mfe(yield Bfe(i),r,s)})),s.promise}(j6(n),e)}function Zfe(n,e,t){let i=t.docs.get(e._key),r=new Yv(n);return new Kv(n,r,e._key,i,new ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Fh=r})(Ml),Dl(new ps("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Ph(new tS(i.getProvider("auth-internal")),new sS(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $e(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ev(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yi(m5,"4.6.5",e),yi(m5,"4.6.5","esm2017")})();var n1=function(){return n1=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},n1.apply(this,arguments)};var eme={includeMetadataChanges:!1};function J6(n,e){return e===void 0&&(e=eme),new Et(function(t){var i=qD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function e9(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:n1(n1({},i),(t={},t[e.idField]=n.id,t))}function t9(n){return J6(n,{includeMetadataChanges:!0}).pipe(ft(function(e){return e.docs}))}function n9(n,e){return e===void 0&&(e={}),t9(n).pipe(ft(function(t){return t.map(function(i){return e9(i,e)})}))}var wa=class{constructor(e){return e}},i9="firestore",KD=class{constructor(){return Yf(i9)}};var YD=new Be("angularfire2.firestore-instances");function tme(n,e){let t=Uy(i9,n,e);return t&&new wa(t)}function nme(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new wa(i)}}var ime={provide:KD,deps:[[new Vi,YD]]},rme={provide:wa,useFactory:tme,deps:[[new Vi,YD],da]},sme=(()=>{class n{constructor(){yi("angularfire",qc.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({providers:[rme,ime]})}return n})();function r9(n,...e){return{ngModule:sme,providers:[{provide:YD,useFactory:nme(n),multi:!0,deps:[Qe,ri,sh,Kc,[new Vi,sm],[new Vi,rh],...e]}]}}var i1=Kr(n9,!0);var r1=Kr(z6,!0);var s1=Kr(U6,!0);var s9=Kr(H6,!0);var o1=Kr(X6,!0);var a1=(()=>{let e=class e{constructor(i){this.firestore=i,this.disservizi=r1(this.firestore,"disservizi")}getDisservizi(){return i1(this.disservizi,{idField:"id"})}updateDisservizio(i,r){let s=s1(this.disservizi,i),o=o1(s,r);return Gt(o)}};e.\u0275fac=function(r){return new(r||e)(Ne(wa))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var QD=()=>({width:"25rem"}),ome=()=>({width:"100%"}),ame=()=>({"max-height":"250px"}),lme=()=>({"max-height":"220px"});function cme(n,e){n&1&&$(0,"span",17)}function ume(n,e){n&1&&$(0,"span",18)}function dme(n,e){if(n&1){let t=le();I(0,"div",14),Q("click",function(){let r=F(t).index,s=_(2);return L(s.onClickOpenEditDisservizioModal(r))}),T(1,cme,1,0,"span",15)(2,ume,1,0,"span",16),I(3,"div"),ie(4),E()()}if(n&2){let t=e.$implicit;g(),f("ngIf",t.attivo),g(),f("ngIf",!t.attivo),g(2),Ue(t.descrizione)}}function hme(n,e){if(n&1&&(I(0,"span",11),ie(1,"Disservizi gi\xE0 presenti:"),E(),I(2,"p-listbox",12),T(3,dme,5,3,"ng-template",13),E()),n&2){let t=_();g(2),ks(Jt(5,ome)),f("options",t.disservizi)("listStyle",Jt(6,ame))("listStyle",Jt(7,lme))}}function pme(n,e){n&1&&(I(0,"span",11),ie(1,"Nessun disservizio presente"),E())}var l9=(()=>{let e=class e{constructor(i){this.disserviziService=i,this.disserviziModalVisible=!1,this.newDisservizioModalVisible=!1,this.editDisservizioModalVisible=!1,this.disservizi=[],this.message=Zt(""),this.activeDisservizio=Zt(!0),this.indexDisservizioToEdit=Zt(0)}ngOnChanges(i){this.id=i.id.currentValue,this.disserviziService.getDisservizi().subscribe(r=>{this.disservizi=r.find(s=>s.id===this.id).disservizi})}onClickOpenDisserviziModal(){this.disserviziModalVisible=!0}onClickOpenNewDisservizioModal(){this.newDisservizioModalVisible=!0}onClickOpenEditDisservizioModal(i){this.editDisservizioModalVisible=!0,this.indexDisservizioToEdit.set(i),this.message.set(this.disservizi[i].descrizione),this.activeDisservizio.set(this.disservizi[i].attivo)}hidingNewDisservizioModal(){this.message.set(""),this.activeDisservizio.set(!0)}hidingEditDisservizioModal(){this.indexDisservizioToEdit.set(0),this.message.set(""),this.activeDisservizio.set(!0)}reportDisservizio(){let i={descrizione:this.message(),attivo:this.activeDisservizio()},r=[...this.disservizi,i],s={id:this.id,disservizi:r};this.disserviziService.updateDisservizio(this.id,s).subscribe({next:o=>{this.newDisservizioModalVisible=!1}})}editDisservizio(){let i=[...this.disservizi];i[this.indexDisservizioToEdit()].descrizione=this.message(),i[this.indexDisservizioToEdit()].attivo=this.activeDisservizio();let r={id:this.id,disservizi:i};this.disserviziService.updateDisservizio(this.id,r).subscribe({next:s=>{this.editDisservizioModalVisible=!1}})}};e.\u0275fac=function(r){return new(r||e)(j(a1))},e.\u0275cmp=X({type:e,selectors:[["app-disservizio"]],inputs:{id:"id"},standalone:!0,features:[cn,_e],decls:26,vars:22,consts:[["label","Disservizio","icon","pi pi-exclamation-triangle",3,"onClick"],["header","Disservizi",3,"visibleChange","modal","visible"],[1,"flex","align-items-center","gap-3","mb-3"],["label","Aggiungi","icon","pi pi-plus",3,"onClick"],["header","Segnala disservizio",3,"visibleChange","onHide","modal","visible"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"checkbox"],["inputId","binary",3,"ngModelChange","ngModel","binary"],["for","binary"],["header","Modifica disservizio",3,"visibleChange","onHide","modal","visible"],["label","Modifica","icon","pi pi-pencil",3,"onClick"],[1,"p-text-secondary","block","mb-5"],["optionLabel","name",3,"options","listStyle"],["pTemplate","item"],[1,"flex","align-items-center","gap-2",3,"click"],["class","pi pi-exclamation-circle","style","color: #DA552F",4,"ngIf"],["class","pi pi-exclamation-circle","style","color: var(--green)",4,"ngIf"],[1,"pi","pi-exclamation-circle",2,"color","#DA552F"],[1,"pi","pi-exclamation-circle",2,"color","var(--green)"]],template:function(r,s){r&1&&(I(0,"div")(1,"p-button",0),Q("onClick",function(){return s.onClickOpenDisserviziModal()}),E()(),I(2,"p-dialog",1),Ei("visibleChange",function(a){return Bi(s.disserviziModalVisible,a)||(s.disserviziModalVisible=a),a}),T(3,hme,4,8)(4,pme,2,0),$(5,"p-divider"),I(6,"div",2)(7,"p-button",3),Q("onClick",function(){return s.onClickOpenNewDisservizioModal()}),E()()(),I(8,"p-dialog",4),Ei("visibleChange",function(a){return Bi(s.newDisservizioModalVisible,a)||(s.newDisservizioModalVisible=a),a}),Q("onHide",function(){return s.hidingNewDisservizioModal()}),I(9,"textarea",5),Ei("ngModelChange",function(a){return Bi(s.message,a)||(s.message=a),a}),ie(10,"    "),E(),I(11,"div",6)(12,"p-checkbox",7),Ei("ngModelChange",function(a){return Bi(s.activeDisservizio,a)||(s.activeDisservizio=a),a}),E(),I(13,"label",8),ie(14,"In Corso"),E()(),I(15,"div")(16,"p-button",3),Q("onClick",function(){return s.reportDisservizio()}),E()()(),I(17,"p-dialog",9),Ei("visibleChange",function(a){return Bi(s.editDisservizioModalVisible,a)||(s.editDisservizioModalVisible=a),a}),Q("onHide",function(){return s.hidingEditDisservizioModal()}),I(18,"textarea",5),Ei("ngModelChange",function(a){return Bi(s.message,a)||(s.message=a),a}),ie(19,"    "),E(),I(20,"div",6)(21,"p-checkbox",7),Ei("ngModelChange",function(a){return Bi(s.activeDisservizio,a)||(s.activeDisservizio=a),a}),E(),I(22,"label",8),ie(23,"In Corso"),E()(),I(24,"div")(25,"p-button",10),Q("onClick",function(){return s.editDisservizio()}),E()()()),r&2&&(g(2),ks(Jt(19,QD)),f("modal",!0),Ii("visible",s.disserviziModalVisible),g(),mr(3,s.disservizi.length>0?3:4),g(5),ks(Jt(20,QD)),f("modal",!0),Ii("visible",s.newDisservizioModalVisible),g(),Ii("ngModel",s.message),g(3),Ii("ngModel",s.activeDisservizio),f("binary",!0),g(5),ks(Jt(21,QD)),f("modal",!0),Ii("visible",s.editDisservizioModalVisible),g(),Ii("ngModel",s.message),g(3),Ii("ngModel",s.activeDisservizio),f("binary",!0))},dependencies:[_r,Hc,qe,r5,i5,nt,o5,s5,l5,a5,ca,Kd,vl,Fs,c5,Bx,h5,Ux],styles:["[_nghost-%COMP%]     .p-button{background-color:#da552f;border-color:#da552f;font-weight:200;color:#fff}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px #da552f,0 1px 2px #000}div[_ngcontent-%COMP%]{width:fit-content;margin:10px auto}[_nghost-%COMP%]     .p-inputtext{width:100%}.checkbox[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:auto 10px}.checkbox[_ngcontent-%COMP%]{margin-bottom:20px}"]});let n=e;return n})();var l1=(()=>{let e=class e{constructor(i){this.firestore=i,this.percorsi=r1(this.firestore,"percorsi")}getPercorsi(){return i1(this.percorsi,{idField:"id"})}updatePercorso(i,r){let s=s1(this.percorsi,i),o=o1(s,r);return Gt(o)}};e.\u0275fac=function(r){return new(r||e)(Ne(wa))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var fme=()=>({"min-width":"50rem"});function mme(n,e){if(n&1&&(re(0),$(1,"app-disservizio",7),se()),n&2){let t=_();g(),f("id",t.selectedDay.option)}}function gme(n,e){n&1&&(I(0,"tr")(1,"th",8),ie(2,"ID"),E(),I(3,"th",8),ie(4,"Arrivo Previsto"),E(),I(5,"th",8),ie(6,"Arrivo Effettivo"),E(),I(7,"th",8),ie(8,"Partenza Prevista"),E(),I(9,"th",8),ie(10,"Partenza Effettiva"),E(),I(11,"th",8),ie(12,"Transito Previsto"),E(),I(13,"th",8),ie(14,"Transito Effettivo"),E(),$(15,"th"),E())}function _me(n,e){if(n&1){let t=le();I(0,"td",8),ie(1),zi(2,"date"),E(),I(3,"td",8)(4,"p-inputMask",10),Ei("ngModelChange",function(r){F(t);let s=_().$implicit;return Bi(s.orarioArrivoEffettivo,r)||(s.orarioArrivoEffettivo=r),L(r)}),E()()}if(n&2){let t=_().$implicit;g(),Ue(Ui(2,2,t.orarioArrivoPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioArrivoEffettivo)}}function yme(n,e){n&1&&(I(0,"td",8),ie(1,"--:--"),E(),I(2,"td",8),ie(3,"--:--"),E())}function vme(n,e){if(n&1){let t=le();I(0,"td",8),ie(1),zi(2,"date"),E(),I(3,"td",8)(4,"p-inputMask",10),Ei("ngModelChange",function(r){F(t);let s=_().$implicit;return Bi(s.orarioPartenzaEffettivo,r)||(s.orarioPartenzaEffettivo=r),L(r)}),E()()}if(n&2){let t=_().$implicit;g(),Ue(Ui(2,2,t.orarioPartenzaPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioPartenzaEffettivo)}}function bme(n,e){n&1&&(I(0,"td",8),ie(1,"--:--"),E(),I(2,"td",8),ie(3,"--:--"),E())}function wme(n,e){if(n&1){let t=le();I(0,"td",8),ie(1),zi(2,"date"),E(),I(3,"td",8)(4,"p-inputMask",10),Ei("ngModelChange",function(r){F(t);let s=_().$implicit;return Bi(s.orarioPassaggioEffettivo,r)||(s.orarioPassaggioEffettivo=r),L(r)}),E()()}if(n&2){let t=_().$implicit;g(),Ue(Ui(2,2,t.orarioPassaggioPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioPassaggioEffettivo)}}function Cme(n,e){n&1&&(I(0,"td",8),ie(1,"--:--"),E(),I(2,"td",8),ie(3,"--:--"),E())}function Ime(n,e){if(n&1){let t=le();I(0,"tr")(1,"td",8),ie(2),E(),T(3,_me,5,5)(4,yme,4,0)(5,vme,5,5)(6,bme,4,0)(7,wme,5,5)(8,Cme,4,0),I(9,"td",8)(10,"p-button",9),Q("click",function(){let r=F(t).rowIndex,s=_();return L(s.saveChanges(r))}),E()()()}if(n&2){let t=e.$implicit;g(2),Ue(t.id),g(),mr(3,t.orarioArrivoPrevisto?3:4),g(2),mr(5,t.orarioPartenzaPrevisto?5:6),g(2),mr(7,t.orarioPassaggioPrevisto?7:8)}}var u9=(()=>{let e=class e{constructor(i){this.firestoreService=i,this.tabItems=by,this.percorso={}}itemChanged(i){this.firestoreService.getPercorsi().subscribe({next:r=>{this.percorso=r.filter(s=>s.id===this.selectedDay.option)[0];for(let s=0;s<this.percorso.checkpoint.length;s++){if(this.percorso.checkpoint[s].orarioArrivoPrevisto){this.percorso.checkpoint[s].orarioArrivoPrevisto=this.percorso.checkpoint[s].orarioArrivoPrevisto.toDate(),this.percorso.checkpoint[s].orarioArrivoEffettivo=this.percorso.checkpoint[s].orarioArrivoEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioArrivoEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPartenzaPrevisto){this.percorso.checkpoint[s].orarioPartenzaPrevisto=this.percorso.checkpoint[s].orarioPartenzaPrevisto.toDate(),this.percorso.checkpoint[s].orarioPartenzaEffettivo=this.percorso.checkpoint[s].orarioPartenzaEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPartenzaEffettivo=o[0]+":"+o[1]}if(this.percorso.checkpoint[s].orarioPassaggioPrevisto){this.percorso.checkpoint[s].orarioPassaggioPrevisto=this.percorso.checkpoint[s].orarioPassaggioPrevisto.toDate(),this.percorso.checkpoint[s].orarioPassaggioEffettivo=this.percorso.checkpoint[s].orarioPassaggioEffettivo.toDate();let o=[this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[s].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[s].orarioPassaggioEffettivo=o[0]+":"+o[1]}}},error:r=>{console.error(r)}})}saveChanges(i){if(this.percorso.checkpoint[i].orarioArrivoPrevisto){let r=[this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[i].orarioArrivoPrevisto),this.percorso.checkpoint[i].orarioArrivoEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioArrivoEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPartenzaPrevisto){let r=[this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[i].orarioPartenzaPrevisto),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPassaggioPrevisto){let r=[this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[i].orarioPassaggioPrevisto),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setMinutes(r[1])}for(let r=0;r<this.percorso.checkpoint.length;r++)if(r!==i){if(this.percorso.checkpoint[r].orarioArrivoPrevisto){let s=[this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[r].orarioArrivoPrevisto),this.percorso.checkpoint[r].orarioArrivoEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioArrivoEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPartenzaPrevisto){let s=[this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[r].orarioPartenzaPrevisto),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setMinutes(s[1])}if(this.percorso.checkpoint[r].orarioPassaggioPrevisto){let s=[this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[r].orarioPassaggioPrevisto),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setHours(s[0]),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setMinutes(s[1])}this.firestoreService.updatePercorso(this.selectedDay.option,this.percorso)}}};e.\u0275fac=function(r){return new(r||e)(j(l1))},e.\u0275cmp=X({type:e,selectors:[["app-manage"]],standalone:!0,features:[_e],decls:7,vars:6,consts:[[1,"drop-container"],["optionLabel","label","placeholder","Seleziona giorno",3,"ngModelChange","onChange","options","ngModel"],[1,"content"],[4,"ngIf"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"id"],[1,"in-tr"],["label","Salva",3,"click"],["pInputNumber","","mask","99:99","placeholder","00:00",3,"ngModelChange","ngModel"]],template:function(r,s){r&1&&(I(0,"div",0)(1,"p-dropdown",1),Ei("ngModelChange",function(a){return Bi(s.selectedDay,a)||(s.selectedDay=a),a}),Q("onChange",function(a){return s.itemChanged(a)}),E()(),I(2,"div",2),T(3,mme,2,1,"ng-container",3),I(4,"p-table",4),T(5,gme,16,0,"ng-template",5)(6,Ime,11,4,"ng-template",6),E()()),r&2&&(g(),f("options",s.tabItems),Ii("ngModel",s.selectedDay),g(2),f("ngIf",s.selectedDay),g(),f("value",s.percorso.checkpoint)("tableStyle",Jt(5,fme)))},dependencies:[eu,am,qe,ca,vl,Fs,nt,JV,Fx,$0,_r,Hc,e5,Lx,tu,l9],styles:["[_nghost-%COMP%]     .p-dropdown{width:250px;margin:auto}.drop-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}[_nghost-%COMP%]     .p-datatable{margin-top:20px}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}[_nghost-%COMP%]     .p-inputtext{width:75px}.in-tr[_ngcontent-%COMP%]{width:12.5%}"]});let n=e;return n})();var d9=(n,e)=>he(Pl).isLogged();var ZD=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Ai=ZD;var Vs={PROPERTYCHANGE:"propertychange"};var XD=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Vh=XD;function h9(n,e,t){let i,r;t=t||Dr;let s=0,o=n.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+t(n[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function Dr(n,e){return n>e?1:n<e?-1:0}function Bh(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let s=n[r];if(s===e)return r;if(s<e)return t(e,n[r-1],s)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function p9(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function zh(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function or(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function f9(n,e,t){let i=e||Dr;return n.every(function(r,s){if(s===0)return!0;let o=i(n[s-1],r);return!(o>0||t&&o===0)})}function Ca(){return!0}function Ia(){return!1}function Bs(){}function c1(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!or(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function m9(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Io(n){for(let e in n)delete n[e]}function zs(n){let e;for(e in n)return!1;return!e}var JD=class extends Vh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let s=t?new Ai(e):e;s.target||(s.target=this.eventTarget_||this);let o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Bs);delete o[i]}return l}disposeInternal(){this.listeners_&&Io(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Bs,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},zl=JD;var Pe={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function bt(n,e,t,i,r){if(r){let o=t;t=function(){n.removeEventListener(e,t),o.apply(i??this,arguments)}}else i&&i!==n&&(t=t.bind(i));let s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function Uh(n,e,t,i){return bt(n,e,t,i,!0)}function Nt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Io(n))}var Hh=class extends zl{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Pe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=bt(this,e[s],t);return r}return bt(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=Uh(this,e[s],t)}else i=Uh(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)Eme(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};Hh.prototype.on;Hh.prototype.once;Hh.prototype.un;function Eme(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Nt(n[e]);else Nt(n)}var u1=Hh;function Rt(){throw new Error("Unimplemented abstract method.")}var Tme=0;function xt(n){return n.ol_uid||(n.ol_uid=String(++Tme))}var d1=class extends Ai{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},e2=class extends u1{constructor(e){super(),this.on,this.once,this.un,xt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new d1(i,e,t)),i=Vs.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new d1(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],zs(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},di=e2;var Ri={ADD:"add",REMOVE:"remove"};var g9={LENGTH:"length"},jh=class extends Ai{constructor(e,t,i){super(e),this.element=t,this.index=i}},t2=class extends di{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(g9.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new jh(Ri.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new jh(Ri.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new jh(Ri.REMOVE,r,e)),this.dispatchEvent(new jh(Ri.ADD,t,e))}updateLength_(){this.set(g9.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},yr=t2;function st(n,e){if(!n)throw new Error(e)}var n2=class n extends di{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Nt(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=bt(e,Pe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?xme(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function xme(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(st(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var i2=n2;var W4e=new Array(6);function ki(){return[1,0,0,1,0,0]}function y9(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Zn(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function ji(n,e,t,i,r,s,o,a){let l=Math.sin(s),c=Math.cos(s);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=o*i*c-a*i*l+e,n[5]=o*r*l+a*r*c+t,n}function h1(n,e){let t=Sme(e);st(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-s/t,n[3]=i/t,n[4]=(s*l-o*a)/t,n[5]=-(i*l-r*a)/t,n}function Sme(n){return n[0]*n[3]-n[1]*n[2]}var _9=[1e6,1e6,1e6,1e6,2,2];function v9(n){return"matrix("+n.map((t,i)=>Math.round(t*_9[i])/_9[i]).join(", ")+")"}var hi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function r2(n){let e=Xn();for(let t=0,i=n.length;t<i;++t)fu(e,n[t]);return e}function Dme(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),s=Math.max.apply(null,n),o=Math.max.apply(null,e);return Zr(i,r,s,o,t)}function $h(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function f1(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function m1(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Us(n,e){return s2(n,e[0],e[1])}function Ea(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function s2(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function p1(n,e){let t=n[0],i=n[1],r=n[2],s=n[3],o=e[0],a=e[1],l=hi.UNKNOWN;return o<t?l=l|hi.LEFT:o>r&&(l=l|hi.RIGHT),a<i?l=l|hi.BELOW:a>s&&(l=l|hi.ABOVE),l===hi.UNKNOWN&&(l=hi.INTERSECTING),l}function Xn(){return[1/0,1/0,-1/0,-1/0]}function Zr(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function pu(n){return Zr(1/0,1/0,-1/0,-1/0,n)}function g1(n,e){let t=n[0],i=n[1];return Zr(t,i,t,i,e)}function Gh(n,e,t,i,r){let s=pu(r);return o2(s,n,e,t,i)}function Ta(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function b9(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function fu(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function o2(n,e,t,i,r){for(;t<i;t+=r)Mme(n,e[t],e[t+1]);return n}function Mme(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function _1(n,e){let t;return t=e(Wh(n)),t||(t=e(qh(n)),t)||(t=e(Kh(n)),t)||(t=e(ms(n)),t)?t:!1}function Ul(n){let e=0;return Hl(n)||(e=It(n)*Sn(n)),e}function Wh(n){return[n[0],n[1]]}function qh(n){return[n[2],n[1]]}function fs(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function w9(n,e){let t;if(e==="bottom-left")t=Wh(n);else if(e==="bottom-right")t=qh(n);else if(e==="top-left")t=ms(n);else if(e==="top-right")t=Kh(n);else throw new Error("Invalid corner");return t}function Mm(n,e,t,i,r){let[s,o,a,l,c,u,h,p]=Ame(n,e,t,i);return Zr(Math.min(s,a,c,h),Math.min(o,l,u,p),Math.max(s,a,c,h),Math.max(o,l,u,p),r)}function Ame(n,e,t,i){let r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(t),a=Math.sin(t),l=r*o,c=r*a,u=s*o,h=s*a,p=n[0],m=n[1];return[p-l+h,m-c-u,p-l-h,m-c+u,p+l-h,m+c+u,p+l+h,m+c-u,p-l+h,m-c-u]}function Sn(n){return n[3]-n[1]}function vr(n,e,t){let i=t||Xn();return On(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):pu(i),i}function ms(n){return[n[0],n[3]]}function Kh(n){return[n[2],n[3]]}function It(n){return n[2]-n[0]}function On(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Hl(n){return n[2]<n[0]||n[3]<n[1]}function C9(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function I9(n,e,t){let i=!1,r=p1(n,e),s=p1(n,t);if(r===hi.INTERSECTING||s===hi.INTERSECTING)i=!0;else{let o=n[0],a=n[1],l=n[2],c=n[3],u=e[0],h=e[1],p=t[0],m=t[1],v=(m-h)/(p-u),w,C;s&hi.ABOVE&&!(r&hi.ABOVE)&&(w=p-(m-c)/v,i=w>=o&&w<=l),!i&&s&hi.RIGHT&&!(r&hi.RIGHT)&&(C=m-(p-l)*v,i=C>=a&&C<=c),!i&&s&hi.BELOW&&!(r&hi.BELOW)&&(w=p-(m-a)/v,i=w>=o&&w<=l),!i&&s&hi.LEFT&&!(r&hi.LEFT)&&(C=m-(p-o)*v,i=C>=a&&C<=c)}return i}function E9(n,e,t,i){if(Hl(n))return pu(t);let r=[];if(i>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)r.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return Dme(s,o,t)}function a2(n,e){let t=e.getExtent(),i=fs(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=It(t),o=Math.floor((i[0]-t[0])/r)*r;n[0]-=o,n[2]-=o}return n}function Yh(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];a2(n,e);let r=It(i);if(It(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}var xa={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var l2=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xa[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},y1=l2;var Am=6378137,Qh=Math.PI*Am,Rme=[-Qh,-Qh,Qh,Qh],kme=[-180,-85,180,85],v1=Am*Math.log(Math.tan(Math.PI/2)),jl=class extends y1{constructor(e){super({code:e,units:"m",extent:Rme,global:!0,worldExtent:kme,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Am)}})}},c2=[new jl("EPSG:3857"),new jl("EPSG:102100"),new jl("EPSG:102113"),new jl("EPSG:900913"),new jl("http://www.opengis.net/def/crs/EPSG/0/3857"),new jl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function T9(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t){e[r]=Qh*n[r]/180;let s=Am*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>v1?s=v1:s<-v1&&(s=-v1),e[r+1]=s}return e}function x9(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/Qh,e[r+1]=360*Math.atan(Math.exp(n[r+1]/Am))/Math.PI-90;return e}var Ome=6378137,S9=[-180,-90,180,90],Pme=Math.PI*Ome/180,Sa=class extends y1{constructor(e,t){super({code:e,units:"degrees",extent:S9,axisOrientation:t,global:!0,metersPerUnit:Pme,worldExtent:S9})}},u2=[new Sa("CRS:84"),new Sa("EPSG:4326","neu"),new Sa("urn:ogc:def:crs:OGC:1.3:CRS84"),new Sa("urn:ogc:def:crs:OGC:2:84"),new Sa("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Sa("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Sa("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var d2={};function D9(n){return d2[n]||d2[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function M9(n,e){d2[n]=e}var Zh={};function Rm(n,e,t){let i=n.getCode(),r=e.getCode();i in Zh||(Zh[i]={}),Zh[i][r]=t}function A9(n,e){let t;return n in Zh&&e in Zh[n]&&(t=Zh[n][e]),t}function en(n,e,t){return Math.min(Math.max(n,e),t)}function R9(n,e,t,i,r,s){let o=r-t,a=s-i;if(o!==0||a!==0){let l=((n-t)*o+(e-i)*a)/(o*o+a*a);l>1?(t=r,i=s):l>0&&(t+=o*l,i+=a*l)}return Da(n,e,t,i)}function Da(n,e,t,i){let r=t-n,s=i-e;return r*r+s*s}function k9(n){let e=n.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){let l=Math.abs(n[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;let o=n[r];n[r]=n[i],n[i]=o;for(let a=i+1;a<e;a++){let l=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Xh(n){return n*Math.PI/180}function Ma(n,e){let t=n%e;return t*e<0?t+e:t}function ar(n,e,t){return n+t*(e-n)}function b1(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function km(n,e){return Math.floor(b1(n,e))}function Om(n,e){return Math.ceil(b1(n,e))}function O9(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function mu(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Jh(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,s=n[1]*t+n[0]*i;return n[0]=r,n[1]=s,n}function P9(n,e){return n[0]*=e,n[1]*=e,n}function w1(n,e){if(e.canWrapX()){let t=It(e.getExtent()),i=F9(n,e,t);i&&(n[0]-=i*t)}return n}function F9(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||It(i),r=Math.floor((n[0]-i[0])/t)),r}var Fme=63710088e-1;function h2(n,e,t){t=t||Fme;let i=Xh(n[1]),r=Xh(e[1]),s=(r-i)/2,o=Xh(e[0]-n[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var L9={info:1,warn:2,error:3,none:4},Lme=L9.info;function C1(...n){Lme>L9.warn||console.warn(...n)}var p2=!0;function f2(n){p2=!(n===void 0?!0:n)}function m2(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function V9(n,e){if(e!==void 0&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function Nme(n){M9(n.getCode(),n),Rm(n,n,m2)}function Vme(n){n.forEach(Nme)}function Oi(n){return typeof n=="string"?D9(n):n||null}function g2(n,e,t,i){n=Oi(n);let r,s=n.getPointResolutionFunc();if(s){if(r=s(e,t),i&&i!==n.getUnits()){let o=n.getMetersPerUnit();o&&(r=r*o/xa[i])}}else{let o=n.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{let a=_u(n,Oi("EPSG:4326"));if(a===V9&&o!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=h2(c.slice(0,2),c.slice(2,4)),h=h2(c.slice(4,6),c.slice(6,8));r=(u+h)/2}let l=i?xa[i]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function N9(n){Vme(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Rm(e,t,m2)})})}function Bme(n,e,t,i){n.forEach(function(r){e.forEach(function(s){Rm(r,s,t),Rm(s,r,i)})})}function I1(n,e){return n?typeof n=="string"?Oi(n):n:Oi(e)}function B9(n,e){return f2(),Pm(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function gu(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||_u(n,e)===m2)&&t}function _u(n,e){let t=n.getCode(),i=e.getCode(),r=A9(t,i);return r||(r=V9),r}function yu(n,e){let t=Oi(n),i=Oi(e);return _u(t,i)}function Pm(n,e,t){return yu(e,t)(n,void 0,n.length)}function z9(n,e,t,i){let r=yu(e,t);return E9(n,r,void 0,i)}var Hs=null;function vu(){return Hs}function Fm(n,e){return Hs?Pm(n,e,Hs):n}function js(n,e){return Hs?Pm(n,Hs,e):(p2&&!mu(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(p2=!1,C1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function $l(n,e){return Hs?z9(n,e,Hs):n}function gs(n,e){return Hs?z9(n,Hs,e):n}function U9(n,e){if(!Hs)return n;let t=Oi(e).getMetersPerUnit(),i=Hs.getMetersPerUnit();return t&&i?n*t/i:n}function zme(){N9(c2),N9(u2),Bme(u2,c2,T9,x9)}zme();function Mr(n,e,t,i,r,s){s=s||[];let o=0;for(let a=e;a<t;a+=i){let l=n[a],c=n[a+1];s[o++]=r[0]*l+r[2]*c+r[4],s[o++]=r[1]*l+r[3]*c+r[5]}return s&&s.length!=o&&(s.length=o),s}function E1(n,e,t,i,r,s,o){o=o||[];let a=Math.cos(r),l=Math.sin(r),c=s[0],u=s[1],h=0;for(let p=e;p<t;p+=i){let m=n[p]-c,v=n[p+1]-u;o[h++]=c+m*a-v*l,o[h++]=u+m*l+v*a;for(let w=p+2;w<p+i;++w)o[h++]=n[w]}return o&&o.length!=h&&(o.length=h),o}function H9(n,e,t,i,r,s,o,a){a=a||[];let l=o[0],c=o[1],u=0;for(let h=e;h<t;h+=i){let p=n[h]-l,m=n[h+1]-c;a[u++]=l+r*p,a[u++]=c+s*m;for(let v=h+2;v<h+i;++v)a[u++]=n[v]}return a&&a.length!=u&&(a.length=u),a}function j9(n,e,t,i,r,s,o){o=o||[];let a=0;for(let l=e;l<t;l+=i){o[a++]=n[l]+r,o[a++]=n[l+1]+s;for(let c=l+2;c<l+i;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}var $9=ki(),_2=class extends di{constructor(){super(),this.extent_=Xn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=c1((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Rt()}closestPointXY(e,t,i,r){return Rt()}containsXY(e,t){let i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Rt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&pu(t),this.extentRevision_=this.getRevision()}return C9(this.extent_,e)}rotate(e,t){Rt()}scale(e,t,i){Rt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Rt()}getType(){return Rt()}applyTransform(e){Rt()}intersectsExtent(e){return Rt()}translate(e,t){Rt()}transform(e,t){let i=Oi(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){let l=i.getExtent(),c=i.getWorldExtent(),u=Sn(c)/Sn(l);return ji($9,c[0],c[3],u,-u,0,0,0),Mr(s,0,s.length,a,$9,o),yu(i,t)(s,o,a)}:yu(i,t);return this.applyTransform(r),this}},G9=_2;var y2=class extends G9{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Gh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Rt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=W9(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Rt()}setLayout(e,t,i){let r;if(e)r=W9(e);else{for(let s=0;s<i;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Ume(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();E1(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=fs(this.getExtent()));let r=this.getFlatCoordinates();if(r){let s=this.getStride();H9(r,0,r.length,s,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();j9(i,0,i.length,r,e,t,i),this.changed()}}};function Ume(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function W9(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function q9(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return Mr(i,0,i.length,r,e,t)}var ep=y2;function K9(n,e,t,i,r,s,o){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,h;if(c===0&&u===0)h=e;else{let p=((r-a)*c+(s-l)*u)/(c*c+u*u);if(p>1)h=t;else if(p>0){for(let m=0;m<i;++m)o[m]=ar(n[e+m],n[t+m],p);o.length=i;return}else h=e}for(let p=0;p<i;++p)o[p]=n[h+p];o.length=i}function v2(n,e,t,i,r){let s=n[e],o=n[e+1];for(e+=i;e<t;e+=i){let a=n[e],l=n[e+1],c=Da(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function Y9(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){let a=t[s];r=v2(n,e,a,i,r),e=a}return r}function b2(n,e,t,i,r,s,o,a,l,c,u){if(e==t)return c;let h,p;if(r===0){if(p=Da(o,a,n[e],n[e+1]),p<c){for(h=0;h<i;++h)l[h]=n[e+h];return l.length=i,p}return c}u=u||[NaN,NaN];let m=e+i;for(;m<t;)if(K9(n,m-i,m,i,o,a,u),p=Da(o,a,u[0],u[1]),p<c){for(c=p,h=0;h<i;++h)l[h]=u[h];l.length=i,m+=i}else m+=i*Math.max((Math.sqrt(p)-Math.sqrt(c))/r|0,1);if(s&&(K9(n,t-i,e,i,o,a,u),p=Da(o,a,u[0],u[1]),p<c)){for(c=p,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function Q9(n,e,t,i,r,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,p=t.length;h<p;++h){let m=t[h];c=b2(n,e,m,i,r,s,o,a,l,c,u),e=m}return c}function Z9(n,e,t,i){for(let r=0,s=t.length;r<s;++r)n[e++]=t[r];return e}function w2(n,e,t,i){for(let r=0,s=t.length;r<s;++r){let o=t[r];for(let a=0;a<i;++a)n[e++]=o[a]}return e}function X9(n,e,t,i,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=w2(n,e,t[o],i);r[s++]=l,e=l}return r.length=s,r}function Lm(n,e,t,i,r,s,o){let a=(t-e)/i;if(a<3){for(;e<t;e+=i)s[o++]=n[e],s[o++]=n[e+1];return o}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-i],u=0;for(;c.length>0;){let h=c.pop(),p=c.pop(),m=0,v=n[p],w=n[p+1],C=n[h],S=n[h+1];for(let R=p+i;R<h;R+=i){let V=n[R],z=n[R+1],q=R9(V,z,v,w,C,S);q>m&&(u=R,m=q)}m>r&&(l[(u-e)/i]=1,p+i<u&&c.push(p,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=n[e+h*i],s[o++]=n[e+h*i+1]);return o}function J9(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=Lm(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Gl(n,e){return e*Math.round(n/e)}function Hme(n,e,t,i,r,s,o){if(e==t)return o;let a=Gl(n[e],r),l=Gl(n[e+1],r);e+=i,s[o++]=a,s[o++]=l;let c,u;do if(c=Gl(n[e],r),u=Gl(n[e+1],r),e+=i,e==t)return s[o++]=c,s[o++]=u,o;while(c==a&&u==l);for(;e<t;){let h=Gl(n[e],r),p=Gl(n[e+1],r);if(e+=i,h==c&&p==u)continue;let m=c-a,v=u-l,w=h-a,C=p-l;if(m*C==v*w&&(m<0&&w<m||m==w||m>0&&w>m)&&(v<0&&C<v||v==C||v>0&&C>v)){c=h,u=p;continue}s[o++]=c,s[o++]=u,a=c,l=u,c=h,u=p}return s[o++]=c,s[o++]=u,o}function T1(n,e,t,i,r,s,o,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];o=Hme(n,e,u,i,r,s,o),a.push(o),e=u}return o}function Wl(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function tp(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=Wl(n,e,l,i,r[s]),e=l}return r.length=s,r}function C2(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){let l=t[o];r[s++]=l.length===1&&l[0]===e?[]:tp(n,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function I2(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1],a=0,l=0;for(;e<t;e+=i){let c=n[e]-s,u=n[e+1]-o;r+=l*c-a*u,a=c,l=u}return r/2}function e7(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){let a=t[s];r+=I2(n,e,a,i),e=a}return r}var E2=class n extends ep{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<m1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),b2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return I2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Wl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Lm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=w2(this.flatCoordinates,0,e,this.stride),this.changed()}},T2=E2;var x2=class n extends ep{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let s=this.flatCoordinates,o=Da(e,t,s[0],s[1]);if(o<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return g1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return s2(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Z9(this.flatCoordinates,0,e,this.stride),this.changed()}},np=x2;function t7(n,e,t,i,r){return!_1(r,function(o){return!ql(n,e,t,i,o[0],o[1])})}function ql(n,e,t,i,r,s){let o=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){let c=n[e],u=n[e+1];l<=s?u>s&&(c-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(c-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function x1(n,e,t,i,r,s){if(t.length===0||!ql(n,e,t[0],i,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(ql(n,t[o-1],t[o],i,r,s))return!1;return!0}function Nm(n,e,t,i,r,s,o){let a,l,c,u,h,p,m,v=r[s+1],w=[];for(let R=0,V=t.length;R<V;++R){let z=t[R];for(u=n[z-i],p=n[z-i+1],a=e;a<z;a+=i)h=n[a],m=n[a+1],(v<=p&&m<=v||p<=v&&v<=m)&&(c=(v-p)/(m-p)*(h-u)+u,w.push(c)),u=h,p=m}let C=NaN,S=-1/0;for(w.sort(Dr),u=w[0],a=1,l=w.length;a<l;++a){h=w[a];let R=Math.abs(h-u);R>S&&(c=(u+h)/2,x1(n,e,t,i,c,v)&&(C=c,S=R)),u=h}return isNaN(C)&&(C=r[s]),o?(o.push(C,v,S),o):[C,v,S]}function n7(n,e,t,i,r){let s=[];for(let o=0,a=t.length;o<a;++o){let l=t[o];s=Nm(n,e,l,i,r,2*o,s),e=l[l.length-1]}return s}function i7(n,e,t,i,r){let s;for(e+=i;e<t;e+=i)if(s=r(n.slice(e-i,e),n.slice(e,e+i)),s)return s;return!1}function r7(n,e,t,i,r){let s=o2(Xn(),n,e,t,i);return On(r,s)?Ea(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:i7(n,e,t,i,function(o,a){return I9(r,o,a)}):!1}function S2(n,e,t,i,r){return!!(r7(n,e,t,i,r)||ql(n,e,t,i,r[0],r[1])||ql(n,e,t,i,r[0],r[3])||ql(n,e,t,i,r[2],r[1])||ql(n,e,t,i,r[2],r[3]))}function s7(n,e,t,i,r){if(!S2(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(t7(n,t[s-1],t[s],i,r)&&!r7(n,t[s-1],t[s],i,r))return!1;return!0}function o7(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let s=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=s}e+=i,t-=i}}function D2(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){let a=n[e],l=n[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function a7(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=D2(n,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function M2(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){let a=t[s],l=D2(n,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&o7(n,e,a,i),e=a}return e}function l7(n,e){let t=[],i=0,r=0,s;for(let o=0,a=e.length;o<a;++o){let l=e[o],c=D2(n,i,l,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(r,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=o+1,i=l}return t}var S1=class n extends ep{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?zh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<m1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Y9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Q9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return x1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return e7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),M2(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,tp(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=fs(this.getExtent());this.flatInteriorPoint_=Nm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new np(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new T2(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],s=0;for(let o=0,a=i.length;o<a;++o){let l=i[o],c=new T2(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;a7(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=M2(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=T1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return s7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=X9(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},c7=S1;function A2(n){if(Hl(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],s=[e,t,e,r,i,r,i,t,e,t];return new S1(s,"XY",[s.length])}var $i={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var lt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Aa={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var bu={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};bu.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};bu.max=bu.whitepoint[2].D65;bu.rgb=function(n,e){e=e||bu.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],s,o,a;return s=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};Aa.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+i*.35758433938387+r*.18048078840183,o=t*.21263900587151+i*.71516867876775+r*.072192315360733,a=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||bu.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};var Ar=bu;var D1={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,s,o,a,l,c,u,h,p,m,v,w;if(s=n[0],o=n[1],a=n[2],s===0)return[0,0,0];var C=.0011070564598794539;return e=e||"D65",t=t||2,h=Ar.whitepoint[t][e][0],p=Ar.whitepoint[t][e][1],m=Ar.whitepoint[t][e][2],v=4*h/(h+15*p+3*m),w=9*p/(h+15*p+3*m),i=o/(13*s)+v||0,r=a/(13*s)+w||0,c=s>8?p*Math.pow((s+16)/116,3):p*s*C,l=c*9*i/(4*r)||0,u=c*(12-3*i-20*r)/(4*r)||0,[l,c,u]}};Ar.luv=function(n,e,t){var i,r,s,o,a,l,c,u,h,p,m,v,w,C=.008856451679035631,S=903.2962962962961;e=e||"D65",t=t||2,h=Ar.whitepoint[t][e][0],p=Ar.whitepoint[t][e][1],m=Ar.whitepoint[t][e][2],v=4*h/(h+15*p+3*m),w=9*p/(h+15*p+3*m),l=n[0],c=n[1],u=n[2],i=4*l/(l+15*c+3*u)||0,r=9*c/(l+15*c+3*u)||0;var R=c/p;return s=R<=C?S*R:116*Math.pow(R,1/3)-16,o=13*s*(i-v),a=13*s*(r-w),[s,o,a]};var u7={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,s,o;return o=i/360*2*Math.PI,r=t*Math.cos(o),s=t*Math.sin(o),[e,r,s]},xyz:function(n){return D1.xyz(u7.luv(n))}},d7=u7;D1.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]};Ar.lchuv=function(n){return D1.lchuv(Ar.luv(n))};var R2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var p7=jme,h7={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function jme(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),R2[n])t=R2[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;i=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,h){if(u[u.length-1]==="%")return u=parseFloat(u)/100,h===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!h?u*100:r==="lab"?u*125:r==="lch"?h<2?u*150:u*360:r[0]==="o"&&!h?u:r==="oklab"?u*.4:r==="oklch"?h<2?u*.4:u*360:u;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(h7[u]!==void 0)return h7[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}var M1={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,s,o,a,l,c=0;if(t===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+t):i+t-i*t,r=2*i-s,a=[0,0,0];c<3;)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[c++]=l*255;return a}};Aa.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=s-r,a,l,c;return s===r?a=0:e===s?a=(t-i)/o:t===s?a=2+(i-e)/o:i===s&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,c*100]};function k2(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t,i,r=p7(n);if(!r.space)return[];let s=r.space[0]==="h"?M1.min:Aa.min,o=r.space[0]==="h"?M1.max:Aa.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],s[0]),o[0]),e[1]=Math.min(Math.max(r.values[1],s[1]),o[1]),e[2]=Math.min(Math.max(r.values[2],s[2]),o[2]),r.space[0]==="h"&&(e=M1.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function f7(n){return typeof n=="string"?n:zm(n)}var $me=1024,Vm={},O2=0;function m7(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function P2(n){let e=Ar.lchuv(Aa.xyz(n));return e[3]=n[3],e}function g7(n){let e=Ar.rgb(d7.xyz(n));return e[3]=n[3],e}function Bm(n){if(Vm.hasOwnProperty(n))return Vm[n];if(O2>=$me){let t=0;for(let i in Vm)t++&3||(delete Vm[i],--O2)}let e=k2(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(let t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return F2(e),Vm[n]=e,++O2,e}function Ra(n){return Array.isArray(n)?n:Bm(n)}function F2(n){return n[0]=en(n[0]+.5|0,0,255),n[1]=en(n[1]+.5|0,0,255),n[2]=en(n[2]+.5|0,0,255),n[3]=en(n[3],0,1),n}function zm(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}var Kl=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_7=Kl.includes("firefox"),Gme=Kl.includes("safari")&&!Kl.includes("chrom"),r6e=Gme&&(Kl.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Kl)),y7=Kl.includes("webkit")&&!Kl.includes("edge"),L2=Kl.includes("macintosh"),A1=typeof devicePixelRatio<"u"?devicePixelRatio:1,R1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,N2=typeof Image<"u"&&Image.prototype.decode;var k1=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function tn(n,e,t,i){let r;return t&&t.length?r=t.shift():R1?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var V2;function ip(){return V2||(V2=tn(1,1)),V2}function Eo(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function B2(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function v7(n){for(;n.lastChild;)n.lastChild.remove()}function b7(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--i;continue}n.insertBefore(s,r)}}}function w7(n,e,t){let i=n,r=!0,s=!1,o=!1,a=[Uh(i,Pe.LOAD,function(){o=!0,s||e()})];return i.src&&N2?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():t())})):a.push(Uh(i,Pe.ERROR,t)),function(){r=!1,a.forEach(Nt)}}function Wme(n,e){return new Promise((t,i)=>{function r(){o(),t(n)}function s(){o(),i(new Error("Image load error"))}function o(){n.removeEventListener("load",r),n.removeEventListener("error",s)}n.addEventListener("load",r),n.addEventListener("error",s),e&&(n.src=e)})}function C7(n,e){return e&&(n.src=e),n.src&&N2?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):Wme(n)}var U2=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=z2(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=z2(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,s){let o=z2(e,t,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===lt.IDLE&&r.load(),r.getImageState()===lt.LOADING?r.ready().then(()=>{this.patternCache_[o]=ip().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=ip().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function z2(n,e,t){let i=t?Ra(t):"null";return e+":"+n+":"+i}var Xr=new U2;var Um=null,H2=class extends zl{constructor(e,t,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?lt.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===lt.LOADED){Um||(Um=tn(1,1,void 0,{willReadFrequently:!0})),Um.drawImage(this.image_,0,0);try{Um.getImageData(0,0,1,1),this.tainted_=!1}catch{Um=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Pe.CHANGE)}handleImageError_(){this.imageState_=lt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=lt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=tn(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===lt.IDLE){this.image_||this.initializeImage_(),this.imageState_=lt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&C7(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==lt.LOADED)return;let t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);let r=i.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=f7(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===lt.LOADED||this.imageState_===lt.ERROR)e();else{let t=()=>{(this.imageState_===lt.LOADED||this.imageState_===lt.ERROR)&&(this.removeEventListener(Pe.CHANGE,t),e())};this.addEventListener(Pe.CHANGE,t)}})),this.ready_}};function rp(n,e,t,i,r,s){let o=e===void 0?void 0:Xr.get(e,t,r);return o||(o=new H2(n,n&&"src"in n?n.src||void 0:e,t,i,r),Xr.set(e,t,r,o,s)),s&&o&&!Xr.getPattern(e,t,r)&&Xr.set(e,t,r,o,s),o}var j2=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=rp(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===lt.IDLE&&t.load(),t.getImageState()===lt.LOADING&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},sp=j2;function $2(n,e,t,i,r,s,o){let a,l,c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=n[e],h=n[e+1],p=0,m=[0];for(let C=e+i;C<t;C+=i){let S=n[C],R=n[C+1];p+=Math.sqrt((S-u)*(S-u)+(R-h)*(R-h)),m.push(p),u=S,h=R}let v=r*p,w=h9(m,v);w<0?(l=(v-m[-w-2])/(m[-w-1]-m[-w-2]),a=e+(-w-2)*i):a=e+w*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?n[a+u]:ar(n[a+u],n[a+i+u],l);return s}function I7(n,e,t,i){let r=n[e],s=n[e+1],o=0;for(let a=e+i;a<t;a+=i){let l=n[a],c=n[a+1];o+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return o}var G2=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},O1=G2;function W2(n){return n[0]>0&&n[1]>0}function E7(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function $n(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var q2=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=$n(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Rt()}getImage(e){return Rt()}getHitDetectionImage(){return Rt()}getPixelRatio(e){return 1}getImageState(){return Rt()}getImageSize(){return Rt()}getOrigin(){return Rt()}getSize(){return Rt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$n(e)}listenImageChange(e){Rt()}load(){Rt()}unlistenImageChange(e){Rt()}ready(){return Promise.resolve()}},P1=q2;function Rr(n){return n?Array.isArray(n)?zm(n):typeof n=="object"&&"src"in n?qme(n):n:null}function qme(n){if(!n.offset||!n.size)return Xr.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=Xr.getPattern(e,void 0,n.color);if(t)return t;let i=Xr.get(n.src,"anonymous",null);if(i.getImageState()!==lt.LOADED)return null;let r=tn(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),rp(r.canvas,e,void 0,lt.LOADED,n.color,!0),Xr.getPattern(e,void 0,n.color)}var Hm="ol-hidden";var Yl="ol-unselectable";var op="ol-control",K2="ol-collapsed",Kme=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),T7=["style","variant","weight","size","lineHeight","family"],Y2=function(n){let e=n.match(Kme);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=T7.length;i<r;++i){let s=e[i+1];s!==void 0&&(t[T7[i]]=s)}return t.families=t.family.split(/,\s?/),t};var L1="10px sans-serif",bi="#000",xo="round",kr=[],Or=0,So="round",ka=10,Oa="#000",Ql="center",wu="middle",Pa=[0,0,0,0],Fa=1,To=new di,ap=null,Q2,Z2={},x7=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",s,o;function a(c,u,h){let p=!0;for(let m=0;m<i;++m){let v=t[m];if(o=F1(c+" "+u+" "+e+v,r),h!=v){let w=F1(c+" "+u+" "+e+h+","+v,r);p=p&&w!=o}}return!!p}function l(){let c=!0,u=To.getKeys();for(let h=0,p=u.length;h<p;++h){let m=u[h];if(To.get(m)<100){let[v,w,C]=m.split(`
`);a(v,w,C)?(Io(Z2),ap=null,Q2=void 0,To.set(m,100)):(To.set(m,To.get(m)+1,!0),c=!1)}}c&&(clearInterval(s),s=void 0)}return function(c){let u=Y2(c);if(!u)return;let h=u.families;for(let p=0,m=h.length;p<m;++p){let v=h[p],w=u.style+`
`+u.weight+`
`+v;To.get(w)===void 0&&(To.set(w,100,!0),a(u.style,u.weight,v)||(To.set(w,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Yme=function(){let n;return function(e){let t=Z2[e];if(t==null){if(R1){let i=Y2(e),r=S7(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Z2[e]=t}return t}}();function S7(n,e){return ap||(ap=tn(1,1)),n!=Q2&&(ap.font=n,Q2=ap.font),ap.measureText(e)}function F1(n,e){return S7(n,e).width}function X2(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,s)=>Math.max(r,F1(n,s)),0);return t[e]=i,i}function D7(n,e){let t=[],i=[],r=[],s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let h=e[c];if(h===`
`||c===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}let p=e[c+1]||n.font,m=F1(p,h);t.push(m),o+=m;let v=Yme(p);i.push(v),l=Math.max(l,v)}return{width:s,height:a,widths:t,heights:i,lineWidths:r}}function M7(n,e,t,i,r,s,o,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=h=>h.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),Qme(i,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(i,r,s,o,a,0,0,o,a)):n.drawImage(i,r,s,o,a,l,c,o*u[0],a*u[1]),n.restore()}function Qme(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var J2=class n extends P1{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?lt.LOADING:lt.LOADED,this.imageState_===lt.LOADING&&this.ready().then(()=>this.imageState_=lt.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){let i=this.renderOptions_,r=tn(i.size*e,i.size*e);this.draw_(i,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){let Y=r;r=s,s=Y}let o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),u=r-c,h=Math.sqrt(l*l+u*u),p=h/l;if(e==="miter"&&p<=i)return p*t;let m=t/2/p,v=t/2*(u/h),C=Math.sqrt((r+m)*(r+m)+v*v)-r;if(this.radius2_===void 0||e==="bevel")return C*2;let S=r*Math.sin(a),R=Math.sqrt(r*r-S*S),V=s-R,q=Math.sqrt(S*S+V*V)/S;if(q<=i){let Y=q*t/2-s-r;return 2*Math.max(C,Y)}return C*2}createRenderOptions(){let e=xo,t=So,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=Rr(this.stroke_.getColor()??Oa),a=this.stroke_.getWidth()??Fa,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??So,e=this.stroke_.getLineCap()??xo,i=this.stroke_.getMiterLimit()??ka);let l=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=bi),t.fillStyle=Rr(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Ra(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=tn(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){let l=s+a*o,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=bi,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},N1=J2;var eM=class n extends N1{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},V1=eM;var B1=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=A7,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=A7,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function R7(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(st(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var tM=null;function nM(n,e){if(!tM){let t=new sp({color:"rgba(255,255,255,0.4)"}),i=new O1({color:"#3399CC",width:1.25});tM=[new B1({image:new V1({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return tM}function A7(n){return n.getGeometry()}var Zl=B1;var Zme="#333",iM=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=$n(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new sp({color:Zme}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$n(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},k7=iM;var an={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var rM=class extends di{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[an.OPACITY]=e.opacity!==void 0?e.opacity:1,st(typeof t[an.OPACITY]=="number","Layer opacity must be a number"),t[an.VISIBLE]=e.visible!==void 0?e.visible:!0,t[an.Z_INDEX]=e.zIndex,t[an.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[an.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[an.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[an.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=en(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Rt()}getLayerStatesArray(e){return Rt()}getExtent(){return this.get(an.EXTENT)}getMaxResolution(){return this.get(an.MAX_RESOLUTION)}getMinResolution(){return this.get(an.MIN_RESOLUTION)}getMinZoom(){return this.get(an.MIN_ZOOM)}getMaxZoom(){return this.get(an.MAX_ZOOM)}getOpacity(){return this.get(an.OPACITY)}getSourceState(){return Rt()}getVisible(){return this.get(an.VISIBLE)}getZIndex(){return this.get(an.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(an.EXTENT,e)}setMaxResolution(e){this.set(an.MAX_RESOLUTION,e)}setMinResolution(e){this.set(an.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(an.MAX_ZOOM,e)}setMinZoom(e){this.set(an.MIN_ZOOM,e)}setOpacity(e){st(typeof e=="number","Layer opacity must be a number"),this.set(an.OPACITY,e)}setVisible(e){this.set(an.VISIBLE,e)}setZIndex(e){this.set(an.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},z1=rM;var wi={ANIMATING:0,INTERACTING:1};var _s={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function sM(n,e,t){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;let l=e?0:s[0]*r,c=e?0:s[1]*r,u=a?a[0]:0,h=a?a[1]:0,p=n[0]+l/2+u,m=n[2]-l/2+u,v=n[1]+c/2+h,w=n[3]-c/2+h;p>m&&(p=(m+p)/2,m=p),v>w&&(v=(w+v)/2,w=v);let C=en(i[0],p,m),S=en(i[1],v,w);if(o&&t&&r){let R=30*r;C+=-R*Math.log(1+Math.max(0,p-i[0])/R)+R*Math.log(1+Math.max(0,i[0]-m)/R),S+=-R*Math.log(1+Math.max(0,v-i[1])/R)+R*Math.log(1+Math.max(0,i[1]-w)/R)}return[C,S]}}function O7(n){return n}function oM(n,e,t,i){let r=It(e)/t[0],s=Sn(e)/t[1];return i?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function aM(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),en(i,t/2,e*2)}function P7(n,e,t,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){let l=n[0],c=n[n.length-1],u=t?oM(l,t,o,i):l;if(a)return e?aM(r,u,c):en(r,c,u);let h=Math.min(u,r),p=Math.floor(Bh(n,h,s));return n[p]>u&&p<n.length-1?n[p+1]:n[p]}}}function F7(n,e,t,i,r,s){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(o,a,l,c){if(o!==void 0){let u=r?oM(e,r,l,s):e;if(c)return i?aM(o,u,t):en(o,t,u);let h=1e-9,p=Math.ceil(Math.log(e/u)/Math.log(n)-h),m=-a*(.5-h)+.5,v=Math.min(u,o),w=Math.floor(Math.log(e/v)/Math.log(n)+m),C=Math.max(p,w),S=e/Math.pow(n,C);return en(S,t,u)}}}function lM(n,e,t,i,r){return t=t!==void 0?t:!0,function(s,o,a,l){if(s!==void 0){let c=i?oM(n,i,a,r):n;return!t||!l?en(s,e,c):aM(s,c,e)}}}function lp(n){if(n!==void 0)return 0}function cM(n){if(n!==void 0)return n}function L7(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function N7(n){let e=n===void 0?Xh(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}function uM(n){return Math.pow(n,3)}function ys(n){return 1-uM(1-n)}function V7(n){return 3*n*n-2*n*n*n}function B7(n){return n}var dM=0,pM=class extends di{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=I1(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&f2(),e.center&&(e.center=js(e.center,this.projection_)),e.extent&&(e.extent=gs(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in _s)delete t[a];this.setProperties(t,!0);let i=Jme(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=Xme(e),s=i.constraint,o=ege(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=js(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=js(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){i&&U1(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<t;++r){let u=arguments[r],h={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||V7,callback:i};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;let p=Ma(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+p,l=h.targetRotation}tge(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(wi.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[wi.ANIMATING]>0}getInteracting(){return this.hints_[wi.INTERACTING]>0}cancelAnimations(){this.setHint(wi.ANIMATING,-this.hints_[wi.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&U1(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){let a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],s=!0;for(let o=0,a=r.length;o<a;++o){let l=r[o];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;let h=l.easing(u);if(l.sourceCenter){let p=l.sourceCenter[0],m=l.sourceCenter[1],v=l.targetCenter[0],w=l.targetCenter[1];this.nextCenter_=l.targetCenter;let C=p+h*(v-p),S=m+h*(w-m);this.targetCenter_=[C,S]}if(l.sourceResolution&&l.targetResolution){let p=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){let m=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,m,!0);this.targetCenter_=this.calculateCenterZoom(v,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let p=h===1?Ma(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){let m=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(m,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(wi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let o=r[0].callback;o&&U1(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Jh(i,e-this.getRotation()),O9(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){let o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&Fm(e,this.getProjection())}getCenterInternal(){return this.get(_s.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return $l(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();st(t,"The view center is not defined");let i=this.getResolution();st(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return st(r!==void 0,"The view rotation is not defined"),Mm(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(_s.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(gs(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=It(e)/t[0],r=Sn(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(_s.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/t;return function(o){return Math.log(i/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),s=this.padding_;if(s){let o=this.getViewportSizeMinusPadding_();r=hM(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let s=Bh(this.resolutions_,e,1);t=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let t=en(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,en(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(st(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){st(!Hl(e),"Cannot fit empty extent provided as `geometry`");let r=gs(e,this.getProjection());i=A2(r)}else if(e.getType()==="Circle"){let r=gs(e.getExtent(),this.getProjection());i=A2(r),i.rotate(this.getRotation(),fs(r))}else{let r=vu();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,p=s.length;h<p;h+=o){let m=s[h]*i-s[h+1]*r,v=s[h]*r+s[h+1]*i;a=Math.min(a,m),l=Math.min(l,v),c=Math.max(c,m),u=Math.max(u,v)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1,o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);let c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),p=fs(a);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;let m=p[0]*h-p[1]*u,v=p[1]*h+p[0]*u,w=this.getConstrainedCenter([m,v],l),C=t.callback?t.callback:Bs;t.duration!==void 0?this.animateInternal({resolution:l,center:w,duration:t.duration,easing:t.easing},C):(this.targetResolution_=l,this.targetCenter_=w,this.applyTargetState_(!1,!0),U1(C,!0))}centerOn(e,t,i){this.centerOnInternal(js(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(hM(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let s,o=this.padding_;if(o&&e){let a=this.getViewportSizeMinusPadding_(-i),l=hM(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=Fm(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&js(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=js(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&js(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(_s.ROTATION)!==r&&this.set(_s.ROTATION,r),this.get(_s.RESOLUTION)!==o&&(this.set(_s.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(_s.CENTER)||!mu(this.get(_s.CENTER),a))&&this.set(_s.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!mu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:ys,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(wi.INTERACTING,1)}endInteraction(e,t,i){i=i&&js(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(wi.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function U1(n,e){setTimeout(function(){n(e)},0)}function Xme(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return sM(n.extent,n.constrainOnlyCenter,t)}let e=I1(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,sM(t,!1,!1)}return O7}function Jme(n){let e,t,i,o=n.minZoom!==void 0?n.minZoom:dM,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,h=n.showFullExtent!==void 0?n.showFullExtent:!1,p=I1(n.projection,"EPSG:3857"),m=p.getExtent(),v=n.constrainOnlyCenter,w=n.extent;if(!c&&!w&&p.isGlobal()&&(v=!1,w=m),n.resolutions!==void 0){let C=n.resolutions;t=C[o],i=C[a]!==void 0?C[a]:C[C.length-1],n.constrainResolution?e=P7(C,u,!v&&w,h):e=lM(t,i,u,!v&&w,h)}else{let S=(m?Math.max(It(m),Sn(m)):360*xa.degrees/p.getMetersPerUnit())/256/Math.pow(2,dM),R=S/Math.pow(2,28-dM);t=n.maxResolution,t!==void 0?o=0:t=S/Math.pow(l,o),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,a):i=S/Math.pow(l,a):i=R),a=o+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-o),n.constrainResolution?e=F7(l,t,i,u,!v&&w,h):e=lM(t,i,u,!v&&w,h)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:l}}function ege(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?N7():t===!1?cM:typeof t=="number"?L7(t):cM}return lp}function tge(n){return!(n.sourceCenter&&n.targetCenter&&!mu(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function hM(n,e,t,i,r){let s=Math.cos(-r),o=Math.sin(-r),a=n[0]*s-n[1]*o,l=n[1]*s+n[0]*o;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,o=-o;let c=a*s-l*o,u=l*s+a*o;return[c,u]}var Pr=pM;var fM=class extends z1{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(an.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(an.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Nt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=bt(e,Pe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Pr?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();let s=this.getExtent();return jm(r,t.viewState)&&(!s||On(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof Pr?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(an.MAP,e)}getMapInternal(){return this.get(an.MAP)}setMap(e){this.mapPrecomposeKey_&&(Nt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Nt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=bt(e,$i.PRECOMPOSE,t=>{let r=t.frameState.layerStatesArray,s=this.getLayerState(!1);st(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)}),this.mapRenderKey_=bt(this,Pe.CHANGE,e.render,e),this.changed())}setSource(e){this.set(an.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function jm(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var Cu=fM;function mM(n,e,t,i,r){U7(n,e,t||0,i||n.length-1,r||nge)}function U7(n,e,t,i,r){for(;i>t;){if(i-t>600){var s=i-t+1,o=e-t+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1),u=Math.max(t,Math.floor(e-o*l/s+c)),h=Math.min(i,Math.floor(e+(s-o)*l/s+c));U7(n,e,u,h,r)}var p=n[e],m=t,v=i;for($m(n,t,e),r(n[i],p)>0&&$m(n,t,i);m<v;){for($m(n,m,v),m++,v--;r(n[m],p)<0;)m++;for(;r(n[v],p)>0;)v--}r(n[t],p)===0?$m(n,t,v):(v++,$m(n,v,i)),v<=e&&(t=v+1),e<=v&&(i=v-1)}}function $m(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function nge(n,e){return n<e?-1:n>e?1:0}var dp=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!j1(e,t))return i;let r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){let a=t.children[o],l=t.leaf?r(a):a;j1(e,l)&&(t.leaf?i.push(a):_M(e,l)?this._all(a,i):s.push(a))}t=s.pop()}return i}collides(e){let t=this.data;if(!j1(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let s=t.children[r],o=t.leaf?this.toBBox(s):s;if(j1(e,o)){if(t.leaf||_M(e,o))return!0;i.push(s)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=up([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),s=[],o=[],a,l,c;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),i.leaf){let u=ige(e,i.children,t);if(u!==-1)return i.children.splice(u,1),s.push(i),this._condense(s),this}!c&&!i.leaf&&_M(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let s=i-t+1,o=this._maxEntries,a;if(s<=o)return a=up(e.slice(t,i+1)),cp(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=up([]),a.leaf=!1,a.height=r;let l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));H7(e,t,i,c,this.compareMinX);for(let u=t;u<=i;u+=c){let h=Math.min(u+c-1,i);H7(e,u,h,l,this.compareMinY);for(let p=u;p<=h;p+=l){let m=Math.min(p+l-1,h);a.children.push(this._build(e,p,m,r-1))}}return cp(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=gM(c),h=oge(e,c)-u;h<o?(o=h,s=u<s?u:s,a=c):h===o&&u<s&&(s=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),Wm(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){let i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);let o=this._chooseSplitIndex(i,s,r),a=up(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,cp(i,this.toBBox),cp(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=up([e,t]),this.data.height=e.height+1,this.data.leaf=!1,cp(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,s=1/0,o=1/0;for(let a=t;a<=i-t;a++){let l=Gm(e,0,a,this.toBBox),c=Gm(e,a,i,this.toBBox),u=age(l,c),h=gM(l)+gM(c);u<s?(s=u,r=a,o=h<o?h:o):u===s&&h<o&&(o=h,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:rge,s=e.leaf?this.compareMinY:sge,o=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let s=this.toBBox,o=Gm(e,0,t,s),a=Gm(e,i-t,i,s),l=H1(o)+H1(a);for(let c=t;c<i-t;c++){let u=e.children[c];Wm(o,e.leaf?s(u):u),l+=H1(o)}for(let c=i-t-1;c>=t;c--){let u=e.children[c];Wm(a,e.leaf?s(u):u),l+=H1(a)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Wm(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():cp(e[t],this.toBBox)}};function ige(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function cp(n,e){Gm(n,0,n.children.length,e,n)}function Gm(n,e,t,i,r){r||(r=up(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){let o=n.children[s];Wm(r,n.leaf?i(o):o)}return r}function Wm(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function rge(n,e){return n.minX-e.minX}function sge(n,e){return n.minY-e.minY}function gM(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function H1(n){return n.maxX-n.minX+(n.maxY-n.minY)}function oge(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function age(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),s=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-i)}function _M(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function j1(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function up(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H7(n,e,t,i,r){let s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=i)continue;let o=e+Math.ceil((t-e)/i/2)*i;mM(n,o,e,t,r),s.push(e,o,o,t)}}function j7(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var yM=class n extends P1{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let o=e.img!==void 0?e.img:null,a=e.src;st(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||xt(o)),st(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),st(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=lt.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?lt.LOADED:lt.IDLE:l=lt.LOADING:l=lt.LOADED),this.color_=e.color!==void 0?Ra(e.color):null,this.iconImage_=rp(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;let p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;let m=this.iconImage_.getSize();this.setScale(j7(m[0],m[1],e.width,e.height))};this.listenImageChange(p);return}}c!==void 0&&this.setScale(j7(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==lt.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==lt.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Pe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Pe.CHANGE,e)}ready(){return this.iconImage_.ready()}},Iu=yM;var Eu=0;var lr=1<<Eu++,jt=1<<Eu++,br=1<<Eu++,Jr=1<<Eu++,Jl=1<<Eu++,Km=1<<Eu++,$1=Math.pow(2,Eu)-1,bM={[lr]:"boolean",[jt]:"number",[br]:"string",[Jr]:"color",[Jl]:"number[]",[Km]:"size"},lge=Object.keys(bM).map(Number).sort(Dr);function cge(n){return n in bM}function Ym(n){let e=[];for(let t of lge)Qm(n,t)&&e.push(bM[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Qm(n,e){return(n&e)===e}function Xl(n,e){return n===e}var Gn=class{constructor(e,t){if(!cge(e))throw new Error(`literal expressions must have a specific type, got ${Ym(e)}`);this.type=e,this.value=t}},vM=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function wM(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Pi(n,e,t){switch(typeof n){case"boolean":{if(Xl(e,br))return new Gn(br,n?"true":"false");if(!Qm(e,lr))throw new Error(`got a boolean, but expected ${Ym(e)}`);return new Gn(lr,n)}case"number":{if(Xl(e,Km))return new Gn(Km,$n(n));if(Xl(e,lr))return new Gn(lr,!!n);if(Xl(e,br))return new Gn(br,n.toString());if(!Qm(e,jt))throw new Error(`got a number, but expected ${Ym(e)}`);return new Gn(jt,n)}case"string":{if(Xl(e,Jr))return new Gn(Jr,Bm(n));if(Xl(e,lr))return new Gn(lr,!!n);if(!Qm(e,br))throw new Error(`got a string, but expected ${Ym(e)}`);return new Gn(br,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return wge(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Xl(e,Km)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Gn(Km,n)}if(Xl(e,Jr)){if(n.length===3)return new Gn(Jr,[...n,1]);if(n.length===4)return new Gn(Jr,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!Qm(e,Jl))throw new Error(`got an array of numbers, but expected ${Ym(e)}`);return new Gn(Jl,n)}var oe={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},uge={[oe.Get]:pt(kt(1,1/0),dge),[oe.Var]:pt(kt(1,1),hge),[oe.Id]:pt(pge,qm),[oe.Concat]:pt(kt(2,1/0),ln(br)),[oe.GeometryType]:pt(fge,qm),[oe.Resolution]:pt(qm),[oe.Zoom]:pt(qm),[oe.Time]:pt(qm),[oe.Any]:pt(kt(2,1/0),ln(lr)),[oe.All]:pt(kt(2,1/0),ln(lr)),[oe.Not]:pt(kt(1,1),ln(lr)),[oe.Equal]:pt(kt(2,2),ln($1)),[oe.NotEqual]:pt(kt(2,2),ln($1)),[oe.GreaterThan]:pt(kt(2,2),ln(jt)),[oe.GreaterThanOrEqualTo]:pt(kt(2,2),ln(jt)),[oe.LessThan]:pt(kt(2,2),ln(jt)),[oe.LessThanOrEqualTo]:pt(kt(2,2),ln(jt)),[oe.Multiply]:pt(kt(2,1/0),$7),[oe.Coalesce]:pt(kt(2,1/0),$7),[oe.Divide]:pt(kt(2,2),ln(jt)),[oe.Add]:pt(kt(2,1/0),ln(jt)),[oe.Subtract]:pt(kt(2,2),ln(jt)),[oe.Clamp]:pt(kt(3,3),ln(jt)),[oe.Mod]:pt(kt(2,2),ln(jt)),[oe.Pow]:pt(kt(2,2),ln(jt)),[oe.Abs]:pt(kt(1,1),ln(jt)),[oe.Floor]:pt(kt(1,1),ln(jt)),[oe.Ceil]:pt(kt(1,1),ln(jt)),[oe.Round]:pt(kt(1,1),ln(jt)),[oe.Sin]:pt(kt(1,1),ln(jt)),[oe.Cos]:pt(kt(1,1),ln(jt)),[oe.Atan]:pt(kt(1,2),ln(jt)),[oe.Sqrt]:pt(kt(1,1),ln(jt)),[oe.Match]:pt(kt(4,1/0),G7,gge),[oe.Between]:pt(kt(3,3),ln(jt)),[oe.Interpolate]:pt(kt(6,1/0),G7,_ge),[oe.Case]:pt(kt(3,1/0),mge,yge),[oe.In]:pt(kt(2,2),vge),[oe.Number]:pt(kt(1,1/0),ln($1)),[oe.String]:pt(kt(1,1/0),ln($1)),[oe.Array]:pt(kt(1,1/0),ln(jt)),[oe.Color]:pt(kt(1,4),ln(jt)),[oe.Band]:pt(kt(1,3),ln(jt)),[oe.Palette]:pt(kt(2,2),bge),[oe.ToString]:pt(kt(1,1),ln(lr|jt|br|Jr))};function dge(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=n[s+1];switch(typeof o){case"number":{r[s]=new Gn(jt,o);break}case"string":{r[s]=new Gn(br,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return r}function hge(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new Gn(br,i)]}function pge(n,e,t){t.featureId=!0}function fge(n,e,t){t.geometryType=!0}function qm(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function kt(n,e){return function(t,i,r){let s=t[0],o=t.length-1;if(n===e){if(o!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${s}, got ${o}`)}}else if(o<n||o>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function $7(n,e,t){let i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){let o=Pi(n[s+1],e,t);r[s]=o}return r}function ln(n){return function(e,t,i){let r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){let a=Pi(e[o+1],n,i);s[o]=a}return s}}function mge(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function G7(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function gge(n,e,t){let i=n.length-1,r=br|jt|lr,s=Pi(n[1],r,t),o=Pi(n[n.length-1],e,t),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Pi(n[l+2],s.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Pi(n[l+3],o.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function _ge(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let s=new Gn(jt,r),o;try{o=Pi(n[2],jt,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Pi(n[l+3],jt,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Pi(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function yge(n,e,t){let i=Pi(n[n.length-1],e,t),r=new Array(n.length-1);for(let s=0;s<r.length-1;s+=2){try{let o=Pi(n[s+1],lr,t);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{let o=Pi(n[s+2],i.type,t);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function vge(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=br}else r=jt;let s=new Array(i.length);for(let a=0;a<s.length;a++)try{let l=Pi(i[a],r,t);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Pi(n[1],r,t),...s]}function bge(n,e,t){let i;try{i=Pi(n[1],jt,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Pi(r[o],Jr,t)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Gn))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function pt(...n){return function(e,t,i){let r=e[0],s;for(let o=0;o<n.length;o++){let a=n[o](e,t,i);if(o==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new vM(t,r,...s)}}function wge(n,e,t){let i=n[0],r=uge[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function CM(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return CM(n.getGeometries()[0]);default:return""}}function IM(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Do(n,e,t){let i=Pi(n,e,t);return $s(i,t)}function $s(n,e){if(n instanceof Gn){if(n.type===Jr&&typeof n.value=="string"){let i=Bm(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case oe.Number:case oe.String:case oe.Coalesce:return Cge(n,e);case oe.Get:case oe.Var:return Ige(n,e);case oe.Id:return i=>i.featureId;case oe.GeometryType:return i=>i.geometryType;case oe.Concat:{let i=n.args.map(r=>$s(r,e));return r=>"".concat(...i.map(s=>s(r).toString()))}case oe.Resolution:return i=>i.resolution;case oe.Any:case oe.All:case oe.Between:case oe.In:case oe.Not:return Tge(n,e);case oe.Equal:case oe.NotEqual:case oe.LessThan:case oe.LessThanOrEqualTo:case oe.GreaterThan:case oe.GreaterThanOrEqualTo:return Ege(n,e);case oe.Multiply:case oe.Divide:case oe.Add:case oe.Subtract:case oe.Clamp:case oe.Mod:case oe.Pow:case oe.Abs:case oe.Floor:case oe.Ceil:case oe.Round:case oe.Sin:case oe.Cos:case oe.Atan:case oe.Sqrt:return xge(n,e);case oe.Case:return Sge(n,e);case oe.Match:return Dge(n,e);case oe.Interpolate:return Mge(n,e);case oe.ToString:return Age(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function Cge(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=$s(n.args[s],e);switch(t){case oe.Coalesce:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case oe.Number:case oe.String:return s=>{for(let o=0;o<i;++o){let a=r[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Ige(n,e){let i=n.args[0].value;switch(n.operator){case oe.Get:return r=>{let s=n.args,o=r.properties[i];for(let a=1,l=s.length;a<l;++a){let u=s[a].value;o=o[u]}return o};case oe.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Ege(n,e){let t=n.operator,i=$s(n.args[0],e),r=$s(n.args[1],e);switch(t){case oe.Equal:return s=>i(s)===r(s);case oe.NotEqual:return s=>i(s)!==r(s);case oe.LessThan:return s=>i(s)<r(s);case oe.LessThanOrEqualTo:return s=>i(s)<=r(s);case oe.GreaterThan:return s=>i(s)>r(s);case oe.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function Tge(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=$s(n.args[s],e);switch(t){case oe.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case oe.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case oe.Between:return s=>{let o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case oe.In:return s=>{let o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case oe.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function xge(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=$s(n.args[s],e);switch(t){case oe.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case oe.Divide:return s=>r[0](s)/r[1](s);case oe.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case oe.Subtract:return s=>r[0](s)-r[1](s);case oe.Clamp:return s=>{let o=r[0](s),a=r[1](s);if(o<a)return a;let l=r[2](s);return o>l?l:o};case oe.Mod:return s=>r[0](s)%r[1](s);case oe.Pow:return s=>Math.pow(r[0](s),r[1](s));case oe.Abs:return s=>Math.abs(r[0](s));case oe.Floor:return s=>Math.floor(r[0](s));case oe.Ceil:return s=>Math.ceil(r[0](s));case oe.Round:return s=>Math.round(r[0](s));case oe.Sin:return s=>Math.sin(r[0](s));case oe.Cos:return s=>Math.cos(r[0](s));case oe.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case oe.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function Sge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$s(n.args[r],e);return r=>{for(let s=0;s<t-1;s+=2)if(i[s](r))return i[s+1](r);return i[t-1](r)}}function Dge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$s(n.args[r],e);return r=>{let s=i[0](r);for(let o=1;o<t;o+=2)if(s===i[o](r))return i[o+1](r);return i[t-1](r)}}function Mge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$s(n.args[r],e);return r=>{let s=i[0](r),o=i[1](r),a,l;for(let c=2;c<t;c+=2){let u=i[c](r),h=i[c+1](r),p=Array.isArray(h);if(p&&(h=m7(h)),u>=o)return c===2?h:p?Rge(s,o,a,l,u,h):Zm(s,o,a,l,u,h);a=u,l=h}return l}}function Age(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=$s(n.args[s],e);switch(t){case oe.ToString:return s=>{let o=r[0](s);return n.args[0].type===Jr?zm(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Zm(n,e,t,i,r,s){let o=r-t;if(o===0)return i;let a=e-t,l=n===1?a/o:(Math.pow(n,a)-1)/(Math.pow(n,o)-1);return i+l*(s-i)}function Rge(n,e,t,i,r,s){if(r-t===0)return i;let a=P2(i),l=P2(s),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[Zm(n,e,t,a[0],r,l[0]),Zm(n,e,t,a[1],r,l[1]),a[2]+Zm(n,e,t,0,r,c),Zm(n,e,t,i[3],r,s[3])];return F2(g7(u))}function kge(n){return!0}function Y7(n){let e=wM(),t=Oge(n,e),i=IM();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){let o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=CM(r.getGeometry())),t(i)}}function xM(n){let e=wM(),t=n.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=EM(n[o],e);let r=IM(),s=new Array(t);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){let c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){let u=i[c](r);u&&(s[l]=u,l+=1)}return s.length=l,s}}function Oge(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let s=n[r],o="filter"in s?Do(s.filter,lr,e):kge,a;if(Array.isArray(s.style)){let l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=EM(s.style[c],e)}else a=[EM(s.style,e)];i[r]={filter:o,styles:a}}return function(r){let s=[],o=!1;for(let a=0;a<t;++a){let l=i[a].filter;if(l(r)&&!(n[a].else&&o)){o=!0;for(let c of i[a].styles){let u=c(r);u&&s.push(u)}}}return s}}function EM(n,e){let t=Xm(n,"",e),i=Jm(n,"",e),r=Pge(n,e),s=Fge(n,e),o=Fr(n,"z-index",e);if(!t&&!i&&!r&&!s&&!zs(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new Zl;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(i){let u=i(l);u&&(c=!1),a.setStroke(u)}if(r){let u=r(l);u&&(c=!1),a.setText(u)}if(s){let u=s(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Xm(n,e,t){let i;if(e+"fill-pattern-src"in n)i=Bge(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return s=>null;i=SM(n,e+"fill-color",t)}if(!i)return null;let r=new sp;return function(s){let o=i(s);return o==="none"?null:(r.setColor(o),r)}}function Jm(n,e,t){let i=Fr(n,e+"stroke-width",t),r=SM(n,e+"stroke-color",t);if(!i&&!r)return null;let s=La(n,e+"stroke-line-cap",t),o=La(n,e+"stroke-line-join",t),a=Q7(n,e+"stroke-line-dash",t),l=Fr(n,e+"stroke-line-dash-offset",t),c=Fr(n,e+"stroke-miter-limit",t),u=new O1;return function(h){if(r){let p=r(h);if(p==="none")return null;u.setColor(p)}if(i&&u.setWidth(i(h)),s){let p=s(h);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(p)}if(o){let p=o(h);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(p)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function Pge(n,e){let t="text-",i=La(n,t+"value",e);if(!i)return null;let r=Xm(n,t,e),s=Xm(n,t+"background-",e),o=Jm(n,t,e),a=Jm(n,t+"background-",e),l=La(n,t+"font",e),c=Fr(n,t+"max-angle",e),u=Fr(n,t+"offset-x",e),h=Fr(n,t+"offset-y",e),p=eg(n,t+"overflow",e),m=La(n,t+"placement",e),v=Fr(n,t+"repeat",e),w=q1(n,t+"scale",e),C=eg(n,t+"rotate-with-view",e),S=Fr(n,t+"rotation",e),R=La(n,t+"align",e),V=La(n,t+"justify",e),z=La(n,t+"baseline",e),q=Q7(n,t+"padding",e),Y=K1(n,t+"declutter-mode"),A=new k7({declutterMode:Y});return function(x){if(A.setText(i(x)),r&&A.setFill(r(x)),s&&A.setBackgroundFill(s(x)),o&&A.setStroke(o(x)),a&&A.setBackgroundStroke(a(x)),l&&A.setFont(l(x)),c&&A.setMaxAngle(c(x)),u&&A.setOffsetX(u(x)),h&&A.setOffsetY(h(x)),p&&A.setOverflow(p(x)),m){let D=m(x);if(D!=="point"&&D!=="line")throw new Error("Expected point or line for text-placement");A.setPlacement(D)}if(v&&A.setRepeat(v(x)),w&&A.setScale(w(x)),C&&A.setRotateWithView(C(x)),S&&A.setRotation(S(x)),R){let D=R(x);if(D!=="left"&&D!=="center"&&D!=="right"&&D!=="end"&&D!=="start")throw new Error("Expected left, right, center, start, or end for text-align");A.setTextAlign(D)}if(V){let D=V(x);if(D!=="left"&&D!=="right"&&D!=="center")throw new Error("Expected left, right, or center for text-justify");A.setJustify(D)}if(z){let D=z(x);if(D!=="bottom"&&D!=="top"&&D!=="middle"&&D!=="alphabetic"&&D!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");A.setTextBaseline(D)}return q&&A.setPadding(q(x)),A}}function Fge(n,e){return"icon-src"in n?Lge(n,e):"shape-points"in n?Nge(n,e):"circle-radius"in n?Vge(n,e):null}function Lge(n,e){let t="icon-",i=t+"src",r=Z7(n[i],i),s=G1(n,t+"anchor",e),o=q1(n,t+"scale",e),a=Fr(n,t+"opacity",e),l=G1(n,t+"displacement",e),c=Fr(n,t+"rotation",e),u=eg(n,t+"rotate-with-view",e),h=q7(n,t+"anchor-origin"),p=K7(n,t+"anchor-x-units"),m=K7(n,t+"anchor-y-units"),v=jge(n,t+"color"),w=Uge(n,t+"cross-origin"),C=Hge(n,t+"offset"),S=q7(n,t+"offset-origin"),R=W1(n,t+"width"),V=W1(n,t+"height"),z=zge(n,t+"size"),q=K1(n,t+"declutter-mode"),Y=new Iu({src:r,anchorOrigin:h,anchorXUnits:p,anchorYUnits:m,color:v,crossOrigin:w,offset:C,offsetOrigin:S,height:V,width:R,size:z,declutterMode:q});return function(A){return a&&Y.setOpacity(a(A)),l&&Y.setDisplacement(l(A)),c&&Y.setRotation(c(A)),u&&Y.setRotateWithView(u(A)),o&&Y.setScale(o(A)),s&&Y.setAnchor(s(A)),Y}}function Nge(n,e){let t="shape-",i=t+"points",r=t+"radius",s=TM(n[i],i),o=TM(n[r],r),a=Xm(n,t,e),l=Jm(n,t,e),c=q1(n,t+"scale",e),u=G1(n,t+"displacement",e),h=Fr(n,t+"rotation",e),p=eg(n,t+"rotate-with-view",e),m=W1(n,t+"radius2"),v=W1(n,t+"angle"),w=K1(n,t+"declutter-mode"),C=new N1({points:s,radius:o,radius2:m,angle:v,declutterMode:w});return function(S){return a&&C.setFill(a(S)),l&&C.setStroke(l(S)),u&&C.setDisplacement(u(S)),h&&C.setRotation(h(S)),p&&C.setRotateWithView(p(S)),c&&C.setScale(c(S)),C}}function Vge(n,e){let t="circle-",i=Xm(n,t,e),r=Jm(n,t,e),s=Fr(n,t+"radius",e),o=q1(n,t+"scale",e),a=G1(n,t+"displacement",e),l=Fr(n,t+"rotation",e),c=eg(n,t+"rotate-with-view",e),u=K1(n,t+"declutter-mode"),h=new V1({radius:5,declutterMode:u});return function(p){return s&&h.setRadius(s(p)),i&&h.setFill(i(p)),r&&h.setStroke(r(p)),a&&h.setDisplacement(a(p)),l&&h.setRotation(l(p)),c&&h.setRotateWithView(c(p)),o&&h.setScale(o(p)),h}}function Fr(n,e,t){if(!(e in n))return;let i=Do(n[e],jt,t);return function(r){return TM(i(r),e)}}function La(n,e,t){if(!(e in n))return null;let i=Do(n[e],br,t);return function(r){return Z7(i(r),e)}}function Bge(n,e,t){let i=La(n,e+"pattern-src",t),r=W7(n,e+"pattern-offset",t),s=W7(n,e+"pattern-size",t),o=SM(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function eg(n,e,t){if(!(e in n))return null;let i=Do(n[e],lr,t);return function(r){let s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function SM(n,e,t){if(!(e in n))return null;let i=Do(n[e],Jr,t);return function(r){return X7(i(r),e)}}function Q7(n,e,t){if(!(e in n))return null;let i=Do(n[e],Jl,t);return function(r){return tg(i(r),e)}}function G1(n,e,t){if(!(e in n))return null;let i=Do(n[e],Jl,t);return function(r){let s=tg(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function W7(n,e,t){if(!(e in n))return null;let i=Do(n[e],Jl,t);return function(r){return J7(i(r),e)}}function q1(n,e,t){if(!(e in n))return null;let i=Do(n[e],Jl|jt,t);return function(r){return $ge(i(r),e)}}function W1(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function zge(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return $n(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function Uge(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function q7(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function K7(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function Hge(n,e){let t=n[e];if(t!==void 0)return tg(t,e)}function K1(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function jge(n,e){let t=n[e];if(t!==void 0)return X7(t,e)}function tg(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function Z7(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function TM(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function X7(n,e){if(typeof n=="string")return n;let t=tg(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function J7(n,e){let t=tg(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function $ge(n,e){return typeof n=="number"?n:J7(n,e)}var e8={RENDER_ORDER:"renderOrder"},DM=class extends Cu{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(e8.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new dp(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(e8.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?nM:e;let t=Gge(e);this.styleFunction_=e===null?void 0:R7(t),this.changed()}};function Gge(n){if(n===void 0)return nM;if(!n)return null;if(typeof n=="function"||n instanceof Zl)return n;if(!Array.isArray(n))return xM([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof Zl){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!(o instanceof Zl))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){let r=new Array(e);for(let s=0;s<e;++s){let o=n[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return Y7(r)}return xM(n)}var Y1=DM;var ng={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ig=[ng.FILL],Mo=[ng.STROKE],Na=[ng.BEGIN_PATH],MM=[ng.CLOSE_PATH],Ge=ng;var AM=class{drawCustom(e,t,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Q1=AM;var RM=class extends Q1{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates,o=s.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Us(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,i,r,s,o){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();o&&(t+=r);let u=e[t],h=e[t+1],p=this.tmpCoordinate_,m=!0,v,w,C;for(v=t+r;v<i;v+=r)p[0]=e[v],p[1]=e[v+1],C=p1(c,p),C!==w?(m&&(a[l++]=u,a[l++]=h,m=!1),a[l++]=p[0],a[l++]=p[1]):C===hi.INTERSECTING?(a[l++]=p[0],a[l++]=p[1],m=!1):m=!0,u=p[0],h=p[1],w=C;return(s&&m||v===t+r)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,i,r,s){for(let o=0,a=i.length;o<a;++o){let l=i[o],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);s.push(c),t=l}return t}drawCustom(e,t,i,r,s){this.beginGeometry(e,t,s);let o=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,h,p,m;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),p=[];let v=e.getEndss();m=0;for(let w=0,C=v.length;w<C;++w){let S=[];m=this.drawCustomCoordinates_(c,m,v[w],a,S),p.push(S)}this.instructions.push([Ge.CUSTOM,l,p,e,i,C2,s]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,p,e,r||i,C2,s]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),m=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([Ge.CUSTOM,l,h,e,i,tp,s]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,h,e,r||i,tp,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([Ge.CUSTOM,l,u,e,i,Wl,s]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,u,e,r||i,Wl,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([Ge.CUSTOM,l,u,e,i,Wl,s]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,u,e,r||i,Wl,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([Ge.CUSTOM,l,u,e,i,void 0,s]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,u,e,r||i,void 0,s]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[Ge.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ge.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,s,o=-1;for(t=0;t<i;++t)r=e[t],s=r[0],s==Ge.END_GEOMETRY?o=t:s==Ge.BEGIN_GEOMETRY&&(r[2]=t,p9(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){let i=this.state;if(e){let r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=Rr(r||bi)}else i.fillStyle=void 0;if(t){let r=t.getColor();i.strokeStyle=Rr(r||Oa);let s=t.getLineCap();i.lineCap=s!==void 0?s:xo;let o=t.getLineDash();i.lineDash=o?o.slice():kr;let a=t.getLineDashOffset();i.lineDashOffset=a||Or;let l=t.getLineJoin();i.lineJoin=l!==void 0?l:So;let c=t.getWidth();i.lineWidth=c!==void 0?c:Fa;let u=t.getMiterLimit();i.miterLimit=u!==void 0?u:ka,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){let t=e.fillStyle,i=[Ge.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ge.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!or(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[Ge.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=f1(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;$h(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Ao=RM;var kM=class extends Ao{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Us(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([Ge.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),s=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Us(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);let o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([Ge.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},t8=kM;var OM=class extends Ao{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[Ge.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,kr,Or],Na);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Mo),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,kr,Or],Na);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,p=a.length;h<p;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(Mo),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Mo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Mo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Na)}},n8=OM;var PM=class extends Ao{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=i.length;this.instructions.push(Na),this.hitDetectionInstructions.push(Na);for(let c=0;c<l;++c){let u=i[c],h=this.coordinates.length,p=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),m=[Ge.MOVE_TO_LINE_TO,h,p];this.instructions.push(m),this.hitDetectionInstructions.push(m),a&&(this.instructions.push(MM),this.hitDetectionInstructions.push(MM)),t=u}return o&&(this.instructions.push(ig),this.hitDetectionInstructions.push(ig)),a&&(this.instructions.push(Mo),this.hitDetectionInstructions.push(Mo)),t}drawCircle(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,bi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,kr,Or]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[Ge.CIRCLE,c];this.instructions.push(Na,u),this.hitDetectionInstructions.push(Na,u),r.fillStyle!==void 0&&(this.instructions.push(ig),this.hitDetectionInstructions.push(ig)),r.strokeStyle!==void 0&&(this.instructions.push(Mo),this.hitDetectionInstructions.push(Mo)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,bi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,kr,Or]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,bi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,kr,Or]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,p=a.length;h<p;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Gl(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},FM=PM;function i8(n,e,t,i,r){let s=[],o=t,a=0,l=e.slice(t,2);for(;a<n&&o+r<i;){let[c,u]=l.slice(-2),h=e[o+r],p=e[o+r+1],m=Math.sqrt((h-c)*(h-c)+(p-u)*(p-u));if(a+=m,a>=n){let v=(n-a+m)/m,w=ar(c,h,v),C=ar(u,p,v);l.push(w,C),s.push(l),l=[w,C],a==n&&(o+=r),a=0}else if(a<n)l.push(e[o+r],e[o+r+1]),o+=r;else{let v=m-a,w=ar(c,h,v/m),C=ar(u,p,v/m);l.push(w,C),s.push(l),l=[w,C],a=0,o+=r}}return a>0&&s.push(l),s}function r8(n,e,t,i,r){let s=t,o=t,a=0,l=0,c=t,u,h,p,m,v,w,C,S,R,V;for(h=t;h<i;h+=r){let z=e[h],q=e[h+1];v!==void 0&&(R=z-v,V=q-w,m=Math.sqrt(R*R+V*V),C!==void 0&&(l+=p,u=Math.acos((C*R+S*V)/(p*m)),u>n&&(l>a&&(a=l,s=c,o=h),l=0,c=h-r)),p=m,C=R,S=V),v=z,w=q}return l+=m,l>a?[c,h]:[s,o]}var rg={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},LM=class extends Ao{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[bi]={fillStyle:bi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,h=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!On(this.maxExtent,e.getExtent()))return;let p;if(u=e.getFlatCoordinates(),c=="LineString")p=[u.length];else if(c=="MultiLineString")p=e.getEnds();else if(c=="Polygon")p=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let C=e.getEndss();p=[];for(let S=0,R=C.length;S<R;++S)p.push(C[S][0])}this.beginGeometry(e,t,i);let m=o.repeat,v=m?void 0:o.textAlign,w=0;for(let C=0,S=p.length;C<S;++C){let R;m?R=i8(m*this.resolution,u,w,p[C],h):R=[u.slice(w,p[C])];for(let V=0,z=R.length;V<z;++V){let q=R[V],Y=0,A=q.length;if(v==null){let D=r8(o.maxAngle,q,0,q.length,2);Y=D[0],A=D[1]}for(let D=Y;D<A;D+=h)a.push(q[D],q[D+1]);let x=a.length;w=p[C],this.drawChars_(l,x),l=x}}this.endGeometry(t)}else{let p=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||p.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":let R=e.getFlatInteriorPoints();u=[];for(let V=0,z=R.length;V<z;V+=3)o.overflow||p.push(R[V+2]/this.resolution),u.push(R[V],R[V+1]);if(u.length===0)return;h=2;break;default:}let m=this.appendFlatPointCoordinates(u,h);if(m===l)return;if(p&&(m-l)/2!==u.length/h){let R=l/2;p=p.filter((V,z)=>{let q=a[(R+z)*2]===u[z*h]&&a[(R+z)*2+1]===u[z*h+1];return q||--R,q})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,i);let v=o.padding;if(v!=Pa&&(o.scale[0]<0||o.scale[1]<0)){let R=o.padding[0],V=o.padding[1],z=o.padding[2],q=o.padding[3];o.scale[0]<0&&(V=-V,q=-q),o.scale[1]<0&&(R=-R,z=-z),v=[R,V,z,q]}let w=this.pixelRatio;this.instructions.push([Ge.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,v==Pa?Pa:v.map(function(R){return R*w}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);let C=1/w,S=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=bi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,this.declutterMode_,this.declutterImageWithText_,v,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?bi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),o.backgroundFill&&(this.state.fillStyle=S,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||Ql,justify:t.justify,textBaseline:t.textBaseline||wu,scale:t.scale});let o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=rg[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,p=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Ge.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,s,p*l,h,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([Ge.DRAW_CHARS,e,t,c,r.overflow,a&&bi,r.maxAngle,l,u,s,p*l,h,o,1/l,this.declutterMode_])}setTextStyle(e,t){let i,r,s;if(!e)this.text_="";else{let o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Rr(o.getColor()||bi)):(r=null,this.textFillState_=r);let a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);let v=a.getLineDash(),w=a.getLineDashOffset(),C=a.getWidth(),S=a.getMiterLimit();s.lineCap=a.getLineCap()||xo,s.lineDash=v?v.slice():kr,s.lineDashOffset=w===void 0?Or:w,s.lineJoin=a.getLineJoin()||So,s.lineWidth=C===void 0?Fa:C,s.miterLimit=S===void 0?ka:S,s.strokeStyle=Rr(a.getColor()||Oa)}i=this.textState_;let l=e.getFont()||L1;x7(l);let c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||wu,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Pa,i.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),h=e.getOffsetY(),p=e.getRotateWithView(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=m===void 0?0:m,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:xt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+xt(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},s8=LM;var Wge={Circle:FM,Default:Ao,Image:t8,LineString:n8,Polygon:FM,Text:s8},NM=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let s=i[r].finish();e[t][r]=s}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[t];if(s===void 0){let o=Wge[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s}return s}},o8=NM;var qge=5,VM=class extends u1{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=qge}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Rt()}getData(e){return null}prepareFrame(e){return Rt()}renderFrame(e,t){return Rt()}forEachFeatureAtCoordinate(e,t,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===lt.LOADED||t.getState()===lt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=lt.LOADED&&t!=lt.ERROR&&e.addEventListener(Pe.CHANGE,this.boundHandleImageChange_),t==lt.IDLE&&(e.load(),t=e.getState()),t==lt.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},a8=VM;var BM=class extends Ai{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},Z1=BM;var zM=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(ip(),{get:(e,t)=>{if(typeof ip()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let s=t[i];if(typeof s=="function"){s(e);continue}let o=t[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},X1=zM;var HM=[],hp=null;function Kge(){hp=tn(1,1,void 0,{willReadFrequently:!0})}var UM=class extends a8{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ki(),this.pixelTransform=ki(),this.inversePixelTransform=ki(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){hp||Kge(),hp.clearRect(0,0,1,1);let r;try{hp.drawImage(e,t,i,1,1,0,0,1,1),r=hp.getImageData(0,0,1,1).data}catch{return hp=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&or(Ra(e.style.backgroundColor),Ra(i)))){let a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=tn();let l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=ms(i),s=Kh(i),o=qh(i),a=Wh(i);Zn(t.coordinateToPixelTransform,r),Zn(t.coordinateToPixelTransform,s),Zn(t.coordinateToPixelTransform,o),Zn(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;Zn(l,r),Zn(l,s),Zn(l,o),Zn(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(It(i)/r*o),l=Math.round(Sn(i)/r*o);ji(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),h1(this.inversePixelTransform,this.pixelTransform);let c=v9(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let s=new Z1(e,this.inversePixelTransform,i,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_($i.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_($i.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new X1),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_($i.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_($i.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,s,o,a){let l=s/2,c=o/2,u=r/t,h=-u,p=-e[0]+a,m=-e[1];return ji(this.tempTransform,l,c,u,h,-i,p,m)}disposeInternal(){delete this.frameState,super.disposeInternal()}},J1=UM;function l8(n,e,t,i,r,s,o,a,l,c,u,h){let p=n[e],m=n[e+1],v=0,w=0,C=0,S=0;function R(){v=p,w=m,e+=i,p=n[e],m=n[e+1],S+=C,C=Math.sqrt((p-v)*(p-v)+(m-w)*(m-w))}do R();while(e<t-i&&S+C<s);let V=C===0?0:(s-S)/C,z=ar(v,p,V),q=ar(w,m,V),Y=e-i,A=S,x=s+a*l(c,r,u);for(;e<t-i&&S+C<x;)R();V=C===0?0:(x-S)/C;let D=ar(v,p,V),B=ar(w,m,V),U;if(h){let ee=[z,q,D,B];E1(ee,0,4,2,h,ee,ee),U=ee[0]>ee[2]}else U=z>D;let H=Math.PI,P=[],Ae=Y+i===e;e=Y,C=0,S=A,p=n[e],m=n[e+1];let De;if(Ae){R(),De=Math.atan2(m-w,p-v),U&&(De+=De>0?-H:H);let ee=(D+z)/2,ae=(B+q)/2;return P[0]=[ee,ae,(x-s)/2,De,r],P}r=r.replace(/\n/g," ");for(let ee=0,ae=r.length;ee<ae;){R();let fe=Math.atan2(m-w,p-v);if(U&&(fe+=fe>0?-H:H),De!==void 0){let ce=fe-De;if(ce+=ce>H?-2*H:ce<-H?2*H:0,Math.abs(ce)>o)return null}De=fe;let Fe=ee,Re=0;for(;ee<ae;++ee){let ce=U?ae-ee-1:ee,Dn=a*l(c,r[ce],u);if(e+i<t&&S+C<s+Re+Dn/2)break;Re+=Dn}if(ee===Fe)continue;let We=U?r.substring(ae-Fe,ae-ee):r.substring(Fe,ee);V=C===0?0:(s+Re/2-S)/C;let Xe=ar(v,p,V),wt=ar(w,m,V);P.push([Xe,wt,Re/2,fe,We]),s+=Re}return P}var pp=Xn(),ec=[],Va=[],Ba=[],tc=[];function c8(n){return n[3].declutterBox}var u8=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function jM(n,e){return e==="start"?e=u8.test(n)?"right":"left":e==="end"&&(e=u8.test(n)?"left":"right"),rg[e]}function Yge(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var $M=class{constructor(e,t,i,r,s){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=ki(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new X1:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let s=e+t+i+r;if(this.labels_[s])return this.labels_[s];let o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?rg[l.justify]:jM(Array.isArray(e)?e[0]:e,l.textAlign||Ql),p=r&&o.lineWidth?o.lineWidth:0,m=Array.isArray(e)?e:String(e).split(`
`).reduce(Yge,[]),{width:v,height:w,widths:C,heights:S,lineWidths:R}=D7(l,m),V=v+p,z=[],q=(V+2)*u[0],Y=(w+p)*u[1],A={width:q<0?Math.floor(q):Math.ceil(q),height:Y<0?Math.floor(Y):Math.ceil(Y),contextInstructions:z};(u[0]!=1||u[1]!=1)&&z.push("scale",u),r&&(z.push("strokeStyle",o.strokeStyle),z.push("lineWidth",p),z.push("lineCap",o.lineCap),z.push("lineJoin",o.lineJoin),z.push("miterLimit",o.miterLimit),z.push("setLineDash",[o.lineDash]),z.push("lineDashOffset",o.lineDashOffset)),i&&z.push("fillStyle",a.fillStyle),z.push("textBaseline","middle"),z.push("textAlign","center");let x=.5-h,D=h*V+x*p,B=[],U=[],H=0,P=0,Ae=0,De=0,ee;for(let ae=0,fe=m.length;ae<fe;ae+=2){let Fe=m[ae];if(Fe===`
`){P+=H,H=0,D=h*V+x*p,++De;continue}let Re=m[ae+1]||l.font;Re!==ee&&(r&&B.push("font",Re),i&&U.push("font",Re),ee=Re),H=Math.max(H,S[Ae]);let We=[Fe,D+x*C[Ae]+h*(C[Ae]-R[De]),.5*(p+H)+P];D+=C[Ae],r&&B.push("strokeText",We),i&&U.push("fillText",We),++Ae}return Array.prototype.push.apply(z,B),Array.prototype.push.apply(z,U),this.labels_[s]=A,A}replayTextBackground_(e,t,i,r,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,s,o,a,l,c,u,h,p,m,v,w,C){a*=p[0],l*=p[1];let S=i-a,R=r-l,V=s+c>e?e-c:s,z=o+u>t?t-u:o,q=v[3]+V*p[0]+v[1],Y=v[0]+z*p[1]+v[2],A=S-v[3],x=R-v[0];(w||h!==0)&&(ec[0]=A,tc[0]=A,ec[1]=x,Va[1]=x,Va[0]=A+q,Ba[0]=Va[0],Ba[1]=x+Y,tc[1]=Ba[1]);let D;return h!==0?(D=ji(ki(),i,r,1,1,h,-i,-r),Zn(D,ec),Zn(D,Va),Zn(D,Ba),Zn(D,tc),Zr(Math.min(ec[0],Va[0],Ba[0],tc[0]),Math.min(ec[1],Va[1],Ba[1],tc[1]),Math.max(ec[0],Va[0],Ba[0],tc[0]),Math.max(ec[1],Va[1],Ba[1],tc[1]),pp)):Zr(Math.min(A,A+q),Math.min(x,x+Y),Math.max(A,A+q),Math.max(x,x+Y),pp),m&&(S=Math.round(S),R=Math.round(R)),{drawImageX:S,drawImageY:R,drawImageW:V,drawImageH:z,originX:c,originY:u,declutterBox:{minX:pp[0],minY:pp[1],maxX:pp[2],maxY:pp[3],value:C},canvasTransform:D,scale:p}}replayImageOrLabel_(e,t,i,r,s,o,a){let l=!!(o||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,ec,Va,Ba,tc,o,a),M7(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=Zn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let s=this.textStates[t],o=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=jM(Array.isArray(e)?e[0]:e,s.textAlign||Ql),u=rg[s.textBaseline||wu],h=a&&a.lineWidth?a.lineWidth:0,p=o.width/l-2*s.scale[0],m=c*p+2*(.5-c)*h,v=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:m,anchorY:v}}execute_(e,t,i,r,s,o,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&or(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Mr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),y9(this.renderedTransform_,i));let h=0,p=r.length,m=0,v,w,C,S,R,V,z,q,Y,A,x,D,B,U=0,H=0,P=null,Ae=null,De=this.coordinateCache_,ee=this.viewRotation_,ae=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,fe={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ee},Fe=this.instructions!=r||this.overlaps?0:200,Re,We,Xe,wt;for(;h<p;){let ce=r[h];switch(ce[0]){case Ge.BEGIN_GEOMETRY:Re=ce[1],wt=ce[3],Re.getGeometry()?a!==void 0&&!On(a,wt.getExtent())?h=ce[2]+1:++h:h=ce[2],c&&(c.zIndex=ce[4]);break;case Ge.BEGIN_PATH:U>Fe&&(this.fill_(e),U=0),H>Fe&&(e.stroke(),H=0),!U&&!H&&(e.beginPath(),R=NaN,V=NaN),++h;break;case Ge.CIRCLE:m=ce[1];let Wn=u[m],St=u[m+1],Jn=u[m+2],Tn=u[m+3],Pn=Jn-Wn,Fi=Tn-St,No=Math.sqrt(Pn*Pn+Fi*Fi);e.moveTo(Wn+No,St),e.arc(Wn,St,No,0,2*Math.PI,!0),++h;break;case Ge.CLOSE_PATH:e.closePath(),++h;break;case Ge.CUSTOM:m=ce[1],v=ce[2];let Ua=ce[3],oc=ce[4],Vo=ce[5];fe.geometry=Ua,fe.feature=Re,h in De||(De[h]=[]);let Ys=De[h];Vo?Vo(u,m,v,2,Ys):(Ys[0]=u[m],Ys[1]=u[m+1],Ys.length=2),c&&(c.zIndex=ce[6]),oc(Ys,fe),++h;break;case Ge.DRAW_IMAGE:m=ce[1],v=ce[2],Y=ce[3],w=ce[4],C=ce[5];let cr=ce[6],is=ce[7],Bo=ce[8],zo=ce[9],Uo=ce[10],Qs=ce[11],Ha=ce[12],Zs=ce[13];S=ce[14]||"declutter";let Fn=ce[15];if(!Y&&ce.length>=20){A=ce[19],x=ce[20],D=ce[21],B=ce[22];let ur=this.drawLabelWithPointPlacement_(A,x,D,B);Y=ur.label,ce[3]=Y;let rs=ce[23];w=(ur.anchorX-rs)*this.pixelRatio,ce[4]=w;let dr=ce[24];C=(ur.anchorY-dr)*this.pixelRatio,ce[5]=C,cr=Y.height,ce[6]=cr,Zs=Y.width,ce[13]=Zs}let ac;ce.length>25&&(ac=ce[25]);let ei,ti,Ho;ce.length>17?(ei=ce[16],ti=ce[17],Ho=ce[18]):(ei=Pa,ti=!1,Ho=!1),Uo&&ae?Qs+=ee:!Uo&&!ae&&(Qs-=ee);let vg=0;for(;m<v;m+=2){if(ac&&ac[vg++]<Zs/this.pixelRatio)continue;let ur=this.calculateImageOrLabelDimensions_(Y.width,Y.height,u[m],u[m+1],Zs,cr,w,C,Bo,zo,Qs,Ha,s,ei,ti||Ho,Re),rs=[e,t,Y,ur,is,ti?P:null,Ho?Ae:null];if(l){let dr,Wi,hr;if(Fn){let hn=v-m;if(!Fn[hn]){Fn[hn]={args:rs,declutterMode:S};continue}let qn=Fn[hn];dr=qn.args,Wi=qn.declutterMode,delete Fn[hn],hr=c8(dr)}let Cn,ss;if(dr&&(Wi!=="declutter"||!l.collides(hr))&&(Cn=!0),(S!=="declutter"||!l.collides(ur.declutterBox))&&(ss=!0),Wi==="declutter"&&S==="declutter"){let hn=Cn&&ss;Cn=hn,ss=hn}Cn&&(Wi!=="none"&&l.insert(hr),this.replayImageOrLabel_.apply(this,dr)),ss&&(S!=="none"&&l.insert(ur.declutterBox),this.replayImageOrLabel_.apply(this,rs))}else this.replayImageOrLabel_.apply(this,rs)}++h;break;case Ge.DRAW_CHARS:let xp=ce[1],bg=ce[2],jo=ce[3],wg=ce[4];B=ce[5];let Cg=ce[6],Pu=ce[7],Ig=ce[8];D=ce[9];let Sp=ce[10];A=ce[11],x=ce[12];let Fu=[ce[13],ce[13]];S=ce[14]||"declutter";let Lu=this.textStates[x],ja=Lu.font,bs=[Lu.scale[0]*Pu,Lu.scale[1]*Pu],$o;ja in this.widths_?$o=this.widths_[ja]:($o={},this.widths_[ja]=$o);let Nu=I7(u,xp,bg,2),Xs=Math.abs(bs[0])*X2(ja,A,$o);if(wg||Xs<=Nu){let ur=this.textStates[x].textAlign,rs=(Nu-Xs)*jM(A,ur),dr=l8(u,xp,bg,2,A,rs,Cg,Math.abs(bs[0]),X2,ja,$o,ae?0:this.viewRotation_);e:if(dr){let Wi=[],hr,Cn,ss,hn,qn;if(D)for(hr=0,Cn=dr.length;hr<Cn;++hr){qn=dr[hr],ss=qn[4],hn=this.createLabel(ss,x,"",D),w=qn[2]+(bs[0]<0?-Sp:Sp),C=jo*hn.height+(.5-jo)*2*Sp*bs[1]/bs[0]-Ig;let ws=this.calculateImageOrLabelDimensions_(hn.width,hn.height,qn[0],qn[1],hn.width,hn.height,w,C,0,0,qn[3],Fu,!1,Pa,!1,Re);if(l&&S==="declutter"&&l.collides(ws.declutterBox))break e;Wi.push([e,t,hn,ws,1,null,null])}if(B)for(hr=0,Cn=dr.length;hr<Cn;++hr){qn=dr[hr],ss=qn[4],hn=this.createLabel(ss,x,B,""),w=qn[2],C=jo*hn.height-Ig;let ws=this.calculateImageOrLabelDimensions_(hn.width,hn.height,qn[0],qn[1],hn.width,hn.height,w,C,0,0,qn[3],Fu,!1,Pa,!1,Re);if(l&&S==="declutter"&&l.collides(ws.declutterBox))break e;Wi.push([e,t,hn,ws,1,null,null])}l&&S!=="none"&&l.load(Wi.map(c8));for(let ws=0,Lb=Wi.length;ws<Lb;++ws)this.replayImageOrLabel_.apply(this,Wi[ws])}}++h;break;case Ge.END_GEOMETRY:if(o!==void 0){Re=ce[1];let ur=o(Re,wt,S);if(ur)return ur}++h;break;case Ge.FILL:Fe?U++:this.fill_(e),++h;break;case Ge.MOVE_TO_LINE_TO:for(m=ce[1],v=ce[2],We=u[m],Xe=u[m+1],e.moveTo(We,Xe),R=We+.5|0,V=Xe+.5|0,m+=2;m<v;m+=2)We=u[m],Xe=u[m+1],z=We+.5|0,q=Xe+.5|0,(m==v-2||z!==R||q!==V)&&(e.lineTo(We,Xe),R=z,V=q);++h;break;case Ge.SET_FILL_STYLE:P=ce,this.alignAndScaleFill_=ce[2],U&&(this.fill_(e),U=0,H&&(e.stroke(),H=0)),e.fillStyle=ce[1],++h;break;case Ge.SET_STROKE_STYLE:Ae=ce,H&&(e.stroke(),H=0),this.setStrokeStyle_(e,ce),++h;break;case Ge.STROKE:Fe?H++:e.stroke(),++h;break;default:++h;break}}U&&this.fill_(e),H&&e.stroke()}execute(e,t,i,r,s,o){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,s)}},d8=$M;var Tu=["Polygon","Circle","LineString","Image","Text","Default"],qM=["Image","Text"],h8=Tu.filter(n=>!qM.includes(n)),WM=class{constructor(e,t,i,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ki(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let s=e[i];for(let o in s){let a=s[o];r[o]=new d8(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,s,o){r=Math.round(r);let a=r*2+1,l=ji(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=tn(a,a,void 0,{willReadFrequently:!0}));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Xn(),fu(h,e),$h(h,t*(this.renderBuffer_+r),h));let p=Qge(r),m;function v(q,Y,A){let x=u.getImageData(0,0,a,a).data;for(let D=0,B=p.length;D<B;D++)if(x[p[D]]>0){if(!o||A==="none"||m!=="Image"&&m!=="Text"||o.includes(q)){let U=(p[D]-3)/4,H=r-U%a,P=r-(U/a|0),Ae=s(q,Y,H*H+P*P);if(Ae)return Ae}u.clearRect(0,0,a,a);break}}let w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Dr);let C,S,R,V,z;for(C=w.length-1;C>=0;--C){let q=w[C].toString();for(R=this.executorsByZIndex_[q],S=Tu.length-1;S>=0;--S)if(m=Tu[S],V=R[m],V!==void 0&&(z=V.executeHitDetection(u,l,i,v,h),z))return z}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],s=t[2],o=t[3],a=[i,r,i,o,s,o,s,r];return Mr(a,0,8,2,e,a),a}isEmpty(){return zs(this.executorsByZIndex_)}execute(e,t,i,r,s,o,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Dr),o=o||Tu;let c=Tu.length,u,h,p,m,v;for(a&&l.reverse(),u=0,h=l.length;u<h;++u){let w=l[u].toString();for(v=this.executorsByZIndex_[w],p=0,m=o.length;p<m;++p){let C=o[p],S=v[C];if(S!==void 0){let R=a===null?void 0:S.getZIndexContext(),V=R?R.getContext():e,z=this.maxExtent_&&C!=="Image"&&C!=="Text";if(z&&(V.save(),this.clip(V,i)),!R||C==="Text"||C==="Image"?S.execute(V,t,i,r,s,a):R.pushFunction(q=>S.execute(q,t,i,r,s,a)),z&&V.restore(),R){R.offset();let q=l[u]*c+p;this.deferredZIndexContexts_[q]||(this.deferredZIndexContexts_[q]=[]),this.deferredZIndexContexts_[q].push(R)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Dr);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[i]].length=0}},GM={};function Qge(n){if(GM[n]!==void 0)return GM[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let s=0;s<=n;++s)for(let o=0;o<=n;++o){let a=s*s+o*o;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((n+s)*e+(n+o))*4+3),s>0&&l.push(((n-s)*e+(n+o))*4+3),o>0&&(l.push(((n+s)*e+(n-o))*4+3),s>0&&l.push(((n-s)*e+(n-o))*4+3))}let r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return GM[n]=r,r}var p8=WM;var KM=class extends Q1{constructor(e,t,i,r,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?b1(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ki()}drawImages_(e,t,i,r){if(!this.image_)return;let s=Mr(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=s.length;u<h;u+=2){let p=s[u]-this.imageAnchorX_,m=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let v=p+this.imageAnchorX_,w=m+this.imageAnchorY_;ji(a,v,w,1,1,c,-v,-w),o.save(),o.transform.apply(o,a),o.translate(v,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,m,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let s=Mr(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){let l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,s){let o=this.context_,a=Mr(e,t,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),i}drawRings_(e,t,i,r){for(let s=0,o=i.length;s<o;++s)t=this.moveToLineTo_(e,t,i[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=q9(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(On(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),s=0,o=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=o.length;l<c;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=s.length;a<l;++a){let c=s[a];r=this.drawRings_(i,r,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),or(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Ql;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:Rr(i||bi)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||kr;this.strokeState_={lineCap:r!==void 0?r:xo,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||Or)*this.pixelRatio_,lineJoin:a!==void 0?a:So,lineWidth:(l!==void 0?l:Fa)*this.pixelRatio_,miterLimit:c!==void 0?c:ka,strokeStyle:Rr(i||Oa)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let m=t.getColor();this.textFillState_={fillStyle:Rr(m||bi)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let m=i.getColor(),v=i.getLineCap(),w=i.getLineDash(),C=i.getLineDashOffset(),S=i.getLineJoin(),R=i.getWidth(),V=i.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:xo,lineDash:w||kr,lineDashOffset:C||Or,lineJoin:S!==void 0?S:So,lineWidth:R!==void 0?R:Fa,miterLimit:V!==void 0?V:ka,strokeStyle:Rr(m||Oa)}}let r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:r!==void 0?r:L1,textAlign:h!==void 0?h:Ql,textBaseline:p!==void 0?p:wu},this.text_=u!==void 0?Array.isArray(u)?u.reduce((m,v,w)=>m+=w%2?" ":v,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},f8=KM;var Gs=.5;function m8(n,e,t,i,r,s,o,a,l){let c=l?$l(r,l):r,u=n[0]*Gs,h=n[1]*Gs,p=tn(u,h);p.imageSmoothingEnabled=!1;let m=p.canvas,v=new f8(p,Gs,r,null,o,a,l?_u(vu(),l):null),w=t.length,C=Math.floor((256*256*256-1)/w),S={};for(let V=1;V<=w;++V){let z=t[V-1],q=z.getStyleFunction()||i;if(!q)continue;let Y=q(z,s);if(!Y)continue;Array.isArray(Y)||(Y=[Y]);let x=(V*C).toString(16).padStart(7,"#00000");for(let D=0,B=Y.length;D<B;++D){let U=Y[D],H=U.getGeometryFunction()(z);if(!H||!On(c,H.getExtent()))continue;let P=U.clone(),Ae=P.getFill();Ae&&Ae.setColor(x);let De=P.getStroke();De&&(De.setColor(x),De.setLineDash(null)),P.setText(void 0);let ee=U.getImage();if(ee){let Re=ee.getImageSize();if(!Re)continue;let We=tn(Re[0],Re[1],void 0,{alpha:!1}),Xe=We.canvas;We.fillStyle=x,We.fillRect(0,0,Xe.width,Xe.height),P.setImage(new Iu({img:Xe,anchor:ee.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ee.getOrigin(),opacity:1,size:ee.getSize(),scale:ee.getScale(),rotation:ee.getRotation(),rotateWithView:ee.getRotateWithView()}))}let ae=P.getZIndex()||0,fe=S[ae];fe||(fe={},S[ae]=fe,fe.Polygon=[],fe.Circle=[],fe.LineString=[],fe.Point=[]);let Fe=H.getType();if(Fe==="GeometryCollection"){let Re=H.getGeometriesArrayRecursive();for(let We=0,Xe=Re.length;We<Xe;++We){let wt=Re[We];fe[wt.getType().replace("Multi","")].push(wt,P)}}else fe[Fe.replace("Multi","")].push(H,P)}}let R=Object.keys(S).map(Number).sort(Dr);for(let V=0,z=R.length;V<z;++V){let q=S[R[V]];for(let Y in q){let A=q[Y];for(let x=0,D=A.length;x<D;x+=2){v.setStyle(A[x+1]);for(let B=0,U=e.length;B<U;++B)v.setTransform(e[B]),v.drawGeometry(A[x])}}}return p.getImageData(0,0,m.width,m.height)}function g8(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*Gs),s=Math.floor(Math.round(n[1])*Gs),o=(en(r,0,t.width-1)+en(s,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],u=t.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&i.push(e[u/h-1])}return i}var Zge=.5,_8={Point:r_e,LineString:t_e,Polygon:o_e,MultiPoint:s_e,MultiLineString:n_e,MultiPolygon:i_e,GeometryCollection:e_e,Circle:Xge};function y8(n,e){return parseInt(xt(n),10)-parseInt(xt(e),10)}function YM(n,e){let t=QM(n,e);return t*t}function QM(n,e){return Zge*n/e}function Xge(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function ZM(n,e,t,i,r,s,o,a){let l=[],c=t.getImage();if(c){let p=!0,m=c.getImageState();m==lt.LOADED||m==lt.ERROR?p=!1:m==lt.IDLE&&c.load(),p&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),Jge(n,e,t,i,s,o,a),h}function Jge(n,e,t,i,r,s,o){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,r);if(t.getRenderer())v8(n,l,t,e,o);else{let u=_8[l.getType()];u(n,l,t,e,o,s)}}function v8(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)v8(n,o[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function e_e(n,e,t,i,r,s){let o=e.getGeometriesArray(),a,l;for(a=0,l=o.length;a<l;++a){let c=_8[o[a].getType()];c(n,o[a],t,i,r,s)}}function t_e(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function n_e(n,e,t,i,r){let s=t.getStroke();if(s){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,i,r)}let o=t.getText();if(o&&o.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function i_e(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function r_e(n,e,t,i,r,s){let o=t.getImage(),a=t.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=lt.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,i,r)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,r)}}function s_e(n,e,t,i,r,s){let o=t.getImage(),a=o&&o.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=lt.LOADED)return;let h=n.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(e,i,r)}if(c){let h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,i,r)}}function o_e(n,e,t,i,r){let s=t.getFill(),o=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}var XM=class extends J1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Xn(),this.wrappedRenderedExtent_=Xn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,s=t.viewState,o=s.center,a=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),h=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),m=t.pixelRatio,v=t.viewHints,w=!(v[wi.ANIMATING]||v[wi.INTERACTING]),C=this.context,S=Math.round(It(r)/a*m),R=Math.round(Sn(r)/a*m),V=h.getWrapX()&&l.canWrapX(),z=V?It(u):null,q=V?Math.ceil((r[2]-u[2])/z)+1:1,Y=V?Math.floor((r[0]-u[0])/z):0;do{let A=this.getRenderTransform(o,a,0,m,S,R,Y*z);t.declutter&&(A=A.slice(0)),e.execute(C,[C.canvas.width,C.canvas.height],A,c,w,i===void 0?Tu:i?qM:h8,i?p&&t.declutter[p]:void 0)}while(++Y<q)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=tn(this.context.canvas.width,this.context.canvas.height,HM))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Eo(this.context),HM.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let s=this.context,o=this.replayGroup_,a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener($i.PRERENDER)||this.getLayer().hasListener($i.POSTRENDER)))return null;this.setDrawContext_(),this.preRender(s,e);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=gs(i.extent,l);a=On(c,e.extent),this.clipped_=a&&!Ea(c,e.extent),this.clipped_&&this.clipUnrotated(s,e,c)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*Gs,p=i[1]*Gs;u.push(this.getRenderTransform(r,s,o,Gs,h,p,0).slice());let m=c.getSource(),v=a.getExtent();if(m.getWrapX()&&a.canWrapX()&&!Ea(v,l)){let C=l[0],S=It(v),R=0,V;for(;C<v[0];)--R,V=S*R,u.push(this.getRenderTransform(r,s,o,Gs,h,p,V).slice()),C+=S;for(R=0,C=l[2];C>v[2];)++R,V=S*R,u.push(this.getRenderTransform(r,s,o,Gs,h,p,V).slice()),C-=S}let w=vu();this.hitDetectionImageData_=m8(i,u,this.renderedFeatures_,c.getStyleFunction(),l,s,o,YM(s,this.renderedPixelRatio_),w?a:null)}t(g8(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,s){if(!this.replayGroup_)return;let o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(v,w,C){let S=xt(v),R=c[S];if(R){if(R!==!0&&C<R.distanceSq){if(C===0)return c[S]=!0,s.splice(s.lastIndexOf(R),1),r(v,l,w);R.geometry=w,R.distanceSq=C}}else{if(C===0)return c[S]=!0,r(v,l,w);s.push(c[S]={feature:v,layer:l,geometry:w,distanceSq:C,callback:r})}},h,p=[this.replayGroup_],m=this.getLayer().getDeclutter();return p.some(v=>h=v.forEachFeatureAtCoordinate(e,o,a,i,u,m&&t.declutter[m]?t.declutter[m].all().map(w=>w.value):null)),h}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[wi.ANIMATING],s=e.viewHints[wi.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,p=e.pixelRatio,m=t.getRevision(),v=t.getRenderBuffer(),w=t.getRenderOrder();w===void 0&&(w=y8);let C=c.center.slice(),S=$h(l,v*h),R=S.slice(),V=[S.slice()],z=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Ea(z,e.extent)){let De=It(z),ee=Math.max(It(S)/2,De);S[0]=z[0]-ee,S[2]=z[2]+ee,w1(C,u);let ae=a2(V[0],u);ae[0]<z[0]&&ae[2]<z[2]?V.push([ae[0]+De,ae[1],ae[2]+De,ae[3]]):ae[0]>z[0]&&ae[2]>z[2]&&V.push([ae[0]-De,ae[1],ae[2]-De,ae[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==m&&this.renderedRenderOrder_==w&&this.renderedFrameDeclutter_===!!e.declutter&&Ea(this.wrappedRenderedExtent_,S))return or(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let q=new o8(QM(h,p),S,h,p),Y=vu(),A;if(Y){for(let De=0,ee=V.length;De<ee;++De){let ae=V[De],fe=$l(ae,u);i.loadFeatures(fe,U9(h,u),Y)}A=_u(Y,u)}else for(let De=0,ee=V.length;De<ee;++De)i.loadFeatures(V[De],h,u);let x=YM(h,p),D=!0,B=(De,ee)=>{let ae,fe=De.getStyleFunction()||t.getStyleFunction();if(fe&&(ae=fe(De,h)),ae){let Fe=this.renderFeature(De,x,ae,q,A,this.getLayer().getDeclutter(),ee);D=D&&!Fe}},U=$l(S,u),H=i.getFeaturesInExtent(U);w&&H.sort(w);for(let De=0,ee=H.length;De<ee;++De)B(H[De],De);this.renderedFeatures_=H,this.ready=D;let P=q.finish(),Ae=new p8(S,h,p,i.getOverlaps(),P,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=m,this.renderedRenderOrder_=w,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=R,this.wrappedRenderedExtent_=S,this.renderedCenter_=C,this.renderedProjection_=u,this.renderedPixelRatio_=p,this.replayGroup_=Ae,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,s,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=ZM(r,e,i[c],t,this.boundHandleStyleImageChange_,s,o,a)||l;else l=ZM(r,e,i,t,this.boundHandleStyleImageChange_,s,o,a);return l}},b8=XM;var JM=class extends Y1{constructor(e){super(e)}createRenderer(){return new b8(this)}},w8=JM;var eA=class{constructor(e){this.rbush_=new dp(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[xt(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,s=t.length;r<s;r++){let o=e[r],a=t[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=l,this.items_[xt(a)]=l}this.rbush_.load(i)}remove(e){let t=xt(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[xt(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Ta(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,s=e.length;r<s;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return zs(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return Zr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},tA=eA;function C8(n,e,t,i){let r=[],s=Xn();for(let o=0,a=t.length;o<a;++o){let l=t[o];s=Gh(n,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}var I8=ki(),sg=class n{constructor(e,t,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?g1(this.flatCoordinates_):Gh(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=fs(this.getExtent());this.flatInteriorPoints_=Nm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=l7(this.flatCoordinates_,this.ends_),t=C8(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=n7(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=$2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,s=i.length;r<s;++r){let o=i[r],a=$2(e,t,o,2,.5);zh(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Oi(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=Sn(i)/Sn(t);ji(I8,i[0],i[3],r,-r,0,0,0),Mr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,I8,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=c1((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Lm(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=J9(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=T1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};sg.prototype.getFlatCoordinates=sg.prototype.getOrientedFlatCoordinates;var xu=sg;var nA=class extends di{constructor(e){super(),this.projection=Oi(e.projection),this.attributions_=E8(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=E8(e),this.changed()}setState(e){this.state_=e,this.changed()}};function E8(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var eb=nA;var es={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function T8(n,e){return[[-1/0,-1/0,1/0,1/0]]}var a_e=!1;function l_e(n,e,t,i,r,s,o){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=a_e,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?s(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function iA(n,e){return function(t,i,r,s,o){let a=this;l_e(n,e,t,i,r,function(l,c){a.addFeatures(l),s!==void 0&&s(l)},o||Bs)}}var Ro=class extends Ai{constructor(e,t,i){super(e),this.feature=t,this.features=i}},rA=class extends eb{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bs,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(st(this.format_,"`format` must be set when `url` is set"),this.loader_=iA(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:T8;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new tA:null,this.loadedExtentsRtree_=new tA,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new yr(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=xt(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ro(es.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof xu||(this.featureChangeKeys_[e]=[bt(t,Pe.CHANGE,this.handleFeatureChange_,this),bt(t,Vs.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof xu){let s=this.idIndex_[r];s instanceof xu?Array.isArray(s)?s.push(t):this.idIndex_[r]=[s,t]:i=!1}else i=!1}return i&&(st(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let s=0,o=e.length;s<o;s++){let a=e[s],l=xt(a);this.addToIndex_(l,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){let a=i[s],l=xt(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(es.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new Ro(es.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(es.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(es.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ri.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ri.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Nt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){let i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new Ro(es.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let s=r.getGeometry();if(s instanceof xu||s.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof xu||r.intersectsExtent(e)){let s=t(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),zs(this.nullGeometryFeatures_)||zh(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=Yh(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],s=null,o=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||Ca,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),h=a;if(a=u instanceof xu?0:u.closestPointXY(i,r,o,a),a<h){s=c;let p=Math.sqrt(a);l[0]=i-p,l[1]=r-p,l[2]=i+p,l[3]=r+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=xt(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}let s=t.getId();if(s!==void 0){let o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Ro(es.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:xt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&zs(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,s=this.strategy_(e,t,i);for(let o=0,a=s.length;o<a;++o){let l=s[o];r.forEachInExtent(l,function(u){return Ea(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ro(es.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ro(es.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ro(es.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i;t.forEachInExtent(e,function(r){if(Ta(r.extent,e))return i=r,!0}),i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=xt(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Nt),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(es.REMOVEFEATURE)&&this.dispatchEvent(new Ro(es.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){st(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(iA(e,this.format_))}},x8=rA;var Te={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var sA=class extends zl{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Pe.CHANGE)}release(){this.state===Te.ERROR&&this.setState(Te.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Te.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Rt()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:uM(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},fp=sA;var oA=class extends fp{constructor(e,t,i,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Te.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Te.ERROR,this.unlistenImage_(),this.image_=c_e(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Te.LOADED:this.state=Te.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Te.ERROR&&(this.state=Te.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Te.IDLE&&(this.state=Te.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=w7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function c_e(){let n=tn(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var tb=oA;var aA=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},S8=aA;var lA=class extends Vh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Rt()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ji(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),h1(r,i)}forEachFeatureAtCoordinate(e,t,i,r,s,o,a,l){let c,u=t.viewState;function h(z,q,Y,A){return s.call(o,q,z?Y:null,A)}let p=u.projection,m=w1(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&r){let z=p.getExtent(),q=It(z);v.push([-q,0],[q,0])}let w=t.layerStatesArray,C=w.length,S=[],R=[];for(let z=0;z<v.length;z++)for(let q=C-1;q>=0;--q){let Y=w[q],A=Y.layer;if(A.hasRenderer()&&jm(Y,u)&&a.call(l,A)){let x=A.getRenderer(),D=A.getSource();if(x&&D){let B=D.getWrapX()?m:e,U=h.bind(null,Y.managed);R[0]=B[0]+v[z][0],R[1]=B[1]+v[z][1],c=x.forEachFeatureAtCoordinate(R,t,i,U,S)}if(c)return c}}if(S.length===0)return;let V=1/S.length;return S.forEach((z,q)=>z.distanceSq+=q*V),S.sort((z,q)=>z.distanceSq-q.distanceSq),S.some(z=>c=z.callback(z.feature,z.layer,z.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,s,o){return this.forEachFeatureAtCoordinate(e,t,i,r,Ca,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Rt()}scheduleExpireIconCache(e){Xr.canExpireCache()&&e.postRenderFunctions.push(u_e)}};function u_e(n,e){Xr.expire()}var D8=lA;var cA=class extends D8{constructor(e){super(e),this.fontChangeListenerKey_=bt(To,Vs.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Yl+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new Z1(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Nt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent($i.PRECOMPOSE,e);let t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof Y1&&a.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let s=[],o=null;for(let a=0,l=t.length;a<l;++a){let c=t[a];e.layerIndex=a;let u=c.layer,h=u.getSourceState();if(!jm(c,r)||h!="ready"&&h!="undefined"){u.unrender();continue}let p=u.render(e,o);p&&(p!==o&&(this.children_.push(p),o=p),s.push(c))}this.declutter(e,s),b7(this.element_,this.children_),this.dispatchRenderEvent($i.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},M8=cA;var Ws=class extends Ai{constructor(e,t){super(e),this.layer=t}},uA={LAYERS:"layers"},dA=class n extends z1{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(uA.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new yr(i.slice(),{unique:!0}):st(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new yr(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Nt),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(bt(e,Ri.ADD,this.handleLayersAdd_,this),bt(e,Ri.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Nt);Io(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new Ws("addlayer",s))}this.changed()}registerLayerListeners_(e){let t=[bt(e,Vs.PROPERTYCHANGE,this.handleLayerChange_,this),bt(e,Pe.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(bt(e,"addlayer",this.handleLayerGroupAdd_,this),bt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[xt(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ws("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ws("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ws("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=xt(t);this.listenerKeys_[i].forEach(Nt),delete this.listenerKeys_[i],this.dispatchEvent(new Ws("removelayer",t)),this.changed()}getLayers(){return this.get(uA.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Ws("removelayer",i[r]))}this.set(uA.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});let r=this.getLayerState(),s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=t.length;o<a;o++){let l=t[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=vr(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return t}getSourceState(){return"ready"}},og=dA;var hA=class extends Ai{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},nc=hA;var pA=class extends nc{constructor(e,t,i,r,s,o){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},ko=pA;var wn={SINGLECLICK:"singleclick",CLICK:Pe.CLICK,DBLCLICK:Pe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var ag={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var fA=class extends zl{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=bt(i,ag.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=bt(i,ag.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Pe.TOUCHMOVE,this.boundHandleTouchMove_,k1?{passive:!1}:!1)}emulateClick_(e){let t=new ko(wn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new ko(wn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new ko(wn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==wn.POINTERUP||t.type==wn.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==wn.POINTERDOWN||t.type==wn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new ko(wn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Nt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new ko(wn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(bt(i,wn.POINTERMOVE,this.handlePointerMove_,this),bt(i,wn.POINTERUP,this.handlePointerUp_,this),bt(this.element_,wn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(bt(this.element_.getRootNode(),wn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new ko(wn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ko(wn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Nt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Pe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Nt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Nt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},A8=fA;var Oo={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Gi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var lg=1/0,mA=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Io(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){st(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=lg?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,s=t[e],o=i[e],a=e;for(;e<r>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;t[e]=t[u],i[e]=i[u],e=u}t[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,s=i[t],o=r[t];for(;t>e;){let a=this.getParentIndex_(t);if(r[a]>o)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=s,r[t]=o}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,s=t.length,o,a,l;for(a=0;a<s;++a)o=t[a],l=e(o),l==lg?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,t[r++]=o);t.length=r,i.length=r,this.heapify_()}},R8=mA;var gA=class extends R8{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(Pe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===Te.LOADED||i===Te.ERROR||i===Te.EMPTY){i!==Te.ERROR&&t.removeEventListener(Pe.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],s=r.getKey();r.getState()===Te.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}},k8=gA;function O8(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return lg;if(!n.wantedTiles[t][e.getKey()])return lg;let s=n.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}var _A=class extends di{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Nt(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Bs&&this.listenerKeys.push(bt(e,Oo.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},mp=_A;var yA=class extends mp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Pe.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Yl+" "+op+(this.collapsed_&&this.collapsible_?" "+K2:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=Array.from(new Set(t.flatMap(r=>r.getAttributions(e))));if(!this.overrideCollapsible_){let r=!t.some(s=>s.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return i}updateElement_(e){return G(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>m9(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!or(t,this.renderedAttributions_)){v7(this.ulElement_);for(let r=0,s=t.length;r<s;++r){let o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(K2),this.collapsed_?B2(this.collapseLabel_,this.label_):B2(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},P8=yA;var vA=class extends mp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Pe.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Yl+" "+op,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Hm)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ys}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let s=this.element.classList.contains(Hm);!s&&i===0?this.element.classList.add(Hm):s&&i!==0&&this.element.classList.remove(Hm)}this.label_.style.transform=r}this.rotation_=i}},F8=vA;var bA=class extends mp{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(Pe.CLICK,this.handleClick_.bind(this,i),!1);let h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(Pe.CLICK,this.handleClick_.bind(this,-i),!1);let p=t+" "+Yl+" "+op,m=this.element;m.className=p,m.appendChild(u),m.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:ys})):i.setZoom(s)}}},L8=bA;function N8(n){n=n||{};let e=new yr;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new L8(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new F8(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new P8(n.attributionOptions)),e}var wA={ACTIVE:"active"};var CA=class extends di{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(wA.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(wA.ACTIVE,e)}setMap(e){this.map_=e}};function V8(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:B7,center:n.getConstrainedCenter(r)})}}function gp(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let s=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:i!==void 0?i:250,easing:ys})}var Po=CA;var IA=class extends Po{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==wn.DBLCLICK){let i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();gp(a,o,s,this.duration_),i.preventDefault(),t=!0}return!t}},B8=IA;var EA=class extends Po{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==wn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==wn.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==wn.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==wn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function _p(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var Fo=EA;function cg(n){let e=arguments;return function(t){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](t),!!i);++r);return i}}var z8=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},d_e=function(n){let e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},nb=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?d_e(n):!0},U8=Ca;var ib=function(n){let e=n.originalEvent;return e.button==0&&!(y7&&L2&&e.ctrlKey)};var rb=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var H8=function(n){let e=n.originalEvent;return L2?e.metaKey:e.ctrlKey},j8=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},sb=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},ob=function(n){let e=n.originalEvent;return st(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"};var $8=function(n){let e=n.originalEvent;return st(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var TA=class extends Fo{constructor(e){super({stopDown:Ia}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:cg(rb,$8);this.condition_=e.onFocusOnly?cg(nb,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(_p(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();P9(s,a.getResolution()),Jh(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ys})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},G8=TA;var xA=class extends Fo{constructor(e){e=e||{},super({stopDown:Ia}),this.condition_=e.condition?e.condition:z8,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!ob(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===lp)return;let r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return ob(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return ob(e)&&ib(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},W8=xA;var SA=class extends Vh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new c7([r])}getGeometry(){return this.geometry_}},q8=SA;var ug={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},yp=class extends Ai{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},DA=class extends Fo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new q8(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:ib,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],s=i[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new yp(ug.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new yp(t?ug.BOXEND:ug.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new yp(ug.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new yp(ug.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}},K8=DA;var MA=class extends K8{constructor(e){e=e||{};let t=e.condition?e.condition:j8;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:ys})}},Y8=MA;var ic={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var AA=class extends Po{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return rb(t)&&sb(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Pe.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==ic.DOWN||r==ic.LEFT||r==ic.RIGHT||r==ic.UP)){let o=e.map.getView(),a=o.getResolution()*this.pixelDelta_,l=0,c=0;r==ic.DOWN?c=-a:r==ic.LEFT?l=-a:r==ic.RIGHT?l=a:c=a;let u=[l,c];Jh(u,o.getRotation()),V8(o,u,this.duration_),i.preventDefault(),t=!0}}return!t}},Q8=AA;var RA=class extends Po{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!H8(t)&&sb(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Pe.KEYDOWN||e.type==Pe.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();gp(a,o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},Z8=RA;var kA=class extends Po{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:U8;this.condition_=e.onFocusOnly?cg(nb,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Pe.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Pe.WHEEL&&(s=r.deltaY,_7&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=A1),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;let o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;let l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-en(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),gp(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},X8=kA;var OA=class extends Fo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Ia),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=s;let o=e.map,a=o.getView();a.getConstraints().rotation!==lp&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(_p(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},J8=OA;var PA=class extends Fo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Ia),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(_p(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},eB=PA;function tB(n){n=n||{};let e=new yr,t=new S8(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new W8),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new B8({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new G8({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new J8),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new eB({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new Q8),e.push(new Z8({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new X8({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new Y8({duration:n.zoomDuration})),e}function nB(n){if(n instanceof Cu){n.setMapInternal(null);return}n instanceof og&&n.getLayers().forEach(nB)}function iB(n,e){if(n instanceof Cu){n.setMapInternal(e);return}if(n instanceof og){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)iB(t[i],e)}}var FA=class extends di{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=h_e(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:A1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ki(),this.pixelToCoordinateTransform_=ki(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||N8(),this.interactions=t.interactions||tB({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new k8(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Gi.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Gi.VIEW,this.handleViewChanged_),this.addChangeListener(Gi.SIZE,this.handleSizeChanged_),this.addChangeListener(Gi.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof Pr)&&e.view.then(function(r){i.setView(new Pr(r))}),this.controls.addEventListener(Ri.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ri.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ri.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ri.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ri.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ri.REMOVE,r=>{let s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){iB(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:Ca,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof og?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:Ca,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Gi.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Fm(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?Zn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Gi.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof yr){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let s=r.layer.getRenderer();if(s&&!s.ready)return!0;let o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){let t=js(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?Zn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Gi.SIZE)}getView(){return this.get(Gi.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return O8(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new ko(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===ag.POINTERDOWN||i===Pe.WHEEL||i===Pe.KEYDOWN){let r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){let o=e.viewHints;if(o[wi.ANIMATING]||o[wi.INTERACTING]){let a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener($i.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent($i.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new nc(Oo.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new nc(Oo.LOADSTART,this,e))));let i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Nt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Pe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Pe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new M8(this)),this.mapBrowserEventHandler_=new A8(this,this.moveTolerance_);for(let s in wn)this.mapBrowserEventHandler_.addEventListener(wn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Pe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Pe.WHEEL,this.boundHandleBrowserEvent_,k1?{passive:!1}:!1);let i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[bt(i,Pe.KEYDOWN,this.handleBrowserEvent,this),bt(i,Pe.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Nt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Nt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=bt(e,Vs.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=bt(e,Pe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Nt),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ws("addlayer",e)),this.layerGroupPropertyListenerKeys_=[bt(e,Vs.PROPERTYCHANGE,this.render,this),bt(e,Pe.CHANGE,this.render,this),bt(e,"addlayer",this.handleLayerAdd_,this),bt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){nB(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,s=null;if(t!==void 0&&W2(t)&&i&&i.isDef()){let o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Mm(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:xt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=Mm(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Hl(this.previousExtent_)&&!Ta(s.extent,this.previousExtent_))&&(this.dispatchEvent(new nc(Oo.MOVESTART,this,r)),this.previousExtent_=pu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[wi.ANIMATING]&&!s.viewHints[wi.INTERACTING]&&!Ta(s.extent,this.previousExtent_)&&(this.dispatchEvent(new nc(Oo.MOVEEND,this,s)),f1(s.extent,this.previousExtent_))),this.dispatchEvent(new nc(Oo.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Oo.LOADSTART)||this.hasListener(Oo.LOADEND)||this.hasListener($i.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ws("removelayer",t)),this.set(Gi.LAYERGROUP,e)}setSize(e){this.set(Gi.SIZE,e)}setTarget(e){this.set(Gi.TARGET,e)}setView(e){if(!e||e instanceof Pr){this.set(Gi.VIEW,e);return}this.set(Gi.VIEW,new Pr);let t=this;e.then(function(i){t.setView(new Pr(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!W2(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&C1("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!or(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function h_e(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new og({layers:n.layers});t[Gi.LAYERGROUP]=i,t[Gi.TARGET]=n.target,t[Gi.VIEW]=n.view instanceof Pr?n.view:new Pr;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new yr(n.controls.slice()):(st(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let s;n.interactions!==void 0&&(Array.isArray(n.interactions)?s=new yr(n.interactions.slice()):(st(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=n.interactions));let o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new yr(n.overlays.slice()):(st(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=n.overlays):o=new yr,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}var LA=FA;var NA=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return st(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return st(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){st(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},ab=NA;function vp(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function Su(n,e,t){return n+"/"+e+"/"+t}function lb(n){return Su(n[0],n[1],n[2])}function rB(n){return n.split("/").map(Number)}function sB(n){return p_e(n[0],n[1],n[2])}function p_e(n,e,t){return(e<<n)+t}function oB(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let s=e.getFullTileRange(t);return s?s.containsXY(i,r):!0}var VA=class extends ab{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;let e=this.peekFirstKey(),i=rB(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(lb(r.tileCoord)),r.release())})}},cb=VA;var ub=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function Du(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new ub(n,e,t,i)}var db=ub;var dg={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var BA=class extends Cu{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(dg.PRELOAD)}setPreload(e){this.set(dg.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(dg.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(dg.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},aB=BA;function wp(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}function lB(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Float32Array||n instanceof DataView?n:null}var f_e=new Error("disposed"),bp=null;function cB(n){bp||(bp=tn(n.width,n.height,void 0,{willReadFrequently:!0}));let e=bp.canvas,t=n.width;e.width!==t&&(e.width=t);let i=n.height;return e.height!==i&&(e.height=i),bp.clearRect(0,0,t,i),bp.drawImage(n,0,0),bp.getImageData(0,0,t,i).data}var m_e=[256,256],zA=class extends fp{constructor(e){let t=Te.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=wp(this.data_);return e?[e.width,e.height]:m_e}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Te.IDLE&&this.state!==Te.ERROR)return;this.state=Te.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=Te.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=Te.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(f_e),this.controller_=null),super.disposeInternal()}},hg=zA;var g_e=10,uB=.25,UA=class{constructor(e,t,i,r,s,o){this.sourceProj_=e,this.targetProj_=t;let a={},l=yu(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){let V=R[0]+"/"+R[1];return a[V]||(a[V]=l(R)),a[V]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&It(r)>=It(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?It(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?It(this.targetProj_.getExtent()):null;let c=ms(i),u=Kh(i),h=qh(i),p=Wh(i),m=this.transformInv_(c),v=this.transformInv_(u),w=this.transformInv_(h),C=this.transformInv_(p),S=g_e+(o?Math.max(0,Math.ceil(Math.log2(Ul(i)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,p,m,v,w,C,S),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(V,z,q){R=Math.min(R,V.source[0][0],V.source[1][0],V.source[2][0])}),this.triangles_.forEach(V=>{if(Math.max(V.source[0][0],V.source[1][0],V.source[2][0])-R>this.sourceWorldWidth_/2){let z=[[V.source[0][0],V.source[0][1]],[V.source[1][0],V.source[1][1]],[V.source[2][0],V.source[2][1]]];z[0][0]-R>this.sourceWorldWidth_/2&&(z[0][0]-=this.sourceWorldWidth_),z[1][0]-R>this.sourceWorldWidth_/2&&(z[1][0]-=this.sourceWorldWidth_),z[2][0]-R>this.sourceWorldWidth_/2&&(z[2][0]-=this.sourceWorldWidth_);let q=Math.min(z[0][0],z[1][0],z[2][0]);Math.max(z[0][0],z[1][0],z[2][0])-q<this.sourceWorldWidth_/2&&(V.source=z)}})}a={}}addTriangle_(e,t,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,i]})}addQuad_(e,t,i,r,s,o,a,l,c){let u=r2([s,o,a,l]),h=this.sourceWorldWidth_?It(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&h>.5&&h<1,v=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let C=r2([e,t,i,r]);v=It(C)/this.targetWorldWidth_>uB||v}!m&&this.sourceProj_.isGlobal()&&h&&(v=h>uB||v)}if(!v&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!On(u,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)v=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(c>0){if(!v){let C=[(e[0]+i[0])/2,(e[1]+i[1])/2],S=this.transformInv_(C),R;m?R=(Ma(s[0],p)+Ma(a[0],p))/2-Ma(S[0],p):R=(s[0]+a[0])/2-S[0];let V=(s[1]+a[1])/2-S[1];v=R*R+V*V>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let C=[(t[0]+i[0])/2,(t[1]+i[1])/2],S=this.transformInv_(C),R=[(r[0]+e[0])/2,(r[1]+e[1])/2],V=this.transformInv_(R);this.addQuad_(e,t,C,R,s,o,S,V,c-1),this.addQuad_(R,C,i,r,V,S,a,l,c-1)}else{let C=[(e[0]+t[0])/2,(e[1]+t[1])/2],S=this.transformInv_(C),R=[(i[0]+r[0])/2,(i[1]+r[1])/2],V=this.transformInv_(R);this.addQuad_(e,C,R,r,s,S,V,l,c-1),this.addQuad_(C,t,i,R,S,o,a,V,c-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}w&11||this.addTriangle_(e,i,r,s,a,l),w&14||this.addTriangle_(e,i,t,s,a,o),w&&(w&13||this.addTriangle_(t,r,e,o,l,s),w&7||this.addTriangle_(t,r,i,o,l,a))}calculateSourceExtent(){let e=Xn();return this.triangles_.forEach(function(t,i,r){let s=t.source;fu(e,s[0]),fu(e,s[1]),fu(e,s[2])}),e}getTriangles(){return this.triangles_}},hb=UA;var HA,qs=[];function dB(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function jA(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function __e(){if(HA===void 0){let n=tn(6,6,qs);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",dB(n,4,5,4,0),dB(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;HA=jA(e,0)||jA(e,4)||jA(e,8),Eo(n),qs.push(n.canvas)}return HA}function hB(n,e,t,i){let r=Pm(t,e,n),s=g2(e,i,t),o=e.getMetersPerUnit();o!==void 0&&(s*=o);let a=n.getMetersPerUnit();a!==void 0&&(s/=a);let l=n.getExtent();if(!l||Us(l,r)){let c=g2(n,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function pb(n,e,t,i){let r=fs(t),s=hB(n,e,r,i);return(!isFinite(s)||s<=0)&&_1(t,function(o){return s=hB(n,e,o,i),isFinite(s)&&s>0}),s}function fb(n,e,t,i,r,s,o,a,l,c,u,h,p,m){let v=tn(Math.round(t*n),Math.round(t*e),qs);if(h||(v.imageSmoothingEnabled=!1),l.length===0)return v.canvas;v.scale(t,t);function w(q){return Math.round(q*t)/t}v.globalCompositeOperation="lighter";let C=Xn();l.forEach(function(q,Y,A){b9(C,q.extent)});let S,R=t/i,V=(h?1:1+Math.pow(2,-24))/R;if(!p||l.length!==1||c!==0){if(S=tn(Math.round(It(C)*R),Math.round(Sn(C)*R),qs),h||(S.imageSmoothingEnabled=!1),r&&m){let q=(r[0]-C[0])*R,Y=-(r[3]-C[3])*R,A=It(r)*R,x=Sn(r)*R;S.rect(q,Y,A,x),S.clip()}l.forEach(function(q,Y,A){if(q.image.width>0&&q.image.height>0){if(q.clipExtent){S.save();let H=(q.clipExtent[0]-C[0])*R,P=-(q.clipExtent[3]-C[3])*R,Ae=It(q.clipExtent)*R,De=Sn(q.clipExtent)*R;S.rect(h?H:Math.round(H),h?P:Math.round(P),h?Ae:Math.round(H+Ae)-Math.round(H),h?De:Math.round(P+De)-Math.round(P)),S.clip()}let x=(q.extent[0]-C[0])*R,D=-(q.extent[3]-C[3])*R,B=It(q.extent)*R,U=Sn(q.extent)*R;S.drawImage(q.image,c,c,q.image.width-2*c,q.image.height-2*c,h?x:Math.round(x),h?D:Math.round(D),h?B:Math.round(x+B)-Math.round(x),h?U:Math.round(D+U)-Math.round(D)),q.clipExtent&&S.restore()}})}let z=ms(o);return a.getTriangles().forEach(function(q,Y,A){let x=q.source,D=q.target,B=x[0][0],U=x[0][1],H=x[1][0],P=x[1][1],Ae=x[2][0],De=x[2][1],ee=w((D[0][0]-z[0])/s),ae=w(-(D[0][1]-z[1])/s),fe=w((D[1][0]-z[0])/s),Fe=w(-(D[1][1]-z[1])/s),Re=w((D[2][0]-z[0])/s),We=w(-(D[2][1]-z[1])/s),Xe=B,wt=U;B=0,U=0,H-=Xe,P-=wt,Ae-=Xe,De-=wt;let ce=[[H,P,0,0,fe-ee],[Ae,De,0,0,Re-ee],[0,0,H,P,Fe-ae],[0,0,Ae,De,We-ae]],Dn=k9(ce);if(!Dn)return;if(v.save(),v.beginPath(),__e()||!h){v.moveTo(fe,Fe);let St=4,Jn=ee-fe,Tn=ae-Fe;for(let Pn=0;Pn<St;Pn++)v.lineTo(fe+w((Pn+1)*Jn/St),Fe+w(Pn*Tn/(St-1))),Pn!=St-1&&v.lineTo(fe+w((Pn+1)*Jn/St),Fe+w((Pn+1)*Tn/(St-1)));v.lineTo(Re,We)}else v.moveTo(fe,Fe),v.lineTo(ee,ae),v.lineTo(Re,We);v.clip(),v.transform(Dn[0],Dn[2],Dn[1],Dn[3],ee,ae),v.translate(C[0]-Xe,C[3]-wt);let Wn;if(S)Wn=S.canvas,v.scale(V,-V);else{let St=l[0],Jn=St.extent;Wn=St.image,v.scale(It(Jn)/Wn.width,-Sn(Jn)/Wn.height)}v.drawImage(Wn,0,0),v.restore()}),S&&(Eo(S),qs.push(S.canvas)),u&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,a.getTriangles().forEach(function(q,Y,A){let x=q.target,D=(x[0][0]-z[0])/s,B=-(x[0][1]-z[1])/s,U=(x[1][0]-z[0])/s,H=-(x[1][1]-z[1])/s,P=(x[2][0]-z[0])/s,Ae=-(x[2][1]-z[1])/s;v.beginPath(),v.moveTo(U,H),v.lineTo(D,B),v.lineTo(P,Ae),v.closePath(),v.stroke()}),v.restore()),v.canvas}var $A=class extends hg{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let t=e.sourceProj,i=t.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=t.canWrapX()?r?vr(i,r):i:r;let s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent(),a=this.sourceTileGrid_.getExtent(),l=o?vr(s,o):s;if(Ul(l)===0){this.state=Te.EMPTY;return}i&&(a?a=vr(a,i):a=i);let c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,h=pb(t,u,l,c);if(!isFinite(h)||h<=0){this.state=Te.EMPTY;return}let p=e.errorThreshold!==void 0?e.errorThreshold:.5;if(this.triangulation_=new hb(t,u,l,a,h*p,c),this.triangulation_.getTriangles().length===0){this.state=Te.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let m=this.triangulation_.calculateSourceExtent();if(a&&(t.canWrapX()?(m[1]=en(m[1],a[1],a[3]),m[3]=en(m[3],a[1],a[3])):m=vr(m,a)),!Ul(m))this.state=Te.EMPTY;else{let v=0,w=0;t.canWrapX()&&(v=It(i),w=Math.floor((m[0]-i[0])/v)),Yh(m.slice(),t,!0).forEach(S=>{let R=this.sourceTileGrid_.getTileRangeForExtentAndZ(S,this.sourceZ_),V=e.getTileFunction;for(let z=R.minX;z<=R.maxX;z++)for(let q=R.minY;q<=R.maxY;q++){let Y=V(this.sourceZ_,z,q,this.pixelRatio_);if(Y){let A=w*v;this.sourceTiles_.push({tile:Y,offset:A})}}++w}),this.sourceTiles_.length===0&&(this.state=Te.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){let e=[],t=!1;if(this.sourceTiles_.forEach(v=>{let w=v.tile;if(!w||w.getState()!==Te.LOADED)return;let C=w.getSize(),S=this.gutter_,R,V=lB(w.getData());V?R=V:(t=!0,R=cB(wp(w.getData())));let z=[C[0]+2*S,C[1]+2*S],q=R instanceof Float32Array,Y=z[0]*z[1],A=q?Float32Array:Uint8ClampedArray,x=new A(R.buffer),D=A.BYTES_PER_ELEMENT,B=D*x.length/Y,U=x.byteLength/z[1],H=Math.floor(U/D/z[0]),P=Y*H,Ae=x;if(x.length!==P){Ae=new A(P);let ae=0,fe=0,Fe=z[0]*H;for(let Re=0;Re<z[1];++Re){for(let We=0;We<Fe;++We)Ae[ae++]=x[fe+We];fe+=U/D}}let De=this.sourceTileGrid_.getTileCoordExtent(w.tileCoord);De[0]+=v.offset,De[2]+=v.offset;let ee=this.clipExtent_?.slice();ee&&(ee[0]+=v.offset,ee[2]+=v.offset),e.push({extent:De,clipExtent:ee,data:new Uint8ClampedArray(Ae.buffer),dataType:A,bytesPerPixel:B,pixelSize:z})}),this.sourceTiles_.length=0,e.length===0){this.state=Te.ERROR,this.changed();return}let i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),u,h,p=e[0].bytesPerPixel,m=Math.ceil(p/3);for(let v=m-1;v>=0;--v){let w=[];for(let q=0,Y=e.length;q<Y;++q){let A=e[q],x=A.data,D=A.pixelSize,B=D[0],U=D[1],H=tn(B,U,qs),P=H.createImageData(B,U),Ae=P.data,De=v*3;for(let ee=0,ae=Ae.length;ee<ae;ee+=4)Ae[ee]=x[De],Ae[ee+1]=x[De+1],Ae[ee+2]=x[De+2],Ae[ee+3]=255,De+=p;H.putImageData(P,0,0),w.push({extent:A.extent,clipExtent:A.clipExtent,image:H.canvas})}let C=fb(s,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,w,this.gutter_,!1,!1,!1);for(let q=0,Y=w.length;q<Y;++q){let x=w[q].image.getContext("2d");Eo(x),qs.push(x.canvas)}let S=C.getContext("2d"),R=S.getImageData(0,0,C.width,C.height);Eo(S),qs.push(C),u||(h=new Uint8ClampedArray(p*R.width*R.height),u=new e[0].dataType(h.buffer));let V=R.data,z=v*3;for(let q=0,Y=V.length;q<Y;q+=4)V[q+3]===255?(h[z]=V[q],h[z+1]=V[q+1],h[z+2]=V[q+2]):(h[z]=0,h[z+1]=0,h[z+2]=0),z+=p}if(t){let v=tn(s,o),w=new ImageData(u,s);v.putImageData(w,0,0),this.reprojData_=v.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(s*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=Te.LOADED,this.changed()}load(){if(this.state!==Te.IDLE&&this.state!==Te.ERROR)return;this.state=Te.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i!==Te.IDLE&&i!==Te.LOADING)return;e++;let r=bt(t,Pe.CHANGE,()=>{let s=t.getState();(s==Te.LOADED||s==Te.ERROR||s==Te.EMPTY)&&(Nt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t}){t.getState()==Te.IDLE&&t.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Nt),this.sourcesListenerKeys_=null}},pB=$A;var GA=class extends fp{constructor(e,t,i,r,s,o,a,l,c,u,h,p){super(s,Te.IDLE,p),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let m=r.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent(),w=this.sourceTileGrid_.getExtent(),C=v?vr(m,v):m;if(Ul(C)===0){this.state=Te.EMPTY;return}let S=e.getExtent();S&&(w?w=vr(w,S):w=S);let R=r.getResolution(this.wrappedTileCoord_[0]),V=pb(e,i,C,R);if(!isFinite(V)||V<=0){this.state=Te.EMPTY;return}let z=u!==void 0?u:.5;if(this.triangulation_=new hb(e,i,C,w,V*z,R),this.triangulation_.getTriangles().length===0){this.state=Te.EMPTY;return}this.sourceZ_=t.getZForResolution(V);let q=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(q[1]=en(q[1],w[1],w[3]),q[3]=en(q[3],w[1],w[3])):q=vr(q,w)),!Ul(q))this.state=Te.EMPTY;else{let Y=0,A=0;e.canWrapX()&&(Y=It(S),A=Math.floor((q[0]-S[0])/Y)),Yh(q.slice(),e,!0).forEach(D=>{let B=t.getTileRangeForExtentAndZ(D,this.sourceZ_);for(let U=B.minX;U<=B.maxX;U++)for(let H=B.minY;H<=B.maxY;H++){let P=c(this.sourceZ_,U,H,a);if(P){let Ae=A*Y;this.sourceTiles_.push({tile:P,offset:Ae})}}++A}),this.sourceTiles_.length===0&&(this.state=Te.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==Te.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let s=this.clipExtent_?.slice();s&&(s[0]+=t.offset,s[2]+=t.offset),e.push({extent:r,clipExtent:s,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Te.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fb(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Te.LOADED}this.changed()}load(){if(this.state==Te.IDLE){this.state=Te.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==Te.IDLE||i==Te.LOADING){e++;let r=bt(t,Pe.CHANGE,s=>{let o=t.getState();(o==Te.LOADED||o==Te.ERROR||o==Te.EMPTY)&&(Nt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==Te.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Nt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Eo(this.canvas_.getContext("2d")),qs.push(this.canvas_),this.canvas_=null),super.release()}},mb=GA;function WA(n,e,t,i){return`${n},${Su(e,t,i)}`}function qA(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function v_e(n,e,t){let i=n[t];return i?i.delete(e):!1}function fB(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=vr(e,gs(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=vr(e,r))}return e}var KA=class extends J1{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Xn(),this.tempTileRange_=new db(0,0,0,0),this.tempTileCoord_=vp(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new ab(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let s=this.tileCache_,a=this.getLayer().getSource(),l=WA(a.getKey(),e,t,i),c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,t,i,r){let s=this.getOrCreateTile(e,t,i,r);return s||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=Zn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Us(s,r))return null;let o=t.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){let h=l.getTileCoordForCoordAndZ(r,u),p=this.getTile(u,h[1],h[2],t);if(!p||p.getState()!==Te.LOADED)continue;let m=l.getOrigin(u),v=$n(l.getTileSize(u)),w=l.getResolution(u),C;if(p instanceof tb)C=p.getImage();else if(p instanceof hg){if(C=wp(p.getData()),!C)continue}else continue;let S=Math.floor(c*((r[0]-m[0])/w-h[1]*v[0])),R=Math.floor(c*((m[1]-r[1])/w-h[2]*v[1])),V=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(C,S+V,R+V)}return null}prepareFrame(e){let t=this.getLayer().getSource();if(!t)return!1;let i=this.getLayer().getSource().getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,s){let o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=xt(l);u in e.wantedTiles||(e.wantedTiles[u]={});let h=e.wantedTiles[u],p=a.getMapInternal(),m=Math.max(i-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),p?p.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let v=i;v>=m;--v){let w=c.getTileRangeForExtentAndZ(t,v,this.tempTileRange_),C=c.getResolution(v);for(let S=w.minX;S<=w.maxX;++S)for(let R=w.minY;R<=w.maxY;++R){let V=this.getTile(v,S,R,e);if(!V||!qA(r,V,v))continue;let q=V.getKey();if(h[q]=!0,V.getState()===Te.IDLE&&!e.tileQueue.isKeyQueued(q)){let Y=vp(v,S,R,this.tempTileCoord_);e.tileQueue.enqueue([V,u,c.getTileCoordCenter(Y),C])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=WA(a[l],r,s,o);if(i.containsKey(c)){let u=i.get(c);if(u.getState()===Te.LOADED)return u.endTransition(xt(this)),qA(t,u,r),!0}}return!1}findAltTiles_(e,t,i,r){let s=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!s)return!1;let o=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){let p=WA(c,i,u,h),m=!1;if(a.containsKey(p)){let v=a.get(p);v.getState()===Te.LOADED&&(qA(r,v,i),m=!0)}m||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;let i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),p=u.getTileGridForProjection(s),m=p.getZForResolution(o,u.zDirection),v=p.getResolution(m),w=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==w&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=w):this.renderedSourceKey_=w;let C=e.extent,S=u.getTilePixelRatio(l);this.prepareContainer(e,t);let R=this.context.canvas.width,V=this.context.canvas.height,z=i.extent&&gs(i.extent,s);z&&(C=vr(C,gs(i.extent,s)));let q=v*R/2/S,Y=v*V/2/S,A=[a[0]-q,a[1]-Y,a[0]+q,a[1]+Y],x={},D=c.getPreload();if(e.nextExtent){let Re=p.getZForResolution(r.nextResolution,u.zDirection),We=fB(e,e.nextExtent);this.enqueueTiles(e,We,Re,x,D)}let B=fB(e,C);this.enqueueTiles(e,B,m,x,0),D>0&&setTimeout(()=>{this.enqueueTiles(e,B,m-1,x,D-1)},0);let U=xt(this),H=e.time;for(let Re of x[m]){let We=Re.getState();if((Re instanceof mb||Re instanceof pB)&&We===Te.EMPTY)continue;let Xe=Re.tileCoord;if(We===Te.LOADED&&Re.getAlpha(U,H)===1){Re.endTransition(U);continue}if(this.renderComplete=!1,this.findStaleTile_(Xe,x)){v_e(x,Re,m),e.animate=!0;continue}if(this.findAltTiles_(p,Xe,m+1,x))continue;let Dn=p.getMinZoom();for(let Wn=m-1;Wn>=Dn&&!this.findAltTiles_(p,Xe,Wn,x);--Wn);}let P=v/o*l/S,Ae=this.getRenderContext(e);ji(this.tempTransform,R/2,V/2,P,P,0,-R/2,-V/2),i.extent&&this.clipUnrotated(Ae,e,z),u.getInterpolate()||(Ae.imageSmoothingEnabled=!1),this.preRender(Ae,e),this.renderedTiles.length=0;let De=Object.keys(x).map(Number);De.sort(Dr);let ee,ae=[],fe=[];for(let Re=De.length-1;Re>=0;--Re){let We=De[Re],Xe=u.getTilePixelSize(We,l,s),ce=p.getResolution(We)/v,Dn=Xe[0]*ce*P,Wn=Xe[1]*ce*P,St=p.getTileCoordForCoordAndZ(ms(A),We),Jn=p.getTileCoordExtent(St),Tn=Zn(this.tempTransform,[S*(Jn[0]-A[0])/v,S*(A[3]-Jn[3])/v]),Pn=S*u.getGutterForProjection(s);for(let Fi of x[We]){if(Fi.getState()!==Te.LOADED)continue;let No=Fi.tileCoord,Ua=St[1]-No[1],oc=Math.round(Tn[0]-(Ua-1)*Dn),Vo=St[2]-No[2],Ys=Math.round(Tn[1]-(Vo-1)*Wn),cr=Math.round(Tn[0]-Ua*Dn),is=Math.round(Tn[1]-Vo*Wn),Bo=oc-cr,zo=Ys-is,Uo=De.length===1,Qs=!1;ee=[cr,is,cr+Bo,is,cr+Bo,is+zo,cr,is+zo];for(let Ha=0,Zs=ae.length;Ha<Zs;++Ha)if(!Uo&&We<fe[Ha]){let Fn=ae[Ha];On([cr,is,cr+Bo,is+zo],[Fn[0],Fn[3],Fn[4],Fn[7]])&&(Qs||(Ae.save(),Qs=!0),Ae.beginPath(),Ae.moveTo(ee[0],ee[1]),Ae.lineTo(ee[2],ee[3]),Ae.lineTo(ee[4],ee[5]),Ae.lineTo(ee[6],ee[7]),Ae.moveTo(Fn[6],Fn[7]),Ae.lineTo(Fn[4],Fn[5]),Ae.lineTo(Fn[2],Fn[3]),Ae.lineTo(Fn[0],Fn[1]),Ae.clip())}ae.push(ee),fe.push(We),this.drawTile(Fi,e,cr,is,Bo,zo,Pn,Uo),Qs&&Ae.restore(),this.renderedTiles.unshift(Fi),this.updateUsedTiles(e.usedTiles,u,Fi)}}this.renderedRevision=h,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Ta(this.renderedExtent_,A),this.renderedExtent_=A,this.renderedPixelRatio=l,this.renderedProjection=s,this.postRender(this.context,e),i.extent&&Ae.restore(),Ae.imageSmoothingEnabled=!0;let Fe=(Re,We)=>{let Xe=xt(u),wt=We.wantedTiles[Xe],ce=wt?Object.keys(wt).length:0;this.updateCacheSize(ce),this.tileCache_.expireCache()};return e.postRenderFunctions.push(Fe),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,s,o,a,l){let c;if(e instanceof hg){if(c=wp(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),h=xt(this),p=t.layerStatesArray[t.layerIndex],m=p.opacity*(l?e.getAlpha(h,t.time):1),v=m!==u.globalAlpha;v&&(u.save(),u.globalAlpha=m),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,s,o),v&&u.restore(),m!==p.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=xt(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},mB=KA;var YA=class extends aB{constructor(e){super(e)}createRenderer(){return new mB(this,{cacheSize:this.getCacheSize()})}},gB=YA;var gb={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var Cp=[0,0,0],rc=5,QA=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,st(f9(this.resolutions_,(r,s)=>s-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,st(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ms(i)),st(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,st(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,st(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{let o=new db(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,s,a])}forEachTileCoordParentTileRange(e,t,i,r){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=Du(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,c,i),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let s=e[1]*2,o=e[2]*2;return Du(s,s+1,o,o+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],s=e[1],o=e[2];if(t===r)return Du(s,o,s,o,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(s*l),u=Math.floor(o*l);if(t<r)return Du(c,c,u,u,i);let h=Math.floor(l*(s+1))-1,p=Math.floor(l*(o+1))-1;return Du(c,h,u,p,i)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Cp);let r=Cp[1],s=Cp[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Cp);let o=Cp[1],a=Cp[2];return Du(r,o,s,a,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=$n(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=$n(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return Zr(o,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,s){let o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=$n(this.getTileSize(o),this.tmpSize_),u=a*(e-l[0])/i/c[0],h=a*(l[1]-t)/i/c[1];return r?(u=Om(u,rc)-1,h=Om(h,rc)-1):(u=km(u,rc),h=km(h,rc)),vp(o,u,h,s)}getTileCoordForXYAndZ_(e,t,i,r,s){let o=this.getOrigin(i),a=this.getResolution(i),l=$n(this.getTileSize(i),this.tmpSize_),c=(e-o[0])/a/l[0],u=(o[1]-t)/a/l[1];return r?(c=Om(c,rc)-1,u=Om(u,rc)-1):(c=km(c,rc),u=km(u,rc)),vp(i,c,u,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=Bh(this.resolutions_,e,t||0);return en(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return S2(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},ZA=QA;function _b(n){let e=n.getDefaultTileGrid();return e||(e=w_e(n),n.setDefaultTileGrid(e)),e}function _B(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),s=yb(t);if(!Us(s,r)){let o=It(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,n.getTileCoordForCoordAndZ(r,i)}return e}function b_e(n,e,t,i){i=i!==void 0?i:"top-left";let r=vB(n,e,t);return new ZA({extent:n,origin:w9(n,i),resolutions:r,tileSize:t})}function yB(n){let e=n||{},t=e.extent||Oi("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:vB(t,e.maxZoom,e.tileSize,e.maxResolution)};return new ZA(i)}function vB(n,e,t,i){e=e!==void 0?e:42,t=$n(t!==void 0?t:256);let r=Sn(n),s=It(n);i=i>0?i:Math.max(s/t[0],r/t[1]);let o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function w_e(n,e,t,i){let r=yb(n);return b_e(r,e,t,i)}function yb(n){n=Oi(n);let e=n.getExtent();if(!e){let t=180*xa.degrees/n.getMetersPerUnit();e=Zr(-t,-t,t,t)}return e}var XA=class extends eb{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&$n(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new cb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){let i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,s){return Rt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:_b(e)}getTileCacheForProjection(e){let t=this.getProjection();return st(t===null||gu(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),o=$n(r.getTileSize(e),this.tmpSize);return s==1?o:E7(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();let i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=_B(i,e,t)),oB(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}useTile(e,t,i,r){}},vb=class extends Ai{constructor(e,t){super(e),this.tile=t}},bB=XA;var C_e=/\{z\}/g,I_e=/\{x\}/g,E_e=/\{y\}/g,T_e=/\{-y\}/g;function wB(n,e,t,i,r){return n.replace(C_e,e.toString()).replace(I_e,t.toString()).replace(E_e,i.toString()).replace(T_e,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function CB(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),s;for(s=i;s<=r;++s)e.push(n.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function x_e(n,e){return function(t,i,r){if(!t)return;let s,o=t[0];if(e){let a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return wB(n,o,t[1],t[2],s)}}function IB(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=x_e(n[r],e);return S_e(i)}function S_e(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=sB(e),s=Ma(r,n.length);return n[s](e,t,i)}}var JA=class n extends bB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=xt(t),r=t.getState(),s;r==Te.LOADING?(this.tileLoadingKeys_[i]=!0,s=gb.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==Te.ERROR?gb.TILELOADERROR:r==Te.LOADED?gb.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new vb(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=CB(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(IB(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){let r=Su(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}},EB=JA;var eR=class extends EB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:D_e,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:tb,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){let i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(let r in this.tileCacheForProjection){let s=this.tileCacheForProjection[r];s.expireCache(s==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!gu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||gu(t,e)))return this.tileGrid;let i=xt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=_b(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){let t=this.getProjection();if(!t||gu(t,e))return this.tileCache;let i=xt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new cb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,s,o){let a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,u=new this.tileClass(a,c!==void 0?Te.IDLE:Te.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(Pe.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,i,r,s){let o=this.getProjection();if(!o||!s||gu(o,s))return this.getTileInternal(e,t,i,r,o||s);let a=this.getTileCacheForProjection(s),l=[e,t,i],c,u=lb(l);a.containsKey(u)&&(c=a.get(u));let h=this.getKey();if(c&&c.key==h)return c;let p=this.getTileGridForProjection(o),m=this.getTileGridForProjection(s),v=this.getTileCoordForTileUrlFunction(l,s),w=new mb(o,p,s,m,l,v,this.getTilePixelRatio(r),this.getGutter(),(C,S,R,V)=>this.getTileInternal(C,S,R,V,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return w.key=h,c?a.replace(u,w):a.set(u,w),w}getTileInternal(e,t,i,r,s){let o=Su(e,t,i),a=this.getKey();if(!this.tileCache.containsKey(o)){let c=this.createTile_(e,t,i,r,s,a);return this.tileCache.set(o,c),c}let l=this.tileCache.get(o);return l.key!=a&&(l=this.createTile_(e,t,i,r,s,a),this.tileCache.replace(o,l)),l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(let t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){let i=Oi(e);if(i){let r=xt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(let e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}};function D_e(n,e){n.getImage().src=e}var TB=eR;var tR=class extends TB{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:yB({extent:yb(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},xB=tR;var M_e='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',nR=class extends xB{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[M_e];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},iR=nR;var SB=(()=>{let e=class e{constructor(){this.map=null,this.marker=null,this.vectorLayer=null,this.coordinates=""}ngOnChanges(){let i=this.convertCoordinates(this.coordinates),r=B9(i);this.map?(this.marker&&this.marker.setGeometry(new np(r)),this.map.getView().setCenter(r),this.map.getView().setZoom(19)):(this.marker=new i2({geometry:new np(r)}),this.marker.setStyle(new Zl({image:new Iu({src:"https://openlayers.org/en/latest/examples/data/icon.png",anchor:[.5,1]})})),this.vectorLayer=new w8({source:new x8({features:[this.marker]})}),this.map=new LA({target:"map",layers:[new gB({source:new iR}),this.vectorLayer],view:new Pr({center:r,zoom:19,projection:"EPSG:3857"})}))}convertCoordinates(i){return[parseFloat(i.split(", ")[0]),parseFloat(i.split(", ")[1])]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["app-map"]],inputs:{coordinates:"coordinates"},standalone:!0,features:[cn,_e],decls:1,vars:0,consts:[["id","map",1,"map-container"]],template:function(r,s){r&1&&$(0,"div",0)},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:400px}"]});let n=e;return n})();var A_e=["*"];function R_e(n,e){if(n&1&&$(0,"span",5),n&2){let t=_(2);f("ngClass",t.icon)}}function k_e(n,e){if(n&1&&(re(0),T(1,R_e,1,1,"span",4),se()),n&2){let t=_();g(),f("ngIf",t.icon)}}function O_e(n,e){}function P_e(n,e){n&1&&T(0,O_e,0,0,"ng-template")}function F_e(n,e){if(n&1&&(I(0,"span",6),T(1,P_e,1,0,null,7),E()),n&2){let t=_();g(),f("ngTemplateOutlet",t.iconTemplate)}}var DB=(()=>{class n{cd;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"icon":this.iconTemplate=t.template;break}})}constructor(t){this.cd=t}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(i){return new(i||n)(j(Je))};static \u0275cmp=X({type:n,selectors:[["p-tag"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[O.HasDecoratorInputTransform,"rounded","rounded",W]},features:[Ze],ngContentSelectors:A_e,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&(_n(),I(0,"span",0),nn(1),T(2,k_e,2,1,"ng-container",1)(3,F_e,2,1,"span",2),I(4,"span",3),ie(5),E()()),i&2&&(ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),g(2),f("ngIf",!r.iconTemplate),g(),f("ngIf",r.iconTemplate),g(2),Ue(r.value))},dependencies:[gt,nt,Mt,_t],styles:[`@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}
`],encapsulation:2,changeDetection:0})}return n})(),MB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke,Ke]})}return n})();var N_e=(n,e,t,i,r,s,o)=>({"p-timeline p-component":!0,"p-timeline-left":n,"p-timeline-right":e,"p-timeline-top":t,"p-timeline-bottom":i,"p-timeline-alternate":r,"p-timeline-vertical":s,"p-timeline-horizontal":o}),rR=n=>({$implicit:n});function V_e(n,e){n&1&&de(0)}function B_e(n,e){n&1&&de(0)}function z_e(n,e){if(n&1&&(re(0),T(1,B_e,1,0,"ng-container",5),se()),n&2){let t=_().$implicit,i=_();g(),f("ngTemplateOutlet",i.markerTemplate)("ngTemplateOutletContext",Ce(2,rR,t))}}function U_e(n,e){n&1&&$(0,"div",10),n&2&&N("data-pc-section","marker")}function H_e(n,e){n&1&&$(0,"div",11)}function j_e(n,e){n&1&&de(0)}function $_e(n,e){if(n&1&&(I(0,"div",3)(1,"div",4),T(2,V_e,1,0,"ng-container",5),E(),I(3,"div",6),T(4,z_e,2,4,"ng-container",7)(5,U_e,1,1,"ng-template",null,0,qt)(7,H_e,1,0,"div",8),E(),I(8,"div",9),T(9,j_e,1,0,"ng-container",5),E()()),n&2){let t=e.$implicit,i=e.last,r=ct(6),s=_();N("data-pc-section","event"),g(),N("data-pc-section","opposite"),g(),f("ngTemplateOutlet",s.oppositeTemplate)("ngTemplateOutletContext",Ce(11,rR,t)),g(),N("data-pc-section","separator"),g(),f("ngIf",s.markerTemplate)("ngIfElse",r),g(3),f("ngIf",!i),g(),N("data-pc-section","content"),g(),f("ngTemplateOutlet",s.contentTemplate)("ngTemplateOutletContext",Ce(13,rR,t))}}var AB=(()=>{class n{el;value;style;styleClass;align="left";layout="vertical";templates;contentTemplate;oppositeTemplate;markerTemplate;constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"opposite":this.oppositeTemplate=t.template;break;case"marker":this.markerTemplate=t.template;break}})}static \u0275fac=function(i){return new(i||n)(j(je))};static \u0275cmp=X({type:n,selectors:[["p-timeline"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:15,consts:[["marker",""],[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(i,r){i&1&&(I(0,"div",1),T(1,$_e,10,15,"div",2),E()),i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",S0(7,N_e,r.align==="left",r.align==="right",r.align==="top",r.align==="bottom",r.align==="alternate",r.layout==="vertical",r.layout==="horizontal")),N("data-pc-name","timeline")("data-pc-section","root"),g(),f("ngForOf",r.value))},dependencies:[gt,oi,nt,Mt,_t],styles:[`@layer primeng{.p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem;min-width:100px}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}}
`],encapsulation:2,changeDetection:0})}return n})(),RB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke]})}return n})();var kB=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[Se,_e],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1)(3,"path",2)(4,"path",3),E(),I(5,"defs")(6,"clipPath",4),$(7,"rect",5),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(5),f("id",r.pathId))},encapsulation:2})}return n})();var OB=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var PB=(()=>{class n extends Oe{pathId;ngOnInit(){this.pathId="url(#"+it()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Se,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0)(1,"g"),$(2,"path",1),E(),I(3,"defs")(4,"clipPath",2),$(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var FB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,li,nr,OB,PB,kB,kn]})}return n})();var W_e=(n,e)=>e.descrizione;function q_e(n,e){if(n&1&&(I(0,"div",10),$(1,"span",11),I(2,"p"),ie(3),E()()),n&2){let t=e.$implicit;g(3),Ue(t.descrizione)}}function K_e(n,e){if(n&1&&(re(0),CL(1,q_e,4,1,"div",10,W_e),se()),n&2){let t=_();g(),IL(t.disserviziInCorso())}}function Y_e(n,e){if(n&1&&ie(0),n&2){let t=e.$implicit;zt(" ",t.nome," ")}}function Q_e(n,e){n&1&&(I(0,"p"),ie(1,"Arrivo effettivo: --:--"),E())}function Z_e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E()),n&2){let t=_(2).$implicit;g(),zt("Arrivo effettivo: ",Ui(2,1,t.orarioArrivoEffettivo,"HH:mm"),"")}}function X_e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E(),T(3,Q_e,2,0,"p")(4,Z_e,3,4)),n&2){let t=_().$implicit,i=_();g(),zt("Arrivo previsto: ",Ui(2,2,t.orarioArrivoPrevisto,"HH:mm"),""),g(2),mr(3,i.is00(t.orarioArrivoEffettivo)?3:4)}}function J_e(n,e){n&1&&(I(0,"p"),ie(1,"Partenza effettiva: --:--"),E())}function e0e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E()),n&2){let t=_(2).$implicit;g(),zt("Partenza effettiva: ",Ui(2,1,t.orarioPartenzaEffettivo,"HH:mm"),"")}}function t0e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E(),T(3,J_e,2,0,"p")(4,e0e,3,4)),n&2){let t=_().$implicit,i=_();g(),zt("Partenza Prevista: ",Ui(2,2,t.orarioPartenzaPrevisto,"HH:mm"),""),g(2),mr(3,i.is00(t.orarioPartenzaEffettivo)?3:4)}}function n0e(n,e){n&1&&(I(0,"p"),ie(1,"Transito effettivo: --:--"),E())}function i0e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E()),n&2){let t=_(2).$implicit;g(),zt("Transito effettivo: ",Ui(2,1,t.orarioPassaggioEffettivo,"HH:mm"),"")}}function r0e(n,e){if(n&1&&(I(0,"p"),ie(1),zi(2,"date"),E(),T(3,n0e,2,0,"p")(4,i0e,3,4)),n&2){let t=_().$implicit,i=_();g(),zt("Transito Previsto: ",Ui(2,2,t.orarioPassaggioPrevisto,"HH:mm"),""),g(2),mr(3,i.is00(t.orarioPassaggioEffettivo)?3:4)}}function s0e(n,e){if(n&1&&T(0,X_e,5,5)(1,t0e,5,5)(2,r0e,5,5),n&2){let t=e.$implicit;mr(0,t.orarioArrivoPrevisto?0:-1),g(),mr(1,t.orarioPartenzaPrevisto?1:-1),g(),mr(2,t.orarioPassaggioPrevisto?2:-1)}}function o0e(n,e){if(n&1&&(re(0),$(1,"app-map",12),se()),n&2){let t=_();g(),f("coordinates",t.lastPosition().coordinate)}}var LB=(()=>{let e=class e{constructor(i,r,s){this.firestoreService=i,this.route=r,this.disservizi=s,this.id=Zt(""),this.idSubject=new pi(""),this.lastPosition=ao(()=>{let o={};for(let a=this.percorso().checkpoint.length-1;a>=0;a--){if(this.percorso().checkpoint[a].orarioArrivoPrevisto&&this.percorso().checkpoint[a].orarioPartenzaPrevisto){if(this.is00(this.percorso().checkpoint[a].orarioArrivoEffettivo)&&this.is00(this.percorso().checkpoint[a].orarioPartenzaEffettivo))continue;o=this.percorso().checkpoint[a];break}if(this.percorso().checkpoint[a].orarioPassaggioPrevisto&&this.percorso().checkpoint[a].orarioPassaggioEffettivo){if(!this.is00(this.percorso().checkpoint[a].orarioPassaggioEffettivo)){o=this.percorso().checkpoint[a];break}}else if(this.percorso().checkpoint[a].orarioArrivoPrevisto&&this.percorso().checkpoint[a].orarioArrivoEffettivo){if(!this.is00(this.percorso().checkpoint[a].orarioArrivoEffettivo)){o=this.percorso().checkpoint[a];break}}else if(this.percorso().checkpoint[a].orarioPartenzaPrevisto&&this.percorso().checkpoint[a].orarioPartenzaEffettivo&&!this.is00(this.percorso().checkpoint[a].orarioPartenzaEffettivo)){o=this.percorso().checkpoint[a];break}a===0&&(o=this.percorso().checkpoint[0])}return o}),this.percorso=Zt({}),this.readyToShow=Zt(!1),this.lastTime=ao(()=>{let o=new Date,a=this.lastPosition();return a.orarioArrivoEffettivo&&!this.is00(a.orarioArrivoEffettivo)?a.orarioPartenzaEffettivo&&this.is00(a.orarioPartenzaEffettivo)?o=a.orarioArrivoEffettivo:a.orarioPartenzaEffettivo&&!this.is00(a.orarioPartenzaEffettivo)?o=a.orarioPartenzaEffettivo:o=a.orarioArrivoEffettivo:a.orarioPartenzaEffettivo&&!this.is00(a.orarioPartenzaEffettivo)?o=a.orarioPartenzaEffettivo:a.orarioPassaggioEffettivo&&!this.is00(a.orarioPassaggioEffettivo)?o=a.orarioPassaggioEffettivo:(o=new Date,o.setHours(0),o.setMinutes(0)),o}),this.disserviziInCorso=Zt([])}ngOnInit(){this.routeSub=this.route.params.subscribe(i=>{this.id.set(i.id),this.idSubject.next(i.id)}),this.idSubject.subscribe(i=>{this.getPercorso(),this.getDisservizi()})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}getPercorso(){this.firestoreService.getPercorsi().subscribe(i=>{this.readyToShow.set(!1),this.percorso.set(i.filter(r=>r.id===this.id())[0]),this.percorso.update(r=>{let s=r;for(let o=0;o<r.checkpoint.length;o++)s.checkpoint[o].orarioPassaggioPrevisto&&(s.checkpoint[o].orarioPassaggioPrevisto=s.checkpoint[o].orarioPassaggioPrevisto.toDate(),s.checkpoint[o].orarioPassaggioEffettivo=s.checkpoint[o].orarioPassaggioEffettivo.toDate()),s.checkpoint[o].orarioArrivoPrevisto&&(s.checkpoint[o].orarioArrivoPrevisto=s.checkpoint[o].orarioArrivoPrevisto.toDate(),s.checkpoint[o].orarioArrivoEffettivo=s.checkpoint[o].orarioArrivoEffettivo.toDate()),s.checkpoint[o].orarioPartenzaPrevisto&&(s.checkpoint[o].orarioPartenzaPrevisto=s.checkpoint[o].orarioPartenzaPrevisto.toDate(),s.checkpoint[o].orarioPartenzaEffettivo=s.checkpoint[o].orarioPartenzaEffettivo.toDate());return s}),this.readyToShow.set(!0)})}getDisservizi(){this.disservizi.getDisservizi().subscribe(i=>{this.disserviziInCorso.set(i.find(r=>r.id===this.id()).disservizi),this.disserviziInCorso.update(r=>r.filter(o=>o.attivo===!0))})}is00(i){return i?i.getHours()===0&&i.getMinutes()===0:!1}state(){let i=0;if(this.lastPosition()===this.percorso().checkpoint[0]&&this.is00(this.lastPosition().orarioPartenzaEffettivo))return"NON PARTITO";if(this.lastPosition().orarioPartenzaPrevisto&&this.lastPosition().orarioArrivoPrevisto)if(this.is00(this.lastPosition().orarioPartenzaEffettivo)){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{if(this.lastPosition().orarioPartenzaPrevisto){let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioArrivoPrevisto){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioPassaggioPrevisto){let r=this.lastPosition().orarioPassaggioEffettivo.getTime()-this.lastPosition().orarioPassaggioPrevisto.getTime();i=Math.floor(r/(1e3*60))}}return i<0?i.toString()+" MIN":i>0?"+"+i.toString()+" MIN":i===0?"IN ORARIO":"NON PARTITO"}};e.\u0275fac=function(r){return new(r||e)(j(l1),j(ds),j(a1))},e.\u0275cmp=X({type:e,selectors:[["app-tracking"]],standalone:!0,features:[_e],decls:17,vars:9,consts:[[4,"ngIf"],[1,"last-detection"],[1,"detection"],[1,"tag-container"],[3,"value"],[1,"map-section"],[1,"timeline"],["pTemplate","content"],["pTemplate","opposite"],[1,"map"],[1,"disservizio"],[1,"pi","pi-exclamation-triangle","icona-disservizio"],[3,"coordinates"]],template:function(r,s){r&1&&(T(0,K_e,3,0,"ng-container",0),I(1,"div",1)(2,"div",2)(3,"h3"),ie(4),E(),I(5,"p"),ie(6),zi(7,"date"),E()(),I(8,"div",3),$(9,"p-tag",4),E()(),I(10,"div",5)(11,"div",6)(12,"p-timeline",4),T(13,Y_e,1,1,"ng-template",7)(14,s0e,3,3,"ng-template",8),E()(),I(15,"div",9),T(16,o0e,2,1,"ng-container",0),E()()),r&2&&(f("ngIf",s.disserviziInCorso()),g(4),Ue(s.lastPosition().id),g(2),zt("Ultimo rilevamento: ",s.is00(s.lastTime())?"--:--":Ui(7,6,s.lastTime(),"HH:mm"),""),g(3),OI("value",s.state()),g(3),f("value",s.percorso().checkpoint),g(4),f("ngIf",s.readyToShow()))},dependencies:[SB,nt,$0,MB,DB,qe,RB,AB,FB],styles:["[_nghost-%COMP%]     .p-tag{font-size:16px;padding:.5em;background-color:var(--verde)}.last-detection[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.detection[_ngcontent-%COMP%]{flex:1;margin:10px}.tag-container[_ngcontent-%COMP%]{flex:2;align-content:center}.map-section[_ngcontent-%COMP%]{display:flex;flex-direction:row}.timeline[_ngcontent-%COMP%]{flex:1;max-height:inherit;overflow-y:auto;max-height:400px}.map[_ngcontent-%COMP%]{flex:2;max-height:400px}[_nghost-%COMP%]     .p-timeline-event-opposite{font-size:12px}[_nghost-%COMP%]     .p-timeline-event-marker{border-color:var(--verde)}.disservizio[_ngcontent-%COMP%]{background-color:#eeac5a;width:50%;border:2px solid #6A3900;border-radius:1em;font-size:18px;padding:.3em 1em;margin:20px auto;text-align:justify;display:flex;flex-flow:row nowrap}.icona-disservizio[_ngcontent-%COMP%]{color:#6a3900;font-size:25px;margin:auto 15px auto auto}@media (600px < width <= 900px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:2}.timeline[_ngcontent-%COMP%], .map[_ngcontent-%COMP%]{flex:1}.disservizio[_ngcontent-%COMP%]{width:70%}}@media (400px < width <= 600px){.detection[_ngcontent-%COMP%]{flex:1;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}.disservizio[_ngcontent-%COMP%]{width:80%}}@media (width <= 400px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}.disservizio[_ngcontent-%COMP%]{width:92%}}"]});let n=e;return n})();var NB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["app-404"]],standalone:!0,features:[_e],decls:5,vars:0,template:function(r,s){r&1&&(I(0,"div")(1,"h1"),ie(2,"404"),E(),I(3,"h1"),ie(4,"La pagina richiesta non \xE8 stata trovata"),E()())},styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh;flex-flow:column nowrap}h1[_ngcontent-%COMP%]{font-size:40px;color:#9c2d25;margin:10px}"]});let n=e;return n})();var VB=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:cN,children:[{path:":id",component:LB}]},{path:"login",component:SV},{path:"manage",component:u9,canActivate:[d9]},{path:"**",component:NB}];function BB(n){return new ye(3e3,!1)}function a0e(){return new ye(3100,!1)}function l0e(){return new ye(3101,!1)}function c0e(n){return new ye(3001,!1)}function u0e(n){return new ye(3003,!1)}function d0e(n){return new ye(3004,!1)}function h0e(n,e){return new ye(3005,!1)}function p0e(){return new ye(3006,!1)}function f0e(){return new ye(3007,!1)}function m0e(n,e){return new ye(3008,!1)}function g0e(n){return new ye(3002,!1)}function _0e(n,e,t,i,r){return new ye(3010,!1)}function y0e(){return new ye(3011,!1)}function v0e(){return new ye(3012,!1)}function b0e(){return new ye(3200,!1)}function w0e(){return new ye(3202,!1)}function C0e(){return new ye(3013,!1)}function I0e(n){return new ye(3014,!1)}function E0e(n){return new ye(3015,!1)}function T0e(n){return new ye(3016,!1)}function x0e(n,e){return new ye(3404,!1)}function S0e(n){return new ye(3502,!1)}function D0e(n){return new ye(3503,!1)}function M0e(){return new ye(3300,!1)}function A0e(n){return new ye(3504,!1)}function R0e(n){return new ye(3301,!1)}function k0e(n,e){return new ye(3302,!1)}function O0e(n){return new ye(3303,!1)}function P0e(n,e){return new ye(3400,!1)}function F0e(n){return new ye(3401,!1)}function L0e(n){return new ye(3402,!1)}function N0e(n,e){return new ye(3505,!1)}function sc(n){switch(n.length){case 0:return new wl;case 1:return n[0];default:return new jf(n)}}function JB(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((p,m)=>{let v=m,w=p;if(m!=="offset")switch(v=n.normalizePropertyName(v,r),w){case Py:w=t.get(m);break;case uo:w=i.get(m);break;default:w=n.normalizeStyleValue(m,v,w,r);break}h.set(v,w)}),u||s.push(h),a=h,o=c}),r.length)throw S0e(r);return s}function SR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&sR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&sR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&sR(t,"destroy",n)));break}}function sR(n,e,t){let i=t.totalTime,r=!!t.disabled,s=DR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function DR(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ns(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zB(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var V0e=typeof document>"u"?null:document.documentElement;function MR(n){let e=n.parentNode||n.host||null;return e===V0e?null:e}function B0e(n){return n.substring(1,6)=="ebkit"}var Mu=null,UB=!1;function z0e(n){Mu||(Mu=U0e()||{},UB=Mu.style?"WebkitAppearance"in Mu.style:!1);let e=!0;return Mu.style&&!B0e(n)&&(e=n in Mu.style,!e&&UB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mu.style)),e}function U0e(){return typeof document<"u"?document.body:null}function ez(n,e){for(;e;){if(e===n)return!0;e=MR(e)}return!1}function tz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var AR=(()=>{let e=class e{validateStyleProperty(i){return z0e(i)}matchesElement(i,r){return!1}containsElement(i,r){return ez(i,r)}getParentElement(i){return MR(i)}query(i,r,s){return tz(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new wl(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),PR=class PR{};PR.NOOP=new AR;var ku=PR,Ou=class{};var H0e=1e3,nz="{{",j0e="}}",iz="ng-enter",dR="ng-leave",bb="ng-trigger",Tb=".ng-trigger",HB="ng-animating",hR=".ng-animating";function za(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pR(parseFloat(e[1]),e[2])}function pR(n,e){switch(e){case"s":return n*H0e;default:return n}}function xb(n,e,t){return n.hasOwnProperty("duration")?n:$0e(n,e,t)}function $0e(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(BB(n)),{duration:0,delay:0,easing:""};r=pR(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=pR(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(a0e()),a=!0),s<0&&(e.push(l0e()),a=!0),a&&e.splice(l,0,BB(n))}return{duration:r,delay:s,easing:o}}function G0e(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Lo(n,e,t){e.forEach((i,r)=>{let s=RR(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ru(n,e){e.forEach((t,i)=>{let r=RR(i);n.style[r]=""})}function pg(n){return Array.isArray(n)?n.length==1?n[0]:WN(n):n}function W0e(n,e,t){let i=e.params||{},r=rz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(c0e(s))})}var fR=new RegExp(`${nz}\\s*(.+?)\\s*${j0e}`,"g");function rz(n){let e=[];if(typeof n=="string"){let t;for(;t=fR.exec(n);)e.push(t[1]);fR.lastIndex=0}return e}function mg(n,e,t){let i=`${n}`,r=i.replace(fR,(s,o)=>{let a=e[o];return a==null&&(t.push(u0e(o)),a=""),a.toString()});return r==i?n:r}var q0e=/-+([a-z0-9])/g;function RR(n){return n.replace(q0e,(...e)=>e[1].toUpperCase())}function K0e(n,e){return n===0||e===0}function Y0e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,kR(n,a)))}}return e}function ts(n,e,t){switch(e.type){case yt.Trigger:return n.visitTrigger(e,t);case yt.State:return n.visitState(e,t);case yt.Transition:return n.visitTransition(e,t);case yt.Sequence:return n.visitSequence(e,t);case yt.Group:return n.visitGroup(e,t);case yt.Animate:return n.visitAnimate(e,t);case yt.Keyframes:return n.visitKeyframes(e,t);case yt.Style:return n.visitStyle(e,t);case yt.Reference:return n.visitReference(e,t);case yt.AnimateChild:return n.visitAnimateChild(e,t);case yt.AnimateRef:return n.visitAnimateRef(e,t);case yt.Query:return n.visitQuery(e,t);case yt.Stagger:return n.visitStagger(e,t);default:throw d0e(e.type)}}function kR(n,e){return window.getComputedStyle(n)[e]}var Q0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sb=class extends Ou{normalizePropertyName(e,t){return RR(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(Q0e.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(h0e(e,i))}return o+s}};var Db="*";function Z0e(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>X0e(i,t,e)):t.push(n),t}function X0e(n,e,t){if(n[0]==":"){let l=J0e(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(E0e(n)),e;let r=i[1],s=i[2],o=i[3];e.push(jB(r,o));let a=r==Db&&o==Db;s[0]=="<"&&!a&&e.push(jB(o,r))}function J0e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(T0e(n)),"* => *"}}var wb=new Set(["true","1"]),Cb=new Set(["false","0"]);function jB(n,e){let t=wb.has(n)||Cb.has(n),i=wb.has(e)||Cb.has(e);return(r,s)=>{let o=n==Db||n==r,a=e==Db||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?wb.has(n):Cb.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?wb.has(e):Cb.has(e)),o&&a}}var sz=":self",eye=new RegExp(`s*${sz}s*,?`,"g");function oz(n,e,t,i){return new mR(n).build(e,t,i)}var $B="",mR=class{constructor(e){this._driver=e}build(e,t,i){let r=new gR(t);return this._resetContextStyleTimingState(r),ts(this,pg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=$B,e.collectedStyles=new Map,e.collectedStyles.set($B,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(p0e()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==yt.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==yt.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(f0e())}),{type:yt.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{rz(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(m0e(e.name,[...s.values()]))}return{type:yt.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=ts(this,pg(e.animation),t),r=Z0e(e.expr,t.errors);return{type:yt.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Au(e.options)}}visitSequence(e,t){return{type:yt.Sequence,steps:e.steps.map(i=>ts(this,i,t)),options:Au(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=ts(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:yt.Group,steps:s,options:Au(e.options)}}visitAnimate(e,t){let i=rye(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:gi({});if(s.type==yt.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=gi(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:yt.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===uo?i.push(a):t.errors.push(g0e(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(nz)>=0){s=!0;break}}}),{type:yt.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(_0e(l,u.startTime,u.endTime,s,r)),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&W0e(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:yt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(y0e()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(S=>{let R=this._makeStyleAst(S,t),V=R.offset!=null?R.offset:iye(R.styles),z=0;return V!=null&&(s++,z=R.offset=V),l=l||z<0||z>1,a=a||z<c,c=z,o.push(z),R});l&&t.errors.push(v0e()),a&&t.errors.push(b0e());let h=e.steps.length,p=0;s>0&&s<h?t.errors.push(w0e()):s==0&&(p=r/(h-1));let m=h-1,v=t.currentTime,w=t.currentAnimateTimings,C=w.duration;return u.forEach((S,R)=>{let V=p>0?R==m?1:p*R:o[R],z=V*C;t.currentTime=v+w.delay+z,w.duration=z,this._validateStyleAst(S,t),S.offset=V,i.styles.push(S)}),i}visitReference(e,t){return{type:yt.Reference,animation:ts(this,pg(e.animation),t),options:Au(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:yt.AnimateChild,options:Au(e.options)}}visitAnimateRef(e,t){return{type:yt.AnimateRef,animation:this.visitReference(e.animation,t),options:Au(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=tye(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ns(t.collectedStyles,t.currentQuerySelector,new Map);let a=ts(this,pg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:yt.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Au(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(C0e());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:xb(e.timings,t.errors,!0);return{type:yt.Stagger,animation:ts(this,pg(e.animation),t),timings:i,options:null}}};function tye(n){let e=!!n.split(/\s*,\s*/).find(t=>t==sz);return e&&(n=n.replace(eye,"")),n=n.replace(/@\*/g,Tb).replace(/@\w+/g,t=>Tb+"-"+t.slice(1)).replace(/:animating/g,hR),[n,e]}function nye(n){return n?ue({},n):null}var gR=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function iye(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function rye(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=xb(n,e).duration;return oR(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=oR(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=xb(t,e);return oR(r.duration,r.delay,r.easing)}function Au(n){return n?(n=ue({},n),n.params&&(n.params=nye(n.params))):n={},n}function oR(n,e,t){return{duration:n,delay:e,easing:t}}function OR(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var gg=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},sye=1,oye=":enter",aye=new RegExp(oye,"g"),lye=":leave",cye=new RegExp(lye,"g");function az(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new _R().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var _R=class{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new gg;let h=new yR(e,t,c,r,s,u,[]);h.options=l;let p=l.delay?za(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),ts(this,i,h);let m=h.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let w=m.length-1;w>=0;w--){let C=m[w];if(C.element===t){v=C;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,h.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[OR(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:za(mg(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?za(i.duration):null,a=i.delay!=null?za(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ts(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==yt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mb);let o=za(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ts(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?za(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),ts(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?mg(i,t.params,t.errors):i;return xb(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==yt.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?za(r.delay):0;s&&(t.previousNode.type===yt.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mb);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),ts(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let p=h.currentTimeline.currentTime;o=Math.max(o,p)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;ts(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Mb={},yR=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ab(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=za(i.duration)),i.delay!=null&&(r.delay=za(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=mg(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Mb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new vR(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(aye,"."+this._enterClassName),e=e.replace(cye,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(I0e(t)),a}},Ab=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=sye,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||uo),this._currentKeyframe.set(t,uo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=uye(e,this._globalTimelineStyles);for(let[a,l]of o){let c=mg(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??uo),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===Py?e.add(h):u===uo&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return OR(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},vR=class extends Ab{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",GB(a)),s.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let p=new Map(e[h]),m=p.get("offset"),v=t+m*i;p.set("offset",GB(v/o)),s.push(p)}i=o,t=0,r="",e=s}return OR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function GB(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function uye(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,uo)}else for(let[s,o]of r)t.set(s,o)}),t}function WB(n,e,t,i,r,s,o,a,l,c,u,h,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}var aR={},Rb=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return dye(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){let h=[],p=this.ast.options&&this.ast.options.params||aR,m=a&&a.params||aR,v=this.buildStyles(i,m,h),w=l&&l.params||aR,C=this.buildStyles(r,w,h),S=new Set,R=new Map,V=new Map,z=r==="void",q={params:lz(w,p),delay:this.ast.options?.delay},Y=u?[]:az(e,t,this.ast.animation,s,o,v,C,q,c,h),A=0;return Y.forEach(x=>{A=Math.max(x.duration+x.delay,A)}),h.length?WB(t,this._triggerName,i,r,z,v,C,[],[],R,V,A,h):(Y.forEach(x=>{let D=x.element,B=ns(R,D,new Set);x.preStyleProps.forEach(H=>B.add(H));let U=ns(V,D,new Set);x.postStyleProps.forEach(H=>U.add(H)),D!==t&&S.add(D)}),WB(t,this._triggerName,i,r,z,v,C,Y,[...S.values()],R,V,A))}};function dye(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function lz(n,e){let t=ue({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var bR=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=lz(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=mg(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function hye(n,e,t){return new wR(n,e,t)}var wR=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new bR(r.style,s,i))}),qB(this.states,"true","1"),qB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Rb(e,r,this.states))}),this.fallbackTransition=pye(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function pye(n,e,t){let i=[(o,a)=>!0],r={type:yt.Sequence,steps:[],options:null},s={type:yt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Rb(n,s,e)}function qB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var fye=new gg,CR=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=oz(this._driver,t,i,r);if(i.length)throw D0e(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=JB(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=az(this._driver,t,s,iz,dR,new Map,new Map,i,fye,r),o.forEach(u=>{let h=ns(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(M0e()),o=[]),r.length)throw A0e(r);a.forEach((u,h)=>{u.forEach((p,m)=>{u.set(m,this._driver.computeStyle(h,m,uo))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=sc(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw R0e(e);return t}listen(e,t,i,r){let s=DR(t,"","","");return SR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},KB="ng-animate-queued",mye=".ng-animate-queued",lR="ng-animate-disabled",gye=".ng-animate-disabled",_ye="ng-star-inserted",yye=".ng-star-inserted",vye=[],cz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed",_g=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Cye(r),i){let s=e,{value:o}=s,a=Yb(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},fg="void",cR=new _g(fg),IR=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw k0e(i,t);if(i==null||i.length==0)throw O0e(t);if(!Iye(i))throw P0e(i,t);let s=ns(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=ns(this._engine.statesByElement,e,new Map);return a.has(t)||(vs(e,bb),vs(e,bb+"-"+t),a.set(t,cR)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw F0e(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new yg(this.id,t,e),a=this._engine.statesByElement.get(e);a||(vs(e,bb),vs(e,bb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new _g(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=cR),!(c.value===fg)&&l.value===c.value){if(!xye(l.params,c.params)){let w=[],C=s.matchStyles(l.value,l.params,w),S=s.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Ru(e,C),Lo(e,S)})}return}let p=ns(this._engine.playersByElement,e,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let m=s.matchTransition(l.value,c.value,e,c.params),v=!1;if(!m){if(!r)return;m=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(vs(e,KB),o.onStart(()=>{Ip(e,KB)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);let C=this._engine.playersByElement.get(e);if(C){let S=C.indexOf(o);S>=0&&C.splice(S,1)}}),this.players.push(o),p.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Tb,!0);i.forEach(r=>{if(r[Ks])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,fg,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&sc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||cR,u=new _g(fg),h=new yg(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Ks];(!s||s===cz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){vs(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=DR(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,SR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ER=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new IR(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Ib(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ib(t))return;let s=t[Ks];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vs(e,lR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ip(e,lR))}removeNode(e,t,i){if(Ib(t)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Ks]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Ib(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Tb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,hR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ks];if(t&&t.setForRemoval){if(e[Ks]=cz,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,gye,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];vs(r,_ye)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?sc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw L0e(e)}_flushAnimations(e,t){let i=new gg,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ee=>{u.add(ee);let ae=this.driver.query(ee,mye,!0);for(let fe=0;fe<ae.length;fe++)u.add(ae[fe])});let h=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=ZB(p,this.collectedEnterElements),v=new Map,w=0;m.forEach((ee,ae)=>{let fe=iz+w++;v.set(ae,fe),ee.forEach(Fe=>vs(Fe,fe))});let C=[],S=new Set,R=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){let ae=this.collectedLeaveElements[ee],fe=ae[Ks];fe&&fe.setForRemoval&&(C.push(ae),S.add(ae),fe.hasAnimation?this.driver.query(ae,yye,!0).forEach(Fe=>S.add(Fe)):R.add(ae))}let V=new Map,z=ZB(p,Array.from(S));z.forEach((ee,ae)=>{let fe=dR+w++;V.set(ae,fe),ee.forEach(Fe=>vs(Fe,fe))}),e.push(()=>{m.forEach((ee,ae)=>{let fe=v.get(ae);ee.forEach(Fe=>Ip(Fe,fe))}),z.forEach((ee,ae)=>{let fe=V.get(ae);ee.forEach(Fe=>Ip(Fe,fe))}),C.forEach(ee=>{this.processLeaveNode(ee)})});let q=[],Y=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(fe=>{let Fe=fe.player,Re=fe.element;if(q.push(Fe),this.collectedEnterElements.length){let St=Re[Ks];if(St&&St.setForMove){if(St.previousTriggersValues&&St.previousTriggersValues.has(fe.triggerName)){let Jn=St.previousTriggersValues.get(fe.triggerName),Tn=this.statesByElement.get(fe.element);if(Tn&&Tn.has(fe.triggerName)){let Pn=Tn.get(fe.triggerName);Pn.value=Jn,Tn.set(fe.triggerName,Pn)}}Fe.destroy();return}}let We=!h||!this.driver.containsElement(h,Re),Xe=V.get(Re),wt=v.get(Re),ce=this._buildInstruction(fe,i,wt,Xe,We);if(ce.errors&&ce.errors.length){Y.push(ce);return}if(We){Fe.onStart(()=>Ru(Re,ce.fromStyles)),Fe.onDestroy(()=>Lo(Re,ce.toStyles)),r.push(Fe);return}if(fe.isFallbackTransition){Fe.onStart(()=>Ru(Re,ce.fromStyles)),Fe.onDestroy(()=>Lo(Re,ce.toStyles)),r.push(Fe);return}let Dn=[];ce.timelines.forEach(St=>{St.stretchStartingKeyframe=!0,this.disabledNodes.has(St.element)||Dn.push(St)}),ce.timelines=Dn,i.append(Re,ce.timelines);let Wn={instruction:ce,player:Fe,element:Re};o.push(Wn),ce.queriedElements.forEach(St=>ns(a,St,[]).push(Fe)),ce.preStyleProps.forEach((St,Jn)=>{if(St.size){let Tn=l.get(Jn);Tn||l.set(Jn,Tn=new Set),St.forEach((Pn,Fi)=>Tn.add(Fi))}}),ce.postStyleProps.forEach((St,Jn)=>{let Tn=c.get(Jn);Tn||c.set(Jn,Tn=new Set),St.forEach((Pn,Fi)=>Tn.add(Fi))})});if(Y.length){let ee=[];Y.forEach(ae=>{ee.push(N0e(ae.triggerName,ae.errors))}),q.forEach(ae=>ae.destroy()),this.reportError(ee)}let A=new Map,x=new Map;o.forEach(ee=>{let ae=ee.element;i.has(ae)&&(x.set(ae,ae),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,A))}),r.forEach(ee=>{let ae=ee.element;this._getPreviousPlayers(ae,!1,ee.namespaceId,ee.triggerName,null).forEach(Fe=>{ns(A,ae,[]).push(Fe),Fe.destroy()})});let D=C.filter(ee=>XB(ee,l,c)),B=new Map;QB(B,this.driver,R,c,uo).forEach(ee=>{XB(ee,l,c)&&D.push(ee)});let H=new Map;m.forEach((ee,ae)=>{QB(H,this.driver,new Set(ee),l,Py)}),D.forEach(ee=>{let ae=B.get(ee),fe=H.get(ee);B.set(ee,new Map([...ae?.entries()??[],...fe?.entries()??[]]))});let P=[],Ae=[],De={};o.forEach(ee=>{let{element:ae,player:fe,instruction:Fe}=ee;if(i.has(ae)){if(u.has(ae)){fe.onDestroy(()=>Lo(ae,Fe.toStyles)),fe.disabled=!0,fe.overrideTotalTime(Fe.totalTime),r.push(fe);return}let Re=De;if(x.size>1){let Xe=ae,wt=[];for(;Xe=Xe.parentNode;){let ce=x.get(Xe);if(ce){Re=ce;break}wt.push(Xe)}wt.forEach(ce=>x.set(ce,Re))}let We=this._buildAnimation(fe.namespaceId,Fe,A,s,H,B);if(fe.setRealPlayer(We),Re===De)P.push(fe);else{let Xe=this.playersByElement.get(Re);Xe&&Xe.length&&(fe.parentPlayer=sc(Xe)),r.push(fe)}}else Ru(ae,Fe.fromStyles),fe.onDestroy(()=>Lo(ae,Fe.toStyles)),Ae.push(fe),u.has(ae)&&r.push(fe)}),Ae.forEach(ee=>{let ae=s.get(ee.element);if(ae&&ae.length){let fe=sc(ae);ee.setRealPlayer(fe)}}),r.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<C.length;ee++){let ae=C[ee],fe=ae[Ks];if(Ip(ae,dR),fe&&fe.hasAnimation)continue;let Fe=[];if(a.size){let We=a.get(ae);We&&We.length&&Fe.push(...We);let Xe=this.driver.query(ae,hR,!0);for(let wt=0;wt<Xe.length;wt++){let ce=a.get(Xe[wt]);ce&&ce.length&&Fe.push(...ce)}}let Re=Fe.filter(We=>!We.destroyed);Re.length?Eye(this,ae,Re):this.processLeaveNode(ae)}return C.length=0,P.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();let ae=this.players.indexOf(ee);this.players.splice(ae,1)}),ee.play()}),P}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==fg;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==s,h=ns(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),h.push(m)})}Ru(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,p=t.timelines.map(v=>{let w=v.element;u.add(w);let C=w[Ks];if(C&&C.removedBeforeQueried)return new wl(v.duration,v.delay);let S=w!==l,R=Tye((i.get(w)||vye).map(A=>A.getRealPlayer())).filter(A=>{let x=A;return x.element?x.element===w:!1}),V=s.get(w),z=o.get(w),q=JB(this._normalizer,v.keyframes,V,z),Y=this._buildPlayer(v,q,R);if(v.subTimeline&&r&&h.add(w),S){let A=new yg(e,a,w);A.setRealPlayer(Y),c.push(A)}return Y});c.forEach(v=>{ns(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>wye(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>vs(v,HB));let m=sc(p);return m.onDestroy(()=>{u.forEach(v=>Ip(v,HB)),Lo(l,t.toStyles)}),h.forEach(v=>{ns(r,v,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new wl(e.duration,e.delay)}},yg=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new wl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>SR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ns(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function wye(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Cye(n){return n??null}function Ib(n){return n&&n.nodeType===1}function Iye(n){return n=="start"||n=="done"}function YB(n,e){let t=n.style.display;return n.style.display=e??"none",t}function QB(n,e,t,i,r){let s=[];t.forEach(l=>s.push(YB(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let p=e.computeStyle(c,h,r);u.set(h,p),(!p||p.length==0)&&(c[Ks]=bye,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>YB(l,s[a++])),o}function ZB(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function vs(n,e){n.classList?.add(e)}function Ip(n,e){n.classList?.remove(e)}function Eye(n,e,t){sc(t).onDone(()=>n.processLeaveNode(e))}function Tye(n){let e=[];return uz(n,e),e}function uz(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof jf?uz(i.players,e):e.push(i)}}function xye(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function XB(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var Tp=class{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new ER(e.body,t,i,r),this._timelineEngine=new CR(e.body,t,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=oz(this._driver,s,l,c);if(l.length)throw x0e(r,l);c.length&&void 0,a=hye(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=zB(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=zB(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Sye(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=uR(e[0]),e.length>1&&(i=uR(e[e.length-1]))):e instanceof Map&&(t=uR(e)),t||i?new TR(n,t,i):null}var Ep=class Ep{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Ep.initialStylesByElement.get(e);r||Ep.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Lo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lo(this._element,this._initialStyles),this._endStyles&&(Lo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ep.initialStylesByElement.delete(this._element),this._startStyles&&(Ru(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ru(this._element,this._endStyles),this._endStyles=null),Lo(this._element,this._initialStyles),this._state=3)}};Ep.initialStylesByElement=new WeakMap;var TR=Ep;function uR(n){let e=null;return n.forEach((t,i)=>{Dye(i)&&(e=e||new Map,e.set(i,t))}),e}function Dye(n){return n==="display"||n==="position"}var kb=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:kR(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ob=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ez(e,t)}getParentElement(e){return MR(e)}query(e,t,i){return tz(e,t,i)}computeStyle(e,t,i){return kR(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(m=>m instanceof kb);K0e(i,r)&&u.forEach(m=>{m.currentSnapshot.forEach((v,w)=>c.set(w,v))});let h=G0e(t).map(m=>new Map(m));h=Y0e(e,h,c);let p=Sye(e,h);return new kb(e,h,l,p)}};var Eb="@",dz="@.disabled",Pb=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Eb&&t==dz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},xR=class extends Pb{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Eb?t.charAt(1)=="."&&t==dz?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Eb){let r=Mye(e),s=t.slice(1),o="";return s.charAt(0)!=Eb&&([s,o]=Aye(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function Mye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Aye(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Fb=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let h=()=>c.delete(r);u=new Pb(i,r,this.engine,h),c.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new xR(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var kye=(()=>{let e=class e extends Tp{constructor(i,r,s){super(i,r,s,he(gd,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(Ne(ht),Ne(ku),Ne(Ou))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function Oye(){return new Sb}function Pye(n,e,t){return new Fb(n,e,t)}var hz=[{provide:Ou,useFactory:Oye},{provide:Tp,useClass:kye},{provide:Dc,useFactory:Pye,deps:[J0,Tp,Qe]}],Fye=[{provide:ku,useFactory:()=>new Ob},{provide:hI,useValue:"BrowserAnimations"},...hz],dKe=[{provide:ku,useClass:AR},{provide:hI,useValue:"NoopAnimations"},...hz];function pz(){return As("NgEagerAnimations"),[...Fye]}var fz={apiKey:"AIzaSyDcssjNZoxSROTfUnpTSIEIiMIpo2A-rww",authDomain:"santalucia-d9576.firebaseapp.com",projectId:"santalucia-d9576",storageBucket:"santalucia-d9576.appspot.com",messagingSenderId:"969590860252",appId:"1:969590860252:web:5998cdc474ac44b8f70719"};var mz={providers:[J3(VB),pz(),r3(),KC([I4(()=>E4(fz)),CV(()=>EV()),r9(()=>s9())])]};var FR=(()=>{class n extends Oe{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Me(n)))(r||n)}})();static \u0275cmp=X({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[Se,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,r){i&1&&(ke(),I(0,"svg",0),$(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Lye=["menubar"],Nye=(n,e)=>({"p-submenu-list":n,"p-menubar-root-list":e}),gz=n=>({"p-menuitem-link":!0,"p-disabled":n}),Vye=()=>({exact:!1}),Bye=(n,e)=>({$implicit:n,root:e});function zye(n,e){if(n&1&&$(0,"li",8),n&2){let t=_().$implicit,i=_();f("ngStyle",i.getItemProp(t,"style"))("ngClass",i.getSeparatorItemClass(t)),N("id",i.getItemId(t))("data-pc-section","separator")}}function Uye(n,e){if(n&1&&$(0,"span",19),n&2){let t=_(4).$implicit,i=_();f("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),N("data-pc-section","icon")("tabindex",-1)}}function Hye(n,e){if(n&1&&(I(0,"span",20),ie(1),E()),n&2){let t=_(4).$implicit,i=_();f("id",i.getItemLabelId(t)),N("data-pc-section","label"),g(),zt(" ",i.getItemLabel(t)," ")}}function jye(n,e){if(n&1&&$(0,"span",21),n&2){let t=_(4).$implicit,i=_();f("innerHTML",i.getItemLabel(t),Rc)("id",i.getItemLabelId(t)),N("data-pc-section","label")}}function $ye(n,e){if(n&1&&(I(0,"span",22),ie(1),E()),n&2){let t=_(4).$implicit,i=_();f("ngClass",i.getItemProp(t,"badgeStyleClass")),g(),Ue(i.getItemProp(t,"badge"))}}function Gye(n,e){n&1&&$(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function Wye(n,e){n&1&&$(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function qye(n,e){if(n&1&&(re(0),T(1,Gye,1,2,"AngleDownIcon",24)(2,Wye,1,2,"AngleRightIcon",24),se()),n&2){let t=_(6);g(),f("ngIf",t.root),g(),f("ngIf",!t.root)}}function Kye(n,e){}function Yye(n,e){n&1&&T(0,Kye,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function Qye(n,e){if(n&1&&(re(0),T(1,qye,3,2,"ng-container",11)(2,Yye,1,1,null,23),se()),n&2){let t=_(5);g(),f("ngIf",!t.submenuIconTemplate),g(),f("ngTemplateOutlet",t.submenuIconTemplate)}}function Zye(n,e){if(n&1&&(I(0,"a",15),T(1,Uye,1,4,"span",16)(2,Hye,2,3,"span",17)(3,jye,1,3,"ng-template",null,2,qt)(5,$ye,2,2,"span",18)(6,Qye,3,2,"ng-container",11),E()),n&2){let t=ct(4),i=_(3).$implicit,r=_();f("target",r.getItemProp(i,"target"))("ngClass",Ce(11,gz,r.getItemProp(i,"disabled"))),N("href",r.getItemProp(i,"url"),kc)("data-automationid",r.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),g(),f("ngIf",r.getItemProp(i,"icon")),g(),f("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),g(3),f("ngIf",r.getItemProp(i,"badge")),g(),f("ngIf",r.isItemGroup(i))}}function Xye(n,e){if(n&1&&$(0,"span",19),n&2){let t=_(4).$implicit,i=_();f("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),N("data-pc-section","icon")("tabindex",-1)}}function Jye(n,e){if(n&1&&(I(0,"span",29),ie(1),E()),n&2){let t=_(4).$implicit,i=_();g(),Ue(i.getItemLabel(t))}}function eve(n,e){if(n&1&&$(0,"span",30),n&2){let t=_(4).$implicit,i=_();f("innerHTML",i.getItemLabel(t),Rc),N("data-pc-section","label")}}function tve(n,e){if(n&1&&(I(0,"span",22),ie(1),E()),n&2){let t=_(4).$implicit,i=_();f("ngClass",i.getItemProp(t,"badgeStyleClass")),g(),Ue(i.getItemProp(t,"badge"))}}function nve(n,e){n&1&&$(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function ive(n,e){n&1&&$(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function rve(n,e){if(n&1&&(re(0),T(1,nve,1,2,"AngleDownIcon",24)(2,ive,1,2,"AngleRightIcon",24),se()),n&2){let t=_(6);g(),f("ngIf",t.root),g(),f("ngIf",!t.root)}}function sve(n,e){}function ove(n,e){n&1&&T(0,sve,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function ave(n,e){if(n&1&&(re(0),T(1,rve,3,2,"ng-container",11)(2,ove,1,1,null,23),se()),n&2){_(5);let t=ct(1);g(),f("ngIf",!t.submenuIconTemplate),g(),f("ngTemplateOutlet",t.submenuIconTemplate)}}function lve(n,e){if(n&1&&(I(0,"a",27),T(1,Xye,1,4,"span",16)(2,Jye,2,1,"span",28)(3,eve,1,2,"ng-template",null,3,qt)(5,tve,2,2,"span",18)(6,ave,3,2,"ng-container",11),E()),n&2){let t=ct(4),i=_(3).$implicit,r=_();f("routerLink",r.getItemProp(i,"routerLink"))("queryParams",r.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(i,"routerLinkActiveOptions")||Jt(20,Vye))("target",r.getItemProp(i,"target"))("ngClass",Ce(21,gz,r.getItemProp(i,"disabled")))("fragment",r.getItemProp(i,"fragment"))("queryParamsHandling",r.getItemProp(i,"queryParamsHandling"))("preserveFragment",r.getItemProp(i,"preserveFragment"))("skipLocationChange",r.getItemProp(i,"skipLocationChange"))("replaceUrl",r.getItemProp(i,"replaceUrl"))("state",r.getItemProp(i,"state")),N("data-automationid",r.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),g(),f("ngIf",r.getItemProp(i,"icon")),g(),f("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),g(3),f("ngIf",r.getItemProp(i,"badge")),g(),f("ngIf",r.isItemGroup(i))}}function cve(n,e){if(n&1&&(re(0),T(1,Zye,7,13,"a",13)(2,lve,7,23,"a",14),se()),n&2){let t=_(2).$implicit,i=_();g(),f("ngIf",!i.getItemProp(t,"routerLink")),g(),f("ngIf",i.getItemProp(t,"routerLink"))}}function uve(n,e){}function dve(n,e){n&1&&T(0,uve,0,0,"ng-template")}function hve(n,e){if(n&1&&(re(0),T(1,dve,1,0,null,31),se()),n&2){let t=_(2).$implicit,i=_();g(),f("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",Lt(2,Bye,t.item,i.root))}}function pve(n,e){if(n&1){let t=le();I(0,"p-menubarSub",32),Q("itemClick",function(r){F(t);let s=_(3);return L(s.itemClick.emit(r))})("itemMouseEnter",function(r){F(t);let s=_(3);return L(s.onItemMouseEnter(r))}),E()}if(n&2){let t=_(2).$implicit,i=_();f("itemTemplate",i.itemTemplate)("items",t.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("ariaLabelledBy",i.getItemLabelId(t))}}function fve(n,e){if(n&1){let t=le();I(0,"li",9,1)(2,"div",10),Q("click",function(r){F(t);let s=_().$implicit,o=_();return L(o.onItemClick(r,s))})("mouseenter",function(r){F(t);let s=_().$implicit,o=_();return L(o.onItemMouseEnter({$event:r,processedItem:s}))}),T(3,cve,3,2,"ng-container",11)(4,hve,2,5,"ng-container",11),E(),T(5,pve,1,9,"p-menubarSub",12),E()}if(n&2){let t=_(),i=t.$implicit,r=t.index,s=_();ne(s.getItemProp(i,"styleClass")),f("ngStyle",s.getItemProp(i,"style"))("ngClass",s.getItemClass(i))("tooltipOptions",s.getItemProp(i,"tooltipOptions")),N("id",s.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(i))("data-p-focused",s.isItemFocused(i))("data-p-disabled",s.isItemDisabled(i))("aria-label",s.getItemLabel(i))("aria-disabled",s.isItemDisabled(i)||void 0)("aria-haspopup",s.isItemGroup(i)&&!s.getItemProp(i,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(i)?s.isItemActive(i):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),g(2),N("data-pc-section","content"),g(),f("ngIf",!s.itemTemplate),g(),f("ngIf",s.itemTemplate),g(),f("ngIf",s.isItemVisible(i)&&s.isItemGroup(i))}}function mve(n,e){if(n&1&&T(0,zye,1,4,"li",6)(1,fve,6,21,"li",7),n&2){let t=e.$implicit,i=_();f("ngIf",i.isItemVisible(t)&&i.getItemProp(t,"separator")),g(),f("ngIf",i.isItemVisible(t)&&!i.getItemProp(t,"separator"))}}var gve=["menubutton"],_ve=["rootmenu"],yve=["*"],vve=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function bve(n,e){n&1&&de(0)}function wve(n,e){if(n&1&&(I(0,"div",8),T(1,bve,1,0,"ng-container",9),E()),n&2){let t=_();g(),f("ngTemplateOutlet",t.startTemplate)}}function Cve(n,e){n&1&&$(0,"BarsIcon")}function Ive(n,e){}function Eve(n,e){n&1&&T(0,Ive,0,0,"ng-template")}function Tve(n,e){if(n&1){let t=le();I(0,"a",10,2),Q("click",function(r){F(t);let s=_();return L(s.menuButtonClick(r))})("keydown",function(r){F(t);let s=_();return L(s.menuButtonKeydown(r))}),T(2,Cve,1,0,"BarsIcon",11)(3,Eve,1,0,null,9),E()}if(n&2){let t=_();N("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),g(2),f("ngIf",!t.menuIconTemplate),g(),f("ngTemplateOutlet",t.menuIconTemplate)}}function xve(n,e){n&1&&de(0)}function Sve(n,e){if(n&1&&(I(0,"div",12),T(1,xve,1,0,"ng-container",9),E()),n&2){let t=_();g(),f("ngTemplateOutlet",t.endTemplate)}}function Dve(n,e){n&1&&(I(0,"div",12),nn(1),E())}var LR=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new pn;mouseLeft$=this.mouseLeaves.pipe(_w(()=>gw(this.autoHideDelay)),fi(t=>this.autoHide&&t));static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac})}return n})(),Mve=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new Z;itemMouseEnter=new Z;menuFocus=new Z;menuBlur=new Z;menuKeydown=new Z;menubarViewChild;mouseLeaveSubscriber;constructor(t,i,r,s){this.el=t,this.renderer=i,this.cd=r,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,i){this.getItemProp(i,"command",{originalEvent:t,item:i.item}),this.itemClick.emit({originalEvent:t,processedItem:i,isFocus:!0})}getItemProp(t,i,r=null){return t&&t.item?te.getItemValue(t.item[i],r):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemLabelId(t){return`${this.menuId}_${t.key}_label`}getItemClass(t){return ut(ue({},this.getItemProp(t,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)})}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return ut(ue({},this.getItemProp(t,"class")),{"p-menuitem-separator":!0})}isItemVisible(t){return this.getItemProp(t,"visible")!==!1}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return te.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);let{event:i,processedItem:r}=t;this.itemMouseEnter.emit({originalEvent:i,processedItem:r})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(je),j(Wt),j(Je),j(LR))};static \u0275cmp=X({type:n,selectors:[["p-menubarSub"]],viewQuery:function(i,r){if(i&1&&Ve(Lye,7),i&2){let s;me(s=ge())&&(r.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[O.HasDecoratorInputTransform,"root","root",W],autoZIndex:[O.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[O.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Le],mobileActive:[O.HasDecoratorInputTransform,"mobileActive","mobileActive",W],autoDisplay:[O.HasDecoratorInputTransform,"autoDisplay","autoDisplay",W],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[O.HasDecoratorInputTransform,"level","level",Le],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Ze],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(i,r){if(i&1){let s=le();I(0,"ul",4,0),Q("focus",function(a){return F(s),L(r.menuFocus.emit(a))})("blur",function(a){return F(s),L(r.menuBlur.emit(a))})("keydown",function(a){return F(s),L(r.menuKeydown.emit(a))}),T(2,mve,2,2,"ng-template",5),E()}i&2&&(f("ngClass",Lt(8,Nye,!r.root,r.root))("tabindex",0),N("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.root?r.menuId:null)("aria-activedescendant",r.focusedItemId),g(2),f("ngForOf",r.items))},dependencies:()=>[gt,oi,nt,Mt,_t,pl,vy,ai,$d,dh,hh,n],encapsulation:2})}return n})(),_z=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new Z;onBlur=new Z;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Zt([]);number=Zt(0);focusedItemInfo=Zt({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let t=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:t.index!==-1?`${this.id}${te.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.menubarService=l,uf(()=>{let c=this.activeItemPath();te.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||it()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}createProcessedItems(t,i=0,r={},s=""){let o=[];return t&&t.forEach((a,l)=>{let c=(s!==""?s+"_":"")+l,u={item:a,index:l,level:i,key:c,parent:r,parentKey:s};u.items=this.createProcessedItems(a.items,i+1,u,c),o.push(u)}),o}getItemProp(t,i){return t?te.getItemValue(t[i]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){(t.code==="Enter"||t.code==="Space")&&this.menuButtonClick(t)}onItemClick(t){let{originalEvent:i,processedItem:r}=t,s=this.isProcessedItemGroup(r),o=te.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:u,parentKey:h,item:p}=r;this.activeItemPath.set(this.activeItemPath().filter(m=>c!==m.key&&c.startsWith(m.key))),this.focusedItemInfo.set({index:l,level:u,parentKey:h,item:p}),this.dirty=!o,k.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(t);else{let l=o?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,l?l.index:-1),this.mobileActive=!1,k.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){k.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,i){let r=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let s=this.focusedItemInfo();this.focusedItemInfo.set(ut(ue({},s),{item:r.item,index:i})),this.scrollInView()}}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedItemId,r=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){let{processedItem:i,isFocus:r}=t;if(te.isEmpty(i))return;let{index:s,key:o,level:a,parentKey:l,items:c,item:u}=i,h=te.isNotEmpty(c),p=this.activeItemPath().filter(m=>m.parentKey!==l&&m.parentKey!==o);h&&p.push(i),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:u}),this.activeItemPath.set(p),h&&(this.dirty=!0),r&&k.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,xn.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,xn.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,i){this.mobileActive&&setTimeout(()=>{k.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&k.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){let t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item}),k.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(r),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&te.isPrintableCharacter(t.key)&&this.searchItems(t,t.key);break}}findVisibleItem(t){return te.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&te.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(i=>i.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&te.isNotEmpty(t.items)}searchItems(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?te.isEmpty(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowRightKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(s=>s.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(t));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowUpKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(te.isEmpty(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let o=this.findLastItemIndex();this.changeFocusedItemIndex(t,o)}}else{let s=this.activeItemPath().find(o=>o.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(t);let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{let o=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o)}}t.preventDefault()}onArrowLeftKey(t){let i=this.visibleItems[this.focusedItemInfo().index],r=i?this.activeItemPath().find(s=>s.key===i.parentKey):null;if(r){this.onItemChange({originalEvent:t,processedItem:r});let s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),t.preventDefault()}else{let s=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:t,processedItem:i})}this.hide()}onEnterKey(t){if(this.focusedItemInfo().index!==-1){let i=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=i&&k.findSingle(i,'a[data-pc-section="action"]');r?r.click():i&&i.click()}t.preventDefault()}findLastFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return te.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){let i=t>0?te.findLastIndex(this.visibleItems.slice(0,t),r=>this.isValidItem(r)):-1;return i>-1?i:t}findNextItemIndex(t){let i=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(r=>this.isValidItem(r)):-1;return i>-1?i+t+1:t}bindResizeListener(){Kt(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{k.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){Kt(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{let i=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),r=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);i&&(r?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(i){return new(i||n)(j(ht),j(Bt),j(je),j(Wt),j(Je),j(Yt),j(LR))};static \u0275cmp=X({type:n,selectors:[["p-menubar"]],contentQueries:function(i,r,s){if(i&1&&dt(s,qe,4),i&2){let o;me(o=ge())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ve(gve,5),Ve(_ve,5)),i&2){let s;me(s=ge())&&(r.menubutton=s.first),me(s=ge())&&(r.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[O.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[O.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Le],autoDisplay:[O.HasDecoratorInputTransform,"autoDisplay","autoDisplay",W],autoHide:[O.HasDecoratorInputTransform,"autoHide","autoHide",W],autoHideDelay:[O.HasDecoratorInputTransform,"autoHideDelay","autoHideDelay",Le],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[dn([LR]),Ze],ngContentSelectors:yve,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(i,r){if(i&1){let s=le();_n(),I(0,"div",3),T(1,wve,2,1,"div",4)(2,Tve,4,7,"a",5),I(3,"p-menubarSub",6,0),Q("itemClick",function(a){return F(s),L(r.onItemClick(a))})("menuFocus",function(a){return F(s),L(r.onMenuFocus(a))})("menuBlur",function(a){return F(s),L(r.onMenuBlur(a))})("menuKeydown",function(a){return F(s),L(r.onKeyDown(a))})("itemMouseEnter",function(a){return F(s),L(r.onItemMouseEnter(a))}),E(),T(5,Sve,2,1,"div",7)(6,Dve,2,0,"ng-template",null,1,qt),E()}if(i&2){let s=ct(7);ne(r.styleClass),f("ngClass",Ce(23,vve,r.mobileActive))("ngStyle",r.style),N("data-pc-section","root")("data-pc-name","menubar"),g(),f("ngIf",r.startTemplate),g(),f("ngIf",r.model&&r.model.length>0),g(),f("items",r.processedItems)("itemTemplate",r.itemTemplate)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("submenuIconTemplate",r.submenuIconTemplate)("activeItemPath",r.activeItemPath()),g(2),f("ngIf",r.endTemplate)("ngIfElse",s)}},dependencies:()=>[gt,nt,Mt,_t,FR,Mve],styles:[`@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}
`],encapsulation:2,changeDetection:0})}return n})(),yz=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,ml,li,_l,Ke,FR,dh,hh,ml,_l,Ke]})}return n})();var vz=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He,Ke]})}return n})();var Rve=["*"];function kve(n,e){if(n&1&&(I(0,"span",4),ie(1),E()),n&2){let t=_();g(),Ue(t.label)}}function Ove(n,e){if(n&1&&$(0,"span",6),n&2){let t=_(2);ne(t.icon),f("ngClass","p-avatar-icon")}}function Pve(n,e){if(n&1&&T(0,Ove,1,3,"span",5),n&2){let t=_(),i=ct(6);f("ngIf",t.icon)("ngIfElse",i)}}function Fve(n,e){if(n&1){let t=le();I(0,"img",8),Q("error",function(r){F(t);let s=_(2);return L(s.imageError(r))}),E()}if(n&2){let t=_(2);f("src",t.image,kc),N("aria-label",t.ariaLabel)}}function Lve(n,e){if(n&1&&T(0,Fve,1,2,"img",7),n&2){let t=_();f("ngIf",t.image)}}var bz=(()=>{class n{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new Z;containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}}imageError(t){this.onImageError.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},ngContentSelectors:Rve,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(i,r){if(i&1&&(_n(),I(0,"div",2),nn(1),T(2,kve,2,1,"span",3)(3,Pve,1,2,"ng-template",null,0,qt)(5,Lve,1,1,"ng-template",null,1,qt),E()),i&2){let s=ct(4);ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),N("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-name","avatar"),g(2),f("ngIf",r.label)("ngIfElse",s)}},dependencies:[gt,nt,_t],styles:[`@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),wz=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ie({imports:[He]})}return n})();function Vve(n,e){n&1&&$(0,"p-avatar",5)}function Bve(n,e){if(n&1){let t=le();I(0,"a",6),Q("click",function(){let r=F(t).$implicit,s=_();return L(r.url?r.label==="Segui Santa Lucia"?s.navigateToHome():s.navigate(r.url):s.share())}),$(1,"span"),I(2,"span",7),ie(3),E()()}if(n&2){let t=e.$implicit;g(),ne(t.icon),g(2),Ue(t.label)}}function zve(n,e){if(n&1){let t=le();I(0,"a",9),$(1,"span",10),I(2,"span",7),ie(3,"Gestisci"),E()(),I(4,"a",11),Q("click",function(){F(t);let r=_(2);return L(r.logout())}),$(5,"span",12),I(6,"span",7),ie(7,"Esci"),E()()}}function Uve(n,e){n&1&&(I(0,"a",13),$(1,"span",12),I(2,"span",7),ie(3,"Accedi"),E()())}function Hve(n,e){if(n&1&&(I(0,"div",8),T(1,zve,8,0)(2,Uve,4,0),E()),n&2){let t=_();g(),mr(1,t.isLogged()?1:2)}}var Cz=(()=>{let e=class e{constructor(i,r){this.router=i,this.authService=r}ngOnInit(){this.items=[{label:"Segui Santa Lucia",icon:"pi pi-map-marker",url:"/home"},{label:"Condividi",icon:"pi pi-share-alt"}]}navigate(i){this.router.navigate([i])}navigateToHome(){window.location.href="/follow"}share(){navigator.share?navigator.share({title:"Segui Santa Lucia",text:"Segui Santa Lucia",url:"https://gianmarco2307.github.io/follow/home"}).then(()=>{console.log("Condivisione avvenuta con successo")}).catch(i=>{console.error("Errore nella condivisione",i)}):console.log("API Web Share non supportata nel browser")}isLogged(){return this.authService.isLogged()}logout(){this.authService.logout(),window.open("/follow","_self")}};e.\u0275fac=function(r){return new(r||e)(j(Ti),j(Pl))},e.\u0275cmp=X({type:e,selectors:[["app-navbar"]],standalone:!0,features:[_e],decls:5,vars:1,consts:[[1,"card"],[3,"model"],["pTemplate","start"],["pTemplate","item"],["pTemplate","end"],["image","assets/LogoDeputazione.png","shape","circle"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",3,"click"],[1,"ml-2"],[1,"flex","align-items-center","gap-2","auth-section"],["pRipple","","routerLink","/manage",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"],[1,"pi","pi-sliders-h"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px",3,"click"],[1,"pi","pi-sign-in",2,"font-size","larger"],["pRipple","","routerLink","/login",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"]],template:function(r,s){r&1&&(I(0,"div",0)(1,"p-menubar",1),T(2,Vve,1,0,"ng-template",2)(3,Bve,4,3,"ng-template",3)(4,Hve,3,1,"ng-template",4),E()()),r&2&&(g(),f("model",s.items))},dependencies:[yz,_z,pl,qe,vz,wz,bz,hs,li,ai,He],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited{color:inherit}"]});let n=e;return n})();var Iz=(()=>{let e=class e{constructor(i){this.authService=i,this.title="FollowSantaLucia"}ngOnInit(){this.authService.user$.subscribe(i=>{i?this.authService.currentUser.set({email:i.email,username:i.displayName}):this.authService.currentUser.set(null)})}};e.\u0275fac=function(r){return new(r||e)(j(Pl))},e.\u0275cmp=X({type:e,selectors:[["app-root"]],standalone:!0,features:[_e],decls:2,vars:0,template:function(r,s){r&1&&$(0,"app-navbar")(1,"router-outlet")},dependencies:[Ff,Cz]});let n=e;return n})();d3(Iz,mz).catch(n=>console.error(n));
