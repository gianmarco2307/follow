import{a as ce,b as lt,c as Hb,f as Wa,g as $}from"./chunk-5G567QLT.js";function uk(n,e){return Object.is(n,e)}var wi=null,Fp=!1,Pg=1,Jo=Symbol("SIGNAL");function Yt(n){let e=wi;return wi=n,e}function Ez(){return Fp}var Np={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wb(n){if(Fp)throw new Error("");if(wi===null)return;wi.consumerOnSignalRead(n);let e=wi.nextProducerIndex++;if(Uu(wi),e<wi.producerNode.length&&wi.producerNode[e]!==n&&Lp(wi)){let t=wi.producerNode[e];Bg(t,wi.producerIndexOfThis[e])}wi.producerNode[e]!==n&&(wi.producerNode[e]=n,wi.producerIndexOfThis[e]=Lp(wi)?mk(n,wi,e):0),wi.producerLastReadVersion[e]=n.version}function Tz(){Pg++}function dk(n){if(!(Lp(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Pg)){if(!n.producerMustRecompute(n)&&!Vg(n)){n.dirty=!1,n.lastCleanEpoch=Pg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Pg}}function hk(n){if(n.liveConsumerNode===void 0)return;let e=Fp;Fp=!0;try{for(let t of n.liveConsumerNode)t.dirty||fk(t)}finally{Fp=e}}function pk(){return wi?.consumerAllowSignalWrites!==!1}function fk(n){n.dirty=!0,hk(n),n.consumerMarkedDirty?.(n)}function Lg(n){return n&&(n.nextProducerIndex=0),Yt(n)}function Ng(n,e){if(Yt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Lp(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vg(n){Uu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(dk(t),i!==t.version))return!0}return!1}function qb(n){if(Uu(n),Lp(n))for(let e=0;e<n.producerNode.length;e++)Bg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function mk(n,e,t){if(gk(n),Uu(n),n.liveConsumerNode.length===0)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=mk(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Bg(n,e){if(gk(n),Uu(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Bg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Uu(r),r.producerIndexOfThis[i]=e}}function Lp(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Uu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function gk(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function _k(n){let e=Object.create(xz);e.computation=n;let t=()=>{if(dk(e),Wb(e),e.value===Fg)throw e.error;return e.value};return t[Jo]=e,t}var jb=Symbol("UNSET"),$b=Symbol("COMPUTING"),Fg=Symbol("ERRORED"),xz=lt(ce({},Np),{value:jb,dirty:!0,error:null,equal:uk,producerMustRecompute(n){return n.value===jb||n.value===$b},producerRecomputeValue(n){if(n.value===$b)throw new Error("Detected cycle in computations.");let e=n.value;n.value=$b;let t=Lg(n),i;try{i=n.computation()}catch(r){i=Fg,n.error=r}finally{Ng(n,t)}if(e!==jb&&e!==Fg&&i!==Fg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function Sz(){throw new Error}var yk=Sz;function vk(){yk()}function bk(n){yk=n}var Dz=null;function wk(n){let e=Object.create(Ck);e.value=n;let t=()=>(Wb(e),e.value);return t[Jo]=e,t}function Kb(n,e){pk()||vk(),n.equal(n.value,e)||(n.value=e,Az(n))}function Ik(n,e){pk()||vk(),Kb(n,e(n.value))}var Ck=lt(ce({},Np),{equal:uk,value:void 0});function Az(n){n.version++,Tz(),hk(n),Dz?.()}function Ek(n,e,t){let i=Object.create(Mz);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(qb(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Gb)}let a=()=>{if(i.fn===null)return;if(Ez())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Vg(i))return;i.hasRun=!0;let l=Lg(i);try{i.cleanupFn(),i.cleanupFn=Gb,i.fn(r)}finally{Ng(i,l)}};return i.ref={notify:()=>fk(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[Jo]:i},i.ref}var Gb=()=>{},Mz=lt(ce({},Np),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Gb});function bt(n){return typeof n=="function"}function Hu(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zg=Hu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function dc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var qn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(bt(i))try{i()}catch(o){e=o instanceof zg?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Tk(o)}catch(s){e=e??[],s instanceof zg?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Tk(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&dc(t,e)}remove(e){let{_finalizers:t}=this;t&&dc(t,e),e instanceof n&&e._removeParent(this)}};qn.EMPTY=(()=>{let n=new qn;return n.closed=!0,n})();var Yb=qn.EMPTY;function Ug(n){return n instanceof qn||n&&"closed"in n&&bt(n.remove)&&bt(n.add)&&bt(n.unsubscribe)}function Tk(n){bt(n)?n():n.unsubscribe()}var Co={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ju={setTimeout(n,e,...t){let{delegate:i}=ju;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ju;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hg(n){ju.setTimeout(()=>{let{onUnhandledError:e}=Co;if(e)e(n);else throw n})}function hc(){}var xk=Qb("C",void 0,void 0);function Sk(n){return Qb("E",void 0,n)}function Dk(n){return Qb("N",n,void 0)}function Qb(n,e,t){return{kind:n,value:e,error:t}}var pc=null;function $u(n){if(Co.useDeprecatedSynchronousErrorHandling){let e=!pc;if(e&&(pc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=pc;if(pc=null,t)throw i}}else n()}function Ak(n){Co.useDeprecatedSynchronousErrorHandling&&pc&&(pc.errorThrown=!0,pc.error=n)}var fc=class extends qn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ug(e)&&e.add(this)):this.destination=Oz}static create(e,t,i){return new Gu(e,t,i)}next(e){this.isStopped?Xb(Dk(e),this):this._next(e)}error(e){this.isStopped?Xb(Sk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xb(xk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Rz=Function.prototype.bind;function Zb(n,e){return Rz.call(n,e)}var Jb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){jg(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){jg(i)}else jg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){jg(t)}}},Gu=class extends fc{constructor(e,t,i){super();let r;if(bt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Co.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zb(e.next,o),error:e.error&&Zb(e.error,o),complete:e.complete&&Zb(e.complete,o)}):r=e}this.destination=new Jb(r)}};function jg(n){Co.useDeprecatedSynchronousErrorHandling?Ak(n):Hg(n)}function kz(n){throw n}function Xb(n,e){let{onStoppedNotification:t}=Co;t&&ju.setTimeout(()=>t(n,e))}var Oz={closed:!0,next:hc,error:kz,complete:hc};var Wu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fr(n){return n}function $g(...n){return ew(n)}function ew(n){return n.length===0?Fr:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=Fz(t)?t:new Gu(t,i,r);return $u(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Mk(i),new i((r,o)=>{let s=new Gu({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Wu](){return this}pipe(...t){return ew(t)(this)}toPromise(t){return t=Mk(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Mk(n){var e;return(e=n??Co.Promise)!==null&&e!==void 0?e:Promise}function Pz(n){return n&&bt(n.next)&&bt(n.error)&&bt(n.complete)}function Fz(n){return n&&n instanceof fc||Pz(n)&&Ug(n)}function tw(n){return bt(n?.lift)}function Vt(n){return e=>{if(tw(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(n,e,t,i,r){return new nw(n,e,t,i,r)}var nw=class extends fc{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qu(){return Vt((n,e)=>{let t=null;n._refCount++;let i=Ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ku=class extends Ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qn;let t=this.getSubject();e.add(this.source.subscribe(Ot(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qn.EMPTY)}return e}refCount(){return qu()(this)}};var Rk=Hu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pn=(()=>{class n extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Gg(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Rk}next(t){$u(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){$u(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$u(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Yb:(this.currentObservers=null,o.push(t),new qn(()=>{this.currentObservers=null,dc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Ct;return t.source=this,t}}return n.create=(e,t)=>new Gg(e,t),n})(),Gg=class extends pn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Yb}};var hi=class extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var iw={now(){return(iw.delegate||Date).now()},delegate:void 0};var Wg=class extends qn{constructor(e,t){super()}schedule(e,t=0){return this}};var Vp={setInterval(n,e,...t){let{delegate:i}=Vp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Vp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Yu=class extends Wg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Vp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Vp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,dc(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Qu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Qu.now=iw.now;var Zu=class extends Qu{constructor(e,t=Qu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Xu=new Zu(Yu),rw=Xu;var qg=class extends Yu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Kg=class extends Zu{};var ow=new Kg(qg);var Lr=new Ct(n=>n.complete());function Yg(n){return n&&bt(n.schedule)}function kk(n){return n[n.length-1]}function Qg(n){return bt(kk(n))?n.pop():void 0}function qa(n){return Yg(kk(n))?n.pop():void 0}function sw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Pk(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Ok(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(n){return this instanceof mc?(this.v=n,this):new mc(n)}function Fk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(v){return Promise.resolve(v).then(m,h)}}function a(m,v){i[m]&&(r[m]=function(w){return new Promise(function(I,S){o.push([m,w,I,S])>1||l(m,w)})},v&&(r[m]=v(r[m])))}function l(m,v){try{c(i[m](v))}catch(w){p(o[0][3],w)}}function c(m){m.value instanceof mc?Promise.resolve(m.value.v).then(u,h):p(o[0][2],m)}function u(m){l("next",m)}function h(m){l("throw",m)}function p(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Lk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ok=="function"?Ok(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Zg=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xg(n){return bt(n?.then)}function Jg(n){return bt(n[Wu])}function e_(n){return Symbol.asyncIterator&&bt(n?.[Symbol.asyncIterator])}function t_(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Lz(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var n_=Lz();function i_(n){return bt(n?.[n_])}function r_(n){return Fk(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield mc(t.read());if(r)return yield mc(void 0);yield yield mc(i)}}finally{t.releaseLock()}})}function o_(n){return bt(n?.getReader)}function Ln(n){if(n instanceof Ct)return n;if(n!=null){if(Jg(n))return Nz(n);if(Zg(n))return Vz(n);if(Xg(n))return Bz(n);if(e_(n))return Nk(n);if(i_(n))return zz(n);if(o_(n))return Uz(n)}throw t_(n)}function Nz(n){return new Ct(e=>{let t=n[Wu]();if(bt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vz(n){return new Ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Bz(n){return new Ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Hg)})}function zz(n){return new Ct(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Nk(n){return new Ct(e=>{Hz(n,e).catch(t=>e.error(t))})}function Uz(n){return Nk(r_(n))}function Hz(n,e){var t,i,r,o;return Pk(this,void 0,void 0,function*(){try{for(t=Lk(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function yr(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ka(n,e=0){return Vt((t,i)=>{t.subscribe(Ot(i,r=>yr(i,n,()=>i.next(r),e),()=>yr(i,n,()=>i.complete(),e),r=>yr(i,n,()=>i.error(r),e)))})}function Ya(n,e=0){return Vt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Vk(n,e){return Ln(n).pipe(Ya(e),Ka(e))}function Bk(n,e){return Ln(n).pipe(Ya(e),Ka(e))}function zk(n,e){return new Ct(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Uk(n,e){return new Ct(t=>{let i;return yr(t,e,()=>{i=n[n_](),yr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>bt(i?.return)&&i.return()})}function s_(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ct(t=>{yr(t,e,()=>{let i=n[Symbol.asyncIterator]();yr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Hk(n,e){return s_(r_(n),e)}function jk(n,e){if(n!=null){if(Jg(n))return Vk(n,e);if(Zg(n))return zk(n,e);if(Xg(n))return Bk(n,e);if(e_(n))return s_(n,e);if(i_(n))return Uk(n,e);if(o_(n))return Hk(n,e)}throw t_(n)}function $t(n,e){return e?jk(n,e):Ln(n)}function Ye(...n){let e=qa(n);return $t(n,e)}function Ju(n,e){let t=bt(n)?n:()=>n,i=r=>r.error(t());return new Ct(e?r=>e.schedule(i,0,r):i)}function aw(n){return!!n&&(n instanceof Ct||bt(n.lift)&&bt(n.subscribe))}var qs=Hu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $k(n){return n instanceof Date&&!isNaN(n)}function ht(n,e){return Vt((t,i)=>{let r=0;t.subscribe(Ot(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:jz}=Array;function $z(n,e){return jz(e)?n(...e):n(e)}function a_(n){return ht(e=>$z(n,e))}var{isArray:Gz}=Array,{getPrototypeOf:Wz,prototype:qz,keys:Kz}=Object;function l_(n){if(n.length===1){let e=n[0];if(Gz(e))return{args:e,keys:null};if(Yz(e)){let t=Kz(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Yz(n){return n&&typeof n=="object"&&Wz(n)===qz}function c_(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Bp(...n){let e=qa(n),t=Qg(n),{args:i,keys:r}=l_(n);if(i.length===0)return $t([],e);let o=new Ct(Qz(i,e,r?s=>c_(r,s):Fr));return t?o.pipe(a_(t)):o}function Qz(n,e,t=Fr){return i=>{Gk(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Gk(e,()=>{let c=$t(n[l],e),u=!1;c.subscribe(Ot(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Gk(n,e,t){n?yr(t,n,e):e()}function Wk(n,e,t,i,r,o,s,a){let l=[],c=0,u=0,h=!1,p=()=>{h&&!l.length&&!c&&e.complete()},m=w=>c<i?v(w):l.push(w),v=w=>{o&&e.next(w),c++;let I=!1;Ln(t(w,u++)).subscribe(Ot(e,S=>{r?.(S),o?m(S):e.next(S)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<i;){let S=l.shift();s?yr(e,s,()=>v(S)):v(S)}p()}catch(S){e.error(S)}}))};return n.subscribe(Ot(e,m,()=>{h=!0,p()})),()=>{a?.()}}function ni(n,e,t=1/0){return bt(e)?ni((i,r)=>ht((o,s)=>e(i,o,r,s))(Ln(n(i,r))),t):(typeof e=="number"&&(t=e),Vt((i,r)=>Wk(i,r,n,t)))}function Qa(n=1/0){return ni(Fr,n)}function qk(){return Qa(1)}function ed(...n){return qk()($t(n,qa(n)))}function u_(n){return new Ct(e=>{Ln(n()).subscribe(e)})}function lw(...n){let e=Qg(n),{args:t,keys:i}=l_(n),r=new Ct(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let h=!1;Ln(t[u]).subscribe(Ot(o,p=>{h||(h=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?c_(i,a):a),o.complete())}))}});return e?r.pipe(a_(e)):r}function Kk(n=0,e,t=rw){let i=-1;return e!=null&&(Yg(e)?t=e:i=e),new Ct(r=>{let o=$k(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function cw(n=0,e=Xu){return n<0&&(n=0),Kk(n,n,e)}function pi(n,e){return Vt((t,i)=>{let r=0;t.subscribe(Ot(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Za(n){return Vt((e,t)=>{let i=null,r=!1,o;i=e.subscribe(Ot(t,void 0,void 0,s=>{o=Ln(n(s,Za(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Yk(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Ot(s,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ks(n,e){return bt(e)?ni(n,e,1):ni(n,1)}function uw(n){return Vt((e,t)=>{let i=!1,r=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let a=r;r=null,t.next(a)}};e.subscribe(Ot(t,a=>{o?.unsubscribe(),i=!0,r=a,o=Ot(t,s,hc),Ln(n(a)).subscribe(o)},()=>{s(),t.complete()},void 0,()=>{r=o=null}))})}function Xa(n){return Vt((e,t)=>{let i=!1;e.subscribe(Ot(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ys(n){return n<=0?()=>Lr:Vt((e,t)=>{let i=0;e.subscribe(Ot(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function dw(n){return ht(()=>n)}function d_(n=Zz){return Vt((e,t)=>{let i=!1;e.subscribe(Ot(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Zz(){return new qs}function gc(n){return Vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function es(n,e){let t=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):Fr,Ys(1),t?Xa(e):d_(()=>new qs))}function td(n){return n<=0?()=>Lr:Vt((e,t)=>{let i=[];e.subscribe(Ot(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function hw(n,e){let t=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):Fr,td(1),t?Xa(e):d_(()=>new qs))}function h_(n,e){return Vt(Yk(n,e,arguments.length>=2,!0))}function p_(...n){let e=qa(n);return Vt((t,i)=>{(e?ed(n,t,e):ed(n,t)).subscribe(i)})}function vr(n,e){return Vt((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Ot(i,l=>{r?.unsubscribe();let c=0,u=o++;Ln(n(l,u)).subscribe(r=Ot(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function pw(n){return Vt((e,t)=>{Ln(n).subscribe(Ot(t,()=>t.complete(),hc)),!t.closed&&e.subscribe(t)})}function ii(n,e,t){let i=bt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Vt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ot(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Fr}var VO="https://g.co/ng/security#xss",_e=class extends Error{constructor(e,t){super(K_(e,t)),this.code=e}};function K_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Zp(n){return{toString:n}.toString()}var f_="__parameters__";function Xz(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function BO(n,e,t){return Zp(()=>{let i=Xz(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let h=l.hasOwnProperty(f_)?l[f_]:Object.defineProperty(l,f_,{value:[]})[f_];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Nr=globalThis;function mn(n){for(let e in n)if(n[e]===mn)return e;throw Error("Could not find renamed property on target object.")}function Jz(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ur(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ur).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Aw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var eU=mn({__forward_ref__:mn});function gn(n){return n.__forward_ref__=gn,n.toString=function(){return ur(this())},n}function cr(n){return zO(n)?n():n}function zO(n){return typeof n=="function"&&n.hasOwnProperty(eU)&&n.__forward_ref__===gn}function xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function Y_(n){return Qk(n,HO)||Qk(n,jO)}function UO(n){return Y_(n)!==null}function Qk(n,e){return n.hasOwnProperty(e)?n[e]:null}function tU(n){let e=n&&(n[HO]||n[jO]);return e||null}function Zk(n){return n&&(n.hasOwnProperty(Xk)||n.hasOwnProperty(nU))?n[Xk]:null}var HO=mn({\u0275prov:mn}),Xk=mn({\u0275inj:mn}),jO=mn({ngInjectableDef:mn}),nU=mn({ngInjectorDef:mn}),Ne=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $O(n){return n&&!!n.\u0275providers}var iU=mn({\u0275cmp:mn}),rU=mn({\u0275dir:mn}),oU=mn({\u0275pipe:mn}),sU=mn({\u0275mod:mn}),S_=mn({\u0275fac:mn}),zp=mn({__NG_ELEMENT_ID__:mn}),Jk=mn({__NG_ENV_ID__:mn});function bc(n){return typeof n=="string"?n:n==null?"":String(n)}function aU(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():bc(n)}function lU(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new _e(-200,n)}function kI(n,e){throw new _e(-201,!1)}var Ft=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ft||{}),Mw;function GO(){return Mw}function br(n){let e=Mw;return Mw=n,e}function WO(n,e,t){let i=Y_(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ft.Optional)return null;if(e!==void 0)return e;kI(n,"Injector")}var cU={},Up=cU,Rw="__NG_DI_FLAG__",D_="ngTempTokenPath",uU="ngTokenPath",dU=/\n/gm,hU="\u0275",eO="__source",sd;function pU(){return sd}function Ja(n){let e=sd;return sd=n,e}function fU(n,e=Ft.Default){if(sd===void 0)throw new _e(-203,!1);return sd===null?WO(n,void 0,e):sd.get(n,e&Ft.Optional?null:void 0,e)}function Fe(n,e=Ft.Default){return(GO()||fU)(cr(n),e)}function he(n,e=Ft.Default){return Fe(n,Q_(e))}function Q_(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function kw(n){let e=[];for(let t=0;t<n.length;t++){let i=cr(n[t]);if(Array.isArray(i)){if(i.length===0)throw new _e(900,!1);let r,o=Ft.Default;for(let s=0;s<i.length;s++){let a=i[s],l=mU(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(Fe(r,o))}else e.push(Fe(i))}return e}function qO(n,e){return n[Rw]=e,n.prototype[Rw]=e,n}function mU(n){return n[Rw]}function gU(n,e,t,i){let r=n[D_];throw e[eO]&&r.unshift(e[eO]),n.message=_U(`
`+n.message,r,t,i),n[uU]=r,n[D_]=null,n}function _U(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==hU?n.slice(2):n;let r=ur(e);if(Array.isArray(e))r=e.map(ur).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ur(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(dU,`
  `)}`}var Vi=qO(BO("Optional"),8);var Z_=qO(BO("SkipSelf"),4);function wc(n,e){let t=n.hasOwnProperty(S_);return t?n[S_]:null}function yU(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function vU(n){return n.flat(Number.POSITIVE_INFINITY)}function OI(n,e){n.forEach(t=>Array.isArray(t)?OI(t,e):e(t))}function KO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function A_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function bU(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function wU(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function X_(n,e,t){let i=Xp(n,e);return i>=0?n[i|1]=t:(i=~i,wU(n,i,e,t)),i}function fw(n,e){let t=Xp(n,e);if(t>=0)return n[t|1]}function Xp(n,e){return IU(n,e,1)}function IU(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var ld={},wr=[],cd=new Ne(""),YO=new Ne("",-1),QO=new Ne(""),M_=class{get(e,t=Up){if(t===Up){let i=new Error(`NullInjectorError: No provider for ${ur(e)}!`);throw i.name="NullInjectorError",i}return t}},ZO=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ZO||{}),is=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(is||{}),P=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(P||{});function CU(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ow(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];EU(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function XO(n){return n===3||n===4||n===6}function EU(n){return n.charCodeAt(0)===64}function Hp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?tO(n,t,r,null,e[++i]):tO(n,t,r,null,null))}}return n}function tO(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var JO="ng-template";function TU(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&CU(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(PI(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function PI(n){return n.type===4&&n.value!==JO}function xU(n,e,t){let i=n.type===4&&!t?JO:n.value;return e===i}function SU(n,e,t){let i=4,r=n.attrs,o=r!==null?MU(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Eo(i)&&!Eo(l))return!1;if(s&&Eo(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!xU(n,l,t)||l===""&&e.length===1){if(Eo(i))return!1;s=!0}}else if(i&8){if(r===null||!TU(n,r,l,t)){if(Eo(i))return!1;s=!0}}else{let c=e[++a],u=DU(l,r,PI(n),t);if(u===-1){if(Eo(i))return!1;s=!0;continue}if(c!==""){let h;if(u>o?h="":h=r[u+1].toLowerCase(),i&2&&c!==h){if(Eo(i))return!1;s=!0}}}}return Eo(i)||s}function Eo(n){return(n&1)===0}function DU(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return RU(e,n)}function eP(n,e,t=!1){for(let i=0;i<e.length;i++)if(SU(n,e[i],t))return!0;return!1}function AU(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function MU(n){for(let e=0;e<n.length;e++){let t=n[e];if(XO(t))return e}return n.length}function RU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function kU(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function nO(n,e){return n?":not("+e.trim()+")":e}function OU(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Eo(s)&&(e+=nO(o,r),r=""),i=s,o=o||!Eo(i);t++}return r!==""&&(e+=nO(o,r)),e}function PU(n){return n.map(OU).join(",")}function FU(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Eo(r))break;r=o}i++}return{attrs:e,classes:t}}function te(n){return Zp(()=>{let e=oP(n),t=lt(ce({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ZO.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||is.Emulated,styles:n.styles||wr,_:null,schemas:n.schemas||null,tView:null,id:""});sP(t);let i=n.dependencies;return t.directiveDefs=rO(i,!1),t.pipeDefs=rO(i,!0),t.id=VU(t),t})}function LU(n){return tl(n)||tP(n)}function NU(n){return n!==null}function Ee(n){return Zp(()=>({type:n.type,bootstrap:n.bootstrap||wr,declarations:n.declarations||wr,imports:n.imports||wr,exports:n.exports||wr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iO(n,e){if(n==null)return ld;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=P.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==P.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Pt(n){return Zp(()=>{let e=oP(n);return sP(e),e})}function J_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function tl(n){return n[iU]||null}function tP(n){return n[rU]||null}function nP(n){return n[oU]||null}function iP(n){let e=tl(n)||tP(n)||nP(n);return e!==null?e.standalone:!1}function rP(n,e){let t=n[sU]||null;if(!t&&e===!0)throw new Error(`Type ${ur(n)} does not have '\u0275mod' property.`);return t}function oP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ld,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||wr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iO(n.inputs,e),outputs:iO(n.outputs),debugInfo:null}}function sP(n){n.features?.forEach(e=>e(n))}function rO(n,e){if(!n)return null;let t=e?nP:LU;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(NU)}function VU(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vd(n){return{\u0275providers:n}}function FI(...n){return{\u0275providers:aP(!0,n),\u0275fromNgModule:!0}}function aP(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return OI(e,s=>{let a=s;Pw(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&lP(r,o),t}function lP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];LI(r,o=>{e(o,i)})}}function Pw(n,e,t,i){if(n=cr(n),!n)return!1;let r=null,o=Zk(n),s=!o&&tl(n);if(!o&&!s){let l=n.ngModule;if(o=Zk(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Pw(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{OI(o.imports,u=>{Pw(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&lP(c,e)}if(!a){let c=wc(r)||(()=>new r);e({provide:r,useFactory:c,deps:wr},r),e({provide:QO,useValue:r,multi:!0},r),e({provide:cd,useValue:()=>Fe(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;LI(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function LI(n,e){for(let t of n)$O(t)&&(t=t.\u0275providers),Array.isArray(t)?LI(t,e):e(t)}var BU=mn({provide:String,useValue:mn});function cP(n){return n!==null&&typeof n=="object"&&BU in n}function zU(n){return!!(n&&n.useExisting)}function UU(n){return!!(n&&n.useFactory)}function ud(n){return typeof n=="function"}function HU(n){return!!n.useClass}var e0=new Ne(""),b_={},jU={},mw;function NI(){return mw===void 0&&(mw=new M_),mw}var Yi=class{},jp=class extends Yi{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lw(e,s=>this.processProvider(s)),this.records.set(YO,nd(void 0,this)),r.has("environment")&&this.records.set(Yi,nd(void 0,this));let o=this.records.get(e0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QO,wr,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Yt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Yt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ja(this),i=br(void 0),r;try{return e()}finally{Ja(t),br(i)}}get(e,t=Up,i=Ft.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Jk))return e[Jk](this);i=Q_(i);let r,o=Ja(this),s=br(void 0);try{if(!(i&Ft.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=KU(e)&&Y_(e);c&&this.injectableDefInScope(c)?l=nd(Fw(e),b_):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ft.Self?NI():this.parent;return t=i&Ft.Optional&&t===Up?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[D_]=a[D_]||[]).unshift(ur(e)),o)throw a;return gU(a,e,"R3InjectorError",this.source)}else throw a}finally{br(s),Ja(o)}}resolveInjectorInitializers(){let e=Yt(null),t=Ja(this),i=br(void 0),r;try{let o=this.get(cd,wr,Ft.Self);for(let s of o)s()}finally{Ja(t),br(i),Yt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(ur(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(e){e=cr(e);let t=ud(e)?e:cr(e&&e.provide),i=GU(e);if(!ud(e)&&e.multi===!0){let r=this.records.get(t);r||(r=nd(void 0,b_,!0),r.factory=()=>kw(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Yt(null);try{return t.value===b_&&(t.value=jU,t.value=t.factory()),typeof t.value=="object"&&t.value&&qU(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Yt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=cr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Fw(n){let e=Y_(n),t=e!==null?e.factory:wc(n);if(t!==null)return t;if(n instanceof Ne)throw new _e(204,!1);if(n instanceof Function)return $U(n);throw new _e(204,!1)}function $U(n){if(n.length>0)throw new _e(204,!1);let t=tU(n);return t!==null?()=>t.factory(n):()=>new n}function GU(n){if(cP(n))return nd(void 0,n.useValue);{let e=uP(n);return nd(e,b_)}}function uP(n,e,t){let i;if(ud(n)){let r=cr(n);return wc(r)||Fw(r)}else if(cP(n))i=()=>cr(n.useValue);else if(UU(n))i=()=>n.useFactory(...kw(n.deps||[]));else if(zU(n))i=()=>Fe(cr(n.useExisting));else{let r=cr(n&&(n.useClass||n.provide));if(WU(n))i=()=>new r(...kw(n.deps));else return wc(r)||Fw(r)}return i}function nd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WU(n){return!!n.deps}function qU(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function KU(n){return typeof n=="function"||typeof n=="object"&&n instanceof Ne}function Lw(n,e){for(let t of n)Array.isArray(t)?Lw(t,e):t&&$O(t)?Lw(t.\u0275providers,e):e(t)}function Mo(n,e){n instanceof jp&&n.assertNotDestroyed();let t,i=Ja(n),r=br(void 0);try{return e()}finally{Ja(i),br(r)}}function dP(){return GO()!==void 0||pU()!=null}function hP(n){if(!dP())throw new _e(-203,!1)}function YU(n){return typeof n=="function"}var Xs=0,Et=1,nt=2,Ni=3,To=4,Br=5,$p=6,Gp=7,oo=8,dd=9,xo=10,An=11,Wp=12,oO=13,bd=14,So=15,Jp=16,id=17,Qs=18,t0=19,pP=20,el=21,w_=22,Ic=23,dr=25,fP=1;var Cc=7,R_=8,hd=9,Ir=10,VI=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(VI||{});function yc(n){return Array.isArray(n)&&typeof n[fP]=="object"}function Js(n){return Array.isArray(n)&&n[fP]===!0}function BI(n){return(n.flags&4)!==0}function n0(n){return n.componentOffset>-1}function i0(n){return(n.flags&1)===1}function nl(n){return!!n.template}function QU(n){return(n[nt]&512)!==0}var Nw=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function mP(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function cn(){return gP}function gP(n){return n.type.prototype.ngOnChanges&&(n.setInput=XU),ZU}cn.ngInherit=!0;function ZU(){let n=yP(this),e=n?.current;if(e){let t=n.previous;if(t===ld)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function XU(n,e,t,i,r){let o=this.declaredInputs[i],s=yP(n)||JU(n,{previous:ld,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Nw(c&&c.currentValue,t,l===ld),mP(n,e,r,t)}var _P="__ngSimpleChanges__";function yP(n){return n[_P]||null}function JU(n,e){return n[_P]=e}var sO=null;var ts=function(n,e,t){sO?.(n,e,t)},vP="svg",eH="math",tH=!1;function nH(){return tH}function rs(n){for(;Array.isArray(n);)n=n[Xs];return n}function bP(n,e){return rs(e[n])}function so(n,e){return rs(e[n.index])}function zI(n,e){return n.data[e]}function wP(n,e){return n[e]}function ol(n,e){let t=e[n];return yc(t)?t:t[Xs]}function iH(n){return(n[nt]&4)===4}function UI(n){return(n[nt]&128)===128}function rH(n){return Js(n[Ni])}function pd(n,e){return e==null?null:n[e]}function IP(n){n[id]=0}function oH(n){n[nt]&1024||(n[nt]|=1024,UI(n)&&qp(n))}function sH(n,e){for(;n>0;)e=e[bd],n--;return e}function HI(n){return!!(n[nt]&9216||n[Ic]?.dirty)}function Vw(n){n[xo].changeDetectionScheduler?.notify(1),HI(n)?qp(n):n[nt]&64&&(nH()?(n[nt]|=1024,qp(n)):n[xo].changeDetectionScheduler?.notify())}function qp(n){n[xo].changeDetectionScheduler?.notify();let e=Kp(n);for(;e!==null&&!(e[nt]&8192||(e[nt]|=8192,!UI(e)));)e=Kp(e)}function CP(n,e){if((n[nt]&256)===256)throw new _e(911,!1);n[el]===null&&(n[el]=[]),n[el].push(e)}function aH(n,e){if(n[el]===null)return;let t=n[el].indexOf(e);t!==-1&&n[el].splice(t,1)}function Kp(n){let e=n[Ni];return Js(e)?e[Ni]:e}var Dt={lFrame:MP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lH(){return Dt.lFrame.elementDepthCount}function cH(){Dt.lFrame.elementDepthCount++}function uH(){Dt.lFrame.elementDepthCount--}function EP(){return Dt.bindingsEnabled}function TP(){return Dt.skipHydrationRootTNode!==null}function dH(n){return Dt.skipHydrationRootTNode===n}function hH(){Dt.skipHydrationRootTNode=null}function rt(){return Dt.lFrame.lView}function Nn(){return Dt.lFrame.tView}function F(n){return Dt.lFrame.contextLView=n,n[oo]}function L(n){return Dt.lFrame.contextLView=null,n}function Qi(){let n=xP();for(;n!==null&&n.type===64;)n=n.parent;return n}function xP(){return Dt.lFrame.currentTNode}function pH(){let n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mc(n,e){let t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function jI(){return Dt.lFrame.isParent}function $I(){Dt.lFrame.isParent=!1}function fH(){return Dt.lFrame.contextLView}function ss(){let n=Dt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mH(){return Dt.lFrame.bindingIndex}function gH(n){return Dt.lFrame.bindingIndex=n}function ef(){return Dt.lFrame.bindingIndex++}function GI(n){let e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _H(){return Dt.lFrame.inI18n}function yH(n,e){let t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Bw(e)}function vH(){return Dt.lFrame.currentDirectiveIndex}function Bw(n){Dt.lFrame.currentDirectiveIndex=n}function bH(n){let e=Dt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function SP(){return Dt.lFrame.currentQueryIndex}function WI(n){Dt.lFrame.currentQueryIndex=n}function wH(n){let e=n[Et];return e.type===2?e.declTNode:e.type===1?n[Br]:null}function DP(n,e,t){if(t&Ft.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Ft.Host);)if(r=wH(o),r===null||(o=o[bd],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Dt.lFrame=AP();return i.currentTNode=e,i.lView=n,!0}function qI(n){let e=AP(),t=n[Et];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AP(){let n=Dt.lFrame,e=n===null?null:n.child;return e===null?MP(n):e}function MP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function RP(){let n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var kP=RP;function KI(){let n=RP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IH(n){return(Dt.lFrame.contextLView=sH(n,Dt.lFrame.contextLView))[oo]}function sl(){return Dt.lFrame.selectedIndex}function Ec(n){Dt.lFrame.selectedIndex=n}function r0(){let n=Dt.lFrame;return zI(n.tView,n.selectedIndex)}function Be(){Dt.lFrame.currentNamespace=vP}function CH(){return Dt.lFrame.currentNamespace}var OP=!0;function o0(){return OP}function s0(n){OP=n}function EH(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=gP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function a0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function I_(n,e,t){PP(n,e,3,t)}function C_(n,e,t,i){(n[nt]&3)===t&&PP(n,e,t,i)}function gw(n,e){let t=n[nt];(t&3)===e&&(t&=16383,t+=1,n[nt]=t)}function PP(n,e,t,i){let r=i!==void 0?n[id]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[id]+=65536),(a<o||o==-1)&&(TH(n,t,e,l),n[id]=(n[id]&4294901760)+l+2),l++}function aO(n,e){ts(4,n,e);let t=Yt(null);try{e.call(n)}finally{Yt(t),ts(5,n,e)}}function TH(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[nt]>>14<n[id]>>16&&(n[nt]&3)===e&&(n[nt]+=16384,aO(a,o)):aO(a,o)}var ad=-1,Tc=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function xH(n){return n instanceof Tc}function SH(n){return(n.flags&8)!==0}function DH(n){return(n.flags&16)!==0}function FP(n){return n!==ad}function k_(n){return n&32767}function AH(n){return n>>16}function O_(n,e){let t=AH(n),i=e;for(;t>0;)i=i[bd],t--;return i}var zw=!0;function P_(n){let e=zw;return zw=n,e}var MH=256,LP=MH-1,NP=5,RH=0,ns={};function kH(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(zp)&&(i=t[zp]),i==null&&(i=t[zp]=RH++);let r=i&LP,o=1<<r;e.data[n+(r>>NP)]|=o}function F_(n,e){let t=VP(n,e);if(t!==-1)return t;let i=e[Et];i.firstCreatePass&&(n.injectorIndex=e.length,_w(i.data,n),_w(e,null),_w(i.blueprint,null));let r=YI(n,e),o=n.injectorIndex;if(FP(r)){let s=k_(r),a=O_(r,e),l=a[Et].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function _w(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function YI(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=jP(r),i===null)return ad;if(t++,r=r[bd],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ad}function Uw(n,e,t){kH(n,e,t)}function OH(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(XO(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function BP(n,e,t){if(t&Ft.Optional||n!==void 0)return n;kI(e,"NodeInjector")}function zP(n,e,t,i){if(t&Ft.Optional&&i===void 0&&(i=null),!(t&(Ft.Self|Ft.Host))){let r=n[dd],o=br(void 0);try{return r?r.get(e,i,t&Ft.Optional):WO(e,i,t&Ft.Optional)}finally{br(o)}}return BP(i,e,t)}function UP(n,e,t,i=Ft.Default,r){if(n!==null){if(e[nt]&2048&&!(i&Ft.Self)){let s=NH(n,e,t,i,ns);if(s!==ns)return s}let o=HP(n,e,t,i,ns);if(o!==ns)return o}return zP(e,t,i,r)}function HP(n,e,t,i,r){let o=FH(t);if(typeof o=="function"){if(!DP(e,n,i))return i&Ft.Host?BP(r,t,i):zP(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Ft.Optional))kI(t);else return s}finally{kP()}}else if(typeof o=="number"){let s=null,a=VP(n,e),l=ad,c=i&Ft.Host?e[So][Br]:null;for((a===-1||i&Ft.SkipSelf)&&(l=a===-1?YI(n,e):e[a+8],l===ad||!cO(i,!1)?a=-1:(s=e[Et],a=k_(l),e=O_(l,e)));a!==-1;){let u=e[Et];if(lO(o,a,u.data)){let h=PH(a,e,t,s,i,c);if(h!==ns)return h}l=e[a+8],l!==ad&&cO(i,e[Et].data[a+8]===c)&&lO(o,a,e)?(s=u,a=k_(l),e=O_(l,e)):a=-1}}return r}function PH(n,e,t,i,r,o){let s=e[Et],a=s.data[n+8],l=i==null?n0(a)&&zw:i!=s&&(a.type&3)!==0,c=r&Ft.Host&&o===a,u=E_(a,s,t,l,c);return u!==null?xc(e,s,u,a):ns}function E_(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,h=i?a:a+u,p=r?a+u:c;for(let m=h;m<p;m++){let v=s[m];if(m<l&&t===v||m>=l&&v.type===t)return m}if(r){let m=s[l];if(m&&nl(m)&&m.type===t)return l}return null}function xc(n,e,t,i){let r=n[t],o=e.data;if(xH(r)){let s=r;s.resolving&&lU(aU(o[t]));let a=P_(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?br(s.injectImpl):null,u=DP(n,i,Ft.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&EH(t,o[t],e)}finally{c!==null&&br(c),P_(a),s.resolving=!1,kP()}}return r}function FH(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zp)?n[zp]:void 0;return typeof e=="number"?e>=0?e&LP:LH:e}function lO(n,e,t){let i=1<<n;return!!(t[e+(n>>NP)]&i)}function cO(n,e){return!(n&Ft.Self)&&!(n&Ft.Host&&e)}var vc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return UP(this._tNode,this._lView,e,Q_(i),t)}};function LH(){return new vc(Qi(),rt())}function Oe(n){return Zp(()=>{let e=n.prototype.constructor,t=e[S_]||Hw(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[S_]||Hw(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Hw(n){return zO(n)?()=>{let e=Hw(cr(n));return e&&e()}:wc(n)}function NH(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[nt]&2048&&!(s[nt]&512);){let a=HP(o,s,t,i|Ft.Self,ns);if(a!==ns)return a;let l=o.parent;if(!l){let c=s[pP];if(c){let u=c.get(t,ns,i);if(u!==ns)return u}l=jP(s),s=s[bd]}o=l}return r}function jP(n){let e=n[Et],t=e.type;return t===2?e.declTNode:t===1?n[Br]:null}function QI(n){return OH(Qi(),n)}function uO(n,e=null,t=null,i){let r=$P(n,e,t,i);return r.resolveInjectorInitializers(),r}function $P(n,e=null,t=null,i,r=new Set){let o=[t||wr,FI(n)];return i=i||(typeof n=="object"?void 0:ur(n)),new jp(o,e||NI(),i||null,r)}var ri=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return uO({name:""},r,i,"");{let o=i.name??"";return uO({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Up,e.NULL=new M_,e.\u0275prov=xe({token:e,providedIn:"any",factory:()=>Fe(YO)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var VH="ngOriginalError";function yw(n){return n[VH]}var Do=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yw(e);for(;t&&yw(t);)t=yw(t);return t||null}},GP=new Ne("",{providedIn:"root",factory:()=>he(Do).handleError.bind(void 0)}),l0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BH,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),jw=class extends l0{constructor(e){super(),this._lView=e}onDestroy(e){return CP(this._lView,e),()=>aH(this._lView,e)}};function BH(){return new jw(rt())}function zH(){return wd(Qi(),rt())}function wd(n,e){return new We(so(n,e))}var We=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=zH;let n=e;return n})();function UH(n){return n instanceof We?n.nativeElement:n}var $w=class extends pn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,dP()&&(this.destroyRef=he(l0,{optional:!0})??void 0)}emit(e){let t=Yt(null);try{super.next(e)}finally{Yt(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=vw(o),r&&(r=vw(r)),s&&(s=vw(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof qn&&e.add(a),a}};function vw(n){return e=>{setTimeout(n,void 0,e)}}var Z=$w;function HH(){return this._results[Symbol.iterator]()}var Gw=class n{get changes(){return this._changes??=new Z}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=HH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=vU(e);(this._changesDetected=!yU(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function WP(n){return(n.flags&128)===128}var qP=new Map,jH=0;function $H(){return jH++}function GH(n){qP.set(n[t0],n)}function WH(n){qP.delete(n[t0])}var dO="__ngContext__";function il(n,e){yc(e)?(n[dO]=e[t0],GH(e)):n[dO]=e}function KP(n){return QP(n[Wp])}function YP(n){return QP(n[To])}function QP(n){for(;n!==null&&!Js(n);)n=n[To];return n}var Ww;function ZP(n){Ww=n}function XP(){if(Ww!==void 0)return Ww;if(typeof document<"u")return document;throw new _e(210,!1)}var ZI=new Ne("",{providedIn:"root",factory:()=>qH}),qH="ng",XI=new Ne(""),Bt=new Ne("",{providedIn:"platform",factory:()=>"unknown"});var JI=new Ne(""),eC=new Ne("",{providedIn:"root",factory:()=>XP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KH="h",YH="b";var QH=()=>null;function tC(n,e,t=!1){return QH(n,e,t)}var JP=!1,ZH=new Ne("",{providedIn:"root",factory:()=>JP});var m_;function XH(){if(m_===void 0&&(m_=null,Nr.trustedTypes))try{m_=Nr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return m_}function c0(n){return XH()?.createHTML(n)||n}var g_;function eF(){if(g_===void 0&&(g_=null,Nr.trustedTypes))try{g_=Nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return g_}function hO(n){return eF()?.createHTML(n)||n}function pO(n){return eF()?.createScriptURL(n)||n}var L_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${VO})`}};function al(n){return n instanceof L_?n.changingThisBreaksApplicationSecurity:n}function u0(n,e){let t=JH(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${VO})`)}return t===e}function JH(n){return n instanceof L_&&n.getTypeName()||null}function ej(n){let e=new Kw(n);return tj()?new qw(e):e}var qw=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(c0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},Kw=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=c0(e),t}};function tj(){try{return!!new window.DOMParser().parseFromString(c0(""),"text/html")}catch{return!1}}var nj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nC(n){return n=String(n),n.match(nj)?n:"unsafe:"+n}function ea(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function tf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var tF=ea("area,br,col,hr,img,wbr"),nF=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iF=ea("rp,rt"),ij=tf(iF,nF),rj=tf(nF,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oj=tf(iF,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fO=tf(tF,rj,oj,ij),rF=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sj=ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),aj=ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),lj=tf(rF,sj,aj),cj=ea("script,style,template"),Yw=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=hj(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=dj(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=mO(e).toLowerCase();if(!fO.hasOwnProperty(t))return this.sanitizedSomething=!0,!cj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!lj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;rF[a]&&(l=nC(l)),this.buf.push(" ",s,'="',gO(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=mO(e).toLowerCase();fO.hasOwnProperty(t)&&!tF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gO(e))}};function uj(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function dj(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw oF(e);return e}function hj(n){let e=n.firstChild;if(e&&uj(n,e))throw oF(e);return e}function mO(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function oF(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var pj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fj=/([^\#-~ |!])/g;function gO(n){return n.replace(/&/g,"&amp;").replace(pj,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(fj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var __;function sF(n,e){let t=null;try{__=__||ej(n);let i=e?String(e):"";t=__.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=__.getInertBodyElement(i)}while(i!==o);let a=new Yw().sanitizeChildren(_O(t)||t);return c0(a)}finally{if(t){let i=_O(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function _O(n){return"content"in n&&mj(n)?n.content:null}function mj(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var nf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(nf||{});function Id(n){let e=iC();return e?hO(e.sanitize(nf.HTML,n)||""):u0(n,"HTML")?hO(al(n)):sF(XP(),bc(n))}function Rc(n){let e=iC();return e?e.sanitize(nf.URL,n)||"":u0(n,"URL")?al(n):nC(bc(n))}function gj(n){let e=iC();if(e)return pO(e.sanitize(nf.RESOURCE_URL,n)||"");if(u0(n,"ResourceURL"))return pO(al(n));throw new _e(904,!1)}function _j(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gj:Rc}function aF(n,e,t){return _j(e,t)(n)}function iC(){let n=rt();return n&&n[xo].sanitizer}var yj=/^>|^->|<!--|-->|--!>|<!-$/g,vj=/(<|>)/g,bj="\u200B$1\u200B";function wj(n){return n.replace(yj,e=>e.replace(vj,bj))}function lF(n){return n.ownerDocument}function cF(n){return n instanceof Function?n():n}function Ij(n){return(n??he(ri)).get(Bt)==="browser"}var os=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(os||{}),Cj;function rC(n,e){return Cj(n,e)}function rd(n,e,t,i,r){if(i!=null){let o,s=!1;Js(i)?o=i:yc(i)&&(s=!0,i=i[Xs]);let a=rs(i);n===0&&t!==null?r==null?fF(e,t,a):V_(e,t,a,r||null,!0):n===1&&t!==null?V_(e,t,a,r||null,!0):n===2?Bj(e,a,s):n===3&&e.destroyNode(a),o!=null&&Uj(e,n,o,t,r)}}function Ej(n,e){return n.createText(e)}function Tj(n,e,t){n.setValue(e,t)}function xj(n,e){return n.createComment(wj(e))}function uF(n,e,t){return n.createElement(e,t)}function Sj(n,e){dF(n,e),e[Xs]=null,e[Br]=null}function Dj(n,e,t,i,r,o){i[Xs]=r,i[Br]=e,h0(n,i,t,1,r,o)}function dF(n,e){e[xo].changeDetectionScheduler?.notify(1),h0(n,e,e[An],2,null,null)}function Aj(n){let e=n[Wp];if(!e)return bw(n[Et],n);for(;e;){let t=null;if(yc(e))t=e[Wp];else{let i=e[Ir];i&&(t=i)}if(!t){for(;e&&!e[To]&&e!==n;)yc(e)&&bw(e[Et],e),e=e[Ni];e===null&&(e=n),yc(e)&&bw(e[Et],e),t=e&&e[To]}e=t}}function Mj(n,e,t,i){let r=Ir+i,o=t.length;i>0&&(t[r-1][To]=e),i<o-Ir?(e[To]=t[r],KO(t,Ir+i,e)):(t.push(e),e[To]=null),e[Ni]=t;let s=e[Jp];s!==null&&t!==s&&Rj(s,e);let a=e[Qs];a!==null&&a.insertView(n),Vw(e),e[nt]|=128}function Rj(n,e){let t=n[hd],r=e[Ni][Ni][So];e[So]!==r&&(n[nt]|=VI.HasTransplantedViews),t===null?n[hd]=[e]:t.push(e)}function hF(n,e){let t=n[hd],i=t.indexOf(e);t.splice(i,1)}function N_(n,e){if(n.length<=Ir)return;let t=Ir+e,i=n[t];if(i){let r=i[Jp];r!==null&&r!==n&&hF(r,i),e>0&&(n[t-1][To]=i[To]);let o=A_(n,Ir+e);Sj(i[Et],i);let s=o[Qs];s!==null&&s.detachView(o[Et]),i[Ni]=null,i[To]=null,i[nt]&=-129}return i}function oC(n,e){if(!(e[nt]&256)){let t=e[An];t.destroyNode&&h0(n,e,t,3,null,null),Aj(e)}}function bw(n,e){if(e[nt]&256)return;let t=Yt(null);try{e[nt]&=-129,e[nt]|=256,e[Ic]&&qb(e[Ic]),Oj(n,e),kj(n,e),e[Et].type===1&&e[An].destroy();let i=e[Jp];if(i!==null&&Js(e[Ni])){i!==e[Ni]&&hF(i,e);let r=e[Qs];r!==null&&r.detachView(n)}WH(e)}finally{Yt(t)}}function kj(n,e){let t=n.cleanup,i=e[Gp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Gp]=null);let r=e[el];if(r!==null){e[el]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function Oj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Tc)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ts(4,a,l);try{l.call(a)}finally{ts(5,a,l)}}else{ts(4,r,o);try{o.call(r)}finally{ts(5,r,o)}}}}}function pF(n,e,t){return Pj(n,e.parent,t)}function Pj(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Xs];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===is.None||o===is.Emulated)return null}return so(i,t)}}function V_(n,e,t,i,r){n.insertBefore(e,t,i,r)}function fF(n,e,t){n.appendChild(e,t)}function yO(n,e,t,i,r){i!==null?V_(n,e,t,i,r):fF(n,e,t)}function Fj(n,e,t,i){n.removeChild(e,t,i)}function sC(n,e){return n.parentNode(e)}function Lj(n,e){return n.nextSibling(e)}function mF(n,e,t){return Vj(n,e,t)}function Nj(n,e,t){return n.type&40?so(n,t):null}var Vj=Nj,vO;function d0(n,e,t,i){let r=pF(n,i,e),o=e[An],s=i.parent||e[Br],a=mF(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)yO(o,r,t[l],a,!1);else yO(o,r,t,a,!1);vO!==void 0&&vO(o,i,e,t,r)}function T_(n,e){if(e!==null){let t=e.type;if(t&3)return so(e,n);if(t&4)return Qw(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return T_(n,i);{let r=n[e.index];return Js(r)?Qw(-1,r):rs(r)}}else{if(t&32)return rC(e,n)()||rs(n[e.index]);{let i=gF(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Kp(n[So]);return T_(r,i)}else return T_(n,e.next)}}}return null}function gF(n,e){if(e!==null){let i=n[So][Br],r=e.projection;return i.projection[r]}return null}function Qw(n,e){let t=Ir+n+1;if(t<e.length){let i=e[t],r=i[Et].firstChild;if(r!==null)return T_(i,r)}return e[Cc]}function Bj(n,e,t){let i=sC(n,e);i&&Fj(n,i,e,t)}function aC(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],l=t.type;if(s&&e===0&&(a&&il(rs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)aC(n,e,t.child,i,r,o,!1),rd(e,n,r,a,o);else if(l&32){let c=rC(t,i),u;for(;u=c();)rd(e,n,r,u,o);rd(e,n,r,a,o)}else l&16?_F(n,e,i,t,r,o):rd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function h0(n,e,t,i,r,o){aC(t,i,n.firstChild,e,r,o,!1)}function zj(n,e,t){let i=e[An],r=pF(n,t,e),o=t.parent||e[Br],s=mF(o,t,e);_F(i,0,e,t,r,s)}function _F(n,e,t,i,r,o){let s=t[So],l=s[Br].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];rd(e,n,r,u,o)}else{let c=l,u=s[Ni];WP(i)&&(c.flags|=128),aC(n,e,c,u,r,o,!0)}}function Uj(n,e,t,i,r){let o=t[Cc],s=rs(t);o!==s&&rd(e,n,i,o,r);for(let a=Ir;a<t.length;a++){let l=t[a];h0(l[Et],l,n,e,i,o)}}function Hj(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:os.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=os.Important),n.setStyle(t,i,r,o))}}function jj(n,e,t){n.setAttribute(e,"style",t)}function yF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vF(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Ow(n,e,i),r!==null&&yF(n,e,r),o!==null&&jj(n,e,o)}var zr={};function g(n=1){bF(Nn(),rt(),sl()+n,!1)}function bF(n,e,t,i){if(!i)if((e[nt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&I_(e,o,t)}else{let o=n.preOrderHooks;o!==null&&C_(e,o,0,t)}Ec(t)}function j(n,e=Ft.Default){let t=rt();if(t===null)return Fe(n,e);let i=Qi();return UP(i,t,cr(n),e)}function wF(){let n="invalid";throw new Error(n)}function IF(n,e,t,i,r,o){let s=Yt(null);try{let a=null;r&P.SignalBased&&(a=e[i][Jo]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&P.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):mP(e,a,i,o)}finally{Yt(s)}}function $j(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ec(~r);else{let o=r,s=t[++i],a=t[++i];yH(s,o);let l=e[o];a(2,l)}}}finally{Ec(-1)}}function p0(n,e,t,i,r,o,s,a,l,c,u){let h=e.blueprint.slice();return h[Xs]=r,h[nt]=i|4|128|8|64,(c!==null||n&&n[nt]&2048)&&(h[nt]|=2048),IP(h),h[Ni]=h[bd]=n,h[oo]=t,h[xo]=s||n&&n[xo],h[An]=a||n&&n[An],h[dd]=l||n&&n[dd]||null,h[Br]=o,h[t0]=$H(),h[$p]=u,h[pP]=c,h[So]=e.type==2?n[So]:h,h}function Cd(n,e,t,i,r){let o=n.data[e];if(o===null)o=Gj(n,e,t,i,r),_H()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=pH();o.injectorIndex=s===null?-1:s.injectorIndex}return Mc(o,!0),o}function Gj(n,e,t,i,r){let o=xP(),s=jI(),a=s?o:o&&o.parent,l=n.data[e]=Zj(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function CF(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function EF(n,e,t,i,r){let o=sl(),s=i&2;try{Ec(-1),s&&e.length>dr&&bF(n,e,dr,!1),ts(s?2:0,r),t(i,r)}finally{Ec(o),ts(s?3:1,r)}}function lC(n,e,t){if(BI(e)){let i=Yt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Yt(i)}}}function cC(n,e,t){EP()&&(i$(n,e,t,so(t,e)),(t.flags&64)===64&&SF(n,e,t))}function uC(n,e,t=so){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function TF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=dC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dC(n,e,t,i,r,o,s,a,l,c,u){let h=dr+i,p=h+r,m=Wj(h,p),v=typeof c=="function"?c():c;return m[Et]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function Wj(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:zr);return t}function qj(n,e,t,i){let o=i.get(ZH,JP)||t===is.ShadowDom,s=n.selectRootElement(e,o);return Kj(s),s}function Kj(n){Yj(n)}var Yj=()=>null;function Qj(n,e,t,i){let r=MF(e);r.push(t),n.firstCreatePass&&RF(n).push(i,r.length-1)}function Zj(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return TP()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bO(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=P.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}n===0?wO(i,t,c,a,l):wO(i,t,c,a)}return i}function wO(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function Xj(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let h=o[u],p=t?t.get(h):null,m=p?p.inputs:null,v=p?p.outputs:null;l=bO(0,h.inputs,u,l,m),c=bO(1,h.outputs,u,c,v);let w=l!==null&&s!==null&&!PI(e)?f$(l,u,s):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function Jj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function hC(n,e,t,i,r,o,s,a){let l=so(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(fC(n,t,u,i,r),n0(e)&&e$(t,e.index)):e.type&3?(i=Jj(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function e$(n,e){let t=ol(e,n);t[nt]&16||(t[nt]|=64)}function pC(n,e,t,i){if(EP()){let r=i===null?null:{"":-1},o=o$(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&xF(n,e,t,s,r,a),r&&s$(t,i,r)}t.mergedAttrs=Hp(t.mergedAttrs,t.attrs)}function xF(n,e,t,i,r,o){for(let c=0;c<i.length;c++)Uw(F_(t,e),n,i[c].type);l$(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=CF(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Hp(t.mergedAttrs,u.hostAttrs),c$(n,t,e,l,u),a$(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}Xj(n,t,o)}function t$(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;n$(s)!=a&&s.push(a),s.push(t,i,o)}}function n$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function i$(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;n0(t)&&u$(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||F_(t,e),il(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],c=xc(e,n,a,t);if(il(c,e),s!==null&&p$(e,a-r,c,l,t,s),nl(l)){let u=ol(t.index,e);u[oo]=xc(e,n,a,t)}}}function SF(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=vH();try{Ec(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];Bw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&r$(l,c)}}finally{Ec(-1),Bw(s)}}function r$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function o$(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(eP(e,s.selectors,!1))if(i||(i=[]),nl(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Zw(n,e,l)}else i.unshift(s),Zw(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Zw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function s$(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new _e(-301,!1);i.push(e[r],o)}}}function a$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;nl(e)&&(t[""]=n)}}function l$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function c$(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=wc(r.type,!0)),s=new Tc(o,nl(r),j);n.blueprint[i]=s,t[i]=s,t$(n,e,i,CF(n,t,r.hostVars,zr),r)}function u$(n,e,t){let i=so(e,n),r=TF(t),o=n[xo].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=f0(n,p0(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function d$(n,e,t,i,r,o){let s=so(n,e);h$(e[An],s,o,n.value,t,i,r)}function h$(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?bc(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function p$(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],h=s[a++];IF(i,t,l,c,u,h)}}function f$(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function DF(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function AF(n,e){let t=n.contentQueries;if(t!==null){let i=Yt(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];WI(o),a.contentQueries(2,e[s],s)}}}finally{Yt(i)}}}function f0(n,e){return n[Wp]?n[oO][To]=e:n[Wp]=e,n[oO]=e,e}function Xw(n,e,t){WI(0);let i=Yt(null);try{e(n,t)}finally{Yt(i)}}function MF(n){return n[Gp]||(n[Gp]=[])}function RF(n){return n.cleanup||(n.cleanup=[])}function kF(n,e){let t=n[dd],i=t?t.get(Do,null):null;i&&i.handleError(e)}function fC(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=e[s],u=n.data[s];IF(u,c,i,a,l,r)}}function OF(n,e,t){let i=bP(e,n);Tj(n[An],i,t)}function m$(n,e){let t=ol(e,n),i=t[Et];g$(i,t);let r=t[Xs];r!==null&&t[$p]===null&&(t[$p]=tC(r,t[dd])),mC(i,t,t[oo])}function g$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function mC(n,e,t){qI(e);try{let i=n.viewQuery;i!==null&&Xw(1,i,t);let r=n.template;r!==null&&EF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qs]?.finishViewCreation(n),n.staticContentQueries&&AF(n,e),n.staticViewQueries&&Xw(2,n.viewQuery,t);let o=n.components;o!==null&&_$(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[nt]&=-5,KI()}}function _$(n,e){for(let t=0;t<e.length;t++)m$(n,e[t])}function PF(n,e,t,i){let r=Yt(null);try{let o=e.tView,a=n[nt]&4096?4096:16,l=p0(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Jp]=c;let u=n[Qs];return u!==null&&(l[Qs]=u.createEmbeddedView(o)),mC(o,l,t),l}finally{Yt(r)}}function y$(n,e){let t=Ir+e;if(t<n.length)return n[t]}function Jw(n,e){return!e||e.firstChild===null||WP(n)}function FF(n,e,t,i=!0){let r=e[Et];if(Mj(r,e,n,t),i){let s=Qw(t,n),a=e[An],l=sC(a,n[Cc]);l!==null&&Dj(r,n[Br],a,e,l,s)}let o=e[$p];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function v$(n,e){let t=N_(n,e);return t!==void 0&&oC(t[Et],t),t}function B_(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(rs(o)),Js(o)&&b$(o,i);let s=t.type;if(s&8)B_(n,e,t.child,i);else if(s&32){let a=rC(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=gF(e,t);if(Array.isArray(a))i.push(...a);else{let l=Kp(e[So]);B_(l[Et],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function b$(n,e){for(let t=Ir;t<n.length;t++){let i=n[t],r=i[Et].firstChild;r!==null&&B_(i[Et],i,r,e)}n[Cc]!==n[Xs]&&e.push(n[Cc])}var LF=[];function w$(n){return n[Ic]??I$(n)}function I$(n){let e=LF.pop()??Object.create(E$);return e.lView=n,e}function C$(n){n.lView[Ic]!==n&&(n.lView=null,LF.push(n))}var E$=lt(ce({},Np),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{qp(n.lView)},consumerOnSignalRead(){this.lView[Ic]=this}}),NF=100;function VF(n,e=!0,t=0){let i=n[xo],r=i.rendererFactory,o=!1;o||r.begin?.();try{T$(n,t)}catch(s){throw e&&kF(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function T$(n,e){eI(n,e);let t=0;for(;HI(n);){if(t===NF)throw new _e(103,!1);t++,eI(n,1)}}function x$(n,e,t,i){let r=e[nt];if((r&256)===256)return;let o=!1;!o&&e[xo].inlineEffectRunner?.flush(),qI(e);let s=null,a=null;!o&&S$(n)&&(a=w$(e),s=Lg(a));try{IP(e),gH(n.bindingStartIndex),t!==null&&EF(n,e,t,2,i);let l=(r&3)===3;if(!o)if(l){let h=n.preOrderCheckHooks;h!==null&&I_(e,h,null)}else{let h=n.preOrderHooks;h!==null&&C_(e,h,0,null),gw(e,0)}if(D$(e),BF(e,0),n.contentQueries!==null&&AF(n,e),!o)if(l){let h=n.contentCheckHooks;h!==null&&I_(e,h)}else{let h=n.contentHooks;h!==null&&C_(e,h,1),gw(e,1)}$j(n,e);let c=n.components;c!==null&&UF(e,c,0);let u=n.viewQuery;if(u!==null&&Xw(2,u,i),!o)if(l){let h=n.viewCheckHooks;h!==null&&I_(e,h)}else{let h=n.viewHooks;h!==null&&C_(e,h,2),gw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[w_]){for(let h of e[w_])h();e[w_]=null}o||(e[nt]&=-73)}catch(l){throw qp(e),l}finally{a!==null&&(Ng(a,s),C$(a)),KI()}}function S$(n){return n.type!==2}function BF(n,e){for(let t=KP(n);t!==null;t=YP(t))for(let i=Ir;i<t.length;i++){let r=t[i];zF(r,e)}}function D$(n){for(let e=KP(n);e!==null;e=YP(e)){if(!(e[nt]&VI.HasTransplantedViews))continue;let t=e[hd];for(let i=0;i<t.length;i++){let r=t[i],o=r[Ni];oH(r)}}}function A$(n,e,t){let i=ol(e,n);zF(i,t)}function zF(n,e){UI(n)&&eI(n,e)}function eI(n,e){let i=n[Et],r=n[nt],o=n[Ic],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Vg(o)),o&&(o.dirty=!1),n[nt]&=-9217,s)x$(i,n,i.template,n[oo]);else if(r&8192){BF(n,1);let a=i.components;a!==null&&UF(n,a,1)}}function UF(n,e,t){for(let i=0;i<e.length;i++)A$(n,e[i],t)}function gC(n){for(n[xo].changeDetectionScheduler?.notify();n;){n[nt]|=64;let e=Kp(n);if(QU(n)&&!e)return n;n=e}return null}var Sc=class{get rootNodes(){let e=this._lView,t=e[Et];return B_(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oo]}set context(e){this._lView[oo]=e}get destroyed(){return(this._lView[nt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ni];if(Js(e)){let t=e[R_],i=t?t.indexOf(this):-1;i>-1&&(N_(e,i),A_(t,i))}this._attachedToViewContainer=!1}oC(this._lView[Et],this._lView)}onDestroy(e){CP(this._lView,e)}markForCheck(){gC(this._cdRefInjectingView||this._lView)}detach(){this._lView[nt]&=-129}reattach(){Vw(this._lView),this._lView[nt]|=128}detectChanges(){this._lView[nt]|=1024,VF(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,dF(this._lView[Et],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=e,Vw(this._lView)}},Ao=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=k$;let n=e;return n})(),M$=Ao,R$=class extends M${constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=PF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Sc(r)}};function k$(){return m0(Qi(),rt())}function m0(n,e){return n.type&4?new R$(e,n,wd(n,e)):null}var JEe=new RegExp(`^(\\d+)*(${YH}|${KH})*(.*)`);var O$=()=>null;function tI(n,e){return O$(n,e)}var fd=class{},nI=class{},z_=class{};function P$(n){let e=Error(`No component factory found for ${ur(n)}.`);return e[F$]=n,e}var F$="ngComponent";var iI=class{resolveComponentFactory(e){throw P$(e)}},g0=(()=>{let e=class e{};e.NULL=new iI;let n=e;return n})(),Dc=class{},Gt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>L$();let n=e;return n})();function L$(){let n=rt(),e=Qi(),t=ol(e.index,n);return(yc(t)?t:n)[An]}var N$=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),ww={};var IO=new Set;function as(n){IO.has(n)||(IO.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function CO(...n){}function V$(){let n=typeof Nr.requestAnimationFrame=="function",e=Nr[n?"requestAnimationFrame":"setTimeout"],t=Nr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Qe=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Z(!1),this.onMicrotaskEmpty=new Z(!1),this.onStable=new Z(!1),this.onError=new Z(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=V$().nativeRequestAnimationFrame,U$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new _e(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,B$,CO,CO);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},B$={};function _C(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function z$(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,rI(n),n.isCheckStableRunning=!0,_C(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),rI(n))}function U$(n){let e=()=>{z$(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(H$(a))return t.invokeTask(r,o,s,a);try{return EO(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TO(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return EO(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),TO(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,rI(n),_C(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function rI(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function EO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TO(n){n._nesting--,_C(n)}function H$(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var od=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(od||{}),j$={destroy(){}};function _0(n,e){!e&&hP(_0);let t=e?.injector??he(ri);if(!Ij(t))return j$;as("NgAfterNextRender");let i=t.get(yC),r=i.handler??=new sI,o=e?.phase??od.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(l0).onDestroy(s),l=Mo(t,()=>new oI(o,()=>{s(),n()}));return r.register(l),{destroy:s}}var oI=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=he(Qe),this.errorHandler=he(Do,{optional:!0}),he(fd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},sI=class{constructor(){this.executingCallbacks=!1,this.buckets={[od.EarlyRead]:new Set,[od.Write]:new Set,[od.MixedReadWrite]:new Set,[od.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},yC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function U_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Aw(r,a);else if(o==2){let l=a,c=e[++s];i=Aw(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var H_=class extends g0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=tl(e);return new md(t,this.ngModule)}};function xO(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function $$(n){let e=n.toLowerCase();return e==="svg"?vP:e==="math"?eH:null}var aI=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Q_(i);let r=this.injector.get(e,ww,i);return r!==ww||t===ww?r:this.parentInjector.get(e,t,i)}},md=class extends z_{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=xO(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return xO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=PU(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Yt(null);try{r=r||this.ngModule;let s=r instanceof Yi?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new aI(e,s):e,l=a.get(Dc,null);if(l===null)throw new _e(407,!1);let c=a.get(N$,null),u=a.get(yC,null),h=a.get(fd,null),p={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",w=i?qj(m,i,this.componentDef.encapsulation,a):uF(m,v,$$(v)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let S=null;w!==null&&(S=tC(w,a,!0));let R=dC(0,null,null,1,0,null,null,null,null,null,null),V=p0(null,R,null,I,null,null,p,m,a,null,S);qI(V);let z,q;try{let Y=this.componentDef,M,x=null;Y.findHostDirectiveDefs?(M=[],x=new Map,Y.findHostDirectiveDefs(Y,M,x),M.push(Y)):M=[Y];let D=G$(V,w),B=W$(D,w,Y,M,V,p,m);q=zI(R,dr),w&&Y$(m,Y,w,i),t!==void 0&&Q$(q,this.ngContentSelectors,t),z=K$(B,Y,M,x,V,[Z$]),mC(R,V,null)}finally{KI()}return new lI(this.componentType,z,wd(q,V),V,q)}finally{Yt(o)}}},lI=class extends nI{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Sc(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;fC(o[Et],o,r,e,t),this.previousInputValues.set(e,t);let s=ol(this._tNode.index,o);gC(s)}}get injector(){return new vc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function G$(n,e){let t=n[Et],i=dr;return n[i]=e,Cd(t,i,2,"#host",null)}function W$(n,e,t,i,r,o,s){let a=r[Et];q$(i,n,e,s);let l=null;e!==null&&(l=tC(e,r[dd]));let c=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=p0(r,TF(t),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Zw(a,n,i.length-1),f0(r,h),r[n.index]=h}function q$(n,e,t,i){for(let r of n)e.mergedAttrs=Hp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(U_(e,e.mergedAttrs,!0),t!==null&&vF(i,t,e))}function K$(n,e,t,i,r,o){let s=Qi(),a=r[Et],l=so(s,r);xF(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let h=s.directiveStart+u,p=xc(r,a,h,s);il(p,r)}SF(a,r,s),l&&il(l,r);let c=xc(r,a,s.directiveStart+s.componentOffset,s);if(n[oo]=r[oo]=c,o!==null)for(let u of o)u(c,e);return lC(a,s,r),c}function Y$(n,e,t,i){if(i)Ow(n,t,["ng-version","17.3.11"]);else{let{attrs:r,classes:o}=FU(e.selectors[0]);r&&Ow(n,t,r),o&&o.length>0&&yF(n,t,o.join(" "))}}function Q$(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function Z$(){let n=Qi();a0(rt()[Et],n)}var Ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=X$;let n=e;return n})();function X$(){let n=Qi();return jF(n,rt())}var J$=Ro,HF=class extends J${constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new vc(this._hostTNode,this._hostLView)}get parentInjector(){let e=YI(this._hostTNode,this._hostLView);if(FP(e)){let t=O_(e,this._hostLView),i=k_(e),r=t[Et].data[i+8];return new vc(r,t)}else return new vc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=SO(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=tI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Jw(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!YU(e),a;if(s)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?e:new md(tl(e)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(Yi,null);w&&(o=w)}let u=tl(l.componentType??{}),h=tI(this._lContainer,u?.id??null),p=h?.firstChild??null,m=l.create(c,r,p,o);return this.insertImpl(m.hostView,a,Jw(this._hostTNode,h)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(rH(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ni],c=new HF(l,l[Br],l[Ni]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return FF(s,r,o,i),e.attachToViewContainerRef(),KO(Iw(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=SO(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=N_(this._lContainer,t);i&&(A_(Iw(this._lContainer),t),oC(i[Et],i))}detach(e){let t=this._adjustIndex(e,-1),i=N_(this._lContainer,t);return i&&A_(Iw(this._lContainer),t)!=null?new Sc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function SO(n){return n[R_]}function Iw(n){return n[R_]||(n[R_]=[])}function jF(n,e){let t,i=e[n.index];return Js(i)?t=i:(t=DF(i,e,null,n),e[n.index]=t,f0(e,t)),tG(t,e,n,i),new HF(t,n,e)}function eG(n,e){let t=n[An],i=t.createComment(""),r=so(e,n),o=sC(t,r);return V_(t,o,i,Lj(t,r),!1),i}var tG=rG,nG=()=>!1;function iG(n,e,t){return nG(n,e,t)}function rG(n,e,t,i){if(n[Cc])return;let r;t.type&8?r=rs(i):r=eG(e,t),n[Cc]=r}var cI=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},uI=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)vC(e,t).matches!==null&&this.queries[t].setDirty()}},j_=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=hG(e):this.predicate=e}},dI=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},hI=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,oG(t,o)),this.matchTNodeWithReadOption(e,t,E_(t,e,o,!1,!1))}else i===Ao?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,E_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===We||r===Ro||r===Ao&&t.type&4)this.addMatch(t.index,-2);else{let o=E_(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function oG(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function sG(n,e){return n.type&11?wd(n,e):n.type&4?m0(n,e):null}function aG(n,e,t,i){return t===-1?sG(e,n):t===-2?lG(n,e,i):xc(n,n[Et],t,e)}function lG(n,e,t){if(t===We)return wd(e,n);if(t===Ao)return m0(e,n);if(t===Ro)return jF(e,n)}function $F(n,e,t,i){let r=e[Qs].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(aG(e,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function pI(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=$F(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let h=Ir;h<u.length;h++){let p=u[h];p[Jp]===p[Ni]&&pI(p[Et],p,c,i)}if(u[hd]!==null){let h=u[hd];for(let p=0;p<h.length;p++){let m=h[p];pI(m[Et],m,c,i)}}}}}return i}function cG(n,e){return n[Qs].queries[e].queryList}function GF(n,e,t){let i=new Gw((t&4)===4);return Qj(n,e,i,i.destroy),(e[Qs]??=new uI).queries.push(new cI(i))-1}function uG(n,e,t){let i=Nn();return i.firstCreatePass&&(WF(i,new j_(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),GF(i,rt(),e)}function dG(n,e,t,i){let r=Nn();if(r.firstCreatePass){let o=Qi();WF(r,new j_(e,t,i),o.index),pG(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return GF(r,rt(),t)}function hG(n){return n.split(",").map(e=>e.trim())}function WF(n,e,t){n.queries===null&&(n.queries=new dI),n.queries.track(new hI(e,t))}function pG(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function vC(n,e){return n.queries.getByIndex(e)}function fG(n,e){let t=n[Et],i=vC(t,e);return i.crossesNgTemplate?pI(t,n,e,[]):$F(t,n,i,e)}function mG(n){return typeof n=="function"&&n[Jo]!==void 0}function Xt(n,e){as("NgSignals");let t=wk(n),i=t[Jo];return e?.equal&&(i.equal=e.equal),t.set=r=>Kb(i,r),t.update=r=>Ik(i,r),t.asReadonly=gG.bind(t),t}function gG(){let n=this[Jo];if(n.readonlyFn===void 0){let e=()=>this();e[Jo]=n,n.readonlyFn=e}return n.readonlyFn}function qF(n){return mG(n)&&typeof n.set=="function"}function _G(n){return Object.getPrototypeOf(n.prototype).constructor}function Me(n){let e=_G(n.type),t=!0,i=[n];for(;e;){let r;if(nl(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _e(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=y_(n.inputs),s.inputTransforms=y_(n.inputTransforms),s.declaredInputs=y_(n.declaredInputs),s.outputs=y_(n.outputs);let a=r.hostBindings;a&&IG(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&bG(n,l),c&&wG(n,c),yG(n,r),Jz(n.outputs,r.outputs),nl(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Me&&(t=!1)}}e=Object.getPrototypeOf(e)}vG(i)}function yG(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function vG(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Hp(r.hostAttrs,t=Hp(t,r.hostAttrs))}}function y_(n){return n===ld?{}:n===wr?[]:n}function bG(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function wG(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function IG(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Xe(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var rl=class{},Yp=class{};var fI=class extends rl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H_(this);let r=rP(e);this._bootstrapComponents=cF(r.bootstrap),this._r3Injector=$P(e,t,[{provide:rl,useValue:this},{provide:g0,useValue:this.componentFactoryResolver},...i],ur(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mI=class extends Yp{constructor(e){super(),this.moduleType=e}create(e){return new fI(this.moduleType,e,[])}};var $_=class extends rl{constructor(e){super(),this.componentFactoryResolver=new H_(this),this.instance=null;let t=new jp([...e.providers,{provide:rl,useValue:this},{provide:g0,useValue:this.componentFactoryResolver}],e.parent||NI(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function y0(n,e,t=null){return new $_({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var kc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function KF(n){return bC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function CG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function bC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ta(n,e,t){return n[e]=t}function v0(n,e){return n[e]}function Vr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function gd(n,e,t,i){let r=Vr(n,e,t);return Vr(n,e+1,i)||r}function YF(n,e,t,i,r){let o=gd(n,e,t,i);return Vr(n,e+2,r)||o}function b0(n,e,t,i,r,o){let s=gd(n,e,t,i);return gd(n,e+2,r,o)||s}function EG(n){return(n.flags&32)===32}function TG(n,e,t,i,r,o,s,a,l){let c=e.consts,u=Cd(e,n,4,s||null,pd(c,a));pC(e,t,u,pd(c,l)),a0(e,u);let h=u.tView=dC(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function T(n,e,t,i,r,o,s,a){let l=rt(),c=Nn(),u=n+dr,h=c.firstCreatePass?TG(u,c,l,e,t,i,r,o,s):c.data[u];Mc(h,!1);let p=xG(c,l,h,n);o0()&&d0(c,l,p,h),il(p,l);let m=DF(p,l,p,h);return l[u]=m,f0(l,m),iG(m,h,l),i0(h)&&cC(c,l,h),s!=null&&uC(l,h,a),T}var xG=SG;function SG(n,e,t,i){return s0(!0),e[An].createComment("")}function N(n,e,t,i){let r=rt(),o=ef();if(Vr(r,o,e)){let s=Nn(),a=r0();d$(a,r,n,e,t,i)}return N}function QF(n,e,t,i){return Vr(n,ef(),t)?e+bc(t)+i:zr}function DG(n,e,t,i,r,o){let s=mH(),a=gd(n,s,t,r);return GI(2),a?e+bc(t)+i+bc(r)+o:zr}function v_(n,e){return n<<17|e<<2}function Ac(n){return n>>17&32767}function AG(n){return(n&2)==2}function MG(n,e){return n&131071|e<<17}function gI(n){return n|2}function _d(n){return(n&131068)>>2}function Cw(n,e){return n&-131069|e<<2}function RG(n){return(n&1)===1}function _I(n){return n|1}function kG(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ac(s),l=_d(s);n[i]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Xp(h,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let p=Ac(n[a+1]);n[i+1]=v_(p,a),p!==0&&(n[p+1]=Cw(n[p+1],i)),n[a+1]=MG(n[a+1],i)}else n[i+1]=v_(a,0),a!==0&&(n[a+1]=Cw(n[a+1],i)),a=i;else n[i+1]=v_(l,0),a===0?a=i:n[l+1]=Cw(n[l+1],i),l=i;c&&(n[i+1]=gI(n[i+1])),DO(n,u,i,!0),DO(n,u,i,!1),OG(e,u,n,i,o),s=v_(a,l),o?e.classBindings=s:e.styleBindings=s}function OG(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xp(o,e)>=0&&(t[i+1]=_I(t[i+1]))}function DO(n,e,t,i){let r=n[t+1],o=e===null,s=i?Ac(r):_d(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];PG(l,e)&&(a=!0,n[s+1]=i?_I(c):gI(c)),s=i?Ac(c):_d(c)}a&&(n[t+1]=i?gI(r):_I(r))}function PG(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xp(n,e)>=0:!1}var fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZF(n){return n.substring(fi.key,fi.keyEnd)}function FG(n){return n.substring(fi.value,fi.valueEnd)}function LG(n){return eL(n),XF(n,yd(n,0,fi.textEnd))}function XF(n,e){let t=fi.textEnd;return t===e?-1:(e=fi.keyEnd=VG(n,fi.key=e,t),yd(n,e,t))}function NG(n){return eL(n),JF(n,yd(n,0,fi.textEnd))}function JF(n,e){let t=fi.textEnd,i=fi.key=yd(n,e,t);return t===i?-1:(i=fi.keyEnd=BG(n,i,t),i=AO(n,i,t,58),i=fi.value=yd(n,i,t),i=fi.valueEnd=zG(n,i,t),AO(n,i,t,59))}function eL(n){fi.key=0,fi.keyEnd=0,fi.value=0,fi.valueEnd=0,fi.textEnd=n.length}function yd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function VG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function BG(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function AO(n,e,t,i){return e=yd(n,e,t),e<t&&e++,e}function zG(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=MO(n,l,s,t):e===s-4&&o===85&&r===82&&i===76&&l===40?a=s=MO(n,41,s,t):l>32&&(a=s),o=r,r=i,i=l&-33}return a}function MO(n,e,t,i){let r=-1,o=t;for(;o<i;){let s=n.charCodeAt(o++);if(s==e&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function f(n,e,t){let i=rt(),r=ef();if(Vr(i,r,e)){let o=Nn(),s=r0();hC(o,s,i,n,e,i[An],t,!1)}return f}function yI(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";fC(n,t,o[s],s,i)}function Oc(n,e,t){return tL(n,e,t,!1),Oc}function Vn(n,e){return tL(n,e,null,!0),Vn}function ko(n){nL(oL,UG,n,!1)}function UG(n,e){for(let t=NG(e);t>=0;t=JF(e,t))oL(n,ZF(e),FG(e))}function ne(n){nL(KG,HG,n,!0)}function HG(n,e){for(let t=LG(e);t>=0;t=XF(e,t))X_(n,ZF(e),!0)}function tL(n,e,t,i){let r=rt(),o=Nn(),s=GI(2);if(o.firstUpdatePass&&rL(o,n,s,i),e!==zr&&Vr(r,s,e)){let a=o.data[sl()];sL(o,a,r,r[An],n,r[s+1]=QG(e,t),i,s)}}function nL(n,e,t,i){let r=Nn(),o=GI(2);r.firstUpdatePass&&rL(r,null,o,i);let s=rt();if(t!==zr&&Vr(s,o,t)){let a=r.data[sl()];if(aL(a,i)&&!iL(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Aw(l,t||"")),yI(r,a,s,t,i)}else YG(r,a,s,s[An],s[o+1],s[o+1]=qG(n,e,t),i,o)}}function iL(n,e){return e>=n.expandoStartIndex}function rL(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[sl()],s=iL(n,t);aL(o,i)&&e===null&&!s&&(e=!1),e=jG(r,o,e,i),kG(r,o,e,t,s,i)}}function jG(n,e,t,i){let r=bH(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Ew(null,n,e,t,i),t=Qp(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Ew(r,n,e,t,i),o===null){let l=$G(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Ew(null,n,e,l[1],i),l=Qp(l,e.attrs,i),GG(n,e,i,l))}else o=WG(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function $G(n,e,t){let i=t?e.classBindings:e.styleBindings;if(_d(i)!==0)return n[Ac(i)]}function GG(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Ac(r)]=i}function WG(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Qp(i,s,t)}return Qp(i,e.attrs,t)}function Ew(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Qp(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Qp(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),X_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function qG(n,e,t){if(t==null||t==="")return wr;let i=[],r=al(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function oL(n,e,t){X_(n,e,al(t))}function KG(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&X_(n,i,t)}function YG(n,e,t,i,r,o,s,a){r===zr&&(r=wr);let l=0,c=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;u!==null||h!==null;){let p=l<r.length?r[l+1]:void 0,m=c<o.length?o[c+1]:void 0,v=null,w;u===h?(l+=2,c+=2,p!==m&&(v=h,w=m)):h===null||u!==null&&u<h?(l+=2,v=u):(c+=2,v=h,w=m),v!==null&&sL(n,e,t,i,v,w,s,a),u=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}function sL(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=RG(c)?RO(l,e,t,r,_d(c),s):void 0;if(!G_(u)){G_(o)||AG(c)&&(o=RO(l,null,t,r,a,s));let h=bP(sl(),t);Hj(i,s,h,r,o)}}function RO(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=u===null,p=t[r+1];p===zr&&(p=h?wr:void 0);let m=h?fw(p,i):u===i?p:void 0;if(c&&!G_(m)&&(m=fw(l,i)),G_(m)&&(a=m,s))return a;let v=n[r+1];r=s?Ac(v):_d(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=fw(l,i))}return a}function G_(n){return n!==void 0}function QG(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ur(al(n)))),n}function aL(n,e){return(n.flags&(e?8:16))!==0}function hr(n,e,t){as("NgControlFlow");let i=rt(),r=ef(),o=ZG(i,dr+n),s=0;if(Vr(i,r,e)){let a=Yt(null);try{if(v$(o,s),e!==-1){let l=XG(i[Et],dr+e),c=tI(o,l.tView.ssrId),u=PF(i,l,t,{dehydratedView:c});FF(o,u,s,Jw(l,c))}}finally{Yt(a)}}else{let a=y$(o,s);a!==void 0&&(a[oo]=t)}}function ZG(n,e){return n[e]}function XG(n,e){return zI(n,e)}function JG(n,e,t,i,r,o){let s=e.consts,a=pd(s,r),l=Cd(e,n,2,i,a);return pC(e,t,l,pd(s,o)),l.attrs!==null&&U_(l,l.attrs,!1),l.mergedAttrs!==null&&U_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function C(n,e,t,i){let r=rt(),o=Nn(),s=dr+n,a=r[An],l=o.firstCreatePass?JG(s,o,r,e,t,i):o.data[s],c=eW(o,r,l,a,e,n);r[s]=c;let u=i0(l);return Mc(l,!0),vF(a,c,l),!EG(l)&&o0()&&d0(o,r,c,l),lH()===0&&il(c,r),cH(),u&&(cC(o,r,l),lC(o,l,r)),i!==null&&uC(r,l),C}function E(){let n=Qi();jI()?$I():(n=n.parent,Mc(n,!1));let e=n;dH(e)&&hH(),uH();let t=Nn();return t.firstCreatePass&&(a0(t,n),BI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&SH(e)&&yI(t,e,rt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DH(e)&&yI(t,e,rt(),e.stylesWithoutHost,!1),E}function G(n,e,t,i){return C(n,e,t,i),E(),G}var eW=(n,e,t,i,r,o)=>(s0(!0),uF(i,r,CH()));function tW(n,e,t,i,r){let o=e.consts,s=pd(o,i),a=Cd(e,n,8,"ng-container",s);s!==null&&U_(a,s,!0);let l=pd(o,r);return pC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ie(n,e,t){let i=rt(),r=Nn(),o=n+dr,s=r.firstCreatePass?tW(o,r,i,e,t):r.data[o];Mc(s,!0);let a=nW(r,i,s,n);return i[o]=a,o0()&&d0(r,i,a,s),il(a,i),i0(s)&&(cC(r,i,s),lC(r,s,i)),t!=null&&uC(i,s),ie}function re(){let n=Qi(),e=Nn();return jI()?$I():(n=n.parent,Mc(n,!1)),e.firstCreatePass&&(a0(e,n),BI(n)&&e.queries.elementEnd(n)),re}function de(n,e,t){return ie(n,e,t),re(),de}var nW=(n,e,t,i)=>(s0(!0),xj(e[An],""));function ue(){return rt()}var _c=void 0;function iW(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var rW=["en",[["a","p"],["AM","PM"],_c],[["AM","PM"],_c,_c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_c,"{1} 'at' {0}",_c],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iW],Tw={};function ao(n){let e=oW(n),t=kO(e);if(t)return t;let i=e.split("-")[0];if(t=kO(i),t)return t;if(i==="en")return rW;throw new _e(701,!1)}function kO(n){return n in Tw||(Tw[n]=Nr.ng&&Nr.ng.common&&Nr.ng.common.locales&&Nr.ng.common.locales[n]),Tw[n]}var Kn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Kn||{});function oW(n){return n.toLowerCase().replace(/_/g,"-")}var W_="en-US";var sW=W_;function aW(n){typeof n=="string"&&(sW=n.toLowerCase().replace(/_/g,"-"))}function Q(n,e,t,i){let r=rt(),o=Nn(),s=Qi();return lL(o,r,r[An],s,n,e,i),Q}function lW(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Gp],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function lL(n,e,t,i,r,o,s){let a=i0(i),c=n.firstCreatePass&&RF(n),u=e[oo],h=MF(e),p=!0;if(i.type&3||s){let w=so(i,e),I=s?s(w):w,S=h.length,R=s?z=>s(rs(z[i.index])):i.index,V=null;if(!s&&a&&(V=lW(n,e,r,i.index)),V!==null){let z=V.__ngLastListenerFn__||V;z.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,p=!1}else{o=PO(i,e,u,o,!1);let z=t.listen(I,r,o);h.push(o,z),c&&c.push(r,R,S,S+1)}}else o=PO(i,e,u,o,!1);let m=i.outputs,v;if(p&&m!==null&&(v=m[r])){let w=v.length;if(w)for(let I=0;I<w;I+=2){let S=v[I],R=v[I+1],q=e[S][R].subscribe(o),Y=h.length;h.push(o,q),c&&c.push(r,i.index,Y,-(Y+1))}}}function OO(n,e,t,i){let r=Yt(null);try{return ts(6,e,t),t(i)!==!1}catch(o){return kF(n,o),!1}finally{ts(7,e,t),Yt(r)}}function PO(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?ol(n.index,e):e;gC(a);let l=OO(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=OO(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function y(n=1){return IH(n)}function cW(n,e){let t=null,i=AU(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?eP(n,o,!0):kU(i,o))return r}return t}function _n(n){let e=rt()[So][Br];if(!e.projection){let t=n?n.length:1,i=e.projection=bU(t,null),r=i.slice(),o=e.child;for(;o!==null;){let s=n?cW(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function nn(n,e=0,t){let i=rt(),r=Nn(),o=Cd(r,dr+n,16,null,t||null);o.projection===null&&(o.projection=e),$I(),(!i[$p]||TP())&&(o.flags&32)!==32&&zj(r,i,o)}function wC(n,e,t){return cL(n,"",e,"",t),wC}function cL(n,e,t,i,r){let o=rt(),s=QF(o,e,t,i);if(s!==zr){let a=Nn(),l=r0();hC(a,l,o,n,s,o[An],r,!1)}return cL}function pt(n,e,t,i){dG(n,e,t,i)}function Le(n,e,t){uG(n,e,t)}function me(n){let e=rt(),t=Nn(),i=SP();WI(i+1);let r=vC(t,i);if(n.dirty&&iH(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=fG(e,i);n.reset(o,UH),n.notifyOnChanges()}return!0}return!1}function ge(){return cG(rt(),SP())}function uW(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function ct(n){let e=fH();return wP(e,dr+n)}function oe(n,e=""){let t=rt(),i=Nn(),r=n+dr,o=i.firstCreatePass?Cd(i,r,1,e,null):i.data[r],s=dW(i,t,o,e,n);t[r]=s,o0()&&d0(i,t,s,o),Mc(o,!1)}var dW=(n,e,t,i,r)=>(s0(!0),Ej(e[An],i));function Ue(n){return zt("",n,""),Ue}function zt(n,e,t){let i=rt(),r=QF(i,n,e,t);return r!==zr&&OF(i,sl(),r),zt}function IC(n,e,t,i,r){let o=rt(),s=DG(o,n,e,t,i,r);return s!==zr&&OF(o,sl(),s),IC}function Ii(n,e,t){qF(e)&&(e=e());let i=rt(),r=ef();if(Vr(i,r,e)){let o=Nn(),s=r0();hC(o,s,i,n,e,i[An],t,!1)}return Ii}function Bi(n,e){let t=qF(n);return t&&n.set(e),t}function Ci(n,e){let t=rt(),i=Nn(),r=Qi();return lL(i,t,t[An],r,n,e),Ci}function hW(n,e,t){let i=Nn();if(i.firstCreatePass){let r=nl(n);vI(t,i.data,i.blueprint,r,!0),vI(e,i.data,i.blueprint,r,!1)}}function vI(n,e,t,i,r){if(n=cr(n),Array.isArray(n))for(let o=0;o<n.length;o++)vI(n[o],e,t,i,r);else{let o=Nn(),s=rt(),a=Qi(),l=ud(n)?n:cr(n.provide),c=uP(n),u=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(ud(n)||!n.multi){let m=new Tc(c,r,j),v=Sw(l,e,r?u:u+p,h);v===-1?(Uw(F_(a,s),o,l),xw(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[v]=m,s[v]=m)}else{let m=Sw(l,e,u+p,h),v=Sw(l,e,u,u+p),w=m>=0&&t[m],I=v>=0&&t[v];if(r&&!I||!r&&!w){Uw(F_(a,s),o,l);let S=mW(r?fW:pW,t.length,r,i,c);!r&&I&&(t[v].providerFactory=S),xw(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=uL(t[r?v:m],c,!r&&i);xw(o,n,m>-1?m:v,S)}!r&&i&&I&&t[v].componentProviders++}}}function xw(n,e,t,i){let r=ud(e),o=HU(e);if(r||o){let l=(o?cr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function uL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function pW(n,e,t,i){return bI(this.multi,[])}function fW(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xc(t,t[Et],this.providerFactory.index,i);o=a.slice(0,s),bI(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bI(r,o);return o}function bI(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function mW(n,e,t,i,r){let o=new Tc(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,uL(o,r,i&&!t),o}function dn(n,e=[]){return t=>{t.providersResolver=(i,r)=>hW(i,r?r(n):n,e)}}var gW=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=aP(!1,i.type),o=r.length>0?y0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=xe({token:e,providedIn:"environment",factory:()=>new e(Fe(Yi))});let n=e;return n})();function ye(n){as("NgStandalone"),n.getStandaloneInjector=e=>e.get(gW).getOrCreateStandaloneInjector(n)}function Jt(n,e,t){let i=ss()+n,r=rt();return r[i]===zr?ta(r,i,t?e.call(t):e()):v0(r,i)}function Ie(n,e,t,i){return _W(rt(),ss(),n,e,t,i)}function Nt(n,e,t,i,r){return dL(rt(),ss(),n,e,t,i,r)}function En(n,e,t,i,r,o){return yW(rt(),ss(),n,e,t,i,r,o)}function Pc(n,e,t,i,r,o,s){return vW(rt(),ss(),n,e,t,i,r,o,s)}function Ed(n,e,t,i,r,o,s,a){let l=ss()+n,c=rt(),u=b0(c,l,t,i,r,o);return Vr(c,l+4,s)||u?ta(c,l+5,a?e.call(a,t,i,r,o,s):e(t,i,r,o,s)):v0(c,l+5)}function Fc(n,e,t,i,r,o,s,a,l){let c=ss()+n,u=rt(),h=b0(u,c,t,i,r,o);return gd(u,c+4,s,a)||h?ta(u,c+6,l?e.call(l,t,i,r,o,s,a):e(t,i,r,o,s,a)):v0(u,c+6)}function w0(n,e,t,i,r,o,s,a,l,c){let u=ss()+n,h=rt(),p=b0(h,u,t,i,r,o);return YF(h,u+4,s,a,l)||p?ta(h,u+7,c?e.call(c,t,i,r,o,s,a,l):e(t,i,r,o,s,a,l)):v0(h,u+7)}function rf(n,e,t,i){return bW(rt(),ss(),n,e,t,i)}function of(n,e){let t=n[e];return t===zr?void 0:t}function _W(n,e,t,i,r,o){let s=e+t;return Vr(n,s,r)?ta(n,s+1,o?i.call(o,r):i(r)):of(n,s+1)}function dL(n,e,t,i,r,o,s){let a=e+t;return gd(n,a,r,o)?ta(n,a+2,s?i.call(s,r,o):i(r,o)):of(n,a+2)}function yW(n,e,t,i,r,o,s,a){let l=e+t;return YF(n,l,r,o,s)?ta(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):of(n,l+3)}function vW(n,e,t,i,r,o,s,a,l){let c=e+t;return b0(n,c,r,o,s,a)?ta(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):of(n,c+4)}function bW(n,e,t,i,r,o){let s=e+t,a=!1;for(let l=0;l<r.length;l++)Vr(n,s++,r[l])&&(a=!0);return a?ta(n,s,i.apply(o,r)):of(n,s)}function zi(n,e){let t=Nn(),i,r=n+dr;t.firstCreatePass?(i=wW(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=wc(i.type,!0)),s,a=br(j);try{let l=P_(!1),c=o();return P_(l),uW(t,rt(),r,c),c}finally{br(a)}}function wW(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Ui(n,e,t,i){let r=n+dr,o=rt(),s=wP(o,r);return IW(o,r)?dL(o,ss(),e,s.transform,t,i,s):s.transform(t,i)}function IW(n,e){return n[Et].data[e].pure}function Qt(n,e){return m0(n,e)}var Zs=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},hL=new Zs("17.3.11"),I0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var pL=new Ne("");function Lc(n){return!!n&&typeof n.then=="function"}function fL(n){return!!n&&typeof n.subscribe=="function"}var C0=new Ne(""),mL=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=he(C0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(Lc(s))i.push(s);else if(fL(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),sf=new Ne("");function CW(){bk(()=>{throw new _e(600,!1)})}function EW(n){return n.isBoundToModule}function TW(n,e,t){try{let i=t();return Lc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Td=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(GP),this.afterRenderEffectManager=he(yC),this.externalTestViews=new Set,this.beforeRender=new pn,this.afterTick=new pn,this.componentTypes=[],this.components=[],this.isStable=he(kc).hasPendingTasks.pipe(ht(i=>!i)),this._injector=he(Yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof z_;if(!this._injector.get(mL).done){let m=!o&&iP(i),v=!1;throw new _e(405,v)}let a;o?a=i:a=this._injector.get(g0).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=EW(a)?void 0:this._injector.get(rl),c=r||a.selector,u=a.create(ri.NULL,[],c,l),h=u.location.nativeElement,p=u.injector.get(pL,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Dw(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new _e(101,!1);let r=Yt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Yt(r)}}detectChangesInAttachedViews(i){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===NF)throw new _e(103,!1);if(i){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)xW(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>wI(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>wI(s))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Dw(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(sf,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Dw(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new _e(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Dw(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xW(n,e,t){!e&&!wI(n)||SW(n,t,e)}function wI(n){return HI(n)}function SW(n,e,t){let i;t?(i=0,n[nt]|=1024):n[nt]&64?i=0:i=1,VF(n,e,i)}var II=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},E0=(()=>{let e=class e{compileModuleSync(i){return new mI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=rP(i),s=cF(o.declarations).reduce((a,l)=>{let c=tl(l);return c&&a.push(new md(c)),a},[]);return new II(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var DW=(()=>{let e=class e{constructor(){this.zone=he(Qe),this.applicationRef=he(Td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function AW(n){return[{provide:Qe,useFactory:n},{provide:cd,multi:!0,useFactory:()=>{let e=he(DW,{optional:!0});return()=>e.initialize()}},{provide:cd,multi:!0,useFactory:()=>{let e=he(OW);return()=>{e.initialize()}}},{provide:GP,useFactory:MW}]}function MW(){let n=he(Qe),e=he(Do);return t=>n.runOutsideAngular(()=>e.handleError(t))}function RW(n){let e=AW(()=>new Qe(kW(n)));return vd([[],e])}function kW(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var OW=(()=>{let e=class e{constructor(){this.subscription=new qn,this.initialized=!1,this.zone=he(Qe),this.pendingTasks=he(kc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function PW(){return typeof $localize<"u"&&$localize.locale||W_}var T0=new Ne("",{providedIn:"root",factory:()=>he(T0,Ft.Optional|Ft.SkipSelf)||PW()});var gL=new Ne("");var x_=null;function FW(n=[],e){return ri.create({name:e,providers:[{provide:e0,useValue:"platform"},{provide:gL,useValue:new Set([()=>x_=null])},...n]})}function LW(n=[]){if(x_)return x_;let e=FW(n);return x_=e,CW(),NW(e),e}function NW(n){n.get(XI,null)?.forEach(t=>t())}var et=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VW;let n=e;return n})();function VW(n){return BW(Qi(),rt(),(n&16)===16)}function BW(n,e,t){if(n0(n)&&!t){let i=ol(n.index,e);return new Sc(i,i)}else if(n.type&47){let i=e[So];return new Sc(i,e)}return null}var CI=class{constructor(){}supports(e){return KF(e)}create(e){return new EI(e)}},zW=(n,e)=>e,EI=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zW}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<FO(i,r,o)?t:i,a=FO(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let p=0;p<c;p++){let m=p<o.length?o[p]:o[p]=0,v=m+p;u<=v&&v<c&&(o[p]=m+1)}let h=s.previousIndex;o[h]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!KF(e))throw new _e(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,CG(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new TI(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new q_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new q_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},TI=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xI=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},q_=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new xI,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function FO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var SI=class{constructor(){}supports(e){return e instanceof Map||bC(e)}create(){return new DI}},DI=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||bC(e)))throw new _e(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new AI(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},AI=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function LO(){return new CC([new CI])}var CC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||LO()),deps:[[e,new Z_,new Vi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new _e(901,!1)}};e.\u0275prov=xe({token:e,providedIn:"root",factory:LO});let n=e;return n})();function NO(){return new EC([new SI])}var EC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||NO()),deps:[[e,new Z_,new Vi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new _e(901,!1)}};e.\u0275prov=xe({token:e,providedIn:"root",factory:NO});let n=e;return n})();function _L(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=LW(i),o=[RW(),...t||[]],a=new $_({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Qe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Do,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:m=>{c.handleError(m)}})});let h=()=>a.destroy(),p=r.get(gL);return p.add(h),a.onDestroy(()=>{u.unsubscribe(),p.delete(h)}),TW(c,l,()=>{let m=a.get(mL);return m.runInitializers(),m.donePromise.then(()=>{let v=a.get(T0,W_);aW(v||W_);let w=a.get(Td);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}function W(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Pe(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function ls(n,e){as("NgSignals");let t=_k(n);return e?.equal&&(t[Jo].equal=e.equal),t}var UW=new Ne("",{providedIn:"root",factory:()=>he(HW)}),HW=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>new MI});let n=e;return n})(),MI=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=he(kc),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},RI=class{constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=o,this.watcher=Ek(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Do,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function af(n,e){as("NgSignals"),!e?.injector&&hP(af);let t=e?.injector??he(ri),i=e?.manualCleanup!==!0?t.get(l0):null,r=new RI(t.get(UW),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(et,null,{optional:!0});return!o||!(o._lView[nt]&8)?r.watcher.notify():(o._lView[w_]??=[]).push(r.watcher.notify),r}function yL(n){let e=tl(n);if(!e)return null;let t=new md(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var TL=null;function oa(){return TL}function xL(n){TL??=n}var P0=class{};var ut=new Ne(""),OC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(jW),providedIn:"platform"});let n=e;return n})(),SL=new Ne(""),jW=(()=>{let e=class e extends OC{constructor(){super(),this._doc=he(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oa().getBaseHref(this._doc)}onPopState(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function PC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function vL(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ia(n){return n&&n[0]!=="?"?"?"+n:n}var sa=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(FC),providedIn:"root"});let n=e;return n})(),DL=new Ne(""),FC=(()=>{let e=class e extends sa{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??he(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return PC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ia(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+ia(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+ia(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Fe(OC),Fe(DL,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AL=(()=>{let e=class e extends sa{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=PC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+ia(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+ia(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Fe(OC),Fe(DL,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),Sd=(()=>{let e=class e{constructor(i){this._subject=new Z,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=WW(vL(bL(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ia(r))}normalize(i){return e.stripTrailingSlash(GW(this._basePath,bL(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ia(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ia(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=ia,e.joinWithSlash=PC,e.stripTrailingSlash=vL,e.\u0275fac=function(r){return new(r||e)(Fe(sa))},e.\u0275prov=xe({token:e,factory:()=>$W(),providedIn:"root"});let n=e;return n})();function $W(){return new Sd(Fe(sa))}function GW(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function bL(n){return n.replace(/\/index.html$/,"")}function WW(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var pr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(pr||{}),yn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(yn||{}),Ur=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ur||{}),ll={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qW(n){return ao(n)[Kn.LocaleId]}function KW(n,e,t){let i=ao(n),r=[i[Kn.DayPeriodsFormat],i[Kn.DayPeriodsStandalone]],o=lo(r,e);return lo(o,t)}function YW(n,e,t){let i=ao(n),r=[i[Kn.DaysFormat],i[Kn.DaysStandalone]],o=lo(r,e);return lo(o,t)}function QW(n,e,t){let i=ao(n),r=[i[Kn.MonthsFormat],i[Kn.MonthsStandalone]],o=lo(r,e);return lo(o,t)}function ZW(n,e){let i=ao(n)[Kn.Eras];return lo(i,e)}function x0(n,e){let t=ao(n);return lo(t[Kn.DateFormat],e)}function S0(n,e){let t=ao(n);return lo(t[Kn.TimeFormat],e)}function D0(n,e){let i=ao(n)[Kn.DateTimeFormat];return lo(i,e)}function L0(n,e){let t=ao(n),i=t[Kn.NumberSymbols][e];if(typeof i>"u"){if(e===ll.CurrencyDecimal)return t[Kn.NumberSymbols][ll.Decimal];if(e===ll.CurrencyGroup)return t[Kn.NumberSymbols][ll.Group]}return i}function ML(n){if(!n[Kn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Kn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function XW(n){let e=ao(n);return ML(e),(e[Kn.ExtraData][2]||[]).map(i=>typeof i=="string"?TC(i):[TC(i[0]),TC(i[1])])}function JW(n,e,t){let i=ao(n);ML(i);let r=[i[Kn.ExtraData][0],i[Kn.ExtraData][1]],o=lo(r,e)||[];return lo(o,t)||[]}function lo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function TC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var eq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,A0={},tq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ra=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ra||{}),on=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(on||{}),rn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(rn||{});function nq(n,e,t,i){let r=dq(n);e=na(t,e)||e;let s=[],a;for(;e;)if(a=tq.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=kL(i,l),r=uq(r,i,!0));let c="";return s.forEach(u=>{let h=lq(u);c+=h?h(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function F0(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function na(n,e){let t=qW(n);if(A0[t]??={},A0[t][e])return A0[t][e];let i="";switch(e){case"shortDate":i=x0(n,Ur.Short);break;case"mediumDate":i=x0(n,Ur.Medium);break;case"longDate":i=x0(n,Ur.Long);break;case"fullDate":i=x0(n,Ur.Full);break;case"shortTime":i=S0(n,Ur.Short);break;case"mediumTime":i=S0(n,Ur.Medium);break;case"longTime":i=S0(n,Ur.Long);break;case"fullTime":i=S0(n,Ur.Full);break;case"short":let r=na(n,"shortTime"),o=na(n,"shortDate");i=M0(D0(n,Ur.Short),[r,o]);break;case"medium":let s=na(n,"mediumTime"),a=na(n,"mediumDate");i=M0(D0(n,Ur.Medium),[s,a]);break;case"long":let l=na(n,"longTime"),c=na(n,"longDate");i=M0(D0(n,Ur.Long),[l,c]);break;case"full":let u=na(n,"fullTime"),h=na(n,"fullDate");i=M0(D0(n,Ur.Full),[u,h]);break}return i&&(A0[t][e]=i),i}function M0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Oo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function iq(n,e){return Oo(n,3).substring(0,e)}function oi(n,e,t=0,i=!1,r=!1){return function(o,s){let a=rq(n,o);if((t>0||a>-t)&&(a+=t),n===on.Hours)a===0&&t===-12&&(a=12);else if(n===on.FractionalSeconds)return iq(a,e);let l=L0(s,ll.MinusSign);return Oo(a,e,l,i,r)}}function rq(n,e){switch(n){case on.FullYear:return e.getFullYear();case on.Month:return e.getMonth();case on.Date:return e.getDate();case on.Hours:return e.getHours();case on.Minutes:return e.getMinutes();case on.Seconds:return e.getSeconds();case on.FractionalSeconds:return e.getMilliseconds();case on.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function bn(n,e,t=pr.Format,i=!1){return function(r,o){return oq(r,o,n,e,t,i)}}function oq(n,e,t,i,r,o){switch(t){case rn.Months:return QW(e,r,i)[n.getMonth()];case rn.Days:return YW(e,r,i)[n.getDay()];case rn.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let c=XW(e),u=JW(e,r,i),h=c.findIndex(p=>{if(Array.isArray(p)){let[m,v]=p,w=s>=m.hours&&a>=m.minutes,I=s<v.hours||s===v.hours&&a<v.minutes;if(m.hours<v.hours){if(w&&I)return!0}else if(w||I)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return KW(e,r,i)[s<12?0:1];case rn.Eras:return ZW(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function R0(n){return function(e,t,i){let r=-1*i,o=L0(t,ll.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ra.Short:return(r>=0?"+":"")+Oo(s,2,o)+Oo(Math.abs(r%60),2,o);case ra.ShortGMT:return"GMT"+(r>=0?"+":"")+Oo(s,1,o);case ra.Long:return"GMT"+(r>=0?"+":"")+Oo(s,2,o)+":"+Oo(Math.abs(r%60),2,o);case ra.Extended:return i===0?"Z":(r>=0?"+":"")+Oo(s,2,o)+":"+Oo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var sq=0,O0=4;function aq(n){let e=F0(n,sq,1).getDay();return F0(n,0,1+(e<=O0?O0:O0+7)-e)}function RL(n){let e=n.getDay(),t=e===0?-3:O0-e;return F0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function xC(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=RL(t),s=aq(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Oo(r,n,L0(i,ll.MinusSign))}}function k0(n,e=!1){return function(t,i){let o=RL(t).getFullYear();return Oo(o,n,L0(i,ll.MinusSign),e)}}var SC={};function lq(n){if(SC[n])return SC[n];let e;switch(n){case"G":case"GG":case"GGG":e=bn(rn.Eras,yn.Abbreviated);break;case"GGGG":e=bn(rn.Eras,yn.Wide);break;case"GGGGG":e=bn(rn.Eras,yn.Narrow);break;case"y":e=oi(on.FullYear,1,0,!1,!0);break;case"yy":e=oi(on.FullYear,2,0,!0,!0);break;case"yyy":e=oi(on.FullYear,3,0,!1,!0);break;case"yyyy":e=oi(on.FullYear,4,0,!1,!0);break;case"Y":e=k0(1);break;case"YY":e=k0(2,!0);break;case"YYY":e=k0(3);break;case"YYYY":e=k0(4);break;case"M":case"L":e=oi(on.Month,1,1);break;case"MM":case"LL":e=oi(on.Month,2,1);break;case"MMM":e=bn(rn.Months,yn.Abbreviated);break;case"MMMM":e=bn(rn.Months,yn.Wide);break;case"MMMMM":e=bn(rn.Months,yn.Narrow);break;case"LLL":e=bn(rn.Months,yn.Abbreviated,pr.Standalone);break;case"LLLL":e=bn(rn.Months,yn.Wide,pr.Standalone);break;case"LLLLL":e=bn(rn.Months,yn.Narrow,pr.Standalone);break;case"w":e=xC(1);break;case"ww":e=xC(2);break;case"W":e=xC(1,!0);break;case"d":e=oi(on.Date,1);break;case"dd":e=oi(on.Date,2);break;case"c":case"cc":e=oi(on.Day,1);break;case"ccc":e=bn(rn.Days,yn.Abbreviated,pr.Standalone);break;case"cccc":e=bn(rn.Days,yn.Wide,pr.Standalone);break;case"ccccc":e=bn(rn.Days,yn.Narrow,pr.Standalone);break;case"cccccc":e=bn(rn.Days,yn.Short,pr.Standalone);break;case"E":case"EE":case"EEE":e=bn(rn.Days,yn.Abbreviated);break;case"EEEE":e=bn(rn.Days,yn.Wide);break;case"EEEEE":e=bn(rn.Days,yn.Narrow);break;case"EEEEEE":e=bn(rn.Days,yn.Short);break;case"a":case"aa":case"aaa":e=bn(rn.DayPeriods,yn.Abbreviated);break;case"aaaa":e=bn(rn.DayPeriods,yn.Wide);break;case"aaaaa":e=bn(rn.DayPeriods,yn.Narrow);break;case"b":case"bb":case"bbb":e=bn(rn.DayPeriods,yn.Abbreviated,pr.Standalone,!0);break;case"bbbb":e=bn(rn.DayPeriods,yn.Wide,pr.Standalone,!0);break;case"bbbbb":e=bn(rn.DayPeriods,yn.Narrow,pr.Standalone,!0);break;case"B":case"BB":case"BBB":e=bn(rn.DayPeriods,yn.Abbreviated,pr.Format,!0);break;case"BBBB":e=bn(rn.DayPeriods,yn.Wide,pr.Format,!0);break;case"BBBBB":e=bn(rn.DayPeriods,yn.Narrow,pr.Format,!0);break;case"h":e=oi(on.Hours,1,-12);break;case"hh":e=oi(on.Hours,2,-12);break;case"H":e=oi(on.Hours,1);break;case"HH":e=oi(on.Hours,2);break;case"m":e=oi(on.Minutes,1);break;case"mm":e=oi(on.Minutes,2);break;case"s":e=oi(on.Seconds,1);break;case"ss":e=oi(on.Seconds,2);break;case"S":e=oi(on.FractionalSeconds,1);break;case"SS":e=oi(on.FractionalSeconds,2);break;case"SSS":e=oi(on.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=R0(ra.Short);break;case"ZZZZZ":e=R0(ra.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=R0(ra.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=R0(ra.Long);break;default:return null}return SC[n]=e,e}function kL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function cq(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function uq(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=kL(e,r);return cq(n,i*(o-r))}function dq(n){if(wL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return F0(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(eq))return hq(i)}let e=new Date(n);if(!wL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function hq(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function wL(n){return n instanceof Date&&!isNaN(n.valueOf())}function N0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var DC=/\s+/,IL=[],ft=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=IL,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(DC):IL}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(DC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(DC).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(j(We),j(Gt))},e.\u0275dir=Pt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[P.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var AC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},si=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new AC(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),CL(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);CL(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(j(Ro),j(Ao),j(CC))},e.\u0275dir=Pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function CL(n,e){n.context.$implicit=e.item}var tt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new MC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){EL("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){EL("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(j(Ro),j(Ao))},e.\u0275dir=Pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),MC=class{constructor(){this.$implicit=null,this.ngIf=null}};function EL(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ur(e)}'.`)}var mt=(()=>{let e=class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[o,s]=i.split("."),a=o.indexOf("-")===-1?void 0:os.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(j(We),j(EC),j(Gt))},e.\u0275dir=Pt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),At=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(i,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(j(Ro))},e.\u0275dir=Pt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[cn]});let n=e;return n})();function pq(n,e){return new _e(2100,!1)}var fq="mediumDate",mq=new Ne(""),gq=new Ne(""),V0=(()=>{let e=class e{constructor(i,r,o){this.locale=i,this.defaultTimezone=r,this.defaultOptions=o}transform(i,r,o,s){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??fq,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return nq(i,a,s||this.locale,l)}catch(a){throw pq(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(j(T0,16),j(mq,24),j(gq,24))},e.\u0275pipe=J_({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var He=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ce({});let n=e;return n})(),LC="browser",_q="server";function Wt(n){return n===LC}function B0(n){return n===_q}var OL=(()=>{let e=class e{};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>Wt(he(Bt))?new RC(he(ut),window):new kC});let n=e;return n})(),RC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=yq(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function yq(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var kC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},xd=class{};var cf=class{},U0=class{},Nc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var VC=class{encodeKey(e){return PL(e)}encodeValue(e){return PL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function wq(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Iq=/%(\d[a-f0-9])/gi,Cq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PL(n){return encodeURIComponent(n).replace(Iq,(e,t)=>Cq[t]??e)}function z0(n){return`${n}`}var cl=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new VC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=wq(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(z0):[z0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(z0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(z0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var BC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Eq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LL(n){return typeof Blob<"u"&&n instanceof Blob}function NL(n){return typeof FormData<"u"&&n instanceof FormData}function Tq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var lf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Eq(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Nc,this.context??=new BC,!this.params)this.params=new cl,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FL(this.body)||LL(this.body)||NL(this.body)||Tq(this.body)?this.body:this.body instanceof cl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NL(this.body)?null:LL(this.body)?this.body.type||null:FL(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),u)),new n(t,i,s,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Dd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Dd||{}),uf=class{constructor(e,t=$0.Ok,i="OK"){this.headers=e.headers||new Nc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zC=class n extends uf{constructor(e={}){super(e),this.type=Dd.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},H0=class n extends uf{constructor(e={}){super(e),this.type=Dd.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},j0=class extends uf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},$0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}($0||{});function NC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var UC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof lf)s=i;else{let c;o.headers instanceof Nc?c=o.headers:c=new Nc(o.headers);let u;o.params&&(o.params instanceof cl?u=o.params:u=new cl({fromObject:o.params})),s=new lf(i,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Ye(s).pipe(Ks(c=>this.handler.handle(c)));if(i instanceof lf||o.observe==="events")return a;let l=a.pipe(pi(c=>c instanceof H0));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ht(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ht(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ht(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ht(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new cl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,NC(o,r))}post(i,r,o={}){return this.request("POST",i,NC(o,r))}put(i,r,o={}){return this.request("PUT",i,NC(o,r))}};e.\u0275fac=function(r){return new(r||e)(Fe(cf))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function xq(n,e){return e(n)}function Sq(n,e,t){return(i,r)=>Mo(t,()=>e(i,o=>n(o,r)))}var zL=new Ne(""),Dq=new Ne(""),Aq=new Ne("");var VL=(()=>{let e=class e extends cf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=he(kc);let o=he(Aq,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(zL),...this.injector.get(Dq,[])]));this.chain=o.reduceRight((s,a)=>Sq(s,a,this.injector),xq)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(gc(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(Fe(U0),Fe(Yi))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();var Mq=/^\)\]\}',?\n/;function Rq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var BL=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new _e(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$t(r.\u0275loadImpl()):Ye(null)).pipe(vr(()=>new Ct(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((I,S)=>a.setRequestHeader(I,S.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let I=i.detectContentTypeHeader();I!==null&&a.setRequestHeader("Content-Type",I)}if(i.responseType){let I=i.responseType.toLowerCase();a.responseType=I!=="json"?I:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=a.statusText||"OK",S=new Nc(a.getAllResponseHeaders()),R=Rq(a)||i.url;return c=new zC({headers:S,status:a.status,statusText:I,url:R}),c},h=()=>{let{headers:I,status:S,statusText:R,url:V}=u(),z=null;S!==$0.NoContent&&(z=typeof a.response>"u"?a.responseText:a.response),S===0&&(S=z?$0.Ok:0);let q=S>=200&&S<300;if(i.responseType==="json"&&typeof z=="string"){let Y=z;z=z.replace(Mq,"");try{z=z!==""?JSON.parse(z):null}catch(M){z=Y,q&&(q=!1,z={error:M,text:z})}}q?(s.next(new H0({body:z,headers:I,status:S,statusText:R,url:V||void 0})),s.complete()):s.error(new j0({error:z,headers:I,status:S,statusText:R,url:V||void 0}))},p=I=>{let{url:S}=u(),R=new j0({error:I,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});s.error(R)},m=!1,v=I=>{m||(s.next(u()),m=!0);let S={type:Dd.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(S.total=I.total),i.responseType==="text"&&a.responseText&&(S.partialText=a.responseText),s.next(S)},w=I=>{let S={type:Dd.UploadProgress,loaded:I.loaded};I.lengthComputable&&(S.total=I.total),s.next(S)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),i.reportProgress&&(a.addEventListener("progress",v),l!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(l),s.next({type:Dd.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),i.reportProgress&&(a.removeEventListener("progress",v),l!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(Fe(xd))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),UL=new Ne(""),kq="XSRF-TOKEN",Oq=new Ne("",{providedIn:"root",factory:()=>kq}),Pq="X-XSRF-TOKEN",Fq=new Ne("",{providedIn:"root",factory:()=>Pq}),G0=class{},Lq=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=N0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(Fe(ut),Fe(Bt),Fe(Oq))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function Nq(n,e){let t=n.url.toLowerCase();if(!he(UL)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=he(G0).getToken(),r=he(Fq);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function HL(...n){let e=[UC,BL,VL,{provide:cf,useExisting:VL},{provide:U0,useExisting:BL},{provide:zL,useValue:Nq,multi:!0},{provide:UL,useValue:!0},{provide:G0,useClass:Lq}];for(let t of n)e.push(...t.\u0275providers);return vd(e)}var $C=class extends P0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},GC=class n extends $C{static makeCurrent(){xL(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Bq();return t==null?null:zq(t)}resetBaseElement(){df=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return N0(document.cookie,e)}},df=null;function Bq(){return df=df||document.querySelector("base"),df?df.getAttribute("href"):null}function zq(n){return new URL(n,document.baseURI).pathname}var Uq=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),WC=new Ne(""),GL=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new _e(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(Fe(WC),Fe(Qe))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),W0=class{constructor(e){this._doc=e}},HC="ng-app-id",WL=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=B0(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${HC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(HC),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(HC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(Fe(ut),Fe(ZI),Fe(eC,8),Fe(Bt))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),jC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},KC=/%COMP%/g,qL="%COMP%",Hq=`_nghost-${qL}`,jq=`_ngcontent-${qL}`,$q=!0,Gq=new Ne("",{providedIn:"root",factory:()=>$q});function Wq(n){return jq.replace(KC,n)}function qq(n){return Hq.replace(KC,n)}function KL(n,e){return e.map(t=>t.replace(KC,n))}var q0=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=B0(l),this.defaultRenderer=new hf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===is.ShadowDom&&(r=lt(ce({},r),{encapsulation:is.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof K0?o.applyToHost(i):o instanceof pf&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case is.Emulated:s=new K0(c,u,r,this.appId,h,a,l,p);break;case is.ShadowDom:return new qC(c,u,i,r,a,l,this.nonce,p);default:s=new pf(c,u,r,h,a,l,p);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(Fe(GL),Fe(WL),Fe(ZI),Fe(Gq),Fe(ut),Fe(Bt),Fe(Qe),Fe(eC))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),hf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(jC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(jL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new _e(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=jC[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=jC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(os.DashCase|os.Important)?e.style.setProperty(t,i,r&os.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&os.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=oa().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function jL(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var qC=class extends hf{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=KL(r.id,r.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pf=class extends hf{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?KL(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},K0=class extends pf{constructor(e,t,i,r,o,s,a,l){let c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=Wq(c),this.hostAttr=qq(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},Kq=(()=>{let e=class e extends W0{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(Fe(ut))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),$L=["alt","control","meta","shift"],Yq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Zq=(()=>{let e=class e extends W0{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oa().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),$L.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let o=Yq[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),$L.forEach(a=>{if(a!==o){let l=Qq[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(Fe(ut))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function YL(n,e){return _L(ce({rootComponent:n},Xq(e)))}function Xq(n){return{appProviders:[...iK,...n?.providers??[]],platformProviders:nK}}function Jq(){GC.makeCurrent()}function eK(){return new Do}function tK(){return ZP(document),document}var nK=[{provide:Bt,useValue:LC},{provide:XI,useValue:Jq,multi:!0},{provide:ut,useFactory:tK,deps:[]}];var iK=[{provide:e0,useValue:"root"},{provide:Do,useFactory:eK,deps:[]},{provide:WC,useClass:Kq,multi:!0,deps:[ut,Qe,Bt]},{provide:WC,useClass:Zq,multi:!0,deps:[ut]},q0,WL,GL,{provide:Dc,useExisting:q0},{provide:xd,useClass:Uq,deps:[]},[]];var QL=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(Fe(ut))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Mt="primary",Af=Symbol("RouteTitle"),JC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Od(n){return new JC(n)}function oK(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function sK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}function cs(n,e){let t=n?eE(n):void 0,i=e?eE(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!oN(n[r],e[r]))return!1;return!0}function eE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function sN(n){return n.length>0?n[n.length-1]:null}function fl(n){return aw(n)?n:Lc(n)?$t(Promise.resolve(n)):Ye(n)}var aK={exact:lN,subset:cN},aN={exact:lK,subset:cK,ignored:()=>!0};function ZL(n,e,t){return aK[t.paths](n.root,e.root,t.matrixParams)&&aN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lK(n,e){return cs(n,e)}function lN(n,e,t){if(!Bc(n.segments,e.segments)||!Z0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!lN(n.children[i],e.children[i],t))return!1;return!0}function cK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oN(n[t],e[t]))}function cN(n,e,t){return uN(n,e,e.segments,t)}function uN(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Bc(r,t)||e.hasChildren()||!Z0(r,t,i))}else if(n.segments.length===t.length){if(!Bc(n.segments,t)||!Z0(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!cN(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Bc(n.segments,r)||!Z0(n.segments,r,i)||!n.children[Mt]?!1:uN(n.children[Mt],e,o,i)}}function Z0(n,e,t){return e.every((i,r)=>aN[t](n[r].parameters,i.parameters))}var ul=class{constructor(e=new un([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Od(this.queryParams),this._queryParamMap}toString(){return hK.serialize(this)}},un=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return X0(this)}},Vc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Od(this.parameters),this._parameterMap}toString(){return hN(this)}};function uK(n,e){return Bc(n,e)&&n.every((t,i)=>cs(t.parameters,e[i].parameters))}function Bc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function dK(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Mt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Mt&&(t=t.concat(e(r,i)))}),t}var Mf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>new bf,providedIn:"root"});let n=e;return n})(),bf=class{parse(e){let t=new nE(e);return new ul(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ff(e.root,!0)}`,i=mK(e.queryParams),r=typeof e.fragment=="string"?`#${pK(e.fragment)}`:"";return`${t}${i}${r}`}},hK=new bf;function X0(n){return n.segments.map(e=>hN(e)).join("/")}function ff(n,e){if(!n.hasChildren())return X0(n);if(e){let t=n.children[Mt]?ff(n.children[Mt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Mt&&i.push(`${r}:${ff(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=dK(n,(i,r)=>r===Mt?[ff(n.children[Mt],!1)]:[`${r}:${ff(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Mt]!=null?`${X0(n)}/${t[0]}`:`${X0(n)}/(${t.join("//")})`}}function dN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y0(n){return dN(n).replace(/%3B/gi,";")}function pK(n){return encodeURI(n)}function tE(n){return dN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function J0(n){return decodeURIComponent(n)}function XL(n){return J0(n.replace(/\+/g,"%20"))}function hN(n){return`${tE(n.path)}${fK(n.parameters)}`}function fK(n){return Object.entries(n).map(([e,t])=>`;${tE(e)}=${tE(t)}`).join("")}function mK(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Y0(t)}=${Y0(r)}`).join("&"):`${Y0(t)}=${Y0(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var gK=/^[^\/()?;#]+/;function YC(n){let e=n.match(gK);return e?e[0]:""}var _K=/^[^\/()?;=#]+/;function yK(n){let e=n.match(_K);return e?e[0]:""}var vK=/^[^=?&#]+/;function bK(n){let e=n.match(vK);return e?e[0]:""}var wK=/^[^&#]+/;function IK(n){let e=n.match(wK);return e?e[0]:""}var nE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mt]=new un(e,t)),i}parseSegment(){let e=YC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _e(4009,!1);return this.capture(e),new Vc(J0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=yK(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=YC(this.remaining);r&&(i=r,this.capture(i))}e[J0(t)]=J0(i)}parseQueryParam(e){let t=bK(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=IK(this.remaining);s&&(i=s,this.capture(i))}let r=XL(t),o=XL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=YC(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new _e(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Mt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Mt]:new un([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _e(4011,!1)}};function pN(n){return n.segments.length>0?new un([],{[Mt]:n}):n}function fN(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=fN(r);if(i===Mt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new un(n.segments,e);return CK(t)}function CK(n){if(n.numberOfChildren===1&&n.children[Mt]){let e=n.children[Mt];return new un(n.segments.concat(e.segments),e.children)}return n}function Pd(n){return n instanceof ul}function EK(n,e,t=null,i=null){let r=mN(n);return gN(r,e,t,i)}function mN(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new un(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=pN(i);return e??r}function gN(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return QC(r,r,r,t,i);let o=TK(e);if(o.toRoot())return QC(r,r,new un([],{}),t,i);let s=xK(o,r,n),a=s.processChildren?_f(s.segmentGroup,s.index,o.commands):yN(s.segmentGroup,s.index,o.commands);return QC(r,s.segmentGroup,a,t,i)}function ey(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function wf(n){return typeof n=="object"&&n!=null&&n.outlets}function QC(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=_N(n,e,t);let a=pN(fN(s));return new ul(a,o,r)}function _N(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=_N(o,e,t)}),new un(n.segments,i)}var ty=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ey(i[0]))throw new _e(4003,!1);let r=i.find(wf);if(r&&r!==sN(i))throw new _e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TK(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ty(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new ty(t,e,i)}var Rd=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function xK(n,e,t){if(n.isAbsolute)return new Rd(e,!0,0);if(!t)return new Rd(e,!1,NaN);if(t.parent===null)return new Rd(t,!0,0);let i=ey(n.commands[0])?0:1,r=t.segments.length-1+i;return SK(t,r,n.numberOfDoubleDots)}function SK(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new _e(4005,!1);r=i.segments.length}return new Rd(i,!1,r-o)}function DK(n){return wf(n[0])?n[0].outlets:{[Mt]:n}}function yN(n,e,t){if(n??=new un([],{}),n.segments.length===0&&n.hasChildren())return _f(n,e,t);let i=AK(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new un(n.segments.slice(0,i.pathIndex),{});return o.children[Mt]=new un(n.segments.slice(i.pathIndex),n.children),_f(o,0,r)}else return i.match&&r.length===0?new un(n.segments,{}):i.match&&!n.hasChildren()?iE(n,e,t):i.match?_f(n,0,r):iE(n,e,t)}function _f(n,e,t){if(t.length===0)return new un(n.segments,{});{let i=DK(t),r={};if(Object.keys(i).some(o=>o!==Mt)&&n.children[Mt]&&n.numberOfChildren===1&&n.children[Mt].segments.length===0){let o=_f(n.children[Mt],e,t);return new un(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=yN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new un(n.segments,r)}}function AK(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(wf(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!eN(l,c,s))return o;i+=2}else{if(!eN(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function iE(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(wf(o)){let l=MK(o.outlets);return new un(i,l)}if(r===0&&ey(t[0])){let l=n.segments[e];i.push(new Vc(l.path,JL(t[0]))),r++;continue}let s=wf(o)?o.outlets[Mt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&ey(a)?(i.push(new Vc(s,JL(a))),r+=2):(i.push(new Vc(s,{})),r++)}return new un(i,{})}function MK(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=iE(new un([],{}),0,i))}),e}function JL(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function eN(n,e,t){return n==t.path&&cs(e,t.parameters)}var yf="imperative",Ti=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ti||{}),co=class{constructor(e,t){this.id=e,this.url=t}},Fd=class extends co{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Ti.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$r=class extends co{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Ti.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jr||{}),ny=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ny||{}),dl=class extends co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Ti.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hl=class extends co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Ti.NavigationSkipped}},If=class extends co{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Ti.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iy=class extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ti.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rE=class extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ti.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oE=class extends co{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ti.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sE=class extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aE=class extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lE=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cE=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uE=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dE=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hE=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pE=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ry=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Ti.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cf=class{},Ef=class{constructor(e){this.url=e}};var fE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rf,this.attachRef=null}},Rf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new fE,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),oy=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=mE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=mE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=gE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gE(e,this._root).map(t=>t.value)}};function mE(n,e){if(n===e.value)return e;for(let t of e.children){let i=mE(n,t);if(i)return i}return null}function gE(n,e){if(n===e.value)return[e];for(let t of e.children){let i=gE(n,t);if(i.length)return i.unshift(e),i}return[]}var Hr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Md(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var sy=class extends oy{constructor(e,t){super(e),this.snapshot=t,xE(this,e)}toString(){return this.snapshot.toString()}};function vN(n){let e=RK(n),t=new hi([new Vc("",{})]),i=new hi({}),r=new hi({}),o=new hi({}),s=new hi(""),a=new uo(t,i,o,s,r,Mt,n,e.root);return a.snapshot=e.root,new sy(new Hr(a,[]),e)}function RK(n){let e={},t={},i={},r="",o=new Tf([],e,i,r,t,Mt,n,null,{});return new ay("",new Hr(o,[]))}var uo=class{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ht(c=>c[Af]))??Ye(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ht(e=>Od(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ht(e=>Od(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function TE(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ce(ce({},e.params),n.params),data:ce(ce({},e.data),n.data),resolve:ce(ce(ce(ce({},n.data),e.data),r?.data),n._resolvedData)}:i={params:ce({},n.params),data:ce({},n.data),resolve:ce(ce({},n.data),n._resolvedData??{})},r&&wN(r)&&(i.resolve[Af]=r.title),i}var Tf=class{get title(){return this.data?.[Af]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Od(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Od(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ay=class extends oy{constructor(e,t){super(t),this.url=e,xE(this,t)}toString(){return bN(this._root)}};function xE(n,e){e.value._routerState=n,e.children.forEach(t=>xE(n,t))}function bN(n){let e=n.children.length>0?` { ${n.children.map(bN).join(", ")} } `:"";return`${n.value}${e}`}function ZC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cs(e.params,t.params)||n.paramsSubject.next(t.params),sK(e.url,t.url)||n.urlSubject.next(t.url),cs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _E(n,e){let t=cs(n.params,e.params)&&uK(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||_E(n.parent,e.parent))}function wN(n){return typeof n.title=="string"||n.title===null}var kf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new Z,this.deactivateEvents=new Z,this.attachEvents=new Z,this.detachEvents=new Z,this.parentContexts=he(Rf),this.location=he(Ro),this.changeDetector=he(et),this.environmentInjector=he(Yi),this.inputBinder=he(dy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _e(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new _e(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new yE(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]});let n=e;return n})(),yE=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===uo?this.route:e===Rf?this.childContexts:this.parent.get(e,t)}},dy=new Ne(""),tN=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Bp([r.queryParams,r.params,r.data]).pipe(vr(([s,a,l],c)=>(l=ce(ce(ce({},s),a),l),c===0?Ye(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=yL(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function kK(n,e,t){let i=xf(n,e._root,t?t._root:void 0);return new sy(i,e)}function xf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=OK(n,e,t);return new Hr(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xf(n,a)),s}}let i=PK(e.value),r=e.children.map(o=>xf(n,o));return new Hr(i,r)}}function OK(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xf(n,i,r);return xf(n,i)})}function PK(n){return new uo(new hi(n.url),new hi(n.params),new hi(n.queryParams),new hi(n.fragment),new hi(n.data),n.outlet,n.component,n)}var IN="ngNavigationCancelingError";function CN(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Pd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=EN(!1,jr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function EN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[IN]=!0,t.cancellationCode=e,t}function FK(n){return TN(n)&&Pd(n.url)}function TN(n){return!!n&&n[IN]}var LK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=te({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(r,o){r&1&&G(0,"router-outlet")},dependencies:[kf],encapsulation:2});let n=e;return n})();function NK(n,e){return n.providers&&!n._injector&&(n._injector=y0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function SE(n){let e=n.children&&n.children.map(SE),t=e?lt(ce({},n),{children:e}):ce({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=LK),t}function us(n){return n.outlet||Mt}function VK(n,e){let t=n.filter(i=>us(i)===e);return t.push(...n.filter(i=>us(i)!==e)),t}function Of(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var BK=(n,e,t,i)=>ht(r=>(new vE(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),vE=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ZC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Md(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Md(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new pE(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dE(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(ZC(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ZC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Of(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},ly=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},kd=class{constructor(e,t){this.component=e,this.route=t}};function zK(n,e,t){let i=n._root,r=e?e._root:null;return mf(i,r,t,[i.value])}function UK(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Nd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!UO(n)?n:e.get(n):i}function mf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Md(e);return n.children.forEach(s=>{HK(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vf(a,t.getContext(s),r)),r}function HK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=jK(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ly(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mf(n,e,a?a.children:null,i,r):mf(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new kd(a.outlet.component,s))}else s&&vf(e,a,r),r.canActivateChecks.push(new ly(i)),o.component?mf(n,null,a?a.children:null,i,r):mf(n,null,t,i,r);return r}function jK(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Bc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Bc(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_E(n,e)||!cs(n.queryParams,e.queryParams);case"paramsChange":default:return!_E(n,e)}}function vf(n,e,t){let i=Md(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?vf(s,e.children.getContext(o),t):vf(s,null,t):vf(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new kd(e.outlet.component,r)):t.canDeactivateChecks.push(new kd(null,r)):t.canDeactivateChecks.push(new kd(null,r))}function Pf(n){return typeof n=="function"}function $K(n){return typeof n=="boolean"}function GK(n){return n&&Pf(n.canLoad)}function WK(n){return n&&Pf(n.canActivate)}function qK(n){return n&&Pf(n.canActivateChild)}function KK(n){return n&&Pf(n.canDeactivate)}function YK(n){return n&&Pf(n.canMatch)}function xN(n){return n instanceof qs||n?.name==="EmptyError"}var Q0=Symbol("INITIAL_VALUE");function Ld(){return vr(n=>Bp(n.map(e=>e.pipe(Ys(1),p_(Q0)))).pipe(ht(e=>{for(let t of e)if(t!==!0){if(t===Q0)return Q0;if(t===!1||t instanceof ul)return t}return!0}),pi(e=>e!==Q0),Ys(1)))}function QK(n,e){return ni(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ye(lt(ce({},t),{guardsResult:!0})):ZK(s,i,r,n).pipe(ni(a=>a&&$K(a)?XK(i,o,n,e):Ye(a)),ht(a=>lt(ce({},t),{guardsResult:a})))})}function ZK(n,e,t,i){return $t(n).pipe(ni(r=>iY(r.component,r.route,t,e,i)),es(r=>r!==!0,!0))}function XK(n,e,t,i){return $t(e).pipe(Ks(r=>ed(eY(r.route.parent,i),JK(r.route,i),nY(n,r.path,t),tY(n,r.route,t))),es(r=>r!==!0,!0))}function JK(n,e){return n!==null&&e&&e(new hE(n)),Ye(!0)}function eY(n,e){return n!==null&&e&&e(new uE(n)),Ye(!0)}function tY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ye(!0);let r=i.map(o=>u_(()=>{let s=Of(e)??t,a=Nd(o,s),l=WK(a)?a.canActivate(e,n):Mo(s,()=>a(e,n));return fl(l).pipe(es())}));return Ye(r).pipe(Ld())}function nY(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>UK(s)).filter(s=>s!==null).map(s=>u_(()=>{let a=s.guards.map(l=>{let c=Of(s.node)??t,u=Nd(l,c),h=qK(u)?u.canActivateChild(i,n):Mo(c,()=>u(i,n));return fl(h).pipe(es())});return Ye(a).pipe(Ld())}));return Ye(o).pipe(Ld())}function iY(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ye(!0);let s=o.map(a=>{let l=Of(e)??r,c=Nd(a,l),u=KK(c)?c.canDeactivate(n,e,t,i):Mo(l,()=>c(n,e,t,i));return fl(u).pipe(es())});return Ye(s).pipe(Ld())}function rY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ye(!0);let o=r.map(s=>{let a=Nd(s,n),l=GK(a)?a.canLoad(e,t):Mo(n,()=>a(e,t));return fl(l)});return Ye(o).pipe(Ld(),SN(i))}function SN(n){return $g(ii(e=>{if(Pd(e))throw CN(n,e)}),ht(e=>e===!0))}function oY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Ye(!0);let o=r.map(s=>{let a=Nd(s,n),l=YK(a)?a.canMatch(e,t):Mo(n,()=>a(e,t));return fl(l)});return Ye(o).pipe(Ld(),SN(i))}var Sf=class{constructor(e){this.segmentGroup=e||null}},cy=class extends Error{constructor(e){super(),this.urlTree=e}};function Ad(n){return Ju(new Sf(n))}function sY(n){return Ju(new _e(4e3,!1))}function aY(n){return Ju(EN(!1,jr.GuardRejected))}var bE=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ye(i);if(r.numberOfChildren>1||!r.children[Mt])return sY(e.redirectTo);r=r.children[Mt]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new cy(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new ul(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new un(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new _e(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},wE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lY(n,e,t,i,r){let o=DE(n,e,t);return o.matched?(i=NK(e,i),oY(i,e,t,r).pipe(ht(s=>s===!0?o:ce({},wE)))):Ye(o)}function DE(n,e,t){if(e.path==="**")return cY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ce({},wE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||oK)(t,n,e);if(!r)return ce({},wE);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?ce(ce({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function cY(n){return{matched:!0,parameters:n.length>0?sN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nN(n,e,t,i){return t.length>0&&hY(n,t,i)?{segmentGroup:new un(e,dY(i,new un(t,n.children))),slicedSegments:[]}:t.length===0&&pY(n,t,i)?{segmentGroup:new un(n.segments,uY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new un(n.segments,n.children),slicedSegments:t}}function uY(n,e,t,i){let r={};for(let o of t)if(hy(n,e,o)&&!i[us(o)]){let s=new un([],{});r[us(o)]=s}return ce(ce({},i),r)}function dY(n,e){let t={};t[Mt]=e;for(let i of n)if(i.path===""&&us(i)!==Mt){let r=new un([],{});t[us(i)]=r}return t}function hY(n,e,t){return t.some(i=>hy(n,e,i)&&us(i)!==Mt)}function pY(n,e,t){return t.some(i=>hy(n,e,i))}function hy(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function fY(n,e,t,i){return us(n)!==i&&(i===Mt||!hy(e,t,n))?!1:DE(e,n,t).matched}function mY(n,e,t){return e.length===0&&!n.children[t]}var IE=class{};function gY(n,e,t,i,r,o,s="emptyOnly"){return new CE(n,e,t,i,r,s,o).recognize()}var _Y=31,CE=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new bE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _e(4002,`'${e.segmentGroup}'`)}recognize(){let e=nN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ht(t=>{let i=new Tf([],Object.freeze({}),Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,{}),r=new Hr(i,t),o=new ay("",r),s=EK(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Mt).pipe(Za(i=>{if(i instanceof cy)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Sf?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=TE(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ht(o=>o instanceof Hr?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return $t(r).pipe(Ks(o=>{let s=i.children[o],a=VK(t,o);return this.processSegmentGroup(e,a,s,o)}),h_((o,s)=>(o.push(...s),o)),Xa(null),hw(),ni(o=>{if(o===null)return Ad(i);let s=DN(o);return yY(s),Ye(s)}))}processSegment(e,t,i,r,o,s){return $t(t).pipe(Ks(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Za(l=>{if(l instanceof Sf)return Ye(null);throw l}))),es(a=>!!a),Za(a=>{if(xN(a))return mY(i,r,o)?Ye(new IE):Ad(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return fY(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Ad(r):Ad(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=DE(t,r,o);if(!a)return Ad(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_Y&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(ni(p=>this.processSegment(e,i,t,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=lY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(vr(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(vr(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:p}=a,m=new Tf(u,p,Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,bY(i),us(i),i.component??i._loadedComponent??null,i,wY(i)),{segmentGroup:v,slicedSegments:w}=nN(t,u,h,l);if(w.length===0&&v.hasChildren())return this.processChildren(c,l,v).pipe(ht(S=>S===null?null:new Hr(m,S)));if(l.length===0&&w.length===0)return Ye(new Hr(m,[]));let I=us(i)===o;return this.processSegment(c,l,v,w,I?Mt:o,!0).pipe(ht(S=>new Hr(m,S instanceof Hr?[S]:[])))}))):Ad(t)))}getChildConfig(e,t,i){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):rY(e,t,i,this.urlSerializer).pipe(ni(r=>r?this.configLoader.loadChildren(e,t).pipe(ii(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):aY(t))):Ye({routes:[],injector:e})}};function yY(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}function vY(n){let e=n.value.routeConfig;return e&&e.path===""}function DN(n){let e=[],t=new Set;for(let i of n){if(!vY(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=DN(i.children);e.push(new Hr(i.value,r))}return e.filter(i=>!t.has(i))}function bY(n){return n.data||{}}function wY(n){return n.resolve||{}}function IY(n,e,t,i,r,o){return ni(s=>gY(n,e,t,i,s.extractedUrl,r,o).pipe(ht(({state:a,tree:l})=>lt(ce({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function CY(n,e){return ni(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ye(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of AN(l))s.add(c);let a=0;return $t(s).pipe(Ks(l=>o.has(l)?EY(l,i,n,e):(l.data=TE(l,l.parent,n).resolve,Ye(void 0))),ii(()=>a++),td(1),ni(l=>a===s.size?Ye(t):Lr))})}function AN(n){let e=n.children.map(t=>AN(t)).flat();return[n,...e]}function EY(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!wN(r)&&(o[Af]=r.title),TY(o,n,e,i).pipe(ht(s=>(n._resolvedData=s,n.data=TE(n,n.parent,t).resolve,null)))}function TY(n,e,t,i){let r=eE(n);if(r.length===0)return Ye({});let o={};return $t(r).pipe(ni(s=>xY(n[s],e,t,i).pipe(es(),ii(a=>{o[s]=a}))),td(1),dw(o),Za(s=>xN(s)?Lr:Ju(s)))}function xY(n,e,t,i){let r=Of(e)??i,o=Nd(n,r),s=o.resolve?o.resolve(e,t):Mo(r,()=>o(e,t));return fl(s)}function XC(n){return vr(e=>{let t=n(e);return t?$t(t).pipe(ht(()=>e)):Ye(e)})}var MN=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Mt);return r}getResolvedTitleForRoute(i){return i.data[Af]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(SY),providedIn:"root"});let n=e;return n})(),SY=(()=>{let e=class e extends MN{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Fe(QL))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ff=new Ne("",{providedIn:"root",factory:()=>({})}),Df=new Ne(""),AE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(E0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ye(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=fl(i.loadComponent()).pipe(ht(RN),ii(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),gc(()=>{this.componentLoaders.delete(i)})),o=new Ku(r,()=>new pn).pipe(qu());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=DY(r,this.compiler,i,this.onLoadEndListener).pipe(gc(()=>{this.childrenLoaders.delete(r)})),a=new Ku(s,()=>new pn).pipe(qu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function DY(n,e,t,i){return fl(n.loadChildren()).pipe(ht(RN),ni(r=>r instanceof Yp||Array.isArray(r)?Ye(r):$t(e.compileModuleAsync(r))),ht(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Df,[],{optional:!0,self:!0}).flat()),{routes:s.map(SE),injector:o}}))}function AY(n){return n&&typeof n=="object"&&"default"in n}function RN(n){return AY(n)?n.default:n}var ME=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(MY),providedIn:"root"});let n=e;return n})(),MY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),kN=new Ne(""),ON=new Ne("");function RY(n,e,t){let i=n.get(ON),r=n.get(ut);return n.get(Qe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),kY(n))),{onViewTransitionCreated:l}=i;return l&&Mo(n,()=>l({transition:a,from:e,to:t})),s})}function kY(n){return new Promise(e=>{_0(e,{injector:n})})}var RE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=he(AE),this.environmentInjector=he(Yi),this.urlSerializer=he(Mf),this.rootContexts=he(Rf),this.location=he(Sd),this.inputBindingEnabled=he(dy,{optional:!0})!==null,this.titleStrategy=he(MN),this.options=he(Ff,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=he(ME),this.createViewTransition=he(kN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null;let i=o=>this.events.next(new lE(o)),r=o=>this.events.next(new cE(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(lt(ce(ce({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new hi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(s=>s.id!==0),ht(s=>lt(ce({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vr(s=>{let a=!1,l=!1;return Ye(s).pipe(vr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",jr.SupersededByNewNavigation),Lr;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?lt(ce({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new hl(c.id,this.urlSerializer.serialize(c.rawUrl),p,ny.IgnoredSameUrlNavigation)),c.resolve(null),Lr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ye(c).pipe(vr(p=>{let m=this.transitions?.getValue();return this.events.next(new Fd(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Lr:Promise.resolve(p)}),IY(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ii(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=lt(ce({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new iy(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:w,extras:I}=c,S=new Fd(p,this.urlSerializer.serialize(m),v,w);this.events.next(S);let R=vN(this.rootComponentType).snapshot;return this.currentTransition=s=lt(ce({},c),{targetSnapshot:R,urlAfterRedirects:m,extras:lt(ce({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Ye(s)}else{let p="";return this.events.next(new hl(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ny.IgnoredByUrlHandlingStrategy)),c.resolve(null),Lr}}),ii(c=>{let u=new rE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ht(c=>(this.currentTransition=s=lt(ce({},c),{guards:zK(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),QK(this.environmentInjector,c=>this.events.next(c)),ii(c=>{if(s.guardsResult=c.guardsResult,Pd(c.guardsResult))throw CN(this.urlSerializer,c.guardsResult);let u=new oE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),pi(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",jr.GuardRejected),!1)),XC(c=>{if(c.guards.canActivateChecks.length)return Ye(c).pipe(ii(u=>{let h=new sE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),vr(u=>{let h=!1;return Ye(u).pipe(CY(this.paramsInheritanceStrategy,this.environmentInjector),ii({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",jr.NoDataFromResolver)}}))}),ii(u=>{let h=new aE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),XC(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ii(m=>{h.component=m}),ht(()=>{})));for(let m of h.children)p.push(...u(m));return p};return Bp(u(c.targetSnapshot.root)).pipe(Xa(null),Ys(1))}),XC(()=>this.afterPreactivation()),vr(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?$t(h).pipe(ht(()=>s)):Ye(s)}),ht(c=>{let u=kK(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=lt(ce({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ii(()=>{this.events.next(new Cf)}),BK(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ys(1),ii({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),pw(this.transitionAbortSubject.pipe(ii(c=>{throw c}))),gc(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",jr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Za(c=>{if(l=!0,TN(c))this.events.next(new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),FK(c)?this.events.next(new Ef(c.url)):s.resolve(!1);else{this.events.next(new If(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Lr}))}))}cancelNavigationTransition(i,r,o){let s=new dl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function OY(n){return n!==yf}var PY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(FY),providedIn:"root"});let n=e;return n})(),EE=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FY=(()=>{let e=class e extends EE{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Oe(e)))(o||e)}})(),e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),PN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:()=>he(LY),providedIn:"root"});let n=e;return n})(),LY=(()=>{let e=class e extends PN{constructor(){super(...arguments),this.location=he(Sd),this.urlSerializer=he(Mf),this.options=he(Ff,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=he(ME),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ul,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Fd)this.stateMemento=this.createStateMemento();else if(i instanceof hl)this.rawUrlTree=r.initialUrl;else if(i instanceof iy){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Cf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof dl&&(i.code===jr.GuardRejected||i.code===jr.NoDataFromResolver)?this.restoreHistory(r):i instanceof If?this.restoreHistory(r,!0):i instanceof $r&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=ce(ce({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=ce(ce({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Oe(e)))(o||e)}})(),e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gf||{});function FN(n,e){n.events.pipe(pi(t=>t instanceof $r||t instanceof dl||t instanceof If||t instanceof hl),ht(t=>t instanceof $r||t instanceof hl?gf.COMPLETE:(t instanceof dl?t.code===jr.Redirect||t.code===jr.SupersededByNewNavigation:!1)?gf.REDIRECTING:gf.FAILED),pi(t=>t!==gf.REDIRECTING),Ys(1)).subscribe(()=>{e()})}function NY(n){throw n}var VY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ei=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=he(I0),this.stateManager=he(PN),this.options=he(Ff,{optional:!0})||{},this.pendingTasks=he(kc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=he(RE),this.urlSerializer=he(Mf),this.location=he(Sd),this.urlHandlingStrategy=he(ME),this._events=new pn,this.errorHandler=this.options.errorHandler||NY,this.navigated=!1,this.routeReuseStrategy=he(PY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=he(Df,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!he(dy,{optional:!0}),this.eventsSubscription=new qn,this.isNgZoneEnabled=he(Qe)instanceof Qe&&Qe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof dl&&r.code!==jr.Redirect&&r.code!==jr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $r)this.navigated=!0;else if(r instanceof Ef){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||OY(o.source)};this.scheduleNavigation(a,yf,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}UY(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=ce({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(SE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=ce(ce({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=o?o.snapshot:this.routerState.snapshot.root;p=mN(m)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),p=this.currentUrlTree.root}return gN(p,i,h,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Pd(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,yf,null,r)}navigate(i,r={skipLocationChange:!1}){return zY(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=ce({},VY):r===!1?o=ce({},BY):o=r,Pd(i))return ZL(this.currentUrlTree,i,o);let s=this.parseUrl(i);return ZL(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((p,m)=>{l=p,c=m});let h=this.pendingTasks.add();return FN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function zY(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new _e(4008,!1)}function UY(n){return!(n instanceof Cf)&&!(n instanceof Ef)}var pl=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:aF(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(j(Ei),j(uo),QI("tabindex"),j(Gt),j(We),j(sa))},e.\u0275dir=Pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Q("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&N("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[P.HasDecoratorInputTransform,"preserveFragment","preserveFragment",W],skipLocationChange:[P.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",W],replaceUrl:[P.HasDecoratorInputTransform,"replaceUrl","replaceUrl",W],routerLink:"routerLink"},standalone:!0,features:[Xe,cn]});let n=e;return n})(),py=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,s,a){this.router=i,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Z,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof $r&&this.update()})}ngAfterContentInit(){Ye(this.links.changes,Ye(null)).pipe(Qa()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=$t(i).pipe(Qa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=HY(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?i.isActive(s,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(j(Ei),j(We),j(Gt),j(et),j(pl,8))},e.\u0275dir=Pt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&pt(s,pl,5),r&2){let a;me(a=ge())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cn]});let n=e;return n})();function HY(n){return!!n.paths}var uy=class{};var jY=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(pi(i=>i instanceof $r),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=y0(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return $t(o).pipe(Qa())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=Ye(null);let s=o.pipe(ni(a=>a===null?Ye(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return $t([s,a]).pipe(Qa())}else return s})}};e.\u0275fac=function(r){return new(r||e)(Fe(Ei),Fe(E0),Fe(Yi),Fe(uy),Fe(AE))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),LN=new Ne(""),$Y=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=he(Yi),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Fd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof $r?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof hl&&i.code===ny.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ry&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>$(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),_0(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new ry(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){wF()},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function NN(n,...e){return vd([{provide:Df,multi:!0,useValue:n},[],{provide:uo,useFactory:VN,deps:[Ei]},{provide:sf,multi:!0,useFactory:BN},e.map(t=>t.\u0275providers)])}function VN(n){return n.routerState.root}function Lf(n,e){return{\u0275kind:n,\u0275providers:e}}function BN(){let n=he(ri);return e=>{let t=n.get(Td);if(e!==t.components[0])return;let i=n.get(Ei),r=n.get(zN);n.get(kE)===1&&i.initialNavigation(),n.get(UN,null,Ft.Optional)?.setUpPreloading(),n.get(LN,null,Ft.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zN=new Ne("",{factory:()=>new pn}),kE=new Ne("",{providedIn:"root",factory:()=>1});function GY(){return Lf(2,[{provide:kE,useValue:0},{provide:C0,multi:!0,deps:[ri],useFactory:e=>{let t=e.get(SL,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Ei),o=e.get(zN);FN(r,()=>{i(!0)}),e.get(RE).afterPreactivation=()=>(i(!0),o.closed?Ye(void 0):o),r.initialNavigation()}))}}])}function WY(){return Lf(3,[{provide:C0,multi:!0,useFactory:()=>{let e=he(Ei);return()=>{e.setUpLocationChangeListener()}}},{provide:kE,useValue:2}])}var UN=new Ne("");function qY(n){return Lf(0,[{provide:UN,useExisting:jY},{provide:uy,useExisting:n}])}function KY(){return Lf(8,[tN,{provide:dy,useExisting:tN}])}function YY(n){let e=[{provide:kN,useValue:RY},{provide:ON,useValue:ce({skipNextTransition:!!n?.skipInitialTransition},n)}];return Lf(9,e)}var iN=new Ne("ROUTER_FORROOT_GUARD"),QY=[Sd,{provide:Mf,useClass:bf},Ei,Rf,{provide:uo,useFactory:VN,deps:[Ei]},AE,[]],ml=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[QY,[],{provide:Df,multi:!0,useValue:i},{provide:iN,useFactory:eQ,deps:[[Ei,new Vi,new Z_]]},{provide:Ff,useValue:r||{}},r?.useHash?XY():JY(),ZY(),r?.preloadingStrategy?qY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?tQ(r):[],r?.bindToComponentInputs?KY().\u0275providers:[],r?.enableViewTransitions?YY().\u0275providers:[],nQ()]}}static forChild(i){return{ngModule:e,providers:[{provide:Df,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(Fe(iN,8))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ce({});let n=e;return n})();function ZY(){return{provide:LN,useFactory:()=>{let n=he(OL),e=he(Qe),t=he(Ff),i=he(RE),r=he(Mf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new $Y(r,i,n,e,t)}}}function XY(){return{provide:sa,useClass:AL}}function JY(){return{provide:sa,useClass:FC}}function eQ(n){return"guarded"}function tQ(n){return[n.initialNavigation==="disabled"?WY().\u0275providers:[],n.initialNavigation==="enabledBlocking"?GY().\u0275providers:[]]}var rN=new Ne("");function nQ(){return[{provide:rN,useFactory:BN},{provide:sf,multi:!0,useExisting:rN}]}var fy=[{label:"Sabato Sera",option:"24-sera"},{label:"Domenica Mattina",option:"25-mattina"},{label:"Domenica Sera",option:"25-sera"},{label:"Luned\xEC Sera",option:"26-sera"}];var ee=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),o,s,a;if(i&&r){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var p=Object.keys(e);if(s=p.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,p[o]))return!1;for(o=s;o--!==0;)if(a=p[o],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let o=0,s=i.length;o<s;++o){if(r==null)return null;r=r[i[o]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let o=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>t){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let o=-1,s=this.isEmpty(e),a=this.isEmpty(t);return s&&a?o=0:s?o=r:a?o=-r:typeof e=="string"&&typeof t=="string"?o=e.localeCompare(t,i,{numeric:!0}):o=e<t?-1:e>t?1:0,o}static sort(e,t,i=1,r,o=1){let s=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=o===1?i:o),a*s}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return ce(ce({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),o,s,a;if(i&&r){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(e[o],t[o]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var p=Object.keys(e);if(s=p.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,p[o]))return!1;for(o=s;o--!==0;)if(a=p[o],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},HN=0;function wt(n="pn_id_"){return HN++,`${n}${HN}`}function iQ(){let n=[],e=(o,s)=>{let a=n.length>0?n[n.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+2;return n.push({key:o,value:l}),l},t=o=>{n=n.filter(s=>s.value!==o)},i=()=>n.length>0?n[n.length-1].value:0,r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,a)=>{s&&(s.style.zIndex=String(e(o,a)))},clear:o=>{o&&(t(r(o)),o.style.zIndex="")},getCurrent:()=>i()}}var xn=iQ();var jN=["*"];var xi=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),OE=(()=>{class n{static AND="and";static OR="or"}return n})(),Bd=(()=>{class n{filter(t,i,r,o,s){let a=[];if(t)for(let l of t)for(let c of i){let u=ee.resolveFieldData(l,c);if(this.filters[o](u,r,s)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let o=ee.removeAccents(i.toString()).toLocaleLowerCase(r);return ee.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let o=ee.removeAccents(i.toString()).toLocaleLowerCase(r);return ee.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(o)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let o=ee.removeAccents(i.toString()).toLocaleLowerCase(r);return ee.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(o)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let o=ee.removeAccents(i.toString()).toLocaleLowerCase(r),s=ee.removeAccents(t.toString()).toLocaleLowerCase(r);return s.indexOf(o,s.length-o.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:ee.removeAccents(t.toString()).toLocaleLowerCase(r)==ee.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:ee.removeAccents(t.toString()).toLocaleLowerCase(r)!=ee.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(ee.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gl=(()=>{class n{clickSource=new pn;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qt=(()=>{class n{ripple=!1;inputStyle=Xt("outlined");overlayOptions={};csp=Xt({nonce:void 0});filterMatchModeOptions={text:[xi.STARTS_WITH,xi.CONTAINS,xi.NOT_CONTAINS,xi.ENDS_WITH,xi.EQUALS,xi.NOT_EQUALS],numeric:[xi.EQUALS,xi.NOT_EQUALS,xi.LESS_THAN,xi.LESS_THAN_OR_EQUAL_TO,xi.GREATER_THAN,xi.GREATER_THAN_OR_EQUAL_TO],date:[xi.DATE_IS,xi.DATE_IS_NOT,xi.DATE_BEFORE,xi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new pn;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=ce(ce({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),my=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-header"]],standalone:!0,features:[ye],ngContentSelectors:jN,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2})}return n})(),gy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-footer"]],standalone:!0,features:[ye],ngContentSelectors:jN,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2})}return n})(),qe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(j(Ao))};static \u0275dir=Pt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[P.None,"pTemplate","name"]},standalone:!0})}return n})(),Ke=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({})}return n})(),Mn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var k=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)t.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)t.className+=" "+r[o]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(o=>this.removeClass(t,o)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==t)return r;i[o].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==t)return o;r[s].attributes&&r[s].attributes[i]&&r[s].nodeType==1&&o++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",o=!0){t&&i&&(o&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let o=R=>{if(R)return getComputedStyle(R).getPropertyValue("position")==="relative"?R:o(R.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),m=o(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u},v,w;l.top+a+s.height>h.height?(v=l.top-m.top-s.height,t.style.transformOrigin="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-m.top,t.style.transformOrigin="top");let I=l.left+s.width-h.width,S=l.left-m.left;s.width>h.width?w=(l.left-m.left)*-1:I>0?w=S-I:w=l.left-m.left,t.style.top=v+"px",t.style.left=w+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=o.height,a=o.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),h=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),v,w;u.top+l+s>m.height?(v=u.top+h-s,t.style.transformOrigin="bottom",v<0&&(v=h)):(v=l+u.top+h,t.style.transformOrigin="top"),u.left+a>m.width?w=Math.max(0,u.left+p+c-a):w=u.left+p,t.style.top=v+"px",t.style.left=w+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&s(h)&&i.push(h)}}a.nodeType!==9&&s(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=t.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,h=t.scrollTop,p=t.clientHeight,m=this.getOuterHeight(i);u<0?t.scrollTop=h+u:u+m>p&&(t.scrollTop=h+u-p+m)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,i){var r=1,o=50,s=i,a=o/s;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},o)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0],s=t.innerWidth||r.clientWidth||o.clientWidth,a=t.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var o=t.indexOf("rv:");return!0}var s=t.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),o=[];for(let s of r){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let o=getComputedStyle(r);if(this.isVisible(r)&&o.display!="none"&&o.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),o=0;if(r&&r.length>0){let s=r.indexOf(r[0].ownerDocument.activeElement);i?s==-1||s===0?o=r.length-1:o=s-1:s!=-1&&s!==r.length-1&&(o=s+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let o=document.createElement(t);return this.setAttributes(o,i),o.append(...r),o}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(o,s)=>{let a=t?.$attrs?.[o]?[t?.$attrs?.[o]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let h=Array.isArray(c)?r(o,c):Object.entries(c).map(([p,m])=>o==="style"&&(m||m===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?p:void 0);l=h.length?l.concat(h.filter(p=>!!p)):l}}return l},a)};Object.entries(i).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(t,s):(s=o==="class"?[...new Set(r("class",s))].join(" ").trim():o==="style"?r("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[o]=s),t.setAttribute(o,s))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Po=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=k.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var rQ=["*"],ze=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=ee.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[P.HasDecoratorInputTransform,"spin","spin",W],styleClass:"styleClass"},standalone:!0,features:[Xe,ye],ngContentSelectors:rQ,decls:1,vars:0,template:function(i,r){i&1&&(_n(),nn(0))},encapsulation:2,changeDetection:0})}return n})();var zd=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Ud=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ai=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,o,s,a){this.document=t,this.platformId=i,this.renderer=r,this.el=o,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Wt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(k.removeClass(i,"p-ink-active"),!k.getHeight(i)&&!k.getWidth(i)){let a=Math.max(k.getOuterWidth(this.el.nativeElement),k.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=k.getOffset(this.el.nativeElement),o=t.pageX-r.left+this.document.body.scrollTop-k.getWidth(i)/2,s=t.pageY-r.top+this.document.body.scrollLeft-k.getHeight(i)/2;this.renderer.setStyle(i,"top",s+"px"),this.renderer.setStyle(i,"left",o+"px"),k.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&k.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&k.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),k.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,k.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(Gt),j(We),j(Qe),j(qt,8))};static \u0275dir=Pt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),Si=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({})}return n})();var Hd=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:wt()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,o,s,a){this.platformId=t,this.el=i,this.zone=r,this.config=o,this.renderer=s,this.viewContainer=a}ngAfterViewInit(){Wt(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=ce(ce({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(k.hasClass(t.relatedTarget,"p-tooltip")||k.hasClass(t.relatedTarget,"p-tooltip-text")||k.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?k.appendChild(this.container,this.el.nativeElement):k.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),k.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?xn.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&xn.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof Ao){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+k.getWindowScrollLeft(),r=t.top+k.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+k.getOuterWidth(t),o=i.top+(k.getOuterHeight(t)-k.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?k.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-k.getOuterWidth(this.container),r=t.top+(k.getOuterHeight(this.el.nativeElement)-k.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=t.top-k.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=t.top+k.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=ce(ce({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return k.hasClass(t,"p-inputwrapper")?k.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,o=k.getOuterWidth(this.container),s=k.getOuterHeight(this.container),a=k.getViewport();return r+o>a.width||r<0||i<0||i+s>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Po(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):k.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&xn.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(j(Bt),j(We),j(Qe),j(qt),j(Gt),j(Ro))};static \u0275dir=Pt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&Q("keydown.escape",function(s){return r.onPressEscape(s)},!1,lF)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[P.HasDecoratorInputTransform,"escape","escape",W],showDelay:[P.HasDecoratorInputTransform,"showDelay","showDelay",Pe],hideDelay:[P.HasDecoratorInputTransform,"hideDelay","hideDelay",Pe],life:[P.HasDecoratorInputTransform,"life","life",Pe],positionTop:[P.HasDecoratorInputTransform,"positionTop","positionTop",Pe],positionLeft:[P.HasDecoratorInputTransform,"positionLeft","positionLeft",Pe],autoHide:[P.HasDecoratorInputTransform,"autoHide","autoHide",W],fitContent:[P.HasDecoratorInputTransform,"fitContent","fitContent",W],hideOnEscape:[P.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",W],content:[P.None,"pTooltip","content"],disabled:[P.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Xe,cn]})}return n})(),_l=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();var oQ=["content"],sQ=["navbar"],aQ=["inkbar"],lQ=["prevBtn"],cQ=["nextBtn"],uQ=["tabLink"],dQ=["tab"],hQ=n=>({"p-tabmenu p-component":!0,"p-tabmenu-scrollable":n}),pQ=(n,e,t)=>({"p-tabmenuitem":!0,"p-disabled":n,"p-highlight":e,"p-hidden":t}),fQ=(n,e)=>({$implicit:n,index:e}),mQ=()=>({exact:!1});function gQ(n,e){n&1&&G(0,"ChevronLeftIcon"),n&2&&N("aria-hidden",!0)}function _Q(n,e){}function yQ(n,e){n&1&&T(0,_Q,0,0,"ng-template")}function vQ(n,e){if(n&1){let t=ue();C(0,"button",17,3),Q("click",function(){F(t);let r=y();return L(r.navBackward())}),T(2,gQ,1,1,"ChevronLeftIcon",18)(3,yQ,1,0,null,19),E()}if(n&2){let t=y();g(2),f("ngIf",!t.previousIconTemplate),g(),f("ngTemplateOutlet",t.previousIconTemplate)}}function bQ(n,e){if(n&1&&G(0,"span",28),n&2){let t=y(2).$implicit;f("ngClass",t.icon)("ngStyle",t.iconStyle)}}function wQ(n,e){if(n&1&&(C(0,"span",29),oe(1),E()),n&2){let t=y(2).$implicit,i=y();g(),Ue(i.getItemProp(t,"label"))}}function IQ(n,e){if(n&1&&G(0,"span",30),n&2){let t=y(2).$implicit,i=y();f("innerHTML",i.getItemProp(t,"label"),Id)}}function CQ(n,e){if(n&1&&(C(0,"span",31),oe(1),E()),n&2){let t=y(2).$implicit,i=y();f("ngClass",t.badgeStyleClass),g(),Ue(i.getItemProp(t,"badge"))}}function EQ(n,e){if(n&1&&(C(0,"a",24,5),ie(2),T(3,bQ,1,2,"span",25)(4,wQ,2,1,"span",26)(5,IQ,1,1,"ng-template",null,6,Qt)(7,CQ,2,2,"span",27),re(),E()),n&2){let t=ct(6),i=y().$implicit,r=y();f("target",r.getItemProp(i,"target")),N("href",r.getItemProp(i,"url"),Rc)("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),g(3),f("ngIf",i.icon),g(),f("ngIf",i.escape!==!1)("ngIfElse",t),g(3),f("ngIf",i.badge)}}function TQ(n,e){if(n&1&&G(0,"span",28),n&2){let t=y(2).$implicit;f("ngClass",t.icon)("ngStyle",t.iconStyle),N("aria-hidden",!0)}}function xQ(n,e){if(n&1&&(C(0,"span",29),oe(1),E()),n&2){let t=y(2).$implicit,i=y();g(),Ue(i.getItemProp(t,"label"))}}function SQ(n,e){if(n&1&&G(0,"span",30),n&2){let t=y(2).$implicit,i=y();f("innerHTML",i.getItemProp(t,"label"),Id)}}function DQ(n,e){if(n&1&&(C(0,"span",31),oe(1),E()),n&2){let t=y(2).$implicit,i=y();f("ngClass",t.badgeStyleClass),g(),Ue(i.getItemProp(t,"badge"))}}function AQ(n,e){if(n&1&&(C(0,"a",32,5),ie(2),T(3,TQ,1,3,"span",25)(4,xQ,2,1,"span",26)(5,SQ,1,1,"ng-template",null,7,Qt)(7,DQ,2,2,"span",27),re(),E()),n&2){let t=ct(6),i=y().$implicit,r=y();f("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||Jt(19,mQ))("target",i.target)("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),N("id",r.getItemProp(i,"id"))("aria-disabled",r.disabled(i))("aria-label",r.getItemProp(i,"label"))("tabindex",r.disabled(i)?-1:0),g(3),f("ngIf",i.icon),g(),f("ngIf",i.escape!==!1)("ngIfElse",t),g(3),f("ngIf",i.badge)}}function MQ(n,e){n&1&&de(0)}function RQ(n,e){if(n&1){let t=ue();C(0,"li",20,4),Q("click",function(r){let o=F(t).$implicit,s=y();return L(s.itemClick(r,o))})("keydown",function(r){let o=F(t),s=o.$implicit,a=o.index,l=y();return L(l.onKeydownItem(r,a,s))})("focus",function(){let r=F(t).$implicit,o=y();return L(o.onMenuItemFocus(r))}),T(2,EQ,8,10,"a",21)(3,AQ,8,20,"a",22)(4,MQ,1,0,"ng-container",23),E()}if(n&2){let t=e.$implicit,i=e.index,r=y();ne(t.styleClass),f("ngStyle",t.style)("ngClass",En(11,pQ,r.getItemProp(t,"disabled"),r.isActive(t),t.visible===!1))("tooltipOptions",t.tooltipOptions),N("data-p-disabled",r.disabled(t))("data-p-highlight",r.focusedItemInfo()===t),g(2),f("ngIf",!t.routerLink&&!r.itemTemplate),g(),f("ngIf",t.routerLink&&!r.itemTemplate),g(),f("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Nt(15,fQ,t,i))}}function kQ(n,e){n&1&&G(0,"ChevronRightIcon"),n&2&&N("aria-hidden",!0)}function OQ(n,e){}function PQ(n,e){n&1&&T(0,OQ,0,0,"ng-template")}function FQ(n,e){if(n&1){let t=ue();C(0,"button",33,8),Q("click",function(){F(t);let r=y();return L(r.navForward())}),T(2,kQ,1,1,"ChevronRightIcon",18)(3,PQ,1,0,null,19),E()}if(n&2){let t=y();g(2),f("ngIf",!t.previousIconTemplate),g(),f("ngTemplateOutlet",t.nextIconTemplate)}}var $N=(()=>{class n{platformId;router;route;cd;set model(t){this._model=t,this._focusableItems=(this._model||[]).reduce((i,r)=>(i.push(r),i),[])}get model(){return this._model}set activeItem(t){this._activeItem=t,this.activeItemChange.emit(t),this.tabChanged=!0}get activeItem(){return this._activeItem}scrollable;popup;style;styleClass;ariaLabel;ariaLabelledBy;activeItemChange=new Z;content;navbar;inkbar;prevBtn;nextBtn;tabLink;tab;templates;itemTemplate;previousIconTemplate;nextIconTemplate;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;timerIdForAutoScroll=null;_focusableItems;_model;_activeItem;focusedItemInfo=Xt(null);get focusableItems(){return(!this._focusableItems||!this._focusableItems.length)&&(this._focusableItems=(this.model||[]).reduce((t,i)=>(t.push(i),t),[])),this._focusableItems}constructor(t,i,r,o){this.platformId=t,this.router=i,this.route=r,this.cd=o,this.router.events.pipe(pi(s=>s instanceof $r)).subscribe(s=>{this.cd.markForCheck()})}ngOnChanges(t){t.activeItem&&this.autoScrollForActiveItem()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Wt(this.platformId)&&(this.updateInkBar(),this.autoScrollForActiveItem(),this.initButtonState())}ngAfterViewChecked(){Wt(this.platformId)&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.clearAutoScrollHandler()}isActive(t){if(t.routerLink){let i=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(i,{relativeTo:this.route}).toString(),t.routerLinkActiveOptions?.exact??t.routerLinkActiveOptions??!1)}return t===this.activeItem}getItemProp(t,i){return t?ee.getItemValue(t[i]):void 0}visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1}disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled}onMenuItemFocus(t){this.focusedItemInfo.set(t)}itemClick(t,i){if(i.disabled){t.preventDefault();return}!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.activeItem=i,this.tabChanged=!0,this.cd.markForCheck()}onKeydownItem(t,i,r){let o=i,s={},a=this.tabLink.toArray(),l=this.tab.toArray();switch(t.code){case"ArrowRight":s=this.findNextItem(l,o),o=s.i;break;case"ArrowLeft":s=this.findPrevItem(l,o),o=s.i;break;case"End":s=this.findPrevItem(l,this.model.length),o=s.i,t.preventDefault();break;case"Home":s=this.findNextItem(l,-1),o=s.i,t.preventDefault();break;case"Space":case"Enter":this.itemClick(t,r);break;case"Tab":this.onTabKeyDown(a);break;default:break}a[o]&&a[i]&&(a[i].nativeElement.tabIndex="-1",a[o].nativeElement.tabIndex="0",a[o].nativeElement.focus()),this.cd.markForCheck()}onTabKeyDown(t){t.forEach(i=>{i.nativeElement.tabIndex=k.getAttribute(i.nativeElement.parentElement,"data-p-highlight")?"0":"-1"})}findNextItem(t,i){let r=i+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let o=t[r];return o?k.getAttribute(o.nativeElement,"data-p-disabled")?this.findNextItem(t,r):{nextItem:o.nativeElement,i:r}:null}findPrevItem(t,i){let r=i-1;if(r<0)return{prevItem:t[0],i:0};let o=t[r];return o?k.getAttribute(o.nativeElement,"data-p-disabled")?this.findPrevItem(t,r):{prevItem:o.nativeElement,i:r}:null}updateInkBar(){let t=k.findSingle(this.navbar?.nativeElement,"li.p-highlight");t&&(this.inkbar.nativeElement.style.width=k.getWidth(t)+"px",this.inkbar.nativeElement.style.left=k.getOffset(t).left-k.getOffset(this.navbar?.nativeElement).left+"px")}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+k.getWidth(i):t,0)}updateButtonState(){let t=this.content?.nativeElement,{scrollLeft:i,scrollWidth:r}=t,o=k.getWidth(t);this.backwardIsDisabled=i===0,this.forwardIsDisabled=parseInt(i)===r-o}updateScrollBar(t){let i=this.navbar?.nativeElement.children[t];i&&i&&typeof i.scrollIntoView=="function"&&i.scrollIntoView({block:"nearest",inline:"center"})}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}navBackward(){let t=this.content?.nativeElement,i=k.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft-i;t.scrollLeft=r<=0?0:r}navForward(){let t=this.content?.nativeElement,i=k.getWidth(t)-this.getVisibleButtonWidths(),r=t.scrollLeft+i,o=t.scrollWidth-i;t.scrollLeft=r>=o?o:r}autoScrollForActiveItem(){this.scrollable&&(this.clearAutoScrollHandler(),this.timerIdForAutoScroll=setTimeout(()=>{let t=this.model.findIndex(i=>this.isActive(i));t!==-1&&this.updateScrollBar(t)}))}clearAutoScrollHandler(){this.timerIdForAutoScroll&&(clearTimeout(this.timerIdForAutoScroll),this.timerIdForAutoScroll=null)}initButtonState(){this.scrollable&&Promise.resolve().then(()=>{this.updateButtonState(),this.cd.markForCheck()})}static \u0275fac=function(i){return new(i||n)(j(Bt),j(Ei),j(uo),j(et))};static \u0275cmp=te({type:n,selectors:[["p-tabMenu"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(oQ,5),Le(sQ,5),Le(aQ,5),Le(lQ,5),Le(cQ,5),Le(uQ,5),Le(dQ,5)),i&2){let o;me(o=ge())&&(r.content=o.first),me(o=ge())&&(r.navbar=o.first),me(o=ge())&&(r.inkbar=o.first),me(o=ge())&&(r.prevBtn=o.first),me(o=ge())&&(r.nextBtn=o.first),me(o=ge())&&(r.tabLink=o),me(o=ge())&&(r.tab=o)}},hostAttrs:[1,"p-element"],inputs:{model:"model",activeItem:"activeItem",scrollable:[P.HasDecoratorInputTransform,"scrollable","scrollable",W],popup:[P.HasDecoratorInputTransform,"popup","popup",W],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{activeItemChange:"activeItemChange"},features:[Xe,cn],decls:11,vars:11,consts:[["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["tab",""],["tabLink",""],["htmlLabel",""],["htmlRouteLabel",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabmenu-nav-container"],["class","p-tabmenu-nav-prev p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],[1,"p-tabmenu-nav-content",3,"scroll"],["role","menubar",1,"p-tabmenu-nav","p-reset"],["role","presentation","pTooltip","",3,"ngStyle","class","ngClass","tooltipOptions","click","keydown","focus",4,"ngFor","ngForOf"],["role","none",1,"p-tabmenu-ink-bar"],["class","p-tabmenu-nav-next p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-prev","p-tabmenu-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation","pTooltip","",3,"click","keydown","focus","ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"target",4,"ngIf"],["role","menuitem","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"target"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-next","p-tabmenu-nav-btn","p-link",3,"click"]],template:function(i,r){if(i&1){let o=ue();C(0,"div",9)(1,"div",10),T(2,vQ,4,2,"button",11),C(3,"div",12,0),Q("scroll",function(a){return F(o),L(r.onScroll(a))}),C(5,"ul",13,1),T(7,RQ,5,18,"li",14),G(8,"li",15,2),E()(),T(10,FQ,4,2,"button",16),E()()}i&2&&(ne(r.styleClass),f("ngClass",Ie(9,hQ,r.scrollable))("ngStyle",r.style),g(2),f("ngIf",r.scrollable&&!r.backwardIsDisabled),g(3),N("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel),g(2),f("ngForOf",r.focusableItems),g(3),f("ngIf",r.scrollable&&!r.forwardIsDisabled))},dependencies:()=>[ft,si,tt,At,mt,pl,py,ai,Hd,zd,Ud],styles:[`@layer primeng{.p-tabmenu-nav-container{position:relative}.p-tabmenu-scrollable .p-tabmenu-nav-container{overflow:hidden}.p-tabmenu-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabmenu-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabmenu-nav-prev{left:0}.p-tabmenu-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabmenu-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:nowrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1;white-space:nowrap}.p-tabmenu-ink-bar{display:none;z-index:1}.p-tabmenu-nav-content::-webkit-scrollbar{display:none}.p-tabmenuitem:not(.p-hidden){display:flex}}
`],encapsulation:2,changeDetection:0})}return n})(),GN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,ml,Ke,Si,_l,zd,Ud,ml,Ke,_l]})}return n})();var WN=(()=>{let e=class e{constructor(i){this.router=i,this.tabs=[]}ngOnInit(){this.tabs=fy,this.activeItem=this.whatActiveItem(),this.router.navigate([`home/${this.activeItem.option}`])}whatActiveItem(){let i=new Date;return i.getDate()<=24?this.tabs[0]:i.getDate()===25?i.getHours()<=18?this.tabs[1]:this.tabs[2]:this.tabs[3]}onActiveItemChange(i){this.activeItem=i,this.router.navigate([`home/${this.activeItem.option}`])}};e.\u0275fac=function(r){return new(r||e)(j(Ei))},e.\u0275cmp=te({type:e,selectors:[["app-tab"]],standalone:!0,features:[ye],decls:1,vars:2,consts:[[3,"activeItemChange","model","activeItem"]],template:function(r,o){r&1&&(C(0,"p-tabMenu",0),Q("activeItemChange",function(a){return o.onActiveItemChange(a)}),E()),r&2&&f("model",o.tabs)("activeItem",o.activeItem)},dependencies:[GN,$N],styles:["[_nghost-%COMP%]     .p-tabmenu-nav{display:flex;justify-content:center}@media (max-width: 630px){[_nghost-%COMP%]     .p-tabmenu-nav{justify-content:unset}}[_nghost-%COMP%]     .p-tabmenu .p-tabmenu-nav .p-tabmenuitem.p-highlight .p-menuitem-link{border-color:var(--verde);color:var(--verde)}"]});let n=e;return n})();var qN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=te({type:e,selectors:[["app-home"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,o){r&1&&G(0,"app-tab")(1,"router-outlet")},dependencies:[kf,WN]});let n=e;return n})();var n3=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(j(Gt),j(We))},e.\u0275dir=Pt({type:e});let n=e;return n})(),NQ=(()=>{let e=class e extends n3{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Oe(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,features:[Me]});let n=e;return n})(),Rn=new Ne("");var VQ={provide:Rn,useExisting:gn(()=>Wd),multi:!0};function BQ(){let n=oa()?oa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var zQ=new Ne(""),Wd=(()=>{let e=class e extends n3{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BQ())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(j(Gt),j(We),j(zQ,8))},e.\u0275dir=Pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Q("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[dn([VQ]),Me]});let n=e;return n})();function yl(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function i3(n){return n!=null&&typeof n.length=="number"}var BE=new Ne(""),zE=new Ne(""),UQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$d=class{static min(e){return HQ(e)}static max(e){return jQ(e)}static required(e){return $Q(e)}static requiredTrue(e){return GQ(e)}static email(e){return WQ(e)}static minLength(e){return qQ(e)}static maxLength(e){return KQ(e)}static pattern(e){return YQ(e)}static nullValidator(e){return r3(e)}static compose(e){return u3(e)}static composeAsync(e){return h3(e)}};function HQ(n){return e=>{if(yl(e.value)||yl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function jQ(n){return e=>{if(yl(e.value)||yl(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function $Q(n){return yl(n.value)?{required:!0}:null}function GQ(n){return n.value===!0?null:{required:!0}}function WQ(n){return yl(n.value)||UQ.test(n.value)?null:{email:!0}}function qQ(n){return e=>yl(e.value)||!i3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function KQ(n){return e=>i3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function YQ(n){if(!n)return r3;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(yl(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function r3(n){return null}function o3(n){return n!=null}function s3(n){return Lc(n)?$t(n):n}function a3(n){let e={};return n.forEach(t=>{e=t!=null?ce(ce({},e),t):e}),Object.keys(e).length===0?null:e}function l3(n,e){return e.map(t=>t(n))}function QQ(n){return!n.validate}function c3(n){return n.map(e=>QQ(e)?e:t=>e.validate(t))}function u3(n){if(!n)return null;let e=n.filter(o3);return e.length==0?null:function(t){return a3(l3(t,e))}}function d3(n){return n!=null?u3(c3(n)):null}function h3(n){if(!n)return null;let e=n.filter(o3);return e.length==0?null:function(t){let i=l3(t,e).map(s3);return lw(i).pipe(ht(a3))}}function p3(n){return n!=null?h3(c3(n)):null}function KN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function f3(n){return n._rawValidators}function m3(n){return n._rawAsyncValidators}function FE(n){return n?Array.isArray(n)?n:[n]:[]}function yy(n,e){return Array.isArray(n)?n.includes(e):n===e}function YN(n,e){let t=FE(e);return FE(n).forEach(r=>{yy(t,r)||t.push(r)}),t}function QN(n,e){return FE(e).filter(t=>!yy(n,t))}var vy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=d3(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=p3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},zc=class extends vy{get formDirective(){return null}get path(){return null}},Gr=class extends vy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},by=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GSe=lt(ce({},ZQ),{"[class.ng-submitted]":"isSubmitted"}),vl=(()=>{let e=class e extends by{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(j(Gr,2))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Vn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Me]});let n=e;return n})(),g3=(()=>{let e=class e extends by{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(j(zc,10))},e.\u0275dir=Pt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Vn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Me]});let n=e;return n})();var Nf="VALID",_y="INVALID",jd="PENDING",Vf="DISABLED";function UE(n){return(Ey(n)?n.validators:n)||null}function XQ(n){return Array.isArray(n)?d3(n):n||null}function HE(n,e){return(Ey(e)?e.asyncValidators:n)||null}function JQ(n){return Array.isArray(n)?p3(n):n||null}function Ey(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _3(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new _e(1e3,"");if(!i[t])throw new _e(1001,"")}function y3(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new _e(1002,"")})}var Gd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nf}get invalid(){return this.status===_y}get pending(){return this.status==jd}get disabled(){return this.status===Vf}get enabled(){return this.status!==Vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QN(e,this._rawAsyncValidators))}hasValidator(e){return yy(this._rawValidators,e)}hasAsyncValidator(e){return yy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jd,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vf,this.errors=null,this._forEachChild(i=>{i.disable(lt(ce({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(lt(ce({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nf,this._forEachChild(i=>{i.enable(lt(ce({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(lt(ce({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nf||this.status===jd)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vf:Nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jd,this._hasOwnPendingAsyncValidator=!0;let t=s3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Z,this.statusChanges=new Z}_calculateStatus(){return this._allControlsDisabled()?Vf:this.errors?_y:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jd)?jd:this._anyControlsHaveStatus(_y)?_y:Nf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ey(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=JQ(this._rawAsyncValidators)}},wy=class extends Gd{constructor(e,t,i){super(UE(t),HE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){y3(this,!0,e),Object.keys(e).forEach(i=>{_3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var LE=class extends wy{};var Ty=new Ne("CallSetDisabledState",{providedIn:"root",factory:()=>xy}),xy="always";function v3(n,e){return[...e.path,n]}function NE(n,e,t=xy){jE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),tZ(n,e),iZ(n,e),nZ(n,e),eZ(n,e)}function ZN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Cy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Iy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eZ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jE(n,e){let t=f3(n);e.validator!==null?n.setValidators(KN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=m3(n);e.asyncValidator!==null?n.setAsyncValidators(KN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Iy(e._rawValidators,r),Iy(e._rawAsyncValidators,r)}function Cy(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=f3(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=m3(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Iy(e._rawValidators,i),Iy(e._rawAsyncValidators,i),t}function tZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&b3(n,e)})}function nZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&b3(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function b3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iZ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function rZ(n,e){n==null,jE(n,e)}function oZ(n,e){return Cy(n,e)}function w3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function sZ(n){return Object.getPrototypeOf(n.constructor)===NQ}function aZ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function I3(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Wd?t=o:sZ(o)?i=o:r=o}),r||i||t||null}function lZ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Bf=class extends Gd{constructor(e=null,t,i){super(UE(t),HE(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ey(t)&&(t.nonNullable||t.initialValueIsDefault)&&(JN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var cZ=n=>n instanceof Bf;var uZ={provide:Gr,useExisting:gn(()=>Fo)},e3=Promise.resolve(),Fo=(()=>{let e=class e extends Gr{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Bf,this._registered=!1,this.name="",this.update=new Z,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=I3(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),w3(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){e3.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&W(r);e3.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?v3(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(j(zc,9),j(BE,10),j(zE,10),j(Rn,10),j(et,8),j(Ty,8))},e.\u0275dir=Pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[P.None,"disabled","isDisabled"],model:[P.None,"ngModel","model"],options:[P.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dn([uZ]),Me,cn]});let n=e;return n})(),C3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Pt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var E3=new Ne("");var dZ={provide:zc,useExisting:gn(()=>$E)},$E=(()=>{let e=class e extends zc{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Z,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return NE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){ZN(i.control||null,i,!1),lZ(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,aZ(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(ZN(r||null,i),cZ(o)&&(NE(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);rZ(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&oZ(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jE(this.form,this),this._oldForm&&Cy(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(j(BE,10),j(zE,10),j(Ty,8))},e.\u0275dir=Pt({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Q("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[P.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([dZ]),Me,cn]});let n=e;return n})();var hZ={provide:Gr,useExisting:gn(()=>GE)},GE=(()=>{let e=class e extends Gr{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Z,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=I3(this,s)}ngOnChanges(i){this._added||this._setUpControl(),w3(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return v3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(j(zc,13),j(BE,10),j(zE,10),j(Rn,10),j(E3,8))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""]],inputs:{name:[P.None,"formControlName","name"],isDisabled:[P.None,"disabled","isDisabled"],model:[P.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[dn([hZ]),Me,cn]});let n=e;return n})();var T3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ce({});let n=e;return n})(),VE=class extends Gd{constructor(e,t,i){super(UE(t),HE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){y3(this,!1,e),e.forEach((i,r)=>{_3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function t3(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var x3=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return t3(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new wy(o,s)}record(i,r=null){let o=this._reduceControls(i);return new LE(o,r)}control(i,r,o){let s={};return this.useNonNullable?(t3(r)?s=r:(s.validators=r,s.asyncValidators=o),new Bf(i,lt(ce({},s),{nonNullable:!0}))):new Bf(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new VE(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Bf)return i;if(i instanceof Gd)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var la=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ty,useValue:i.callSetDisabledState??xy}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ce({imports:[T3]});let n=e;return n})(),S3=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:E3,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ty,useValue:i.callSetDisabledState??xy}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ce({imports:[T3]});let n=e;return n})();var bl=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,o){this.el=t,this.ngModel=i,this.cd=r,this.config=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(j(We),j(Fo,8),j(et),j(qt))};static \u0275dir=Pt({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&Q("input",function(s){return r.onInput(s)}),i&2&&Vn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),ho=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();var pZ=["*"],D3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-floatLabel"]],ngContentSelectors:pZ,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,r){i&1&&(_n(),C(0,"span",0),nn(1),E())},encapsulation:2,changeDetection:0})}return n})(),A3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,ml,Ke]})}return n})();var gt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(gt||{}),ds="*";function Il(n,e){return{type:gt.Trigger,name:n,definitions:e,options:{}}}function Cr(n,e=null){return{type:gt.Animate,styles:e,timings:n}}function M3(n,e=null){return{type:gt.Sequence,steps:n,options:e}}function mi(n){return{type:gt.Style,styles:n,offset:null}}function R3(n,e,t){return{type:gt.State,name:n,styles:e,options:t}}function Er(n,e,t=null){return{type:gt.Transition,expr:n,animation:e,options:t}}function Kd(n,e=null){return{type:gt.Reference,animation:n,options:e}}function Yd(n,e=null){return{type:gt.AnimateRef,animation:n,options:e}}var wl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},zf=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Dy="!";var WE=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var qE=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var Qn=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Di=(()=>{class n{autofocus=!1;focused=!1;platformId=he(Bt);document=he(ut);host=he(We);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Wt(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=k.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Pt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W]},standalone:!0,features:[Xe]})}return n})(),Zi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({})}return n})();var mZ=["input"],gZ=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),_Z=n=>({value:"visible",params:n}),yZ=n=>({width:n});function vZ(n,e){if(n&1){let t=ue();C(0,"TimesIcon",10),Q("click",function(){F(t);let r=y(2);return L(r.clear())}),E()}n&2&&(f("styleClass","p-password-clear-icon"),N("data-pc-section","clearIcon"))}function bZ(n,e){}function wZ(n,e){n&1&&T(0,bZ,0,0,"ng-template")}function IZ(n,e){if(n&1){let t=ue();ie(0),T(1,vZ,1,2,"TimesIcon",7),C(2,"span",8),Q("click",function(){F(t);let r=y();return L(r.clear())}),T(3,wZ,1,0,null,9),E(),re()}if(n&2){let t=y();g(),f("ngIf",!t.clearIconTemplate),g(),N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function CZ(n,e){if(n&1){let t=ue();C(0,"EyeSlashIcon",12),Q("click",function(){F(t);let r=y(3);return L(r.onMaskToggle())}),E()}n&2&&N("data-pc-section","hideIcon")}function EZ(n,e){}function TZ(n,e){n&1&&T(0,EZ,0,0,"ng-template")}function xZ(n,e){if(n&1){let t=ue();C(0,"span",12),Q("click",function(){F(t);let r=y(3);return L(r.onMaskToggle())}),T(1,TZ,1,0,null,9),E()}if(n&2){let t=y(3);g(),f("ngTemplateOutlet",t.hideIconTemplate)}}function SZ(n,e){if(n&1&&(ie(0),T(1,CZ,1,1,"EyeSlashIcon",11)(2,xZ,2,1,"span",11),re()),n&2){let t=y(2);g(),f("ngIf",!t.hideIconTemplate),g(),f("ngIf",t.hideIconTemplate)}}function DZ(n,e){if(n&1){let t=ue();C(0,"EyeIcon",12),Q("click",function(){F(t);let r=y(3);return L(r.onMaskToggle())}),E()}n&2&&N("data-pc-section","showIcon")}function AZ(n,e){}function MZ(n,e){n&1&&T(0,AZ,0,0,"ng-template")}function RZ(n,e){if(n&1){let t=ue();C(0,"span",12),Q("click",function(){F(t);let r=y(3);return L(r.onMaskToggle())}),T(1,MZ,1,0,null,9),E()}if(n&2){let t=y(3);g(),f("ngTemplateOutlet",t.showIconTemplate)}}function kZ(n,e){if(n&1&&(ie(0),T(1,DZ,1,1,"EyeIcon",11)(2,RZ,2,1,"span",11),re()),n&2){let t=y(2);g(),f("ngIf",!t.showIconTemplate),g(),f("ngIf",t.showIconTemplate)}}function OZ(n,e){if(n&1&&(ie(0),T(1,SZ,3,2,"ng-container",5)(2,kZ,3,2,"ng-container",5),re()),n&2){let t=y();g(),f("ngIf",t.unmasked),g(),f("ngIf",!t.unmasked)}}function PZ(n,e){n&1&&de(0)}function FZ(n,e){n&1&&de(0)}function LZ(n,e){if(n&1&&(ie(0),T(1,FZ,1,0,"ng-container",9),re()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.contentTemplate)}}function NZ(n,e){if(n&1&&(C(0,"div",15),G(1,"div",3),zi(2,"mapper"),E(),C(3,"div",16),oe(4),E()),n&2){let t=y(2);N("data-pc-section","meter"),g(),f("ngClass",Ui(2,6,t.meter,t.strengthClass))("ngStyle",Ie(9,yZ,t.meter?t.meter.width:"")),N("data-pc-section","meterLabel"),g(2),N("data-pc-section","info"),g(),Ue(t.infoText)}}function VZ(n,e){n&1&&de(0)}function BZ(n,e){if(n&1){let t=ue();C(0,"div",13,1),Q("click",function(r){F(t);let o=y();return L(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){F(t);let o=y();return L(o.onAnimationStart(r))})("@overlayAnimation.done",function(r){F(t);let o=y();return L(o.onAnimationEnd(r))}),T(2,PZ,1,0,"ng-container",9)(3,LZ,2,1,"ng-container",14)(4,NZ,5,11,"ng-template",null,2,Qt)(6,VZ,1,0,"ng-container",9),E()}if(n&2){let t=ct(5),i=y();f("ngClass","p-password-panel p-component")("@overlayAnimation",Ie(10,_Z,Nt(7,gZ,i.showTransitionOptions,i.hideTransitionOptions))),N("data-pc-section","panel"),g(2),f("ngTemplateOutlet",i.headerTemplate),g(),f("ngIf",i.contentTemplate)("ngIfElse",t),g(3),f("ngTemplateOutlet",i.footerTemplate)}}var zZ=(()=>{class n{transform(t,i,...r){return i(t,...r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=J_({name:"mapper",type:n,pure:!0})}return n})(),UZ={provide:Rn,useExisting:gn(()=>KE),multi:!0},KE=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new Z;onBlur=new Z;onClear=new Z;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(t,i,r,o,s,a,l){this.document=t,this.platformId=i,this.renderer=r,this.cd=o,this.config=s,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,xn.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(t){switch(t.toState){case"void":xn.clear(t.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=k.getOuterWidth(this.input.nativeElement)+"px",k.absolutePosition(this.overlay,this.input.nativeElement)):k.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyUp(t){if(this.feedback){let i=t.target.value;if(this.updateUI(i),t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(t){let i=null,r=null;switch(this.testStrength(t)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null;break}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}writeValue(t){t===void 0?this.value=null:this.value=t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){Wt(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Po(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(Wt(this.platformId)&&!this.resizeListener){let t=this.document.defaultView;this.resizeListener=this.renderer.listen(t,"resize",()=>{this.overlayVisible&&!k.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Mn.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Mn.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Mn.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Mn.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(xn.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(Gt),j(et),j(qt),j(We),j(gl))};static \u0275cmp=te({type:n,selectors:[["p-password"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&Le(mZ,5),i&2){let o;me(o=ge())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(i,r){i&2&&Vn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[P.HasDecoratorInputTransform,"maxLength","maxLength",Pe],strongLabel:"strongLabel",inputId:"inputId",feedback:[P.HasDecoratorInputTransform,"feedback","feedback",W],appendTo:"appendTo",toggleMask:[P.HasDecoratorInputTransform,"toggleMask","toggleMask",W],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[P.HasDecoratorInputTransform,"showClear","showClear",W],autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[dn([UZ]),Xe],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(i,r){if(i&1){let o=ue();C(0,"div",3),zi(1,"mapper"),C(2,"input",4,0),zi(4,"mapper"),zi(5,"mapper"),Q("input",function(a){return F(o),L(r.onInput(a))})("focus",function(a){return F(o),L(r.onInputFocus(a))})("blur",function(a){return F(o),L(r.onInputBlur(a))})("keyup",function(a){return F(o),L(r.onKeyUp(a))}),E(),T(6,IZ,4,3,"ng-container",5)(7,OZ,3,2,"ng-container",5)(8,BZ,7,12,"div",6),E()}i&2&&(ne(r.styleClass),f("ngClass",Ui(1,26,r.toggleMask,r.containerClass))("ngStyle",r.style),N("data-pc-name","password")("data-pc-section","root"),g(2),ne(r.inputStyleClass),f("ngClass",Ui(4,29,r.disabled,r.inputFieldClass))("disabled",r.disabled)("ngStyle",r.inputStyle)("value",r.value)("variant",r.variant)("autofocus",r.autofocus),N("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",Ui(5,32,r.unmasked,r.inputType))("placeholder",r.placeholder)("autocomplete",r.autocomplete)("maxlength",r.maxLength)("data-pc-section","input"),g(4),f("ngIf",r.showClear&&r.value!=null),g(),f("ngIf",r.toggleMask),g(),f("ngIf",r.overlayVisible))},dependencies:()=>[ft,tt,At,mt,bl,Di,Qn,qE,WE,zZ],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Il("overlayAnimation",[Er(":enter",[mi({opacity:0,transform:"scaleY(0.8)"}),Cr("{{showTransitionParams}}")]),Er(":leave",[Cr("{{hideTransitionParams}}",mi({opacity:0}))])])]},changeDetection:0})}return n})(),k3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,ho,Zi,Qn,qE,WE,Ke]})}return n})();var El=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var jZ=["*"],O3=n=>({class:n});function $Z(n,e){n&1&&de(0)}function GZ(n,e){if(n&1&&G(0,"span",8),n&2){let t=y(3);f("ngClass",t.iconClass()),N("aria-hidden",!0)("data-pc-section","loadingicon")}}function WZ(n,e){if(n&1&&G(0,"SpinnerIcon",9),n&2){let t=y(3);f("styleClass",t.spinnerIconClass())("spin",!0),N("aria-hidden",!0)("data-pc-section","loadingicon")}}function qZ(n,e){if(n&1&&(ie(0),T(1,GZ,1,3,"span",6)(2,WZ,1,4,"SpinnerIcon",7),re()),n&2){let t=y(2);g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function KZ(n,e){}function YZ(n,e){if(n&1&&T(0,KZ,0,0,"ng-template",10),n&2){let t=y(2);f("ngIf",t.loadingIconTemplate)}}function QZ(n,e){if(n&1&&(ie(0),T(1,qZ,3,2,"ng-container",2)(2,YZ,1,1,null,5),re()),n&2){let t=y();g(),f("ngIf",!t.loadingIconTemplate),g(),f("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Ie(3,O3,t.iconClass()))}}function ZZ(n,e){if(n&1&&G(0,"span",8),n&2){let t=y(2);f("ngClass",t.iconClass()),N("data-pc-section","icon")}}function XZ(n,e){}function JZ(n,e){if(n&1&&T(0,XZ,0,0,"ng-template",10),n&2){let t=y(2);f("ngIf",!t.icon&&t.iconTemplate)}}function eX(n,e){if(n&1&&(ie(0),T(1,ZZ,1,2,"span",6)(2,JZ,1,1,null,5),re()),n&2){let t=y();g(),f("ngIf",t.icon&&!t.iconTemplate),g(),f("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Ie(3,O3,t.iconClass()))}}function tX(n,e){if(n&1&&(C(0,"span",11),oe(1),E()),n&2){let t=y();N("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),g(),Ue(t.label)}}function nX(n,e){if(n&1&&(C(0,"span",8),oe(1),E()),n&2){let t=y();ne(t.badgeClass),f("ngClass",t.badgeStyleClass()),N("data-pc-section","badge"),g(),Ue(t.badge)}}var Tl={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},Qd=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Tl);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){k.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[Tl.button,Tl.component];return this.icon&&!this.label&&ee.isEmpty(this.htmlElement.textContent)&&t.push(Tl.iconOnly),this.loading&&(t.push(Tl.disabled,Tl.loading),!this.icon&&this.label&&t.push(Tl.labelOnly),this.icon&&!this.label&&!ee.isEmpty(this.htmlElement.textContent)&&t.push(Tl.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!k.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!k.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&k.addClass(i,r);let o=this.getIconClass();o&&k.addMultipleClasses(i,o),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=k.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=k.findSingle(this.htmlElement,".p-button-icon"),i=k.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(j(We),j(ut))};static \u0275dir=Pt({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[P.HasDecoratorInputTransform,"raised","raised",W],rounded:[P.HasDecoratorInputTransform,"rounded","rounded",W],text:[P.HasDecoratorInputTransform,"text","text",W],outlined:[P.HasDecoratorInputTransform,"outlined","outlined",W],size:"size",plain:[P.HasDecoratorInputTransform,"plain","plain",W]},standalone:!0,features:[Xe]})}return n})(),Uc=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Z;onFocus=new Z;onBlur=new Z;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(j(We))};static \u0275cmp=te({type:n,selectors:[["p-button"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Vn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],loading:[P.HasDecoratorInputTransform,"loading","loading",W],loadingIcon:"loadingIcon",raised:[P.HasDecoratorInputTransform,"raised","raised",W],rounded:[P.HasDecoratorInputTransform,"rounded","rounded",W],text:[P.HasDecoratorInputTransform,"text","text",W],plain:[P.HasDecoratorInputTransform,"plain","plain",W],severity:"severity",outlined:[P.HasDecoratorInputTransform,"outlined","outlined",W],link:[P.HasDecoratorInputTransform,"link","link",W],tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Xe,ye],ngContentSelectors:jZ,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(_n(),C(0,"button",0),Q("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),nn(1),T(2,$Z,1,0,"ng-container",1)(3,QZ,3,5,"ng-container",2)(4,eX,3,5,"ng-container",2)(5,tX,2,3,"span",3)(6,nX,2,5,"span",4),E()),i&2&&(f("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),N("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),g(2),f("ngTemplateOutlet",r.contentTemplate),g(),f("ngIf",r.loading),g(),f("ngIf",!r.loading),g(),f("ngIf",!r.contentTemplate&&r.label),g(),f("ngIf",!r.contentTemplate&&r.badge))},dependencies:[tt,At,mt,ft,ai,Di,El],encapsulation:2,changeDetection:0})}return n})(),fr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[Uc,Ke]})}return n})();var F3=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},iX=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},L3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=o>>2,h=(o&3)<<4|a>>4,p=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(p=64)),i.push(t[u],t[h],t[p],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(F3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iX(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||c==null||h==null)throw new QE;let p=o<<2|a>>4;if(i.push(p),c!==64){let m=a<<4&240|c>>2;if(i.push(m),h!==64){let v=c<<6&192|h;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},QE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rX=function(n){let e=F3(n);return L3.encodeByteArray(e,!0)},Uf=function(n){return rX(n).replace(/\./g,"")},XE=function(n){try{return L3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sX=()=>oX().__FIREBASE_DEFAULTS__,aX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lX=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&XE(n[1]);return e&&JSON.parse(e)},My=()=>{try{return sX()||aX()||lX()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JE=n=>{var e,t;return(t=(e=My())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},N3=n=>{let e=JE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eT=()=>{var n;return(n=My())===null||n===void 0?void 0:n.config},tT=n=>{var e;return(e=My())===null||e===void 0?void 0:e[`_${n}`]};var Ay=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function V3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uf(JSON.stringify(t)),Uf(JSON.stringify(s)),""].join(".")}function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function cX(){var n;let e=(n=My())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z3(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function U3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H3(){let n=gi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function j3(){return!cX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function $3(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var uX="FirebaseError",Wr=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uX,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}},ca=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?dX(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Wr(r,a,i)}};function dX(n,e){return n.replace(hX,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var hX=/\{\$([^}]+)}/g;function G3(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hc(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(P3(o)&&P3(s)){if(!Hc(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function P3(n){return n!==null&&typeof n=="object"}function Hf(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xd(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Jd(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function W3(n,e){let t=new ZE(n,e);return t.subscribe.bind(t)}var ZE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");pX(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=YE),r.error===void 0&&(r.error=YE),r.complete===void 0&&(r.complete=YE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pX(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function YE(){}var n2e=4*60*60*1e3;function Xi(n){return n&&n._delegate?n._delegate:n}var po=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jc="[DEFAULT]";var iT=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Ay;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mX(e))try{this.getOrInitializeService({instanceIdentifier:jc})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=jc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return $(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jc){return this.instances.has(e)}getOptions(e=jc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fX(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=jc){return this.component?this.component.multipleInstances?e:jc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fX(n){return n===jc?void 0:n}function mX(n){return n.instantiationMode==="EAGER"}var Ry=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new iT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var gX=[],Ut=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ut||{}),_X={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},yX=Ut.INFO,vX={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},bX=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=vX[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xl=class{constructor(e){this.name=e,this._logLevel=yX,this._logHandler=bX,this._userLogHandler=null,gX.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_X[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}};var wX=(n,e)=>e.some(t=>n instanceof t),q3,K3;function IX(){return q3||(q3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CX(){return K3||(K3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Y3=new WeakMap,oT=new WeakMap,Q3=new WeakMap,rT=new WeakMap,aT=new WeakMap;function EX(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(hs(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Y3.set(t,n)}).catch(()=>{}),aT.set(e,n),e}function TX(n){if(oT.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});oT.set(n,e)}var sT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Q3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Z3(n){sT=n(sT)}function xX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(ky(this),e,...t);return Q3.set(i,e.sort?e.sort():[e]),hs(i)}:CX().includes(n)?function(...e){return n.apply(ky(this),e),hs(Y3.get(this))}:function(...e){return hs(n.apply(ky(this),e))}}function SX(n){return typeof n=="function"?xX(n):(n instanceof IDBTransaction&&TX(n),wX(n,IX())?new Proxy(n,sT):n)}function hs(n){if(n instanceof IDBRequest)return EX(n);if(rT.has(n))return rT.get(n);let e=SX(n);return e!==n&&(rT.set(n,e),aT.set(e,n)),e}var ky=n=>aT.get(n);function J3(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=hs(s);return i&&s.addEventListener("upgradeneeded",l=>{i(hs(s.result),l.oldVersion,l.newVersion,hs(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var DX=["get","getKey","getAll","getAllKeys","count"],AX=["put","add","delete","clear"],lT=new Map;function X3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lT.get(e))return lT.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=AX.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||DX.includes(t)))return;let o=function(s,...a){return $(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return lT.set(e,o),o}Z3(n=>lt(ce({},n),{get:(e,t,i)=>X3(e,t)||n.get(e,t,i),has:(e,t)=>!!X3(e,t)||n.has(e,t)}));var uT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MX(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function MX(n){let e=n.getComponent();return e?.type==="VERSION"}var dT="@firebase/app",eV="0.10.8";var $c=new xl("@firebase/app"),RX="@firebase/app-compat",kX="@firebase/analytics-compat",OX="@firebase/analytics",PX="@firebase/app-check-compat",FX="@firebase/app-check",LX="@firebase/auth",NX="@firebase/auth-compat",VX="@firebase/database",BX="@firebase/database-compat",zX="@firebase/functions",UX="@firebase/functions-compat",HX="@firebase/installations",jX="@firebase/installations-compat",$X="@firebase/messaging",GX="@firebase/messaging-compat",WX="@firebase/performance",qX="@firebase/performance-compat",KX="@firebase/remote-config",YX="@firebase/remote-config-compat",QX="@firebase/storage",ZX="@firebase/storage-compat",XX="@firebase/firestore",JX="@firebase/vertexai-preview",eJ="@firebase/firestore-compat",tJ="firebase",nJ="10.12.5";var hT="[DEFAULT]",iJ={[dT]:"fire-core",[RX]:"fire-core-compat",[OX]:"fire-analytics",[kX]:"fire-analytics-compat",[FX]:"fire-app-check",[PX]:"fire-app-check-compat",[LX]:"fire-auth",[NX]:"fire-auth-compat",[VX]:"fire-rtdb",[BX]:"fire-rtdb-compat",[zX]:"fire-fn",[UX]:"fire-fn-compat",[HX]:"fire-iid",[jX]:"fire-iid-compat",[$X]:"fire-fcm",[GX]:"fire-fcm-compat",[WX]:"fire-perf",[qX]:"fire-perf-compat",[KX]:"fire-rc",[YX]:"fire-rc-compat",[QX]:"fire-gcs",[ZX]:"fire-gcs-compat",[XX]:"fire-fst",[eJ]:"fire-fst-compat",[JX]:"fire-vertex","fire-js":"fire-js",[tJ]:"fire-js-all"};var jf=new Map,rJ=new Map,pT=new Map;function tV(n,e){try{n.container.addComponent(e)}catch(t){$c.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dl(n){let e=n.name;if(pT.has(e))return $c.debug(`There were multiple attempts to register component ${e}.`),!1;pT.set(e,n);for(let t of jf.values())tV(t,n);for(let t of rJ.values())tV(t,n);return!0}function Gf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ps(n){return n.settings!==void 0}var oJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new ca("app","Firebase",oJ);var fT=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}};var Al=nJ;function _T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:hT,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Sl.create("bad-app-name",{appName:String(r)});if(t||(t=eT()),!t)throw Sl.create("no-options");let o=jf.get(r);if(o){if(Hc(t,o.options)&&Hc(i,o.config))return o;throw Sl.create("duplicate-app",{appName:r})}let s=new Ry(r);for(let l of pT.values())s.addComponent(l);let a=new fT(t,i,s);return jf.set(r,a),a}function eh(n=hT){let e=jf.get(n);if(!e&&n===hT&&eT())return _T();if(!e)throw Sl.create("no-app",{appName:n});return e}function Oy(){return Array.from(jf.values())}function _i(n,e,t){var i;let r=(i=iJ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$c.warn(a.join(" "));return}Dl(new po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var sJ="firebase-heartbeat-database",aJ=1,$f="firebase-heartbeat-store",cT=null;function oV(){return cT||(cT=J3(sJ,aJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($f)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sl.create("idb-open",{originalErrorMessage:n.message})})),cT}function lJ(n){return $(this,null,function*(){try{let t=(yield oV()).transaction($f),i=yield t.objectStore($f).get(sV(n));return yield t.done,i}catch(e){if(e instanceof Wr)$c.warn(e.message);else{let t=Sl.create("idb-get",{originalErrorMessage:e?.message});$c.warn(t.message)}}})}function nV(n,e){return $(this,null,function*(){try{let i=(yield oV()).transaction($f,"readwrite");yield i.objectStore($f).put(e,sV(n)),yield i.done}catch(t){if(t instanceof Wr)$c.warn(t.message);else{let i=Sl.create("idb-set",{originalErrorMessage:t?.message});$c.warn(i.message)}}})}function sV(n){return`${n.name}!${n.options.appId}`}var cJ=1024,uJ=30*24*60*60*1e3,mT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new gT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return $(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iV();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=uJ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return $(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=iV(),{heartbeatsToSend:i,unsentEntries:r}=dJ(this._heartbeatsCache.heartbeats),o=Uf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function iV(){return new Date().toISOString().substring(0,10)}function dJ(n,e=cJ){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),rV(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),rV(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var gT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return $(this,null,function*(){return nT()?$3().then(()=>!0).catch(()=>!1):!1})}read(){return $(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lJ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return $(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return $(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function rV(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function hJ(n){Dl(new po("platform-logger",e=>new uT(e),"PRIVATE")),Dl(new po("heartbeat",e=>new mT(e),"PRIVATE")),_i(dT,eV,n),_i(dT,eV,"esm2017"),_i("fire-js","")}hJ("");var pJ="firebase",fJ="10.12.5";_i(pJ,fJ,"app");var Wc=new Zs("ANGULARFIRE2_VERSION");function Fy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wf=(n,e)=>{let t=e?[e]:Oy(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},nh=class{constructor(){return Wf(mJ)}},mJ="app-check";function th(){}var Py=class{zone;delegate;constructor(e,t=ow){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},yT=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",th,{},th,th)),t.pipe(ii({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ih=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Py(Zone.current)),this.insideAngular=t.run(()=>new Py(Zone.current,Xu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Fe(Qe))};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ly(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function gJ(n){return Ly().ngZone.runOutsideAngular(()=>n())}function Gc(n){return Ly().ngZone.run(()=>n())}function _J(n){return yJ(Ly())(n)}function yJ(n){return function(t){return t=t.lift(new yT(n.ngZone)),t.pipe(Ya(n.outsideAngular),Ka(n.insideAngular))}}var vJ=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Gc(()=>n.apply(void 0,i))},qr=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Gc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",th,{},th,th))),i[o]=vJ(i[o],t));let r=gJ(()=>n.apply(this,i));if(!e)if(r instanceof Ct){let o=Ly();return r.pipe(Ya(o.outsideAngular),Ka(o.insideAngular))}else return Gc(()=>r);return r instanceof Ct?r.pipe(_J):r instanceof Promise?Gc(()=>new Promise((o,s)=>r.then(a=>Gc(()=>o(a)),a=>Gc(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Gc(()=>r)};var ua=class{constructor(e){return e}},qc=class{constructor(){return Oy()}};function bJ(n){return n&&n.length===1?n[0]:new ua(eh())}var vT=new Ne("angularfire2._apps"),wJ={provide:ua,useFactory:bJ,deps:[[new Vi,vT]]},IJ={provide:qc,deps:[[new Vi,vT]]};function CJ(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ua(i)}}var EJ=(()=>{class n{constructor(t){_i("angularfire",Wc.full,"core"),_i("angularfire",Wc.full,"app"),_i("angular",hL.full,t.toString())}static \u0275fac=function(i){return new(i||n)(Fe(Bt))};static \u0275mod=Ee({type:n});static \u0275inj=Ce({providers:[wJ,IJ]})}return n})();function aV(n,...e){return{ngModule:EJ,providers:[{provide:vT,useFactory:CJ(n),multi:!0,deps:[Qe,ri,ih,...e]}]}}var lV=qr(_T,!0);function xV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SV=xV,DV=new ca("auth","Firebase",xV());var Hy=new xl("@firebase/auth");function TJ(n,...e){Hy.logLevel<=Ut.WARN&&Hy.warn(`Auth (${Al}): ${n}`,...e)}function Vy(n,...e){Hy.logLevel<=Ut.ERROR&&Hy.error(`Auth (${Al}): ${n}`,...e)}function ms(n,...e){throw UT(n,...e)}function Kc(n,...e){return UT(n,...e)}function AV(n,e,t){let i=Object.assign(Object.assign({},SV()),{[e]:t});return new ca("auth","Firebase",i).create(e,{appName:n.name})}function Rl(n){return AV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UT(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return DV.create(n,...e)}function ot(n,e,...t){if(!n)throw UT(e,...t)}function da(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vy(e),new Error(e)}function kl(n,e){n||da(e)}function CT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xJ(){return cV()==="http:"||cV()==="https:"}function cV(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function SJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xJ()||z3()||"connection"in navigator)?navigator.onLine:!0}function DJ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Yc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kl(t>e,"Short delay should be less than long delay!"),this.isMobile=B3()||U3()}get(){return SJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function HT(n,e){kl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var jy=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var AJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var MJ=new Yc(3e4,6e4);function Zc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ol(o,s,a,l){return $(this,arguments,function*(n,e,t,i,r={}){return MV(n,r,()=>$(this,null,function*(){let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});let h=Hf(Object.assign({key:n.config.apiKey},u)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),jy.fetch()(RV(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function MV(n,e,t){return $(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},AJ),e);try{let r=new ET(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ny(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ny(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ny(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ny(n,"user-disabled",s);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AV(n,u,c);ms(n,u)}}catch(r){if(r instanceof Wr)throw r;ms(n,"network-request-failed",{message:String(r)})}})}function Jy(o,s,a,l){return $(this,arguments,function*(n,e,t,i,r={}){let c=yield Ol(n,e,t,i,r);return"mfaPendingCredential"in c&&ms(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function RV(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?HT(n.config,r):`${n.config.apiScheme}://${r}`}function RJ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ET=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Kc(this.auth,"network-request-failed")),MJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ny(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Kc(n,e,i);return r.customData._tokenResponse=t,r}function uV(n){return n!==void 0&&n.enterprise!==void 0}var TT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RJ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function kJ(n,e){return $(this,null,function*(){return Ol(n,"GET","/v2/recaptchaConfig",Zc(n,e))})}function OJ(n,e){return $(this,null,function*(){return Ol(n,"POST","/v1/accounts:delete",e)})}function kV(n,e){return $(this,null,function*(){return Ol(n,"POST","/v1/accounts:lookup",e)})}function qf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jT(n,e=!1){return $(this,null,function*(){let t=Xi(n),i=yield t.getIdToken(e),r=$T(i);ot(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:qf(bT(r.auth_time)),issuedAtTime:qf(bT(r.iat)),expirationTime:qf(bT(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bT(n){return Number(n)*1e3}function $T(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Vy("JWT malformed, contained fewer than 3 sections"),null;try{let r=XE(t);return r?JSON.parse(r):(Vy("Failed to decode base64 JWT payload"),null)}catch(r){return Vy("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dV(n){let e=$T(n);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Yf(n,e,t=!1){return $(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Wr&&PJ(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function PJ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>$(this,null,function*(){yield this.iteration()}),t)}iteration(){return $(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $y(n){return $(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Yf(n,kV(t,{idToken:i}));ot(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OV(o.providerUserInfo):[],a=FJ(n.providerData,s),l=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!a?.length,u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qf(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function GT(n){return $(this,null,function*(){let e=Xi(n);yield $y(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function FJ(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function OV(n){return n.map(e=>{var{providerId:t}=e,i=sw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function LJ(n,e){return $(this,null,function*(){let t=yield MV(n,{},()=>$(this,null,function*(){let i=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=RV(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jy.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function NJ(n,e){return $(this,null,function*(){return Ol(n,"POST","/v2/accounts:revokeToken",Zc(n,e))})}var Kf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ot(e.length!==0,"internal-error");let t=dV(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return $(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return $(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield LJ(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(ot(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(ot(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(ot(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return da("not implemented")}};function Ml(n,e){ot(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var rh=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=sw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qf(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return $(this,null,function*(){let t=yield Yf(this,this.stsTokenManager.getToken(this.auth,e));return ot(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return jT(this,e)}reload(){return GT(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return $(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield $y(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return $(this,null,function*(){if(ps(this.auth.app))return Promise.reject(Rl(this.auth));let e=yield this.getIdToken();return yield Yf(this,OJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(r=t.email)!==null&&r!==void 0?r:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=t.photoURL)!==null&&s!==void 0?s:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,I=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=t.createdAt)!==null&&c!==void 0?c:void 0,R=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:z,isAnonymous:q,providerData:Y,stsTokenManager:M}=t;ot(V&&M,e,"internal-error");let x=Kf.fromJSON(this.name,M);ot(typeof V=="string",e,"internal-error"),Ml(h,e.name),Ml(p,e.name),ot(typeof z=="boolean",e,"internal-error"),ot(typeof q=="boolean",e,"internal-error"),Ml(m,e.name),Ml(v,e.name),Ml(w,e.name),Ml(I,e.name),Ml(S,e.name),Ml(R,e.name);let D=new n({uid:V,auth:e,email:p,emailVerified:z,displayName:h,isAnonymous:q,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:S,lastLoginAt:R});return Y&&Array.isArray(Y)&&(D.providerData=Y.map(B=>Object.assign({},B))),I&&(D._redirectEventId=I),D}static _fromIdTokenResponse(e,t,i=!1){return $(this,null,function*(){let r=new Kf;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield $y(o),o})}static _fromGetAccountInfoResponse(e,t,i){return $(this,null,function*(){let r=t.users[0];ot(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?OV(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Kf;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Qf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var hV=new Map;function ha(n){kl(n instanceof Function,"Expected a class definition");let e=hV.get(n);return e?(kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hV.set(n,e),e)}var VJ=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return $(this,null,function*(){return!0})}_set(t,i){return $(this,null,function*(){this.storage[t]=i})}_get(t){return $(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return $(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),ST=VJ;function By(n,e,t){return`firebase:${n}:${e}:${t}`}var Gy=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=By(this.userKey,r.apiKey,o),this.fullPersistenceKey=By("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return $(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?rh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return $(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return $(this,null,function*(){if(!t.length)return new n(ha(ST),e,i);let r=(yield Promise.all(t.map(c=>$(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||ha(ST),s=By(i,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(s);if(u){let h=rh._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(c=>$(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new n(o,e,i))})}};function pV(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VV(e))return"Blackberry";if(BV(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||FV(e))&&!e.includes("edge/"))return"Chrome";if(NV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function PV(n=gi()){return/firefox\//i.test(n)}function WT(n=gi()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FV(n=gi()){return/crios\//i.test(n)}function LV(n=gi()){return/iemobile/i.test(n)}function NV(n=gi()){return/android/i.test(n)}function VV(n=gi()){return/blackberry/i.test(n)}function BV(n=gi()){return/webos/i.test(n)}function ev(n=gi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BJ(n=gi()){var e;return ev(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zJ(){return H3()&&document.documentMode===10}function zV(n=gi()){return ev(n)||NV(n)||BV(n)||VV(n)||/windows phone/i.test(n)||LV(n)}function UJ(){try{return!!(window&&window!==window.top)}catch{return!1}}function UV(n,e=[]){let t;switch(n){case"Browser":t=pV(gi());break;case"Worker":t=`${pV(gi())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Al}/${i}`}var DT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return $(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function HJ(t){return $(this,arguments,function*(n,e={}){return Ol(n,"GET","/v2/passwordPolicy",Zc(n,e))})}var jJ=6,AT=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:jJ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var MT=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new DT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ha(t)),this._initializationPromise=this.queue(()=>$(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Gy.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return $(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return $(this,null,function*(){try{let t=yield kV(this,{idToken:e}),i=yield rh._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return $(this,null,function*(){var t;if(ps(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return $(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return $(this,null,function*(){try{yield $y(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DJ()}_delete(){return $(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return $(this,null,function*(){if(ps(this.app))return Promise.reject(Rl(this));let t=e?Xi(e):null;return t&&ot(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return $(this,null,function*(){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>$(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return $(this,null,function*(){return ps(this.app)?Promise.reject(Rl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ps(this.app)?Promise.reject(Rl(this)):this.queue(()=>$(this,null,function*(){yield this.assertedPersistence.setPersistence(ha(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return $(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return $(this,null,function*(){let e=yield HJ(this),t=new AT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return $(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield NJ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return $(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return $(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ha(e)||this._popupRedirectResolver;ot(t,this,"argument-error"),this.redirectPersistenceManager=yield Gy.create(this,[ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return $(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>$(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return $(this,null,function*(){if(e===this.currentUser)return this.queue(()=>$(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return $(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return $(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return $(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TJ(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function oh(n){return Xi(n)}var Wy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=W3(t=>this.observer=t)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tv={loadJS(){return $(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $J(n){tv=n}function HV(n){return tv.loadJS(n)}function GJ(){return tv.recaptchaEnterpriseScript}function WJ(){return tv.gapiScript}function jV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var qJ="recaptcha-enterprise",KJ="NO_RECAPTCHA",RT=class{constructor(e){this.type=qJ,this.auth=oh(e)}verify(e="verify",t=!1){return $(this,null,function*(){function i(o){return $(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>$(this,null,function*(){kJ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new TT(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(o,s,a){let l=window.grecaptcha;uV(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(KJ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&uV(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GJ();l.length!==0&&(l+=a),HV(l).then(()=>{r(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})})}};function fV(n,e,t,i=!1){return $(this,null,function*(){let r=new RT(n),o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function mV(n,e,t,i){return $(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield fV(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>$(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield fV(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}))})}function qT(n,e){let t=Gf(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Hc(o,e??{}))return r;ms(r,"already-initialized")}return t.initialize({options:e})}function YJ(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ha);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function KT(n,e,t){let i=oh(n);ot(i._canInitEmulator,i,"emulator-config-failed"),ot(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=$V(e),{host:s,port:a}=QJ(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||ZJ()}function $V(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QJ(n){let e=$V(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:gV(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:gV(s)}}}function gV(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function ZJ(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Zf=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return da("not implemented")}_getIdTokenResponse(e){return da("not implemented")}_linkToIdToken(e,t){return da("not implemented")}_getReauthenticationResolver(e){return da("not implemented")}};function XJ(n,e){return $(this,null,function*(){return Ol(n,"POST","/v1/accounts:signUp",e)})}function JJ(n,e){return $(this,null,function*(){return Jy(n,"POST","/v1/accounts:signInWithPassword",Zc(n,e))})}function eee(n,e){return $(this,null,function*(){return Jy(n,"POST","/v1/accounts:signInWithEmailLink",Zc(n,e))})}function tee(n,e){return $(this,null,function*(){return Jy(n,"POST","/v1/accounts:signInWithEmailLink",Zc(n,e))})}var Xf=class n extends Zf{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return $(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mV(e,t,"signInWithPassword",JJ);case"emailLink":return eee(e,{email:this._email,oobCode:this._password});default:ms(e,"internal-error")}})}_linkToIdToken(e,t){return $(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mV(e,i,"signUpPassword",XJ);case"emailLink":return tee(e,{idToken:t,email:this._email,oobCode:this._password});default:ms(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wT(n,e){return $(this,null,function*(){return Jy(n,"POST","/v1/accounts:signInWithIdp",Zc(n,e))})}function nee(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iee(n){let e=Xd(Jd(n)).link,t=e?Xd(Jd(e)).deep_link_id:null,i=Xd(Jd(n)).deep_link_id;return(i?Xd(Jd(i)).link:null)||i||t||e||n}var qy=class n{constructor(e){var t,i,r,o,s,a;let l=Xd(Jd(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=nee((r=l.mode)!==null&&r!==void 0?r:null);ot(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=iee(e);try{return new n(t)}catch{return null}}};var GV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Xf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=qy.parseLink(i);return ot(r,"argument-error"),Xf._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ky=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kT=class extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Jf=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return $(this,null,function*(){let o=yield rh._fromIdTokenResponse(e,i,r),s=_V(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return $(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=_V(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function _V(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var OT=class n extends Wr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function WV(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?OT._fromErrorAndOperation(n,o,e,i):o})}function ree(n,e,t=!1){return $(this,null,function*(){let i=yield Yf(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Jf._forOperation(n,"link",i)})}function oee(n,e,t=!1){return $(this,null,function*(){let{auth:i}=n;if(ps(i.app))return Promise.reject(Rl(i));let r="reauthenticate";try{let o=yield Yf(n,WV(i,r,e,n),t);ot(o.idToken,i,"internal-error");let s=$T(o.idToken);ot(s,i,"internal-error");let{sub:a}=s;return ot(n.uid===a,i,"user-mismatch"),Jf._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ms(i,"user-mismatch"),o}})}function qV(n,e,t=!1){return $(this,null,function*(){if(ps(n.app))return Promise.reject(Rl(n));let i="signIn",r=yield WV(n,i,e),o=yield Jf._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function YT(n,e){return $(this,null,function*(){return qV(oh(n),e)})}function see(n){return $(this,null,function*(){let e=oh(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function QT(n,e,t){return ps(n.app)?Promise.reject(Rl(n)):YT(Xi(n),GV.credential(e,t)).catch(i=>$(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&see(n),i}))}function tm(n,e,t,i){return Xi(n).onIdTokenChanged(e,t,i)}function ZT(n,e,t){return Xi(n).beforeAuthStateChanged(e,t)}function XT(n){return Xi(n).signOut()}var Yy="__sak";var Qy=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yy,"1"),this.storage.removeItem(Yy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function aee(){let n=gi();return WT(n)||ev(n)}var lee=1e3,cee=10,uee=(()=>{class n extends Qy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=aee()&&UJ(),this.fallbackToPolling=zV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);zJ()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cee):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},lee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return $(this,null,function*(){yield Wa(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return $(this,null,function*(){let i=yield Wa(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return $(this,null,function*(){yield Wa(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),KV=uee;var dee=(()=>{class n extends Qy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),JT=dee;function hee(n){return Promise.all(n.map(e=>$(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var pee=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return $(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(u=>$(this,null,function*(){return u(i.origin,s)})),c=yield hee(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:c})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function YV(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var PT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return $(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=YV("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fs(){return window}function fee(n){fs().location.href=n}function QV(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}function mee(){return $(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gee(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _ee(){return QV()?self:null}var ZV="firebaseLocalStorageDb",yee=1,Zy="firebaseLocalStorage",XV="fbase_key",Qc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function nv(n,e){return n.transaction([Zy],e?"readwrite":"readonly").objectStore(Zy)}function vee(){let n=indexedDB.deleteDatabase(ZV);return new Qc(n).toPromise()}function FT(){let n=indexedDB.open(ZV,yee);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Zy,{keyPath:XV})}catch(r){t(r)}}),n.addEventListener("success",()=>$(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Zy)?e(i):(i.close(),yield vee(),e(yield FT()))}))})}function yV(n,e,t){return $(this,null,function*(){let i=nv(n,!0).put({[XV]:e,value:t});return new Qc(i).toPromise()})}function bee(n,e){return $(this,null,function*(){let t=nv(n,!1).get(e),i=yield new Qc(t).toPromise();return i===void 0?null:i.value})}function vV(n,e){let t=nv(n,!0).delete(e);return new Qc(t).toPromise()}var wee=800,Iee=3,Cee=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return $(this,null,function*(){return this.db?this.db:(this.db=yield FT(),this.db)})}_withRetries(t){return $(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>Iee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return $(this,null,function*(){return QV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return $(this,null,function*(){this.receiver=pee._getInstance(_ee()),this.receiver._subscribe("keyChanged",(t,i)=>$(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>$(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return $(this,null,function*(){var t,i;if(this.activeServiceWorker=yield mee(),!this.activeServiceWorker)return;this.sender=new PT(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return $(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return $(this,null,function*(){try{if(!indexedDB)return!1;let t=yield FT();return yield yV(t,Yy,"1"),yield vV(t,Yy),!0}catch{}return!1})}_withPendingWrite(t){return $(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return $(this,null,function*(){return this._withPendingWrite(()=>$(this,null,function*(){return yield this._withRetries(r=>yV(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return $(this,null,function*(){let i=yield this._withRetries(r=>bee(r,t));return this.localCache[t]=i,i})}_remove(t){return $(this,null,function*(){return this._withPendingWrite(()=>$(this,null,function*(){return yield this._withRetries(i=>vV(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return $(this,null,function*(){let t=yield this._withRetries(o=>{let s=nv(o,!1).getAll();return new Qc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>$(this,null,function*(){return this._poll()}),wee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),JV=Cee;var K2e=jV("rcb"),Y2e=new Yc(3e4,6e4);function Eee(n,e){return e?ha(e):(ot(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var em=class extends Zf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Tee(n){return qV(n.auth,new em(n),n.bypassAuthState)}function xee(n){let{auth:e,user:t}=n;return ot(t,e,"internal-error"),oee(t,new em(n),n.bypassAuthState)}function See(n){return $(this,null,function*(){let{auth:e,user:t}=n;return ot(t,e,"internal-error"),ree(t,new em(n),n.bypassAuthState)})}var LT=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>$(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return $(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tee;case"linkViaPopup":case"linkViaRedirect":return See;case"reauthViaPopup":case"reauthViaRedirect":return xee;default:ms(this.auth,"internal-error")}}resolve(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Q2e=new Yc(2e3,1e4);var Dee="pendingRedirect",zy=new Map,NT=class n extends LT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return $(this,null,function*(){let e=zy.get(this.auth._key());if(!e){try{let i=(yield Aee(this.resolver,this.auth))?yield Wa(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zy.set(this.auth._key(),e)}return this.bypassAuthState||zy.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return $(this,null,function*(){if(e.type==="signInViaRedirect")return Wa(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Wa(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return $(this,null,function*(){})}cleanUp(){}};function Aee(n,e){return $(this,null,function*(){let t=kee(e),i=Ree(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Mee(n,e){zy.set(n._key(),e)}function Ree(n){return ha(n._redirectPersistence)}function kee(n){return By(Dee,n.config.apiKey,n.name)}function Oee(n,e,t=!1){return $(this,null,function*(){if(ps(n.app))return Promise.reject(Rl(n));let i=oh(n),r=Eee(i,e),s=yield new NT(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var Pee=10*60*1e3,VT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fee(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!e4(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Kc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pee&&this.cachedEventUids.clear(),this.cachedEventUids.has(bV(e))}saveEventToCache(e){this.cachedEventUids.add(bV(e)),this.lastProcessedEventTime=Date.now()}};function bV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Fee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e4(n);default:return!1}}function Lee(t){return $(this,arguments,function*(n,e={}){return Ol(n,"GET","/v1/projects",e)})}var Nee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vee=/^https?/;function Bee(n){return $(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Lee(n);for(let t of e)try{if(zee(t))return}catch{}ms(n,"unauthorized-domain")})}function zee(n){let e=CT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!Vee.test(t))return!1;if(Nee.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Uee=new Yc(3e4,6e4);function wV(){let n=fs().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Hee(n){return new Promise((e,t)=>{var i,r,o;function s(){wV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wV(),t(Kc(n,"network-request-failed"))},timeout:Uee.get()})}if(!((r=(i=fs().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=fs().gapi)===null||o===void 0)&&o.load)s();else{let a=jV("iframefcb");return fs()[a]=()=>{gapi.load?s():t(Kc(n,"network-request-failed"))},HV(`${WJ()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Uy=null,e})}var Uy=null;function jee(n){return Uy=Uy||Hee(n),Uy}var $ee=new Yc(5e3,15e3),Gee="__/auth/iframe",Wee="emulator/auth/iframe",qee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yee(n){let e=n.config;ot(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?HT(e,Wee):`https://${n.config.authDomain}/${Gee}`,i={apiKey:e.apiKey,appName:n.name,v:Al},r=Kee.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Hf(i).slice(1)}`}function Qee(n){return $(this,null,function*(){let e=yield jee(n),t=fs().gapi;return ot(t,n,"internal-error"),e.open({where:document.body,url:Yee(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qee,dontclear:!0},i=>new Promise((r,o)=>$(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Kc(n,"network-request-failed"),a=fs().setTimeout(()=>{o(s)},$ee.get());function l(){fs().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var Zee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xee=500,Jee=600,ete="_blank",tte="http://localhost",Xy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nte(n,e,t,i=Xee,r=Jee){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},Zee),{width:i.toString(),height:r.toString(),top:o,left:s}),c=gi().toLowerCase();t&&(a=FV(c)?ete:t),PV(c)&&(e=e||tte,l.scrollbars="yes");let u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(BJ(c)&&a!=="_self")return ite(e||"",a),new Xy(null);let h=window.open(e||"",a,u);ot(h,n,"popup-blocked");try{h.focus()}catch{}return new Xy(h)}function ite(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var rte="__/auth/handler",ote="emulator/auth/handler",ste=encodeURIComponent("fac");function IV(n,e,t,i,r,o){return $(this,null,function*(){ot(n.config.authDomain,n,"auth-domain-config-required"),ot(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Al,eventId:r};if(e instanceof Ky){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",G3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(o||{}))s[u]=h}if(e instanceof kT){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${ste}=${encodeURIComponent(l)}`:"";return`${ate(n)}?${Hf(a).slice(1)}${c}`})}function ate({config:n}){return n.emulator?HT(n,ote):`https://${n.authDomain}/${rte}`}var IT="webStorageSupport",BT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=Oee,this._overrideRedirectResult=Mee}_openPopup(e,t,i,r){return $(this,null,function*(){var o;kl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield IV(e,t,i,CT(),r);return nte(e,s,YV())})}_openRedirect(e,t,i,r){return $(this,null,function*(){yield this._originValidation(e);let o=yield IV(e,t,i,CT(),r);return fee(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(kl(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return $(this,null,function*(){let t=yield Qee(e),i=new VT(e);return t.register("authEvent",r=>(ot(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(IT,{type:IT},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[IT];s!==void 0&&t(!!s),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bee(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zV()||WT()||ev()}},t4=BT;var CV="@firebase/auth",EV="1.7.6";var zT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return $(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lte(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cte(n){Dl(new po("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;ot(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UV(n)},c=new MT(i,r,o,l);return YJ(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Dl(new po("auth-internal",e=>{let t=oh(e.getProvider("auth").getImmediate());return(i=>new zT(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(CV,EV,lte(n)),_i(CV,EV,"esm2017")}var ute=5*60,dte=tT("authIdTokenMaxAge")||ute,TV=null,hte=n=>e=>$(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dte)return;let r=t?.token;TV!==r&&(TV=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function ex(n=eh()){let e=Gf(n,"auth");if(e.isInitialized())return e.getImmediate();let t=qT(n,{popupRedirectResolver:t4,persistence:[JV,KV,JT]}),i=tT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=hte(o.toString());ZT(t,s,()=>s(t.currentUser)),tm(t,a=>s(a))}}let r=JE("auth");return r&&KT(t,`http://${r}`),t}function pte(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$J({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Kc("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",pte().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cte("Browser");function r4(n){return new Ct(function(e){var t=tm(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var o4="auth",Xc=class{constructor(e){return e}},nm=class{constructor(){return Wf(o4)}};var tx=new Ne("angularfire2.auth-instances");function nne(n,e){let t=Fy(o4,n,e);return t&&new Xc(t)}function ine(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Xc(i)}}var rne={provide:nm,deps:[[new Vi,tx]]},one={provide:Xc,useFactory:nne,deps:[[new Vi,tx],ua]},sne=(()=>{class n{constructor(){_i("angularfire",Wc.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({providers:[one,rne]})}return n})();function s4(n,...e){return{ngModule:sne,providers:[{provide:tx,useFactory:ine(n),multi:!0,deps:[Qe,ri,ih,qc,[new Vi,nh],...e]}]}}var a4=qr(r4,!0);var l4=qr(ex,!0);var c4=qr(QT,!0);var u4=qr(XT,!0);var Pl=(()=>{let e=class e{constructor(i){this.firebaseAuth=i,this.user$=a4(this.firebaseAuth),this.currentUser=Xt(void 0)}login(i,r){let o=c4(this.firebaseAuth,i,r).then(()=>{});return $t(o)}logout(){let i=u4(this.firebaseAuth);return $t(i)}isLogged(){return this.currentUser()!==null&&this.currentUser()!==void 0}};e.\u0275fac=function(r){return new(r||e)(Fe(Xc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var d4=(()=>{let e=class e{constructor(i,r,o,s){this.fb=i,this.http=r,this.router=o,this.authService=s,this.form=this.fb.nonNullable.group({email:["",[$d.required,$d.email]],password:["",$d.required]})}onSubmit(){let i=this.form.getRawValue();this.authService.login(i.email,i.password).subscribe({next:()=>{console.log("Login successful"),this.router.navigate(["/home"])},error:r=>{console.error(r)}})}};e.\u0275fac=function(r){return new(r||e)(j(x3),j(UC),j(Ei),j(Pl))},e.\u0275cmp=te({type:e,selectors:[["app-login"]],standalone:!0,features:[ye],decls:21,vars:2,consts:[[1,"section"],[3,"ngSubmit","formGroup"],["pInputText","","id","email","formControlName","email"],["for","email"],["formControlName","password","id","password",3,"feedback"],["for","password"],["type","submit","label","Accedi"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h1"),oe(2,"Login"),E(),G(3,"br"),C(4,"form",1),Q("ngSubmit",function(){return o.onSubmit()}),C(5,"div")(6,"p-floatLabel"),G(7,"input",2),C(8,"label",3),oe(9,"Email"),E()()(),G(10,"br")(11,"br"),C(12,"div")(13,"p-floatLabel"),G(14,"p-password",4),C(15,"label",5),oe(16,"Password"),E()()(),G(17,"br")(18,"br"),C(19,"div"),G(20,"p-button",6),E()()()),r&2&&(g(4),f("formGroup",o.form),g(10),f("feedback",!1))},dependencies:[S3,C3,Wd,vl,g3,$E,GE,ho,bl,A3,D3,k3,KE,fr,Uc],styles:[".section[_ngcontent-%COMP%]{width:fit-content;margin:2em auto;display:flex;flex-flow:column nowrap;border:1px black solid;border-radius:10px;padding:32px;text-align:center}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}"]});let n=e;return n})();var lne=["overlay"],cne=["content"],une=["*"],dne=(n,e,t,i,r,o,s,a,l,c,u,h,p,m)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":h,"p-overlay-right-start":p,"p-overlay-right-end":m}),hne=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),pne=n=>({value:"visible",params:n}),fne=n=>({mode:n}),mne=n=>({$implicit:n});function gne(n,e){n&1&&de(0)}function _ne(n,e){if(n&1){let t=ue();C(0,"div",3,1),Q("click",function(r){F(t);let o=y(2);return L(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){F(t);let o=y(2);return L(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){F(t);let o=y(2);return L(o.onOverlayContentAnimationDone(r))}),nn(2),T(3,gne,1,0,"ng-container",4),E()}if(n&2){let t=y(2);ne(t.contentStyleClass),f("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Ie(11,pne,En(7,hne,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),g(3),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Ie(15,mne,Ie(13,fne,t.overlayMode)))}}function yne(n,e){if(n&1){let t=ue();C(0,"div",3,0),Q("click",function(){F(t);let r=y();return L(r.onOverlayClick())}),T(2,_ne,4,17,"div",2),E()}if(n&2){let t=y();ne(t.styleClass),f("ngStyle",t.style)("ngClass",rf(5,dne,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),g(2),f("ngIf",t.visible)}}var vne={provide:Rn,useExisting:gn(()=>ix),multi:!0},bne=Kd([mi({transform:"{{transform}}",opacity:0}),Cr("{{showTransitionParams}}")]),wne=Kd([Cr("{{hideTransitionParams}}",mi({transform:"{{transform}}",opacity:0}))]),ix=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return ee.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return ee.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return ee.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return ee.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new Z;onBeforeShow=new Z;onShow=new Z;onBeforeHide=new Z;onHide=new Z;onAnimationStart=new Z;onAnimationDone=new Z;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Wt(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return ce(ce({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return ce(ce({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return k.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,o,s,a,l,c){this.document=t,this.platformId=i,this.el=r,this.renderer=o,this.config=s,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&k.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&xn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),k.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&k.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),xn.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Po(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!k.isTouchDevice()}):!k.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!k.isTouchDevice()}):!k.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),xn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(We),j(Gt),j(qt),j(gl),j(et),j(Qe))};static \u0275cmp=te({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(lne,5),Le(cne,5)),i&2){let o;me(o=ge())&&(r.overlayViewChild=o.first),me(o=ge())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[dn([vne])],ngContentSelectors:une,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(_n(),T(0,yne,3,20,"div",2)),i&2&&f("ngIf",r.modalVisible)},dependencies:[ft,tt,At,mt],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Il("overlayContentAnimation",[Er(":enter",[Yd(bne)]),Er(":leave",[Yd(wne)])])]},changeDetection:0})}return n})(),rx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,Ke]})}return n})();var Cne=["element"],Ene=["content"],Tne=["*"],xne=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),ox=(n,e)=>({$implicit:n,options:e}),Sne=n=>({"p-scroller-loading":n}),Dne=n=>({"p-component-overlay":n}),Ane=n=>({numCols:n}),h4=n=>({options:n}),Mne=()=>({styleClass:"p-scroller-loading-icon"}),Rne=(n,e)=>({rows:n,columns:e});function kne(n,e){n&1&&de(0)}function One(n,e){if(n&1&&(ie(0),T(1,kne,1,0,"ng-container",10),re()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Nt(2,ox,t.loadedItems,t.getContentOptions()))}}function Pne(n,e){n&1&&de(0)}function Fne(n,e){if(n&1&&(ie(0),T(1,Pne,1,0,"ng-container",10),re()),n&2){let t=e.$implicit,i=e.index,r=y(3);g(),f("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Nt(2,ox,t,r.getOptions(i)))}}function Lne(n,e){if(n&1&&(C(0,"div",11,3),T(2,Fne,2,5,"ng-container",12),E()),n&2){let t=y(2);f("ngClass",Ie(5,Sne,t.d_loading))("ngStyle",t.contentStyle),N("data-pc-section","content"),g(2),f("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function Nne(n,e){if(n&1&&G(0,"div",13),n&2){let t=y(2);f("ngStyle",t.spacerStyle),N("data-pc-section","spacer")}}function Vne(n,e){n&1&&de(0)}function Bne(n,e){if(n&1&&(ie(0),T(1,Vne,1,0,"ng-container",10),re()),n&2){let t=e.index,i=y(4);g(),f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ie(4,h4,i.getLoaderOptions(t,i.both&&Ie(2,Ane,i._numItemsInViewport.cols))))}}function zne(n,e){if(n&1&&(ie(0),T(1,Bne,2,6,"ng-container",15),re()),n&2){let t=y(3);g(),f("ngForOf",t.loaderArr)}}function Une(n,e){n&1&&de(0)}function Hne(n,e){if(n&1&&(ie(0),T(1,Une,1,0,"ng-container",10),re()),n&2){let t=y(4);g(),f("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",Ie(3,h4,Jt(2,Mne)))}}function jne(n,e){n&1&&G(0,"SpinnerIcon",16),n&2&&(f("styleClass","p-scroller-loading-icon pi-spin"),N("data-pc-section","loadingIcon"))}function $ne(n,e){if(n&1&&T(0,Hne,2,5,"ng-container",6)(1,jne,1,2,"ng-template",null,5,Qt),n&2){let t=ct(2),i=y(3);f("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function Gne(n,e){if(n&1&&(C(0,"div",14),T(1,zne,2,1,"ng-container",6)(2,$ne,3,2,"ng-template",null,4,Qt),E()),n&2){let t=ct(3),i=y(2);f("ngClass",Ie(4,Dne,!i.loaderTemplate)),N("data-pc-section","loader"),g(),f("ngIf",i.loaderTemplate)("ngIfElse",t)}}function Wne(n,e){if(n&1){let t=ue();ie(0),C(1,"div",7,1),Q("scroll",function(r){F(t);let o=y();return L(o.onContainerScroll(r))}),T(3,One,2,5,"ng-container",6)(4,Lne,3,7,"ng-template",null,2,Qt)(6,Nne,1,2,"div",8)(7,Gne,4,6,"div",9),E(),re()}if(n&2){let t=ct(5),i=y();g(),ne(i._styleClass),f("ngStyle",i._style)("ngClass",En(12,xne,i.inline,i.both,i.horizontal)),N("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),g(2),f("ngIf",i.contentTemplate)("ngIfElse",t),g(3),f("ngIf",i._showSpacer),g(),f("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function qne(n,e){n&1&&de(0)}function Kne(n,e){if(n&1&&(ie(0),T(1,qne,1,0,"ng-container",10),re()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Nt(5,ox,t.items,Nt(2,Rne,t._items,t.loadedColumns)))}}function Yne(n,e){if(n&1&&(nn(0),T(1,Kne,2,8,"ng-container",17)),n&2){let t=y();g(),f("ngIf",t.contentTemplate)}}var sh=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new Z;onScroll=new Z;onScrollIndexChange=new Z;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,o,s){this.document=t,this.platformId=i,this.renderer=r,this.cd=o,this.zone=s}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:o}=t.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:o}=t.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(t.options){let{previousValue:r,currentValue:o}=t.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,i=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Wt(this.platformId)&&!this.initialized&&k.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=k.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=k.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=k.getWidth(this.contentEl),this.defaultContentHeight=k.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||k.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(o=>o>-1):t>-1){let o=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,h=(S=0,R)=>S<=R?0:S,p=(S,R,V)=>S*R+V,m=(S=0,R=0)=>this.scrollTo({left:S,top:R,behavior:i}),v=this.both?{rows:0,cols:0}:0,w=!1,I=!1;this.both?(v={rows:h(t[0],l[0]),cols:h(t[1],l[1])},m(p(v.cols,u[1],c.left),p(v.rows,u[0],c.top)),I=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,w=v.rows!==o.rows||v.cols!==o.cols):(v=h(t,l),this.horizontal?m(p(v,u,c.left),s):m(a,p(v,u,c.top)),I=this.lastScrollPos!==(this.horizontal?a:s),w=v!==o),this.isRangeChanged=w,I&&(this.first=v)}}scrollInView(t,i,r="auto"){if(i){let{first:o,viewport:s}=this.getRenderedRange(),a=(u=0,h=0)=>this.scrollTo({left:u,top:h,behavior:r}),l=i==="to-start",c=i==="to-end";if(l){if(this.both)s.first.rows-o.rows>t[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>t[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>t){let u=(s.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)s.last.rows-o.rows<=t[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=t[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=t+1){let u=(s.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(o,s)=>s||o?Math.floor(o/(s||o)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(o,this._itemSize[0]),cols:t(s,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:o;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,o=(c,u)=>u||c?Math.ceil(c/(u||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),o=this.first,s=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=s,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[k.getWidth(this.contentEl),k.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,o]=[k.getWidth(this.elementViewChild.nativeElement),k.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),o=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),s=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:o,bottom:s,x:i+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,o=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,o,s,a=0)=>this.spacerStyle=lt(ce({},this.spacerStyle),{[`${r}`]:(o||[]).length*s+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle=lt(ce({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let s=r(i,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),o=(I,S)=>I?I>S?I-S:I:0,s=(I,S)=>S||I?Math.floor(I/(S||I)):0,a=(I,S,R,V,z,q)=>I<=z?z:q?R-V-z:S+z-1,l=(I,S,R,V,z,q,Y)=>I<=q?0:Math.max(0,Y?I<S?R:I-q:I>S?R:I-2*q),c=(I,S,R,V,z,q=!1)=>{let Y=S+V+2*z;return I>=z&&(Y+=z+1),this.getLast(Y,q)},u=o(i.scrollTop,r.top),h=o(i.scrollLeft,r.left),p=this.both?{rows:0,cols:0}:0,m=this.last,v=!1,w=this.lastScrollPos;if(this.both){let I=this.lastScrollPos.top<=u,S=this.lastScrollPos.left<=h;if(!this._appendOnly||this._appendOnly&&(I||S)){let R={rows:s(u,this._itemSize[0]),cols:s(h,this._itemSize[1])},V={rows:a(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:a(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};p={rows:l(R.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:l(R.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},m={rows:c(R.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(R.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,w={top:u,left:h}}}else{let I=this.horizontal?h:u,S=this.lastScrollPos<=I;if(!this._appendOnly||this._appendOnly&&S){let R=s(I,this._itemSize),V=a(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);p=l(R,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),m=c(R,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=p!==this.first||m!==this.last||this.isRangeChanged,w=I}}return{first:p,last:m,isRangeChanged:v,scrollPos:w}}onScrollChange(t){let{first:i,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(t);if(o){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){Wt(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=k.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(k.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[k.getWidth(this.elementViewChild?.nativeElement),k.getHeight(this.elementViewChild?.nativeElement)],[r,o]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical?o:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=k.getWidth(this.contentEl),this.defaultContentHeight=k.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return ce({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(Gt),j(et),j(Qe))};static \u0275cmp=te({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(Cne,5),Le(Ene,5)),i&2){let o;me(o=ge())&&(r.elementViewChild=o.first),me(o=ge())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[cn],ngContentSelectors:Tne,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(_n(),T(0,Wne,8,16,"ng-container",6)(1,Yne,2,1,"ng-template",null,0,Qt)),i&2){let o=ct(2);f("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:()=>[ft,si,tt,At,mt,El],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),pa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,El,Ke]})}return n})();var Tr=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ax=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"rect",1),E())},encapsulation:2})}return n})();var ah=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var lh=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var im=n=>({height:n}),Qne=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),lx=n=>({$implicit:n});function Zne(n,e){n&1&&G(0,"CheckIcon",4),n&2&&f("styleClass","p-dropdown-check-icon")}function Xne(n,e){n&1&&G(0,"BlankIcon",4),n&2&&f("styleClass","p-dropdown-blank-icon")}function Jne(n,e){if(n&1&&(ie(0),T(1,Zne,1,1,"CheckIcon",3)(2,Xne,1,1,"BlankIcon",3),re()),n&2){let t=y();g(),f("ngIf",t.selected),g(),f("ngIf",!t.selected)}}function eie(n,e){if(n&1&&(C(0,"span"),oe(1),E()),n&2){let t,i=y();g(),Ue((t=i.label)!==null&&t!==void 0?t:"empty")}}function tie(n,e){n&1&&de(0)}var nie=["container"],iie=["filter"],rie=["focusInput"],oie=["editableInput"],sie=["items"],aie=["scroller"],lie=["overlay"],cie=["firstHiddenFocusableEl"],uie=["lastHiddenFocusableEl"],die=n=>({"max-height":n}),p4=n=>({options:n}),hie=n=>({"p-variant-filled":n}),f4=(n,e)=>({$implicit:n,options:e}),pie=()=>({});function fie(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(2);g(),Ue(t.label()==="p-emptylabel"?"\xA0":t.label())}}function mie(n,e){if(n&1&&de(0,25),n&2){let t=y(2);f("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Ie(2,lx,t.selectedOption))}}function gie(n,e){if(n&1&&(C(0,"span"),oe(1),E()),n&2){let t=y(3);g(),Ue(t.label()==="p-emptylabel"?"\xA0":t.label())}}function _ie(n,e){if(n&1&&T(0,gie,2,1,"span",18),n&2){let t=y(2);f("ngIf",t.isSelectedOptionEmpty())}}function yie(n,e){if(n&1){let t=ue();C(0,"span",23,3),Q("focus",function(r){F(t);let o=y();return L(o.onInputFocus(r))})("blur",function(r){F(t);let o=y();return L(o.onInputBlur(r))})("keydown",function(r){F(t);let o=y();return L(o.onKeyDown(r))}),T(2,fie,2,1,"ng-container",20)(3,mie,1,4,"ng-container",24)(4,_ie,1,1,"ng-template",null,4,Qt),E()}if(n&2){let t,i=ct(5),r=y();f("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),N("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),g(2),f("ngIf",!r.selectedItemTemplate)("ngIfElse",i),g(),f("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function vie(n,e){if(n&1){let t=ue();C(0,"input",26,5),Q("input",function(r){F(t);let o=y();return L(o.onEditableInput(r))})("keydown",function(r){F(t);let o=y();return L(o.onKeyDown(r))})("focus",function(r){F(t);let o=y();return L(o.onInputFocus(r))})("blur",function(r){F(t);let o=y();return L(o.onInputBlur(r))}),E()}if(n&2){let t=y();f("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),N("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function bie(n,e){if(n&1){let t=ue();C(0,"TimesIcon",29),Q("click",function(r){F(t);let o=y(2);return L(o.clear(r))}),E()}n&2&&(f("styleClass","p-dropdown-clear-icon"),N("data-pc-section","clearicon"))}function wie(n,e){}function Iie(n,e){n&1&&T(0,wie,0,0,"ng-template")}function Cie(n,e){if(n&1){let t=ue();C(0,"span",30),Q("click",function(r){F(t);let o=y(2);return L(o.clear(r))}),T(1,Iie,1,0,null,31),E()}if(n&2){let t=y(2);N("data-pc-section","clearicon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function Eie(n,e){if(n&1&&(ie(0),T(1,bie,1,2,"TimesIcon",27)(2,Cie,2,2,"span",28),re()),n&2){let t=y();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function Tie(n,e){n&1&&de(0)}function xie(n,e){if(n&1&&(ie(0),T(1,Tie,1,0,"ng-container",31),re()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.loadingIconTemplate)}}function Sie(n,e){if(n&1&&G(0,"span",34),n&2){let t=y(3);f("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function Die(n,e){n&1&&G(0,"span",35),n&2&&ne("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function Aie(n,e){if(n&1&&(ie(0),T(1,Sie,1,1,"span",32)(2,Die,1,2,"span",33),re()),n&2){let t=y(2);g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function Mie(n,e){if(n&1&&(ie(0),T(1,xie,2,1,"ng-container",18)(2,Aie,3,2,"ng-container",18),re()),n&2){let t=y();g(),f("ngIf",t.loadingIconTemplate),g(),f("ngIf",!t.loadingIconTemplate)}}function Rie(n,e){if(n&1&&G(0,"span",39),n&2){let t=y(3);f("ngClass",t.dropdownIcon)}}function kie(n,e){n&1&&G(0,"ChevronDownIcon",40),n&2&&f("styleClass","p-dropdown-trigger-icon")}function Oie(n,e){if(n&1&&(ie(0),T(1,Rie,1,1,"span",37)(2,kie,1,1,"ChevronDownIcon",38),re()),n&2){let t=y(2);g(),f("ngIf",t.dropdownIcon),g(),f("ngIf",!t.dropdownIcon)}}function Pie(n,e){}function Fie(n,e){n&1&&T(0,Pie,0,0,"ng-template")}function Lie(n,e){if(n&1&&(C(0,"span",41),T(1,Fie,1,0,null,31),E()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.dropdownIconTemplate)}}function Nie(n,e){if(n&1&&T(0,Oie,3,2,"ng-container",18)(1,Lie,2,1,"span",36),n&2){let t=y();f("ngIf",!t.dropdownIconTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function Vie(n,e){n&1&&de(0)}function Bie(n,e){n&1&&de(0)}function zie(n,e){if(n&1&&(ie(0),T(1,Bie,1,0,"ng-container",48),re()),n&2){let t=y(3);g(),f("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Ie(2,p4,t.filterOptions))}}function Uie(n,e){n&1&&G(0,"SearchIcon",40),n&2&&f("styleClass","p-dropdown-filter-icon")}function Hie(n,e){}function jie(n,e){n&1&&T(0,Hie,0,0,"ng-template")}function $ie(n,e){if(n&1&&(C(0,"span",52),T(1,jie,1,0,null,31),E()),n&2){let t=y(4);g(),f("ngTemplateOutlet",t.filterIconTemplate)}}function Gie(n,e){if(n&1){let t=ue();C(0,"div",49)(1,"input",50,10),Q("input",function(r){F(t);let o=y(3);return L(o.onFilterInputChange(r))})("keydown",function(r){F(t);let o=y(3);return L(o.onFilterKeyDown(r))})("blur",function(r){F(t);let o=y(3);return L(o.onFilterBlur(r))}),E(),T(3,Uie,1,1,"SearchIcon",38)(4,$ie,2,1,"span",51),E()}if(n&2){let t=y(3);g(),f("value",t._filterValue()||"")("ngClass",Ie(8,hie,t.variant==="filled"||t.config.inputStyle()==="filled")),N("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),g(2),f("ngIf",!t.filterIconTemplate),g(),f("ngIf",t.filterIconTemplate)}}function Wie(n,e){if(n&1){let t=ue();C(0,"div",47),Q("click",function(r){return F(t),L(r.stopPropagation())}),T(1,zie,2,4,"ng-container",20)(2,Gie,5,10,"ng-template",null,9,Qt),E()}if(n&2){let t=ct(3),i=y(2);g(),f("ngIf",i.filterTemplate)("ngIfElse",t)}}function qie(n,e){n&1&&de(0)}function Kie(n,e){if(n&1&&T(0,qie,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;y(2);let r=ct(9);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Nt(2,f4,t,i))}}function Yie(n,e){n&1&&de(0)}function Qie(n,e){if(n&1&&T(0,Yie,1,0,"ng-container",48),n&2){let t=e.options,i=y(4);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ie(2,p4,t))}}function Zie(n,e){n&1&&(ie(0),T(1,Qie,1,4,"ng-template",54),re())}function Xie(n,e){if(n&1){let t=ue();C(0,"p-scroller",53,11),Q("onLazyLoad",function(r){F(t);let o=y(2);return L(o.onLazyLoad.emit(r))}),T(2,Kie,1,5,"ng-template",22)(3,Zie,2,0,"ng-container",18),E()}if(n&2){let t=y(2);ko(Ie(8,im,t.scrollHeight)),f("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),g(3),f("ngIf",t.loaderTemplate)}}function Jie(n,e){n&1&&de(0)}function ere(n,e){if(n&1&&(ie(0),T(1,Jie,1,0,"ng-container",48),re()),n&2){y();let t=ct(9),i=y();g(),f("ngTemplateOutlet",t)("ngTemplateOutletContext",Nt(3,f4,i.visibleOptions(),Jt(2,pie)))}}function tre(n,e){if(n&1&&(C(0,"span"),oe(1),E()),n&2){let t=y(2).$implicit,i=y(3);g(),Ue(i.getOptionGroupLabel(t.optionGroup))}}function nre(n,e){n&1&&de(0)}function ire(n,e){if(n&1&&(ie(0),C(1,"li",58),T(2,tre,2,1,"span",18)(3,nre,1,0,"ng-container",48),E(),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y().options,s=y(2);g(),f("ngStyle",Ie(5,im,o.itemSize+"px")),N("id",s.id+"_"+s.getOptionIndex(r,o)),g(),f("ngIf",!s.groupTemplate),g(),f("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",Ie(7,lx,i.optionGroup))}}function rre(n,e){if(n&1){let t=ue();ie(0),C(1,"p-dropdownItem",59),Q("onClick",function(r){F(t);let o=y().$implicit,s=y(3);return L(s.onOptionSelect(r,o))})("onMouseEnter",function(r){F(t);let o=y().index,s=y().options,a=y(2);return L(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))}),E(),re()}if(n&2){let t=y(),i=t.$implicit,r=t.index,o=y().options,s=y(2);g(),f("id",s.id+"_"+s.getOptionIndex(r,o))("option",i)("checkmark",s.checkmark)("selected",s.isSelected(i))("label",s.getOptionLabel(i))("disabled",s.isOptionDisabled(i))("template",s.itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(r,o))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o)))("ariaSetSize",s.ariaSetSize)}}function ore(n,e){if(n&1&&T(0,ire,4,9,"ng-container",18)(1,rre,2,10,"ng-container",18),n&2){let t=e.$implicit,i=y(3);f("ngIf",i.isOptionGroup(t)),g(),f("ngIf",!i.isOptionGroup(t))}}function sre(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(4);g(),zt(" ",t.emptyFilterMessageLabel," ")}}function are(n,e){n&1&&de(0,null,13)}function lre(n,e){if(n&1&&(C(0,"li",60),T(1,sre,2,1,"ng-container",20)(2,are,2,0,"ng-container",31),E()),n&2){let t=y().options,i=y(2);f("ngStyle",Ie(4,im,t.itemSize+"px")),g(),f("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),g(),f("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function cre(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(4);g(),zt(" ",t.emptyMessageLabel," ")}}function ure(n,e){n&1&&de(0,null,14)}function dre(n,e){if(n&1&&(C(0,"li",60),T(1,cre,2,1,"ng-container",20)(2,ure,2,0,"ng-container",31),E()),n&2){let t=y().options,i=y(2);f("ngStyle",Ie(4,im,t.itemSize+"px")),g(),f("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),g(),f("ngTemplateOutlet",i.emptyTemplate)}}function hre(n,e){if(n&1&&(C(0,"ul",55,12),T(2,ore,2,2,"ng-template",56)(3,lre,3,6,"li",57)(4,dre,3,6,"li",57),E()),n&2){let t=e.$implicit,i=e.options,r=y(2);f("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),N("id",r.id+"_list")("aria-label",r.listLabel),g(2),f("ngForOf",t),g(),f("ngIf",r.filterValue&&r.isEmpty()),g(),f("ngIf",!r.filterValue&&r.isEmpty())}}function pre(n,e){n&1&&de(0)}function fre(n,e){if(n&1){let t=ue();C(0,"div",42)(1,"span",43,6),Q("focus",function(r){F(t);let o=y();return L(o.onFirstHiddenFocus(r))}),E(),T(3,Vie,1,0,"ng-container",31)(4,Wie,4,2,"div",44),C(5,"div",45),T(6,Xie,4,10,"p-scroller",46)(7,ere,2,6,"ng-container",18)(8,hre,5,7,"ng-template",null,7,Qt),E(),T(10,pre,1,0,"ng-container",31),C(11,"span",43,8),Q("focus",function(r){F(t);let o=y();return L(o.onLastHiddenFocus(r))}),E()()}if(n&2){let t=y();ne(t.panelStyleClass),f("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),g(),N("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),g(2),f("ngTemplateOutlet",t.headerTemplate),g(),f("ngIf",t.filter),g(),f("ngStyle",Ie(16,die,t.virtualScroll?"auto":t.scrollHeight||"auto")),g(),f("ngIf",t.virtualScroll),g(),f("ngIf",!t.virtualScroll),g(3),f("ngTemplateOutlet",t.footerTemplate),g(),N("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var mre={provide:Rn,useExisting:gn(()=>rm),multi:!0},gre=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new Z;onMouseEnter=new Z;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[P.HasDecoratorInputTransform,"selected","selected",W],focused:[P.HasDecoratorInputTransform,"focused","focused",W],label:"label",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],visible:[P.HasDecoratorInputTransform,"visible","visible",W],itemSize:[P.HasDecoratorInputTransform,"itemSize","itemSize",Pe],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[P.HasDecoratorInputTransform,"checkmark","checkmark",W]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Xe],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(C(0,"li",0),Q("click",function(s){return r.onOptionClick(s)})("mouseenter",function(s){return r.onOptionMouseEnter(s)}),T(1,Jne,3,2,"ng-container",1)(2,eie,2,1,"span",1)(3,tie,1,0,"ng-container",2),E()),i&2&&(f("id",r.id)("ngStyle",Ie(14,im,r.itemSize+"px"))("ngClass",En(16,Qne,r.selected,r.disabled,r.focused)),N("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),g(),f("ngIf",r.checkmark),g(),f("ngIf",!r.template),g(),f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Ie(20,lx,r.option)))},dependencies:()=>[ft,tt,At,mt,ai,ax,Tr],encapsulation:2})}return n})(),rm=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){ee.deepEquals(t,this._options())||this._options.set(t)}onChange=new Z;onFilter=new Z;onFocus=new Z;onBlur=new Z;onClick=new Z;onShow=new Z;onHide=new Z;onClear=new Z;onLazyLoad=new Z;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Xt(null);_placeholder=Xt(void 0);modelValue=Xt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Xt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Xt(-1);labelId;listId;clicked=Xt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Mn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Mn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Mn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=ls(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(o=>o.label?o.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:o.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let o=this.options||[],s=[];return o.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&s.push(lt(ce({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return r}return t});label=ls(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=ls(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=ls(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,o,s,a){this.el=t,this.renderer=i,this.cd=r,this.zone=o,this.filterService=s,this.config=a,af(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&ee.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}ee.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&ee.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||wt(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=k.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&k.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,o)=>{i.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,o=!1){if(!this.isSelected(i)){let s=this.getOptionValue(i);this.updateModel(s,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),o===!1&&this.onChange.emit({originalEvent:t,value:s})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ee.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return ee.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?ee.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?ee.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?ee.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ee.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ee.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&ee.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&k.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=k.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=k.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&k.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{k.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{k.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&ee.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=k.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?ee.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return ee.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())k.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?k.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;k.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?k.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;k.focus(i)}hasFocusableElements(){return k.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,o=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?k.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():k.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(j(We),j(Gt),j(et),j(Qe),j(Bd),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(nie,5),Le(iie,5),Le(rie,5),Le(oie,5),Le(sie,5),Le(aie,5),Le(lie,5),Le(cie,5),Le(uie,5)),i&2){let o;me(o=ge())&&(r.containerViewChild=o.first),me(o=ge())&&(r.filterViewChild=o.first),me(o=ge())&&(r.focusInputViewChild=o.first),me(o=ge())&&(r.editableInputViewChild=o.first),me(o=ge())&&(r.itemsViewChild=o.first),me(o=ge())&&(r.scroller=o.first),me(o=ge())&&(r.overlayViewChild=o.first),me(o=ge())&&(r.firstHiddenFocusableElementOnOverlay=o.first),me(o=ge())&&(r.lastHiddenFocusableElementOnOverlay=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Vn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[P.HasDecoratorInputTransform,"filter","filter",W],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],required:[P.HasDecoratorInputTransform,"required","required",W],editable:[P.HasDecoratorInputTransform,"editable","editable",W],appendTo:"appendTo",tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],resetFilterOnHide:[P.HasDecoratorInputTransform,"resetFilterOnHide","resetFilterOnHide",W],checkmark:[P.HasDecoratorInputTransform,"checkmark","checkmark",W],dropdownIcon:"dropdownIcon",loading:[P.HasDecoratorInputTransform,"loading","loading",W],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[P.HasDecoratorInputTransform,"autoDisplayFirst","autoDisplayFirst",W],group:[P.HasDecoratorInputTransform,"group","group",W],showClear:[P.HasDecoratorInputTransform,"showClear","showClear",W],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[P.HasDecoratorInputTransform,"lazy","lazy",W],virtualScroll:[P.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[P.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Pe],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[P.HasDecoratorInputTransform,"maxlength","maxlength",Pe],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[P.HasDecoratorInputTransform,"focusOnHover","focusOnHover",W],selectOnFocus:[P.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",W],autoOptionFocus:[P.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",W],autofocusFilter:[P.HasDecoratorInputTransform,"autofocusFilter","autofocusFilter",W],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[dn([mre]),Xe],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let o=ue();C(0,"div",15,0),Q("click",function(a){return F(o),L(r.onContainerClick(a))}),T(2,yie,6,20,"span",16)(3,vie,2,8,"input",17)(4,Eie,3,2,"ng-container",18),C(5,"div",19),Q("mousedown",function(a){return F(o),L(r.onMouseDown(a))}),T(6,Mie,3,2,"ng-container",20)(7,Nie,2,2,"ng-template",null,1,Qt),E(),C(9,"p-overlay",21,2),Ci("visibleChange",function(a){return F(o),Bi(r.overlayVisible,a)||(r.overlayVisible=a),L(a)}),Q("onAnimationStart",function(a){return F(o),L(r.onOverlayAnimationStart(a))})("onHide",function(){return F(o),L(r.hide())}),T(11,fre,13,18,"ng-template",22),E()()}if(i&2){let o,s=ct(8);ne(r.styleClass),f("ngClass",r.containerClass)("ngStyle",r.style),N("id",r.id),g(2),f("ngIf",!r.editable),g(),f("ngIf",r.editable),g(),f("ngIf",r.isVisibleClearIcon),g(),N("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("data-pc-section","trigger"),g(),f("ngIf",r.loading)("ngIfElse",s),g(3),Ii("visible",r.overlayVisible),f("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[ft,si,tt,At,mt,ix,qe,Hd,sh,Di,Qn,ah,lh,gre],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),Jc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,rx,Ke,_l,Si,pa,Zi,Qn,ah,lh,ax,Tr,rx,Ke,pa]})}return n})();var cx=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ux=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var _re=["container"],yre=["inputfield"],vre=["contentWrapper"],bre=[[["p-header"]],[["p-footer"]]],wre=["p-header","p-footer"],Ire=(n,e,t,i,r)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":e,"p-calendar-timeonly":t,"p-calendar-disabled":i,"p-focus":r}),Cre=n=>({clickCallBack:n}),Ere=n=>({"p-datepicker-icon":n}),Tre=(n,e,t,i,r,o)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}),g4=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),xre=n=>({value:"visibleTouchUI",params:n}),Sre=n=>({value:"visible",params:n}),dx=n=>({$implicit:n}),Dre=(n,e)=>({"p-datepicker-other-month":n,"p-datepicker-today":e}),Are=(n,e)=>({"p-highlight p-datepicker-current-day":n,"p-disabled":e}),y4=(n,e)=>({"p-highlight":n,"p-disabled":e}),_4=n=>[n];function Mre(n,e){if(n&1){let t=ue();C(0,"TimesIcon",11),Q("click",function(){F(t);let r=y(3);return L(r.clear())}),E()}n&2&&f("styleClass","p-calendar-clear-icon")}function Rre(n,e){}function kre(n,e){n&1&&T(0,Rre,0,0,"ng-template")}function Ore(n,e){if(n&1){let t=ue();C(0,"span",12),Q("click",function(){F(t);let r=y(3);return L(r.clear())}),T(1,kre,1,0,null,13),E()}if(n&2){let t=y(3);g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function Pre(n,e){if(n&1&&(ie(0),T(1,Mre,1,1,"TimesIcon",9)(2,Ore,2,1,"span",10),re()),n&2){let t=y(2);g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function Fre(n,e){if(n&1&&G(0,"span",16),n&2){let t=y(3);f("ngClass",t.icon)}}function Lre(n,e){n&1&&G(0,"CalendarIcon")}function Nre(n,e){}function Vre(n,e){n&1&&T(0,Nre,0,0,"ng-template")}function Bre(n,e){if(n&1&&(ie(0),T(1,Lre,1,0,"CalendarIcon",7)(2,Vre,1,0,null,13),re()),n&2){let t=y(3);g(),f("ngIf",!t.triggerIconTemplate),g(),f("ngTemplateOutlet",t.triggerIconTemplate)}}function zre(n,e){if(n&1){let t=ue();C(0,"button",14),Q("click",function(r){F(t),y();let o=ct(1),s=y();return L(s.onButtonClick(r,o))}),T(1,Fre,1,1,"span",15)(2,Bre,3,2,"ng-container",7),E()}if(n&2){let t,i=y(2);f("disabled",i.disabled),N("aria-label",i.iconButtonAriaLabel)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null),g(),f("ngIf",i.icon),g(),f("ngIf",!i.icon)}}function Ure(n,e){if(n&1){let t=ue();C(0,"CalendarIcon",19),Q("click",function(r){F(t);let o=y(3);return L(o.onButtonClick(r))}),E()}if(n&2){let t=y(3);f("ngClass",Ie(1,Ere,t.showOnFocus))}}function Hre(n,e){n&1&&de(0)}function jre(n,e){if(n&1&&(ie(0),T(1,Ure,1,3,"CalendarIcon",17)(2,Hre,1,0,"ng-container",18),re()),n&2){let t=y(2);g(),f("ngIf",!t.inputIconTemplate),g(),f("ngTemplateOutlet",t.inputIconTemplate)("ngTemplateOutletContext",Ie(3,Cre,t.onButtonClick.bind(t)))}}function $re(n,e){if(n&1){let t=ue();C(0,"input",6,1),Q("focus",function(r){F(t);let o=y();return L(o.onInputFocus(r))})("keydown",function(r){F(t);let o=y();return L(o.onInputKeydown(r))})("click",function(){F(t);let r=y();return L(r.onInputClick())})("blur",function(r){F(t);let o=y();return L(o.onInputBlur(r))})("input",function(r){F(t);let o=y();return L(o.onUserInput(r))}),E(),T(2,Pre,3,2,"ng-container",7)(3,zre,3,6,"button",8)(4,jre,3,5,"ng-container",7)}if(n&2){let t,i=y();ne(i.inputStyleClass),f("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),N("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),g(2),f("ngIf",i.showClear&&!i.disabled&&i.value!=null),g(),f("ngIf",i.showIcon&&i.iconDisplay==="button"),g(),f("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function Gre(n,e){n&1&&de(0)}function Wre(n,e){n&1&&G(0,"ChevronLeftIcon",40),n&2&&f("styleClass","p-datepicker-prev-icon")}function qre(n,e){}function Kre(n,e){n&1&&T(0,qre,0,0,"ng-template")}function Yre(n,e){if(n&1&&(C(0,"span",41),T(1,Kre,1,0,null,13),E()),n&2){let t=y(5);g(),f("ngTemplateOutlet",t.previousIconTemplate)}}function Qre(n,e){if(n&1){let t=ue();C(0,"button",38),Q("keydown",function(r){F(t);let o=y(4);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(4);return L(o.onPrevButtonClick(r))}),T(1,Wre,1,1,"ChevronLeftIcon",35)(2,Yre,2,1,"span",39),E()}if(n&2){let t=y(4);N("aria-label",t.prevIconAriaLabel),g(),f("ngIf",!t.previousIconTemplate),g(),f("ngIf",t.previousIconTemplate)}}function Zre(n,e){if(n&1){let t=ue();C(0,"button",42),Q("click",function(r){F(t);let o=y(4);return L(o.switchToMonthView(r))})("keydown",function(r){F(t);let o=y(4);return L(o.onContainerButtonKeydown(r))}),oe(1),E()}if(n&2){let t=y().$implicit,i=y(3);f("disabled",i.switchViewButtonDisabled()),N("aria-label",i.getTranslation("chooseMonth")),g(),zt(" ",i.getMonthName(t.month)," ")}}function Xre(n,e){if(n&1){let t=ue();C(0,"button",43),Q("click",function(r){F(t);let o=y(4);return L(o.switchToYearView(r))})("keydown",function(r){F(t);let o=y(4);return L(o.onContainerButtonKeydown(r))}),oe(1),E()}if(n&2){let t=y().$implicit,i=y(3);f("disabled",i.switchViewButtonDisabled()),N("aria-label",i.getTranslation("chooseYear")),g(),zt(" ",i.getYear(t)," ")}}function Jre(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(5);g(),IC("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function eoe(n,e){n&1&&de(0)}function toe(n,e){if(n&1&&(C(0,"span",44),T(1,Jre,2,2,"ng-container",7)(2,eoe,1,0,"ng-container",18),E()),n&2){let t=y(4);g(),f("ngIf",!t.decadeTemplate),g(),f("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",Ie(3,dx,t.yearPickerValues))}}function noe(n,e){n&1&&G(0,"ChevronRightIcon",40),n&2&&f("styleClass","p-datepicker-next-icon")}function ioe(n,e){}function roe(n,e){n&1&&T(0,ioe,0,0,"ng-template")}function ooe(n,e){if(n&1&&(C(0,"span",45),T(1,roe,1,0,null,13),E()),n&2){let t=y(4);g(),f("ngTemplateOutlet",t.nextIconTemplate)}}function soe(n,e){if(n&1&&(C(0,"th",51)(1,"span"),oe(2),E()()),n&2){let t=y(5);g(2),Ue(t.getTranslation("weekHeader"))}}function aoe(n,e){if(n&1&&(C(0,"th",52)(1,"span"),oe(2),E()()),n&2){let t=e.$implicit;g(2),Ue(t)}}function loe(n,e){if(n&1&&(C(0,"td",55)(1,"span",56),oe(2),E()()),n&2){let t=y().index,i=y(2).$implicit;g(2),zt(" ",i.weekNumbers[t]," ")}}function coe(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(2).$implicit;g(),Ue(t.day)}}function uoe(n,e){n&1&&de(0)}function doe(n,e){if(n&1&&(ie(0),T(1,uoe,1,0,"ng-container",18),re()),n&2){let t=y(2).$implicit,i=y(6);g(),f("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",Ie(2,dx,t))}}function hoe(n,e){n&1&&de(0)}function poe(n,e){if(n&1&&(ie(0),T(1,hoe,1,0,"ng-container",18),re()),n&2){let t=y(2).$implicit,i=y(6);g(),f("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",Ie(2,dx,t))}}function foe(n,e){if(n&1&&(C(0,"div",59),oe(1),E()),n&2){let t=y(2).$implicit;g(),zt(" ",t.day," ")}}function moe(n,e){if(n&1){let t=ue();ie(0),C(1,"span",57),Q("click",function(r){F(t);let o=y().$implicit,s=y(6);return L(s.onDateSelect(r,o))})("keydown",function(r){F(t);let o=y().$implicit,s=y(3).index,a=y(3);return L(a.onDateCellKeydown(r,o,s))}),T(2,coe,2,1,"ng-container",7)(3,doe,2,4,"ng-container",7)(4,poe,2,4,"ng-container",7),E(),T(5,foe,2,1,"div",58),re()}if(n&2){let t=y().$implicit,i=y(6);g(),f("ngClass",Nt(6,Are,i.isSelected(t)&&t.selectable,!t.selectable)),N("data-date",i.formatDateKey(i.formatDateMetaToDate(t))),g(),f("ngIf",!i.dateTemplate&&(t.selectable||!i.disabledDateTemplate)),g(),f("ngIf",t.selectable||!i.disabledDateTemplate),g(),f("ngIf",!t.selectable),g(),f("ngIf",i.isSelected(t))}}function goe(n,e){if(n&1&&(C(0,"td",16),T(1,moe,6,9,"ng-container",7),E()),n&2){let t=e.$implicit,i=y(6);f("ngClass",Nt(3,Dre,t.otherMonth,t.today)),N("aria-label",t.day),g(),f("ngIf",t.otherMonth?i.showOtherMonths:!0)}}function _oe(n,e){if(n&1&&(C(0,"tr"),T(1,loe,3,1,"td",53)(2,goe,2,6,"td",54),E()),n&2){let t=e.$implicit,i=y(5);g(),f("ngIf",i.showWeek),g(),f("ngForOf",t)}}function yoe(n,e){if(n&1&&(C(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),T(4,soe,3,1,"th",48)(5,aoe,3,1,"th",49),E()(),C(6,"tbody"),T(7,_oe,3,2,"tr",50),E()()()),n&2){let t=y().$implicit,i=y(3);g(4),f("ngIf",i.showWeek),g(),f("ngForOf",i.weekDays),g(2),f("ngForOf",t.dates)}}function voe(n,e){if(n&1){let t=ue();C(0,"div",27)(1,"div",28),T(2,Qre,3,3,"button",29),C(3,"div",30),T(4,Zre,2,3,"button",31)(5,Xre,2,3,"button",32)(6,toe,3,5,"span",33),E(),C(7,"button",34),Q("keydown",function(r){F(t);let o=y(3);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(3);return L(o.onNextButtonClick(r))}),T(8,noe,1,1,"ChevronRightIcon",35)(9,ooe,2,1,"span",36),E()(),T(10,yoe,8,3,"div",37),E()}if(n&2){let t=e.index,i=y(3);g(2),f("ngIf",t===0),g(2),f("ngIf",i.currentView==="date"),g(),f("ngIf",i.currentView!=="year"),g(),f("ngIf",i.currentView==="year"),g(),Oc("display",i.numberOfMonths===1||t===i.numberOfMonths-1?"inline-flex":"none"),N("aria-label",i.nextIconAriaLabel),g(),f("ngIf",!i.nextIconTemplate),g(),f("ngIf",i.nextIconTemplate),g(),f("ngIf",i.currentView==="date")}}function boe(n,e){if(n&1&&(C(0,"div",59),oe(1),E()),n&2){let t=y().$implicit;g(),zt(" ",t," ")}}function woe(n,e){if(n&1){let t=ue();C(0,"span",62),Q("click",function(r){let o=F(t).index,s=y(4);return L(s.onMonthSelect(r,o))})("keydown",function(r){let o=F(t).index,s=y(4);return L(s.onMonthCellKeydown(r,o))}),oe(1),T(2,boe,2,1,"div",58),E()}if(n&2){let t=e.$implicit,i=e.index,r=y(4);f("ngClass",Nt(3,y4,r.isMonthSelected(i),r.isMonthDisabled(i))),g(),zt(" ",t," "),g(),f("ngIf",r.isMonthSelected(i))}}function Ioe(n,e){if(n&1&&(C(0,"div",60),T(1,woe,3,6,"span",61),E()),n&2){let t=y(3);g(),f("ngForOf",t.monthPickerValues())}}function Coe(n,e){if(n&1&&(C(0,"div",59),oe(1),E()),n&2){let t=y().$implicit;g(),zt(" ",t," ")}}function Eoe(n,e){if(n&1){let t=ue();C(0,"span",65),Q("click",function(r){let o=F(t).$implicit,s=y(4);return L(s.onYearSelect(r,o))})("keydown",function(r){let o=F(t).$implicit,s=y(4);return L(s.onYearCellKeydown(r,o))}),oe(1),T(2,Coe,2,1,"div",58),E()}if(n&2){let t=e.$implicit,i=y(4);f("ngClass",Nt(3,y4,i.isYearSelected(t),i.isYearDisabled(t))),g(),zt(" ",t," "),g(),f("ngIf",i.isYearSelected(t))}}function Toe(n,e){if(n&1&&(C(0,"div",63),T(1,Eoe,3,6,"span",64),E()),n&2){let t=y(3);g(),f("ngForOf",t.yearPickerValues())}}function xoe(n,e){if(n&1&&(ie(0),C(1,"div",23),T(2,voe,11,10,"div",24),E(),T(3,Ioe,2,1,"div",25)(4,Toe,2,1,"div",26),re()),n&2){let t=y(2);g(2),f("ngForOf",t.months),g(),f("ngIf",t.currentView==="month"),g(),f("ngIf",t.currentView==="year")}}function Soe(n,e){n&1&&G(0,"ChevronUpIcon")}function Doe(n,e){}function Aoe(n,e){n&1&&T(0,Doe,0,0,"ng-template")}function Moe(n,e){n&1&&(ie(0),oe(1,"0"),re())}function Roe(n,e){n&1&&G(0,"ChevronDownIcon")}function koe(n,e){}function Ooe(n,e){n&1&&T(0,koe,0,0,"ng-template")}function Poe(n,e){n&1&&G(0,"ChevronUpIcon")}function Foe(n,e){}function Loe(n,e){n&1&&T(0,Foe,0,0,"ng-template")}function Noe(n,e){n&1&&(ie(0),oe(1,"0"),re())}function Voe(n,e){n&1&&G(0,"ChevronDownIcon")}function Boe(n,e){}function zoe(n,e){n&1&&T(0,Boe,0,0,"ng-template")}function Uoe(n,e){if(n&1&&(C(0,"div",69)(1,"span"),oe(2),E()()),n&2){let t=y(3);g(2),Ue(t.timeSeparator)}}function Hoe(n,e){n&1&&G(0,"ChevronUpIcon")}function joe(n,e){}function $oe(n,e){n&1&&T(0,joe,0,0,"ng-template")}function Goe(n,e){n&1&&(ie(0),oe(1,"0"),re())}function Woe(n,e){n&1&&G(0,"ChevronDownIcon")}function qoe(n,e){}function Koe(n,e){n&1&&T(0,qoe,0,0,"ng-template")}function Yoe(n,e){if(n&1){let t=ue();C(0,"div",74)(1,"button",68),Q("keydown",function(r){F(t);let o=y(3);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(3);return L(o.incrementSecond(r))})("keydown.space",function(r){F(t);let o=y(3);return L(o.incrementSecond(r))})("mousedown",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(3);return L(r.onTimePickerElementMouseLeave())}),T(2,Hoe,1,0,"ChevronUpIcon",7)(3,$oe,1,0,null,13),E(),C(4,"span"),T(5,Goe,2,0,"ng-container",7),oe(6),E(),C(7,"button",68),Q("keydown",function(r){F(t);let o=y(3);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(3);return L(o.decrementSecond(r))})("keydown.space",function(r){F(t);let o=y(3);return L(o.decrementSecond(r))})("mousedown",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(3);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(3);return L(r.onTimePickerElementMouseLeave())}),T(8,Woe,1,0,"ChevronDownIcon",7)(9,Koe,1,0,null,13),E()()}if(n&2){let t=y(3);g(),N("aria-label",t.getTranslation("nextSecond")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentSecond<10),g(),Ue(t.currentSecond),g(),N("aria-label",t.getTranslation("prevSecond")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate)}}function Qoe(n,e){n&1&&G(0,"ChevronUpIcon")}function Zoe(n,e){}function Xoe(n,e){n&1&&T(0,Zoe,0,0,"ng-template")}function Joe(n,e){n&1&&G(0,"ChevronDownIcon")}function ese(n,e){}function tse(n,e){n&1&&T(0,ese,0,0,"ng-template")}function nse(n,e){if(n&1){let t=ue();C(0,"div",75)(1,"button",76),Q("keydown",function(r){F(t);let o=y(3);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(3);return L(o.toggleAMPM(r))})("keydown.enter",function(r){F(t);let o=y(3);return L(o.toggleAMPM(r))}),T(2,Qoe,1,0,"ChevronUpIcon",7)(3,Xoe,1,0,null,13),E(),C(4,"span"),oe(5),E(),C(6,"button",76),Q("keydown",function(r){F(t);let o=y(3);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(3);return L(o.toggleAMPM(r))})("keydown.enter",function(r){F(t);let o=y(3);return L(o.toggleAMPM(r))}),T(7,Joe,1,0,"ChevronDownIcon",7)(8,tse,1,0,null,13),E()()}if(n&2){let t=y(3);g(),N("aria-label",t.getTranslation("am")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),Ue(t.pm?"PM":"AM"),g(),N("aria-label",t.getTranslation("pm")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate)}}function ise(n,e){if(n&1){let t=ue();C(0,"div",66)(1,"div",67)(2,"button",68),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(2);return L(o.incrementHour(r))})("keydown.space",function(r){F(t);let o=y(2);return L(o.incrementHour(r))})("mousedown",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(2);return L(r.onTimePickerElementMouseLeave())}),T(3,Soe,1,0,"ChevronUpIcon",7)(4,Aoe,1,0,null,13),E(),C(5,"span"),T(6,Moe,2,0,"ng-container",7),oe(7),E(),C(8,"button",68),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(2);return L(o.decrementHour(r))})("keydown.space",function(r){F(t);let o=y(2);return L(o.decrementHour(r))})("mousedown",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(2);return L(r.onTimePickerElementMouseLeave())}),T(9,Roe,1,0,"ChevronDownIcon",7)(10,Ooe,1,0,null,13),E()(),C(11,"div",69)(12,"span"),oe(13),E()(),C(14,"div",70)(15,"button",68),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(2);return L(o.incrementMinute(r))})("keydown.space",function(r){F(t);let o=y(2);return L(o.incrementMinute(r))})("mousedown",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(2);return L(r.onTimePickerElementMouseLeave())}),T(16,Poe,1,0,"ChevronUpIcon",7)(17,Loe,1,0,null,13),E(),C(18,"span"),T(19,Noe,2,0,"ng-container",7),oe(20),E(),C(21,"button",68),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){F(t);let o=y(2);return L(o.decrementMinute(r))})("keydown.space",function(r){F(t);let o=y(2);return L(o.decrementMinute(r))})("mousedown",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){F(t);let o=y(2);return L(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){F(t);let r=y(2);return L(r.onTimePickerElementMouseLeave())}),T(22,Voe,1,0,"ChevronDownIcon",7)(23,zoe,1,0,null,13),E()(),T(24,Uoe,3,1,"div",71)(25,Yoe,10,8,"div",72)(26,nse,9,7,"div",73),E()}if(n&2){let t=y(2);g(2),N("aria-label",t.getTranslation("nextHour")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentHour<10),g(),Ue(t.currentHour),g(),N("aria-label",t.getTranslation("prevHour")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate),g(3),Ue(t.timeSeparator),g(2),N("aria-label",t.getTranslation("nextMinute")),g(),f("ngIf",!t.incrementIconTemplate),g(),f("ngTemplateOutlet",t.incrementIconTemplate),g(2),f("ngIf",t.currentMinute<10),g(),Ue(t.currentMinute),g(),N("aria-label",t.getTranslation("prevMinute")),g(),f("ngIf",!t.decrementIconTemplate),g(),f("ngTemplateOutlet",t.decrementIconTemplate),g(),f("ngIf",t.showSeconds),g(),f("ngIf",t.showSeconds),g(),f("ngIf",t.hourFormat=="12")}}function rse(n,e){if(n&1){let t=ue();C(0,"div",77)(1,"button",78),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(2);return L(o.onTodayButtonClick(r))}),E(),C(2,"button",78),Q("keydown",function(r){F(t);let o=y(2);return L(o.onContainerButtonKeydown(r))})("click",function(r){F(t);let o=y(2);return L(o.onClearButtonClick(r))}),E()()}if(n&2){let t=y(2);g(),f("label",t.getTranslation("today"))("ngClass",Ie(4,_4,t.todayButtonStyleClass)),g(),f("label",t.getTranslation("clear"))("ngClass",Ie(6,_4,t.clearButtonStyleClass))}}function ose(n,e){n&1&&de(0)}function sse(n,e){if(n&1){let t=ue();C(0,"div",20,2),Q("@overlayAnimation.start",function(r){F(t);let o=y();return L(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){F(t);let o=y();return L(o.onOverlayAnimationDone(r))})("click",function(r){F(t);let o=y();return L(o.onOverlayClick(r))}),nn(2),T(3,Gre,1,0,"ng-container",13)(4,xoe,5,3,"ng-container",7)(5,ise,27,20,"div",21)(6,rse,3,8,"div",22),nn(7,1),T(8,ose,1,0,"ng-container",13),E()}if(n&2){let t=y();ne(t.panelStyleClass),f("ngStyle",t.panelStyle)("ngClass",Fc(15,Tre,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,t.view==="month",t.touchUI))("@overlayAnimation",t.touchUI?Ie(25,xre,Nt(22,g4,t.showTransitionOptions,t.hideTransitionOptions)):Ie(30,Sre,Nt(27,g4,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",t.inline===!0),N("id",t.panelId)("aria-label",t.getTranslation("chooseDate"))("role",t.inline?null:"dialog")("aria-modal",t.inline?null:"true"),g(3),f("ngTemplateOutlet",t.headerTemplate),g(),f("ngIf",!t.timeOnly),g(),f("ngIf",(t.showTime||t.timeOnly)&&t.currentView==="date"),g(),f("ngIf",t.showButtonBar),g(2),f("ngTemplateOutlet",t.footerTemplate)}}var ase={provide:Rn,useExisting:gn(()=>lse),multi:!0},lse=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(t){this._minDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){let i=t.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){let i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new Z;onBlur=new Z;onClose=new Z;onSelect=new Z;onClear=new Z;onInput=new Z;onTodayClick=new Z;onClearClick=new Z;onMonthChange=new Z;onYearChange=new Z;onClickOutside=new Z;onShow=new Z;templates;containerViewChild;inputfieldViewChild;set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(t,i,r,o,s,a,l){this.document=t,this.el=i,this.renderer=r,this.cd=o,this.zone=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=wt(),this.panelId=this.attributeSelector+"_panel";let t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"inputicon":this.inputIconTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"decrementicon":this.decrementIconTemplate=t.template;break;case"incrementicon":this.incrementIconTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.dateTemplate=t.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=k.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,i){this.yearOptions=[];for(let r=t;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),i=this.getTranslation(Mn.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[t]),t=t==6?0:++t}monthPickerValues(){let t=[];for(let i=0;i<=11;i++)t.push(this.config.getTranslation("monthNamesShort")[i]);return t}yearPickerValues(){let t=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)t.push(i+r);return t}createMonths(t,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=t+r,s=i;o>11&&(o=o%11-1,s=i+1),this.months.push(this.createMonth(o,s))}}getWeekNumber(t){let i=new Date(t.getTime());if(this.startWeekFromFirstDayOfYear){let o=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+o-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(t,i){let r=[],o=this.getFirstDayOfMonthIndex(t,i),s=this.getDaysCountInMonth(t,i),a=this.getDaysCountInPrevMonth(t,i),l=1,c=new Date,u=[],h=Math.ceil((s+o)/7);for(let p=0;p<h;p++){let m=[];if(p==0){for(let w=a-o+1;w<=a;w++){let I=this.getPreviousMonthAndYear(t,i);m.push({day:w,month:I.month,year:I.year,otherMonth:!0,today:this.isToday(c,w,I.month,I.year),selectable:this.isSelectable(w,I.month,I.year,!0)})}let v=7-m.length;for(let w=0;w<v;w++)m.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)}),l++}else for(let v=0;v<7;v++){if(l>s){let w=this.getNextMonthAndYear(t,i);m.push({day:l-s,month:w.month,year:w.year,otherMonth:!0,today:this.isToday(c,l-s,w.month,w.year),selectable:this.isSelectable(l-s,w.month,w.year,!0)})}else m.push({day:l,month:t,year:i,today:this.isToday(c,l,t,i),selectable:this.isSelectable(l,t,i,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(m[0].year,m[0].month,m[0].day))),r.push(m)}return{month:t,year:i,dates:r,weekNumbers:u}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]-i,t[t.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]+i,t[t.length-1]+i)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,i){if(this.disabled||!i.selectable){t.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()}shouldSelectDate(t){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(t,i){this.view==="month"?this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,i){this.view==="year"?this.onDateSelect(t,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value){if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);t+=r,i!==this.value.length-1&&(t+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];t=this.formatDateTime(i),r&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let i=this.keepInvalid?t:null,r=this.isValidDateForTimeConstraints(t);return this.isValidDate(t)?this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t))):this.dataType==="string"&&(i=t),i=r?i:"",i}formatDateMetaToDate(t){return new Date(t.year,t.month,t.day)}formatDateKey(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}setCurrentHourPM(t){this.hourFormat=="12"?(this.pm=t>11,t>=12?this.currentHour=t==12?12:t-12:this.currentHour=t==0?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let i=this.formatDateMetaToDate(t);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(t){if(this.value=t,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(t,i){let r=new Date;r.setDate(1),r.setMonth(t),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}getDaysCountInPrevMonth(t,i){let r=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(t,i){let r,o;return t===0?(r=11,o=i-1):(r=t-1,o=i),{month:r,year:o}}getNextMonthAndYear(t,i){let r,o;return t===11?(r=0,o=i+1):(r=t+1,o=i),{month:r,year:o}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,t),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],o=new Date(this.currentYear,t,1);return o>=i&&o<=(r??i)}return!1}isMonthDisabled(t,i){let r=i??this.currentYear;for(let o=1;o<this.getDaysCountInMonth(t,r)+1;o++)if(this.isSelectable(o,t,r,!1))return!1;return!0}isYearDisabled(t){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,t))}isYearSelected(t){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===t}return!1}isDateEquals(t,i){return t&&ee.isDate(t)?t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year:!1}isDateBetween(t,i,r){let o=!1;if(ee.isDate(t)&&ee.isDate(i)){let s=this.formatDateMetaToDate(r);return t.getTime()<=s.getTime()&&i.getTime()>=s.getTime()}return o}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(t,i,r,o){return t.getDate()===i&&t.getMonth()===r&&t.getFullYear()===o}isSelectable(t,i,r,o){let s=!0,a=!0,l=!0,c=!0;return o&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(t,i,r)),this.disabledDays&&(c=!this.isDayDisabled(t,i,r)),s&&a&&l&&c)}isDateDisabled(t,i,r){if(this.disabledDates){for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===t)return!0}return!1}isDayDisabled(t,i,r){if(this.disabledDays){let s=new Date(r,i,t).getDay();return this.disabledDays.indexOf(s)!==-1}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return this.currentView==="month"?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:if(this.inline||this.trapFocus(t),this.inline){let i=k.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=t.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break;default:break}}onInputKeydown(t){this.isKeydown=!0,t.keyCode===40&&this.contentViewChild?this.trapFocus(t):t.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault()):t.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):t.keyCode===9&&this.contentViewChild&&(k.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,i,r){let o=t.currentTarget,s=o.parentElement,a=this.formatDateMetaToDate(i);switch(t.which){case 40:{o.tabIndex="-1";let v=k.index(s),w=s.parentElement.nextElementSibling;if(w){let I=w.children[v].children[0];k.hasClass(I,"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(w.children[v].children[0].tabIndex="0",w.children[v].children[0].focus())}else this.navigationState={backward:!1},this.navForward(t);t.preventDefault();break}case 38:{o.tabIndex="-1";let v=k.index(s),w=s.parentElement.previousElementSibling;if(w){let I=w.children[v].children[0];k.hasClass(I,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(I.tabIndex="0",I.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{o.tabIndex="-1";let v=s.previousElementSibling;if(v){let w=v.children[0];k.hasClass(w,"p-disabled")||k.hasClass(w.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(w.tabIndex="0",w.focus())}else this.navigateToMonth(!0,r);t.preventDefault();break}case 39:{o.tabIndex="-1";let v=s.nextElementSibling;if(v){let w=v.children[0];k.hasClass(w,"p-disabled")?this.navigateToMonth(!1,r):(w.tabIndex="0",w.focus())}else this.navigateToMonth(!1,r);t.preventDefault();break}case 13:case 32:{this.onDateSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}case 33:{o.tabIndex="-1";let v=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),w=this.formatDateKey(v);this.navigateToMonth(!0,r,`span[data-date='${w}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 34:{o.tabIndex="-1";let v=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),w=this.formatDateKey(v);this.navigateToMonth(!1,r,`span[data-date='${w}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 36:o.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),u=k.findSingle(o.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),t.preventDefault();break;case 35:o.tabIndex="-1";let h=new Date(a.getFullYear(),a.getMonth()+1,0),p=this.formatDateKey(h),m=k.findSingle(o.offsetParent,`span[data-date='${p}']:not(.p-disabled):not(.p-ink)`);h&&(m.tabIndex="0",m.focus()),t.preventDefault();break;default:break}}onMonthCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,s=k.index(r);let a=o[t.which===40?s+3:s-3];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onMonthSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}default:break}}onYearCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,s=k.index(r);let a=o[t.which===40?s+2:s-2];a&&(a.tabIndex="0",a.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onYearSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.trapFocus(t);break}default:break}}navigateToMonth(t,i,r){if(t)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let o=this.contentViewChild.nativeElement.children[i-1];if(r){let s=k.findSingle(o,r);s.tabIndex="0",s.focus()}else{let s=k.find(o,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let o=this.contentViewChild.nativeElement.children[i+1];if(r){let s=k.findSingle(o,r);s.tabIndex="0",s.focus()}else{let s=k.findSingle(o,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=k.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=k.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=k.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(t=i[i.length-1])}else this.currentView==="month"?t=k.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=k.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=k.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let t=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=k.find(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),o=k.findSingle(t,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(s=>s.tabIndex=-1),i=o||r[0],r.length===0&&k.find(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=k.find(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),o=k.findSingle(t,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(s=>s.tabIndex=-1),i=o||r[0],r.length===0&&k.find(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=k.findSingle(t,"span.p-highlight"),!i){let r=k.findSingle(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=k.findSingle(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(t){let i=k.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let o=0;for(let s=0;s<i.length;s++)i[s].tagName==="SPAN"&&(o=s);i[o].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(t,i){return this.hourFormat=="12"?t===12?i?12:0:i?t+12:t:t}constrainTime(t,i,r,o){let s=[t,i,r],a,l=this.value,c=this.convertTo24Hour(t,o),u=this.isRangeSelection(),h=this.isMultipleSelection();(u||h)&&(this.value||(this.value=[new Date,new Date]),u&&(l=this.value[1]||this.value[0]),h&&(l=this.value[this.value.length-1]));let m=l?l.toDateString():null,v=this.minDate&&m&&this.minDate.toDateString()===m,w=this.maxDate&&m&&this.maxDate.toDateString()===m;switch(v&&(a=this.minDate.getHours()>=12),!0){case(v&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):s[0]=11;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):s[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(v&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):s[0]=11,this.pm=!0;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):s[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(v&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),s[0]=this.currentHour;case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):s[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(v&&this.minDate.getHours()>c):s[0]=this.minDate.getHours();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()>i):s[1]=this.minDate.getMinutes();case(v&&this.minDate.getHours()===c&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(w&&this.maxDate.getHours()<c):s[0]=this.maxDate.getHours();case(w&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<i):s[1]=this.maxDate.getMinutes();case(w&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):s[2]=this.maxDate.getSeconds();break}return s}incrementHour(t){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,o=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(o),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,o),t.preventDefault()}toggleAMPMIfNotMinDate(t){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=t}onTimePickerElementMouseDown(t,i,r){this.disabled||(this.repeat(t,null,i,r),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,i,r,o){let s=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,r,o),this.cd.markForCheck()},s),r){case 0:o===1?this.incrementHour(t):this.decrementHour(t);break;case 1:o===1?this.incrementMinute(t):this.decrementMinute(t);break;case 2:o===1?this.incrementSecond(t):this.decrementSecond(t);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),t.preventDefault()}incrementMinute(t){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}decrementMinute(t){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}incrementSecond(t){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}decrementSecond(t){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?t=[this.value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let i=t.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let o=this.keepInvalid?i:null;this.updateModel(o)}this.filled=i!=null&&i.length,this.onInput.emit(t)}isValidSelection(t){if(this.isSingleSelection())return this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1);let i=t.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=t.length===1||t.length>1&&t[1]>=t[0]),i}parseValueFromString(t){if(!t||t.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){let r=t.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=t.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(t){let i,r=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let o=this.getDateFormat();if(this.showTime){let s=this.hourFormat=="12"?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,a,s)}else i=this.parseDate(t,o)}return i}populateTime(t,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let o=this.parseTime(i);t.setHours(o.hour),t.setMinutes(o.minute),t.setSeconds(o.second)}isValidDate(t){return ee.isDate(t)&&ee.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[1]||t[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?xn.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):xn.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t);break}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&xn.clear(t.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):k.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=k.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=k.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=k.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),k.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):k.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),k.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),k.blockBodyScroll())}disableModality(){this.mask&&(k.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let t=this.document.body.children,i;for(let r=0;r<t.length;r++){let o=t[r];if(k.hasClass(o,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||k.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Mn.FIRST_DAY_OF_WEEK)}formatDate(t,i){if(!t)return"";let r,o=u=>{let h=r+1<i.length&&i.charAt(r+1)===u;return h&&r++,h},s=(u,h,p)=>{let m=""+h;if(o(u))for(;m.length<p;)m="0"+m;return m},a=(u,h,p,m)=>o(u)?m[h]:p[h],l="",c=!1;if(t)for(r=0;r<i.length;r++)if(c)i.charAt(r)==="'"&&!o("'")?c=!1:l+=i.charAt(r);else switch(i.charAt(r)){case"d":l+=s("d",t.getDate(),2);break;case"D":l+=a("D",t.getDay(),this.getTranslation(Mn.DAY_NAMES_SHORT),this.getTranslation(Mn.DAY_NAMES));break;case"o":l+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",t.getMonth()+1,2);break;case"M":l+=a("M",t.getMonth(),this.getTranslation(Mn.MONTH_NAMES_SHORT),this.getTranslation(Mn.MONTH_NAMES));break;case"y":l+=o("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this.ticksTo1970;break;case"'":o("'")?l+="'":c=!0;break;default:l+=i.charAt(r)}return l}formatTime(t){if(!t)return"";let i="",r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=s<10?"0"+s:s),this.hourFormat=="12"&&(i+=t.getHours()>11?" PM":" AM"),i}parseTime(t){let i=t.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let o=parseInt(i[0]),s=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(s)||o>23||s>59||this.hourFormat=="12"&&o>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(o!==12&&this.pm?o+=12:!this.pm&&o===12&&(o-=12)),{hour:o,minute:s,second:a}}parseDate(t,i){if(i==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t==="")return null;let r,o,s,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,h=-1,p=-1,m=!1,v,w=V=>{let z=r+1<i.length&&i.charAt(r+1)===V;return z&&r++,z},I=V=>{let z=w(V),q=V==="@"?14:V==="!"?20:V==="y"&&z?4:V==="o"?3:2,Y=V==="y"?q:1,M=new RegExp("^\\d{"+Y+","+q+"}"),x=t.substring(a).match(M);if(!x)throw"Missing number at position "+a;return a+=x[0].length,parseInt(x[0],10)},S=(V,z,q)=>{let Y=-1,M=w(V)?q:z,x=[];for(let D=0;D<M.length;D++)x.push([D,M[D]]);x.sort((D,B)=>-(D[1].length-B[1].length));for(let D=0;D<x.length;D++){let B=x[D][1];if(t.substr(a,B.length).toLowerCase()===B.toLowerCase()){Y=x[D][0],a+=B.length;break}}if(Y!==-1)return Y+1;throw"Unknown name at position "+a},R=()=>{if(t.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(h=1),r=0;r<i.length;r++)if(m)i.charAt(r)==="'"&&!w("'")?m=!1:R();else switch(i.charAt(r)){case"d":h=I("d");break;case"D":S("D",this.getTranslation(Mn.DAY_NAMES_SHORT),this.getTranslation(Mn.DAY_NAMES));break;case"o":p=I("o");break;case"m":u=I("m");break;case"M":u=S("M",this.getTranslation(Mn.MONTH_NAMES_SHORT),this.getTranslation(Mn.MONTH_NAMES));break;case"y":c=I("y");break;case"@":v=new Date(I("@")),c=v.getFullYear(),u=v.getMonth()+1,h=v.getDate();break;case"!":v=new Date((I("!")-this.ticksTo1970)/1e4),c=v.getFullYear(),u=v.getMonth()+1,h=v.getDate();break;case"'":w("'")?R():m=!0;break;default:R()}if(a<t.length&&(s=t.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),p>-1){u=1,h=p;do{if(o=this.getDaysCountInMonth(c,u-1),h<=o)break;u++,h-=o}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,h=h===-1?1:h),v=this.daylightSavingAdjust(new Date(c,u-1,h)),v.getFullYear()!==c||v.getMonth()+1!==u||v.getDate()!==h)throw"Invalid date";return v}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(t){return this.keepInvalid?!0:(!this.minDate||t>=this.minDate)&&(!this.maxDate||t<=this.maxDate)}onTodayButtonClick(t){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(t,r),this.onTodayClick.emit(i)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",k.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:s}=i[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${s}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=s;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;t+=`
                        @media screen and (max-width: ${o}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Po(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return k.hasClass(t.target,"p-datepicker-prev")||k.hasClass(t.target,"p-datepicker-prev-icon")||k.hasClass(t.target,"p-datepicker-next")||k.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!k.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&xn.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(j(ut),j(We),j(Gt),j(et),j(Qe),j(qt),j(gl))};static \u0275cmp=te({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(_re,5),Le(yre,5),Le(vre,5)),i&2){let o;me(o=ge())&&(r.containerViewChild=o.first),me(o=ge())&&(r.inputfieldViewChild=o.first),me(o=ge())&&(r.content=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Vn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[P.HasDecoratorInputTransform,"inline","inline",W],showOtherMonths:[P.HasDecoratorInputTransform,"showOtherMonths","showOtherMonths",W],selectOtherMonths:[P.HasDecoratorInputTransform,"selectOtherMonths","selectOtherMonths",W],showIcon:[P.HasDecoratorInputTransform,"showIcon","showIcon",W],icon:"icon",appendTo:"appendTo",readonlyInput:[P.HasDecoratorInputTransform,"readonlyInput","readonlyInput",W],shortYearCutoff:"shortYearCutoff",monthNavigator:[P.HasDecoratorInputTransform,"monthNavigator","monthNavigator",W],yearNavigator:[P.HasDecoratorInputTransform,"yearNavigator","yearNavigator",W],hourFormat:"hourFormat",timeOnly:[P.HasDecoratorInputTransform,"timeOnly","timeOnly",W],stepYearPicker:[P.HasDecoratorInputTransform,"stepYearPicker","stepYearPicker",Pe],stepHour:[P.HasDecoratorInputTransform,"stepHour","stepHour",Pe],stepMinute:[P.HasDecoratorInputTransform,"stepMinute","stepMinute",Pe],stepSecond:[P.HasDecoratorInputTransform,"stepSecond","stepSecond",Pe],showSeconds:[P.HasDecoratorInputTransform,"showSeconds","showSeconds",W],required:[P.HasDecoratorInputTransform,"required","required",W],showOnFocus:[P.HasDecoratorInputTransform,"showOnFocus","showOnFocus",W],showWeek:[P.HasDecoratorInputTransform,"showWeek","showWeek",W],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[P.HasDecoratorInputTransform,"showClear","showClear",W],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[P.HasDecoratorInputTransform,"maxDateCount","maxDateCount",Pe],showButtonBar:[P.HasDecoratorInputTransform,"showButtonBar","showButtonBar",W],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],autoZIndex:[P.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[P.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Pe],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[P.HasDecoratorInputTransform,"keepInvalid","keepInvalid",W],hideOnDateTimeSelect:[P.HasDecoratorInputTransform,"hideOnDateTimeSelect","hideOnDateTimeSelect",W],touchUI:[P.HasDecoratorInputTransform,"touchUI","touchUI",W],timeSeparator:"timeSeparator",focusTrap:[P.HasDecoratorInputTransform,"focusTrap","focusTrap",W],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[dn([ase]),Xe],ngContentSelectors:wre,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,r){i&1&&(_n(bre),C(0,"span",3,0),T(2,$re,5,22,"ng-template",4)(3,sse,9,32,"div",5),E()),i&2&&(ne(r.styleClass),f("ngClass",Ed(6,Ire,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),g(2),f("ngIf",!r.inline),g(),f("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[ft,si,tt,At,mt,Qd,ai,zd,Ud,cx,ah,Qn,ux,Di],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Il("overlayAnimation",[R3("visibleTouchUI",mi({transform:"translate(-50%,-50%)",opacity:1})),Er("void => visible",[mi({opacity:0,transform:"scaleY(0.8)"}),Cr("{{showTransitionParams}}",mi({opacity:1,transform:"*"}))]),Er("visible => void",[Cr("{{hideTransitionParams}}",mi({opacity:0}))]),Er("void => visibleTouchUI",[mi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Cr("{{showTransitionParams}}")]),Er("visibleTouchUI => void",[Cr("{{hideTransitionParams}}",mi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),v4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,fr,Ke,Si,zd,Ud,cx,ah,Qn,ux,Zi,fr,Ke]})}return n})();var hx=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ArrowDownIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var px=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["ArrowUpIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var b4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["FilterIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var w4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["FilterSlashIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var I4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var C4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["SortAltIcon"]],standalone:!0,features:[Me,ye],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),E(),C(6,"defs")(7,"clipPath",5),G(8,"rect",6),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(6),f("id",r.pathId))},encapsulation:2})}return n})();var E4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var T4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var x4=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["TrashIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var ch=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var fx=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleUpIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var cse=["input"],use=(n,e,t)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":t}),S4=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),D4=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function dse(n,e){if(n&1){let t=ue();C(0,"TimesIcon",8),Q("click",function(){F(t);let r=y(2);return L(r.clear())}),E()}n&2&&(f("ngClass","p-inputnumber-clear-icon"),N("data-pc-section","clearIcon"))}function hse(n,e){}function pse(n,e){n&1&&T(0,hse,0,0,"ng-template")}function fse(n,e){if(n&1){let t=ue();C(0,"span",9),Q("click",function(){F(t);let r=y(2);return L(r.clear())}),T(1,pse,1,0,null,10),E()}if(n&2){let t=y(2);N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function mse(n,e){if(n&1&&(ie(0),T(1,dse,1,2,"TimesIcon",6)(2,fse,2,2,"span",7),re()),n&2){let t=y();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}function gse(n,e){if(n&1&&G(0,"span",14),n&2){let t=y(2);f("ngClass",t.incrementButtonIcon),N("data-pc-section","incrementbuttonicon")}}function _se(n,e){n&1&&G(0,"AngleUpIcon"),n&2&&N("data-pc-section","incrementbuttonicon")}function yse(n,e){}function vse(n,e){n&1&&T(0,yse,0,0,"ng-template")}function bse(n,e){if(n&1&&(ie(0),T(1,_se,1,1,"AngleUpIcon",3)(2,vse,1,0,null,10),re()),n&2){let t=y(2);g(),f("ngIf",!t.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function wse(n,e){if(n&1&&G(0,"span",14),n&2){let t=y(2);f("ngClass",t.decrementButtonIcon),N("data-pc-section","decrementbuttonicon")}}function Ise(n,e){n&1&&G(0,"AngleDownIcon"),n&2&&N("data-pc-section","decrementbuttonicon")}function Cse(n,e){}function Ese(n,e){n&1&&T(0,Cse,0,0,"ng-template")}function Tse(n,e){if(n&1&&(ie(0),T(1,Ise,1,1,"AngleDownIcon",3)(2,Ese,1,0,null,10),re()),n&2){let t=y(2);g(),f("ngIf",!t.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function xse(n,e){if(n&1){let t=ue();C(0,"span",11)(1,"button",12),Q("mousedown",function(r){F(t);let o=y();return L(o.onUpButtonMouseDown(r))})("mouseup",function(){F(t);let r=y();return L(r.onUpButtonMouseUp())})("mouseleave",function(){F(t);let r=y();return L(r.onUpButtonMouseLeave())})("keydown",function(r){F(t);let o=y();return L(o.onUpButtonKeyDown(r))})("keyup",function(){F(t);let r=y();return L(r.onUpButtonKeyUp())}),T(2,gse,1,2,"span",13)(3,bse,3,2,"ng-container",3),E(),C(4,"button",12),Q("mousedown",function(r){F(t);let o=y();return L(o.onDownButtonMouseDown(r))})("mouseup",function(){F(t);let r=y();return L(r.onDownButtonMouseUp())})("mouseleave",function(){F(t);let r=y();return L(r.onDownButtonMouseLeave())})("keydown",function(r){F(t);let o=y();return L(o.onDownButtonKeyDown(r))})("keyup",function(){F(t);let r=y();return L(r.onDownButtonKeyUp())}),T(5,wse,1,2,"span",13)(6,Tse,3,2,"ng-container",3),E()()}if(n&2){let t=y();N("data-pc-section","buttonGroup"),g(),ne(t.incrementButtonClass),f("ngClass",Jt(17,S4))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",t.incrementButtonIcon),g(),f("ngIf",!t.incrementButtonIcon),g(),ne(t.decrementButtonClass),f("ngClass",Jt(18,D4))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section",t.decrementbutton),g(),f("ngIf",t.decrementButtonIcon),g(),f("ngIf",!t.decrementButtonIcon)}}function Sse(n,e){if(n&1&&G(0,"span",14),n&2){let t=y(2);f("ngClass",t.incrementButtonIcon),N("data-pc-section","incrementbuttonicon")}}function Dse(n,e){n&1&&G(0,"AngleUpIcon"),n&2&&N("data-pc-section","incrementbuttonicon")}function Ase(n,e){}function Mse(n,e){n&1&&T(0,Ase,0,0,"ng-template")}function Rse(n,e){if(n&1&&(ie(0),T(1,Dse,1,1,"AngleUpIcon",3)(2,Mse,1,0,null,10),re()),n&2){let t=y(2);g(),f("ngIf",!t.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function kse(n,e){if(n&1){let t=ue();C(0,"button",12),Q("mousedown",function(r){F(t);let o=y();return L(o.onUpButtonMouseDown(r))})("mouseup",function(){F(t);let r=y();return L(r.onUpButtonMouseUp())})("mouseleave",function(){F(t);let r=y();return L(r.onUpButtonMouseLeave())})("keydown",function(r){F(t);let o=y();return L(o.onUpButtonKeyDown(r))})("keyup",function(){F(t);let r=y();return L(r.onUpButtonKeyUp())}),T(1,Sse,1,2,"span",13)(2,Rse,3,2,"ng-container",3),E()}if(n&2){let t=y();ne(t.incrementButtonClass),f("ngClass",Jt(8,S4))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",t.incrementButtonIcon),g(),f("ngIf",!t.incrementButtonIcon)}}function Ose(n,e){if(n&1&&G(0,"span",14),n&2){let t=y(2);f("ngClass",t.decrementButtonIcon),N("data-pc-section","decrementbuttonicon")}}function Pse(n,e){n&1&&G(0,"AngleDownIcon"),n&2&&N("data-pc-section","decrementbuttonicon")}function Fse(n,e){}function Lse(n,e){n&1&&T(0,Fse,0,0,"ng-template")}function Nse(n,e){if(n&1&&(ie(0),T(1,Pse,1,1,"AngleDownIcon",3)(2,Lse,1,0,null,10),re()),n&2){let t=y(2);g(),f("ngIf",!t.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function Vse(n,e){if(n&1){let t=ue();C(0,"button",12),Q("mousedown",function(r){F(t);let o=y();return L(o.onDownButtonMouseDown(r))})("mouseup",function(){F(t);let r=y();return L(r.onDownButtonMouseUp())})("mouseleave",function(){F(t);let r=y();return L(r.onDownButtonMouseLeave())})("keydown",function(r){F(t);let o=y();return L(o.onDownButtonKeyDown(r))})("keyup",function(){F(t);let r=y();return L(r.onDownButtonKeyUp())}),T(1,Ose,1,2,"span",13)(2,Nse,3,2,"ng-container",3),E()}if(n&2){let t=y();ne(t.decrementButtonClass),f("ngClass",Jt(8,D4))("disabled",t.disabled),N("aria-hidden",!0)("data-pc-section","decrementbutton"),g(),f("ngIf",t.decrementButtonIcon),g(),f("ngIf",!t.decrementButtonIcon)}}var Bse={provide:Rn,useExisting:gn(()=>mx),multi:!0},mx=(()=>{class n{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}onInput=new Z;onFocus=new Z;onBlur=new Z;onKeyDown=new Z;onClear=new Z;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(t,i,r,o,s){this.document=t,this.el=i,this.cd=r,this.injector=o,this.config=s}ngOnChanges(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!t[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=t.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=t.template;break}})}ngOnInit(){this.ngControl=this.injector.get(Gr,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(t.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let t=this.getDecimalChar();return new RegExp(`[${t}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,lt(ce({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&t!=this.prefix&&(r=this.prefix+r),this.suffix&&t!=this.suffix&&(r=r+this.suffix),r}return t.toString()}return""}parseValue(t){let i=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),o=new RegExp(this._currency,""),s=t.replace(i,"").replace(r,"").trim().replace(/\s/g,"").replace(o,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if(s==="-")return s;let a=+s;return isNaN(a)?null:a}return null}repeat(t,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},o),this.spin(t,r)}spin(t,i){let r=this.step*i,o=this.parseValue(this.input?.nativeElement.value)||0,s=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(s).length||(this.updateInput(s,null,"spin",null),this.updateModel(t,s),this.handleOnInput(t,o,s))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(t){if(t.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)}onUserInput(t){this.readonly||(this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let i=t.target.selectionStart,r=t.target.selectionEnd,o=t.target.value,s=null;switch(t.altKey&&t.preventDefault(),t.key){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":for(let a=i;a<=o.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(o.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(o.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":s=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(t,s);break;case"Backspace":{if(t.preventDefault(),i===r){if(i==1&&this.prefix||i==o.length&&this.suffix)break;let a=o.charAt(i-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(a)){let u=this.getDecimalLength(o);if(this._group.test(a))this._group.lastIndex=0,s=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i-1,i-1):s=o.slice(0,i-1)+o.slice(i);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";s=o.slice(0,i-1)+h+o.slice(i)}else c===1?(s=o.slice(0,i-1)+"0"+o.slice(i),s=this.parseValue(s)>0?s:""):s=o.slice(0,i-1)+o.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(s=o.slice(1));this.updateValue(t,s,null,"delete-single")}else s=this.deleteRange(o,i,r),this.updateValue(t,s,null,"delete-range");break}case"Delete":if(t.preventDefault(),i===r){if(i==0&&this.prefix||i==o.length-1&&this.suffix)break;let a=o.charAt(i),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(a)){let u=this.getDecimalLength(o);if(this._group.test(a))this._group.lastIndex=0,s=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i+1,i+1):s=o.slice(0,i)+o.slice(i+1);else if(l>0&&i>l){let h=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";s=o.slice(0,i)+h+o.slice(i+1)}else c===1?(s=o.slice(0,i)+"0"+o.slice(i+1),s=this.parseValue(s)>0?s:""):s=o.slice(0,i)+o.slice(i+1)}this.updateValue(t,s,null,"delete-back-single")}else s=this.deleteRange(o,i,r),this.updateValue(t,s,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break;default:break}this.onKeyDown.emit(t)}onInputKeyPress(t){if(this.readonly)return;let i=t.which||t.keyCode,r=String.fromCharCode(i),o=this.isDecimalSign(r),s=this.isMinusSign(r);i!=13&&t.preventDefault(),!o&&t.code==="NumpadDecimal"&&(o=!0,r=this._decimalChar,i=r.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+r),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(t,r,{isDecimalSign:o,isMinusSign:s});return}this.maxlength&&l.length>this.maxlength||(48<=i&&i<=57||s||o)&&this.insert(t,r,{isDecimalSign:o,isMinusSign:s})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(t){if(!this.disabled&&!this.readonly){t.preventDefault();let i=(t.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let r=this.parseValue(i);r!=null&&this.insert(t,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let o=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(t){let i=t.search(this._decimal);this._decimal.lastIndex=0;let r=t.search(this._minusSign);this._minusSign.lastIndex=0;let o=t.search(this._suffix);this._suffix.lastIndex=0;let s=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:s}}insert(t,i,r={isDecimalSign:!1,isMinusSign:!1}){let o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&o!==-1)return;let s=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:h,currencyCharIndex:p}=this.getCharIndexes(l),m;if(r.isMinusSign)s===0&&(m=l,(u===-1||a!==0)&&(m=this.insertText(l,i,0,a)),this.updateValue(t,m,i,"insert"));else if(r.isDecimalSign)c>0&&s===c?this.updateValue(t,l,i,"insert"):c>s&&c<a?(m=this.insertText(l,i,s,a),this.updateValue(t,m,i,"insert")):c===-1&&this.maxFractionDigits&&(m=this.insertText(l,i,s,a),this.updateValue(t,m,i,"insert"));else{let v=this.numberFormat.resolvedOptions().maximumFractionDigits,w=s!==a?"range-insert":"insert";if(c>0&&s>c){if(s+i.length-(c+1)<=v){let I=p>=s?p-1:h>=s?h:l.length;m=l.slice(0,s)+i+l.slice(s+i.length,I)+l.slice(I),this.updateValue(t,m,i,w)}}else m=this.insertText(l,i,s,a),this.updateValue(t,m,i,w)}}insertText(t,i,r,o){if((i==="."?i:i.split(".")).length===2){let a=t.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,a>0?t.slice(0,r)+this.formatValue(i)+t.slice(o):t||this.formatValue(i)}else return o-r===t.length?this.formatValue(i):r===0?i+t.slice(o):o===t.length?t.slice(0,r)+i:t.slice(0,r)+i+t.slice(o)}deleteRange(t,i,r){let o;return r-i===t.length?o="":i===0?o=t.slice(r):r===t.length?o=t.slice(0,i):o=t.slice(0,i)+t.slice(r),o}initCursor(){let t=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,o=r.length,s=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(t===i||t!==0||i<a)&&(t-=a);let l=r.charAt(t);if(this.isNumeralChar(l))return t+a;let c=t-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c--;if(s!==null)this.input?.nativeElement.setSelectionRange(s+1,s+1);else{for(c=t;c<o;)if(l=r.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c++;s!==null&&this.input?.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){let t=this.input?.nativeElement.value;!this.readonly&&t!==k.getSelection()&&this.initCursor()}isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,i,r,o){let s=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,o,i),this.handleOnInput(t,s,a))}handleOnInput(t,i,r){this.isValueChanged(i,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(t,r),this.onInput.emit({originalEvent:t,value:r,formattedValue:i}))}isValueChanged(t,i){if(i===null&&t!==null)return!0;if(i!=null){let r=typeof t=="string"?this.parseValue(t):t;return i!==r}return!1}validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t}updateInput(t,i,r,o){i=i||"";let s=this.input?.nativeElement.value,a=this.formatValue(t),l=s.length;if(a!==o&&(a=this.concatValues(a,o)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let h=a.length;if(r==="range-insert"){let p=this.parseValue((s||"").slice(0,c)),v=(p!==null?p.toString():"").split("").join(`(${this.groupChar})?`),w=new RegExp(v,"g");w.test(a);let I=i.split("").join(`(${this.groupChar})?`),S=new RegExp(I,"g");S.test(a.slice(w.lastIndex)),u=w.lastIndex+S.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(h===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(r==="delete-back-single"){let p=s.charAt(u-1),m=s.charAt(u),v=l-h,w=this._group.test(m);w&&v===1?u+=1:!w&&this.isNumeralChar(p)&&(u+=-1*v+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(s==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let m=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(m,m)}else u=u+(h-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",t)}concatValues(t,i){if(t&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?t:t.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+i.slice(r):t}return t}getDecimalLength(t){if(t){let i=t.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=i?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(t,i),this.onBlur.emit(t)}formattedValue(){let t=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(t)}updateModel(t,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||n)(j(ut),j(We),j(et),j(ri),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-inputNumber"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&Le(cse,5),i&2){let o;me(o=ge())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Vn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[P.HasDecoratorInputTransform,"showButtons","showButtons",W],format:[P.HasDecoratorInputTransform,"format","format",W],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[P.HasDecoratorInputTransform,"size","size",Pe],maxlength:[P.HasDecoratorInputTransform,"maxlength","maxlength",Pe],tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[P.HasDecoratorInputTransform,"ariaRequired","ariaRequired",W],name:"name",required:[P.HasDecoratorInputTransform,"required","required",W],autocomplete:"autocomplete",min:[P.HasDecoratorInputTransform,"min","min",Pe],max:[P.HasDecoratorInputTransform,"max","max",Pe],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],step:[P.HasDecoratorInputTransform,"step","step",Pe],allowEmpty:[P.HasDecoratorInputTransform,"allowEmpty","allowEmpty",W],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[P.HasDecoratorInputTransform,"useGrouping","useGrouping",W],variant:"variant",minFractionDigits:[P.HasDecoratorInputTransform,"minFractionDigits","minFractionDigits",t=>Pe(t,null)],maxFractionDigits:[P.HasDecoratorInputTransform,"maxFractionDigits","maxFractionDigits",t=>Pe(t,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[P.HasDecoratorInputTransform,"showClear","showClear",W],autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[dn([Bse]),Xe,cn],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,r){if(i&1){let o=ue();C(0,"span",1)(1,"input",2,0),Q("input",function(a){return F(o),L(r.onUserInput(a))})("keydown",function(a){return F(o),L(r.onInputKeyDown(a))})("keypress",function(a){return F(o),L(r.onInputKeyPress(a))})("paste",function(a){return F(o),L(r.onPaste(a))})("click",function(){return F(o),L(r.onInputClick())})("focus",function(a){return F(o),L(r.onInputFocus(a))})("blur",function(a){return F(o),L(r.onInputBlur(a))}),E(),T(3,mse,3,2,"ng-container",3)(4,xse,7,19,"span",4)(5,kse,3,9,"button",5)(6,Vse,3,9,"button",5),E()}i&2&&(ne(r.styleClass),f("ngClass",En(39,use,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),N("data-pc-name","inputnumber")("data-pc-section","root"),g(),ne(r.inputStyleClass),Vn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),f("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),N("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),g(2),f("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),g(),f("ngIf",r.showButtons&&r.buttonLayout==="stacked"),g(),f("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),g(),f("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[ft,tt,At,mt,bl,Qd,Di,Qn,fx,ch],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),eu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,ho,fr,Zi,Qn,fx,ch,Ke]})}return n})();var gx=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var _x=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var yx=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleLeftIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var uh=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var iv=n=>({"p-disabled":n}),rv=n=>({$implicit:n}),Use=n=>({"p-highlight":n});function Hse(n,e){n&1&&de(0)}function jse(n,e){if(n&1&&(C(0,"div",15),T(1,Hse,1,0,"ng-container",16),E()),n&2){let t=y(2);N("data-pc-section","start"),g(),f("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Ie(3,rv,t.paginatorState))}}function $se(n,e){if(n&1&&(C(0,"span",17),oe(1),E()),n&2){let t=y(2);g(),Ue(t.currentPageReport)}}function Gse(n,e){n&1&&G(0,"AngleDoubleLeftIcon",19),n&2&&f("styleClass","p-paginator-icon")}function Wse(n,e){}function qse(n,e){n&1&&T(0,Wse,0,0,"ng-template")}function Kse(n,e){if(n&1&&(C(0,"span",20),T(1,qse,1,0,null,21),E()),n&2){let t=y(3);g(),f("ngTemplateOutlet",t.firstPageLinkIconTemplate)}}function Yse(n,e){if(n&1){let t=ue();C(0,"button",18),Q("click",function(r){F(t);let o=y(2);return L(o.changePageToFirst(r))}),T(1,Gse,1,1,"AngleDoubleLeftIcon",6)(2,Kse,2,1,"span",7),E()}if(n&2){let t=y(2);f("disabled",t.isFirstPage()||t.empty())("ngClass",Ie(5,iv,t.isFirstPage()||t.empty())),N("aria-label",t.getAriaLabel("firstPageLabel")),g(),f("ngIf",!t.firstPageLinkIconTemplate),g(),f("ngIf",t.firstPageLinkIconTemplate)}}function Qse(n,e){n&1&&G(0,"AngleLeftIcon",19),n&2&&f("styleClass","p-paginator-icon")}function Zse(n,e){}function Xse(n,e){n&1&&T(0,Zse,0,0,"ng-template")}function Jse(n,e){if(n&1&&(C(0,"span",20),T(1,Xse,1,0,null,21),E()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.previousPageLinkIconTemplate)}}function eae(n,e){if(n&1){let t=ue();C(0,"button",24),Q("click",function(r){let o=F(t).$implicit,s=y(3);return L(s.onPageLinkClick(r,o-1))}),oe(1),E()}if(n&2){let t=e.$implicit,i=y(3);f("ngClass",Ie(4,Use,t-1==i.getPage())),N("aria-label",i.getPageAriaLabel(t))("aria-current",t-1==i.getPage()?"page":void 0),g(),zt(" ",i.getLocalization(t)," ")}}function tae(n,e){if(n&1&&(C(0,"span",22),T(1,eae,2,6,"button",23),E()),n&2){let t=y(2);g(),f("ngForOf",t.pageLinks)}}function nae(n,e){if(n&1&&oe(0),n&2){let t=y(3);Ue(t.currentPageReport)}}function iae(n,e){n&1&&de(0)}function rae(n,e){if(n&1&&T(0,iae,1,0,"ng-container",16),n&2){let t=e.$implicit,i=y(4);f("ngTemplateOutlet",i.jumpToPageItemTemplate)("ngTemplateOutletContext",Ie(2,rv,t))}}function oae(n,e){n&1&&(ie(0),T(1,rae,1,4,"ng-template",28),re())}function sae(n,e){n&1&&de(0)}function aae(n,e){if(n&1&&T(0,sae,1,0,"ng-container",21),n&2){let t=y(4);f("ngTemplateOutlet",t.dropdownIconTemplate)}}function lae(n,e){n&1&&T(0,aae,1,1,"ng-template",29)}function cae(n,e){if(n&1){let t=ue();C(0,"p-dropdown",25),Q("onChange",function(r){F(t);let o=y(2);return L(o.onPageDropdownChange(r))}),T(1,nae,1,1,"ng-template",26)(2,oae,2,0,"ng-container",27)(3,lae,1,0,null,27),E()}if(n&2){let t=y(2);f("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),N("aria-label",t.getAriaLabel("jumpToPageDropdownLabel")),g(2),f("ngIf",t.jumpToPageItemTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function uae(n,e){n&1&&G(0,"AngleRightIcon",19),n&2&&f("styleClass","p-paginator-icon")}function dae(n,e){}function hae(n,e){n&1&&T(0,dae,0,0,"ng-template")}function pae(n,e){if(n&1&&(C(0,"span",20),T(1,hae,1,0,null,21),E()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.nextPageLinkIconTemplate)}}function fae(n,e){n&1&&G(0,"AngleDoubleRightIcon",19),n&2&&f("styleClass","p-paginator-icon")}function mae(n,e){}function gae(n,e){n&1&&T(0,mae,0,0,"ng-template")}function _ae(n,e){if(n&1&&(C(0,"span",20),T(1,gae,1,0,null,21),E()),n&2){let t=y(3);g(),f("ngTemplateOutlet",t.lastPageLinkIconTemplate)}}function yae(n,e){if(n&1){let t=ue();C(0,"button",30),Q("click",function(r){F(t);let o=y(2);return L(o.changePageToLast(r))}),T(1,fae,1,1,"AngleDoubleRightIcon",6)(2,_ae,2,1,"span",7),E()}if(n&2){let t=y(2);f("disabled",t.isLastPage()||t.empty())("ngClass",Ie(5,iv,t.isLastPage()||t.empty())),N("aria-label",t.getAriaLabel("lastPageLabel")),g(),f("ngIf",!t.lastPageLinkIconTemplate),g(),f("ngIf",t.lastPageLinkIconTemplate)}}function vae(n,e){if(n&1){let t=ue();C(0,"p-inputNumber",31),Q("ngModelChange",function(r){F(t);let o=y(2);return L(o.changePage(r-1))}),E()}if(n&2){let t=y(2);f("ngModel",t.currentPage())("disabled",t.empty())}}function bae(n,e){n&1&&de(0)}function wae(n,e){if(n&1&&T(0,bae,1,0,"ng-container",16),n&2){let t=e.$implicit,i=y(4);f("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",Ie(2,rv,t))}}function Iae(n,e){n&1&&(ie(0),T(1,wae,1,4,"ng-template",28),re())}function Cae(n,e){n&1&&de(0)}function Eae(n,e){if(n&1&&T(0,Cae,1,0,"ng-container",21),n&2){let t=y(4);f("ngTemplateOutlet",t.dropdownIconTemplate)}}function Tae(n,e){n&1&&T(0,Eae,1,1,"ng-template",29)}function xae(n,e){if(n&1){let t=ue();C(0,"p-dropdown",32),Ci("ngModelChange",function(r){F(t);let o=y(2);return Bi(o.rows,r)||(o.rows=r),L(r)}),Q("onChange",function(r){F(t);let o=y(2);return L(o.onRppChange(r))}),T(1,Iae,2,0,"ng-container",27)(2,Tae,1,0,null,27),E()}if(n&2){let t=y(2);f("options",t.rowsPerPageItems),Ii("ngModel",t.rows),f("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)("ariaLabel",t.getAriaLabel("rowsPerPageLabel")),g(),f("ngIf",t.dropdownItemTemplate),g(),f("ngIf",t.dropdownIconTemplate)}}function Sae(n,e){n&1&&de(0)}function Dae(n,e){if(n&1&&(C(0,"div",33),T(1,Sae,1,0,"ng-container",16),E()),n&2){let t=y(2);N("data-pc-section","end"),g(),f("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Ie(3,rv,t.paginatorState))}}function Aae(n,e){if(n&1){let t=ue();C(0,"div",1),T(1,jse,2,5,"div",2)(2,$se,2,1,"span",3)(3,Yse,3,7,"button",4),C(4,"button",5),Q("click",function(r){F(t);let o=y();return L(o.changePageToPrev(r))}),T(5,Qse,1,1,"AngleLeftIcon",6)(6,Jse,2,1,"span",7),E(),T(7,tae,2,1,"span",8)(8,cae,4,8,"p-dropdown",9),C(9,"button",10),Q("click",function(r){F(t);let o=y();return L(o.changePageToNext(r))}),T(10,uae,1,1,"AngleRightIcon",6)(11,pae,2,1,"span",7),E(),T(12,yae,3,7,"button",11)(13,vae,1,2,"p-inputNumber",12)(14,xae,3,8,"p-dropdown",13)(15,Dae,2,5,"div",14),E()}if(n&2){let t=y();ne(t.styleClass),f("ngStyle",t.style)("ngClass","p-paginator p-component"),N("data-pc-section","paginator")("data-pc-section","root"),g(),f("ngIf",t.templateLeft),g(),f("ngIf",t.showCurrentPageReport),g(),f("ngIf",t.showFirstLastIcon),g(),f("disabled",t.isFirstPage()||t.empty())("ngClass",Ie(25,iv,t.isFirstPage()||t.empty())),N("aria-label",t.getAriaLabel("prevPageLabel")),g(),f("ngIf",!t.previousPageLinkIconTemplate),g(),f("ngIf",t.previousPageLinkIconTemplate),g(),f("ngIf",t.showPageLinks),g(),f("ngIf",t.showJumpToPageDropdown),g(),f("disabled",t.isLastPage()||t.empty())("ngClass",Ie(27,iv,t.isLastPage()||t.empty())),N("aria-label",t.getAriaLabel("nextPageLabel")),g(),f("ngIf",!t.nextPageLinkIconTemplate),g(),f("ngIf",t.nextPageLinkIconTemplate),g(),f("ngIf",t.showFirstLastIcon),g(),f("ngIf",t.showJumpToPageInput),g(),f("ngIf",t.rowsPerPageOptions),g(),f("ngIf",t.templateRight)}}var A4=(()=>{class n{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(t){this._first=t}onPageChange=new Z;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(t,i){this.cd=t,this.config=i}ngOnInit(){this.updatePaginatorState()}getAriaLabel(t){return this.config.translation.aria?this.config.translation.aria[t]:void 0}getPageAriaLabel(t){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${t}`):void 0}getLocalization(t){let i=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(i.map((o,s)=>[s,o]));return t>9?String(t).split("").map(s=>r.get(Number(s))).join(""):r.get(t)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=t.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=t.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=t.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=t.template;break}})}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions(),t.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)typeof t=="object"&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(t)),value:t})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let t=this.getPageCount(),i=Math.min(this.pageLinkSize,t),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(t-1,r+i-1);var s=this.pageLinkSize-(o-r+1);return r=Math.max(0,r-s),[r,o]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),i=t[0],r=t[1];for(let o=i;o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(t){var i=this.getPageCount();if(t>=0&&t<i){this._first=this.rows*t;var r={page:t,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){let t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,i){this.changePage(i),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(i){return new(i||n)(j(et),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-paginator"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[P.HasDecoratorInputTransform,"pageLinkSize","pageLinkSize",Pe],style:"style",styleClass:"styleClass",alwaysShow:[P.HasDecoratorInputTransform,"alwaysShow","alwaysShow",W],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[P.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",W],showFirstLastIcon:[P.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",W],totalRecords:[P.HasDecoratorInputTransform,"totalRecords","totalRecords",Pe],rows:[P.HasDecoratorInputTransform,"rows","rows",Pe],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[P.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",W],showJumpToPageInput:[P.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",W],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[P.HasDecoratorInputTransform,"showPageLinks","showPageLinks",W],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Xe,cn],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(i,r){i&1&&T(0,Aae,16,29,"div",0),i&2&&f("ngIf",r.alwaysShow?!0:r.pageLinks&&r.pageLinks.length>1)},dependencies:()=>[ft,si,tt,At,mt,rm,qe,mx,vl,Fo,ai,gx,_x,yx,uh],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),M4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Jc,eu,la,Ke,Si,gx,_x,yx,uh,Jc,eu,la,Ke]})}return n})();var Rae=["container"],kae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-button-icon-only":t}),Oae=(n,e)=>({$implicit:n,index:e});function Pae(n,e){if(n&1&&G(0,"span",8),n&2){let t=y(2).$implicit;ne(t.icon),f("ngClass","p-button-icon p-button-icon-left"),N("data-pc-section","icon")}}function Fae(n,e){if(n&1&&(ie(0),T(1,Pae,1,4,"span",6),C(2,"span",7),oe(3),E(),re()),n&2){let t=y().$implicit,i=y();g(),f("ngIf",t.icon),g(),N("data-pc-section","label"),g(),Ue(i.getOptionLabel(t))}}function Lae(n,e){n&1&&de(0)}function Nae(n,e){if(n&1&&T(0,Lae,1,0,"ng-container",9),n&2){let t=y(),i=t.$implicit,r=t.index,o=y();f("ngTemplateOutlet",o.selectButtonTemplate)("ngTemplateOutletContext",Nt(2,Oae,i,r))}}function Vae(n,e){if(n&1){let t=ue();C(0,"div",4),Q("click",function(r){let o=F(t),s=o.$implicit,a=o.index,l=y();return L(l.onOptionSelect(r,s,a))})("keydown",function(r){let o=F(t),s=o.$implicit,a=o.index,l=y();return L(l.onKeyDown(r,s,a))})("focus",function(r){let o=F(t).index,s=y();return L(s.onFocus(r,o))})("blur",function(){F(t);let r=y();return L(r.onBlur())}),T(1,Fae,4,3,"ng-container",5)(2,Nae,1,5,"ng-template",null,1,Qt),E()}if(n&2){let t=e.$implicit,i=e.index,r=ct(3),o=y();ne(t.styleClass),f("role",o.multiple?"checkbox":"radio")("ngClass",En(14,kae,o.isSelected(t),o.disabled||o.isOptionDisabled(t),t.icon&&!o.getOptionLabel(t)))("autofocus",o.autofocus),N("tabindex",i===o.focusedIndex?"0":"-1")("aria-label",t.label)("aria-checked",o.isSelected(t))("aria-disabled",o.optionDisabled)("title",t.title)("aria-labelledby",o.getOptionLabel(t))("data-pc-section","button"),g(),f("ngIf",!o.itemTemplate)("ngIfElse",r)}}var Bae={provide:Rn,useExisting:gn(()=>zae),multi:!0},zae=(()=>{class n{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new Z;onChange=new Z;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(t){this.cd=t}getOptionLabel(t){return this.optionLabel?ee.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?ee.resolveFieldData(t,this.optionValue):this.optionLabel||t.value===void 0?t:t.value}isOptionDisabled(t){return this.optionDisabled?ee.resolveFieldData(t,this.optionDisabled):t.disabled!==void 0?t.disabled:!1}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionSelect(t,i,r){if(this.disabled||this.isOptionDisabled(i))return;let o=this.isSelected(i);if(o&&this.unselectable)return;let s=this.getOptionValue(i),a;if(this.multiple)o?a=this.value.filter(l=>!ee.equals(l,s,this.equalityKey)):a=this.value?[...this.value,s]:[s];else{if(o&&!this.allowEmpty)return;a=o?null:s}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.onOptionClick.emit({originalEvent:t,option:i,index:r})}onKeyDown(t,i,r){switch(t.code){case"Space":{this.onOptionSelect(t,i,r),t.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(t,"next"),t.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(t,"prev"),t.preventDefault();break}default:break}}changeTabIndexes(t,i){let r,o;for(let s=0;s<=this.container.nativeElement.children.length-1;s++)this.container.nativeElement.children[s].getAttribute("tabindex")==="0"&&(r={elem:this.container.nativeElement.children[s],index:s});i==="prev"?r.index===0?o=this.container.nativeElement.children.length-1:o=r.index-1:r.index===this.container.nativeElement.children.length-1?o=0:o=r.index+1,this.focusedIndex=o,this.container.nativeElement.children[o].focus()}onFocus(t,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(i=>!ee.equals(i,this.getOptionValue(t),this.dataKey))}isSelected(t){let i=!1,r=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let o of this.value)if(ee.equals(o,r,this.dataKey)){i=!0;break}}}else i=ee.equals(this.getOptionValue(t),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||n)(j(et))};static \u0275cmp=te({type:n,selectors:[["p-selectButton"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,5),i&2){let s;me(s=ge())&&(r.itemTemplate=s.first)}},viewQuery:function(i,r){if(i&1&&Le(Rae,5),i&2){let o;me(o=ge())&&(r.container=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[P.HasDecoratorInputTransform,"unselectable","unselectable",W],tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],multiple:[P.HasDecoratorInputTransform,"multiple","multiple",W],allowEmpty:[P.HasDecoratorInputTransform,"allowEmpty","allowEmpty",W],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],dataKey:"dataKey",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[dn([Bae]),Xe],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(C(0,"div",2,0),T(2,Vae,4,18,"div",3),E()),i&2&&(ne(r.styleClass),f("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),N("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),g(2),f("ngForOf",r.options))},dependencies:[ft,si,tt,At,mt,ai,Di],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return n})(),R4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Si,Ke,Zi,Ke]})}return n})();var Uae=(n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),Hae=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),jae=(n,e,t)=>({"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function $ae(n,e){if(n&1&&G(0,"span",8),n&2){let t=y(2);f("ngClass",t.checkboxTrueIcon),N("data-pc-section","checkIcon")}}function Gae(n,e){n&1&&G(0,"CheckIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","checkIcon"))}function Wae(n,e){}function qae(n,e){n&1&&T(0,Wae,0,0,"ng-template")}function Kae(n,e){if(n&1&&(C(0,"span",12),T(1,qae,1,0,null,13),E()),n&2){let t=y(3);N("data-pc-section","checkIcon"),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function Yae(n,e){if(n&1&&(ie(0),T(1,Gae,1,2,"CheckIcon",9)(2,Kae,2,2,"span",10),re()),n&2){let t=y(2);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function Qae(n,e){if(n&1&&(ie(0),T(1,$ae,1,2,"span",7)(2,Yae,3,2,"ng-container",5),re()),n&2){let t=y();g(),f("ngIf",t.checkboxTrueIcon),g(),f("ngIf",!t.checkboxTrueIcon)}}function Zae(n,e){if(n&1&&G(0,"span",8),n&2){let t=y(2);f("ngClass",t.checkboxFalseIcon),N("data-pc-section","uncheckIcon")}}function Xae(n,e){n&1&&G(0,"TimesIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","uncheckIcon"))}function Jae(n,e){}function ele(n,e){n&1&&T(0,Jae,0,0,"ng-template")}function tle(n,e){if(n&1&&(C(0,"span",12),T(1,ele,1,0,null,13),E()),n&2){let t=y(3);N("data-pc-section","uncheckIcon"),g(),f("ngTemplateOutlet",t.uncheckIconTemplate)}}function nle(n,e){if(n&1&&(ie(0),T(1,Xae,1,2,"TimesIcon",9)(2,tle,2,2,"span",10),re()),n&2){let t=y(2);g(),f("ngIf",!t.uncheckIconTemplate),g(),f("ngIf",t.uncheckIconTemplate)}}function ile(n,e){if(n&1&&(ie(0),T(1,Zae,1,2,"span",7)(2,nle,3,2,"ng-container",5),re()),n&2){let t=y();g(),f("ngIf",t.checkboxFalseIcon),g(),f("ngIf",!t.checkboxFalseIcon)}}function rle(n,e){if(n&1){let t=ue();C(0,"label",14),Q("click",function(r){F(t);let o=y(),s=ct(3);return L(o.onClick(r,s))}),oe(1),E()}if(n&2){let t=y();f("ngClass",En(3,jae,t.value!=null,t.disabled,t.focused)),N("for",t.inputId),g(),Ue(t.label)}}var ole={provide:Rn,useExisting:gn(()=>sle),multi:!0},sle=(()=>{class n{cd;config;constructor(t,i){this.cd=t,this.config=i}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new Z;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}onKeyDown(t){t.key==="Enter"&&(this.toggle(t),t.preventDefault())}toggle(t){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"checkicon":this.checkIconTemplate=t.template;break;case"uncheckicon":this.uncheckIconTemplate=t.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}static \u0275fac=function(i){return new(i||n)(j(et),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-triStateCheckbox"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W]},outputs:{onChange:"onChange"},features:[dn([ole]),Xe],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(i,r){if(i&1){let o=ue();C(0,"div",1),Q("click",function(a){F(o);let l=ct(3);return L(r.onClick(a,l))}),C(1,"div",2)(2,"input",3,0),Q("keydown",function(a){return F(o),L(r.onKeyDown(a))})("focus",function(){return F(o),L(r.onFocus())})("blur",function(){return F(o),L(r.onBlur())}),E()(),C(4,"div",4),T(5,Qae,3,2,"ng-container",5)(6,ile,3,2,"ng-container",5),E()(),T(7,rle,2,7,"label",6)}i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",En(20,Uae,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),N("data-pc-name","tristatecheckbox")("data-pc-section","root"),g(2),f("name",r.name)("readonly",r.readonly)("disabled",r.disabled)("autofocus",r.autofocus),N("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-section","hiddenInput"),g(2),f("ngClass",En(24,Hae,r.value!=null,r.disabled,r.focused)),N("aria-checked",r.value===!0),g(),f("ngIf",r.value===!0),g(),f("ngIf",r.value===!1),g(),f("ngIf",r.label))},dependencies:()=>[ft,tt,At,mt,Di,Tr,Qn],encapsulation:2,changeDetection:0})}return n})(),k4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,Zi,Tr,Qn,Ke]})}return n})();var ale=["container"],lle=["resizeHelper"],cle=["reorderIndicatorUp"],ule=["reorderIndicatorDown"],dle=["wrapper"],hle=["table"],ple=["thead"],fle=["tfoot"],mle=["scroller"],gle=(n,e,t)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":t}),_le=n=>({maxHeight:n}),O4=n=>({height:n}),P4=(n,e)=>({$implicit:n,options:e}),yle=n=>({columns:n}),vle=(n,e,t)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":t}),vx=n=>({$implicit:n}),wx=()=>({display:"none"});function ble(n,e){if(n&1&&G(0,"i"),n&2){let t=y(2);ne("p-datatable-loading-icon "+t.loadingIcon)}}function wle(n,e){n&1&&G(0,"SpinnerIcon",25),n&2&&f("spin",!0)("styleClass","p-datatable-loading-icon")}function Ile(n,e){}function Cle(n,e){n&1&&T(0,Ile,0,0,"ng-template")}function Ele(n,e){if(n&1&&(C(0,"span",26),T(1,Cle,1,0,null,27),E()),n&2){let t=y(3);g(),f("ngTemplateOutlet",t.loadingIconTemplate)}}function Tle(n,e){if(n&1&&(ie(0),T(1,wle,1,2,"SpinnerIcon",23)(2,Ele,2,1,"span",24),re()),n&2){let t=y(2);g(),f("ngIf",!t.loadingIconTemplate),g(),f("ngIf",t.loadingIconTemplate)}}function xle(n,e){if(n&1&&(C(0,"div",21),T(1,ble,1,2,"i",22)(2,Tle,3,2,"ng-container",16),E()),n&2){let t=y();g(),f("ngIf",t.loadingIcon),g(),f("ngIf",!t.loadingIcon)}}function Sle(n,e){n&1&&de(0)}function Dle(n,e){if(n&1&&(C(0,"div",28),T(1,Sle,1,0,"ng-container",27),E()),n&2){let t=y();g(),f("ngTemplateOutlet",t.captionTemplate)}}function Ale(n,e){n&1&&de(0)}function Mle(n,e){if(n&1&&T(0,Ale,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function Rle(n,e){n&1&&T(0,Mle,1,1,"ng-template",30)}function kle(n,e){n&1&&de(0)}function Ole(n,e){if(n&1&&T(0,kle,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function Ple(n,e){n&1&&T(0,Ole,1,1,"ng-template",31)}function Fle(n,e){n&1&&de(0)}function Lle(n,e){if(n&1&&T(0,Fle,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function Nle(n,e){n&1&&T(0,Lle,1,1,"ng-template",32)}function Vle(n,e){n&1&&de(0)}function Ble(n,e){if(n&1&&T(0,Vle,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function zle(n,e){n&1&&T(0,Ble,1,1,"ng-template",33)}function Ule(n,e){n&1&&de(0)}function Hle(n,e){if(n&1&&T(0,Ule,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function jle(n,e){n&1&&T(0,Hle,1,1,"ng-template",34)}function $le(n,e){if(n&1){let t=ue();C(0,"p-paginator",29),Q("onPageChange",function(r){F(t);let o=y();return L(o.onPageChange(r))}),T(1,Rle,1,0,null,16)(2,Ple,1,0,null,16)(3,Nle,1,0,null,16)(4,zle,1,0,null,16)(5,jle,1,0,null,16),E()}if(n&2){let t=y();f("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-top"))("locale",t.paginatorLocale),g(),f("ngIf",t.paginatorDropdownIconTemplate),g(),f("ngIf",t.paginatorFirstPageLinkIconTemplate),g(),f("ngIf",t.paginatorPreviousPageLinkIconTemplate),g(),f("ngIf",t.paginatorLastPageLinkIconTemplate),g(),f("ngIf",t.paginatorNextPageLinkIconTemplate)}}function Gle(n,e){n&1&&de(0)}function Wle(n,e){if(n&1&&T(0,Gle,1,0,"ng-container",37),n&2){let t=e.$implicit,i=e.options;y(2);let r=ct(10);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Nt(2,P4,t,i))}}function qle(n,e){if(n&1){let t=ue();C(0,"p-scroller",35,3),Q("onLazyLoad",function(r){F(t);let o=y();return L(o.onLazyItemLoad(r))}),T(2,Wle,1,5,"ng-template",36),E()}if(n&2){let t=y();ko(Ie(15,O4,t.scrollHeight!=="flex"?t.scrollHeight:void 0)),f("items",t.processedData)("columns",t.columns)("scrollHeight",t.scrollHeight!=="flex"?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)("autoSize",!0)}}function Kle(n,e){n&1&&de(0)}function Yle(n,e){if(n&1&&(ie(0),T(1,Kle,1,0,"ng-container",37),re()),n&2){let t=y(),i=ct(10);g(),f("ngTemplateOutlet",i)("ngTemplateOutletContext",Nt(4,P4,t.processedData,Ie(2,yle,t.columns)))}}function Qle(n,e){n&1&&de(0)}function Zle(n,e){n&1&&de(0)}function Xle(n,e){if(n&1&&G(0,"tbody",44),n&2){let t=y().options,i=y();f("value",i.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function Jle(n,e){if(n&1&&G(0,"tbody",45),n&2){let t=y().options;f("ngStyle",Ie(1,O4,"calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px)"))}}function ece(n,e){n&1&&de(0)}function tce(n,e){if(n&1&&(C(0,"tfoot",46,6),T(2,ece,1,0,"ng-container",37),E()),n&2){let t=y().options,i=y();g(2),f("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",Ie(2,vx,t.columns))}}function nce(n,e){if(n&1&&(C(0,"table",38,4),T(2,Qle,1,0,"ng-container",37),C(3,"thead",39,5),T(5,Zle,1,0,"ng-container",37),E(),T(6,Xle,1,5,"tbody",40),G(7,"tbody",41),T(8,Jle,1,3,"tbody",42)(9,tce,3,4,"tfoot",43),E()),n&2){let t=e.options,i=y();ne(i.tableStyleClass),f("ngClass",En(18,vle,i.scrollable,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit"))("ngStyle",i.tableStyle),N("id",i.id+"-table"),g(2),f("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",Ie(22,vx,t.columns)),g(3),f("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",Ie(24,vx,t.columns)),g(),f("ngIf",i.frozenValue||i.frozenBodyTemplate),g(),f("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle)("value",i.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",t),g(),f("ngIf",t.spacerStyle),g(),f("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function ice(n,e){n&1&&de(0)}function rce(n,e){if(n&1&&T(0,ice,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorDropdownIconTemplate)}}function oce(n,e){n&1&&T(0,rce,1,1,"ng-template",30)}function sce(n,e){n&1&&de(0)}function ace(n,e){if(n&1&&T(0,sce,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function lce(n,e){n&1&&T(0,ace,1,1,"ng-template",31)}function cce(n,e){n&1&&de(0)}function uce(n,e){if(n&1&&T(0,cce,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function dce(n,e){n&1&&T(0,uce,1,1,"ng-template",32)}function hce(n,e){n&1&&de(0)}function pce(n,e){if(n&1&&T(0,hce,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function fce(n,e){n&1&&T(0,pce,1,1,"ng-template",33)}function mce(n,e){n&1&&de(0)}function gce(n,e){if(n&1&&T(0,mce,1,0,"ng-container",27),n&2){let t=y(3);f("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function _ce(n,e){n&1&&T(0,gce,1,1,"ng-template",34)}function yce(n,e){if(n&1){let t=ue();C(0,"p-paginator",29),Q("onPageChange",function(r){F(t);let o=y();return L(o.onPageChange(r))}),T(1,oce,1,0,null,16)(2,lce,1,0,null,16)(3,dce,1,0,null,16)(4,fce,1,0,null,16)(5,_ce,1,0,null,16),E()}if(n&2){let t=y();f("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.getPaginatorStyleClasses("p-paginator-bottom"))("locale",t.paginatorLocale),g(),f("ngIf",t.paginatorDropdownIconTemplate),g(),f("ngIf",t.paginatorFirstPageLinkIconTemplate),g(),f("ngIf",t.paginatorPreviousPageLinkIconTemplate),g(),f("ngIf",t.paginatorLastPageLinkIconTemplate),g(),f("ngIf",t.paginatorNextPageLinkIconTemplate)}}function vce(n,e){n&1&&de(0)}function bce(n,e){if(n&1&&(C(0,"div",47),T(1,vce,1,0,"ng-container",27),E()),n&2){let t=y();g(),f("ngTemplateOutlet",t.summaryTemplate)}}function wce(n,e){n&1&&G(0,"div",48,7),n&2&&f("ngStyle",Jt(1,wx))}function Ice(n,e){n&1&&G(0,"ArrowDownIcon")}function Cce(n,e){}function Ece(n,e){n&1&&T(0,Cce,0,0,"ng-template")}function Tce(n,e){if(n&1&&(C(0,"span",49,8),T(2,Ice,1,0,"ArrowDownIcon",16)(3,Ece,1,0,null,27),E()),n&2){let t=y();f("ngStyle",Jt(3,wx)),g(2),f("ngIf",!t.reorderIndicatorUpIconTemplate),g(),f("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function xce(n,e){n&1&&G(0,"ArrowUpIcon")}function Sce(n,e){}function Dce(n,e){n&1&&T(0,Sce,0,0,"ng-template")}function Ace(n,e){if(n&1&&(C(0,"span",50,9),T(2,xce,1,0,"ArrowUpIcon",16)(3,Dce,1,0,null,27),E()),n&2){let t=y();f("ngStyle",Jt(3,wx)),g(2),f("ngIf",!t.reorderIndicatorDownIconTemplate),g(),f("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}var Mce=["pTableBody",""],Ix=(n,e,t,i,r)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r}),Rce=(n,e,t,i,r,o,s)=>({$implicit:n,rowIndex:e,columns:t,editing:i,frozen:r,rowgroup:o,rowspan:s}),ov=(n,e,t,i,r,o)=>({$implicit:n,rowIndex:e,columns:t,expanded:i,editing:r,frozen:o}),F4=(n,e,t,i)=>({$implicit:n,rowIndex:e,columns:t,frozen:i}),L4=(n,e)=>({$implicit:n,frozen:e});function kce(n,e){n&1&&de(0)}function Oce(n,e){if(n&1&&(ie(0,3),T(1,kce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",Ed(2,Ix,i,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function Pce(n,e){n&1&&de(0)}function Fce(n,e){if(n&1&&(ie(0),T(1,Pce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",i?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",Ed(2,Ix,i,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function Lce(n,e){n&1&&de(0)}function Nce(n,e){if(n&1&&(ie(0),T(1,Lce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",i?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",w0(2,Rce,i,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function Vce(n,e){n&1&&de(0)}function Bce(n,e){if(n&1&&(ie(0,3),T(1,Vce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",Ed(2,Ix,i,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function zce(n,e){if(n&1&&T(0,Oce,2,8,"ng-container",2)(1,Fce,2,8,"ng-container",0)(2,Nce,2,10,"ng-container",0)(3,Bce,2,8,"ng-container",2),n&2){let t=e.$implicit,i=e.index,r=y(2);f("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,i)),g(),f("ngIf",r.dt.rowGroupMode!=="rowspan"),g(),f("ngIf",r.dt.rowGroupMode==="rowspan"),g(),f("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,i))}}function Uce(n,e){if(n&1&&(ie(0),T(1,zce,4,4,"ng-template",1),re()),n&2){let t=y();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Hce(n,e){n&1&&de(0)}function jce(n,e){if(n&1&&(ie(0),T(1,Hce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.template)("ngTemplateOutletContext",Fc(2,ov,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function $ce(n,e){n&1&&de(0)}function Gce(n,e){if(n&1&&(ie(0,3),T(1,$ce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",Fc(2,ov,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function Wce(n,e){n&1&&de(0)}function qce(n,e){n&1&&de(0)}function Kce(n,e){if(n&1&&(ie(0,3),T(1,qce,1,0,"ng-container",4),re()),n&2){let t=y(2),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",Fc(2,ov,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),o.dt.editMode==="row"&&o.dt.isRowEditing(i),o.frozen))}}function Yce(n,e){if(n&1&&(ie(0),T(1,Wce,1,0,"ng-container",4)(2,Kce,2,9,"ng-container",2),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",Pc(3,F4,i,o.getRowIndex(r),o.columns,o.frozen)),g(),f("ngIf",o.dt.groupFooterTemplate&&o.dt.rowGroupMode==="subheader"&&o.shouldRenderRowGroupFooter(o.value,i,o.getRowIndex(r)))}}function Qce(n,e){if(n&1&&T(0,jce,2,9,"ng-container",0)(1,Gce,2,9,"ng-container",2)(2,Yce,3,8,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=y(2);f("ngIf",!r.dt.groupHeaderTemplate),g(),f("ngIf",r.dt.groupHeaderTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,t,r.getRowIndex(i))),g(),f("ngIf",r.dt.isRowExpanded(t))}}function Zce(n,e){if(n&1&&(ie(0),T(1,Qce,3,3,"ng-template",1),re()),n&2){let t=y();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Xce(n,e){n&1&&de(0)}function Jce(n,e){n&1&&de(0)}function eue(n,e){if(n&1&&(ie(0),T(1,Jce,1,0,"ng-container",4),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y(2);g(),f("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Pc(2,F4,i,o.getRowIndex(r),o.columns,o.frozen))}}function tue(n,e){if(n&1&&T(0,Xce,1,0,"ng-container",4)(1,eue,2,7,"ng-container",0),n&2){let t=e.$implicit,i=e.index,r=y(2);f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Fc(3,ov,t,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen)),g(),f("ngIf",r.dt.isRowExpanded(t))}}function nue(n,e){if(n&1&&(ie(0),T(1,tue,2,10,"ng-template",1),re()),n&2){let t=y();g(),f("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function iue(n,e){n&1&&de(0)}function rue(n,e){if(n&1&&(ie(0),T(1,iue,1,0,"ng-container",4),re()),n&2){let t=y();g(),f("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",Nt(2,L4,t.columns,t.frozen))}}function oue(n,e){n&1&&de(0)}function sue(n,e){if(n&1&&(ie(0),T(1,oue,1,0,"ng-container",4),re()),n&2){let t=y();g(),f("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",Nt(2,L4,t.columns,t.frozen))}}var bx=(()=>{class n{sortSource=new pn;selectionSource=new pn;contextMenuSource=new pn;valueSource=new pn;totalRecordsSource=new pn;columnsSource=new pn;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac})}return n})(),Cx=(()=>{class n{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new Z;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(t,i)=>i;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}selectAllChange=new Z;selectionChange=new Z;onRowSelect=new Z;onRowUnselect=new Z;onPage=new Z;onSort=new Z;onFilter=new Z;onLazyLoad=new Z;onRowExpand=new Z;onRowCollapse=new Z;onContextMenuSelect=new Z;onColResize=new Z;onColReorder=new Z;onRowReorder=new Z;onEditInit=new Z;onEditComplete=new Z;onEditCancel=new Z;onHeaderCheckboxToggle=new Z;sortFunction=new Z;firstChange=new Z;rowsChange=new Z;onStateSave=new Z;onStateRestore=new Z;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=wt();styleElement;responsiveStyleElement;window;constructor(t,i,r,o,s,a,l,c,u,h){this.document=t,this.platformId=i,this.renderer=r,this.el=o,this.zone=s,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=u,this.config=h,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template;break}})}ngAfterViewInit(){Wt(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&Wt(this.platformId)&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this.isStateful()||(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(t){let i=t||this.processedData;if(i&&this.paginator){let r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(ee.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(ee.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let i=t.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===t.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(t.field);o?r?o.order=o.order*-1:(this._multiSortMeta=[{field:t.field,order:o.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):this.lazy||(this.value.sort((o,s)=>{let a=ee.resolveFieldData(o,t),l=ee.resolveFieldData(s,t),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,i*c}),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter());let r={field:t,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.lazy||(this.value.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0)),this._value=[...this.value]),(!this.lazy||this.customSort)&&this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,i,r,o){let s=ee.resolveFieldData(t,r[o].field),a=ee.resolveFieldData(i,r[o].field);return ee.compare(s,a,this.filterLocale)===0?r.length-1>o?this.multisortField(t,i,r,o+1):0:this.compareValuesOnSort(s,a,r[o].order)}compareValuesOnSort(t,i,r){return ee.sort(t,i,r,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i]}return null}isSorted(t){if(this.sortMode==="single")return this.sortField&&this.sortField===t;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==t){i=!0;break}}return i}}handleRowClick(t){let i=t.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if(!(r=="INPUT"||r=="BUTTON"||r=="A"||o=="INPUT"||o=="BUTTON"||o=="A"||k.hasClass(t.originalEvent.target,"p-clickable"))){if(this.selectionMode){let s=t.rowData,a=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&this.anchorRowIndex!=null)k.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=a,this.selectRange(t.originalEvent,a);else{let l=this.isSelected(s);if(!l&&!this.isRowSelectable(s,a))return;let c=this.rowTouched?!1:this.metaKeySelection,u=this.dataKey?String(ee.resolveFieldData(s,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let h=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(l&&h){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let p=this.findIndexInSelection(s);this._selection=this.selection.filter((m,v)=>v!=p),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:s,type:"row"})}else this.isSingleSelectionMode()?(this._selection=s,this.selectionChange.emit(s),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(h?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,s],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:s,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:s,type:"row",index:a})):(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:s,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if(this.selectionMode==="multiple")if(l){let h=this.findIndexInSelection(s);this._selection=this.selection.filter((p,m)=>m!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:s,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:s,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){let i=t.rowData,r=t.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),s=this.dataKey?String(ee.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}selectRange(t,i,r){let o,s;this.anchorRowIndex>i?(o=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(o=this.anchorRowIndex,s=i):(o=i,s=i),this.lazy&&this.paginator&&(o-=this.first,s-=this.first);let a=[];for(let l=o;l<=s;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!r){if(!this.isRowSelectable(c,i))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(ee.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:a,type:"row"})}clearSelectionRange(t){let i,r,o=this.rangeRowIndex,s=this.anchorRowIndex;o>s?(i=this.anchorRowIndex,r=this.rangeRowIndex):o<s?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let a=i;a<=r;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((h,p)=>p!=c);let u=this.dataKey?String(ee.resolveFieldData(l,this.dataKey)):null;u&&delete this.selectionKeys[u],this.onRowUnselect.emit({originalEvent:t,data:l,type:"row"})}}isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys[ee.resolveFieldData(t,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1}findIndexInSelection(t){let i=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(t,this.selection[r])){i=r;break}}return i}isRowSelectable(t,i){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:i}))}toggleRowWithRadio(t,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ee.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(ee.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let s=this.findIndexInSelection(i);this._selection=this.selection.filter((a,l)=>l!=s),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,i){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:t,checked:i});else{let r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,o=this.selectionPageOnly&&this._selection?this._selection.filter(s=>!r.some(a=>this.equals(s,a))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((s,a)=>this.rowSelectable({data:s,index:a})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}}equals(t,i){return this.compareSelectionBy==="equals"?t===i:ee.equals(t,i,this.dataKey)}filter(t,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,i){this.filter(t,"global",i)}isFilterBlank(t){return t!=null?!!(typeof t=="string"&&t.trim().length==0||Array.isArray(t)&&t.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let r=!0,o=!1,s=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){s=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let h of u)if(r=this.executeLocalFilter(c,this.value[i],h),h.operator===OE.OR&&r||h.operator===OE.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[i],u);if(!r)break}if(this.filters.global&&!o&&t)for(let l=0;l<t.length;l++){let c=t[l].field||t[l];if(o=this.filterService.filters[this.filters.global.matchMode](ee.resolveFieldData(this.value[i],c),this.filters.global.value,this.filterLocale),o)break}let a;this.filters.global?a=s?s&&r&&o:o:a=s&&r,a&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,i,r){let o=r.value,s=r.matchMode||xi.STARTS_WITH,a=ee.resolveFieldData(i,t),l=this.filterService.filters[s];return l(a,o,this.filterLocale)}hasFilter(){let t=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,t]of Object.entries(this.filters))if(Array.isArray(t))for(let i of t)i.value=null;else t&&(t.value=null)}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let i,r="",o=this.columns;t&&t.selectionOnly?i=this.selection||[]:t&&t.allValues?i=this.value||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));let s=o.filter(u=>u.exportable!==!1&&u.field);r+=s.map(u=>'"'+this.getExportHeader(u)+'"').join(this.csvSeparator);let a=i.map(u=>s.map(h=>{let p=ee.resolveFieldData(u,h.field);return p!=null?this.exportFunction?p=this.exportFunction({data:p,field:h.field}):p=String(p).replace(/"/g,'""'):p="",'"'+p+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(r+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),r],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(t){this.onLazyLoad.emit(lt(ce(ce({},this.createLazyLoadMetadata()),t),{rows:t.last-t.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,i,r,o){this.editingCell=t,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&k.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(k.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(t){let i=String(ee.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(t,i){if(k.find(i,".ng-invalid.ng-dirty").length===0){let r=String(ee.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(t){let i=String(ee.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}toggleRow(t,i){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let r=this.groupRowsBy?String(ee.resolveFieldData(t,this.groupRowsBy)):String(ee.resolveFieldData(t,this.dataKey));this.expandedRowKeys[r]!=null?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:t})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return this.groupRowsBy?this.expandedRowKeys[String(ee.resolveFieldData(t,this.groupRowsBy))]===!0:this.expandedRowKeys[String(ee.resolveFieldData(t,this.dataKey))]===!0}isRowEditing(t){return this.editingRowKeys[String(ee.resolveFieldData(t,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(t){let i=k.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,t.type=="touchstart"?this.lastResizerHelperX=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let i=k.getOffset(this.containerViewChild?.nativeElement).left;k.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",t.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=t.changedTouches[0].clientX-i+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+t,o=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15;if(r>=o){if(this.columnResizeMode==="fit"){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&a>15&&this.resizeTableCells(r,a)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let s=this.tableViewChild?.nativeElement.offsetWidth+t;this.setResizeTableWidth(s+"px"),this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",k.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let t=[],i=k.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return k.find(i,"tr > th").forEach(o=>t.push(k.getOuterWidth(o))),t}onColumnDragStart(t,i){this.reorderIconWidth=k.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=k.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();let r=k.getOffset(this.containerViewChild?.nativeElement),o=k.getOffset(i);if(this.draggedColumn!=i){let s=k.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=k.indexWithinGroup(i,"preorderablecolumn"),l=o.left-r.left,c=r.top-o.top,u=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",t.pageX>u?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&t.preventDefault()}onColumnDrop(t,i){if(t.preventDefault(),this.draggedColumn){let r=k.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=k.indexWithinGroup(i,"preorderablecolumn"),s=r!=o;if(s&&(o-r==1&&this.dropPosition===-1||r-o==1&&this.dropPosition===1)&&(s=!1),s&&o<r&&this.dropPosition===1&&(o=o+1),s&&o>r&&this.dropPosition===-1&&(o=o-1),s&&(ee.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();ee.reorderArray(a,r+1,o+1),this.updateStyleElement(a,r,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(t,i){let r=k.index(this.resizeColumnElement),o=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(o,r,t,i)}updateStyleElement(t,i,r,o){this.destroyStyleElement(),this.createStyleElement();let s="";t.forEach((a,l)=>{let c=l===i?r:o&&l===i+1?o:a,u=`width: ${c}px !important; max-width: ${c}px !important;`;s+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${u}
                }
            `}),this.renderer.setProperty(this.styleElement,"textContent",s)}onRowDragStart(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}onRowDragOver(t,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=k.getOffset(r).top,s=t.pageY,a=o+k.getOuterHeight(r)/2,l=r.previousElementSibling;s<a?(k.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,l?k.addClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top")):(l?k.removeClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,k.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,i){let r=i.previousElementSibling;r&&k.removeClass(r,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,i){if(this.droppedRowIndex!=null){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;ee.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return t==null||t.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(Wt(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let t=this.getStorage(),i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){let t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){let i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,o=function(s,a){return typeof a=="string"&&r.test(a)?new Date(a):a};if(i){let s=JSON.parse(i,o);this.paginator&&(this.first!==void 0&&(this.first=s.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=s.rows,this.rowsChange.emit(this.rows))),s.sortField&&(this.restoringSort=!0,this._sortField=s.sortField,this._sortOrder=s.sortOrder),s.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=s.multiSortMeta),s.filters&&(this.restoringFilter=!0,this.filters=s.filters),this.resizableColumns&&(this.columnWidthsState=s.columnWidths,this.tableWidthState=s.tableWidth),s.expandedRowKeys&&(this.expandedRowKeys=s.expandedRowKeys),s.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(s.selection)),this.stateRestored=!0,this.onStateRestore.emit(s)}}saveColumnWidths(t){let i=[];k.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(k.getOuterWidth(o))),t.columnWidths=i.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=k.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),ee.isNotEmpty(t)){this.createStyleElement();let i="";t.forEach((r,o)=>{let s=`width: ${r}px !important; max-width: ${r}px !important`;i+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${o+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${o+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${o+1}) {
                            ${s}
                        }
                    `}),this.styleElement.textContent=i}}}saveColumnOrder(t){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),t.columnOrder=i}}restoreColumnOrder(){let i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let s=[];o.map(a=>{let l=this.findColumnByKey(a);l&&s.push(l)}),this.columnOrderStateRestored=!0,this.columns=s}}}findColumnByKey(t){if(this.columns){for(let i of this.columns)if(i.key===t||i.field===t)return i}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",k.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(Wt(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",k.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let t=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"textContent",t)}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(t){return[this.paginatorStyleClass,t].filter(i=>!!i).join(" ").trim()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(Gt),j(We),j(Qe),j(bx),j(et),j(Bd),j(gl),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-table"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(ale,5),Le(lle,5),Le(cle,5),Le(ule,5),Le(dle,5),Le(hle,5),Le(ple,5),Le(fle,5),Le(mle,5)),i&2){let o;me(o=ge())&&(r.containerViewChild=o.first),me(o=ge())&&(r.resizeHelperViewChild=o.first),me(o=ge())&&(r.reorderIndicatorUpViewChild=o.first),me(o=ge())&&(r.reorderIndicatorDownViewChild=o.first),me(o=ge())&&(r.wrapperViewChild=o.first),me(o=ge())&&(r.tableViewChild=o.first),me(o=ge())&&(r.tableHeaderViewChild=o.first),me(o=ge())&&(r.tableFooterViewChild=o.first),me(o=ge())&&(r.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[P.HasDecoratorInputTransform,"paginator","paginator",W],pageLinks:[P.HasDecoratorInputTransform,"pageLinks","pageLinks",Pe],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[P.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",W],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[P.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",W],showJumpToPageDropdown:[P.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",W],showJumpToPageInput:[P.HasDecoratorInputTransform,"showJumpToPageInput","showJumpToPageInput",W],showFirstLastIcon:[P.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",W],showPageLinks:[P.HasDecoratorInputTransform,"showPageLinks","showPageLinks",W],defaultSortOrder:[P.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",Pe],sortMode:"sortMode",resetPageOnSort:[P.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",W],selectionMode:"selectionMode",selectionPageOnly:[P.HasDecoratorInputTransform,"selectionPageOnly","selectionPageOnly",W],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[P.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",W],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[P.HasDecoratorInputTransform,"lazy","lazy",W],lazyLoadOnInit:[P.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",W],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[P.HasDecoratorInputTransform,"filterDelay","filterDelay",Pe],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[P.HasDecoratorInputTransform,"scrollable","scrollable",W],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[P.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[P.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Pe],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[P.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",Pe],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[P.HasDecoratorInputTransform,"resizableColumns","resizableColumns",W],columnResizeMode:"columnResizeMode",reorderableColumns:[P.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",W],loading:[P.HasDecoratorInputTransform,"loading","loading",W],loadingIcon:"loadingIcon",showLoader:[P.HasDecoratorInputTransform,"showLoader","showLoader",W],rowHover:[P.HasDecoratorInputTransform,"rowHover","rowHover",W],customSort:[P.HasDecoratorInputTransform,"customSort","customSort",W],showInitialSortBadge:[P.HasDecoratorInputTransform,"showInitialSortBadge","showInitialSortBadge",W],autoLayout:[P.HasDecoratorInputTransform,"autoLayout","autoLayout",W],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[P.HasDecoratorInputTransform,"groupRowsByOrder","groupRowsByOrder",Pe],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[dn([bx]),Xe,cn],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(i,r){i&1&&(C(0,"div",10,0),T(2,xle,3,2,"div",11)(3,Dle,2,1,"div",12)(4,$le,6,24,"p-paginator",13),C(5,"div",14,1),T(7,qle,3,17,"p-scroller",15)(8,Yle,2,7,"ng-container",16)(9,nce,10,26,"ng-template",null,2,Qt),E(),T(11,yce,6,24,"p-paginator",13)(12,bce,2,1,"div",17)(13,wce,2,2,"div",18)(14,Tce,4,4,"span",19)(15,Ace,4,4,"span",20),E()),i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",En(16,gle,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&r.scrollHeight==="flex")),N("id",r.id),g(2),f("ngIf",r.loading&&r.showLoader),g(),f("ngIf",r.captionTemplate),g(),f("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),g(),f("ngStyle",Ie(20,_le,r.virtualScroll?"":r.scrollHeight)),g(2),f("ngIf",r.virtualScroll),g(),f("ngIf",!r.virtualScroll),g(3),f("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),g(),f("ngIf",r.summaryTemplate),g(),f("ngIf",r.resizableColumns),g(),f("ngIf",r.reorderableColumns),g(),f("ngIf",r.reorderableColumns))},dependencies:()=>[ft,tt,At,mt,A4,qe,sh,hx,px,El,aue],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return n})(),aue=(()=>{class n{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(t,i,r,o){this.dt=t,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(t,i,r){let o=ee.resolveFieldData(i,this.dt.groupRowsBy),s=t[r-(1+this.dt._first)];if(s){let a=ee.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}shouldRenderRowGroupFooter(t,i,r){let o=ee.resolveFieldData(i,this.dt.groupRowsBy),s=t[r+(1+this.dt._first)];if(s){let a=ee.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}shouldRenderRowspan(t,i,r){let o=ee.resolveFieldData(i,this.dt.groupRowsBy),s=t[r-1];if(s){let a=ee.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}calculateRowGroupSize(t,i,r){let o=ee.resolveFieldData(i,this.dt.groupRowsBy),s=o,a=0;for(;o===s;){a++;let l=t[++r];if(l)s=ee.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=k.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=k.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,i){return this.dt.virtualScroll?(i=i||this.scrollerOptions,i?i[t]:null):null}getRowIndex(t){let i=this.dt.paginator?this.dt.first+t:t,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}static \u0275fac=function(i){return new(i||n)(j(Cx),j(bx),j(et),j(We))};static \u0275cmp=te({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[P.None,"pTableBody","columns"],template:[P.None,"pTableBodyTemplate","template"],value:"value",frozen:[P.HasDecoratorInputTransform,"frozen","frozen",W],frozenRows:[P.HasDecoratorInputTransform,"frozenRows","frozenRows",W],scrollerOptions:"scrollerOptions"},features:[Xe],attrs:Mce,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&T(0,Uce,2,2,"ng-container",0)(1,Zce,2,2,"ng-container",0)(2,nue,2,2,"ng-container",0)(3,rue,2,5,"ng-container",0)(4,sue,2,5,"ng-container",0),i&2&&(f("ngIf",!r.dt.expandedRowTemplate),g(),f("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),g(),f("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),g(),f("ngIf",r.dt.loading),g(),f("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[si,tt,At],encapsulation:2})}return n})();var N4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,M4,ho,Jc,la,fr,R4,v4,eu,k4,pa,hx,px,El,C4,T4,E4,Tr,b4,w4,I4,x4,Ke,pa]})}return n})();var cue=["input"];function uue(n,e){if(n&1){let t=ue();C(0,"TimesIcon",5),Q("click",function(){F(t);let r=y(2);return L(r.clear())}),E()}n&2&&(f("styleClass","p-inputmask-clear-icon"),N("data-pc-section","clearIcon"))}function due(n,e){}function hue(n,e){n&1&&T(0,due,0,0,"ng-template")}function pue(n,e){if(n&1){let t=ue();C(0,"span",6),Q("click",function(){F(t);let r=y(2);return L(r.clear())}),T(1,hue,1,0,null,7),E()}if(n&2){let t=y(2);N("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",t.clearIconTemplate)}}function fue(n,e){if(n&1&&(ie(0),T(1,uue,1,2,"TimesIcon",3)(2,pue,2,2,"span",4),re()),n&2){let t=y();g(),f("ngIf",!t.clearIconTemplate),g(),f("ngIf",t.clearIconTemplate)}}var mue={provide:Rn,useExisting:gn(()=>Ex),multi:!0},Ex=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new Z;onFocus=new Z;onBlur=new Z;onInput=new Z;onKeydown=new Z;onClear=new Z;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(t,i,r,o,s){this.document=t,this.platformId=i,this.el=r,this.cd=o,this.config=s}ngOnInit(){if(Wt(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let i=0;i<t.length;i++){let r=t[i];r=="?"?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<t.length;i++){let r=t[i];r!="?"&&(this.defs[r]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(r))}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,i){let r,o,s;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof t=="number")o=t,s=typeof i=="number"?i:o,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(o,s):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",s),r.moveStart("character",o),r.select());else return this.inputViewChild.nativeElement.setSelectionRange?(o=this.inputViewChild.nativeElement.selectionStart,s=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(r=this.document.createRange(),o=0-r.duplicate().moveStart("character",-1e5),s=o+r.text.length),{begin:o,end:s}}isCompleted(){let t;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,i){let r,o;if(!(t<0)){for(r=t,o=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(o<this.len&&this.tests[r].test(this.buffer[o]))this.buffer[r]=this.buffer[o],this.buffer[o]=this.getPlaceholder(o);else break;o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let i,r,o,s;for(i=t,r=this.getPlaceholder(t);i<this.len;i++)if(this.tests[i])if(o=this.seekNext(i),s=this.buffer[i],this.buffer[i]=r,o<this.len&&this.tests[o].test(s))r=s;else break}handleAndroidInput(t){var i=this.inputViewChild?.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(r.begin===0)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let i=this.document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(i)}}onInputKeydown(t){if(this.readonly)return;let i=t.which||t.keyCode,r,o,s,a;Wt(this.platformId)&&(a=/iphone/i.test(k.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),i===8||i===46||a&&i===127?(r=this.caret(),o=r.begin,s=r.end,s-o===0&&(o=i!==46?this.seekPrev(o):s=this.seekNext(o-1),s=i===46?this.seekNext(s):s),this.clearBuffer(o,s),this.keepBuffer?this.shiftL(o,s-2):this.shiftL(o,s-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):i===13?(this.onInputBlur(t),this.updateModel(t)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var i=t.which||t.keyCode,r=this.caret(),o,s,a,l;t.ctrlKey||t.altKey||t.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(r.end-r.begin!==0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),o=this.seekNext(r.begin-1),o<this.len&&(s=String.fromCharCode(i),this.tests[o].test(s)&&(this.shiftR(o),this.buffer[o]=s,this.writeBuffer(),a=this.seekNext(o),k.isClient()&&/android/i.test(k.getUserAgent())?setTimeout(()=>{this.caret(a)},0):this.caret(a),r.begin<=this.lastRequiredNonMaskPos&&(l=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),l&&this.onComplete.emit())}}clearBuffer(t,i){if(!this.keepBuffer){let r;for(r=t;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let i=this.inputViewChild?.nativeElement.value,r=-1,o,s,a;for(o=0,a=0;o<this.len;o++)if(this.tests[o]){for(this.buffer[o]=this.getPlaceholder(o);a++<i.length;)if(s=i.charAt(a-1),this.tests[o].test(s)){this.keepBuffer||(this.buffer[o]=s),r=o;break}if(a>i.length){this.clearBuffer(o+1,this.len);break}}else this.buffer[o]===i.charAt(a)&&a++,o<this.partialPosition&&(r=o);return t?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,r+1)),this.partialPosition?o:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=this.inputViewChild?.nativeElement.value,i=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask?.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&t.push(r)}return t.join("")}updateModel(t){let i=this.unmask?this.getUnmaskedValue():t.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(We),j(et),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-inputMask"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&Le(cue,7),i&2){let o;me(o=ge())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,r){i&2&&Vn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputmask-clearable",r.showClear&&!r.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[P.HasDecoratorInputTransform,"autoClear","autoClear",W],showClear:[P.HasDecoratorInputTransform,"showClear","showClear",W],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[P.HasDecoratorInputTransform,"size","size",Pe],maxlength:[P.HasDecoratorInputTransform,"maxlength","maxlength",Pe],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[P.HasDecoratorInputTransform,"ariaRequired","ariaRequired",W],disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],unmask:[P.HasDecoratorInputTransform,"unmask","unmask",W],name:"name",required:[P.HasDecoratorInputTransform,"required","required",W],characterPattern:"characterPattern",autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],autoFocus:[P.HasDecoratorInputTransform,"autoFocus","autoFocus",W],autocomplete:"autocomplete",keepBuffer:[P.HasDecoratorInputTransform,"keepBuffer","keepBuffer",W],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[dn([mue]),Xe],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1){let o=ue();C(0,"input",1,0),Q("focus",function(a){return F(o),L(r.onInputFocus(a))})("blur",function(a){return F(o),L(r.onInputBlur(a))})("keydown",function(a){return F(o),L(r.onInputKeydown(a))})("keypress",function(a){return F(o),L(r.onKeyPress(a))})("input",function(a){return F(o),L(r.onInputChange(a))})("paste",function(a){return F(o),L(r.handleInputChange(a))}),E(),T(2,fue,3,2,"ng-container",2)}i&2&&(ne(r.styleClass),f("ngClass",r.inputClass)("ngStyle",r.style)("disabled",r.disabled)("readonly",r.readonly)("variant",r.variant)("autofocus",r.autofocus),N("id",r.inputId)("type",r.type)("name",r.name)("placeholder",r.placeholder)("title",r.title)("size",r.size)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-required",r.ariaRequired)("required",r.required)("data-pc-name","inputmask")("data-pc-section","root"),g(2),f("ngIf",r.value!=null&&r.filled&&r.showClear&&!r.disabled))},dependencies:()=>[ft,tt,At,mt,bl,Di,Qn],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),V4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,ho,Zi,Qn,Ke]})}return n})();var B4=(()=>{class n{pFocusTrapDisabled=!1;platformId=he(Bt);host=he(We);document=he(ut);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Wt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&Wt(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",i=r=>k.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,o=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?k.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;k.focus(o)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,o=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?k.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;k.focus(o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Pt({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[P.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",W]},features:[Xe,cn]})}return n})(),z4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();var Tx=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var xx=(()=>{class n extends ze{pathId;ngOnInit(){this.pathId="url(#"+wt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[Me,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0)(1,"g"),G(2,"path",1),E(),C(3,"defs")(4,"clipPath",2),G(5,"rect",3),E()()()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),g(),N("clip-path",r.pathId),g(3),f("id",r.pathId))},encapsulation:2})}return n})();var yue=["titlebar"],vue=["content"],bue=["footer"],wue=["*",[["p-header"]],[["p-footer"]]],Iue=["*","p-header","p-footer"],Cue=(n,e,t,i,r,o,s,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":s,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),Eue=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),Tue=(n,e)=>({transform:n,transition:e}),xue=n=>({value:"visible",params:n}),Sue=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),Due=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),Aue=()=>({"min-width":0});function Mue(n,e){n&1&&de(0)}function Rue(n,e){if(n&1&&(ie(0),T(1,Mue,1,0,"ng-container",10),re()),n&2){let t=y(3);g(),f("ngTemplateOutlet",t.headlessTemplate)}}function kue(n,e){if(n&1){let t=ue();C(0,"div",15),Q("mousedown",function(r){F(t);let o=y(4);return L(o.initResize(r))}),E()}}function Oue(n,e){if(n&1&&(C(0,"span",21),oe(1),E()),n&2){let t=y(5);f("id",t.ariaLabelledBy),g(),Ue(t.header)}}function Pue(n,e){if(n&1&&(C(0,"span",21),nn(1,1),E()),n&2){let t=y(5);f("id",t.ariaLabelledBy)}}function Fue(n,e){n&1&&de(0)}function Lue(n,e){if(n&1&&G(0,"span",25),n&2){let t=y(6);f("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function Nue(n,e){n&1&&G(0,"WindowMaximizeIcon",27),n&2&&f("styleClass","p-dialog-header-maximize-icon")}function Vue(n,e){n&1&&G(0,"WindowMinimizeIcon",27),n&2&&f("styleClass","p-dialog-header-maximize-icon")}function Bue(n,e){if(n&1&&(ie(0),T(1,Nue,1,1,"WindowMaximizeIcon",26)(2,Vue,1,1,"WindowMinimizeIcon",26),re()),n&2){let t=y(6);g(),f("ngIf",!t.maximized&&!t.maximizeIconTemplate),g(),f("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function zue(n,e){}function Uue(n,e){n&1&&T(0,zue,0,0,"ng-template")}function Hue(n,e){if(n&1&&(ie(0),T(1,Uue,1,0,null,10),re()),n&2){let t=y(6);g(),f("ngTemplateOutlet",t.maximizeIconTemplate)}}function jue(n,e){}function $ue(n,e){n&1&&T(0,jue,0,0,"ng-template")}function Gue(n,e){if(n&1&&(ie(0),T(1,$ue,1,0,null,10),re()),n&2){let t=y(6);g(),f("ngTemplateOutlet",t.minimizeIconTemplate)}}function Wue(n,e){if(n&1){let t=ue();C(0,"button",22),Q("click",function(){F(t);let r=y(5);return L(r.maximize())})("keydown.enter",function(){F(t);let r=y(5);return L(r.maximize())}),T(1,Lue,1,1,"span",23)(2,Bue,3,2,"ng-container",24)(3,Hue,2,1,"ng-container",24)(4,Gue,2,1,"ng-container",24),E()}if(n&2){let t=y(5);f("ngClass",Jt(7,Sue)),N("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),g(),f("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),g(),f("ngIf",!t.maximizeIcon),g(),f("ngIf",!t.maximized),g(),f("ngIf",t.maximized)}}function que(n,e){if(n&1&&G(0,"span",30),n&2){let t=y(7);f("ngClass",t.closeIcon)}}function Kue(n,e){n&1&&G(0,"TimesIcon",27),n&2&&f("styleClass","p-dialog-header-close-icon")}function Yue(n,e){if(n&1&&(ie(0),T(1,que,1,1,"span",29)(2,Kue,1,1,"TimesIcon",26),re()),n&2){let t=y(6);g(),f("ngIf",t.closeIcon),g(),f("ngIf",!t.closeIcon)}}function Que(n,e){}function Zue(n,e){n&1&&T(0,Que,0,0,"ng-template")}function Xue(n,e){if(n&1&&(C(0,"span"),T(1,Zue,1,0,null,10),E()),n&2){let t=y(6);g(),f("ngTemplateOutlet",t.closeIconTemplate)}}function Jue(n,e){if(n&1){let t=ue();C(0,"button",28),Q("click",function(r){F(t);let o=y(5);return L(o.close(r))})("keydown.enter",function(r){F(t);let o=y(5);return L(o.close(r))}),T(1,Yue,3,2,"ng-container",24)(2,Xue,2,1,"span",24),E()}if(n&2){let t=y(5);f("ngClass",Jt(6,Due))("ngStyle",Jt(7,Aue)),N("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),g(),f("ngIf",!t.closeIconTemplate),g(),f("ngIf",t.closeIconTemplate)}}function ede(n,e){if(n&1){let t=ue();C(0,"div",16,3),Q("mousedown",function(r){F(t);let o=y(4);return L(o.initDrag(r))}),T(2,Oue,2,2,"span",17)(3,Pue,2,1,"span",17)(4,Fue,1,0,"ng-container",10),C(5,"div",18),T(6,Wue,5,8,"button",19)(7,Jue,3,8,"button",20),E()()}if(n&2){let t=y(4);g(2),f("ngIf",!t.headerFacet&&!t.headerTemplate),g(),f("ngIf",t.headerFacet),g(),f("ngTemplateOutlet",t.headerTemplate),g(2),f("ngIf",t.maximizable),g(),f("ngIf",t.closable)}}function tde(n,e){n&1&&de(0)}function nde(n,e){n&1&&de(0)}function ide(n,e){if(n&1&&(C(0,"div",31,4),nn(2,2),T(3,nde,1,0,"ng-container",10),E()),n&2){let t=y(4);g(3),f("ngTemplateOutlet",t.footerTemplate)}}function rde(n,e){if(n&1&&(T(0,kue,1,0,"div",11)(1,ede,8,5,"div",12),C(2,"div",13,2),nn(4),T(5,tde,1,0,"ng-container",10),E(),T(6,ide,4,1,"div",14)),n&2){let t=y(3);f("ngIf",t.resizable),g(),f("ngIf",t.showHeader),g(),ne(t.contentStyleClass),f("ngClass","p-dialog-content")("ngStyle",t.contentStyle),g(3),f("ngTemplateOutlet",t.contentTemplate),g(),f("ngIf",t.footerFacet||t.footerTemplate)}}function ode(n,e){if(n&1){let t=ue();C(0,"div",8,0),Q("@animation.start",function(r){F(t);let o=y(2);return L(o.onAnimationStart(r))})("@animation.done",function(r){F(t);let o=y(2);return L(o.onAnimationEnd(r))}),T(2,Rue,2,1,"ng-container",9)(3,rde,7,8,"ng-template",null,1,Qt),E()}if(n&2){let t=ct(4),i=y(2);ne(i.styleClass),f("ngClass",Pc(10,Eue,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",Ie(18,xue,Nt(15,Tue,i.transformOptions,i.transitionOptions))),N("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),g(2),f("ngIf",i.headlessTemplate)("ngIfElse",t)}}function sde(n,e){if(n&1&&(C(0,"div",6),T(1,ode,5,20,"div",7),E()),n&2){let t=y();ne(t.maskStyleClass),f("ngStyle",t.maskStyle)("ngClass",rf(5,Cue,[t.modal,t.modal||t.blockScroll,t.position==="left",t.position==="right",t.position==="top",t.position==="topleft"||t.position==="top-left",t.position==="topright"||t.position==="top-right",t.position==="bottom",t.position==="bottomleft"||t.position==="bottom-left",t.position==="bottomright"||t.position==="bottom-right"])),g(),f("ngIf",t.visible)}}var ade=Kd([mi({transform:"{{transform}}",opacity:0}),Cr("{{transition}}")]),lde=Kd([Cr("{{transition}}",mi({transform:"{{transform}}",opacity:0}))]),U4=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=ce({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new Z;onHide=new Z;visibleChange=new Z;onResizeInit=new Z;onResizeEnd=new Z;onDragEnd=new Z;onMaximize=new Z;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=wt();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(Mn.ARIA).maximizeLabel}constructor(t,i,r,o,s,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=o,this.zone=s,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?wt()+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,o;for(;(o=i.exec(t))!==null;){let s=parseFloat(o[1]),a=o[2];a==="ms"?r+=s:a==="s"&&(r+=s*1e3)}if(r!==0)return r}focus(t=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=k.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});return}let o=k.getFocusableElement(t);o?this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&k.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&k.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?k.blockBodyScroll():k.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(xn.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Wt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",k.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){k.hasClass(t.target,"p-dialog-header-icon")||k.hasClass(t.target,"p-dialog-header-close-icon")||k.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",k.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let i=k.getOuterWidth(this.container),r=k.getOuterHeight(this.container),o=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),u=parseFloat(l.marginTop),h=a.left+o-c,p=a.top+s-u,m=k.getViewport();this.container.style.position="fixed",this.keepInViewport?(h>=this.minX&&h+i<m.width&&(this._style.left=`${h}px`,this.lastPageX=t.pageX,this.container.style.left=`${h}px`),p>=this.minY&&p+r<m.height&&(this._style.top=`${p}px`,this.lastPageY=t.pageY,this.container.style.top=`${p}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${h}px`,this.lastPageY=t.pageY,this.container.style.top=`${p}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,k.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,k.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,o=k.getOuterWidth(this.container),s=k.getOuterHeight(this.container),a=k.getOuterHeight(this.contentViewChild?.nativeElement),l=o+i,c=s+r,u=this.container.style.minWidth,h=this.container.style.minHeight,p=this.container.getBoundingClientRect(),m=k.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!u||l>parseInt(u))&&p.left+l<m.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!h||c>parseInt(h))&&p.top+c<m.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,k.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):k.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&k.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&k.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(k.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&k.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&xn.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?ce({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(We),j(Gt),j(Qe),j(et),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,o){if(i&1&&(pt(o,my,5),pt(o,gy,5),pt(o,qe,4)),i&2){let s;me(s=ge())&&(r.headerFacet=s.first),me(s=ge())&&(r.footerFacet=s.first),me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(yue,5),Le(vue,5),Le(bue,5)),i&2){let o;me(o=ge())&&(r.headerViewChild=o.first),me(o=ge())&&(r.contentViewChild=o.first),me(o=ge())&&(r.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[P.HasDecoratorInputTransform,"draggable","draggable",W],resizable:[P.HasDecoratorInputTransform,"resizable","resizable",W],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[P.HasDecoratorInputTransform,"modal","modal",W],closeOnEscape:[P.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",W],dismissableMask:[P.HasDecoratorInputTransform,"dismissableMask","dismissableMask",W],rtl:[P.HasDecoratorInputTransform,"rtl","rtl",W],closable:[P.HasDecoratorInputTransform,"closable","closable",W],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[P.HasDecoratorInputTransform,"showHeader","showHeader",W],breakpoint:"breakpoint",blockScroll:[P.HasDecoratorInputTransform,"blockScroll","blockScroll",W],autoZIndex:[P.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[P.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Pe],minX:[P.HasDecoratorInputTransform,"minX","minX",Pe],minY:[P.HasDecoratorInputTransform,"minY","minY",Pe],focusOnShow:[P.HasDecoratorInputTransform,"focusOnShow","focusOnShow",W],maximizable:[P.HasDecoratorInputTransform,"maximizable","maximizable",W],keepInViewport:[P.HasDecoratorInputTransform,"keepInViewport","keepInViewport",W],focusTrap:[P.HasDecoratorInputTransform,"focusTrap","focusTrap",W],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[Xe],ngContentSelectors:Iue,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){i&1&&(_n(wue),T(0,sde,2,16,"div",5)),i&2&&f("ngIf",r.maskVisible)},dependencies:()=>[ft,tt,At,mt,B4,Qd,ai,Qn,Tx,xx],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[Il("animation",[Er("void => visible",[Yd(ade)]),Er("visible => void",[Yd(lde)])])]},changeDetection:0})}return n})(),H4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,z4,fr,Si,Qn,Tx,xx,Ke]})}return n})();var ude=["*"],j4=(()=>{class n{style;styleClass;layout="horizontal";type="solid";align;containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":this.layout==="horizontal","p-divider-vertical":this.layout==="vertical","p-divider-solid":this.type==="solid","p-divider-dashed":this.type==="dashed","p-divider-dotted":this.type==="dotted","p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left"),"p-divider-center":this.layout==="horizontal"&&this.align==="center"||this.layout==="vertical"&&(!this.align||this.align==="center"),"p-divider-right":this.layout==="horizontal"&&this.align==="right","p-divider-top":this.layout==="vertical"&&this.align==="top","p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:ude,decls:3,vars:6,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(i,r){i&1&&(_n(),C(0,"div",0)(1,"div",1),nn(2),E()()),i&2&&(ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),N("aria-orientation",r.layout)("data-pc-name","divider"))},dependencies:[ft,mt],styles:[`@layer primeng{.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-vertical:before{border-left-style:dotted}}
`],encapsulation:2,changeDetection:0})}return n})(),$4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();var G4=(()=>{class n{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new Z;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(t,i,r,o,s){this.el=t,this.ngModel=i,this.control=r,this.cd=o,this.config=s}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(We),j(Fo,8),j(Gr,8),j(et),j(qt))};static \u0275dir=Pt({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(i,r){i&1&&Q("input",function(s){return r.onInput(s)}),i&2&&Vn("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{autoResize:[P.HasDecoratorInputTransform,"autoResize","autoResize",W],variant:"variant"},outputs:{onResize:"onResize"},features:[Xe]})}return n})(),W4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();var pde=["input"],fde=(n,e,t,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t,"p-variant-filled":i}),mde=(n,e,t)=>({"p-highlight":n,"p-disabled":e,"p-focus":t}),gde=(n,e,t)=>({"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t});function _de(n,e){if(n&1&&G(0,"span",10),n&2){let t=y(3);f("ngClass",t.checkboxIcon),N("data-pc-section","icon")}}function yde(n,e){n&1&&G(0,"CheckIcon",11),n&2&&(f("styleClass","p-checkbox-icon"),N("data-pc-section","icon"))}function vde(n,e){if(n&1&&(ie(0),T(1,_de,1,2,"span",8)(2,yde,1,2,"CheckIcon",9),re()),n&2){let t=y(2);g(),f("ngIf",t.checkboxIcon),g(),f("ngIf",!t.checkboxIcon)}}function bde(n,e){}function wde(n,e){n&1&&T(0,bde,0,0,"ng-template")}function Ide(n,e){if(n&1&&(C(0,"span",12),T(1,wde,1,0,null,13),E()),n&2){let t=y(2);N("data-pc-section","icon"),g(),f("ngTemplateOutlet",t.checkboxIconTemplate)}}function Cde(n,e){if(n&1&&(ie(0),T(1,vde,3,2,"ng-container",5)(2,Ide,2,2,"span",7),re()),n&2){let t=y();g(),f("ngIf",!t.checkboxIconTemplate),g(),f("ngIf",t.checkboxIconTemplate)}}function Ede(n,e){if(n&1){let t=ue();C(0,"label",14),Q("click",function(r){F(t);let o=y(),s=ct(3);return L(o.onClick(r,s,!0))}),oe(1),E()}if(n&2){let t=y();ne(t.labelStyleClass),f("ngClass",En(6,gde,t.checked(),t.disabled,t.focused)),N("for",t.inputId)("data-pc-section","label"),g(),zt(" ",t.label,"")}}var Tde={provide:Rn,useExisting:gn(()=>Sx),multi:!0},Sx=(()=>{class n{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new Z;onFocus=new Z;onBlur=new Z;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t,i,r){this.cd=t,this.injector=i,this.config=r}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"icon":this.checkboxIconTemplate=t.template;break}})}onClick(t,i,r){t.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(t),r&&i.focus())}updateModel(t){let i,r=this.injector.get(Gr,null,{optional:!0,self:!0}),o=r&&!this.formControl?r.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=o.filter(s=>!ee.equals(s,this.value)):i=o?[...o,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){setTimeout(()=>{this.disabled=t,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:ee.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||n)(j(et),j(ri),j(qt))};static \u0275cmp=te({type:n,selectors:[["p-checkbox"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&Le(pde,5),i&2){let o;me(o=ge())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],binary:[P.HasDecoratorInputTransform,"binary","binary",W],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],required:[P.HasDecoratorInputTransform,"required","required",W],autofocus:[P.HasDecoratorInputTransform,"autofocus","autofocus",W],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[dn([Tde]),Xe],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,r){if(i&1){let o=ue();C(0,"div",1)(1,"div",2)(2,"input",3,0),Q("change",function(a){return F(o),L(r.handleChange(a))})("focus",function(a){return F(o),L(r.onInputFocus(a))})("blur",function(a){return F(o),L(r.onInputBlur(a))}),E()(),C(4,"div",4),Q("click",function(a){F(o);let l=ct(3);return L(r.onClick(a,l,!0))}),T(5,Cde,3,2,"ng-container",5),E()(),T(6,Ede,2,10,"label",6)}i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",Pc(28,fde,r.checked(),r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),N("data-pc-name","checkbox")("data-pc-section","root"),g(),N("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),g(),f("value",r.value)("checked",r.checked())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),N("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("required",r.required)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-checked",r.checked())("data-pc-section","hiddenInput"),g(2),f("ngClass",En(33,mde,r.checked(),r.disabled,r.focused)),N("data-p-highlight",r.checked())("data-p-disabled",r.disabled)("data-p-focused",r.focused)("data-pc-section","input"),g(),f("ngIf",r.checked()),g(),f("ngIf",r.label))},dependencies:()=>[ft,tt,At,mt,Di,Tr],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return n})(),q4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Zi,Tr,Ke]})}return n})();var Sde=["headerchkbox"],Dde=["filter"],Ade=["lastHiddenFocusableElement"],Mde=["firstHiddenFocusableElement"],Rde=["scroller"],kde=["list"],Ode=["wrapper"],Pde=[[["p-header"]],[["p-footer"]]],Fde=["p-header","p-footer"],sv=(n,e)=>({$implicit:n,options:e}),K4=n=>({"p-checkbox-disabled":n}),Lde=(n,e,t)=>({"p-highlight":n,"p-focus":e,"p-disabled":t}),Y4=n=>({options:n}),Dx=n=>({height:n}),Nde=()=>({}),Vde=n=>({$implicit:n}),Bde=(n,e,t)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":e,"p-disabled":t}),zde=(n,e)=>({$implicit:n,index:e}),Ude=n=>({"p-highlight":n});function Hde(n,e){n&1&&de(0)}function jde(n,e){if(n&1&&(C(0,"div",20),nn(1),T(2,Hde,1,0,"ng-container",21),E()),n&2){let t=y();g(2),f("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",Nt(2,sv,t.modelValue(),t.visibleOptions()))}}function $de(n,e){n&1&&G(0,"CheckIcon",30),n&2&&(f("styleClass","p-checkbox-icon"),N("aria-hidden",!0))}function Gde(n,e){}function Wde(n,e){n&1&&T(0,Gde,0,0,"ng-template")}function qde(n,e){if(n&1&&(C(0,"span",31),T(1,Wde,1,0,null,32),E()),n&2){let t=y(4);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function Kde(n,e){if(n&1&&(ie(0),T(1,$de,1,2,"CheckIcon",28)(2,qde,2,2,"span",29),re()),n&2){let t=y(3);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function Yde(n,e){if(n&1){let t=ue();C(0,"div",24),Q("click",function(r){F(t);let o=y(2);return L(o.onToggleAll(r))})("keydown",function(r){F(t);let o=y(2);return L(o.onHeaderCheckboxKeyDown(r))}),C(1,"div",25)(2,"input",26,5),Q("focus",function(r){F(t);let o=y(2);return L(o.onHeaderCheckboxFocus(r))})("blur",function(r){F(t);let o=y(2);return L(o.onHeaderCheckboxBlur(r))}),E()(),C(4,"div",27),T(5,Kde,3,2,"ng-container",16),E()()}if(n&2){let t=y(2);f("ngClass",Ie(8,K4,t.disabled||t.toggleAllDisabled)),g(),N("data-p-hidden-accessible",!0),g(),f("disabled",t.disabled||t.toggleAllDisabled),N("checked",t.allSelected())("aria-label",t.toggleAllAriaLabel),g(2),f("ngClass",En(10,Lde,t.allSelected(),t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),N("aria-checked",t.allSelected()),g(),f("ngIf",t.allSelected())}}function Qde(n,e){n&1&&de(0)}function Zde(n,e){if(n&1&&(ie(0),T(1,Qde,1,0,"ng-container",21),re()),n&2){let t=y(2);g(),f("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Ie(2,Y4,t.filterOptions))}}function Xde(n,e){n&1&&G(0,"SearchIcon",30),n&2&&(f("styleClass","p-listbox-filter-icon"),N("aria-hidden",!0))}function Jde(n,e){}function ehe(n,e){n&1&&T(0,Jde,0,0,"ng-template")}function the(n,e){if(n&1&&(C(0,"span",38),T(1,ehe,1,0,null,32),E()),n&2){let t=y(4);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.filterIconTemplate)}}function nhe(n,e){if(n&1){let t=ue();C(0,"div",35)(1,"input",36,6),Q("input",function(r){F(t);let o=y(3);return L(o.onFilterChange(r))})("keydown",function(r){F(t);let o=y(3);return L(o.onFilterKeyDown(r))})("focus",function(r){F(t);let o=y(3);return L(o.onFilterFocus(r))})("blur",function(r){F(t);let o=y(3);return L(o.onFilterBlur(r))}),E(),T(3,Xde,1,2,"SearchIcon",28)(4,the,2,2,"span",37),E()}if(n&2){let t=y(3);g(),f("value",t._filterValue()||"")("disabled",t.disabled)("tabindex",!t.disabled&&!t.focused?t.tabindex:-1),N("aria-owns",t.id+"_list")("aria-activedescendant",t.focusedOptionId)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),g(2),f("ngIf",!t.filterIconTemplate),g(),f("ngIf",t.filterIconTemplate)}}function ihe(n,e){if(n&1&&(T(0,nhe,5,9,"div",33),C(1,"span",34),oe(2),E()),n&2){let t=y(2);f("ngIf",t.filter),g(),N("data-p-hidden-accessible",!0),g(),zt(" ",t.filterResultMessageText," ")}}function rhe(n,e){if(n&1&&(C(0,"div",20),T(1,Yde,6,14,"div",22)(2,Zde,2,4,"ng-container",23)(3,ihe,3,3,"ng-template",null,4,Qt),E()),n&2){let t=ct(4),i=y();g(),f("ngIf",i.checkbox&&i.multiple&&i.showToggleAll),g(),f("ngIf",i.filterTemplate)("ngIfElse",t)}}function ohe(n,e){n&1&&de(0)}function she(n,e){if(n&1&&T(0,ohe,1,0,"ng-container",21),n&2){let t=e.$implicit,i=e.options;y(2);let r=ct(10);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Nt(2,sv,t,i))}}function ahe(n,e){n&1&&de(0)}function lhe(n,e){if(n&1&&T(0,ahe,1,0,"ng-container",21),n&2){let t=e.options,i=y(3);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Ie(2,Y4,t))}}function che(n,e){n&1&&(ie(0),T(1,lhe,1,4,"ng-template",41),re())}function uhe(n,e){if(n&1){let t=ue();C(0,"p-scroller",39,7),Q("onLazyLoad",function(r){F(t);let o=y();return L(o.onLazyLoad.emit(r))}),T(2,she,1,5,"ng-template",40)(3,che,2,0,"ng-container",16),E()}if(n&2){let t=y();ko(Ie(9,Dx,t.scrollHeight)),f("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions)("tabindex",t.scrollerTabIndex),g(3),f("ngIf",t.loaderTemplate)}}function dhe(n,e){n&1&&de(0)}function hhe(n,e){if(n&1&&(ie(0),T(1,dhe,1,0,"ng-container",21),re()),n&2){let t=y(),i=ct(10);g(),f("ngTemplateOutlet",i)("ngTemplateOutletContext",Nt(3,sv,t.visibleOptions(),Jt(2,Nde)))}}function phe(n,e){if(n&1&&(C(0,"span"),oe(1),E()),n&2){let t=y(2).$implicit,i=y(2);g(),Ue(i.getOptionGroupLabel(t.optionGroup))}}function fhe(n,e){n&1&&de(0)}function mhe(n,e){if(n&1&&(ie(0),C(1,"li",45),T(2,phe,2,1,"span",16)(3,fhe,1,0,"ng-container",21),E(),re()),n&2){let t=y(),i=t.$implicit,r=t.index,o=y().options,s=y();g(),f("ngStyle",Ie(5,Dx,o.itemSize+"px")),N("id",s.id+"_"+s.getOptionIndex(r,o)),g(),f("ngIf",!s.groupTemplate),g(),f("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",Ie(7,Vde,i.optionGroup))}}function ghe(n,e){n&1&&G(0,"CheckIcon",30),n&2&&(f("styleClass","p-checkbox-icon"),N("aria-hidden",!0))}function _he(n,e){}function yhe(n,e){n&1&&T(0,_he,0,0,"ng-template")}function vhe(n,e){if(n&1&&(C(0,"span",31),T(1,yhe,1,0,null,32),E()),n&2){let t=y(6);N("aria-hidden",!0),g(),f("ngTemplateOutlet",t.checkIconTemplate)}}function bhe(n,e){if(n&1&&(ie(0),T(1,ghe,1,2,"CheckIcon",28)(2,vhe,2,2,"span",29),re()),n&2){let t=y(5);g(),f("ngIf",!t.checkIconTemplate),g(),f("ngIf",t.checkIconTemplate)}}function whe(n,e){if(n&1&&(C(0,"div",48)(1,"div",49),T(2,bhe,3,2,"ng-container",16),E()()),n&2){let t=y(2).$implicit,i=y(2);f("ngClass",Ie(3,K4,i.disabled||i.isOptionDisabled(t))),g(),f("ngClass",Ie(5,Ude,i.isSelected(t))),g(),f("ngIf",i.isSelected(t))}}function Ihe(n,e){if(n&1&&(C(0,"span"),oe(1),E()),n&2){let t=y(2).$implicit,i=y(2);g(),Ue(i.getOptionLabel(t))}}function Che(n,e){n&1&&de(0)}function Ehe(n,e){if(n&1){let t=ue();ie(0),C(1,"li",46),Q("click",function(r){F(t);let o=y(),s=o.$implicit,a=o.index,l=y().options,c=y();return L(c.onOptionSelect(r,s,c.getOptionIndex(a,l)))})("dblclick",function(r){F(t);let o=y().$implicit,s=y(2);return L(s.onOptionDoubleClick(r,o))})("mousedown",function(r){F(t);let o=y().index,s=y().options,a=y();return L(a.onOptionMouseDown(r,a.getOptionIndex(o,s)))})("mouseenter",function(r){F(t);let o=y().index,s=y().options,a=y();return L(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))})("touchend",function(){F(t);let r=y(3);return L(r.onOptionTouchEnd())}),T(2,whe,3,7,"div",47)(3,Ihe,2,1,"span",16)(4,Che,1,0,"ng-container",21),E(),re()}if(n&2){let t=y(),i=t.$implicit,r=t.index,o=y().options,s=y();g(),f("ngStyle",Ie(12,Dx,o.itemSize+"px"))("ngClass",En(14,Bde,s.isSelected(i),s.focusedOptionIndex()===s.getOptionIndex(r,o),s.isOptionDisabled(i))),N("id",s.id+"_"+s.getOptionIndex(r,o))("aria-label",s.getOptionLabel(i))("aria-selected",s.isSelected(i))("aria-disabled",s.isOptionDisabled(i))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o))),g(),f("ngIf",s.checkbox&&s.multiple),g(),f("ngIf",!s.itemTemplate),g(),f("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",Nt(18,zde,i,s.getOptionIndex(r,o)))}}function The(n,e){if(n&1&&T(0,mhe,4,9,"ng-container",16)(1,Ehe,5,21,"ng-container",16),n&2){let t=e.$implicit,i=y(2);f("ngIf",i.isOptionGroup(t)),g(),f("ngIf",!i.isOptionGroup(t))}}function xhe(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(3);g(),zt(" ",t.emptyFilterMessageText," ")}}function She(n,e){n&1&&de(0,null,9)}function Dhe(n,e){if(n&1&&(C(0,"li",50),T(1,xhe,2,1,"ng-container",23)(2,She,2,0,"ng-container",32),E()),n&2){let t=y(2);g(),f("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),g(),f("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function Ahe(n,e){if(n&1&&(ie(0),oe(1),re()),n&2){let t=y(3);g(),zt(" ",t.emptyMessage," ")}}function Mhe(n,e){n&1&&de(0,null,10)}function Rhe(n,e){if(n&1&&(C(0,"li",50),T(1,Ahe,2,1,"ng-container",23)(2,Mhe,2,0,"ng-container",32),E()),n&2){let t=y(2);g(),f("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),g(),f("ngTemplateOutlet",t.emptyTemplate)}}function khe(n,e){if(n&1){let t=ue();C(0,"ul",42,8),Q("focus",function(r){F(t);let o=y();return L(o.onListFocus(r))})("blur",function(r){F(t);let o=y();return L(o.onListBlur(r))})("keydown",function(r){F(t);let o=y();return L(o.onListKeyDown(r))}),T(2,The,2,2,"ng-template",43)(3,Dhe,3,3,"li",44)(4,Rhe,3,3,"li",44),E()}if(n&2){let t=e.$implicit,i=e.options,r=y();f("tabindex",-1)("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),N("aria-multiselectable",!0)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-label",r.ariaLabel)("aria-multiselectable",r.multiple)("aria-disabled",r.disabled),g(2),f("ngForOf",t),g(),f("ngIf",r.hasFilter()&&r.isEmpty()),g(),f("ngIf",!r.hasFilter()&&r.isEmpty())}}function Ohe(n,e){n&1&&de(0)}function Phe(n,e){if(n&1&&(C(0,"div",51),nn(1,1),T(2,Ohe,1,0,"ng-container",21),E()),n&2){let t=y();g(2),f("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",Nt(2,sv,t.modelValue(),t.visibleOptions()))}}function Fhe(n,e){if(n&1&&(C(0,"span",19),oe(1),E()),n&2){let t=y();g(),zt(" ",t.emptyMessage," ")}}var Lhe={provide:Rn,useExisting:gn(()=>Ax),multi:!0},Ax=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(t){this._options.set(t)}get filterValue(){return this._filterValue()}set filterValue(t){this._filterValue.set(t)}get selectAll(){return this._selectAll}set selectAll(t){this._selectAll=t}onChange=new Z;onClick=new Z;onDblClick=new Z;onFilter=new Z;onFocus=new Z;onBlur=new Z;onSelectAllChange=new Z;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;wrapperViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=Xt(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return ee.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=Xt(null);startRangeIndex=Xt(-1);focusedOptionIndex=Xt(-1);modelValue=Xt(null);visibleOptions=ls(()=>{let t=this.group?this.flatOptions(this._options()):this._options()||[],i=this._filterValue();return this.searchFields[0]===void 0?i?t.filter(r=>r.toString().toLocaleLowerCase(this.filterLocale).indexOf(i.toLocaleLowerCase(this.filterLocale).trim())!==-1):t:i?this.filterService.filter(t,this.searchFields,i,this.filterMatchMode,this.filterLocale):t});constructor(t,i,r,o,s){this.el=t,this.cd=i,this.filterService=r,this.config=o,this.renderer=s}ngOnInit(){this.id=this.id||wt(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterChange(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"checkicon":this.checkIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}writeValue(t){this.value=t,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}flatOptions(t){return(t||[]).reduce((i,r,o)=>{i.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let t=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(t),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(t,i){this.value=t,this.modelValue.set(t),this.onModelChange(t),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(t){return this.modelValue().filter(i=>!ee.equals(i,this.getOptionValue(t),this.equalityKey()))}onOptionSelect(t,i,r=-1){this.disabled||this.isOptionDisabled(i)||this.readonly||(t&&this.onClick.emit({originalEvent:t,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(t,i):this.onOptionSelectSingle(t,i),this.optionTouched=!1,r!==-1&&this.focusedOptionIndex.set(r))}onOptionSelectMultiple(t,i){let r=this.isSelected(i),o=null;if(this.optionTouched?!1:this.metaKeySelection){let a=t.metaKey||t.ctrlKey;r?o=a?this.removeOption(i):[this.getOptionValue(i)]:(o=a?this.modelValue()||[]:[],o=[...o,this.getOptionValue(i)])}else o=r?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(o,t)}onOptionSelectSingle(t,i){let r=this.isSelected(i),o=!1,s=null;if(this.optionTouched?!1:this.metaKeySelection){let l=t.metaKey||t.ctrlKey;r?l&&(s=null,o=!0):(s=this.getOptionValue(i),o=!0)}else s=r?null:this.getOptionValue(i),o=!0;o&&this.updateModel(s,t)}onOptionSelectRange(t,i=-1,r=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(r,!0)),r===-1&&(r=this.findNearestSelectedOptionIndex(i)),i!==-1&&r!==-1){let o=Math.min(i,r),s=Math.max(i,r),a=this.visibleOptions().slice(o,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,t)}}onToggleAll(t){if(!(this.disabled||this.readonly)){if(k.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:t,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(i,t)}t.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:ee.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(t=>this.isOptionGroup(t)||this.isOptionDisabled(t)||this.isSelected(t))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(t,i){this.changeFocusedOptionIndex(t,i)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}onOptionDoubleClick(t,i){this.disabled||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:t,option:i,value:this.value})}onFirstHiddenFocus(t){k.focus(this.listViewChild.nativeElement);let i=k.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=ee.isEmpty(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(t){if(t.relatedTarget===this.listViewChild.nativeElement){let r=k.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");k.focus(r),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else k.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(t){!this.el.nativeElement.contains(t.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.wrapperViewChild.nativeElement.tabIndex="0",this.scrollerTabIndex="0")}onListFocus(t){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.onFocus.emit(t),this.wrapperViewChild.nativeElement.tabIndex="-1",this.scrollerTabIndex="-1"}onListBlur(t){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(t){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(t){if(this.disabled){t.preventDefault();return}switch(t.code){case"Space":this.onToggleAll(t);break;case"Enter":this.onToggleAll(t);break;case"Tab":this.onHeaderCheckboxTabKeyDown(t);break;default:break}}onHeaderCheckboxTabKeyDown(t){k.focus(this.listViewChild.nativeElement),t.preventDefault()}onFilterChange(t){let i=t.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterFocus(t){this.wrapperViewChild.nativeElement.tabIndex="-1"}onFilterBlur(t){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(t);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&t.code==="KeyA"&&i){let r=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,t),t.preventDefault();break}!i&&ee.isPrintableCharacter(t.key)&&(this.searchOptions(t,t.key),t.preventDefault());break}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":this.onEnterKey(t);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(t){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&t.shiftKey&&this.onOptionSelectRange(t,this.startRangeIndex(),i),this.changeFocusedOptionIndex(t,i),t.preventDefault()}onArrowUpKey(t){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&t.shiftKey&&this.onOptionSelectRange(t,i,this.startRangeIndex()),this.changeFocusedOptionIndex(t,i),t.preventDefault()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(t,i=!1){if(i)t.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let r=t.metaKey||t.ctrlKey,o=this.findFirstOptionIndex();this.multiple&&t.shiftKey&&r&&this.onOptionSelectRange(t,o,this.startRangeIndex()),this.changeFocusedOptionIndex(t,o)}t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget,o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}else{let r=t.metaKey||t.ctrlKey,o=this.findLastOptionIndex();this.multiple&&t.shiftKey&&r&&this.onOptionSelectRange(t,this.startRangeIndex(),o),this.changeFocusedOptionIndex(t,o)}t.preventDefault()}onPageDownKey(t){this.scrollInView(0),t.preventDefault()}onPageUpKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onEnterKey(t){this.focusedOptionIndex()!==-1&&(this.multiple&&t.shiftKey?this.onOptionSelectRange(t,this.focusedOptionIndex()):this.onOptionSelect(t,this.visibleOptions()[this.focusedOptionIndex()])),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onShiftKey(){let t=this.focusedOptionIndex();this.startRangeIndex.set(t)}getOptionGroupChildren(t){return this.optionGroupChildren?ee.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?ee.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionLabel(t){return this.optionLabel?ee.resolveFieldData(t,this.optionLabel):t.label!=null?t.label:t}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionValue(t){return this.optionValue?ee.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}hasSelectedOption(){return ee.isNotEmpty(this.modelValue())}isOptionGroup(t){return this.optionGroupLabel&&t.optionGroup&&t.group}changeFocusedOptionIndex(t,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(t,this.visibleOptions()[i]))}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,o=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId,r=k.findSingle(this.listViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(t!==-1?t:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findLastOptionIndex(){return ee.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findFirstFocusedOptionIndex(){let t=this.findFirstSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findLastFocusedOptionIndex(){let t=this.findLastSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}findLastSelectedOptionIndex(){return this.hasSelectedOption()?ee.findLastIndex(this.visibleOptions(),t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findNextSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return i>-1?i+t+1:-1}findPrevSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t>0?ee.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidSelectedOption(r)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findPrevOptionIndex(t){let i=t>0?ee.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findNearestSelectedOptionIndex(t,i=!1){let r=-1;return this.hasSelectedOption()&&(i?(r=this.findPrevSelectedOptionIndex(t),r=r===-1?this.findNextSelectedOptionIndex(t):r):(r=this.findNextSelectedOptionIndex(t),r=r===-1?this.findPrevSelectedOptionIndex(t):r)),r>-1?r:t}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}isOptionDisabled(t){return this.optionDisabled?ee.resolveFieldData(t,this.optionDisabled):!1}isSelected(t){let i=this.getOptionValue(t);return this.multiple?(this.modelValue()||[]).some(r=>ee.equals(r,i,this.equalityKey())):ee.equals(this.modelValue(),i,this.equalityKey())}isValidOption(t){return t&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(We),j(et),j(Bd),j(qt),j(Gt))};static \u0275cmp=te({type:n,selectors:[["p-listbox"]],contentQueries:function(i,r,o){if(i&1&&(pt(o,my,5),pt(o,gy,5),pt(o,qe,4)),i&2){let s;me(s=ge())&&(r.headerFacet=s.first),me(s=ge())&&(r.footerFacet=s.first),me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(Sde,5),Le(Dde,5),Le(Ade,5),Le(Mde,5),Le(Rde,5),Le(kde,5),Le(Ode,5)),i&2){let o;me(o=ge())&&(r.headerCheckboxViewChild=o.first),me(o=ge())&&(r.filterViewChild=o.first),me(o=ge())&&(r.lastHiddenFocusableElement=o.first),me(o=ge())&&(r.firstHiddenFocusableElement=o.first),me(o=ge())&&(r.scroller=o.first),me(o=ge())&&(r.listViewChild=o.first),me(o=ge())&&(r.wrapperViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[P.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",W],ariaLabel:"ariaLabel",selectOnFocus:[P.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",W],searchLocale:[P.HasDecoratorInputTransform,"searchLocale","searchLocale",W],focusOnHover:[P.HasDecoratorInputTransform,"focusOnHover","focusOnHover",W],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[P.HasDecoratorInputTransform,"lazy","lazy",W],virtualScroll:[P.HasDecoratorInputTransform,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[P.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",Pe],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[P.HasDecoratorInputTransform,"tabindex","tabindex",Pe],multiple:[P.HasDecoratorInputTransform,"multiple","multiple",W],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[P.HasDecoratorInputTransform,"readonly","readonly",W],disabled:[P.HasDecoratorInputTransform,"disabled","disabled",W],checkbox:[P.HasDecoratorInputTransform,"checkbox","checkbox",W],filter:[P.HasDecoratorInputTransform,"filter","filter",W],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[P.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",W],dataKey:"dataKey",showToggleAll:[P.HasDecoratorInputTransform,"showToggleAll","showToggleAll",W],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[P.HasDecoratorInputTransform,"group","group",W],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[dn([Lhe]),Xe],ngContentSelectors:Fde,decls:17,vars:23,consts:[["firstHiddenFocusableElement",""],["wrapper",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","focus","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"]],template:function(i,r){if(i&1){let o=ue();_n(Pde),C(0,"div",11),Q("focusout",function(a){return F(o),L(r.onFocusout(a))}),C(1,"span",12,0),Q("focus",function(a){return F(o),L(r.onFirstHiddenFocus(a))}),E(),T(3,jde,3,5,"div",13)(4,rhe,5,3,"div",13),C(5,"div",14,1),T(7,uhe,4,11,"p-scroller",15)(8,hhe,2,6,"ng-container",16)(9,khe,5,11,"ng-template",null,2,Qt),E(),T(11,Phe,3,5,"div",17)(12,Fhe,2,1,"span",18),C(13,"span",19),oe(14),E(),C(15,"span",12,3),Q("focus",function(a){return F(o),L(r.onLastHiddenFocus(a))}),E()()}i&2&&(ne(r.styleClass),f("ngClass",r.containerClass)("ngStyle",r.style),N("id",r.id),g(),f("tabindex",r.disabled?-1:r.tabindex),N("data-p-hidden-focusable",!0),g(2),f("ngIf",r.headerFacet||r.headerTemplate),g(),f("ngIf",r.checkbox&&r.multiple&&r.showToggleAll||r.filter),g(),ne(r.listStyleClass),Oc("max-height",r.virtualScroll?"auto":r.scrollHeight||"auto"),f("ngClass","p-listbox-list-wrapper")("ngStyle",r.listStyle),N("tabindex",!r.disabled&&"0"),g(2),f("ngIf",r.virtualScroll),g(),f("ngIf",!r.virtualScroll),g(3),f("ngIf",r.footerFacet||r.footerTemplate),g(),f("ngIf",r.isEmpty()),g(2),zt(" ",r.selectedMessageText," "),g(),f("tabindex",r.disabled?-1:r.tabindex),N("data-p-hidden-focusable",!0))},dependencies:()=>[ft,si,tt,At,mt,qe,ai,sh,lh,Tr],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),Q4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,Si,pa,lh,Tr,Ke,pa]})}return n})();var Z4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X4={};var Fl,Mx;(function(){var n;function e(M,x){function D(){}D.prototype=x.prototype,M.D=x.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(B,U,H){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return x.prototype[U].apply(B,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,x,D){D||(D=0);var B=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)B[U]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(U=0;16>U;++U)B[U]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=M.g[0],D=M.g[1],U=M.g[2];var H=M.g[3],O=x+(H^D&(U^H))+B[0]+3614090360&4294967295;x=D+(O<<7&4294967295|O>>>25),O=H+(U^x&(D^U))+B[1]+3905402710&4294967295,H=x+(O<<12&4294967295|O>>>20),O=U+(D^H&(x^D))+B[2]+606105819&4294967295,U=H+(O<<17&4294967295|O>>>15),O=D+(x^U&(H^x))+B[3]+3250441966&4294967295,D=U+(O<<22&4294967295|O>>>10),O=x+(H^D&(U^H))+B[4]+4118548399&4294967295,x=D+(O<<7&4294967295|O>>>25),O=H+(U^x&(D^U))+B[5]+1200080426&4294967295,H=x+(O<<12&4294967295|O>>>20),O=U+(D^H&(x^D))+B[6]+2821735955&4294967295,U=H+(O<<17&4294967295|O>>>15),O=D+(x^U&(H^x))+B[7]+4249261313&4294967295,D=U+(O<<22&4294967295|O>>>10),O=x+(H^D&(U^H))+B[8]+1770035416&4294967295,x=D+(O<<7&4294967295|O>>>25),O=H+(U^x&(D^U))+B[9]+2336552879&4294967295,H=x+(O<<12&4294967295|O>>>20),O=U+(D^H&(x^D))+B[10]+4294925233&4294967295,U=H+(O<<17&4294967295|O>>>15),O=D+(x^U&(H^x))+B[11]+2304563134&4294967295,D=U+(O<<22&4294967295|O>>>10),O=x+(H^D&(U^H))+B[12]+1804603682&4294967295,x=D+(O<<7&4294967295|O>>>25),O=H+(U^x&(D^U))+B[13]+4254626195&4294967295,H=x+(O<<12&4294967295|O>>>20),O=U+(D^H&(x^D))+B[14]+2792965006&4294967295,U=H+(O<<17&4294967295|O>>>15),O=D+(x^U&(H^x))+B[15]+1236535329&4294967295,D=U+(O<<22&4294967295|O>>>10),O=x+(U^H&(D^U))+B[1]+4129170786&4294967295,x=D+(O<<5&4294967295|O>>>27),O=H+(D^U&(x^D))+B[6]+3225465664&4294967295,H=x+(O<<9&4294967295|O>>>23),O=U+(x^D&(H^x))+B[11]+643717713&4294967295,U=H+(O<<14&4294967295|O>>>18),O=D+(H^x&(U^H))+B[0]+3921069994&4294967295,D=U+(O<<20&4294967295|O>>>12),O=x+(U^H&(D^U))+B[5]+3593408605&4294967295,x=D+(O<<5&4294967295|O>>>27),O=H+(D^U&(x^D))+B[10]+38016083&4294967295,H=x+(O<<9&4294967295|O>>>23),O=U+(x^D&(H^x))+B[15]+3634488961&4294967295,U=H+(O<<14&4294967295|O>>>18),O=D+(H^x&(U^H))+B[4]+3889429448&4294967295,D=U+(O<<20&4294967295|O>>>12),O=x+(U^H&(D^U))+B[9]+568446438&4294967295,x=D+(O<<5&4294967295|O>>>27),O=H+(D^U&(x^D))+B[14]+3275163606&4294967295,H=x+(O<<9&4294967295|O>>>23),O=U+(x^D&(H^x))+B[3]+4107603335&4294967295,U=H+(O<<14&4294967295|O>>>18),O=D+(H^x&(U^H))+B[8]+1163531501&4294967295,D=U+(O<<20&4294967295|O>>>12),O=x+(U^H&(D^U))+B[13]+2850285829&4294967295,x=D+(O<<5&4294967295|O>>>27),O=H+(D^U&(x^D))+B[2]+4243563512&4294967295,H=x+(O<<9&4294967295|O>>>23),O=U+(x^D&(H^x))+B[7]+1735328473&4294967295,U=H+(O<<14&4294967295|O>>>18),O=D+(H^x&(U^H))+B[12]+2368359562&4294967295,D=U+(O<<20&4294967295|O>>>12),O=x+(D^U^H)+B[5]+4294588738&4294967295,x=D+(O<<4&4294967295|O>>>28),O=H+(x^D^U)+B[8]+2272392833&4294967295,H=x+(O<<11&4294967295|O>>>21),O=U+(H^x^D)+B[11]+1839030562&4294967295,U=H+(O<<16&4294967295|O>>>16),O=D+(U^H^x)+B[14]+4259657740&4294967295,D=U+(O<<23&4294967295|O>>>9),O=x+(D^U^H)+B[1]+2763975236&4294967295,x=D+(O<<4&4294967295|O>>>28),O=H+(x^D^U)+B[4]+1272893353&4294967295,H=x+(O<<11&4294967295|O>>>21),O=U+(H^x^D)+B[7]+4139469664&4294967295,U=H+(O<<16&4294967295|O>>>16),O=D+(U^H^x)+B[10]+3200236656&4294967295,D=U+(O<<23&4294967295|O>>>9),O=x+(D^U^H)+B[13]+681279174&4294967295,x=D+(O<<4&4294967295|O>>>28),O=H+(x^D^U)+B[0]+3936430074&4294967295,H=x+(O<<11&4294967295|O>>>21),O=U+(H^x^D)+B[3]+3572445317&4294967295,U=H+(O<<16&4294967295|O>>>16),O=D+(U^H^x)+B[6]+76029189&4294967295,D=U+(O<<23&4294967295|O>>>9),O=x+(D^U^H)+B[9]+3654602809&4294967295,x=D+(O<<4&4294967295|O>>>28),O=H+(x^D^U)+B[12]+3873151461&4294967295,H=x+(O<<11&4294967295|O>>>21),O=U+(H^x^D)+B[15]+530742520&4294967295,U=H+(O<<16&4294967295|O>>>16),O=D+(U^H^x)+B[2]+3299628645&4294967295,D=U+(O<<23&4294967295|O>>>9),O=x+(U^(D|~H))+B[0]+4096336452&4294967295,x=D+(O<<6&4294967295|O>>>26),O=H+(D^(x|~U))+B[7]+1126891415&4294967295,H=x+(O<<10&4294967295|O>>>22),O=U+(x^(H|~D))+B[14]+2878612391&4294967295,U=H+(O<<15&4294967295|O>>>17),O=D+(H^(U|~x))+B[5]+4237533241&4294967295,D=U+(O<<21&4294967295|O>>>11),O=x+(U^(D|~H))+B[12]+1700485571&4294967295,x=D+(O<<6&4294967295|O>>>26),O=H+(D^(x|~U))+B[3]+2399980690&4294967295,H=x+(O<<10&4294967295|O>>>22),O=U+(x^(H|~D))+B[10]+4293915773&4294967295,U=H+(O<<15&4294967295|O>>>17),O=D+(H^(U|~x))+B[1]+2240044497&4294967295,D=U+(O<<21&4294967295|O>>>11),O=x+(U^(D|~H))+B[8]+1873313359&4294967295,x=D+(O<<6&4294967295|O>>>26),O=H+(D^(x|~U))+B[15]+4264355552&4294967295,H=x+(O<<10&4294967295|O>>>22),O=U+(x^(H|~D))+B[6]+2734768916&4294967295,U=H+(O<<15&4294967295|O>>>17),O=D+(H^(U|~x))+B[13]+1309151649&4294967295,D=U+(O<<21&4294967295|O>>>11),O=x+(U^(D|~H))+B[4]+4149444226&4294967295,x=D+(O<<6&4294967295|O>>>26),O=H+(D^(x|~U))+B[11]+3174756917&4294967295,H=x+(O<<10&4294967295|O>>>22),O=U+(x^(H|~D))+B[2]+718787259&4294967295,U=H+(O<<15&4294967295|O>>>17),O=D+(H^(U|~x))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+H&4294967295}i.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var D=x-this.blockSize,B=this.B,U=this.h,H=0;H<x;){if(U==0)for(;H<=D;)r(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<x;)if(B[U++]=M.charCodeAt(H++),U==this.blockSize){r(this,B),U=0;break}}else for(;H<x;)if(B[U++]=M[H++],U==this.blockSize){r(this,B),U=0;break}}this.h=U,this.o+=x},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var D=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=D&255,D/=256;for(this.u(M),M=Array(16),x=D=0;4>x;++x)for(var B=0;32>B;B+=8)M[D++]=this.g[x]>>>B&255;return M};function o(M,x){var D=a;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=x(M)}function s(M,x){this.h=x;for(var D=[],B=!0,U=M.length-1;0<=U;U--){var H=M[U]|0;B&&H==x||(D[U]=H,B=!1)}this.g=D}var a={};function l(M){return-128<=M&&128>M?o(M,function(x){return new s([x|0],0>x?-1:0)}):new s([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return h;if(0>M)return I(c(-M));for(var x=[],D=1,B=0;M>=D;B++)x[B]=M/D|0,D*=4294967296;return new s(x,0)}function u(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return I(u(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(x,8)),B=h,U=0;U<M.length;U+=8){var H=Math.min(8,M.length-U),O=parseInt(M.substring(U,U+H),x);8>H?(H=c(Math.pow(x,H)),B=B.j(H).add(c(O))):(B=B.j(D),B=B.add(c(O)))}return B}var h=l(0),p=l(1),m=l(16777216);n=s.prototype,n.m=function(){if(w(this))return-I(this).m();for(var M=0,x=1,D=0;D<this.g.length;D++){var B=this.i(D);M+=(0<=B?B:4294967296+B)*x,x*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(v(this))return"0";if(w(this))return"-"+I(this).toString(M);for(var x=c(Math.pow(M,6)),D=this,B="";;){var U=z(D,x).g;D=S(D,U.j(x));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=U,v(D))return H+B;for(;6>H.length;)H="0"+H;B=H+B}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function v(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function w(M){return M.h==-1}n.l=function(M){return M=S(this,M),w(M)?-1:v(M)?0:1};function I(M){for(var x=M.g.length,D=[],B=0;B<x;B++)D[B]=~M.g[B];return new s(D,~M.h).add(p)}n.abs=function(){return w(this)?I(this):this},n.add=function(M){for(var x=Math.max(this.g.length,M.g.length),D=[],B=0,U=0;U<=x;U++){var H=B+(this.i(U)&65535)+(M.i(U)&65535),O=(H>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);B=O>>>16,H&=65535,O&=65535,D[U]=O<<16|H}return new s(D,D[D.length-1]&-2147483648?-1:0)};function S(M,x){return M.add(I(x))}n.j=function(M){if(v(this)||v(M))return h;if(w(this))return w(M)?I(this).j(I(M)):I(I(this).j(M));if(w(M))return I(this.j(I(M)));if(0>this.l(m)&&0>M.l(m))return c(this.m()*M.m());for(var x=this.g.length+M.g.length,D=[],B=0;B<2*x;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(var U=0;U<M.g.length;U++){var H=this.i(B)>>>16,O=this.i(B)&65535,De=M.i(U)>>>16,Se=M.i(U)&65535;D[2*B+2*U]+=O*Se,R(D,2*B+2*U),D[2*B+2*U+1]+=H*Se,R(D,2*B+2*U+1),D[2*B+2*U+1]+=O*De,R(D,2*B+2*U+1),D[2*B+2*U+2]+=H*De,R(D,2*B+2*U+2)}for(B=0;B<x;B++)D[B]=D[2*B+1]<<16|D[2*B];for(B=x;B<2*x;B++)D[B]=0;return new s(D,0)};function R(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function V(M,x){this.g=M,this.h=x}function z(M,x){if(v(x))throw Error("division by zero");if(v(M))return new V(h,h);if(w(M))return x=z(I(M),x),new V(I(x.g),I(x.h));if(w(x))return x=z(M,I(x)),new V(I(x.g),x.h);if(30<M.g.length){if(w(M)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var D=p,B=x;0>=B.l(M);)D=q(D),B=q(B);var U=Y(D,1),H=Y(B,1);for(B=Y(B,2),D=Y(D,2);!v(B);){var O=H.add(B);0>=O.l(M)&&(U=U.add(D),H=O),B=Y(B,1),D=Y(D,1)}return x=S(M,U.j(x)),new V(U,x)}for(U=h;0<=M.l(x);){for(D=Math.max(1,Math.floor(M.m()/x.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),H=c(D),O=H.j(x);w(O)||0<O.l(M);)D-=B,H=c(D),O=H.j(x);v(H)&&(H=p),U=U.add(H),M=S(M,O)}return new V(U,M)}n.A=function(M){return z(this,M).h},n.and=function(M){for(var x=Math.max(this.g.length,M.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)&M.i(B);return new s(D,this.h&M.h)},n.or=function(M){for(var x=Math.max(this.g.length,M.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)|M.i(B);return new s(D,this.h|M.h)},n.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),D=[],B=0;B<x;B++)D[B]=this.i(B)^M.i(B);return new s(D,this.h^M.h)};function q(M){for(var x=M.g.length+1,D=[],B=0;B<x;B++)D[B]=M.i(B)<<1|M.i(B-1)>>>31;return new s(D,M.h)}function Y(M,x){var D=x>>5;x%=32;for(var B=M.g.length-D,U=[],H=0;H<B;H++)U[H]=0<x?M.i(H+D)>>>x|M.i(H+D+1)<<32-x:M.i(H+D);return new s(U,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Mx=X4.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Fl=X4.Integer=s}).apply(typeof Z4<"u"?Z4:typeof self<"u"?self:typeof window<"u"?window:{});var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fa={};var Rx,kx,dh,Ox,om,lv,Px,Fx,Lx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,b){return d==Array.prototype||d==Object.prototype||(d[_]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof av=="object"&&av];for(var _=0;_<d.length;++_){var b=d[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function r(d,_){if(_)e:{var b=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var K=d[A];if(!(K in b))break e;b=b[K]}d=d[d.length-1],A=b[d],_=_(A),_!=A&&_!=null&&e(b,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var b=0,A=!1,K={next:function(){if(!A&&b<d.length){var X=b++;return{value:_(X,d[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,b){return b})}});var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,b){return d.call.apply(d.bind,arguments)}function h(d,_,b){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),d.apply(_,K)}}return function(){return d.apply(_,arguments)}}function p(d,_,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(d,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function v(d,_){function b(){}b.prototype=_.prototype,d.aa=_.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(A,K,X){for(var we=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)we[fn-2]=arguments[fn];return _.prototype[K].apply(A,we)}}function w(d){let _=d.length;if(0<_){let b=Array(_);for(let A=0;A<_;A++)b[A]=d[A];return b}return[]}function I(d,_){for(let b=1;b<arguments.length;b++){let A=arguments[b];if(l(A)){let K=d.length||0,X=A.length||0;d.length=K+X;for(let we=0;we<X;we++)d[K+we]=A[we]}else d.push(A)}}class S{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(d,_,b){for(let A in d)_.call(b,d[A],A,d)}function M(d,_){for(let b in d)_.call(void 0,d[b],b,d)}function x(d){let _={};for(let b in d)_[b]=d[b];return _}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,_){let b,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(b in A)d[b]=A[b];for(let X=0;X<D.length;X++)b=D[X],Object.prototype.hasOwnProperty.call(A,b)&&(d[b]=A[b])}}function U(d){var _=1;d=d.split(":");let b=[];for(;0<_&&d.length;)b.push(d.shift()),_--;return d.length&&b.push(d.join(":")),b}function H(d){a.setTimeout(()=>{throw d},0)}function O(){var d=ke;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class De{constructor(){this.h=this.g=null}add(_,b){let A=Se.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new S(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,ke=new De,Ae=()=>{let d=a.Promise.resolve(void 0);ae=()=>{d.then(Ge)}};var Ge=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(b){H(b)}var _=Se;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}fe=!1};function Ze(){this.s=this.s,this.C=this.C}Ze.prototype.s=!1,Ze.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ze.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let b=()=>{};a.addEventListener("test",b,_),a.removeEventListener("test",b,_)}catch{}return d}();function Dn(d,_){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(q){e:{try{z(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else b=="mouseover"?_=d.fromElement:b=="mouseout"&&(_=d.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Gn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Dn.aa.h.call(this)}}v(Dn,vt);var Gn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function Tn(d,_,b,A,K){this.listener=d,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=K,this.key=++Jn,this.da=this.fa=!1}function On(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fi(d){this.src=d,this.g={},this.h=0}Fi.prototype.add=function(d,_,b,A,K){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var we=za(d,_,A,K);return-1<we?(_=d[we],b||(_.fa=!1)):(_=new Tn(_,this.src,X,!!A,K),_.fa=b,d.push(_)),_};function Ns(d,_){var b=_.type;if(b in d.g){var A=d.g[b],K=Array.prototype.indexOf.call(A,_,void 0),X;(X=0<=K)&&Array.prototype.splice.call(A,K,1),X&&(On(_),d.g[b].length==0&&(delete d.g[b],d.h--))}}function za(d,_,b,A){for(var K=0;K<d.length;++K){var X=d[K];if(!X.da&&X.listener==_&&X.capture==!!b&&X.ha==A)return K}return-1}var sc="closure_lm_"+(1e6*Math.random()|0),Vs={};function Yo(d,_,b,A,K){if(A&&A.once)return Bs(d,_,b,A,K);if(Array.isArray(_)){for(var X=0;X<_.length;X++)Yo(d,_[X],b,A,K);return null}return b=ac(b),d&&d[St]?d.K(_,b,c(A)?!!A.capture:!!A,K):or(d,_,b,!1,A,K)}function or(d,_,b,A,K,X){if(!_)throw Error("Invalid event type");var we=c(K)?!!K.capture:!!K,fn=Zo(d);if(fn||(d[sc]=fn=new Fi(d)),b=fn.add(_,b,A,we,X),b.proxy)return b;if(A=no(),b.proxy=A,A.src=d,A.listener=b,d.addEventListener)le||(K=we),K===void 0&&(K=!1),d.addEventListener(_.toString(),A,K);else if(d.attachEvent)d.attachEvent(Qo(_.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function no(){function d(b){return _.call(d.src,d.listener,b)}let _=Ua;return d}function Bs(d,_,b,A,K){if(Array.isArray(_)){for(var X=0;X<_.length;X++)Bs(d,_[X],b,A,K);return null}return b=ac(b),d&&d[St]?d.L(_,b,c(A)?!!A.capture:!!A,K):or(d,_,b,!0,A,K)}function zs(d,_,b,A,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)zs(d,_[X],b,A,K);else A=c(A)?!!A.capture:!!A,b=ac(b),d&&d[St]?(d=d.i,_=String(_).toString(),_ in d.g&&(X=d.g[_],b=za(X,b,A,K),-1<b&&(On(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete d.g[_],d.h--)))):d&&(d=Zo(d))&&(_=d.g[_.toString()],d=-1,_&&(d=za(_,b,A,K)),(b=-1<d?_[d]:null)&&Us(b))}function Us(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[St])Ns(_.i,d);else{var b=d.type,A=d.proxy;_.removeEventListener?_.removeEventListener(b,A,d.capture):_.detachEvent?_.detachEvent(Qo(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=Zo(_))?(Ns(b,d),b.h==0&&(b.src=null,_[sc]=null)):On(d)}}}function Qo(d){return d in Vs?Vs[d]:Vs[d]="on"+d}function Ua(d,_){if(d.da)d=!0;else{_=new Dn(_,this);var b=d.listener,A=d.ha||d.src;d.fa&&Us(d),d=b.call(A,_)}return d}function Zo(d){return d=d[sc],d instanceof Fi?d:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(d){return typeof d=="function"?d:(d[Pn]||(d[Pn]=function(_){return d.handleEvent(_)}),d[Pn])}function ei(){Ze.call(this),this.i=new Fi(this),this.M=this,this.F=null}v(ei,Ze),ei.prototype[St]=!0,ei.prototype.removeEventListener=function(d,_,b,A){zs(this,d,_,b,A)};function ti(d,_){var b,A=d.F;if(A)for(b=[];A;A=A.F)b.push(A);if(d=d.M,A=_.type||_,typeof _=="string")_=new vt(_,d);else if(_ instanceof vt)_.target=_.target||d;else{var K=_;_=new vt(A,d),B(_,K)}if(K=!0,b)for(var X=b.length-1;0<=X;X--){var we=_.g=b[X];K=Hs(we,A,!0,_)&&K}if(we=_.g=d,K=Hs(we,A,!0,_)&&K,K=Hs(we,A,!1,_)&&K,b)for(X=0;X<b.length;X++)we=_.g=b[X],K=Hs(we,A,!1,_)&&K}ei.prototype.N=function(){if(ei.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var b=d.g[_],A=0;A<b.length;A++)On(b[A]);delete d.g[_],d.h--}}this.F=null},ei.prototype.K=function(d,_,b,A){return this.i.add(String(d),_,!1,b,A)},ei.prototype.L=function(d,_,b,A){return this.i.add(String(d),_,!0,b,A)};function Hs(d,_,b,A){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,X=0;X<_.length;++X){var we=_[X];if(we&&!we.da&&we.capture==b){var fn=we.listener,Li=we.ha||we.src;we.fa&&Ns(d.i,we),K=fn.call(Li,A)!==!1&&K}}return K&&!A.defaultPrevented}function gg(d,_,b){if(typeof d=="function")b&&(d=p(d,b));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function Ep(d){d.g=gg(()=>{d.g=null,d.i&&(d.i=!1,Ep(d))},d.l);let _=d.h;d.h=null,d.m.apply(null,_)}class _g extends Ze{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ep(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(d){Ze.call(this),this.h=d,this.g={}}v(js,Ze);var yg=[];function vg(d){Y(d.g,function(_,b){this.g.hasOwnProperty(b)&&Us(_)},d),d.g={}}js.prototype.N=function(){js.aa.N.call(this),vg(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ou=a.JSON.stringify,bg=a.JSON.parse,Tp=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Pu(){}Pu.prototype.h=null;function Fu(d){return d.h||(d.h=d.i())}function Ha(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $s(){vt.call(this,"d")}v($s,vt);function Lu(){vt.call(this,"c")}v(Lu,vt);var Xo={},sr=null;function io(){return sr=sr||new ei}Xo.La="serverreachability";function ar(d){vt.call(this,Xo.La,d)}v(ar,vt);function Wi(d){let _=io();ti(_,new ar(_))}Xo.STAT_EVENT="statevent";function lr(d,_){vt.call(this,Xo.STAT_EVENT,d),this.stat=_}v(lr,vt);function In(d){let _=io();ti(_,new lr(_,d))}Xo.Ma="timingevent";function ro(d,_){vt.call(this,Xo.Ma,d),this.size=_}v(ro,vt);function hn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function wo(d,_,b,A,K,X){d.info(function(){if(d.g)if(X)for(var we="",fn=X.split("&"),Li=0;Li<fn.length;Li++){var Zt=fn[Li].split("=");if(1<Zt.length){var qi=Zt[0];Zt=Zt[1];var Ki=qi.split("_");we=2<=Ki.length&&Ki[1]=="type"?we+(qi+"="+Zt+"&"):we+(qi+"=redacted&")}}else we=null;else we=X;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+_+`
`+b+`
`+we})}function Ab(d,_,b,A,K,X,we){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+_+`
`+b+`
`+X+" "+we})}function Nu(d,_,b,A){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+rz(d,b)+(A?" "+A:"")})}function iz(d,_){d.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function rz(d,_){if(!d.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var A=b[d];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var we=1;we<K.length;we++)K[we]=""}}}}return Ou(b)}catch{return _}}var wg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mb;function Ig(){}v(Ig,Pu),Ig.prototype.g=function(){return new XMLHttpRequest},Ig.prototype.i=function(){return{}},Mb=new Ig;function ja(d,_,b,A){this.j=d,this.i=_,this.l=b,this.R=A||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xR}function xR(){this.i=null,this.g="",this.h=!1}var SR={},Rb={};function kb(d,_,b){d.L=1,d.v=xg(Gs(_)),d.m=b,d.P=!0,DR(d,null)}function DR(d,_){d.F=Date.now(),Cg(d),d.A=Gs(d.v);var b=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),HR(b.i,"t",A),d.C=0,b=d.j.J,d.h=new xR,d.g=sk(d.j,b?_:null,!d.m),0<d.O&&(d.M=new _g(p(d.Y,d,d.g),d.O)),_=d.U,b=d.g,A=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(yg[0]=K.toString()),K=yg);for(var X=0;X<K.length;X++){var we=Yo(b,K[X],A||_.handleEvent,!1,_.h||_);if(!we)break;_.g[we.key]=we}_=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Wi(),wo(d.i,d.u,d.A,d.l,d.R,d.m)}ja.prototype.ca=function(d){d=d.target;let _=this.M;_&&Ws(d)==3?_.j():this.Y(d)},ja.prototype.Y=function(d){try{if(d==this.g)e:{let Ki=Ws(this.g);var _=this.g.Ba();let zu=this.g.Z();if(!(3>Ki)&&(Ki!=3||this.g&&(this.h.h||this.g.oa()||YR(this.g)))){this.J||Ki!=4||_==7||(_==8||0>=zu?Wi(3):Wi(2)),Ob(this);var b=this.g.Z();this.X=b;t:if(AR(this)){var A=YR(this.g);d="";var K=A.length,X=Ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lc(this),xp(this);var we="";break t}this.h.i=new a.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,d+=this.h.i.decode(A[_],{stream:!(X&&_==K-1)});A.length=0,this.h.g+=d,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=b==200,Ab(this.i,this.u,this.A,this.l,this.R,Ki,b),this.o){if(this.T&&!this.K){t:{if(this.g){var fn,Li=this.g;if((fn=Li.g?Li.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(fn)){var Zt=fn;break t}}Zt=null}if(b=Zt)Nu(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pb(this,b);else{this.o=!1,this.s=3,In(12),lc(this),xp(this);break e}}if(this.P){b=!0;let Io;for(;!this.J&&this.C<we.length;)if(Io=oz(this,we),Io==Rb){Ki==4&&(this.s=4,In(14),b=!1),Nu(this.i,this.l,null,"[Incomplete Response]");break}else if(Io==SR){this.s=4,In(15),Nu(this.i,this.l,we,"[Invalid Chunk]"),b=!1;break}else Nu(this.i,this.l,Io,null),Pb(this,Io);if(AR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ki!=4||we.length!=0||this.h.h||(this.s=1,In(16),b=!1),this.o=this.o&&b,!b)Nu(this.i,this.l,we,"[Invalid Chunked Response]"),lc(this),xp(this);else if(0<we.length&&!this.W){this.W=!0;var qi=this.j;qi.g==this&&qi.ba&&!qi.M&&(qi.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),zb(qi),qi.M=!0,In(11))}}else Nu(this.i,this.l,we,null),Pb(this,we);Ki==4&&lc(this),this.o&&!this.J&&(Ki==4?nk(this.j,this):(this.o=!1,Cg(this)))}else Iz(this.g),b==400&&0<we.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),lc(this),xp(this)}}}catch{}finally{}};function AR(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function oz(d,_){var b=d.C,A=_.indexOf(`
`,b);return A==-1?Rb:(b=Number(_.substring(b,A)),isNaN(b)?SR:(A+=1,A+b>_.length?Rb:(_=_.slice(A,A+b),d.C=A+b,_)))}ja.prototype.cancel=function(){this.J=!0,lc(this)};function Cg(d){d.S=Date.now()+d.I,MR(d,d.I)}function MR(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hn(p(d.ba,d),_)}function Ob(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ja.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(iz(this.i,this.A),this.L!=2&&(Wi(),In(17)),lc(this),this.s=2,xp(this)):MR(this,this.S-d)};function xp(d){d.j.G==0||d.J||nk(d.j,d)}function lc(d){Ob(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,vg(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Pb(d,_){try{var b=d.j;if(b.G!=0&&(b.g==d||Fb(b.h,d))){if(!d.K&&Fb(b.h,d)&&b.G==3){try{var A=b.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Rg(b),Ag(b);else break e;Bb(b),In(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=hn(p(b.Za,b),6e3));if(1>=OR(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else uc(b,11)}else if((d.K||b.g==d)&&Rg(b),!R(_))for(K=b.Da.g.parse(_),_=0;_<K.length;_++){let Zt=K[_];if(b.T=Zt[0],Zt=Zt[1],b.G==2)if(Zt[0]=="c"){b.K=Zt[1],b.ia=Zt[2];let qi=Zt[3];qi!=null&&(b.la=qi,b.j.info("VER="+b.la));let Ki=Zt[4];Ki!=null&&(b.Aa=Ki,b.j.info("SVER="+b.Aa));let zu=Zt[5];zu!=null&&typeof zu=="number"&&0<zu&&(A=1.5*zu,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;let Io=d.g;if(Io){let Og=Io.g?Io.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Og){var X=A.h;X.g||Og.indexOf("spdy")==-1&&Og.indexOf("quic")==-1&&Og.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Lb(X,X.h),X.h=null))}if(A.D){let Ub=Io.g?Io.g.getResponseHeader("X-HTTP-Session-Id"):null;Ub&&(A.ya=Ub,Cn(A.I,A.D,Ub))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var we=d;if(A.qa=ok(A,A.J?A.ia:null,A.W),we.K){PR(A.h,we);var fn=we,Li=A.L;Li&&(fn.I=Li),fn.B&&(Ob(fn),Cg(fn)),A.g=we}else ek(A);0<b.i.length&&Mg(b)}else Zt[0]!="stop"&&Zt[0]!="close"||uc(b,7);else b.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?uc(b,7):Vb(b):Zt[0]!="noop"&&b.l&&b.l.ta(Zt),b.v=0)}}Wi(4)}catch{}}var sz=class{constructor(d,_){this.g=d,this.map=_}};function RR(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kR(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function OR(d){return d.h?1:d.g?d.g.size:0}function Fb(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Lb(d,_){d.g?d.g.add(_):d.h=_}function PR(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}RR.prototype.cancel=function(){if(this.i=FR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function FR(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(let b of d.g.values())_=_.concat(b.D);return _}return w(d.i)}function az(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],b=d.length,A=0;A<b;A++)_.push(d[A]);return _}_=[],b=0;for(A in d)_[b++]=d[A];return _}function lz(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var b=0;b<d;b++)_.push(b);return _}_=[],b=0;for(let A in d)_[b++]=A;return _}}}function LR(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var b=lz(d),A=az(d),K=A.length,X=0;X<K;X++)_.call(void 0,A[X],b&&b[X],d)}var NR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cz(d,_){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var A=d[b].indexOf("="),K=null;if(0<=A){var X=d[b].substring(0,A);K=d[b].substring(A+1)}else X=d[b];_(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function cc(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof cc){this.h=d.h,Eg(this,d.j),this.o=d.o,this.g=d.g,Tg(this,d.s),this.l=d.l;var _=d.i,b=new Ap;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),VR(this,b),this.m=d.m}else d&&(_=String(d).match(NR))?(this.h=!1,Eg(this,_[1]||"",!0),this.o=Sp(_[2]||""),this.g=Sp(_[3]||"",!0),Tg(this,_[4]),this.l=Sp(_[5]||"",!0),VR(this,_[6]||"",!0),this.m=Sp(_[7]||"")):(this.h=!1,this.i=new Ap(null,this.h))}cc.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Dp(_,BR,!0),":");var b=this.g;return(b||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Dp(_,BR,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Dp(b,b.charAt(0)=="/"?hz:dz,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Dp(b,fz)),d.join("")};function Gs(d){return new cc(d)}function Eg(d,_,b){d.j=b?Sp(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Tg(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function VR(d,_,b){_ instanceof Ap?(d.i=_,mz(d.i,d.h)):(b||(_=Dp(_,pz)),d.i=new Ap(_,d.h))}function Cn(d,_,b){d.i.set(_,b)}function xg(d){return Cn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sp(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dp(d,_,b){return typeof d=="string"?(d=encodeURI(d).replace(_,uz),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function uz(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var BR=/[#\/\?@]/g,dz=/[#\?:]/g,hz=/[#\?]/g,pz=/[#\?@]/g,fz=/#/g;function Ap(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function $a(d){d.g||(d.g=new Map,d.h=0,d.i&&cz(d.i,function(_,b){d.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Ap.prototype,n.add=function(d,_){$a(this),this.i=null,d=Vu(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(_),this.h+=1,this};function zR(d,_){$a(d),_=Vu(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function UR(d,_){return $a(d),_=Vu(d,_),d.g.has(_)}n.forEach=function(d,_){$a(this),this.g.forEach(function(b,A){b.forEach(function(K){d.call(_,K,A,this)},this)},this)},n.na=function(){$a(this);let d=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let A=0;A<_.length;A++){let K=d[A];for(let X=0;X<K.length;X++)b.push(_[A])}return b},n.V=function(d){$a(this);let _=[];if(typeof d=="string")UR(this,d)&&(_=_.concat(this.g.get(Vu(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)_=_.concat(d[b])}return _},n.set=function(d,_){return $a(this),this.i=null,d=Vu(this,d),UR(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function HR(d,_,b){zR(d,_),0<b.length&&(d.i=null,d.g.set(Vu(d,_),w(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var A=_[b];let X=encodeURIComponent(String(A)),we=this.V(A);for(A=0;A<we.length;A++){var K=X;we[A]!==""&&(K+="="+encodeURIComponent(String(we[A]))),d.push(K)}}return this.i=d.join("&")};function Vu(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function mz(d,_){_&&!d.j&&($a(d),d.i=null,d.g.forEach(function(b,A){var K=A.toLowerCase();A!=K&&(zR(this,A),HR(this,K,b))},d)),d.j=_}function gz(d,_){let b=new Wn;if(a.Image){let A=new Image;A.onload=m(Ga,b,"TestLoadImage: loaded",!0,_,A),A.onerror=m(Ga,b,"TestLoadImage: error",!1,_,A),A.onabort=m(Ga,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=m(Ga,b,"TestLoadImage: timeout",!1,_,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else _(!1)}function _z(d,_){let b=new Wn,A=new AbortController,K=setTimeout(()=>{A.abort(),Ga(b,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:A.signal}).then(X=>{clearTimeout(K),X.ok?Ga(b,"TestPingServer: ok",!0,_):Ga(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Ga(b,"TestPingServer: error",!1,_)})}function Ga(d,_,b,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(b)}catch{}}function yz(){this.g=new Tp}function vz(d,_,b){let A=b||"";try{LR(d,function(K,X){let we=K;c(K)&&(we=Ou(K)),_.push(A+X+"="+encodeURIComponent(we))})}catch(K){throw _.push(A+"type="+encodeURIComponent("_badmap")),K}}function Mp(d){this.l=d.Ub||null,this.j=d.eb||!1}v(Mp,Pu),Mp.prototype.g=function(){return new Sg(this.l,this.j)},Mp.prototype.i=function(d){return function(){return d}}({});function Sg(d,_){ei.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Sg,ei),n=Sg.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,kp(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rp(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jR(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function jR(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Rp(this):kp(this),this.readyState==3&&jR(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Rp(this))},n.Qa=function(d){this.g&&(this.response=d,Rp(this))},n.ga=function(){this.g&&Rp(this)};function Rp(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kp(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=_.next();return d.join(`\r
`)};function kp(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $R(d){let _="";return Y(d,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function Nb(d,_,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=$R(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Cn(d,_,b))}function Fn(d){ei.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Fn,ei);var bz=/^https?$/i,wz=["POST","PUT"];n=Fn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mb.g(),this.v=this.o?Fu(this.o):Fu(Mb),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){GR(this,X);return}if(d=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)b.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(let X of A.keys())b.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wz,_,void 0))||A||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[X,we]of b)this.g.setRequestHeader(X,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KR(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){GR(this,X)}};function GR(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,WR(d),Dg(d)}function WR(d){d.A||(d.A=!0,ti(d,"complete"),ti(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ti(this,"complete"),ti(this,"abort"),Dg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dg(this,!0)),Fn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qR(this):this.bb())},n.bb=function(){qR(this)};function qR(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Ws(d)!=4||d.Z()!=2)){if(d.u&&Ws(d)==4)gg(d.Ea,0,d);else if(ti(d,"readystatechange"),Ws(d)==4){d.h=!1;try{let we=d.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var A;if(A=we===0){var K=String(d.D).match(NR)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),A=!bz.test(K?K.toLowerCase():"")}b=A}if(b)ti(d,"complete"),ti(d,"success");else{d.m=6;try{var X=2<Ws(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",WR(d)}}finally{Dg(d)}}}}function Dg(d,_){if(d.g){KR(d);let b=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||ti(d,"ready");try{b.onreadystatechange=A}catch{}}}function KR(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ws(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),bg(_)}};function YR(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Iz(d){let _={};d=(d.g&&2<=Ws(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(R(d[A]))continue;var b=U(d[A]);let K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();let X=_[K]||[];_[K]=X,X.push(b)}M(_,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Op(d,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||_}function QR(d){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Op("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Op("baseRetryDelayMs",5e3,d),this.cb=Op("retryDelaySeedMs",1e4,d),this.Wa=Op("forwardChannelMaxRetries",2,d),this.wa=Op("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new RR(d&&d.concurrentRequestLimit),this.Da=new yz,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=QR.prototype,n.la=8,n.G=1,n.connect=function(d,_,b,A){In(0),this.W=d,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=ok(this,null,this.W),Mg(this)};function Vb(d){if(ZR(d),d.G==3){var _=d.U++,b=Gs(d.I);if(Cn(b,"SID",d.K),Cn(b,"RID",_),Cn(b,"TYPE","terminate"),Pp(d,b),_=new ja(d,d.j,_),_.L=2,_.v=xg(Gs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=_.v,b=!0),b||(_.g=sk(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Cg(_)}rk(d)}function Ag(d){d.g&&(zb(d),d.g.cancel(),d.g=null)}function ZR(d){Ag(d),d.u&&(a.clearTimeout(d.u),d.u=null),Rg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Mg(d){if(!kR(d.h)&&!d.s){d.s=!0;var _=d.Ga;ae||Ae(),fe||(ae(),fe=!0),ke.add(_,d),d.B=0}}function Cz(d,_){return OR(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hn(p(d.Ga,d,_),ik(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let K=new ja(this,this.j,d),X=this.o;if(this.S&&(X?(X=x(X),B(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=JR(this,K,_),b=Gs(this.I),Cn(b,"RID",d),Cn(b,"CVER",22),this.D&&Cn(b,"X-HTTP-Session-Id",this.D),Pp(this,b),X&&(this.O?_="headers="+encodeURIComponent(String($R(X)))+"&"+_:this.m&&Nb(b,this.m,X)),Lb(this.h,K),this.Ua&&Cn(b,"TYPE","init"),this.P?(Cn(b,"$req",_),Cn(b,"SID","null"),K.T=!0,kb(K,b,null)):kb(K,b,_),this.G=2}}else this.G==3&&(d?XR(this,d):this.i.length==0||kR(this.h)||XR(this))};function XR(d,_){var b;_?b=_.l:b=d.U++;let A=Gs(d.I);Cn(A,"SID",d.K),Cn(A,"RID",b),Cn(A,"AID",d.T),Pp(d,A),d.m&&d.o&&Nb(A,d.m,d.o),b=new ja(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),_&&(d.i=_.D.concat(d.i)),_=JR(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Lb(d.h,b),kb(b,A,_)}function Pp(d,_){d.H&&Y(d.H,function(b,A){Cn(_,A,b)}),d.l&&LR({},function(b,A){Cn(_,A,b)})}function JR(d,_,b){b=Math.min(d.i.length,b);var A=d.l?p(d.l.Na,d.l,d):null;e:{var K=d.i;let X=-1;for(;;){let we=["count="+b];X==-1?0<b?(X=K[0].g,we.push("ofs="+X)):X=0:we.push("ofs="+X);let fn=!0;for(let Li=0;Li<b;Li++){let Zt=K[Li].g,qi=K[Li].map;if(Zt-=X,0>Zt)X=Math.max(0,K[Li].g-100),fn=!1;else try{vz(qi,we,"req"+Zt+"_")}catch{A&&A(qi)}}if(fn){A=we.join("&");break e}}}return d=d.i.splice(0,b),_.D=d,A}function ek(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ae||Ae(),fe||(ae(),fe=!0),ke.add(_,d),d.v=0}}function Bb(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hn(p(d.Fa,d),ik(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,tk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hn(p(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),Ag(this),tk(this))};function zb(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function tk(d){d.g=new ja(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Gs(d.qa);Cn(_,"RID","rpc"),Cn(_,"SID",d.K),Cn(_,"AID",d.T),Cn(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Cn(_,"TO",d.ja),Cn(_,"TYPE","xmlhttp"),Pp(d,_),d.m&&d.o&&Nb(_,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=xg(Gs(_)),b.m=null,b.P=!0,DR(b,d)}n.Za=function(){this.C!=null&&(this.C=null,Ag(this),Bb(this),In(19))};function Rg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function nk(d,_){var b=null;if(d.g==_){Rg(d),zb(d),d.g=null;var A=2}else if(Fb(d.h,_))b=_.D,PR(d.h,_),A=1;else return;if(d.G!=0){if(_.o)if(A==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var K=d.B;A=io(),ti(A,new ro(A,b)),Mg(d)}else ek(d);else if(K=_.s,K==3||K==0&&0<_.X||!(A==1&&Cz(d,_)||A==2&&Bb(d)))switch(b&&0<b.length&&(_=d.h,_.i=_.i.concat(b)),K){case 1:uc(d,5);break;case 4:uc(d,10);break;case 3:uc(d,6);break;default:uc(d,2)}}}function ik(d,_){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*_}function uc(d,_){if(d.j.info("Error code "+_),_==2){var b=p(d.fb,d),A=d.Xa;let K=!A;A=new cc(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Eg(A,"https"),xg(A),K?gz(A.toString(),b):_z(A.toString(),b)}else In(2);d.G=0,d.l&&d.l.sa(_),rk(d),ZR(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function rk(d){if(d.G=0,d.ka=[],d.l){let _=FR(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ka,_),I(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function ok(d,_,b){var A=b instanceof cc?Gs(b):new cc(b);if(A.g!="")_&&(A.g=_+"."+A.g),Tg(A,A.s);else{var K=a.location;A=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var X=new cc(null);A&&Eg(X,A),_&&(X.g=_),K&&Tg(X,K),b&&(X.l=b),A=X}return b=d.D,_=d.ya,b&&_&&Cn(A,b,_),Cn(A,"VER",d.la),Pp(d,A),A}function sk(d,_,b){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Fn(new Mp({eb:b})):new Fn(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ak(){}n=ak.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kg(){}kg.prototype.g=function(d,_){return new Pr(d,_)};function Pr(d,_){ei.call(this),this.g=new QR(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!R(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Bu(this)}v(Pr,ei),Pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pr.prototype.close=function(){Vb(this.g)},Pr.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Ou(d),d=b);_.i.push(new sz(_.Ya++,d)),_.G==3&&Mg(_)},Pr.prototype.N=function(){this.g.l=null,delete this.j,Vb(this.g),delete this.g,Pr.aa.N.call(this)};function lk(d){$s.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(let b in _){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(lk,$s);function ck(){Lu.call(this),this.status=1}v(ck,Lu);function Bu(d){this.g=d}v(Bu,ak),Bu.prototype.ua=function(){ti(this.g,"a")},Bu.prototype.ta=function(d){ti(this.g,new lk(d))},Bu.prototype.sa=function(d){ti(this.g,new ck)},Bu.prototype.ra=function(){ti(this.g,"b")},kg.prototype.createWebChannel=kg.prototype.g,Pr.prototype.send=Pr.prototype.o,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Lx=fa.createWebChannelTransport=function(){return new kg},Fx=fa.getStatEventTarget=function(){return io()},Px=fa.Event=Xo,lv=fa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wg.NO_ERROR=0,wg.TIMEOUT=8,wg.HTTP_ERROR=6,om=fa.ErrorCode=wg,TR.COMPLETE="complete",Ox=fa.EventType=TR,Ha.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",ei.prototype.listen=ei.prototype.K,dh=fa.WebChannel=Ha,kx=fa.FetchXmlHttpFactory=Mp,Fn.prototype.listenOnce=Fn.prototype.L,Fn.prototype.getLastError=Fn.prototype.Ka,Fn.prototype.getLastErrorCode=Fn.prototype.Ba,Fn.prototype.getStatus=Fn.prototype.Z,Fn.prototype.getResponseJson=Fn.prototype.Oa,Fn.prototype.getResponseText=Fn.prototype.oa,Fn.prototype.send=Fn.prototype.ea,Fn.prototype.setWithCredentials=Fn.prototype.Ha,Rx=fa.XhrIo=Fn}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var J4="@firebase/firestore";var Ai=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");var Oh="10.12.5";var ou=new xl("@firebase/firestore");function sm(){return ou.logLevel}function Ve(n,...e){if(ou.logLevel<=Ut.DEBUG){let t=e.map(vD);ou.debug(`Firestore (${Oh}): ${n}`,...t)}}function ga(n,...e){if(ou.logLevel<=Ut.ERROR){let t=e.map(vD);ou.error(`Firestore (${Oh}): ${n}`,...t)}}function vh(n,...e){if(ou.logLevel<=Ut.WARN){let t=e.map(vD);ou.warn(`Firestore (${Oh}): ${n}`,...t)}}function vD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function st(n="Unexpected state"){let e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw ga(e),new Error(e)}function vn(n,e){n||st()}function _t(n,e){return n}var pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},je=class extends Wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ma=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var pv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ux=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ai.UNAUTHENTICATED))}shutdown(){}},Hx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jx=class{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ma,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>$(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ma)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn(typeof i.accessToken=="string"),new pv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string"),new Ai(e)}},$x=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Gx=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new $x(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Wx=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn(typeof t.token=="string"),this.R=t.token,new Wx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Vhe(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var fv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Vhe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function sn(n,e){return n<e?-1:n>e?1:0}function bh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Hi=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Tt=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Hi(0,0))}static max(){return new n(new Hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mv=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&st(),i===void 0?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Un=class n extends mv{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new je(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},Bhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kr=class n extends mv{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Bhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new je(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new je(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new je(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Je=class n{constructor(e){this.path=e}static fromPath(e){return new n(Un.fromString(e))}static fromName(e){return new n(Un.fromString(e).popFirst(5))}static empty(){return new n(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Un(e.slice()))}};var Kx=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Kx.UNKNOWN_ID=-1;function zhe(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(i===1e9?new Hi(t+1,0):new Hi(t,i));return new su(r,Je.empty(),e)}function Uhe(n){return new su(n.readTime,n.key,-1)}var su=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Tt.min(),Je.empty(),-1)}static max(){return new n(Tt.max(),Je.empty(),-1)}};function Hhe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(n.documentKey,e.documentKey),t!==0?t:sn(n.largestBatchId,e.largestBatchId))}var jhe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Im(n){return $(this,null,function*(){if(n.code!==pe.FAILED_PRECONDITION||n.message!==jhe)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})}var ve=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function $he(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cm(n){return n.name==="IndexedDbTransactionError"}var M5=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function $v(n){return n==null}function hm(n){return n===0&&1/n==-1/0}function Ghe(n){return typeof n=="number"&&Number.isInteger(n)&&!hm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Whe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SLe=[...Whe,"documentOverlays"],qhe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Khe=qhe,Yhe=[...Khe,"indexConfiguration","indexState","indexEntries"];var DLe=[...Yhe,"globals"];function e5(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ph(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function R5(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Hn=class n{constructor(e,t){this.comparator=e,this.root=t||ys.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}},mh=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ys=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();let e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}};ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1;ys.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(e,t,i,r,o){return this}insert(e,t,i){return new ys(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var er=class n{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(e){return new gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},gv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _s=class n{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new n([])}unionWith(e){let t=new er(Kr.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var _v=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _v("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var Qhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(n){if(vn(!!n),typeof n=="string"){let e=0,t=Qhe.exec(n);if(vn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nl(n){return typeof n=="string"?tr.fromBase64String(n):tr.fromUint8Array(n)}function bD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function wD(n){let e=n.mapValue.fields.__previous_value__;return bD(e)?wD(e):e}function pm(n){let e=_a(n.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}var Qx=class{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},yv=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var cv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function au(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bD(n)?4:k5(n)?9007199254740991:10:st()}function ws(n,e){if(n===e)return!0;let t=au(n);if(t!==au(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pm(n).isEqual(pm(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=_a(r.timestampValue),a=_a(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Nl(r.bytesValue).isEqual(Nl(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return zn(r.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(r.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return zn(r.integerValue)===zn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=zn(r.doubleValue),a=zn(o.doubleValue);return s===a?hm(s)===hm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return bh(n.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(e5(s)!==e5(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ws(s[l],a[l])))return!1;return!0}(n,e);default:return st()}}function fm(n,e){return(n.values||[]).find(t=>ws(t,e))!==void 0}function wh(n,e){if(n===e)return 0;let t=au(n),i=au(e);if(t!==i)return sn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=zn(o.integerValue||o.doubleValue),l=zn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return t5(n.timestampValue,e.timestampValue);case 4:return t5(pm(n),pm(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Nl(o),l=Nl(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=sn(a[c],l[c]);if(u!==0)return u}return sn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=sn(zn(o.latitude),zn(s.latitude));return a!==0?a:sn(zn(o.longitude),zn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=wh(a[c],l[c]);if(u)return u}return sn(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cv.mapValue&&s===cv.mapValue)return 0;if(o===cv.mapValue)return 1;if(s===cv.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let p=sn(l[h],u[h]);if(p!==0)return p;let m=wh(a[l[h]],c[u[h]]);if(m!==0)return m}return sn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw st()}}function t5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return sn(n,e);let t=_a(n),i=_a(e),r=sn(t.seconds,i.seconds);return r!==0?r:sn(t.nanos,i.nanos)}function Ih(n){return Zx(n)}function Zx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=_a(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Zx(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Zx(t.fields[s])}`;return r+"}"}(n.mapValue):st()}function Xx(n){return!!n&&"integerValue"in n}function ID(n){return!!n&&"arrayValue"in n}function n5(n){return!!n&&"nullValue"in n}function i5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dv(n){return!!n&&"mapValue"in n}function lm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ph(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lm(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Lo=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lm(t)}setAll(e){let t=Kr.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=lm(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());dv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];dv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ph(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(lm(this.value))}};function O5(n){let e=[];return Ph(n.fields,(t,i)=>{let r=new Kr([t]);if(dv(i)){let o=O5(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new _s(e)}var No=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Tt.min(),Tt.min(),Tt.min(),Lo.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Tt.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Tt.min(),Tt.min(),Lo.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Tt.min(),Tt.min(),Lo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ch=class{constructor(e,t){this.position=e,this.inclusive=t}};function r5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=Je.comparator(Je.fromName(s.referenceValue),t.key):i=wh(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function o5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ws(n.position[t],e.position[t]))return!1;return!0}var Eh=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Zhe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vv=class{},yi=class n extends vv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new eS(e,t,i):t==="array-contains"?new iS(e,i):t==="in"?new rS(e,i):t==="not-in"?new oS(e,i):t==="array-contains-any"?new sS(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new tS(e,i):new nS(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wh(t,this.value)):t!==null&&au(this.value)===au(t)&&this.matchesComparison(wh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Is=class n extends vv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return P5(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function P5(n){return n.op==="and"}function F5(n){return Xhe(n)&&P5(n)}function Xhe(n){for(let e of n.filters)if(e instanceof Is)return!1;return!0}function Jx(n){if(n instanceof yi)return n.field.canonicalString()+n.op.toString()+Ih(n.value);if(F5(n))return n.filters.map(e=>Jx(e)).join(",");{let e=n.filters.map(t=>Jx(t)).join(",");return`${n.op}(${e})`}}function L5(n,e){return n instanceof yi?function(i,r){return r instanceof yi&&i.op===r.op&&i.field.isEqual(r.field)&&ws(i.value,r.value)}(n,e):n instanceof Is?function(i,r){return r instanceof Is&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&L5(s,r.filters[a]),!0):!1}(n,e):void st()}function N5(n){return n instanceof yi?function(t){return`${t.field.canonicalString()} ${t.op} ${Ih(t.value)}`}(n):n instanceof Is?function(t){return t.op.toString()+" {"+t.getFilters().map(N5).join(" ,")+"}"}(n):"Filter"}var eS=class extends yi{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){let t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}},tS=class extends yi{constructor(e,t){super(e,"in",t),this.keys=V5("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},nS=class extends yi{constructor(e,t){super(e,"not-in",t),this.keys=V5("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function V5(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}var iS=class extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ID(t)&&fm(t.arrayValue,this.value)}},rS=class extends yi{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fm(this.value.arrayValue,t)}},oS=class extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!fm(this.value.arrayValue,t)}},sS=class extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ID(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fm(this.value.arrayValue,i))}};var aS=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function s5(n,e=null,t=[],i=[],r=null,o=null,s=null){return new aS(n,e,t,i,r,o,s)}function CD(n){let e=_t(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Jx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),$v(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ih(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ih(i)).join(",")),e.ue=t}return e.ue}function ED(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zhe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o5(n.startAt,e.startAt)&&o5(n.endAt,e.endAt)}function lS(n){return Je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Th=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Jhe(n,e,t,i,r,o,s,a){return new Th(n,e,t,i,r,o,s,a)}function TD(n){return new Th(n)}function a5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function epe(n){return n.collectionGroup!==null}function cm(n){let e=_t(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new er(Kr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Eh(o,i))}),t.has(Kr.keyField().canonicalString())||e.ce.push(new Eh(Kr.keyField(),i))}return e.ce}function vs(n){let e=_t(n);return e.le||(e.le=tpe(e,cm(n))),e.le}function tpe(n,e){if(n.limitType==="F")return s5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Eh(r.field,o)});let t=n.endAt?new Ch(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ch(n.startAt.position,n.startAt.inclusive):null;return s5(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function cS(n,e,t){return new Th(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gv(n,e){return ED(vs(n),vs(e))&&n.limitType===e.limitType}function B5(n){return`${CD(vs(n))}|lt:${n.limitType}`}function hh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>N5(r)).join(", ")}]`),$v(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ih(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ih(r)).join(",")),`Target(${i})`}(vs(n))}; limitType=${n.limitType})`}function Wv(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Je.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of cm(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,l){let c=r5(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,cm(i),r)||i.endAt&&!function(s,a,l){let c=r5(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,cm(i),r))}(n,e)}function npe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z5(n){return(e,t)=>{let i=!1;for(let r of cm(n)){let o=ipe(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function ipe(n,e,t){let i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?wh(l,c):st()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}var Vl=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ph(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return R5(this.inner)}size(){return this.innerSize}};var rpe=new Hn(Je.comparator);function ya(){return rpe}var U5=new Hn(Je.comparator);function am(...n){let e=U5;for(let t of n)e=e.insert(t.key,t);return e}function H5(n){let e=U5;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tu(){return um()}function j5(){return um()}function um(){return new Vl(n=>n.toString(),(n,e)=>n.isEqual(e))}var ope=new Hn(Je.comparator),spe=new er(Je.comparator);function Ht(...n){let e=spe;for(let t of n)e=e.add(t);return e}var ape=new er(sn);function lpe(){return ape}function $5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function G5(n){return{integerValue:""+n}}function cpe(n,e){return Ghe(e)?G5(e):$5(n,e)}var xh=class{constructor(){this._=void 0}};function upe(n,e,t){return n instanceof Sh?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&bD(o)&&(o=wD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof lu?q5(n,e):n instanceof cu?K5(n,e):function(r,o){let s=W5(r,o),a=l5(s)+l5(r.Pe);return Xx(s)&&Xx(r.Pe)?G5(a):$5(r.serializer,a)}(n,e)}function dpe(n,e,t){return n instanceof lu?q5(n,e):n instanceof cu?K5(n,e):t}function W5(n,e){return n instanceof Dh?function(i){return Xx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Sh=class extends xh{},lu=class extends xh{constructor(e){super(),this.elements=e}};function q5(n,e){let t=Y5(e);for(let i of n.elements)t.some(r=>ws(r,i))||t.push(i);return{arrayValue:{values:t}}}var cu=class extends xh{constructor(e){super(),this.elements=e}};function K5(n,e){let t=Y5(e);for(let i of n.elements)t=t.filter(r=>!ws(r,i));return{arrayValue:{values:t}}}var Dh=class extends xh{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function l5(n){return zn(n.integerValue||n.doubleValue)}function Y5(n){return ID(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hpe(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof lu&&r instanceof lu||i instanceof cu&&r instanceof cu?bh(i.elements,r.elements,ws):i instanceof Dh&&r instanceof Dh?ws(i.Pe,r.Pe):i instanceof Sh&&r instanceof Sh}(n.transform,e.transform)}var uS=class{constructor(e,t){this.version=e,this.transformResults=t}},ru=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ah=class{};function Q5(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bv(n.key,ru.none()):new uu(n.key,n.data,ru.none());{let t=n.data,i=Lo.empty(),r=new er(Kr.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new va(n.key,i,new _s(r.toArray()),ru.none())}}function ppe(n,e,t){n instanceof uu?function(r,o,s){let a=r.value.clone(),l=u5(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof va?function(r,o,s){if(!hv(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=u5(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Z5(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function dm(n,e,t,i){return n instanceof uu?function(o,s,a,l){if(!hv(o.precondition,s))return a;let c=o.value.clone(),u=d5(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof va?function(o,s,a,l){if(!hv(o.precondition,s))return a;let c=d5(o.fieldTransforms,l,s),u=s.data;return u.setAll(Z5(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(o,s,a){return hv(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function fpe(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=W5(i.transform,r||null);o!=null&&(t===null&&(t=Lo.empty()),t.set(i.field,o))}return t||null}function c5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&bh(i,r,(o,s)=>hpe(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var uu=class extends Ah{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},va=class extends Ah{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Z5(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function u5(n,e,t){let i=new Map;vn(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,dpe(s,a,t[r]))}return i}function d5(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,upe(o,s,e))}return i}var bv=class extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dS=class extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hS=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&ppe(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=dm(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=dm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=j5();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let l=Q5(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(t,i)=>c5(t,i))&&bh(this.baseMutations,e.baseMutations,(t,i)=>c5(t,i))}},pS=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vn(e.mutations.length===i.length);let r=function(){return ope}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var fS=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mS=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var li,Kt;function mpe(n){switch(n){default:return st();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function X5(n){if(n===void 0)return ga("GRPC error has no .code"),pe.UNKNOWN;switch(n){case li.OK:return pe.OK;case li.CANCELLED:return pe.CANCELLED;case li.UNKNOWN:return pe.UNKNOWN;case li.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case li.INTERNAL:return pe.INTERNAL;case li.UNAVAILABLE:return pe.UNAVAILABLE;case li.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case li.NOT_FOUND:return pe.NOT_FOUND;case li.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case li.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case li.ABORTED:return pe.ABORTED;case li.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case li.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case li.DATA_LOSS:return pe.DATA_LOSS;default:return st()}}(Kt=li||(li={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";var h5=null;function gpe(){return new TextEncoder}var _pe=new Fl([4294967295,4294967295],0);function p5(n){let e=gpe().encode(n),t=new Mx;return t.update(e),new Uint8Array(t.digest())}function f5(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fl([t,i],0),new Fl([r,o],0)]}var gS=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(i<0)throw new nu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Fl.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Fl.fromNumber(i)));return r.compare(_pe)===1&&(r=new Fl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=p5(e),[i,r]=f5(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=p5(e),[i,r]=f5(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},nu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wv=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Tt.min(),r,new Hn(sn),ya(),Ht())}},mm=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ht(),Ht(),Ht())}};var gh=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Iv=class{constructor(e,t){this.targetId=e,this.me=t}},Cv=class{constructor(e,t,i=tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Ev=class{constructor(){this.fe=0,this.ge=g5(),this.pe=tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ht(),t=Ht(),i=Ht();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:st()}}),new mm(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=g5()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},_S=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ya(),this.qe=m5(),this.Qe=new Hn(sn)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(lS(o))if(i===0){let s=new Je(o.path);this.Ue(t,s,No.newNoDocument(s,Tt.min()))}else vn(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}h5?.et(function(u,h,p,m,v){var w,I,S,R,V,z;let q={localCacheCount:u,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},Y=h.unchangedNames;return Y&&(q.bloomFilter={applied:v===0,hashCount:(w=Y?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(R=(S=(I=Y?.bits)===null||I===void 0?void 0:I.bitmap)===null||S===void 0?void 0:S.length)!==null&&R!==void 0?R:0,padding:(z=(V=Y?.bits)===null||V===void 0?void 0:V.padding)!==null&&z!==void 0?z:0,mightContain:M=>{var x;return(x=m?.mightContain(M))!==null&&x!==void 0&&x}}),q}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Nl(i).toUint8Array()}catch(l){if(l instanceof _v)return vh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gS(s,r,o)}catch(l){return vh(l instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&lS(a.target)){let l=new Je(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,No.newNoDocument(l,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let i=Ht();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new wv(e,t,this.Qe,this.ke,i);return this.ke=ya(),this.qe=m5(),this.Qe=new Hn(sn),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ev,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new er(sn),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ev),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function m5(){return new Hn(Je.comparator)}function g5(){return new Hn(Je.comparator)}var ype={asc:"ASCENDING",desc:"DESCENDING"},vpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bpe={and:"AND",or:"OR"},yS=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function vS(n,e){return n.useProto3Json||$v(e)?e:{value:e}}function Tv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wpe(n,e){return Tv(n,e.toTimestamp())}function bs(n){return vn(!!n),Tt.fromTimestamp(function(t){let i=_a(t);return new Hi(i.seconds,i.nanos)}(n))}function xD(n,e){return bS(n,e).canonicalString()}function bS(n,e){let t=function(r){return new Un(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function e6(n){let e=Un.fromString(n);return vn(o6(e)),e}function wS(n,e){return xD(n.databaseId,e.path)}function Nx(n,e){let t=e6(e);if(t.get(1)!==n.databaseId.projectId)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(n6(t))}function t6(n,e){return xD(n.databaseId,e)}function Ipe(n){let e=e6(n);return e.length===4?Un.emptyPath():n6(e)}function IS(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n6(n){return vn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _5(n,e,t){return{name:wS(n,e),fields:t.value.mapValue.fields}}function Cpe(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:st()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(vn(u===void 0||typeof u=="string"),tr.fromBase64String(u||"")):(vn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),tr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let u=c.code===void 0?pe.UNKNOWN:X5(c.code);return new je(u,c.message||"")}(s);t=new Cv(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Nx(n,i.document.name),o=bs(i.document.updateTime),s=i.document.createTime?bs(i.document.createTime):Tt.min(),a=new Lo({mapValue:{fields:i.document.fields}}),l=No.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new gh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Nx(n,i.document),o=i.readTime?bs(i.readTime):Tt.min(),s=No.newNoDocument(r,o),a=i.removedTargetIds||[];t=new gh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Nx(n,i.document),o=i.removedTargetIds||[];t=new gh([],o,r,null)}else{if(!("filter"in e))return st();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new mS(r,o),a=i.targetId;t=new Iv(a,s)}}return t}function Epe(n,e){let t;if(e instanceof uu)t={update:_5(n,e.key,e.value)};else if(e instanceof bv)t={delete:wS(n,e.key)};else if(e instanceof va)t={update:_5(n,e.key,e.data),updateMask:Ope(e.fieldMask)};else{if(!(e instanceof dS))return st();t={verify:wS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Sh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:wpe(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:st()}(n,e.precondition)),t}function Tpe(n,e){return n&&n.length>0?(vn(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?bs(r.updateTime):bs(o);return s.isEqual(Tt.min())&&(s=bs(o)),new uS(s,r.transformResults||[])}(t,e))):[]}function xpe(n,e){return{documents:[t6(n,e.path)]}}function Spe(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=t6(n,r);let o=function(c){if(c.length!==0)return r6(Is.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ph(p.field),direction:Mpe(p.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=vS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function Dpe(n){let e=Ipe(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){vn(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(h){let p=i6(h);return p instanceof Is&&F5(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=function(h){return h.map(p=>function(v){return new Eh(fh(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,$v(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){let p=!!h.before,m=h.values||[];return new Ch(m,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let p=!h.before,m=h.values||[];return new Ch(m,p)}(t.endAt)),Jhe(e,r,s,o,a,"F",l,c)}function Ape(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function i6(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=fh(t.unaryFilter.field);return yi.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=fh(t.unaryFilter.field);return yi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fh(t.unaryFilter.field);return yi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fh(t.unaryFilter.field);return yi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):n.fieldFilter!==void 0?function(t){return yi.create(fh(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Is.create(t.compositeFilter.filters.map(i=>i6(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return st()}}(t.compositeFilter.op))}(n):st()}function Mpe(n){return ype[n]}function Rpe(n){return vpe[n]}function kpe(n){return bpe[n]}function ph(n){return{fieldPath:n.canonicalString()}}function fh(n){return Kr.fromServerFormat(n.fieldPath)}function r6(n){return n instanceof yi?function(t){if(t.op==="=="){if(i5(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NAN"}};if(n5(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i5(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NOT_NAN"}};if(n5(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(t.field),op:Rpe(t.op),value:t.value}}}(n):n instanceof Is?function(t){let i=t.getFilters().map(r=>r6(r));return i.length===1?i[0]:{compositeFilter:{op:kpe(t.op),filters:i}}}(n):st()}function Ope(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gm=class n{constructor(e,t,i,r,o=Tt.min(),s=Tt.min(),a=tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var CS=class{constructor(e){this.ct=e}};function Ppe(n){let e=Dpe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cS(e,e.limit,"L"):e}var xv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(zn(e.integerValue));else if("doubleValue"in e){let i=zn(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),hm(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=_a(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Nl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?k5(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):st()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}St(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),Je.fromName(e).path.forEach(i=>{this.dt(t,60),this.bt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};xv.Dt=new xv;var ES=class{constructor(){this.an=new TS}addToCollectionParentIndex(e,t){return this.an.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(su.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(su.min())}updateCollectionGroup(e,t,i){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}},TS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new er(Un.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new er(Un.comparator)).toArray()}};var MLe=new Uint8Array(0);var gs=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);var _m=class n{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new n(0)}static Bn(){return new n(-1)}};var xS=class{constructor(){this.changes=new Vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,No.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?ve.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var DS=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&dm(i.mutation,r,_s.empty(),Hi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ht()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ht()){let r=tu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=am();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=tu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ht()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=ya(),s=um(),a=function(){return um()}();return t.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof va)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),dm(u.mutation,c,u.mutation.getFieldMask(),Hi.now())):s.set(c.key,_s.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new SS(u,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=um(),r=new Hn((s,a)=>s-a),o=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=i.get(l)||_s.empty();u=a.applyToLocalView(c,u),i.set(l,u);let h=(r.get(a.batchId)||Ht()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=j5();u.forEach(p=>{if(!o.has(p)){let m=Q5(t.get(p),i.get(p));m!==null&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ve.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return Je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):epe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ve.resolve(tu()),a=-1,l=o;return s.next(c=>ve.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ht())).next(u=>({batchId:a,changes:H5(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=am();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=am();return this.indexManager.getCollectionParents(e,o).next(a=>ve.forEach(a,l=>{let c=function(h,p){return new Th(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{let u=c.getKey();s.get(u)===null&&(s=s.insert(u,No.newInvalidDocument(u)))});let a=am();return s.forEach((l,c)=>{let u=o.get(l);u!==void 0&&dm(u.mutation,c,_s.empty(),Hi.now()),Wv(t,c)&&(a=a.insert(l,c))}),a})}};var AS=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return ve.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:bs(r.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(r){return{name:r.name,query:Ppe(r.bundledQuery),readTime:bs(r.readTime)}}(t)),ve.resolve()}};var MS=class{constructor(){this.overlays=new Hn(Je.comparator),this.Pr=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){let i=tu();return ve.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),ve.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Pr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(i)),ve.resolve()}getOverlaysForCollection(e,t,i){let r=tu(),o=t.length+1,s=new Je(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ve.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Hn((c,u)=>c-u),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);u===null&&(u=tu(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=tu(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return ve.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new fS(t,i));let o=this.Pr.get(t);o===void 0&&(o=Ht(),this.Pr.set(t,o)),this.Pr.set(t,o.add(i.key))}};var RS=class{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}};var ym=class{constructor(){this.Ir=new er(ci.Tr),this.Er=new er(ci.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){let i=new ci(e,t);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Rr(new ci(e,t))}Vr(e,t){e.forEach(i=>this.removeReference(i,t))}mr(e){let t=new Je(new Un([])),i=new ci(t,e),r=new ci(t,e+1),o=[];return this.Er.forEachInRange([i,r],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let t=new Je(new Un([])),i=new ci(t,e),r=new ci(t,e+1),o=Ht();return this.Er.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ci(e,0),i=this.Ir.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},ci=class{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return Je.comparator(e.key,t.key)||sn(e.yr,t.yr)}static dr(e,t){return sn(e.yr,t.yr)||Je.comparator(e.key,t.key)}};var kS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new er(ci.Tr)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hS(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.Sr=this.Sr.add(new ci(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(s)}lookupMutationBatch(e,t){return ve.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Dr(i),o=r<0?0:r;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new ci(t,0),r=new ci(t,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([i,r],s=>{let a=this.br(s.yr);o.push(a)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new er(sn);return t.forEach(r=>{let o=new ci(r,0),s=new ci(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],a=>{i=i.add(a.yr)})}),ve.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;Je.isDocumentKey(o)||(o=o.child(""));let s=new ci(new Je(o),0),a=new er(sn);return this.Sr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},s),ve.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.br(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){vn(this.vr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return ve.forEach(t.mutations,r=>{let o=new ci(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,t){let i=new ci(t,0),r=this.Sr.firstAfterOrEqual(i);return ve.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var OS=class{constructor(e){this.Fr=e,this.docs=function(){return new Hn(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Fr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return ve.resolve(i?i.document.mutableCopy():No.newInvalidDocument(t))}getEntries(e,t){let i=ya();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():No.newInvalidDocument(r))}),ve.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=ya(),s=t.path,a=new Je(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Hhe(Uhe(u),i)<=0||(r.has(u.key)||Wv(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,t,i,r){st()}Mr(e,t){return ve.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new PS(this)}getSize(e){return ve.resolve(this.size)}},PS=class extends xS{constructor(e){super(),this.ur=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),ve.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}};var FS=class{constructor(e){this.persistence=e,this.Or=new Vl(t=>CD(t),ED),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new ym,this.targetCount=0,this.Br=_m.Ln()}forEachTarget(e,t){return this.Or.forEach((i,r)=>t(r)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Nr&&(this.Nr=t),ve.resolve()}Qn(e){this.Or.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new _m(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Qn(t),ve.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Or.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),ve.waitFor(o).next(()=>r)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){let i=this.Or.get(t)||null;return ve.resolve(i)}addMatchingKeys(e,t,i){return this.Lr.Ar(t,i),ve.resolve()}removeMatchingKeys(e,t,i){this.Lr.Vr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),ve.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Lr.pr(t);return ve.resolve(i)}containsKey(e,t){return ve.resolve(this.Lr.containsKey(t))}};var LS=class{constructor(e,t){this.kr={},this.overlays={},this.qr=new M5(0),this.Qr=!1,this.Qr=!0,this.Kr=new RS,this.referenceDelegate=e(this),this.$r=new FS(this),this.indexManager=new ES,this.remoteDocumentCache=function(r){return new OS(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new CS(t),this.Wr=new AS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.kr[e.toKey()];return i||(i=new kS(t,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);let r=new NS(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(o=>this.referenceDelegate.zr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}jr(e,t){return ve.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,t)))}},NS=class extends Yx{constructor(e){super(),this.currentSequenceNumber=e}},VS=class n{constructor(e){this.persistence=e,this.Hr=new ym,this.Jr=null}static Yr(e){return new n(e)}get Zr(){if(this.Jr)return this.Jr;throw st()}addReference(e,t,i){return this.Hr.addReference(i,t),this.Zr.delete(i.toString()),ve.resolve()}removeReference(e,t,i){return this.Hr.removeReference(i,t),this.Zr.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach(r=>this.Zr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Zr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Gr(){this.Jr=new Set}zr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Zr,i=>{let r=Je.fromPath(i);return this.Xr(e,r).next(o=>{o||t.removeEntry(r,Tt.min())})}).next(()=>(this.Jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Xr(e,t).next(i=>{i?this.Zr.delete(t.toString()):this.Zr.add(t.toString())})}Ur(e){return 0}Xr(e,t){return ve.or([()=>ve.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}};var BS=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ki=i,this.$i=r}static Ui(e,t){let i=Ht(),r=Ht();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var zS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var US=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return j3()?8:$he(gi())>0?6:4}()}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zS;return this.Zi(e,t,s).next(a=>{if(o.result=a,this.Gi)return this.Xi(e,t,s,a.size)})}).next(()=>o.result)}Xi(e,t,i,r){return i.documentReadCount<this.zi?(sm()<=Ut.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",hh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),ve.resolve()):(sm()<=Ut.DEBUG&&Ve("QueryEngine","Query:",hh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(sm()<=Ut.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",hh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):ve.resolve())}Ji(e,t){if(a5(t))return ve.resolve(null);let i=vs(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=cS(t,null,"F"),i=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Ht(...o);return this.Hi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.es(t,a);return this.ts(t,c,s,l.readTime)?this.Ji(e,cS(t,null,"F")):this.ns(e,c,t,l)}))})))}Yi(e,t,i,r){return a5(t)||r.isEqual(Tt.min())?ve.resolve(null):this.Hi.getDocuments(e,i).next(o=>{let s=this.es(t,o);return this.ts(t,s,i,r)?ve.resolve(null):(sm()<=Ut.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hh(t)),this.ns(e,s,t,zhe(r,-1)).next(a=>a))})}es(e,t){let i=new er(z5(e));return t.forEach((r,o)=>{Wv(e,o)&&(i=i.add(o))}),i}ts(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zi(e,t,i){return sm()<=Ut.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",hh(t)),this.Hi.getDocumentsMatchingQuery(e,t,su.min(),i)}ns(e,t,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var HS=class{constructor(e,t,i,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new Hn(sn),this.os=new Vl(o=>CD(o),ED),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ss))}};function Fpe(n,e,t,i){return new HS(n,e,t,i)}function s6(n,e){return $(this,null,function*(){let t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.cs(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],l=Ht();for(let c of r){s.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of o){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:s,addedBatchIds:a}))})})})}function Lpe(n,e){let t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,p=h.keys(),m=ve.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(w=>{let I=c.docVersions.get(v);vn(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function a6(n){let e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.$r.getLastRemoteSnapshotVersion(t))}function Npe(n,e){let t=_t(n),i=e.snapshotVersion,r=t.ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.us.newChangeBuffer({trackRemovals:!0});r=t.ss;let a=[];e.targetChanges.forEach((u,h)=>{let p=r.get(h);if(!p)return;a.push(t.$r.removeMatchingKeys(o,u.removedDocuments,h).next(()=>t.$r.addMatchingKeys(o,u.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(tr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),r=r.insert(h,m),function(w,I,S){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,m,u)&&a.push(t.$r.updateTargetData(o,m))});let l=ya(),c=Ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(Vpe(o,s,e.documentUpdates).next(u=>{l=u.hs,c=u.Ps})),!i.isEqual(Tt.min())){let u=t.$r.getLastRemoteSnapshotVersion(o).next(h=>t.$r.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return ve.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ss=r,o))}function Vpe(n,e,t){let i=Ht(),r=Ht();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=ya();return t.forEach((a,l)=>{let c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:s,Ps:r}})}function Bpe(n,e){let t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zpe(n,e){let t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.$r.getTargetData(i,e).next(o=>o?(r=o,ve.resolve(r)):t.$r.allocateTargetId(i).next(s=>(r=new gm(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ss=t.ss.insert(i.targetId,i),t.os.set(e,i.targetId)),i})}function jS(n,e,t){return $(this,null,function*(){let i=_t(n),r=i.ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Cm(s))throw s;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ss=i.ss.remove(e),i.os.delete(r.target)})}function y5(n,e,t){let i=_t(n),r=Tt.min(),o=Ht();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){let h=_t(l),p=h.os.get(u);return p!==void 0?ve.resolve(h.ss.get(p)):h.$r.getTargetData(c,u)}(i,s,vs(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.rs.getDocumentsMatchingQuery(s,e,t?r:Tt.min(),t?o:Ht())).next(a=>(Upe(i,npe(e),a),{documents:a,Is:o})))}function Upe(n,e,t){let i=n._s.get(e)||Tt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n._s.set(e,i)}var Sv=class{constructor(){this.activeTargetIds=lpe()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $S=class{constructor(){this.io=new Sv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,i){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Sv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var GS=class{oo(e){}shutdown(){}};var Dv=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var uv=null;function Vx(){return uv===null?uv=function(){return 268435456+Math.round(2147483648*Math.random())}():uv++,"0x"+uv.toString(16)}var Hpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var WS=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var Ji="WebChannelConnection",qS=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+t.host,this.Do=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get vo(){return!1}Fo(t,i,r,o,s){let a=Vx(),l=this.Mo(t,i.toUriEncodedString());Ve("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,o,s),this.Oo(t,l,c,r).then(u=>(Ve("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw vh("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}No(t,i,r,o,s,a){return this.Fo(t,i,r,o,s)}xo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}Mo(t,i){let r=Hpe[t];return`${this.bo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,i,r){let o=Vx();return new Promise((s,a)=>{let l=new Rx;l.setWithCredentials(!0),l.listenOnce(Ox.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case om.NO_ERROR:let u=l.getResponseJson();Ve(Ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case om.TIMEOUT:Ve(Ji,`RPC '${e}' ${o} timed out`),a(new je(pe.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:let h=l.getStatus();if(Ve(Ji,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let m=p?.error;if(m&&m.status&&m.message){let v=function(I){let S=I.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(S)>=0?S:pe.UNKNOWN}(m.status);a(new je(v,m.message))}else a(new je(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(pe.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Ve(Ji,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(r);Ve(Ji,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Lo(e,t,i){let r=Vx(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lx(),a=Fx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new kx({})),this.xo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let u=o.join("");Ve(Ji,`Creating RPC '${e}' stream ${r}: ${u}`,l);let h=s.createWebChannel(u,l),p=!1,m=!1,v=new WS({Po:I=>{m?Ve(Ji,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(Ve(Ji,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),Ve(Ji,`RPC '${e}' stream ${r} sending:`,I),h.send(I))},Io:()=>h.close()}),w=(I,S,R)=>{I.listen(S,V=>{try{R(V)}catch(z){setTimeout(()=>{throw z},0)}})};return w(h,dh.EventType.OPEN,()=>{m||(Ve(Ji,`RPC '${e}' stream ${r} transport opened.`),v.po())}),w(h,dh.EventType.CLOSE,()=>{m||(m=!0,Ve(Ji,`RPC '${e}' stream ${r} transport closed`),v.wo())}),w(h,dh.EventType.ERROR,I=>{m||(m=!0,vh(Ji,`RPC '${e}' stream ${r} transport errored:`,I),v.wo(new je(pe.UNAVAILABLE,"The operation could not be completed")))}),w(h,dh.EventType.MESSAGE,I=>{var S;if(!m){let R=I.data[0];vn(!!R);let V=R,z=V.error||((S=V[0])===null||S===void 0?void 0:S.error);if(z){Ve(Ji,`RPC '${e}' stream ${r} received error:`,z);let q=z.status,Y=function(D){let B=li[D];if(B!==void 0)return X5(B)}(q),M=z.message;Y===void 0&&(Y=pe.INTERNAL,M="Unknown error status: "+q+" with message "+z.message),m=!0,v.wo(new je(Y,M)),h.close()}else Ve(Ji,`RPC '${e}' stream ${r} received:`,R),v.So(R)}}),w(a,Px.STAT_EVENT,I=>{I.stat===lv.PROXY?Ve(Ji,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===lv.NOPROXY&&Ve(Ji,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.yo()},0),v}};function Bx(){return typeof document<"u"?document:null}function qv(n){return new yS(n,!0)}var Av=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ai=e,this.timerId=t,this.Bo=i,this.ko=r,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let t=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var Mv=class{constructor(e,t,i,r,o,s,a,l){this.ai=e,this.jo=i,this.Ho=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Av(e,t)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return $(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return $(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,t){return $(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(ga(t.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(t)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===t&&this.h_(i,r)},i=>{e(()=>{let r=new je(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,t){let i=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(()=>$(this,null,function*(){this.state=0,this.start()}))}P_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget(()=>this.Jo===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KS=class extends Mv{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let t=Cpe(this.serializer,e),i=function(o){if(!("targetChange"in o))return Tt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Tt.min():s.readTime?bs(s.readTime):Tt.min()}(e);return this.listener.E_(t,i)}d_(e){let t={};t.database=IS(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=lS(l)?{documents:xpe(o,l)}:{query:Spe(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=J5(o,s.resumeToken);let c=vS(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Tv(o,s.snapshotVersion.toTimestamp());let c=vS(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Ape(this.serializer,e);i&&(t.labels=i),this.__(t)}A_(e){let t={};t.database=IS(this.serializer),t.removeTarget=e,this.__(t)}},YS=class extends Mv{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return vn(!!e.streamToken),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let t=Tpe(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.f_(i,t)}g_(){let e={};e.database=IS(this.serializer),this.__(e)}V_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Epe(this.serializer,i))};this.__(t)}};var QS=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(e,bS(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(pe.UNKNOWN,o.toString())})}No(e,t,i,r,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.No(e,bS(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(pe.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},ZS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(ga(t),this.b_=!1):Ve("OnlineStateTracker",t)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var XS=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(s=>{i.enqueueAndForget(()=>$(this,null,function*(){du(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield function(l){return $(this,null,function*(){let c=_t(l);c.N_.add(4),yield Em(c),c.k_.set("Unknown"),c.N_.delete(4),yield Kv(c)})}(this))}))}),this.k_=new ZS(i,r)}};function Kv(n){return $(this,null,function*(){if(du(n))for(let e of n.L_)yield e(!0)})}function Em(n){return $(this,null,function*(){for(let e of n.L_)yield e(!1)})}function l6(n,e){let t=_t(n);t.O_.has(e.targetId)||(t.O_.set(e.targetId,e),MD(t)?AD(t):Fh(t).n_()&&DD(t,e))}function SD(n,e){let t=_t(n),i=Fh(t);t.O_.delete(e),i.n_()&&c6(t,e),t.O_.size===0&&(i.n_()?i.s_():du(t)&&t.k_.set("Unknown"))}function DD(n,e){if(n.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fh(n).d_(e)}function c6(n,e){n.q_.xe(e),Fh(n).A_(e)}function AD(n){n.q_=new _S({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.O_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Fh(n).start(),n.k_.D_()}function MD(n){return du(n)&&!Fh(n).t_()&&n.O_.size>0}function du(n){return _t(n).N_.size===0}function u6(n){n.q_=void 0}function jpe(n){return $(this,null,function*(){n.k_.set("Online")})}function $pe(n){return $(this,null,function*(){n.O_.forEach((e,t)=>{DD(n,e)})})}function Gpe(n,e){return $(this,null,function*(){u6(n),MD(n)?(n.k_.F_(e),AD(n)):n.k_.set("Unknown")})}function Wpe(n,e,t){return $(this,null,function*(){if(n.k_.set("Online"),e instanceof Cv&&e.state===2&&e.cause)try{yield function(r,o){return $(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.O_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.O_.delete(a),r.q_.removeTarget(a))})}(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Rv(n,i)}else if(e instanceof gh?n.q_.Ke(e):e instanceof Iv?n.q_.He(e):n.q_.We(e),!t.isEqual(Tt.min()))try{let i=yield a6(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=o.O_.get(c);u&&o.O_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{let u=o.O_.get(l);if(!u)return;o.O_.set(l,u.withResumeToken(tr.EMPTY_BYTE_STRING,u.snapshotVersion)),c6(o,l);let h=new gm(u.target,l,c,u.sequenceNumber);DD(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield Rv(n,i)}})}function Rv(n,e,t){return $(this,null,function*(){if(!Cm(e))throw e;n.N_.add(1),yield Em(n),n.k_.set("Offline"),t||(t=()=>a6(n.localStore)),n.asyncQueue.enqueueRetryable(()=>$(this,null,function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.N_.delete(1),yield Kv(n)}))})}function d6(n,e){return e().catch(t=>Rv(n,t,e))}function Yv(n){return $(this,null,function*(){let e=_t(n),t=Bl(e),i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;qpe(e);)try{let r=yield Bpe(e.localStore,i);if(r===null){e.x_.length===0&&t.s_();break}i=r.batchId,Kpe(e,r)}catch(r){yield Rv(e,r)}h6(e)&&p6(e)})}function qpe(n){return du(n)&&n.x_.length<10}function Kpe(n,e){n.x_.push(e);let t=Bl(n);t.n_()&&t.R_&&t.V_(e.mutations)}function h6(n){return du(n)&&!Bl(n).t_()&&n.x_.length>0}function p6(n){Bl(n).start()}function Ype(n){return $(this,null,function*(){Bl(n).g_()})}function Qpe(n){return $(this,null,function*(){let e=Bl(n);for(let t of n.x_)e.V_(t.mutations)})}function Zpe(n,e,t){return $(this,null,function*(){let i=n.x_.shift(),r=pS.from(i,e,t);yield d6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yv(n)})}function Xpe(n,e){return $(this,null,function*(){e&&Bl(n).R_&&(yield function(i,r){return $(this,null,function*(){if(function(s){return mpe(s)&&s!==pe.ABORTED}(r.code)){let o=i.x_.shift();Bl(i).i_(),yield d6(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Yv(i)}})}(n,e)),h6(n)&&p6(n)})}function v5(n,e){return $(this,null,function*(){let t=_t(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");let i=du(t);t.N_.add(3),yield Em(t),i&&t.k_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.N_.delete(3),yield Kv(t)})}function Jpe(n,e){return $(this,null,function*(){let t=_t(n);e?(t.N_.delete(2),yield Kv(t)):e||(t.N_.add(2),yield Em(t),t.k_.set("Unknown"))})}function Fh(n){return n.Q_||(n.Q_=function(t,i,r){let o=_t(t);return o.y_(),new KS(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:jpe.bind(null,n),Ao:$pe.bind(null,n),Vo:Gpe.bind(null,n),E_:Wpe.bind(null,n)}),n.L_.push(e=>$(this,null,function*(){e?(n.Q_.i_(),MD(n)?AD(n):n.k_.set("Unknown")):(yield n.Q_.stop(),u6(n))}))),n.Q_}function Bl(n){return n.K_||(n.K_=function(t,i,r){let o=_t(t);return o.y_(),new YS(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:Ype.bind(null,n),Vo:Xpe.bind(null,n),m_:Qpe.bind(null,n),f_:Zpe.bind(null,n)}),n.L_.push(e=>$(this,null,function*(){e?(n.K_.i_(),yield Yv(n)):(yield n.K_.stop(),n.x_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))}))),n.K_}var JS=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RD(n,e){if(ga("AsyncQueue",`${e}: ${n}`),Cm(n))return new je(pe.UNAVAILABLE,`${e}: ${n}`);throw n}var kv=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=am(),this.sortedSet=new Hn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Ov=class{constructor(){this.U_=new Hn(Je.comparator)}track(e){let t=e.doc.key,i=this.U_.get(t);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(t,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(t):e.type===1&&i.type===2?this.U_=this.U_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):st():this.U_=this.U_.insert(t,e)}W_(){let e=[];return this.U_.inorderTraversal((t,i)=>{e.push(i)}),e}},Mh=class n{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kv.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var eD=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},tD=class{constructor(){this.queries=b5(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(t,i){let r=_t(t),o=r.queries;r.queries=b5(),o.forEach((s,a)=>{for(let l of a.z_)l.onError(i)})})(this,new je(pe.ABORTED,"Firestore shutting down"))}};function b5(){return new Vl(n=>B5(n),Gv)}function efe(n,e){return $(this,null,function*(){let t=_t(n),i=3,r=e.query,o=t.queries.get(r);o?!o.j_()&&e.H_()&&(i=2):(o=new eD,i=e.H_()?0:1);try{switch(i){case 0:o.G_=yield t.onListen(r,!0);break;case 1:o.G_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=RD(s,`Initialization of query '${hh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.z_.push(e),e.Y_(t.onlineState),o.G_&&e.Z_(o.G_)&&kD(t)})}function tfe(n,e){return $(this,null,function*(){let t=_t(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.z_.indexOf(e);s>=0&&(o.z_.splice(s,1),o.z_.length===0?r=e.H_()?0:1:!o.j_()&&e.H_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function nfe(n,e){let t=_t(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.z_)a.Z_(r)&&(i=!0);s.G_=r}}i&&kD(t)}function ife(n,e,t){let i=_t(n),r=i.queries.get(e);if(r)for(let o of r.z_)o.onError(t);i.queries.delete(e)}function kD(n){n.J_.forEach(e=>{e.next()})}var nD,w5;(w5=nD||(nD={})).X_="default",w5.Cache="cache";var iD=class{constructor(e,t,i){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Mh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache||!this.H_())return!0;let i=t!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}sa(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==nD.Cache}};var Pv=class{constructor(e){this.key=e}},Fv=class{constructor(e){this.key=e}},rD=class{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Ht(),this.mutatedKeys=Ht(),this.da=z5(e),this.Aa=new kv(this.da)}get Ra(){return this.Ia}Va(e,t){let i=t?t.ma:new Ov,r=t?t.Aa:this.Aa,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let p=r.get(u),m=Wv(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),I=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),I=!0):this.fa(p,m)||(i.track({type:2,doc:m}),I=!0,(l&&this.da(m,l)>0||c&&this.da(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),I=!0):p&&!m&&(i.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(m?(s=s.add(m),o=w?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Aa:s,ma:i,ts:a,mutatedKeys:o}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let s=e.ma.W_();s.sort((u,h)=>function(m,v){let w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return w(m)-w(v)}(u.type,h.type)||this.da(u.doc,h.doc)),this.ga(i),r=r!=null&&r;let a=t&&!r?this.pa():[],l=this.Ea.size===0&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,s.length!==0||c?{snapshot:new Mh(this.query,e.Aa,o,s,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Ov,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(t=>this.Ia=this.Ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ia=this.Ia.delete(t)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=Ht(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});let t=[];return e.forEach(i=>{this.Ea.has(i)||t.push(new Fv(i))}),this.Ea.forEach(i=>{e.has(i)||t.push(new Pv(i))}),t}Sa(e){this.Ia=e.Is,this.Ea=Ht();let t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return Mh.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},oD=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},sD=class{constructor(e){this.key=e,this.Da=!1}},aD=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new Vl(a=>B5(a),Gv),this.Fa=new Map,this.Ma=new Set,this.xa=new Hn(Je.comparator),this.Oa=new Map,this.Na=new ym,this.La={},this.Ba=new Map,this.ka=_m.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function rfe(n,e,t=!0){return $(this,null,function*(){let i=v6(n),r,o=i.va.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ba()):r=yield f6(i,e,t,!0),r})}function ofe(n,e){return $(this,null,function*(){let t=v6(n);yield f6(t,e,!0,!1)})}function f6(n,e,t,i){return $(this,null,function*(){let r=yield zpe(n.localStore,vs(e)),o=r.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield sfe(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&l6(n.remoteStore,r),a})}function sfe(n,e,t,i,r){return $(this,null,function*(){n.Qa=(h,p,m)=>function(w,I,S,R){return $(this,null,function*(){let V=I.view.Va(S);V.ts&&(V=yield y5(w.localStore,I.query,!1).then(({documents:M})=>I.view.Va(M,V)));let z=R&&R.targetChanges.get(I.targetId),q=R&&R.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(V,w.isPrimaryClient,z,q);return C5(w,I.targetId,Y.ya),Y.snapshot})}(n,h,p,m);let o=yield y5(n.localStore,e,!0),s=new rD(e,o.Is),a=s.Va(o.documents),l=mm.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=s.applyChanges(a,n.isPrimaryClient,l);C5(n,t,c.ya);let u=new oD(e,t,s);return n.va.set(e,u),n.Fa.has(t)?n.Fa.get(t).push(e):n.Fa.set(t,[e]),c.snapshot})}function afe(n,e,t){return $(this,null,function*(){let i=_t(n),r=i.va.get(e),o=i.Fa.get(r.targetId);if(o.length>1)return i.Fa.set(r.targetId,o.filter(s=>!Gv(s,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jS(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&SD(i.remoteStore,r.targetId),lD(i,r.targetId)}).catch(Im))):(lD(i,r.targetId),yield jS(i.localStore,r.targetId,!0))})}function lfe(n,e){return $(this,null,function*(){let t=_t(n),i=t.va.get(e),r=t.Fa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),SD(t.remoteStore,i.targetId))})}function cfe(n,e,t){return $(this,null,function*(){let i=gfe(n);try{let r=yield function(s,a){let l=_t(s),c=Hi.now(),u=a.reduce((m,v)=>m.add(v.key),Ht()),h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ya(),w=Ht();return l.us.getEntries(m,u).next(I=>{v=I,v.forEach((S,R)=>{R.isValidDocument()||(w=w.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(I=>{h=I;let S=[];for(let R of a){let V=fpe(R,h.get(R.key).overlayedDocument);V!=null&&S.push(new va(R.key,V,O5(V.value.mapValue),ru.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(I=>{p=I;let S=I.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,I.batchId,S)})}).then(()=>({batchId:p.batchId,changes:H5(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.La[s.currentUser.toKey()];c||(c=new Hn(sn)),c=c.insert(a,l),s.La[s.currentUser.toKey()]=c}(i,r.batchId,t),yield Tm(i,r.changes),yield Yv(i.remoteStore)}catch(r){let o=RD(r,"Failed to persist write");t.reject(o)}})}function m6(n,e){return $(this,null,function*(){let t=_t(n);try{let i=yield Npe(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Oa.get(o);s&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Da=!0:r.modifiedDocuments.size>0?vn(s.Da):r.removedDocuments.size>0&&(vn(s.Da),s.Da=!1))}),yield Tm(t,i,e)}catch(i){yield Im(i)}})}function I5(n,e,t){let i=_t(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.va.forEach((o,s)=>{let a=s.view.Y_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=_t(s);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let p of h.z_)p.Y_(a)&&(c=!0)}),c&&kD(l)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ufe(n,e,t){return $(this,null,function*(){let i=_t(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Oa.get(e),o=r&&r.key;if(o){let s=new Hn(Je.comparator);s=s.insert(o,No.newNoDocument(o,Tt.min()));let a=Ht().add(o),l=new wv(Tt.min(),new Map,new Hn(sn),s,a);yield m6(i,l),i.xa=i.xa.remove(o),i.Oa.delete(e),OD(i)}else yield jS(i.localStore,e,!1).then(()=>lD(i,e,t)).catch(Im)})}function dfe(n,e){return $(this,null,function*(){let t=_t(n),i=e.batch.batchId;try{let r=yield Lpe(t.localStore,e);_6(t,i,null),g6(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Tm(t,r)}catch(r){yield Im(r)}})}function hfe(n,e,t){return $(this,null,function*(){let i=_t(n);try{let r=yield function(s,a){let l=_t(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(vn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);_6(i,e,t),g6(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Tm(i,r)}catch(r){yield Im(r)}})}function g6(n,e){(n.Ba.get(e)||[]).forEach(t=>{t.resolve()}),n.Ba.delete(e)}function _6(n,e,t){let i=_t(n),r=i.La[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function lD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Fa.get(e))n.va.delete(i),t&&n.Ca.Ka(i,t);n.Fa.delete(e),n.isPrimaryClient&&n.Na.mr(e).forEach(i=>{n.Na.containsKey(i)||y6(n,i)})}function y6(n,e){n.Ma.delete(e.path.canonicalString());let t=n.xa.get(e);t!==null&&(SD(n.remoteStore,t),n.xa=n.xa.remove(e),n.Oa.delete(t),OD(n))}function C5(n,e,t){for(let i of t)i instanceof Pv?(n.Na.addReference(i.key,e),pfe(n,i)):i instanceof Fv?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,e),n.Na.containsKey(i.key)||y6(n,i.key)):st()}function pfe(n,e){let t=e.key,i=t.path.canonicalString();n.xa.get(t)||n.Ma.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.Ma.add(i),OD(n))}function OD(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){let e=n.Ma.values().next().value;n.Ma.delete(e);let t=new Je(Un.fromString(e)),i=n.ka.next();n.Oa.set(i,new sD(t)),n.xa=n.xa.insert(t,i),l6(n.remoteStore,new gm(vs(TD(t.path)),i,"TargetPurposeLimboResolution",M5.oe))}}function Tm(n,e,t){return $(this,null,function*(){let i=_t(n),r=[],o=[],s=[];i.va.isEmpty()||(i.va.forEach((a,l)=>{s.push(i.Qa(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=BS.Ui(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Ca.E_(r),yield function(l,c){return $(this,null,function*(){let u=_t(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(c,p=>ve.forEach(p.Ki,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>ve.forEach(p.$i,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Cm(h))throw h;Ve("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let p=h.targetId;if(!h.fromCache){let m=u.ss.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);u.ss=u.ss.insert(p,w)}}})}(i.localStore,o))})}function ffe(n,e){return $(this,null,function*(){let t=_t(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());let i=yield s6(t.localStore,e);t.currentUser=e,function(o,s){o.Ba.forEach(a=>{a.forEach(l=>{l.reject(new je(pe.CANCELLED,s))})}),o.Ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Tm(t,i.ls)}})}function mfe(n,e){let t=_t(n),i=t.Oa.get(e);if(i&&i.Da)return Ht().add(i.key);{let r=Ht(),o=t.Fa.get(e);if(!o)return r;for(let s of o){let a=t.va.get(s);r=r.unionWith(a.view.Ra)}return r}}function v6(n){let e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ufe.bind(null,e),e.Ca.E_=nfe.bind(null,e.eventManager),e.Ca.Ka=ife.bind(null,e.eventManager),e}function gfe(n){let e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hfe.bind(null,e),e}var Lv=class{constructor(){this.synchronizeTabs=!1}initialize(e){return $(this,null,function*(){this.serializer=qv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Fpe(this.persistence,new US,e.initialUser,this.serializer)}createPersistence(e){return new LS(VS.Yr,this.serializer)}createSharedClientState(e){return new $S}terminate(){return $(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var cD=class{initialize(e,t){return $(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>I5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ffe.bind(null,this.syncEngine),yield Jpe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new tD}()}createDatastore(e){let t=qv(e.databaseInfo.databaseId),i=function(o){return new qS(o)}(e.databaseInfo);return function(o,s,a,l){return new QS(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,a){return new XS(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>I5(this.syncEngine,t,0),function(){return Dv.D()?new Dv:new GS}())}createSyncEngine(e,t){return function(r,o,s,a,l,c,u){let h=new aD(r,o,s,a,l,c);return u&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return $(this,null,function*(){var e,t;yield function(r){return $(this,null,function*(){let o=_t(r);Ve("RemoteStore","RemoteStore shutting down."),o.N_.add(5),yield Em(o),o.B_.shutdown(),o.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var uD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var dD=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ai.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>$(this,null,function*(){Ve("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(Ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>$(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=RD(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function zx(n,e){return $(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>$(this,null,function*(){i.isEqual(r)||(yield s6(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function E5(n,e){return $(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield yfe(n);Ve("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>v5(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>v5(e.remoteStore,r)),n._onlineComponents=e})}function _fe(n){return n.name==="FirebaseError"?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function yfe(n){return $(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zx(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!_fe(t))throw t;vh("Error using user provided cache. Falling back to memory cache: "+t),yield zx(n,new Lv)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield zx(n,new Lv);return n._offlineComponents})}function b6(n){return $(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield E5(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield E5(n,new cD))),n._onlineComponents})}function vfe(n){return b6(n).then(e=>e.syncEngine)}function T5(n){return $(this,null,function*(){let e=yield b6(n),t=e.eventManager;return t.onListen=rfe.bind(null,e.syncEngine),t.onUnlisten=afe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ofe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lfe.bind(null,e.syncEngine),t})}function w6(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var x5=new Map;function I6(n,e,t){if(!t)throw new je(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bfe(n,e,t,i){if(e===!0&&i===!0)throw new je(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function S5(n){if(!Je.isDocumentKey(n))throw new je(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D5(n){if(Je.isDocumentKey(n))throw new je(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":st()}function _h(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=PD(n);throw new je(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Nv=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new je(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bfe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w6((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rh=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ux;switch(i.type){case"firstParty":return new Gx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new je(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=x5.get(t);i&&(Ve("ComponentProvider","Removing Datastore"),x5.delete(t),i.terminate())}(this),Promise.resolve()}};function C6(n,e,t,i={}){var r;let o=(n=_h(n,Rh))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&vh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ai.MOCK_USER;else{a=V3(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new je(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ai(c)}n._authCredentials=new Hx(new pv(a,l))}}var Vv=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yr=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ll=class n extends Vv{constructor(e,t,i){super(e,t,TD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new Je(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function E6(n,e,...t){if(n=Xi(n),I6("collection","path",e),n instanceof Rh){let i=Un.fromString(e,...t);return D5(i),new Ll(n,null,i)}{if(!(n instanceof Yr||n instanceof Ll))throw new je(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Un.fromString(e,...t));return D5(i),new Ll(n.firestore,null,i)}}function T6(n,e,...t){if(n=Xi(n),arguments.length===1&&(e=fv.newId()),I6("doc","path",e),n instanceof Rh){let i=Un.fromString(e,...t);return S5(i),new Yr(n,null,new Je(i))}{if(!(n instanceof Yr||n instanceof Ll))throw new je(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Un.fromString(e,...t));return S5(i),new Yr(n.firestore,n instanceof Ll?n.converter:null,new Je(i))}}var hD=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Av(this,"async_queue_retry"),this.Tu=()=>{let t=Bx();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.e_.zo()};let e=Bx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let t=Bx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let t=new ma;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return $(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Cm(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let t=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw ga("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=t,t}enqueueAfterDelay(e,t,i){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);let r=JS.createAndSchedule(this,e,t,i,o=>this.Ru(o));return this.cu.push(r),r}Eu(){this.lu&&st()}verifyOperationInProgress(){}Vu(){return $(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.cu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let t=this.cu.indexOf(e);this.cu.splice(t,1)}};function A5(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var kh=class extends Rh{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new hD}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D6(this),this._firestoreClient.terminate()}};function x6(n,e){let t=typeof n=="object"?n:eh(),i=typeof n=="string"?n:e||"(default)",r=Gf(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=N3("firestore");o&&C6(r,...o)}return r}function S6(n){return n._firestoreClient||D6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D6(n){var e,t,i;let r=n._freezeSettings(),o=function(a,l,c,u){return new Qx(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,w6(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new dD(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var vm=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(tr.fromBase64String(e))}catch(t){throw new je(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bm=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bv=class{constructor(e){this._methodName=e}};var wm=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}};var wfe=/^__.*__$/,pD=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new uu(e,this.data,t,this.fieldTransforms)}};function A6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}var fD=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return zv(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(A6(this.yu)&&wfe.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},mD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qv(e)}Ou(e,t,i,r=!1){return new fD({yu:e,methodName:t,xu:i,path:Kr.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ife(n){let e=n._freezeSettings(),t=qv(n._databaseId);return new mD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Cfe(n,e,t,i,r,o={}){let s=n.Ou(o.merge||o.mergeFields?2:0,e,t,r);O6("Data must be an object, but it was:",s,i);let a=R6(i,s),l,c;if(o.merge)l=new _s(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let h of o.mergeFields){let p=Efe(e,h,t);if(!s.contains(p))throw new je(pe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);xfe(u,p)||u.push(p)}l=new _s(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new pD(new Lo(a),l,c)}function M6(n,e){if(k6(n=Xi(n)))return O6("Unsupported field value:",e,n),R6(n,e);if(n instanceof Bv)return function(i,r){if(!A6(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let l=M6(a,r.vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Xi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cpe(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Hi.fromDate(i);return{timestampValue:Tv(r.serializer,o)}}if(i instanceof Hi){let o=new Hi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tv(r.serializer,o)}}if(i instanceof wm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vm)return{bytesValue:J5(r.serializer,i._byteString)};if(i instanceof Yr){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${PD(i)}`)}(n,e)}function R6(n,e){let t={};return R5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ph(n,(i,r)=>{let o=M6(r,e.Su(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function k6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Hi||n instanceof wm||n instanceof vm||n instanceof Yr||n instanceof Bv)}function O6(n,e,t){if(!k6(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=PD(t);throw i==="an object"?e.Fu(n+" a custom object"):e.Fu(n+" "+i)}}function Efe(n,e,t){if((e=Xi(e))instanceof bm)return e._internalPath;if(typeof e=="string")return P6(n,e);throw zv("Field path arguments must be of type string or ",n,!1,void 0,t)}var Tfe=new RegExp("[~\\*/\\[\\]]");function P6(n,e,t){if(e.search(Tfe)>=0)throw zv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bm(...e.split("."))._internalPath}catch{throw zv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zv(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new je(pe.INVALID_ARGUMENT,a+n+l)}function xfe(n,e){return n.some(t=>t.isEqual(e))}var Uv=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(F6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gD=class extends Uv{data(){return super.data()}};function F6(n,e){return typeof e=="string"?P6(n,e):e instanceof bm?e._internalPath:e._delegate._internalPath}function Sfe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new je(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _D=class{convertValue(e,t="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Ph(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new wm(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=wD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pm(e));default:return null}}convertTimestamp(e){let t=_a(e);return new Hi(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Un.fromString(e);vn(o6(i));let r=new yv(i.get(1),i.get(3)),o=new Je(i.popFirst(5));return r.isEqual(t)||ga(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Dfe(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var iu=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hv=class extends Uv{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(F6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},yh=class extends Hv{data(e={}){return super.data(e)}},yD=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yh(this._firestore,this._userDataWriter,i.key,i,new iu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new yh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new iu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new yh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new iu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Afe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Afe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}var jv=class extends _D{constructor(e){super(),this.firestore=e}convertBytes(e){return new vm(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}};function L6(n,e,t){n=_h(n,Yr);let i=_h(n.firestore,kh),r=Dfe(n.converter,e,t);return Mfe(i,[Cfe(Ife(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,ru.none())])}function FD(n,...e){var t,i,r;n=Xi(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||A5(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(A5(e[s])){let h=e[s];e[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[s+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[s+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(n instanceof Yr)c=_h(n.firestore,kh),u=TD(n._key.path),l={next:h=>{e[s]&&e[s](Rfe(c,n,h))},error:e[s+1],complete:e[s+2]};else{let h=_h(n,Vv);c=_h(h.firestore,kh),u=h._query;let p=new jv(c);l={next:m=>{e[s]&&e[s](new yD(c,p,h,m))},error:e[s+1],complete:e[s+2]},Sfe(n._query)}return function(p,m,v,w){let I=new uD(w),S=new iD(m,I,v);return p.asyncQueue.enqueueAndForget(()=>$(this,null,function*(){return efe(yield T5(p),S)})),()=>{I.Ga(),p.asyncQueue.enqueueAndForget(()=>$(this,null,function*(){return tfe(yield T5(p),S)}))}}(S6(c),u,a,l)}function Mfe(n,e){return function(i,r){let o=new ma;return i.asyncQueue.enqueueAndForget(()=>$(this,null,function*(){return cfe(yield vfe(i),r,o)})),o.promise}(S6(n),e)}function Rfe(n,e,t){let i=t.docs.get(e._key),r=new jv(n);return new Hv(n,r,e._key,i,new iu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Oh=r})(Al),Dl(new po("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new kh(new jx(i.getProvider("auth-internal")),new qx(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new je(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yv(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_i(J4,"4.6.5",e),_i(J4,"4.6.5","esm2017")})();var Qv=function(){return Qv=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qv.apply(this,arguments)};var Pfe={includeMetadataChanges:!1};function N6(n,e){return e===void 0&&(e=Pfe),new Ct(function(t){var i=FD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function V6(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Qv(Qv({},i),(t={},t[e.idField]=n.id,t))}function B6(n){return N6(n,{includeMetadataChanges:!0}).pipe(ht(function(e){return e.docs}))}function z6(n,e){return e===void 0&&(e={}),B6(n).pipe(ht(function(t){return t.map(function(i){return V6(i,e)})}))}var ba=class{constructor(e){return e}},U6="firestore",LD=class{constructor(){return Wf(U6)}};var ND=new Ne("angularfire2.firestore-instances");function Ffe(n,e){let t=Fy(U6,n,e);return t&&new ba(t)}function Lfe(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ba(i)}}var Nfe={provide:LD,deps:[[new Vi,ND]]},Vfe={provide:ba,useFactory:Ffe,deps:[[new Vi,ND],ua]},Bfe=(()=>{class n{constructor(){_i("angularfire",Wc.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({providers:[Vfe,Nfe]})}return n})();function H6(n,...e){return{ngModule:Bfe,providers:[{provide:ND,useFactory:Lfe(n),multi:!0,deps:[Qe,ri,ih,qc,[new Vi,nm],[new Vi,nh],...e]}]}}var Zv=qr(z6,!0);var Xv=qr(E6,!0);var Jv=qr(T6,!0);var j6=qr(x6,!0);var e1=qr(L6,!0);var G6=(()=>{let e=class e{constructor(i){this.firestore=i,this.disservizi=Xv(this.firestore,"disservizi")}getDisservizi(){return Zv(this.disservizi,{idField:"id"})}updateDisservizio(i,r){let o=Jv(this.disservizi,i),s=e1(o,r);return $t(s)}};e.\u0275fac=function(r){return new(r||e)(Fe(ba))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var VD=()=>({width:"25rem"}),Ufe=()=>({width:"100%"}),Hfe=()=>({"max-height":"250px"}),jfe=()=>({"max-height":"220px"});function $fe(n,e){n&1&&G(0,"span",17)}function Gfe(n,e){n&1&&G(0,"span",18)}function Wfe(n,e){if(n&1){let t=ue();C(0,"div",14),Q("click",function(){let r=F(t).index,o=y(2);return L(o.onClickOpenEditDisservizioModal(r))}),T(1,$fe,1,0,"span",15)(2,Gfe,1,0,"span",16),C(3,"div"),oe(4),E()()}if(n&2){let t=e.$implicit;g(),f("ngIf",t.attivo),g(),f("ngIf",!t.attivo),g(2),Ue(t.descrizione)}}function qfe(n,e){if(n&1&&(C(0,"span",11),oe(1,"Disservizi gi\xE0 presenti:"),E(),C(2,"p-listbox",12),T(3,Wfe,5,3,"ng-template",13),E()),n&2){let t=y();g(2),ko(Jt(5,Ufe)),f("options",t.disservizi)("listStyle",Jt(6,Hfe))("listStyle",Jt(7,jfe))}}function Kfe(n,e){n&1&&(C(0,"span",11),oe(1,"Nessun disservizio presente"),E())}var W6=(()=>{let e=class e{constructor(i){this.disserviziService=i,this.disserviziModalVisible=!1,this.newDisservizioModalVisible=!1,this.editDisservizioModalVisible=!1,this.disservizi=[],this.message=Xt(""),this.activeDisservizio=Xt(!0),this.indexDisservizioToEdit=Xt(0)}ngOnChanges(i){this.id=i.id.currentValue,this.disserviziService.getDisservizi().subscribe(r=>{this.disservizi=r.find(o=>o.id===this.id).disservizi})}onClickOpenDisserviziModal(){this.disserviziModalVisible=!0}onClickOpenNewDisservizioModal(){this.newDisservizioModalVisible=!0}onClickOpenEditDisservizioModal(i){this.editDisservizioModalVisible=!0,this.indexDisservizioToEdit.set(i),this.message.set(this.disservizi[i].descrizione),this.activeDisservizio.set(this.disservizi[i].attivo)}hidingNewDisservizioModal(){this.message.set(""),this.activeDisservizio.set(!0)}hidingEditDisservizioModal(){this.indexDisservizioToEdit.set(0),this.message.set(""),this.activeDisservizio.set(!0)}reportDisservizio(){let i={descrizione:this.message(),attivo:this.activeDisservizio()},r=[...this.disservizi,i],o={id:this.id,disservizi:r};this.disserviziService.updateDisservizio(this.id,o).subscribe({next:s=>{this.newDisservizioModalVisible=!1}})}editDisservizio(){let i=[...this.disservizi];i[this.indexDisservizioToEdit()].descrizione=this.message(),i[this.indexDisservizioToEdit()].attivo=this.activeDisservizio();let r={id:this.id,disservizi:i};this.disserviziService.updateDisservizio(this.id,r).subscribe({next:o=>{this.editDisservizioModalVisible=!1}})}};e.\u0275fac=function(r){return new(r||e)(j(G6))},e.\u0275cmp=te({type:e,selectors:[["app-disservizio"]],inputs:{id:"id"},standalone:!0,features:[cn,ye],decls:26,vars:22,consts:[["label","Disservizio","icon","pi pi-exclamation-triangle",3,"onClick"],["header","Disservizi",3,"visibleChange","modal","visible"],[1,"flex","align-items-center","gap-3","mb-3"],["label","Aggiungi","icon","pi pi-plus",3,"onClick"],["header","Segnala disservizio",3,"visibleChange","onHide","modal","visible"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"checkbox"],["inputId","binary",3,"ngModelChange","ngModel","binary"],["for","binary"],["header","Modifica disservizio",3,"visibleChange","onHide","modal","visible"],["label","Modifica","icon","pi pi-pencil",3,"onClick"],[1,"p-text-secondary","block","mb-5"],["optionLabel","name",3,"options","listStyle"],["pTemplate","item"],[1,"flex","align-items-center","gap-2",3,"click"],["class","pi pi-exclamation-circle","style","color: #DA552F",4,"ngIf"],["class","pi pi-exclamation-circle","style","color: var(--green)",4,"ngIf"],[1,"pi","pi-exclamation-circle",2,"color","#DA552F"],[1,"pi","pi-exclamation-circle",2,"color","var(--green)"]],template:function(r,o){r&1&&(C(0,"div")(1,"p-button",0),Q("onClick",function(){return o.onClickOpenDisserviziModal()}),E()(),C(2,"p-dialog",1),Ci("visibleChange",function(a){return Bi(o.disserviziModalVisible,a)||(o.disserviziModalVisible=a),a}),T(3,qfe,4,8)(4,Kfe,2,0),G(5,"p-divider"),C(6,"div",2)(7,"p-button",3),Q("onClick",function(){return o.onClickOpenNewDisservizioModal()}),E()()(),C(8,"p-dialog",4),Ci("visibleChange",function(a){return Bi(o.newDisservizioModalVisible,a)||(o.newDisservizioModalVisible=a),a}),Q("onHide",function(){return o.hidingNewDisservizioModal()}),C(9,"textarea",5),Ci("ngModelChange",function(a){return Bi(o.message,a)||(o.message=a),a}),oe(10,"    "),E(),C(11,"div",6)(12,"p-checkbox",7),Ci("ngModelChange",function(a){return Bi(o.activeDisservizio,a)||(o.activeDisservizio=a),a}),E(),C(13,"label",8),oe(14,"In Corso"),E()(),C(15,"div")(16,"p-button",3),Q("onClick",function(){return o.reportDisservizio()}),E()()(),C(17,"p-dialog",9),Ci("visibleChange",function(a){return Bi(o.editDisservizioModalVisible,a)||(o.editDisservizioModalVisible=a),a}),Q("onHide",function(){return o.hidingEditDisservizioModal()}),C(18,"textarea",5),Ci("ngModelChange",function(a){return Bi(o.message,a)||(o.message=a),a}),oe(19,"    "),E(),C(20,"div",6)(21,"p-checkbox",7),Ci("ngModelChange",function(a){return Bi(o.activeDisservizio,a)||(o.activeDisservizio=a),a}),E(),C(22,"label",8),oe(23,"In Corso"),E()(),C(24,"div")(25,"p-button",10),Q("onClick",function(){return o.editDisservizio()}),E()()()),r&2&&(g(2),ko(Jt(19,VD)),f("modal",!0),Ii("visible",o.disserviziModalVisible),g(),hr(3,o.disservizi.length>0?3:4),g(5),ko(Jt(20,VD)),f("modal",!0),Ii("visible",o.newDisservizioModalVisible),g(),Ii("ngModel",o.message),g(3),Ii("ngModel",o.activeDisservizio),f("binary",!0),g(5),ko(Jt(21,VD)),f("modal",!0),Ii("visible",o.editDisservizioModalVisible),g(),Ii("ngModel",o.message),g(3),Ii("ngModel",o.activeDisservizio),f("binary",!0))},dependencies:[fr,Uc,qe,H4,U4,tt,$4,j4,W4,G4,la,Wd,vl,Fo,q4,Sx,Q4,Ax],styles:["[_nghost-%COMP%]     .p-button{background-color:#da552f;border-color:#da552f;font-weight:200;color:#fff}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px #da552f,0 1px 2px #000}div[_ngcontent-%COMP%]{width:fit-content;margin:10px auto}[_nghost-%COMP%]     .p-inputtext{width:100%}.checkbox[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:auto 10px}.checkbox[_ngcontent-%COMP%]{margin-bottom:20px}"]});let n=e;return n})();var t1=(()=>{let e=class e{constructor(i){this.firestore=i,this.percorsi=Xv(this.firestore,"percorsi")}getPercorsi(){return Zv(this.percorsi,{idField:"id"})}updatePercorso(i,r){let o=Jv(this.percorsi,i),s=e1(o,r);return $t(s)}};e.\u0275fac=function(r){return new(r||e)(Fe(ba))},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Yfe=()=>({"min-width":"50rem"});function Qfe(n,e){if(n&1&&(ie(0),G(1,"app-disservizio",7),re()),n&2){let t=y();g(),f("id",t.selectedDay.option)}}function Zfe(n,e){n&1&&(C(0,"tr")(1,"th",8),oe(2,"ID"),E(),C(3,"th",8),oe(4,"Arrivo Previsto"),E(),C(5,"th",8),oe(6,"Arrivo Effettivo"),E(),C(7,"th",8),oe(8,"Partenza Prevista"),E(),C(9,"th",8),oe(10,"Partenza Effettiva"),E(),C(11,"th",8),oe(12,"Transito Previsto"),E(),C(13,"th",8),oe(14,"Transito Effettivo"),E(),G(15,"th"),E())}function Xfe(n,e){if(n&1){let t=ue();C(0,"td",8),oe(1),zi(2,"date"),E(),C(3,"td",8)(4,"p-inputMask",10),Ci("ngModelChange",function(r){F(t);let o=y().$implicit;return Bi(o.orarioArrivoEffettivo,r)||(o.orarioArrivoEffettivo=r),L(r)}),E()()}if(n&2){let t=y().$implicit;g(),Ue(Ui(2,2,t.orarioArrivoPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioArrivoEffettivo)}}function Jfe(n,e){n&1&&(C(0,"td",8),oe(1,"--:--"),E(),C(2,"td",8),oe(3,"--:--"),E())}function eme(n,e){if(n&1){let t=ue();C(0,"td",8),oe(1),zi(2,"date"),E(),C(3,"td",8)(4,"p-inputMask",10),Ci("ngModelChange",function(r){F(t);let o=y().$implicit;return Bi(o.orarioPartenzaEffettivo,r)||(o.orarioPartenzaEffettivo=r),L(r)}),E()()}if(n&2){let t=y().$implicit;g(),Ue(Ui(2,2,t.orarioPartenzaPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioPartenzaEffettivo)}}function tme(n,e){n&1&&(C(0,"td",8),oe(1,"--:--"),E(),C(2,"td",8),oe(3,"--:--"),E())}function nme(n,e){if(n&1){let t=ue();C(0,"td",8),oe(1),zi(2,"date"),E(),C(3,"td",8)(4,"p-inputMask",10),Ci("ngModelChange",function(r){F(t);let o=y().$implicit;return Bi(o.orarioPassaggioEffettivo,r)||(o.orarioPassaggioEffettivo=r),L(r)}),E()()}if(n&2){let t=y().$implicit;g(),Ue(Ui(2,2,t.orarioPassaggioPrevisto,"HH:mm")),g(3),Ii("ngModel",t.orarioPassaggioEffettivo)}}function ime(n,e){n&1&&(C(0,"td",8),oe(1,"--:--"),E(),C(2,"td",8),oe(3,"--:--"),E())}function rme(n,e){if(n&1){let t=ue();C(0,"tr")(1,"td",8),oe(2),E(),T(3,Xfe,5,5)(4,Jfe,4,0)(5,eme,5,5)(6,tme,4,0)(7,nme,5,5)(8,ime,4,0),C(9,"td",8)(10,"p-button",9),Q("click",function(){let r=F(t).rowIndex,o=y();return L(o.saveChanges(r))}),E()()()}if(n&2){let t=e.$implicit;g(2),Ue(t.id),g(),hr(3,t.orarioArrivoPrevisto?3:4),g(2),hr(5,t.orarioPartenzaPrevisto?5:6),g(2),hr(7,t.orarioPassaggioPrevisto?7:8)}}var K6=(()=>{let e=class e{constructor(i){this.firestoreService=i,this.tabItems=fy,this.percorso={}}itemChanged(i){this.firestoreService.getPercorsi().subscribe({next:r=>{this.percorso=r.filter(o=>o.id===this.selectedDay.option)[0];for(let o=0;o<this.percorso.checkpoint.length;o++){if(this.percorso.checkpoint[o].orarioArrivoPrevisto){this.percorso.checkpoint[o].orarioArrivoPrevisto=this.percorso.checkpoint[o].orarioArrivoPrevisto.toDate(),this.percorso.checkpoint[o].orarioArrivoEffettivo=this.percorso.checkpoint[o].orarioArrivoEffettivo.toDate();let s=[this.percorso.checkpoint[o].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[o].orarioArrivoEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[o].orarioArrivoEffettivo=s[0]+":"+s[1]}if(this.percorso.checkpoint[o].orarioPartenzaPrevisto){this.percorso.checkpoint[o].orarioPartenzaPrevisto=this.percorso.checkpoint[o].orarioPartenzaPrevisto.toDate(),this.percorso.checkpoint[o].orarioPartenzaEffettivo=this.percorso.checkpoint[o].orarioPartenzaEffettivo.toDate();let s=[this.percorso.checkpoint[o].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[o].orarioPartenzaEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[o].orarioPartenzaEffettivo=s[0]+":"+s[1]}if(this.percorso.checkpoint[o].orarioPassaggioPrevisto){this.percorso.checkpoint[o].orarioPassaggioPrevisto=this.percorso.checkpoint[o].orarioPassaggioPrevisto.toDate(),this.percorso.checkpoint[o].orarioPassaggioEffettivo=this.percorso.checkpoint[o].orarioPassaggioEffettivo.toDate();let s=[this.percorso.checkpoint[o].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[0],this.percorso.checkpoint[o].orarioPassaggioEffettivo?.toLocaleString().split(", ")[1].split(":")[1]];this.percorso.checkpoint[o].orarioPassaggioEffettivo=s[0]+":"+s[1]}}},error:r=>{console.error(r)}})}saveChanges(i){if(this.percorso.checkpoint[i].orarioArrivoPrevisto){let r=[this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[i].orarioArrivoPrevisto),this.percorso.checkpoint[i].orarioArrivoEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioArrivoEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPartenzaPrevisto){let r=[this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[i].orarioPartenzaPrevisto),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPartenzaEffettivo.setMinutes(r[1])}if(this.percorso.checkpoint[i].orarioPassaggioPrevisto){let r=[this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[i].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[i].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[i].orarioPassaggioPrevisto),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setHours(r[0]),this.percorso.checkpoint[i].orarioPassaggioEffettivo.setMinutes(r[1])}for(let r=0;r<this.percorso.checkpoint.length;r++)if(r!==i){if(this.percorso.checkpoint[r].orarioArrivoPrevisto){let o=[this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioArrivoEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioArrivoEffettivo=new Date(this.percorso.checkpoint[r].orarioArrivoPrevisto),this.percorso.checkpoint[r].orarioArrivoEffettivo.setHours(o[0]),this.percorso.checkpoint[r].orarioArrivoEffettivo.setMinutes(o[1])}if(this.percorso.checkpoint[r].orarioPartenzaPrevisto){let o=[this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPartenzaEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPartenzaEffettivo=new Date(this.percorso.checkpoint[r].orarioPartenzaPrevisto),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setHours(o[0]),this.percorso.checkpoint[r].orarioPartenzaEffettivo.setMinutes(o[1])}if(this.percorso.checkpoint[r].orarioPassaggioPrevisto){let o=[this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[0],this.percorso.checkpoint[r].orarioPassaggioEffettivo.split(":")[1]];this.percorso.checkpoint[r].orarioPassaggioEffettivo=new Date(this.percorso.checkpoint[r].orarioPassaggioPrevisto),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setHours(o[0]),this.percorso.checkpoint[r].orarioPassaggioEffettivo.setMinutes(o[1])}this.firestoreService.updatePercorso(this.selectedDay.option,this.percorso)}}};e.\u0275fac=function(r){return new(r||e)(j(t1))},e.\u0275cmp=te({type:e,selectors:[["app-manage"]],standalone:!0,features:[ye],decls:7,vars:6,consts:[[1,"drop-container"],["optionLabel","label","placeholder","Seleziona giorno",3,"ngModelChange","onChange","options","ngModel"],[1,"content"],[4,"ngIf"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"id"],[1,"in-tr"],["label","Salva",3,"click"],["pInputNumber","","mask","99:99","placeholder","00:00",3,"ngModelChange","ngModel"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"p-dropdown",1),Ci("ngModelChange",function(a){return Bi(o.selectedDay,a)||(o.selectedDay=a),a}),Q("onChange",function(a){return o.itemChanged(a)}),E()(),C(2,"div",2),T(3,Qfe,2,1,"ng-container",3),C(4,"p-table",4),T(5,Zfe,16,0,"ng-template",5)(6,rme,11,4,"ng-template",6),E()()),r&2&&(g(),f("options",o.tabItems),Ii("ngModel",o.selectedDay),g(2),f("ngIf",o.selectedDay),g(),f("value",o.percorso.checkpoint)("tableStyle",Jt(5,Yfe)))},dependencies:[Jc,rm,qe,la,vl,Fo,tt,N4,Cx,V0,fr,Uc,V4,Ex,eu,W6],styles:["[_nghost-%COMP%]     .p-dropdown{width:250px;margin:auto}.drop-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}[_nghost-%COMP%]     .p-datatable{margin-top:20px}[_nghost-%COMP%]     .p-button{background-color:var(--verde);border-color:var(--verde)}[_nghost-%COMP%]     .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--verde),0 1px 2px #000}[_nghost-%COMP%]     .p-inputtext{width:75px}.in-tr[_ngcontent-%COMP%]{width:12.5%}"]});let n=e;return n})();var Y6=(n,e)=>he(Pl).isLogged();var BD=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Mi=BD;var Vo={PROPERTYCHANGE:"propertychange"};var zD=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Lh=zD;function Q6(n,e,t){let i,r;t=t||xr;let o=0,s=n.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+t(n[i],e),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function xr(n,e){return n>e?1:n<e?-1:0}function Nh(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let o=n[r];if(o===e)return r;if(o<e)return t(e,n[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function Z6(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Vh(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function nr(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function X6(n,e,t){let i=e||xr;return n.every(function(r,o){if(o===0)return!0;let s=i(n[o-1],r);return!(s>0||t&&s===0)})}function wa(){return!0}function Ia(){return!1}function Bo(){}function n1(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!nr(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function J6(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Cs(n){for(let e in n)delete n[e]}function zo(n){let e;for(e in n)return!1;return!e}var UD=class extends Lh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=t?new Mi(e):e;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(o):l=r[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Bo);delete s[i]}return l}disposeInternal(){this.listeners_&&Cs(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Bo,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},zl=UD;var Re={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function yt(n,e,t,i,r){if(r){let s=t;t=function(){n.removeEventListener(e,t),s.apply(i??this,arguments)}}else i&&i!==n&&(t=t.bind(i));let o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function Bh(n,e,t,i){return yt(n,e,t,i,!0)}function Lt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Cs(n))}var zh=class extends zl{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Re.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=yt(this,e[o],t);return r}return yt(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=Bh(this,e[o],t)}else i=Bh(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)ome(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};zh.prototype.on;zh.prototype.once;zh.prototype.un;function ome(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Lt(n[e]);else Lt(n)}var i1=zh;function Rt(){throw new Error("Unimplemented abstract method.")}var sme=0;function xt(n){return n.ol_uid||(n.ol_uid=String(++sme))}var r1=class extends Mi{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},HD=class extends i1{constructor(e){super(),this.on,this.once,this.un,xt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new r1(i,e,t)),i=Vo.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new r1(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],zo(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},ui=HD;var Ri={ADD:"add",REMOVE:"remove"};var e9={LENGTH:"length"},Uh=class extends Mi{constructor(e,t,i){super(e),this.element=t,this.index=i}},jD=class extends ui{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(e9.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Uh(Ri.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Uh(Ri.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Uh(Ri.REMOVE,r,e)),this.dispatchEvent(new Uh(Ri.ADD,t,e))}updateLength_(){this.set(e9.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},mr=jD;function it(n,e){if(!n)throw new Error(e)}var $D=class n extends ui{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Lt(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=yt(e,Re.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?ame(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function ame(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(it(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var GD=$D;var EVe=new Array(6);function ki(){return[1,0,0,1,0,0]}function n9(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Zn(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function ji(n,e,t,i,r,o,s,a){let l=Math.sin(o),c=Math.cos(o);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=s*i*c-a*i*l+e,n[5]=s*r*l+a*r*c+t,n}function o1(n,e){let t=lme(e);it(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*l-s*a)/t,n[5]=-(i*l-r*a)/t,n}function lme(n){return n[0]*n[3]-n[1]*n[2]}var t9=[1e6,1e6,1e6,1e6,2,2];function i9(n){return"matrix("+n.map((t,i)=>Math.round(t*t9[i])/t9[i]).join(", ")+")"}var di={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function WD(n){let e=Xn();for(let t=0,i=n.length;t<i;++t)pu(e,n[t]);return e}function cme(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return Qr(i,r,o,s,t)}function Hh(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function a1(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function l1(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Uo(n,e){return qD(n,e[0],e[1])}function Ca(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function qD(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function s1(n,e){let t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1],l=di.UNKNOWN;return s<t?l=l|di.LEFT:s>r&&(l=l|di.RIGHT),a<i?l=l|di.BELOW:a>o&&(l=l|di.ABOVE),l===di.UNKNOWN&&(l=di.INTERSECTING),l}function Xn(){return[1/0,1/0,-1/0,-1/0]}function Qr(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function hu(n){return Qr(1/0,1/0,-1/0,-1/0,n)}function c1(n,e){let t=n[0],i=n[1];return Qr(t,i,t,i,e)}function jh(n,e,t,i,r){let o=hu(r);return KD(o,n,e,t,i)}function Ea(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function r9(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function pu(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function KD(n,e,t,i,r){for(;t<i;t+=r)ume(n,e[t],e[t+1]);return n}function ume(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function u1(n,e){let t;return t=e($h(n)),t||(t=e(Gh(n)),t)||(t=e(Wh(n)),t)||(t=e(mo(n)),t)?t:!1}function Ul(n){let e=0;return Hl(n)||(e=It(n)*Sn(n)),e}function $h(n){return[n[0],n[1]]}function Gh(n){return[n[2],n[1]]}function fo(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function o9(n,e){let t;if(e==="bottom-left")t=$h(n);else if(e==="bottom-right")t=Gh(n);else if(e==="top-left")t=mo(n);else if(e==="top-right")t=Wh(n);else throw new Error("Invalid corner");return t}function xm(n,e,t,i,r){let[o,s,a,l,c,u,h,p]=dme(n,e,t,i);return Qr(Math.min(o,a,c,h),Math.min(s,l,u,p),Math.max(o,a,c,h),Math.max(s,l,u,p),r)}function dme(n,e,t,i){let r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),a=Math.sin(t),l=r*s,c=r*a,u=o*s,h=o*a,p=n[0],m=n[1];return[p-l+h,m-c-u,p-l-h,m-c+u,p+l-h,m+c+u,p+l+h,m+c-u,p-l+h,m-c-u]}function Sn(n){return n[3]-n[1]}function gr(n,e,t){let i=t||Xn();return kn(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):hu(i),i}function mo(n){return[n[0],n[3]]}function Wh(n){return[n[2],n[3]]}function It(n){return n[2]-n[0]}function kn(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Hl(n){return n[2]<n[0]||n[3]<n[1]}function s9(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function a9(n,e,t){let i=!1,r=s1(n,e),o=s1(n,t);if(r===di.INTERSECTING||o===di.INTERSECTING)i=!0;else{let s=n[0],a=n[1],l=n[2],c=n[3],u=e[0],h=e[1],p=t[0],m=t[1],v=(m-h)/(p-u),w,I;o&di.ABOVE&&!(r&di.ABOVE)&&(w=p-(m-c)/v,i=w>=s&&w<=l),!i&&o&di.RIGHT&&!(r&di.RIGHT)&&(I=m-(p-l)*v,i=I>=a&&I<=c),!i&&o&di.BELOW&&!(r&di.BELOW)&&(w=p-(m-a)/v,i=w>=s&&w<=l),!i&&o&di.LEFT&&!(r&di.LEFT)&&(I=m-(p-s)*v,i=I>=a&&I<=c)}return i}function l9(n,e,t,i){if(Hl(n))return hu(t);let r=[];if(i>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)r.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return cme(o,s,t)}function YD(n,e){let t=e.getExtent(),i=fo(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=It(t),s=Math.floor((i[0]-t[0])/r)*r;n[0]-=s,n[2]-=s}return n}function qh(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];YD(n,e);let r=It(i);if(It(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}var Ta={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var QD=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ta[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},d1=QD;var Sm=6378137,Kh=Math.PI*Sm,hme=[-Kh,-Kh,Kh,Kh],pme=[-180,-85,180,85],h1=Sm*Math.log(Math.tan(Math.PI/2)),jl=class extends d1{constructor(e){super({code:e,units:"m",extent:hme,global:!0,worldExtent:pme,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Sm)}})}},ZD=[new jl("EPSG:3857"),new jl("EPSG:102100"),new jl("EPSG:102113"),new jl("EPSG:900913"),new jl("http://www.opengis.net/def/crs/EPSG/0/3857"),new jl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function c9(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t){e[r]=Kh*n[r]/180;let o=Sm*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));o>h1?o=h1:o<-h1&&(o=-h1),e[r+1]=o}return e}function u9(n,e,t){let i=n.length;t=t>1?t:2,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/Kh,e[r+1]=360*Math.atan(Math.exp(n[r+1]/Sm))/Math.PI-90;return e}var fme=6378137,d9=[-180,-90,180,90],mme=Math.PI*fme/180,xa=class extends d1{constructor(e,t){super({code:e,units:"degrees",extent:d9,axisOrientation:t,global:!0,metersPerUnit:mme,worldExtent:d9})}},XD=[new xa("CRS:84"),new xa("EPSG:4326","neu"),new xa("urn:ogc:def:crs:OGC:1.3:CRS84"),new xa("urn:ogc:def:crs:OGC:2:84"),new xa("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new xa("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new xa("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var JD={};function h9(n){return JD[n]||JD[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function p9(n,e){JD[n]=e}var Yh={};function Dm(n,e,t){let i=n.getCode(),r=e.getCode();i in Yh||(Yh[i]={}),Yh[i][r]=t}function f9(n,e){let t;return n in Yh&&e in Yh[n]&&(t=Yh[n][e]),t}function en(n,e,t){return Math.min(Math.max(n,e),t)}function m9(n,e,t,i,r,o){let s=r-t,a=o-i;if(s!==0||a!==0){let l=((n-t)*s+(e-i)*a)/(s*s+a*a);l>1?(t=r,i=o):l>0&&(t+=s*l,i+=a*l)}return Sa(n,e,t,i)}function Sa(n,e,t,i){let r=t-n,o=i-e;return r*r+o*o}function g9(n){let e=n.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){let l=Math.abs(n[a][i]);l>o&&(o=l,r=a)}if(o===0)return null;let s=n[r];n[r]=n[i],n[i]=s;for(let a=i+1;a<e;a++){let l=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Qh(n){return n*Math.PI/180}function Da(n,e){let t=n%e;return t*e<0?t+e:t}function ir(n,e,t){return n+t*(e-n)}function p1(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function Am(n,e){return Math.floor(p1(n,e))}function Mm(n,e){return Math.ceil(p1(n,e))}function _9(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function fu(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Zh(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,o=n[1]*t+n[0]*i;return n[0]=r,n[1]=o,n}function y9(n,e){return n[0]*=e,n[1]*=e,n}function f1(n,e){if(e.canWrapX()){let t=It(e.getExtent()),i=v9(n,e,t);i&&(n[0]-=i*t)}return n}function v9(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||It(i),r=Math.floor((n[0]-i[0])/t)),r}var gme=63710088e-1;function e2(n,e,t){t=t||gme;let i=Qh(n[1]),r=Qh(e[1]),o=(r-i)/2,s=Qh(e[0]-n[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var b9={info:1,warn:2,error:3,none:4},_me=b9.info;function m1(...n){_me>b9.warn||console.warn(...n)}var t2=!0;function n2(n){t2=!(n===void 0?!0:n)}function i2(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function I9(n,e){if(e!==void 0&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function yme(n){p9(n.getCode(),n),Dm(n,n,i2)}function vme(n){n.forEach(yme)}function Oi(n){return typeof n=="string"?h9(n):n||null}function r2(n,e,t,i){n=Oi(n);let r,o=n.getPointResolutionFunc();if(o){if(r=o(e,t),i&&i!==n.getUnits()){let s=n.getMetersPerUnit();s&&(r=r*s/Ta[i])}}else{let s=n.getUnits();if(s=="degrees"&&!i||i=="degrees")r=e;else{let a=gu(n,Oi("EPSG:4326"));if(a===I9&&s!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=e2(c.slice(0,2),c.slice(2,4)),h=e2(c.slice(4,6),c.slice(6,8));r=(u+h)/2}let l=i?Ta[i]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function w9(n){vme(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Dm(e,t,i2)})})}function bme(n,e,t,i){n.forEach(function(r){e.forEach(function(o){Dm(r,o,t),Dm(o,r,i)})})}function g1(n,e){return n?typeof n=="string"?Oi(n):n:Oi(e)}function C9(n,e){return n2(),Rm(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function mu(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||gu(n,e)===i2)&&t}function gu(n,e){let t=n.getCode(),i=e.getCode(),r=f9(t,i);return r||(r=I9),r}function _u(n,e){let t=Oi(n),i=Oi(e);return gu(t,i)}function Rm(n,e,t){return _u(e,t)(n,void 0,n.length)}function E9(n,e,t,i){let r=_u(e,t);return l9(n,r,void 0,i)}var Ho=null;function yu(){return Ho}function km(n,e){return Ho?Rm(n,e,Ho):n}function jo(n,e){return Ho?Rm(n,Ho,e):(t2&&!fu(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(t2=!1,m1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function $l(n,e){return Ho?E9(n,e,Ho):n}function go(n,e){return Ho?E9(n,Ho,e):n}function T9(n,e){if(!Ho)return n;let t=Oi(e).getMetersPerUnit(),i=Ho.getMetersPerUnit();return t&&i?n*t/i:n}function wme(){w9(ZD),w9(XD),bme(XD,ZD,c9,u9)}wme();function Sr(n,e,t,i,r,o){o=o||[];let s=0;for(let a=e;a<t;a+=i){let l=n[a],c=n[a+1];o[s++]=r[0]*l+r[2]*c+r[4],o[s++]=r[1]*l+r[3]*c+r[5]}return o&&o.length!=s&&(o.length=s),o}function _1(n,e,t,i,r,o,s){s=s||[];let a=Math.cos(r),l=Math.sin(r),c=o[0],u=o[1],h=0;for(let p=e;p<t;p+=i){let m=n[p]-c,v=n[p+1]-u;s[h++]=c+m*a-v*l,s[h++]=u+m*l+v*a;for(let w=p+2;w<p+i;++w)s[h++]=n[w]}return s&&s.length!=h&&(s.length=h),s}function x9(n,e,t,i,r,o,s,a){a=a||[];let l=s[0],c=s[1],u=0;for(let h=e;h<t;h+=i){let p=n[h]-l,m=n[h+1]-c;a[u++]=l+r*p,a[u++]=c+o*m;for(let v=h+2;v<h+i;++v)a[u++]=n[v]}return a&&a.length!=u&&(a.length=u),a}function S9(n,e,t,i,r,o,s){s=s||[];let a=0;for(let l=e;l<t;l+=i){s[a++]=n[l]+r,s[a++]=n[l+1]+o;for(let c=l+2;c<l+i;++c)s[a++]=n[c]}return s&&s.length!=a&&(s.length=a),s}var D9=ki(),o2=class extends ui{constructor(){super(),this.extent_=Xn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=n1((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Rt()}closestPointXY(e,t,i,r){return Rt()}containsXY(e,t){let i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Rt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&hu(t),this.extentRevision_=this.getRevision()}return s9(this.extent_,e)}rotate(e,t){Rt()}scale(e,t,i){Rt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Rt()}getType(){return Rt()}applyTransform(e){Rt()}intersectsExtent(e){return Rt()}translate(e,t){Rt()}transform(e,t){let i=Oi(e),r=i.getUnits()=="tile-pixels"?function(o,s,a){let l=i.getExtent(),c=i.getWorldExtent(),u=Sn(c)/Sn(l);return ji(D9,c[0],c[3],u,-u,0,0,0),Sr(o,0,o.length,a,D9,s),_u(i,t)(o,s,a)}:_u(i,t);return this.applyTransform(r),this}},A9=o2;var s2=class extends A9{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return jh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Rt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=M9(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Rt()}setLayout(e,t,i){let r;if(e)r=M9(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Ime(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();_1(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=fo(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();x9(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();S9(i,0,i.length,r,e,t,i),this.changed()}}};function Ime(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function M9(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function R9(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return Sr(i,0,i.length,r,e,t)}var Xh=s2;function k9(n,e,t,i,r,o,s){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,h;if(c===0&&u===0)h=e;else{let p=((r-a)*c+(o-l)*u)/(c*c+u*u);if(p>1)h=t;else if(p>0){for(let m=0;m<i;++m)s[m]=ir(n[e+m],n[t+m],p);s.length=i;return}else h=e}for(let p=0;p<i;++p)s[p]=n[h+p];s.length=i}function a2(n,e,t,i,r){let o=n[e],s=n[e+1];for(e+=i;e<t;e+=i){let a=n[e],l=n[e+1],c=Sa(o,s,a,l);c>r&&(r=c),o=a,s=l}return r}function O9(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let a=t[o];r=a2(n,e,a,i,r),e=a}return r}function l2(n,e,t,i,r,o,s,a,l,c,u){if(e==t)return c;let h,p;if(r===0){if(p=Sa(s,a,n[e],n[e+1]),p<c){for(h=0;h<i;++h)l[h]=n[e+h];return l.length=i,p}return c}u=u||[NaN,NaN];let m=e+i;for(;m<t;)if(k9(n,m-i,m,i,s,a,u),p=Sa(s,a,u[0],u[1]),p<c){for(c=p,h=0;h<i;++h)l[h]=u[h];l.length=i,m+=i}else m+=i*Math.max((Math.sqrt(p)-Math.sqrt(c))/r|0,1);if(o&&(k9(n,t-i,e,i,s,a,u),p=Sa(s,a,u[0],u[1]),p<c)){for(c=p,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function P9(n,e,t,i,r,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,p=t.length;h<p;++h){let m=t[h];c=l2(n,e,m,i,r,o,s,a,l,c,u),e=m}return c}function F9(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}function c2(n,e,t,i){for(let r=0,o=t.length;r<o;++r){let s=t[r];for(let a=0;a<i;++a)n[e++]=s[a]}return e}function L9(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=c2(n,e,t[s],i);r[o++]=l,e=l}return r.length=o,r}function Om(n,e,t,i,r,o,s){let a=(t-e)/i;if(a<3){for(;e<t;e+=i)o[s++]=n[e],o[s++]=n[e+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-i],u=0;for(;c.length>0;){let h=c.pop(),p=c.pop(),m=0,v=n[p],w=n[p+1],I=n[h],S=n[h+1];for(let R=p+i;R<h;R+=i){let V=n[R],z=n[R+1],q=m9(V,z,v,w,I,S);q>m&&(u=R,m=q)}m>r&&(l[(u-e)/i]=1,p+i<u&&c.push(p,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(o[s++]=n[e+h*i],o[s++]=n[e+h*i+1]);return s}function N9(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=Om(n,e,u,i,r,o,s),a.push(s),e=u}return s}function Gl(n,e){return e*Math.round(n/e)}function Cme(n,e,t,i,r,o,s){if(e==t)return s;let a=Gl(n[e],r),l=Gl(n[e+1],r);e+=i,o[s++]=a,o[s++]=l;let c,u;do if(c=Gl(n[e],r),u=Gl(n[e+1],r),e+=i,e==t)return o[s++]=c,o[s++]=u,s;while(c==a&&u==l);for(;e<t;){let h=Gl(n[e],r),p=Gl(n[e+1],r);if(e+=i,h==c&&p==u)continue;let m=c-a,v=u-l,w=h-a,I=p-l;if(m*I==v*w&&(m<0&&w<m||m==w||m>0&&w>m)&&(v<0&&I<v||v==I||v>0&&I>v)){c=h,u=p;continue}o[s++]=c,o[s++]=u,a=c,l=u,c=h,u=p}return o[s++]=c,o[s++]=u,s}function y1(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=Cme(n,e,u,i,r,o,s),a.push(s),e=u}return s}function Wl(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=e;s<t;s+=i)r[o++]=n.slice(s,s+i);return r.length=o,r}function Jh(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];r[o++]=Wl(n,e,l,i,r[o]),e=l}return r.length=o,r}function u2(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];r[o++]=l.length===1&&l[0]===e?[]:Jh(n,e,l,i,r[o]),e=l[l.length-1]}return r.length=o,r}function d2(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1],a=0,l=0;for(;e<t;e+=i){let c=n[e]-o,u=n[e+1]-s;r+=l*c-a*u,a=c,l=u}return r/2}function V9(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){let a=t[o];r+=d2(n,e,a,i),e=a}return r}var h2=class n extends Xh{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<l1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return d2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Wl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Om(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=c2(this.flatCoordinates,0,e,this.stride),this.changed()}},p2=h2;var f2=class n extends Xh{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let o=this.flatCoordinates,s=Sa(e,t,o[0],o[1]);if(s<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return c1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return qD(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=F9(this.flatCoordinates,0,e,this.stride),this.changed()}},ep=f2;function B9(n,e,t,i,r){return!u1(r,function(s){return!ql(n,e,t,i,s[0],s[1])})}function ql(n,e,t,i,r,o){let s=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){let c=n[e],u=n[e+1];l<=o?u>o&&(c-a)*(o-l)-(r-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(r-a)*(u-l)<0&&s--,a=c,l=u}return s!==0}function v1(n,e,t,i,r,o){if(t.length===0||!ql(n,e,t[0],i,r,o))return!1;for(let s=1,a=t.length;s<a;++s)if(ql(n,t[s-1],t[s],i,r,o))return!1;return!0}function Pm(n,e,t,i,r,o,s){let a,l,c,u,h,p,m,v=r[o+1],w=[];for(let R=0,V=t.length;R<V;++R){let z=t[R];for(u=n[z-i],p=n[z-i+1],a=e;a<z;a+=i)h=n[a],m=n[a+1],(v<=p&&m<=v||p<=v&&v<=m)&&(c=(v-p)/(m-p)*(h-u)+u,w.push(c)),u=h,p=m}let I=NaN,S=-1/0;for(w.sort(xr),u=w[0],a=1,l=w.length;a<l;++a){h=w[a];let R=Math.abs(h-u);R>S&&(c=(u+h)/2,v1(n,e,t,i,c,v)&&(I=c,S=R)),u=h}return isNaN(I)&&(I=r[o]),s?(s.push(I,v,S),s):[I,v,S]}function z9(n,e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;++s){let l=t[s];o=Pm(n,e,l,i,r,2*s,o),e=l[l.length-1]}return o}function U9(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function H9(n,e,t,i,r){let o=KD(Xn(),n,e,t,i);return kn(r,o)?Ca(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:U9(n,e,t,i,function(s,a){return a9(r,s,a)}):!1}function m2(n,e,t,i,r){return!!(H9(n,e,t,i,r)||ql(n,e,t,i,r[0],r[1])||ql(n,e,t,i,r[0],r[3])||ql(n,e,t,i,r[2],r[1])||ql(n,e,t,i,r[2],r[3]))}function j9(n,e,t,i,r){if(!m2(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(B9(n,t[o-1],t[o],i,r)&&!H9(n,t[o-1],t[o],i,r))return!1;return!0}function $9(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function g2(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){let a=n[e],l=n[e+1];r+=(a-o)*(l+s),o=a,s=l}return r===0?void 0:r>0}function G9(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=g2(n,e,a,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function _2(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=g2(n,e,a,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&$9(n,e,a,i),e=a}return e}function W9(n,e){let t=[],i=0,r=0,o;for(let s=0,a=e.length;s<a;++s){let l=e[s],c=g2(n,i,l,2);if(o===void 0&&(o=c),c===o)t.push(e.slice(r,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=s+1,i=l}return t}var b1=class n extends Xh{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Vh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<l1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(O9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),P9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return v1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return V9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),_2(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Jh(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=fo(this.getExtent());this.flatInteriorPoint_=Pm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ep(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new p2(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=new p2(t.slice(o,l),e);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;G9(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=_2(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=y1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return j9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=L9(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},q9=b1;function y2(n){if(Hl(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new b1(o,"XY",[o.length])}var $i={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var at={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Aa={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var vu={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};vu.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};vu.max=vu.whitepoint[2].D65;vu.rgb=function(n,e){e=e||vu.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],o,s,a;return o=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,s=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[o*255,s*255,a*255]};Aa.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=t*.41239079926595+i*.35758433938387+r*.18048078840183,s=t*.21263900587151+i*.71516867876775+r*.072192315360733,a=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||vu.whitepoint[2].E,[o*e[0],s*e[1],a*e[2]]};var Dr=vu;var w1={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,o,s,a,l,c,u,h,p,m,v,w;if(o=n[0],s=n[1],a=n[2],o===0)return[0,0,0];var I=.0011070564598794539;return e=e||"D65",t=t||2,h=Dr.whitepoint[t][e][0],p=Dr.whitepoint[t][e][1],m=Dr.whitepoint[t][e][2],v=4*h/(h+15*p+3*m),w=9*p/(h+15*p+3*m),i=s/(13*o)+v||0,r=a/(13*o)+w||0,c=o>8?p*Math.pow((o+16)/116,3):p*o*I,l=c*9*i/(4*r)||0,u=c*(12-3*i-20*r)/(4*r)||0,[l,c,u]}};Dr.luv=function(n,e,t){var i,r,o,s,a,l,c,u,h,p,m,v,w,I=.008856451679035631,S=903.2962962962961;e=e||"D65",t=t||2,h=Dr.whitepoint[t][e][0],p=Dr.whitepoint[t][e][1],m=Dr.whitepoint[t][e][2],v=4*h/(h+15*p+3*m),w=9*p/(h+15*p+3*m),l=n[0],c=n[1],u=n[2],i=4*l/(l+15*c+3*u)||0,r=9*c/(l+15*c+3*u)||0;var R=c/p;return o=R<=I?S*R:116*Math.pow(R,1/3)-16,s=13*o*(i-v),a=13*o*(r-w),[o,s,a]};var K9={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,o,s;return s=i/360*2*Math.PI,r=t*Math.cos(s),o=t*Math.sin(s),[e,r,o]},xyz:function(n){return w1.xyz(K9.luv(n))}},Y9=K9;w1.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),o=Math.atan2(i,t),s=o*360/2/Math.PI;return s<0&&(s+=360),[e,r,s]};Dr.lchuv=function(n){return w1.lchuv(Dr.luv(n))};var v2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Z9=Eme,Q9={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Eme(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),v2[n])t=v2[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var o=n.slice(1),s=o.length,a=s<=4;i=1,a?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],s===4&&(i=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],s===8&&(i=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,h){if(u[u.length-1]==="%")return u=parseFloat(u)/100,h===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!h?u*100:r==="lab"?u*125:r==="lch"?h<2?u*150:u*360:r[0]==="o"&&!h?u:r==="oklab"?u*.4:r==="oklch"?h<2?u*.4:u*360:u;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(Q9[u]!==void 0)return Q9[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}var I1={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,o,s,a,l,c=0;if(t===0)return l=i*255,[l,l,l];for(o=i<.5?i*(1+t):i+t-i*t,r=2*i-o,a=[0,0,0];c<3;)s=e+1/3*-(c-1),s<0?s++:s>1&&s--,l=6*s<1?r+(o-r)*6*s:2*s<1?o:3*s<2?r+(o-r)*(2/3-s)*6:r,a[c++]=l*255;return a}};Aa.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=o-r,a,l,c;return o===r?a=0:e===o?a=(t-i)/s:t===o?a=2+(i-e)/s:i===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+o)/2,o===r?l=0:c<=.5?l=s/(o+r):l=s/(2-o-r),[a,l*100,c*100]};function b2(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t,i,r=Z9(n);if(!r.space)return[];let o=r.space[0]==="h"?I1.min:Aa.min,s=r.space[0]==="h"?I1.max:Aa.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],o[0]),s[0]),e[1]=Math.min(Math.max(r.values[1],o[1]),s[1]),e[2]=Math.min(Math.max(r.values[2],o[2]),s[2]),r.space[0]==="h"&&(e=I1.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function X9(n){return typeof n=="string"?n:Nm(n)}var Tme=1024,Fm={},w2=0;function J9(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function I2(n){let e=Dr.lchuv(Aa.xyz(n));return e[3]=n[3],e}function e7(n){let e=Dr.rgb(Y9.xyz(n));return e[3]=n[3],e}function Lm(n){if(Fm.hasOwnProperty(n))return Fm[n];if(w2>=Tme){let t=0;for(let i in Fm)t++&3||(delete Fm[i],--w2)}let e=b2(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(let t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return C2(e),Fm[n]=e,++w2,e}function Ma(n){return Array.isArray(n)?n:Lm(n)}function C2(n){return n[0]=en(n[0]+.5|0,0,255),n[1]=en(n[1]+.5|0,0,255),n[2]=en(n[2]+.5|0,0,255),n[3]=en(n[3],0,1),n}function Nm(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}var Kl=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",t7=Kl.includes("firefox"),xme=Kl.includes("safari")&&!Kl.includes("chrom"),L5e=xme&&(Kl.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Kl)),n7=Kl.includes("webkit")&&!Kl.includes("edge"),E2=Kl.includes("macintosh"),C1=typeof devicePixelRatio<"u"?devicePixelRatio:1,E1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,T2=typeof Image<"u"&&Image.prototype.decode;var T1=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function tn(n,e,t,i){let r;return t&&t.length?r=t.shift():E1?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var x2;function tp(){return x2||(x2=tn(1,1)),x2}function Es(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function S2(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function i7(n){for(;n.lastChild;)n.lastChild.remove()}function r7(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}}function o7(n,e,t){let i=n,r=!0,o=!1,s=!1,a=[Bh(i,Re.LOAD,function(){s=!0,o||e()})];return i.src&&T2?(o=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(s?e():t())})):a.push(Bh(i,Re.ERROR,t)),function(){r=!1,a.forEach(Lt)}}function Sme(n,e){return new Promise((t,i)=>{function r(){s(),t(n)}function o(){s(),i(new Error("Image load error"))}function s(){n.removeEventListener("load",r),n.removeEventListener("error",o)}n.addEventListener("load",r),n.addEventListener("error",o),e&&(n.src=e)})}function s7(n,e){return e&&(n.src=e),n.src&&T2?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):Sme(n)}var A2=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=D2(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=D2(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){let s=D2(e,t,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===at.IDLE&&r.load(),r.getImageState()===at.LOADING?r.ready().then(()=>{this.patternCache_[s]=tp().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=tp().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function D2(n,e,t){let i=t?Ma(t):"null";return e+":"+n+":"+i}var Zr=new A2;var Vm=null,M2=class extends zl{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?at.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===at.LOADED){Vm||(Vm=tn(1,1,void 0,{willReadFrequently:!0})),Vm.drawImage(this.image_,0,0);try{Vm.getImageData(0,0,1,1),this.tainted_=!1}catch{Vm=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Re.CHANGE)}handleImageError_(){this.imageState_=at.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=at.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=tn(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===at.IDLE){this.image_||this.initializeImage_(),this.imageState_=at.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&s7(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==at.LOADED)return;let t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);let r=i.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=X9(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===at.LOADED||this.imageState_===at.ERROR)e();else{let t=()=>{(this.imageState_===at.LOADED||this.imageState_===at.ERROR)&&(this.removeEventListener(Re.CHANGE,t),e())};this.addEventListener(Re.CHANGE,t)}})),this.ready_}};function np(n,e,t,i,r,o){let s=e===void 0?void 0:Zr.get(e,t,r);return s||(s=new M2(n,n&&"src"in n?n.src||void 0:e,t,i,r),Zr.set(e,t,r,s,o)),o&&s&&!Zr.getPattern(e,t,r)&&Zr.set(e,t,r,s,o),s}var R2=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=np(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===at.IDLE&&t.load(),t.getImageState()===at.LOADING&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},ip=R2;function k2(n,e,t,i,r,o,s){let a,l,c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=n[e],h=n[e+1],p=0,m=[0];for(let I=e+i;I<t;I+=i){let S=n[I],R=n[I+1];p+=Math.sqrt((S-u)*(S-u)+(R-h)*(R-h)),m.push(p),u=S,h=R}let v=r*p,w=Q6(m,v);w<0?(l=(v-m[-w-2])/(m[-w-1]-m[-w-2]),a=e+(-w-2)*i):a=e+w*i}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=a===void 0?NaN:l===void 0?n[a+u]:ir(n[a+u],n[a+i+u],l);return o}function a7(n,e,t,i){let r=n[e],o=n[e+1],s=0;for(let a=e+i;a<t;a+=i){let l=n[a],c=n[a+1];s+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return s}var O2=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},x1=O2;function P2(n){return n[0]>0&&n[1]>0}function l7(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function jn(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var F2=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=jn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Rt()}getImage(e){return Rt()}getHitDetectionImage(){return Rt()}getPixelRatio(e){return 1}getImageState(){return Rt()}getImageSize(){return Rt()}getOrigin(){return Rt()}getSize(){return Rt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=jn(e)}listenImageChange(e){Rt()}load(){Rt()}unlistenImageChange(e){Rt()}ready(){return Promise.resolve()}},S1=F2;function Ar(n){return n?Array.isArray(n)?Nm(n):typeof n=="object"&&"src"in n?Dme(n):n:null}function Dme(n){if(!n.offset||!n.size)return Zr.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=Zr.getPattern(e,void 0,n.color);if(t)return t;let i=Zr.get(n.src,"anonymous",null);if(i.getImageState()!==at.LOADED)return null;let r=tn(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),np(r.canvas,e,void 0,at.LOADED,n.color,!0),Zr.getPattern(e,void 0,n.color)}var Bm="ol-hidden";var Yl="ol-unselectable";var rp="ol-control",L2="ol-collapsed",Ame=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),c7=["style","variant","weight","size","lineHeight","family"],N2=function(n){let e=n.match(Ame);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=c7.length;i<r;++i){let o=e[i+1];o!==void 0&&(t[c7[i]]=o)}return t.families=t.family.split(/,\s?/),t};var A1="10px sans-serif",vi="#000",xs="round",Mr=[],Rr=0,Ss="round",Ra=10,ka="#000",Ql="center",bu="middle",Oa=[0,0,0,0],Pa=1,Ts=new ui,op=null,V2,B2={},u7=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function a(c,u,h){let p=!0;for(let m=0;m<i;++m){let v=t[m];if(s=D1(c+" "+u+" "+e+v,r),h!=v){let w=D1(c+" "+u+" "+e+h+","+v,r);p=p&&w!=s}}return!!p}function l(){let c=!0,u=Ts.getKeys();for(let h=0,p=u.length;h<p;++h){let m=u[h];if(Ts.get(m)<100){let[v,w,I]=m.split(`
`);a(v,w,I)?(Cs(B2),op=null,V2=void 0,Ts.set(m,100)):(Ts.set(m,Ts.get(m)+1,!0),c=!1)}}c&&(clearInterval(o),o=void 0)}return function(c){let u=N2(c);if(!u)return;let h=u.families;for(let p=0,m=h.length;p<m;++p){let v=h[p],w=u.style+`
`+u.weight+`
`+v;Ts.get(w)===void 0&&(Ts.set(w,100,!0),a(u.style,u.weight,v)||(Ts.set(w,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),Mme=function(){let n;return function(e){let t=B2[e];if(t==null){if(E1){let i=N2(e),r=d7(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);B2[e]=t}return t}}();function d7(n,e){return op||(op=tn(1,1)),n!=V2&&(op.font=n,V2=op.font),op.measureText(e)}function D1(n,e){return d7(n,e).width}function z2(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,o)=>Math.max(r,D1(n,o)),0);return t[e]=i,i}function h7(n,e){let t=[],i=[],r=[],o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let h=e[c];if(h===`
`||c===u){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}let p=e[c+1]||n.font,m=D1(p,h);t.push(m),s+=m;let v=Mme(p);i.push(v),l=Math.max(l,v)}return{width:o,height:a,widths:t,heights:i,lineWidths:r}}function p7(n,e,t,i,r,o,s,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=h=>h.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),Rme(i,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(i,r,o,s,a,0,0,s,a)):n.drawImage(i,r,o,s,a,l,c,s*u[0],a*u[1]),n.restore()}function Rme(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var U2=class n extends S1{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?at.LOADING:at.LOADED,this.imageState_===at.LOADING&&this.ready().then(()=>this.imageState_=at.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){let i=this.renderOptions_,r=tn(i.size*e,i.size*e);this.draw_(i,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let Y=r;r=o,o=Y}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),u=r-c,h=Math.sqrt(l*l+u*u),p=h/l;if(e==="miter"&&p<=i)return p*t;let m=t/2/p,v=t/2*(u/h),I=Math.sqrt((r+m)*(r+m)+v*v)-r;if(this.radius2_===void 0||e==="bevel")return I*2;let S=r*Math.sin(a),R=Math.sqrt(r*r-S*S),V=o-R,q=Math.sqrt(S*S+V*V)/S;if(q<=i){let Y=q*t/2-o-r;return 2*Math.max(I,Y)}return I*2}createRenderOptions(){let e=xs,t=Ss,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=Ar(this.stroke_.getColor()??ka),a=this.stroke_.getWidth()??Pa,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Ss,e=this.stroke_.getLineCap()??xs,i=this.stroke_.getMiterLimit()??Ra);let l=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=vi),t.fillStyle=Ar(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Ma(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=tn(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){let l=o+a*s,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=vi,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},M1=U2;var H2=class n extends M1{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},R1=H2;var k1=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=f7,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=f7,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function m7(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(it(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var j2=null;function $2(n,e){if(!j2){let t=new ip({color:"rgba(255,255,255,0.4)"}),i=new x1({color:"#3399CC",width:1.25});j2=[new k1({image:new R1({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return j2}function f7(n){return n.getGeometry()}var Zl=k1;var kme="#333",G2=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=jn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ip({color:kme}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=jn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},g7=G2;var an={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var W2=class extends ui{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[an.OPACITY]=e.opacity!==void 0?e.opacity:1,it(typeof t[an.OPACITY]=="number","Layer opacity must be a number"),t[an.VISIBLE]=e.visible!==void 0?e.visible:!0,t[an.Z_INDEX]=e.zIndex,t[an.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[an.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[an.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[an.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=en(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Rt()}getLayerStatesArray(e){return Rt()}getExtent(){return this.get(an.EXTENT)}getMaxResolution(){return this.get(an.MAX_RESOLUTION)}getMinResolution(){return this.get(an.MIN_RESOLUTION)}getMinZoom(){return this.get(an.MIN_ZOOM)}getMaxZoom(){return this.get(an.MAX_ZOOM)}getOpacity(){return this.get(an.OPACITY)}getSourceState(){return Rt()}getVisible(){return this.get(an.VISIBLE)}getZIndex(){return this.get(an.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(an.EXTENT,e)}setMaxResolution(e){this.set(an.MAX_RESOLUTION,e)}setMinResolution(e){this.set(an.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(an.MAX_ZOOM,e)}setMinZoom(e){this.set(an.MIN_ZOOM,e)}setOpacity(e){it(typeof e=="number","Layer opacity must be a number"),this.set(an.OPACITY,e)}setVisible(e){this.set(an.VISIBLE,e)}setZIndex(e){this.set(an.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},O1=W2;var bi={ANIMATING:0,INTERACTING:1};var _o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function q2(n,e,t){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;let l=e?0:o[0]*r,c=e?0:o[1]*r,u=a?a[0]:0,h=a?a[1]:0,p=n[0]+l/2+u,m=n[2]-l/2+u,v=n[1]+c/2+h,w=n[3]-c/2+h;p>m&&(p=(m+p)/2,m=p),v>w&&(v=(w+v)/2,w=v);let I=en(i[0],p,m),S=en(i[1],v,w);if(s&&t&&r){let R=30*r;I+=-R*Math.log(1+Math.max(0,p-i[0])/R)+R*Math.log(1+Math.max(0,i[0]-m)/R),S+=-R*Math.log(1+Math.max(0,v-i[1])/R)+R*Math.log(1+Math.max(0,i[1]-w)/R)}return[I,S]}}function _7(n){return n}function K2(n,e,t,i){let r=It(e)/t[0],o=Sn(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function Y2(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),en(i,t/2,e*2)}function y7(n,e,t,i){return e=e!==void 0?e:!0,function(r,o,s,a){if(r!==void 0){let l=n[0],c=n[n.length-1],u=t?K2(l,t,s,i):l;if(a)return e?Y2(r,u,c):en(r,c,u);let h=Math.min(u,r),p=Math.floor(Nh(n,h,o));return n[p]>u&&p<n.length-1?n[p+1]:n[p]}}}function v7(n,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(s,a,l,c){if(s!==void 0){let u=r?K2(e,r,l,o):e;if(c)return i?Y2(s,u,t):en(s,t,u);let h=1e-9,p=Math.ceil(Math.log(e/u)/Math.log(n)-h),m=-a*(.5-h)+.5,v=Math.min(u,s),w=Math.floor(Math.log(e/v)/Math.log(n)+m),I=Math.max(p,w),S=e/Math.pow(n,I);return en(S,t,u)}}}function Q2(n,e,t,i,r){return t=t!==void 0?t:!0,function(o,s,a,l){if(o!==void 0){let c=i?K2(n,i,a,r):n;return!t||!l?en(o,e,c):Y2(o,c,e)}}}function sp(n){if(n!==void 0)return 0}function Z2(n){if(n!==void 0)return n}function b7(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function w7(n){let e=n===void 0?Qh(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}function X2(n){return Math.pow(n,3)}function yo(n){return 1-X2(1-n)}function I7(n){return 3*n*n-2*n*n*n}function C7(n){return n}var J2=0,tA=class extends ui{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=g1(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&n2(),e.center&&(e.center=jo(e.center,this.projection_)),e.extent&&(e.extent=go(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in _o)delete t[a];this.setProperties(t,!0);let i=Pme(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=Ome(e),o=i.constraint,s=Fme(e);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-t[3]+t[1]-r[1]),a=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=jo(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=jo(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){i&&P1(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<t;++r){let u=arguments[r],h={start:o,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||I7,callback:i};if(u.center&&(h.sourceCenter=s,h.targetCenter=u.center.slice(),s=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;let p=Da(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+p,l=h.targetRotation}Lme(h)?h.complete=!0:o+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(bi.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[bi.ANIMATING]>0}getInteracting(){return this.hints_[bi.INTERACTING]>0}cancelAnimations(){this.setHint(bi.ANIMATING,-this.hints_[bi.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&P1(r[0].callback,!1),!e)for(let o=0,s=r.length;o<s;++o){let a=r[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,a=r.length;s<a;++s){let l=r[s];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;let h=l.easing(u);if(l.sourceCenter){let p=l.sourceCenter[0],m=l.sourceCenter[1],v=l.targetCenter[0],w=l.targetCenter[1];this.nextCenter_=l.targetCenter;let I=p+h*(v-p),S=m+h*(w-m);this.targetCenter_=[I,S]}if(l.sourceResolution&&l.targetResolution){let p=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){let m=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,m,!0);this.targetCenter_=this.calculateCenterZoom(v,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let p=h===1?Da(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){let m=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(m,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(bi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&P1(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Zh(i,e-this.getRotation()),_9(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=t[0]-e*(t[0]-r[0])/o,a=t[1]-e*(t[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&km(e,this.getProjection())}getCenterInternal(){return this.get(_o.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return $l(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();it(t,"The view center is not defined");let i=this.getResolution();it(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return it(r!==void 0,"The view rotation is not defined"),xm(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(_o.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(go(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=It(e)/t[0],r=Sn(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(_o.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=eA(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let o=Nh(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let t=en(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,en(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(it(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){it(!Hl(e),"Cannot fit empty extent provided as `geometry`");let r=go(e,this.getProjection());i=y2(r)}else if(e.getType()==="Circle"){let r=go(e.getExtent(),this.getProjection());i=y2(r),i.rotate(this.getRotation(),fo(r))}else{let r=yu();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,p=o.length;h<p;h+=s){let m=o[h]*i-o[h+1]*r,v=o[h]*r+o[h+1]*i;a=Math.min(a,m),l=Math.min(l,v),c=Math.max(c,m),u=Math.max(u,v)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1,s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),p=fo(a);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;let m=p[0]*h-p[1]*u,v=p[1]*h+p[0]*u,w=this.getConstrainedCenter([m,v],l),I=t.callback?t.callback:Bo;t.duration!==void 0?this.animateInternal({resolution:l,center:w,duration:t.duration,easing:t.easing},I):(this.targetResolution_=l,this.targetCenter_=w,this.applyTargetState_(!1,!0),P1(I,!0))}centerOn(e,t,i){this.centerOnInternal(jo(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(eA(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o,s=this.padding_;if(s&&e){let a=this.getViewportSizeMinusPadding_(-i),l=eA(e,r,[a[0]/2+s[3],a[1]/2+s[0]],t,i);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=km(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&jo(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=jo(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&jo(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(_o.ROTATION)!==r&&this.set(_o.ROTATION,r),this.get(_o.RESOLUTION)!==s&&(this.set(_o.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(_o.CENTER)||!fu(this.get(_o.CENTER),a))&&this.set(_o.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!fu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:yo,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(bi.INTERACTING,1)}endInteraction(e,t,i){i=i&&jo(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(bi.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function P1(n,e){setTimeout(function(){n(e)},0)}function Ome(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return q2(n.extent,n.constrainOnlyCenter,t)}let e=g1(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,q2(t,!1,!1)}return _7}function Pme(n){let e,t,i,s=n.minZoom!==void 0?n.minZoom:J2,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,h=n.showFullExtent!==void 0?n.showFullExtent:!1,p=g1(n.projection,"EPSG:3857"),m=p.getExtent(),v=n.constrainOnlyCenter,w=n.extent;if(!c&&!w&&p.isGlobal()&&(v=!1,w=m),n.resolutions!==void 0){let I=n.resolutions;t=I[s],i=I[a]!==void 0?I[a]:I[I.length-1],n.constrainResolution?e=y7(I,u,!v&&w,h):e=Q2(t,i,u,!v&&w,h)}else{let S=(m?Math.max(It(m),Sn(m)):360*Ta.degrees/p.getMetersPerUnit())/256/Math.pow(2,J2),R=S/Math.pow(2,28-J2);t=n.maxResolution,t!==void 0?s=0:t=S/Math.pow(l,s),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,a):i=S/Math.pow(l,a):i=R),a=s+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-s),n.constrainResolution?e=v7(l,t,i,u,!v&&w,h):e=Q2(t,i,u,!v&&w,h)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:l}}function Fme(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?w7():t===!1?Z2:typeof t=="number"?b7(t):Z2}return sp}function Lme(n){return!(n.sourceCenter&&n.targetCenter&&!fu(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function eA(n,e,t,i,r){let o=Math.cos(-r),s=Math.sin(-r),a=n[0]*o-n[1]*s,l=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,s=-s;let c=a*o-l*s,u=l*o+a*s;return[c,u]}var kr=tA;var nA=class extends O1{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(an.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(an.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Lt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=yt(e,Re.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof kr?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(s=>s.layer===this):r=this.getLayerState();let o=this.getExtent();return zm(r,t.viewState)&&(!o||kn(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof kr?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(an.MAP,e)}getMapInternal(){return this.get(an.MAP)}setMap(e){this.mapPrecomposeKey_&&(Lt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Lt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=yt(e,$i.PRECOMPOSE,t=>{let r=t.frameState.layerStatesArray,o=this.getLayerState(!1);it(!r.some(function(s){return s.layer===o.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(o)}),this.mapRenderKey_=yt(this,Re.CHANGE,e.render,e),this.changed())}setSource(e){this.set(an.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function zm(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var wu=nA;function iA(n,e,t,i,r){T7(n,e,t||0,i||n.length-1,r||Nme)}function T7(n,e,t,i,r){for(;i>t;){if(i-t>600){var o=i-t+1,s=e-t+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1),u=Math.max(t,Math.floor(e-s*l/o+c)),h=Math.min(i,Math.floor(e+(o-s)*l/o+c));T7(n,e,u,h,r)}var p=n[e],m=t,v=i;for(Um(n,t,e),r(n[i],p)>0&&Um(n,t,i);m<v;){for(Um(n,m,v),m++,v--;r(n[m],p)<0;)m++;for(;r(n[v],p)>0;)v--}r(n[t],p)===0?Um(n,t,v):(v++,Um(n,v,i)),v<=e&&(t=v+1),e<=v&&(i=v-1)}}function Um(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function Nme(n,e){return n<e?-1:n>e?1:0}var cp=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!L1(e,t))return i;let r=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){let a=t.children[s],l=t.leaf?r(a):a;L1(e,l)&&(t.leaf?i.push(a):oA(e,l)?this._all(a,i):o.push(a))}t=o.pop()}return i}collides(e){let t=this.data;if(!L1(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let o=t.children[r],s=t.leaf?this.toBBox(o):o;if(L1(e,s)){if(t.leaf||oA(e,s))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=lp([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),o=[],s=[],a,l,c;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),i.leaf){let u=Vme(e,i.children,t);if(u!==-1)return i.children.splice(u,1),o.push(i),this._condense(o),this}!c&&!i.leaf&&oA(i,r)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let o=i-t+1,s=this._maxEntries,a;if(o<=s)return a=lp(e.slice(t,i+1)),ap(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=lp([]),a.leaf=!1,a.height=r;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));x7(e,t,i,c,this.compareMinX);for(let u=t;u<=i;u+=c){let h=Math.min(u+c-1,i);x7(e,u,h,l,this.compareMinY);for(let p=u;p<=h;p+=l){let m=Math.min(p+l-1,h);a.children.push(this._build(e,p,m,r-1))}}return ap(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=rA(c),h=Ume(e,c)-u;h<s?(s=h,o=u<o?u:o,a=c):h===s&&u<o&&(o=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),o=[],s=this._chooseSubtree(r,this.data,t,o);for(s.children.push(e),jm(s,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){let i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),a=lp(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,ap(i,this.toBBox),ap(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=lp([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ap(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,s=1/0;for(let a=t;a<=i-t;a++){let l=Hm(e,0,a,this.toBBox),c=Hm(e,a,i,this.toBBox),u=Hme(l,c),h=rA(l)+rA(c);u<o?(o=u,r=a,s=h<s?h:s):u===o&&h<s&&(s=h,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:Bme,o=e.leaf?this.compareMinY:zme,s=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,o);s<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let o=this.toBBox,s=Hm(e,0,t,o),a=Hm(e,i-t,i,o),l=F1(s)+F1(a);for(let c=t;c<i-t;c++){let u=e.children[c];jm(s,e.leaf?o(u):u),l+=F1(s)}for(let c=i-t-1;c>=t;c--){let u=e.children[c];jm(a,e.leaf?o(u):u),l+=F1(a)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)jm(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():ap(e[t],this.toBBox)}};function Vme(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function ap(n,e){Hm(n,0,n.children.length,e,n)}function Hm(n,e,t,i,r){r||(r=lp(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){let s=n.children[o];jm(r,n.leaf?i(s):s)}return r}function jm(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function Bme(n,e){return n.minX-e.minX}function zme(n,e){return n.minY-e.minY}function rA(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function F1(n){return n.maxX-n.minX+(n.maxY-n.minY)}function Ume(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function Hme(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function oA(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function L1(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function lp(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x7(n,e,t,i,r){let o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;let s=e+Math.ceil((t-e)/i/2)*i;iA(n,s,e,t,r),o.push(e,s,s,t)}}function S7(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var sA=class n extends S1{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let s=e.img!==void 0?e.img:null,a=e.src;it(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||xt(s)),it(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),it(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=at.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?at.LOADED:at.IDLE:l=at.LOADING:l=at.LOADED),this.color_=e.color!==void 0?Ma(e.color):null,this.iconImage_=np(s,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;let p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;let m=this.iconImage_.getSize();this.setScale(S7(m[0],m[1],e.width,e.height))};this.listenImageChange(p);return}}c!==void 0&&this.setScale(S7(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==at.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==at.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Re.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Re.CHANGE,e)}ready(){return this.iconImage_.ready()}},Iu=sA;var Cu=0;var rr=1<<Cu++,jt=1<<Cu++,_r=1<<Cu++,Xr=1<<Cu++,Jl=1<<Cu++,Gm=1<<Cu++,N1=Math.pow(2,Cu)-1,lA={[rr]:"boolean",[jt]:"number",[_r]:"string",[Xr]:"color",[Jl]:"number[]",[Gm]:"size"},jme=Object.keys(lA).map(Number).sort(xr);function $me(n){return n in lA}function Wm(n){let e=[];for(let t of jme)qm(n,t)&&e.push(lA[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function qm(n,e){return(n&e)===e}function Xl(n,e){return n===e}var $n=class{constructor(e,t){if(!$me(e))throw new Error(`literal expressions must have a specific type, got ${Wm(e)}`);this.type=e,this.value=t}},aA=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function cA(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Pi(n,e,t){switch(typeof n){case"boolean":{if(Xl(e,_r))return new $n(_r,n?"true":"false");if(!qm(e,rr))throw new Error(`got a boolean, but expected ${Wm(e)}`);return new $n(rr,n)}case"number":{if(Xl(e,Gm))return new $n(Gm,jn(n));if(Xl(e,rr))return new $n(rr,!!n);if(Xl(e,_r))return new $n(_r,n.toString());if(!qm(e,jt))throw new Error(`got a number, but expected ${Wm(e)}`);return new $n(jt,n)}case"string":{if(Xl(e,Xr))return new $n(Xr,Lm(n));if(Xl(e,rr))return new $n(rr,!!n);if(!qm(e,_r))throw new Error(`got a string, but expected ${Wm(e)}`);return new $n(_r,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return nge(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Xl(e,Gm)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new $n(Gm,n)}if(Xl(e,Xr)){if(n.length===3)return new $n(Xr,[...n,1]);if(n.length===4)return new $n(Xr,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!qm(e,Jl))throw new Error(`got an array of numbers, but expected ${Wm(e)}`);return new $n(Jl,n)}var se={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},Gme={[se.Get]:dt(kt(1,1/0),Wme),[se.Var]:dt(kt(1,1),qme),[se.Id]:dt(Kme,$m),[se.Concat]:dt(kt(2,1/0),ln(_r)),[se.GeometryType]:dt(Yme,$m),[se.Resolution]:dt($m),[se.Zoom]:dt($m),[se.Time]:dt($m),[se.Any]:dt(kt(2,1/0),ln(rr)),[se.All]:dt(kt(2,1/0),ln(rr)),[se.Not]:dt(kt(1,1),ln(rr)),[se.Equal]:dt(kt(2,2),ln(N1)),[se.NotEqual]:dt(kt(2,2),ln(N1)),[se.GreaterThan]:dt(kt(2,2),ln(jt)),[se.GreaterThanOrEqualTo]:dt(kt(2,2),ln(jt)),[se.LessThan]:dt(kt(2,2),ln(jt)),[se.LessThanOrEqualTo]:dt(kt(2,2),ln(jt)),[se.Multiply]:dt(kt(2,1/0),D7),[se.Coalesce]:dt(kt(2,1/0),D7),[se.Divide]:dt(kt(2,2),ln(jt)),[se.Add]:dt(kt(2,1/0),ln(jt)),[se.Subtract]:dt(kt(2,2),ln(jt)),[se.Clamp]:dt(kt(3,3),ln(jt)),[se.Mod]:dt(kt(2,2),ln(jt)),[se.Pow]:dt(kt(2,2),ln(jt)),[se.Abs]:dt(kt(1,1),ln(jt)),[se.Floor]:dt(kt(1,1),ln(jt)),[se.Ceil]:dt(kt(1,1),ln(jt)),[se.Round]:dt(kt(1,1),ln(jt)),[se.Sin]:dt(kt(1,1),ln(jt)),[se.Cos]:dt(kt(1,1),ln(jt)),[se.Atan]:dt(kt(1,2),ln(jt)),[se.Sqrt]:dt(kt(1,1),ln(jt)),[se.Match]:dt(kt(4,1/0),A7,Zme),[se.Between]:dt(kt(3,3),ln(jt)),[se.Interpolate]:dt(kt(6,1/0),A7,Xme),[se.Case]:dt(kt(3,1/0),Qme,Jme),[se.In]:dt(kt(2,2),ege),[se.Number]:dt(kt(1,1/0),ln(N1)),[se.String]:dt(kt(1,1/0),ln(N1)),[se.Array]:dt(kt(1,1/0),ln(jt)),[se.Color]:dt(kt(1,4),ln(jt)),[se.Band]:dt(kt(1,3),ln(jt)),[se.Palette]:dt(kt(2,2),tge),[se.ToString]:dt(kt(1,1),ln(rr|jt|_r|Xr))};function Wme(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=n[o+1];switch(typeof s){case"number":{r[o]=new $n(jt,s);break}case"string":{r[o]=new $n(_r,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&t.properties.add(String(s))}return r}function qme(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new $n(_r,i)]}function Kme(n,e,t){t.featureId=!0}function Yme(n,e,t){t.geometryType=!0}function $m(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function kt(n,e){return function(t,i,r){let o=t[0],s=t.length-1;if(n===e){if(s!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${o}, got ${s}`)}}else if(s<n||s>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function D7(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=Pi(n[o+1],e,t);r[o]=s}return r}function ln(n){return function(e,t,i){let r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){let a=Pi(e[s+1],n,i);o[s]=a}return o}}function Qme(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function A7(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Zme(n,e,t){let i=n.length-1,r=_r|jt|rr,o=Pi(n[1],r,t),s=Pi(n[n.length-1],e,t),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Pi(n[l+2],o.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Pi(n[l+3],s.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function Xme(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new $n(jt,r),s;try{s=Pi(n[2],jt,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Pi(n[l+3],jt,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Pi(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function Jme(n,e,t){let i=Pi(n[n.length-1],e,t),r=new Array(n.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=Pi(n[o+1],rr,t);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=Pi(n[o+2],i.type,t);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function ege(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=_r}else r=jt;let o=new Array(i.length);for(let a=0;a<o.length;a++)try{let l=Pi(i[a],r,t);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Pi(n[1],r,t),...o]}function tge(n,e,t){let i;try{i=Pi(n[1],jt,t)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=Pi(r[s],Xr,t)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof $n))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function dt(...n){return function(e,t,i){let r=e[0],o;for(let s=0;s<n.length;s++){let a=n[s](e,t,i);if(s==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new aA(t,r,...o)}}function nge(n,e,t){let i=n[0],r=Gme[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function uA(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return uA(n.getGeometries()[0]);default:return""}}function dA(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ds(n,e,t){let i=Pi(n,e,t);return $o(i,t)}function $o(n,e){if(n instanceof $n){if(n.type===Xr&&typeof n.value=="string"){let i=Lm(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case se.Number:case se.String:case se.Coalesce:return ige(n,e);case se.Get:case se.Var:return rge(n,e);case se.Id:return i=>i.featureId;case se.GeometryType:return i=>i.geometryType;case se.Concat:{let i=n.args.map(r=>$o(r,e));return r=>"".concat(...i.map(o=>o(r).toString()))}case se.Resolution:return i=>i.resolution;case se.Any:case se.All:case se.Between:case se.In:case se.Not:return sge(n,e);case se.Equal:case se.NotEqual:case se.LessThan:case se.LessThanOrEqualTo:case se.GreaterThan:case se.GreaterThanOrEqualTo:return oge(n,e);case se.Multiply:case se.Divide:case se.Add:case se.Subtract:case se.Clamp:case se.Mod:case se.Pow:case se.Abs:case se.Floor:case se.Ceil:case se.Round:case se.Sin:case se.Cos:case se.Atan:case se.Sqrt:return age(n,e);case se.Case:return lge(n,e);case se.Match:return cge(n,e);case se.Interpolate:return uge(n,e);case se.ToString:return dge(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function ige(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$o(n.args[o],e);switch(t){case se.Coalesce:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case se.Number:case se.String:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function rge(n,e){let i=n.args[0].value;switch(n.operator){case se.Get:return r=>{let o=n.args,s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;s=s[u]}return s};case se.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function oge(n,e){let t=n.operator,i=$o(n.args[0],e),r=$o(n.args[1],e);switch(t){case se.Equal:return o=>i(o)===r(o);case se.NotEqual:return o=>i(o)!==r(o);case se.LessThan:return o=>i(o)<r(o);case se.LessThanOrEqualTo:return o=>i(o)<=r(o);case se.GreaterThan:return o=>i(o)>r(o);case se.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function sge(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$o(n.args[o],e);switch(t){case se.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case se.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case se.Between:return o=>{let s=r[0](o),a=r[1](o),l=r[2](o);return s>=a&&s<=l};case se.In:return o=>{let s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case se.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function age(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$o(n.args[o],e);switch(t){case se.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case se.Divide:return o=>r[0](o)/r[1](o);case se.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case se.Subtract:return o=>r[0](o)-r[1](o);case se.Clamp:return o=>{let s=r[0](o),a=r[1](o);if(s<a)return a;let l=r[2](o);return s>l?l:s};case se.Mod:return o=>r[0](o)%r[1](o);case se.Pow:return o=>Math.pow(r[0](o),r[1](o));case se.Abs:return o=>Math.abs(r[0](o));case se.Floor:return o=>Math.floor(r[0](o));case se.Ceil:return o=>Math.ceil(r[0](o));case se.Round:return o=>Math.round(r[0](o));case se.Sin:return o=>Math.sin(r[0](o));case se.Cos:return o=>Math.cos(r[0](o));case se.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case se.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function lge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$o(n.args[r],e);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function cge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$o(n.args[r],e);return r=>{let o=i[0](r);for(let s=1;s<t;s+=2)if(o===i[s](r))return i[s+1](r);return i[t-1](r)}}function uge(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=$o(n.args[r],e);return r=>{let o=i[0](r),s=i[1](r),a,l;for(let c=2;c<t;c+=2){let u=i[c](r),h=i[c+1](r),p=Array.isArray(h);if(p&&(h=J9(h)),u>=s)return c===2?h:p?hge(o,s,a,l,u,h):Km(o,s,a,l,u,h);a=u,l=h}return l}}function dge(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$o(n.args[o],e);switch(t){case se.ToString:return o=>{let s=r[0](o);return n.args[0].type===Xr?Nm(s):s.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Km(n,e,t,i,r,o){let s=r-t;if(s===0)return i;let a=e-t,l=n===1?a/s:(Math.pow(n,a)-1)/(Math.pow(n,s)-1);return i+l*(o-i)}function hge(n,e,t,i,r,o){if(r-t===0)return i;let a=I2(i),l=I2(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[Km(n,e,t,a[0],r,l[0]),Km(n,e,t,a[1],r,l[1]),a[2]+Km(n,e,t,0,r,c),Km(n,e,t,i[3],r,o[3])];return C2(e7(u))}function pge(n){return!0}function O7(n){let e=cA(),t=fge(n,e),i=dA();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return e.geometryType&&(i.geometryType=uA(r.getGeometry())),t(i)}}function fA(n){let e=cA(),t=n.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=hA(n[s],e);let r=dA(),o=new Array(t);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,e.featureId){let c=s.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){let u=i[c](r);u&&(o[l]=u,l+=1)}return o.length=l,o}}function fge(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let o=n[r],s="filter"in o?Ds(o.filter,rr,e):pge,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=hA(o.style[c],e)}else a=[hA(o.style,e)];i[r]={filter:s,styles:a}}return function(r){let o=[],s=!1;for(let a=0;a<t;++a){let l=i[a].filter;if(l(r)&&!(n[a].else&&s)){s=!0;for(let c of i[a].styles){let u=c(r);u&&o.push(u)}}}return o}}function hA(n,e){let t=Ym(n,"",e),i=Qm(n,"",e),r=mge(n,e),o=gge(n,e),s=Or(n,"z-index",e);if(!t&&!i&&!r&&!o&&!zo(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new Zl;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(i){let u=i(l);u&&(c=!1),a.setStroke(u)}if(r){let u=r(l);u&&(c=!1),a.setText(u)}if(o){let u=o(l);u&&(c=!1),a.setImage(u)}return s&&a.setZIndex(s(l)),c?null:a}}function Ym(n,e,t){let i;if(e+"fill-pattern-src"in n)i=bge(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;i=mA(n,e+"fill-color",t)}if(!i)return null;let r=new ip;return function(o){let s=i(o);return s==="none"?null:(r.setColor(s),r)}}function Qm(n,e,t){let i=Or(n,e+"stroke-width",t),r=mA(n,e+"stroke-color",t);if(!i&&!r)return null;let o=Fa(n,e+"stroke-line-cap",t),s=Fa(n,e+"stroke-line-join",t),a=P7(n,e+"stroke-line-dash",t),l=Or(n,e+"stroke-line-dash-offset",t),c=Or(n,e+"stroke-miter-limit",t),u=new x1;return function(h){if(r){let p=r(h);if(p==="none")return null;u.setColor(p)}if(i&&u.setWidth(i(h)),o){let p=o(h);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(p)}if(s){let p=s(h);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(p)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function mge(n,e){let t="text-",i=Fa(n,t+"value",e);if(!i)return null;let r=Ym(n,t,e),o=Ym(n,t+"background-",e),s=Qm(n,t,e),a=Qm(n,t+"background-",e),l=Fa(n,t+"font",e),c=Or(n,t+"max-angle",e),u=Or(n,t+"offset-x",e),h=Or(n,t+"offset-y",e),p=Zm(n,t+"overflow",e),m=Fa(n,t+"placement",e),v=Or(n,t+"repeat",e),w=z1(n,t+"scale",e),I=Zm(n,t+"rotate-with-view",e),S=Or(n,t+"rotation",e),R=Fa(n,t+"align",e),V=Fa(n,t+"justify",e),z=Fa(n,t+"baseline",e),q=P7(n,t+"padding",e),Y=U1(n,t+"declutter-mode"),M=new g7({declutterMode:Y});return function(x){if(M.setText(i(x)),r&&M.setFill(r(x)),o&&M.setBackgroundFill(o(x)),s&&M.setStroke(s(x)),a&&M.setBackgroundStroke(a(x)),l&&M.setFont(l(x)),c&&M.setMaxAngle(c(x)),u&&M.setOffsetX(u(x)),h&&M.setOffsetY(h(x)),p&&M.setOverflow(p(x)),m){let D=m(x);if(D!=="point"&&D!=="line")throw new Error("Expected point or line for text-placement");M.setPlacement(D)}if(v&&M.setRepeat(v(x)),w&&M.setScale(w(x)),I&&M.setRotateWithView(I(x)),S&&M.setRotation(S(x)),R){let D=R(x);if(D!=="left"&&D!=="center"&&D!=="right"&&D!=="end"&&D!=="start")throw new Error("Expected left, right, center, start, or end for text-align");M.setTextAlign(D)}if(V){let D=V(x);if(D!=="left"&&D!=="right"&&D!=="center")throw new Error("Expected left, right, or center for text-justify");M.setJustify(D)}if(z){let D=z(x);if(D!=="bottom"&&D!=="top"&&D!=="middle"&&D!=="alphabetic"&&D!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");M.setTextBaseline(D)}return q&&M.setPadding(q(x)),M}}function gge(n,e){return"icon-src"in n?_ge(n,e):"shape-points"in n?yge(n,e):"circle-radius"in n?vge(n,e):null}function _ge(n,e){let t="icon-",i=t+"src",r=F7(n[i],i),o=V1(n,t+"anchor",e),s=z1(n,t+"scale",e),a=Or(n,t+"opacity",e),l=V1(n,t+"displacement",e),c=Or(n,t+"rotation",e),u=Zm(n,t+"rotate-with-view",e),h=R7(n,t+"anchor-origin"),p=k7(n,t+"anchor-x-units"),m=k7(n,t+"anchor-y-units"),v=Ege(n,t+"color"),w=Ige(n,t+"cross-origin"),I=Cge(n,t+"offset"),S=R7(n,t+"offset-origin"),R=B1(n,t+"width"),V=B1(n,t+"height"),z=wge(n,t+"size"),q=U1(n,t+"declutter-mode"),Y=new Iu({src:r,anchorOrigin:h,anchorXUnits:p,anchorYUnits:m,color:v,crossOrigin:w,offset:I,offsetOrigin:S,height:V,width:R,size:z,declutterMode:q});return function(M){return a&&Y.setOpacity(a(M)),l&&Y.setDisplacement(l(M)),c&&Y.setRotation(c(M)),u&&Y.setRotateWithView(u(M)),s&&Y.setScale(s(M)),o&&Y.setAnchor(o(M)),Y}}function yge(n,e){let t="shape-",i=t+"points",r=t+"radius",o=pA(n[i],i),s=pA(n[r],r),a=Ym(n,t,e),l=Qm(n,t,e),c=z1(n,t+"scale",e),u=V1(n,t+"displacement",e),h=Or(n,t+"rotation",e),p=Zm(n,t+"rotate-with-view",e),m=B1(n,t+"radius2"),v=B1(n,t+"angle"),w=U1(n,t+"declutter-mode"),I=new M1({points:o,radius:s,radius2:m,angle:v,declutterMode:w});return function(S){return a&&I.setFill(a(S)),l&&I.setStroke(l(S)),u&&I.setDisplacement(u(S)),h&&I.setRotation(h(S)),p&&I.setRotateWithView(p(S)),c&&I.setScale(c(S)),I}}function vge(n,e){let t="circle-",i=Ym(n,t,e),r=Qm(n,t,e),o=Or(n,t+"radius",e),s=z1(n,t+"scale",e),a=V1(n,t+"displacement",e),l=Or(n,t+"rotation",e),c=Zm(n,t+"rotate-with-view",e),u=U1(n,t+"declutter-mode"),h=new R1({radius:5,declutterMode:u});return function(p){return o&&h.setRadius(o(p)),i&&h.setFill(i(p)),r&&h.setStroke(r(p)),a&&h.setDisplacement(a(p)),l&&h.setRotation(l(p)),c&&h.setRotateWithView(c(p)),s&&h.setScale(s(p)),h}}function Or(n,e,t){if(!(e in n))return;let i=Ds(n[e],jt,t);return function(r){return pA(i(r),e)}}function Fa(n,e,t){if(!(e in n))return null;let i=Ds(n[e],_r,t);return function(r){return F7(i(r),e)}}function bge(n,e,t){let i=Fa(n,e+"pattern-src",t),r=M7(n,e+"pattern-offset",t),o=M7(n,e+"pattern-size",t),s=mA(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function Zm(n,e,t){if(!(e in n))return null;let i=Ds(n[e],rr,t);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function mA(n,e,t){if(!(e in n))return null;let i=Ds(n[e],Xr,t);return function(r){return L7(i(r),e)}}function P7(n,e,t){if(!(e in n))return null;let i=Ds(n[e],Jl,t);return function(r){return Xm(i(r),e)}}function V1(n,e,t){if(!(e in n))return null;let i=Ds(n[e],Jl,t);return function(r){let o=Xm(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function M7(n,e,t){if(!(e in n))return null;let i=Ds(n[e],Jl,t);return function(r){return N7(i(r),e)}}function z1(n,e,t){if(!(e in n))return null;let i=Ds(n[e],Jl|jt,t);return function(r){return Tge(i(r),e)}}function B1(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function wge(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return jn(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function Ige(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function R7(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function k7(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function Cge(n,e){let t=n[e];if(t!==void 0)return Xm(t,e)}function U1(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function Ege(n,e){let t=n[e];if(t!==void 0)return L7(t,e)}function Xm(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function F7(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function pA(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function L7(n,e){if(typeof n=="string")return n;let t=Xm(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function N7(n,e){let t=Xm(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function Tge(n,e){return typeof n=="number"?n:N7(n,e)}var V7={RENDER_ORDER:"renderOrder"},gA=class extends wu{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(V7.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new cp(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(V7.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?$2:e;let t=xge(e);this.styleFunction_=e===null?void 0:m7(t),this.changed()}};function xge(n){if(n===void 0)return $2;if(!n)return null;if(typeof n=="function"||n instanceof Zl)return n;if(!Array.isArray(n))return fA([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof Zl){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!(s instanceof Zl))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in t){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return O7(r)}return fA(n)}var H1=gA;var Jm={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},eg=[Jm.FILL],As=[Jm.STROKE],La=[Jm.BEGIN_PATH],_A=[Jm.CLOSE_PATH],$e=Jm;var yA=class{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},j1=yA;var vA=class extends j1{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Uo(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(e,t,i,r,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(t+=r);let u=e[t],h=e[t+1],p=this.tmpCoordinate_,m=!0,v,w,I;for(v=t+r;v<i;v+=r)p[0]=e[v],p[1]=e[v+1],I=s1(c,p),I!==w?(m&&(a[l++]=u,a[l++]=h,m=!1),a[l++]=p[0],a[l++]=p[1]):I===di.INTERSECTING?(a[l++]=p[0],a[l++]=p[1],m=!1):m=!0,u=p[0],h=p[1],w=I;return(o&&m||v===t+r)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,i,r,o){for(let s=0,a=i.length;s<a;++s){let l=i[s],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);o.push(c),t=l}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);let s=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,h,p,m;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),p=[];let v=e.getEndss();m=0;for(let w=0,I=v.length;w<I;++w){let S=[];m=this.drawCustomCoordinates_(c,m,v[w],a,S),p.push(S)}this.instructions.push([$e.CUSTOM,l,p,e,i,u2,o]),this.hitDetectionInstructions.push([$e.CUSTOM,l,p,e,r||i,u2,o]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),m=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([$e.CUSTOM,l,h,e,i,Jh,o]),this.hitDetectionInstructions.push([$e.CUSTOM,l,h,e,r||i,Jh,o]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([$e.CUSTOM,l,u,e,i,Wl,o]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,r||i,Wl,o]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([$e.CUSTOM,l,u,e,i,Wl,o]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,r||i,Wl,o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([$e.CUSTOM,l,u,e,i,void 0,o]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,r||i,void 0,o]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[$e.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[$e.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,o,s=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==$e.END_GEOMETRY?s=t:o==$e.BEGIN_GEOMETRY&&(r[2]=t,Z6(this.hitDetectionInstructions,s,t),s=-1)}setFillStrokeStyle(e,t){let i=this.state;if(e){let r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=Ar(r||vi)}else i.fillStyle=void 0;if(t){let r=t.getColor();i.strokeStyle=Ar(r||ka);let o=t.getLineCap();i.lineCap=o!==void 0?o:xs;let s=t.getLineDash();i.lineDash=s?s.slice():Mr;let a=t.getLineDashOffset();i.lineDashOffset=a||Rr;let l=t.getLineJoin();i.lineJoin=l!==void 0?l:Ss;let c=t.getWidth();i.lineWidth=c!==void 0?c:Pa;let u=t.getMiterLimit();i.miterLimit=u!==void 0?u:Ra,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){let t=e.fillStyle,i=[$e.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[$e.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!nr(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[$e.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=a1(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;Hh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Ms=vA;var bA=class extends Ms{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Uo(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([$e.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Uo(this.maxExtent,r.slice(l,l+2)))&&o.push(r[l],r[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([$e.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},B7=bA;var wA=class extends Ms{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[$e.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mr,Rr],La);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(As),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mr,Rr],La);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,p=a.length;h<p;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(As),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(As),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(As),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(La)}},z7=wA;var IA=class extends Ms{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push(La),this.hitDetectionInstructions.push(La);for(let c=0;c<l;++c){let u=i[c],h=this.coordinates.length,p=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),m=[$e.MOVE_TO_LINE_TO,h,p];this.instructions.push(m),this.hitDetectionInstructions.push(m),a&&(this.instructions.push(_A),this.hitDetectionInstructions.push(_A)),t=u}return s&&(this.instructions.push(eg),this.hitDetectionInstructions.push(eg)),a&&(this.instructions.push(As),this.hitDetectionInstructions.push(As)),t}drawCircle(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mr,Rr]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[$e.CIRCLE,c];this.instructions.push(La,u),this.hitDetectionInstructions.push(La,u),r.fillStyle!==void 0&&(this.instructions.push(eg),this.hitDetectionInstructions.push(eg)),r.strokeStyle!==void 0&&(this.instructions.push(As),this.hitDetectionInstructions.push(As)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mr,Rr]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mr,Rr]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let h=0,p=a.length;h<p;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Gl(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},CA=IA;function U7(n,e,t,i,r){let o=[],s=t,a=0,l=e.slice(t,2);for(;a<n&&s+r<i;){let[c,u]=l.slice(-2),h=e[s+r],p=e[s+r+1],m=Math.sqrt((h-c)*(h-c)+(p-u)*(p-u));if(a+=m,a>=n){let v=(n-a+m)/m,w=ir(c,h,v),I=ir(u,p,v);l.push(w,I),o.push(l),l=[w,I],a==n&&(s+=r),a=0}else if(a<n)l.push(e[s+r],e[s+r+1]),s+=r;else{let v=m-a,w=ir(c,h,v/m),I=ir(u,p,v/m);l.push(w,I),o.push(l),l=[w,I],a=0,s+=r}}return a>0&&o.push(l),o}function H7(n,e,t,i,r){let o=t,s=t,a=0,l=0,c=t,u,h,p,m,v,w,I,S,R,V;for(h=t;h<i;h+=r){let z=e[h],q=e[h+1];v!==void 0&&(R=z-v,V=q-w,m=Math.sqrt(R*R+V*V),I!==void 0&&(l+=p,u=Math.acos((I*R+S*V)/(p*m)),u>n&&(l>a&&(a=l,o=c,s=h),l=0,c=h-r)),p=m,I=R,S=V),v=z,w=q}return l+=m,l>a?[c,h]:[o,s]}var tg={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},EA=class extends Ms{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[vi]={fillStyle:vi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,h=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!kn(this.maxExtent,e.getExtent()))return;let p;if(u=e.getFlatCoordinates(),c=="LineString")p=[u.length];else if(c=="MultiLineString")p=e.getEnds();else if(c=="Polygon")p=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let I=e.getEndss();p=[];for(let S=0,R=I.length;S<R;++S)p.push(I[S][0])}this.beginGeometry(e,t,i);let m=s.repeat,v=m?void 0:s.textAlign,w=0;for(let I=0,S=p.length;I<S;++I){let R;m?R=U7(m*this.resolution,u,w,p[I],h):R=[u.slice(w,p[I])];for(let V=0,z=R.length;V<z;++V){let q=R[V],Y=0,M=q.length;if(v==null){let D=H7(s.maxAngle,q,0,q.length,2);Y=D[0],M=D[1]}for(let D=Y;D<M;D+=h)a.push(q[D],q[D+1]);let x=a.length;w=p[I],this.drawChars_(l,x),l=x}}this.endGeometry(t)}else{let p=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),s.overflow||p.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":let R=e.getFlatInteriorPoints();u=[];for(let V=0,z=R.length;V<z;V+=3)s.overflow||p.push(R[V+2]/this.resolution),u.push(R[V],R[V+1]);if(u.length===0)return;h=2;break;default:}let m=this.appendFlatPointCoordinates(u,h);if(m===l)return;if(p&&(m-l)/2!==u.length/h){let R=l/2;p=p.filter((V,z)=>{let q=a[(R+z)*2]===u[z*h]&&a[(R+z)*2+1]===u[z*h+1];return q||--R,q})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&this.updateFillStyle(this.state,this.createFill),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,i);let v=s.padding;if(v!=Oa&&(s.scale[0]<0||s.scale[1]<0)){let R=s.padding[0],V=s.padding[1],z=s.padding[2],q=s.padding[3];s.scale[0]<0&&(V=-V,q=-q),s.scale[1]<0&&(R=-R,z=-z),v=[R,V,z,q]}let w=this.pixelRatio;this.instructions.push([$e.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,v==Oa?Oa:v.map(function(R){return R*w}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);let I=1/w,S=this.state.fillStyle;s.backgroundFill&&(this.state.fillStyle=vi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterMode_,this.declutterImageWithText_,v,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?vi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),s.backgroundFill&&(this.state.fillStyle=S,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Ql,justify:t.justify,textBaseline:t.textBaseline||bu,scale:t.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=tg[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,p=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([$e.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,o,p*l,h,s,1,this.declutterMode_]),this.hitDetectionInstructions.push([$e.DRAW_CHARS,e,t,c,r.overflow,a&&vi,r.maxAngle,l,u,o,p*l,h,s,1/l,this.declutterMode_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{let s=e.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Ar(s.getColor()||vi)):(r=null,this.textFillState_=r);let a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let v=a.getLineDash(),w=a.getLineDashOffset(),I=a.getWidth(),S=a.getMiterLimit();o.lineCap=a.getLineCap()||xs,o.lineDash=v?v.slice():Mr,o.lineDashOffset=w===void 0?Rr:w,o.lineJoin=a.getLineJoin()||Ss,o.lineWidth=I===void 0?Pa:I,o.miterLimit=S===void 0?Ra:S,o.strokeStyle=Ar(a.getColor()||ka)}i=this.textState_;let l=e.getFont()||A1;u7(l);let c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||bu,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Oa,i.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),h=e.getOffsetY(),p=e.getRotateWithView(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=m===void 0?0:m,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:xt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+xt(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},j7=EA;var Sge={Circle:CA,Default:Ms,Image:B7,LineString:z7,Polygon:CA,Text:j7},TA=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){let s=Sge[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}},$7=TA;var Dge=5,xA=class extends i1{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Dge}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Rt()}getData(e){return null}prepareFrame(e){return Rt()}renderFrame(e,t){return Rt()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===at.LOADED||t.getState()===at.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=at.LOADED&&t!=at.ERROR&&e.addEventListener(Re.CHANGE,this.boundHandleImageChange_),t==at.IDLE&&(e.load(),t=e.getState()),t==at.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},G7=xA;var SA=class extends Mi{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},$1=SA;var DA=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(tp(),{get:(e,t)=>{if(typeof tp()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let o=t[i];if(typeof o=="function"){o(e);continue}let s=t[++i];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},G1=DA;var MA=[],up=null;function Age(){up=tn(1,1,void 0,{willReadFrequently:!0})}var AA=class extends G7{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ki(),this.pixelTransform=ki(),this.inversePixelTransform=ki(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){up||Age(),up.clearRect(0,0,1,1);let r;try{up.drawImage(e,t,i,1,1,0,0,1,1),r=up.getImageData(0,0,1,1).data}catch{return up=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),o,s;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&nr(Ma(e.style.backgroundColor),Ma(i)))){let a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===t?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=tn();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=mo(i),o=Wh(i),s=Gh(i),a=$h(i);Zn(t.coordinateToPixelTransform,r),Zn(t.coordinateToPixelTransform,o),Zn(t.coordinateToPixelTransform,s),Zn(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;Zn(l,r),Zn(l,o),Zn(l,s),Zn(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,a=Math.round(It(i)/r*s),l=Math.round(Sn(i)/r*s);ji(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-a/2,-l/2),o1(this.inversePixelTransform,this.pixelTransform);let c=i9(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let o=new $1(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_($i.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_($i.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new G1),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_($i.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_($i.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,s,a){let l=o/2,c=s/2,u=r/t,h=-u,p=-e[0]+a,m=-e[1];return ji(this.tempTransform,l,c,u,h,-i,p,m)}disposeInternal(){delete this.frameState,super.disposeInternal()}},W1=AA;function W7(n,e,t,i,r,o,s,a,l,c,u,h){let p=n[e],m=n[e+1],v=0,w=0,I=0,S=0;function R(){v=p,w=m,e+=i,p=n[e],m=n[e+1],S+=I,I=Math.sqrt((p-v)*(p-v)+(m-w)*(m-w))}do R();while(e<t-i&&S+I<o);let V=I===0?0:(o-S)/I,z=ir(v,p,V),q=ir(w,m,V),Y=e-i,M=S,x=o+a*l(c,r,u);for(;e<t-i&&S+I<x;)R();V=I===0?0:(x-S)/I;let D=ir(v,p,V),B=ir(w,m,V),U;if(h){let J=[z,q,D,B];_1(J,0,4,2,h,J,J),U=J[0]>J[2]}else U=z>D;let H=Math.PI,O=[],De=Y+i===e;e=Y,I=0,S=M,p=n[e],m=n[e+1];let Se;if(De){R(),Se=Math.atan2(m-w,p-v),U&&(Se+=Se>0?-H:H);let J=(D+z)/2,ae=(B+q)/2;return O[0]=[J,ae,(x-o)/2,Se,r],O}r=r.replace(/\n/g," ");for(let J=0,ae=r.length;J<ae;){R();let fe=Math.atan2(m-w,p-v);if(U&&(fe+=fe>0?-H:H),Se!==void 0){let le=fe-Se;if(le+=le>H?-2*H:le<-H?2*H:0,Math.abs(le)>s)return null}Se=fe;let ke=J,Ae=0;for(;J<ae;++J){let le=U?ae-J-1:J,Dn=a*l(c,r[le],u);if(e+i<t&&S+I<o+Ae+Dn/2)break;Ae+=Dn}if(J===ke)continue;let Ge=U?r.substring(ae-ke,ae-J):r.substring(ke,J);V=I===0?0:(o+Ae/2-S)/I;let Ze=ir(v,p,V),vt=ir(w,m,V);O.push([Ze,vt,Ae/2,fe,Ge]),o+=Ae}return O}var dp=Xn(),ec=[],Na=[],Va=[],tc=[];function q7(n){return n[3].declutterBox}var K7=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function RA(n,e){return e==="start"?e=K7.test(n)?"right":"left":e==="end"&&(e=K7.test(n)?"left":"right"),tg[e]}function Mge(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var kA=class{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=ki(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new G1:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let o=e+t+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?tg[l.justify]:RA(Array.isArray(e)?e[0]:e,l.textAlign||Ql),p=r&&s.lineWidth?s.lineWidth:0,m=Array.isArray(e)?e:String(e).split(`
`).reduce(Mge,[]),{width:v,height:w,widths:I,heights:S,lineWidths:R}=h7(l,m),V=v+p,z=[],q=(V+2)*u[0],Y=(w+p)*u[1],M={width:q<0?Math.floor(q):Math.ceil(q),height:Y<0?Math.floor(Y):Math.ceil(Y),contextInstructions:z};(u[0]!=1||u[1]!=1)&&z.push("scale",u),r&&(z.push("strokeStyle",s.strokeStyle),z.push("lineWidth",p),z.push("lineCap",s.lineCap),z.push("lineJoin",s.lineJoin),z.push("miterLimit",s.miterLimit),z.push("setLineDash",[s.lineDash]),z.push("lineDashOffset",s.lineDashOffset)),i&&z.push("fillStyle",a.fillStyle),z.push("textBaseline","middle"),z.push("textAlign","center");let x=.5-h,D=h*V+x*p,B=[],U=[],H=0,O=0,De=0,Se=0,J;for(let ae=0,fe=m.length;ae<fe;ae+=2){let ke=m[ae];if(ke===`
`){O+=H,H=0,D=h*V+x*p,++Se;continue}let Ae=m[ae+1]||l.font;Ae!==J&&(r&&B.push("font",Ae),i&&U.push("font",Ae),J=Ae),H=Math.max(H,S[De]);let Ge=[ke,D+x*I[De]+h*(I[De]-R[Se]),.5*(p+H)+O];D+=I[De],r&&B.push("strokeText",Ge),i&&U.push("fillText",Ge),++De}return Array.prototype.push.apply(z,B),Array.prototype.push.apply(z,U),this.labels_[o]=M,M}replayTextBackground_(e,t,i,r,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,s,a,l,c,u,h,p,m,v,w,I){a*=p[0],l*=p[1];let S=i-a,R=r-l,V=o+c>e?e-c:o,z=s+u>t?t-u:s,q=v[3]+V*p[0]+v[1],Y=v[0]+z*p[1]+v[2],M=S-v[3],x=R-v[0];(w||h!==0)&&(ec[0]=M,tc[0]=M,ec[1]=x,Na[1]=x,Na[0]=M+q,Va[0]=Na[0],Va[1]=x+Y,tc[1]=Va[1]);let D;return h!==0?(D=ji(ki(),i,r,1,1,h,-i,-r),Zn(D,ec),Zn(D,Na),Zn(D,Va),Zn(D,tc),Qr(Math.min(ec[0],Na[0],Va[0],tc[0]),Math.min(ec[1],Na[1],Va[1],tc[1]),Math.max(ec[0],Na[0],Va[0],tc[0]),Math.max(ec[1],Na[1],Va[1],tc[1]),dp)):Qr(Math.min(M,M+q),Math.min(x,x+Y),Math.max(M,M+q),Math.max(x,x+Y),dp),m&&(S=Math.round(S),R=Math.round(R)),{drawImageX:S,drawImageY:R,drawImageW:V,drawImageH:z,originX:c,originY:u,declutterBox:{minX:dp[0],minY:dp[1],maxX:dp[2],maxY:dp[3],value:I},canvasTransform:D,scale:p}}replayImageOrLabel_(e,t,i,r,o,s,a){let l=!!(s||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,ec,Na,Va,tc,s,a),p7(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=Zn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let o=this.textStates[t],s=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=RA(Array.isArray(e)?e[0]:e,o.textAlign||Ql),u=tg[o.textBaseline||bu],h=a&&a.lineWidth?a.lineWidth:0,p=s.width/l-2*o.scale[0],m=c*p+2*(.5-c)*h,v=u*s.height/l+2*(.5-u)*h;return{label:s,anchorX:m,anchorY:v}}execute_(e,t,i,r,o,s,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&nr(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Sr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),n9(this.renderedTransform_,i));let h=0,p=r.length,m=0,v,w,I,S,R,V,z,q,Y,M,x,D,B,U=0,H=0,O=null,De=null,Se=this.coordinateCache_,J=this.viewRotation_,ae=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,fe={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:J},ke=this.instructions!=r||this.overlaps?0:200,Ae,Ge,Ze,vt;for(;h<p;){let le=r[h];switch(le[0]){case $e.BEGIN_GEOMETRY:Ae=le[1],vt=le[3],Ae.getGeometry()?a!==void 0&&!kn(a,vt.getExtent())?h=le[2]+1:++h:h=le[2],c&&(c.zIndex=le[4]);break;case $e.BEGIN_PATH:U>ke&&(this.fill_(e),U=0),H>ke&&(e.stroke(),H=0),!U&&!H&&(e.beginPath(),R=NaN,V=NaN),++h;break;case $e.CIRCLE:m=le[1];let Gn=u[m],St=u[m+1],Jn=u[m+2],Tn=u[m+3],On=Jn-Gn,Fi=Tn-St,Ns=Math.sqrt(On*On+Fi*Fi);e.moveTo(Gn+Ns,St),e.arc(Gn,St,Ns,0,2*Math.PI,!0),++h;break;case $e.CLOSE_PATH:e.closePath(),++h;break;case $e.CUSTOM:m=le[1],v=le[2];let za=le[3],sc=le[4],Vs=le[5];fe.geometry=za,fe.feature=Ae,h in Se||(Se[h]=[]);let Yo=Se[h];Vs?Vs(u,m,v,2,Yo):(Yo[0]=u[m],Yo[1]=u[m+1],Yo.length=2),c&&(c.zIndex=le[6]),sc(Yo,fe),++h;break;case $e.DRAW_IMAGE:m=le[1],v=le[2],Y=le[3],w=le[4],I=le[5];let or=le[6],no=le[7],Bs=le[8],zs=le[9],Us=le[10],Qo=le[11],Ua=le[12],Zo=le[13];S=le[14]||"declutter";let Pn=le[15];if(!Y&&le.length>=20){M=le[19],x=le[20],D=le[21],B=le[22];let sr=this.drawLabelWithPointPlacement_(M,x,D,B);Y=sr.label,le[3]=Y;let io=le[23];w=(sr.anchorX-io)*this.pixelRatio,le[4]=w;let ar=le[24];I=(sr.anchorY-ar)*this.pixelRatio,le[5]=I,or=Y.height,le[6]=or,Zo=Y.width,le[13]=Zo}let ac;le.length>25&&(ac=le[25]);let ei,ti,Hs;le.length>17?(ei=le[16],ti=le[17],Hs=le[18]):(ei=Oa,ti=!1,Hs=!1),Us&&ae?Qo+=J:!Us&&!ae&&(Qo-=J);let gg=0;for(;m<v;m+=2){if(ac&&ac[gg++]<Zo/this.pixelRatio)continue;let sr=this.calculateImageOrLabelDimensions_(Y.width,Y.height,u[m],u[m+1],Zo,or,w,I,Bs,zs,Qo,Ua,o,ei,ti||Hs,Ae),io=[e,t,Y,sr,no,ti?O:null,Hs?De:null];if(l){let ar,Wi,lr;if(Pn){let hn=v-m;if(!Pn[hn]){Pn[hn]={args:io,declutterMode:S};continue}let Wn=Pn[hn];ar=Wn.args,Wi=Wn.declutterMode,delete Pn[hn],lr=q7(ar)}let In,ro;if(ar&&(Wi!=="declutter"||!l.collides(lr))&&(In=!0),(S!=="declutter"||!l.collides(sr.declutterBox))&&(ro=!0),Wi==="declutter"&&S==="declutter"){let hn=In&&ro;In=hn,ro=hn}In&&(Wi!=="none"&&l.insert(lr),this.replayImageOrLabel_.apply(this,ar)),ro&&(S!=="none"&&l.insert(sr.declutterBox),this.replayImageOrLabel_.apply(this,io))}else this.replayImageOrLabel_.apply(this,io)}++h;break;case $e.DRAW_CHARS:let Ep=le[1],_g=le[2],js=le[3],yg=le[4];B=le[5];let vg=le[6],Ou=le[7],bg=le[8];D=le[9];let Tp=le[10];M=le[11],x=le[12];let Pu=[le[13],le[13]];S=le[14]||"declutter";let Fu=this.textStates[x],Ha=Fu.font,bo=[Fu.scale[0]*Ou,Fu.scale[1]*Ou],$s;Ha in this.widths_?$s=this.widths_[Ha]:($s={},this.widths_[Ha]=$s);let Lu=a7(u,Ep,_g,2),Xo=Math.abs(bo[0])*z2(Ha,M,$s);if(yg||Xo<=Lu){let sr=this.textStates[x].textAlign,io=(Lu-Xo)*RA(M,sr),ar=W7(u,Ep,_g,2,M,io,vg,Math.abs(bo[0]),z2,Ha,$s,ae?0:this.viewRotation_);e:if(ar){let Wi=[],lr,In,ro,hn,Wn;if(D)for(lr=0,In=ar.length;lr<In;++lr){Wn=ar[lr],ro=Wn[4],hn=this.createLabel(ro,x,"",D),w=Wn[2]+(bo[0]<0?-Tp:Tp),I=js*hn.height+(.5-js)*2*Tp*bo[1]/bo[0]-bg;let wo=this.calculateImageOrLabelDimensions_(hn.width,hn.height,Wn[0],Wn[1],hn.width,hn.height,w,I,0,0,Wn[3],Pu,!1,Oa,!1,Ae);if(l&&S==="declutter"&&l.collides(wo.declutterBox))break e;Wi.push([e,t,hn,wo,1,null,null])}if(B)for(lr=0,In=ar.length;lr<In;++lr){Wn=ar[lr],ro=Wn[4],hn=this.createLabel(ro,x,B,""),w=Wn[2],I=js*hn.height-bg;let wo=this.calculateImageOrLabelDimensions_(hn.width,hn.height,Wn[0],Wn[1],hn.width,hn.height,w,I,0,0,Wn[3],Pu,!1,Oa,!1,Ae);if(l&&S==="declutter"&&l.collides(wo.declutterBox))break e;Wi.push([e,t,hn,wo,1,null,null])}l&&S!=="none"&&l.load(Wi.map(q7));for(let wo=0,Ab=Wi.length;wo<Ab;++wo)this.replayImageOrLabel_.apply(this,Wi[wo])}}++h;break;case $e.END_GEOMETRY:if(s!==void 0){Ae=le[1];let sr=s(Ae,vt,S);if(sr)return sr}++h;break;case $e.FILL:ke?U++:this.fill_(e),++h;break;case $e.MOVE_TO_LINE_TO:for(m=le[1],v=le[2],Ge=u[m],Ze=u[m+1],e.moveTo(Ge,Ze),R=Ge+.5|0,V=Ze+.5|0,m+=2;m<v;m+=2)Ge=u[m],Ze=u[m+1],z=Ge+.5|0,q=Ze+.5|0,(m==v-2||z!==R||q!==V)&&(e.lineTo(Ge,Ze),R=z,V=q);++h;break;case $e.SET_FILL_STYLE:O=le,this.alignAndScaleFill_=le[2],U&&(this.fill_(e),U=0,H&&(e.stroke(),H=0)),e.fillStyle=le[1],++h;break;case $e.SET_STROKE_STYLE:De=le,H&&(e.stroke(),H=0),this.setStrokeStyle_(e,le),++h;break;case $e.STROKE:ke?H++:e.stroke(),++h;break;default:++h;break}}U&&this.fill_(e),H&&e.stroke()}execute(e,t,i,r,o,s){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}},Y7=kA;var Eu=["Polygon","Circle","LineString","Image","Text","Default"],FA=["Image","Text"],Q7=Eu.filter(n=>!FA.includes(n)),PA=class{constructor(e,t,i,r,o,s,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ki(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=e[i];for(let s in o){let a=o[s];r[s]=new Y7(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,s){r=Math.round(r);let a=r*2+1,l=ji(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=tn(a,a,void 0,{willReadFrequently:!0}));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Xn(),pu(h,e),Hh(h,t*(this.renderBuffer_+r),h));let p=Rge(r),m;function v(q,Y,M){let x=u.getImageData(0,0,a,a).data;for(let D=0,B=p.length;D<B;D++)if(x[p[D]]>0){if(!s||M==="none"||m!=="Image"&&m!=="Text"||s.includes(q)){let U=(p[D]-3)/4,H=r-U%a,O=r-(U/a|0),De=o(q,Y,H*H+O*O);if(De)return De}u.clearRect(0,0,a,a);break}}let w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(xr);let I,S,R,V,z;for(I=w.length-1;I>=0;--I){let q=w[I].toString();for(R=this.executorsByZIndex_[q],S=Eu.length-1;S>=0;--S)if(m=Eu[S],V=R[m],V!==void 0&&(z=V.executeHitDetection(u,l,i,v,h),z))return z}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],o=t[2],s=t[3],a=[i,r,i,s,o,s,o,r];return Sr(a,0,8,2,e,a),a}isEmpty(){return zo(this.executorsByZIndex_)}execute(e,t,i,r,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(xr),s=s||Eu;let c=Eu.length,u,h,p,m,v;for(a&&l.reverse(),u=0,h=l.length;u<h;++u){let w=l[u].toString();for(v=this.executorsByZIndex_[w],p=0,m=s.length;p<m;++p){let I=s[p],S=v[I];if(S!==void 0){let R=a===null?void 0:S.getZIndexContext(),V=R?R.getContext():e,z=this.maxExtent_&&I!=="Image"&&I!=="Text";if(z&&(V.save(),this.clip(V,i)),!R||I==="Text"||I==="Image"?S.execute(V,t,i,r,o,a):R.pushFunction(q=>S.execute(q,t,i,r,o,a)),z&&V.restore(),R){R.offset();let q=l[u]*c+p;this.deferredZIndexContexts_[q]||(this.deferredZIndexContexts_[q]=[]),this.deferredZIndexContexts_[q].push(R)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(xr);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}},OA={};function Rge(n){if(OA[n]!==void 0)return OA[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){let a=o*o+s*s;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((n+o)*e+(n+s))*4+3),o>0&&l.push(((n-o)*e+(n+s))*4+3),s>0&&(l.push(((n+o)*e+(n-s))*4+3),o>0&&l.push(((n-o)*e+(n-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return OA[n]=r,r}var Z7=PA;var LA=class extends j1{constructor(e,t,i,r,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?p1(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ki()}drawImages_(e,t,i,r){if(!this.image_)return;let o=Sr(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=o.length;u<h;u+=2){let p=o[u]-this.imageAnchorX_,m=o[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let v=p+this.imageAnchorX_,w=m+this.imageAnchorY_;ji(a,v,w,1,1,c,-v,-w),s.save(),s.transform.apply(s,a),s.translate(v,w),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,m,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=Sr(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){let l=o[t]+this.textOffsetX_,c=o[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,o){let s=this.context_,a=Sr(e,t,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),i}drawRings_(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=R9(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(kn(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),o=0,s=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];r=this.drawRings_(i,r,c,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),nr(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Ql;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:Ar(i||vi)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=o||Mr;this.strokeState_={lineCap:r!==void 0?r:xs,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(s||Rr)*this.pixelRatio_,lineJoin:a!==void 0?a:Ss,lineWidth:(l!==void 0?l:Pa)*this.pixelRatio_,miterLimit:c!==void 0?c:Ra,strokeStyle:Ar(i||ka)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let m=t.getColor();this.textFillState_={fillStyle:Ar(m||vi)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let m=i.getColor(),v=i.getLineCap(),w=i.getLineDash(),I=i.getLineDashOffset(),S=i.getLineJoin(),R=i.getWidth(),V=i.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:xs,lineDash:w||Mr,lineDashOffset:I||Rr,lineJoin:S!==void 0?S:Ss,lineWidth:R!==void 0?R:Pa,miterLimit:V!==void 0?V:Ra,strokeStyle:Ar(m||ka)}}let r=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:r!==void 0?r:A1,textAlign:h!==void 0?h:Ql,textBaseline:p!==void 0?p:bu},this.text_=u!==void 0?Array.isArray(u)?u.reduce((m,v,w)=>m+=w%2?" ":v,""):u:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},X7=LA;var Go=.5;function J7(n,e,t,i,r,o,s,a,l){let c=l?$l(r,l):r,u=n[0]*Go,h=n[1]*Go,p=tn(u,h);p.imageSmoothingEnabled=!1;let m=p.canvas,v=new X7(p,Go,r,null,s,a,l?gu(yu(),l):null),w=t.length,I=Math.floor((256*256*256-1)/w),S={};for(let V=1;V<=w;++V){let z=t[V-1],q=z.getStyleFunction()||i;if(!q)continue;let Y=q(z,o);if(!Y)continue;Array.isArray(Y)||(Y=[Y]);let x=(V*I).toString(16).padStart(7,"#00000");for(let D=0,B=Y.length;D<B;++D){let U=Y[D],H=U.getGeometryFunction()(z);if(!H||!kn(c,H.getExtent()))continue;let O=U.clone(),De=O.getFill();De&&De.setColor(x);let Se=O.getStroke();Se&&(Se.setColor(x),Se.setLineDash(null)),O.setText(void 0);let J=U.getImage();if(J){let Ae=J.getImageSize();if(!Ae)continue;let Ge=tn(Ae[0],Ae[1],void 0,{alpha:!1}),Ze=Ge.canvas;Ge.fillStyle=x,Ge.fillRect(0,0,Ze.width,Ze.height),O.setImage(new Iu({img:Ze,anchor:J.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:J.getOrigin(),opacity:1,size:J.getSize(),scale:J.getScale(),rotation:J.getRotation(),rotateWithView:J.getRotateWithView()}))}let ae=O.getZIndex()||0,fe=S[ae];fe||(fe={},S[ae]=fe,fe.Polygon=[],fe.Circle=[],fe.LineString=[],fe.Point=[]);let ke=H.getType();if(ke==="GeometryCollection"){let Ae=H.getGeometriesArrayRecursive();for(let Ge=0,Ze=Ae.length;Ge<Ze;++Ge){let vt=Ae[Ge];fe[vt.getType().replace("Multi","")].push(vt,O)}}else fe[ke.replace("Multi","")].push(H,O)}}let R=Object.keys(S).map(Number).sort(xr);for(let V=0,z=R.length;V<z;++V){let q=S[R[V]];for(let Y in q){let M=q[Y];for(let x=0,D=M.length;x<D;x+=2){v.setStyle(M[x+1]);for(let B=0,U=e.length;B<U;++B)v.setTransform(e[B]),v.drawGeometry(M[x])}}}return p.getImageData(0,0,m.width,m.height)}function e8(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*Go),o=Math.floor(Math.round(n[1])*Go),s=(en(r,0,t.width-1)+en(o,0,t.height-1)*t.width)*4,a=t.data[s],l=t.data[s+1],u=t.data[s+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&i.push(e[u/h-1])}return i}var kge=.5,t8={Point:Bge,LineString:Lge,Polygon:Uge,MultiPoint:zge,MultiLineString:Nge,MultiPolygon:Vge,GeometryCollection:Fge,Circle:Oge};function n8(n,e){return parseInt(xt(n),10)-parseInt(xt(e),10)}function NA(n,e){let t=VA(n,e);return t*t}function VA(n,e){return kge*n/e}function Oge(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function BA(n,e,t,i,r,o,s,a){let l=[],c=t.getImage();if(c){let p=!0,m=c.getImageState();m==at.LOADED||m==at.ERROR?p=!1:m==at.IDLE&&c.load(),p&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),Pge(n,e,t,i,o,s,a),h}function Pge(n,e,t,i,r,o,s){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,r);if(t.getRenderer())i8(n,l,t,e,s);else{let u=t8[l.getType()];u(n,l,t,e,s,o)}}function i8(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let a=0,l=s.length;a<l;++a)i8(n,s[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function Fge(n,e,t,i,r,o){let s=e.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=t8[s[a].getType()];c(n,s[a],t,i,r,o)}}function Lge(n,e,t,i,r){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Nge(n,e,t,i,r){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Vge(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function Bge(n,e,t,i,r,o){let s=t.getImage(),a=t.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=at.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(s,c),u.drawPoint(e,i,r)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,r)}}function zge(n,e,t,i,r,o){let s=t.getImage(),a=s&&s.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=at.LOADED)return;let h=n.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,u),h.drawMultiPoint(e,i,r)}if(c){let h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,i,r)}}function Uge(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}var zA=class extends W1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Xn(),this.wrappedRenderedExtent_=Xn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,o=t.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),h=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),m=t.pixelRatio,v=t.viewHints,w=!(v[bi.ANIMATING]||v[bi.INTERACTING]),I=this.context,S=Math.round(It(r)/a*m),R=Math.round(Sn(r)/a*m),V=h.getWrapX()&&l.canWrapX(),z=V?It(u):null,q=V?Math.ceil((r[2]-u[2])/z)+1:1,Y=V?Math.floor((r[0]-u[0])/z):0;do{let M=this.getRenderTransform(s,a,0,m,S,R,Y*z);t.declutter&&(M=M.slice(0)),e.execute(I,[I.canvas.width,I.canvas.height],M,c,w,i===void 0?Eu:i?FA:Q7,i?p&&t.declutter[p]:void 0)}while(++Y<q)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=tn(this.context.canvas.width,this.context.canvas.height,MA))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Es(this.context),MA.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener($i.PRERENDER)||this.getLayer().hasListener($i.POSTRENDER)))return null;this.setDrawContext_(),this.preRender(o,e);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=go(i.extent,l);a=kn(c,e.extent),this.clipped_=a&&!Ca(c,e.extent),this.clipped_&&this.clipUnrotated(o,e,c)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*Go,p=i[1]*Go;u.push(this.getRenderTransform(r,o,s,Go,h,p,0).slice());let m=c.getSource(),v=a.getExtent();if(m.getWrapX()&&a.canWrapX()&&!Ca(v,l)){let I=l[0],S=It(v),R=0,V;for(;I<v[0];)--R,V=S*R,u.push(this.getRenderTransform(r,o,s,Go,h,p,V).slice()),I+=S;for(R=0,I=l[2];I>v[2];)++R,V=S*R,u.push(this.getRenderTransform(r,o,s,Go,h,p,V).slice()),I-=S}let w=yu();this.hitDetectionImageData_=J7(i,u,this.renderedFeatures_,c.getStyleFunction(),l,o,s,NA(o,this.renderedPixelRatio_),w?a:null)}t(e8(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;let s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(v,w,I){let S=xt(v),R=c[S];if(R){if(R!==!0&&I<R.distanceSq){if(I===0)return c[S]=!0,o.splice(o.lastIndexOf(R),1),r(v,l,w);R.geometry=w,R.distanceSq=I}}else{if(I===0)return c[S]=!0,r(v,l,w);o.push(c[S]={feature:v,layer:l,geometry:w,distanceSq:I,callback:r})}},h,p=[this.replayGroup_],m=this.getLayer().getDeclutter();return p.some(v=>h=v.forEachFeatureAtCoordinate(e,s,a,i,u,m&&t.declutter[m]?t.declutter[m].all().map(w=>w.value):null)),h}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[bi.ANIMATING],o=e.viewHints[bi.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,p=e.pixelRatio,m=t.getRevision(),v=t.getRenderBuffer(),w=t.getRenderOrder();w===void 0&&(w=n8);let I=c.center.slice(),S=Hh(l,v*h),R=S.slice(),V=[S.slice()],z=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Ca(z,e.extent)){let Se=It(z),J=Math.max(It(S)/2,Se);S[0]=z[0]-J,S[2]=z[2]+J,f1(I,u);let ae=YD(V[0],u);ae[0]<z[0]&&ae[2]<z[2]?V.push([ae[0]+Se,ae[1],ae[2]+Se,ae[3]]):ae[0]>z[0]&&ae[2]>z[2]&&V.push([ae[0]-Se,ae[1],ae[2]-Se,ae[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==m&&this.renderedRenderOrder_==w&&this.renderedFrameDeclutter_===!!e.declutter&&Ca(this.wrappedRenderedExtent_,S))return nr(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=I,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let q=new $7(VA(h,p),S,h,p),Y=yu(),M;if(Y){for(let Se=0,J=V.length;Se<J;++Se){let ae=V[Se],fe=$l(ae,u);i.loadFeatures(fe,T9(h,u),Y)}M=gu(Y,u)}else for(let Se=0,J=V.length;Se<J;++Se)i.loadFeatures(V[Se],h,u);let x=NA(h,p),D=!0,B=(Se,J)=>{let ae,fe=Se.getStyleFunction()||t.getStyleFunction();if(fe&&(ae=fe(Se,h)),ae){let ke=this.renderFeature(Se,x,ae,q,M,this.getLayer().getDeclutter(),J);D=D&&!ke}},U=$l(S,u),H=i.getFeaturesInExtent(U);w&&H.sort(w);for(let Se=0,J=H.length;Se<J;++Se)B(H[Se],Se);this.renderedFeatures_=H,this.ready=D;let O=q.finish(),De=new Z7(S,h,p,i.getOverlaps(),O,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=m,this.renderedRenderOrder_=w,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=R,this.wrappedRenderedExtent_=S,this.renderedCenter_=I,this.renderedProjection_=u,this.renderedPixelRatio_=p,this.replayGroup_=De,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=BA(r,e,i[c],t,this.boundHandleStyleImageChange_,o,s,a)||l;else l=BA(r,e,i,t,this.boundHandleStyleImageChange_,o,s,a);return l}},r8=zA;var UA=class extends H1{constructor(e){super(e)}createRenderer(){return new r8(this)}},o8=UA;var HA=class{constructor(e){this.rbush_=new cp(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[xt(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){let s=e[r],a=t[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[xt(a)]=l}this.rbush_.load(i)}remove(e){let t=xt(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[xt(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Ea(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return zo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return Qr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},jA=HA;function s8(n,e,t,i){let r=[],o=Xn();for(let s=0,a=t.length;s<a;++s){let l=t[s];o=jh(n,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}var a8=ki(),ng=class n{constructor(e,t,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?c1(this.flatCoordinates_):jh(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=fo(this.getExtent());this.flatInteriorPoints_=Pm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=W9(this.flatCoordinates_,this.ends_),t=s8(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=z9(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=k2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],a=k2(e,t,s,2,.5);Vh(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Oi(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=Sn(i)/Sn(t);ji(a8,i[0],i[3],r,-r,0,0,0),Sr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,a8,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=n1((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Om(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=N9(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=y1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};ng.prototype.getFlatCoordinates=ng.prototype.getOrientedFlatCoordinates;var Tu=ng;var $A=class extends ui{constructor(e){super(),this.projection=Oi(e.projection),this.attributions_=l8(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=l8(e),this.changed()}setState(e){this.state_=e,this.changed()}};function l8(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var q1=$A;var Jr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function c8(n,e){return[[-1/0,-1/0,1/0,1/0]]}var Hge=!1;function jge(n,e,t,i,r,o,s){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Hge,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?o(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function GA(n,e){return function(t,i,r,o,s){let a=this;jge(n,e,t,i,r,function(l,c){a.addFeatures(l),o!==void 0&&o(l)},s||Bo)}}var Rs=class extends Mi{constructor(e,t,i){super(e),this.feature=t,this.features=i}},WA=class extends q1{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bo,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(it(this.format_,"`format` must be set when `url` is set"),this.loader_=GA(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:c8;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new jA:null,this.loadedExtentsRtree_=new jA,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new mr(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=xt(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Rs(Jr.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof Tu||(this.featureChangeKeys_[e]=[yt(t,Re.CHANGE,this.handleFeatureChange_,this),yt(t,Vo.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof Tu){let o=this.idIndex_[r];o instanceof Tu?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(it(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let o=0,s=e.length;o<s;o++){let a=e[o],l=xt(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){let a=i[o],l=xt(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Jr.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Rs(Jr.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Jr.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(Jr.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ri.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ri.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Lt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){let i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new Rs(Jr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof Tu||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof Tu||r.intersectsExtent(e)){let o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),zo(this.nullGeometryFeatures_)||Vh(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=qh(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||wa,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),h=a;if(a=u instanceof Tu?0:u.closestPointXY(i,r,s,a),a<h){o=c;let p=Math.sqrt(a);l[0]=i-p,l[1]=r-p,l[2]=i+p,l[3]=r+p}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=xt(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}let o=t.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Rs(Jr.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:xt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&zo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,a=o.length;s<a;++s){let l=o[s];r.forEachInExtent(l,function(u){return Ca(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Rs(Jr.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rs(Jr.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rs(Jr.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i;t.forEachInExtent(e,function(r){if(Ea(r.extent,e))return i=r,!0}),i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=xt(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Lt),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[t],this.hasListener(Jr.REMOVEFEATURE)&&this.dispatchEvent(new Rs(Jr.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){it(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(GA(e,this.format_))}},u8=WA;var Te={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var qA=class extends zl{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Re.CHANGE)}release(){this.state===Te.ERROR&&this.setState(Te.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Te.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Rt()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:X2(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},hp=qA;var KA=class extends hp{constructor(e,t,i,r,o,s){super(e,t,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Te.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Te.ERROR,this.unlistenImage_(),this.image_=$ge(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Te.LOADED:this.state=Te.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Te.ERROR&&(this.state=Te.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Te.IDLE&&(this.state=Te.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=o7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function $ge(){let n=tn(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var K1=KA;var YA=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},d8=YA;var QA=class extends Lh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Rt()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ji(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),o1(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,s,a,l){let c,u=t.viewState;function h(z,q,Y,M){return o.call(s,q,z?Y:null,M)}let p=u.projection,m=f1(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&r){let z=p.getExtent(),q=It(z);v.push([-q,0],[q,0])}let w=t.layerStatesArray,I=w.length,S=[],R=[];for(let z=0;z<v.length;z++)for(let q=I-1;q>=0;--q){let Y=w[q],M=Y.layer;if(M.hasRenderer()&&zm(Y,u)&&a.call(l,M)){let x=M.getRenderer(),D=M.getSource();if(x&&D){let B=D.getWrapX()?m:e,U=h.bind(null,Y.managed);R[0]=B[0]+v[z][0],R[1]=B[1]+v[z][1],c=x.forEachFeatureAtCoordinate(R,t,i,U,S)}if(c)return c}}if(S.length===0)return;let V=1/S.length;return S.forEach((z,q)=>z.distanceSq+=q*V),S.sort((z,q)=>z.distanceSq-q.distanceSq),S.some(z=>c=z.callback(z.feature,z.layer,z.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,o,s){return this.forEachFeatureAtCoordinate(e,t,i,r,wa,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){Rt()}scheduleExpireIconCache(e){Zr.canExpireCache()&&e.postRenderFunctions.push(Gge)}};function Gge(n,e){Zr.expire()}var h8=QA;var ZA=class extends h8{constructor(e){super(e),this.fontChangeListenerKey_=yt(Ts,Vo.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Yl+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new $1(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Lt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent($i.PRECOMPOSE,e);let t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof H1&&a.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let o=[],s=null;for(let a=0,l=t.length;a<l;++a){let c=t[a];e.layerIndex=a;let u=c.layer,h=u.getSourceState();if(!zm(c,r)||h!="ready"&&h!="undefined"){u.unrender();continue}let p=u.render(e,s);p&&(p!==s&&(this.children_.push(p),s=p),o.push(c))}this.declutter(e,o),r7(this.element_,this.children_),this.dispatchRenderEvent($i.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},p8=ZA;var Wo=class extends Mi{constructor(e,t){super(e),this.layer=t}},XA={LAYERS:"layers"},JA=class n extends O1{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(XA.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new mr(i.slice(),{unique:!0}):it(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new mr(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Lt),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(yt(e,Ri.ADD,this.handleLayersAdd_,this),yt(e,Ri.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Lt);Cs(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new Wo("addlayer",o))}this.changed()}registerLayerListeners_(e){let t=[yt(e,Vo.PROPERTYCHANGE,this.handleLayerChange_,this),yt(e,Re.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(yt(e,"addlayer",this.handleLayerGroupAdd_,this),yt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[xt(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Wo("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Wo("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Wo("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=xt(t);this.listenerKeys_[i].forEach(Lt),delete this.listenerKeys_[i],this.dispatchEvent(new Wo("removelayer",t)),this.changed()}getLayers(){return this.get(XA.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Wo("removelayer",i[r]))}this.set(XA.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});let r=this.getLayerState(),o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let s=i,a=t.length;s<a;s++){let l=t[s];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=gr(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}},ig=JA;var eM=class extends Mi{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},nc=eM;var tM=class extends nc{constructor(e,t,i,r,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},ks=tM;var wn={SINGLECLICK:"singleclick",CLICK:Re.CLICK,DBLCLICK:Re.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var rg={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var nM=class extends zl{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=yt(i,rg.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=yt(i,rg.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Re.TOUCHMOVE,this.boundHandleTouchMove_,T1?{passive:!1}:!1)}emulateClick_(e){let t=new ks(wn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new ks(wn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new ks(wn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==wn.POINTERUP||t.type==wn.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==wn.POINTERDOWN||t.type==wn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new ks(wn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Lt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new ks(wn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(yt(i,wn.POINTERMOVE,this.handlePointerMove_,this),yt(i,wn.POINTERUP,this.handlePointerUp_,this),yt(this.element_,wn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(yt(this.element_.getRootNode(),wn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new ks(wn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ks(wn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Lt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Re.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Lt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Lt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},f8=nM;var Os={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Gi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var og=1/0,iM=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Cs(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){it(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=og?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,o=t[e],s=i[e],a=e;for(;e<r>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;t[e]=t[u],i[e]=i[u],e=u}t[e]=o,i[e]=s,this.siftDown_(a,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,o=i[t],s=r[t];for(;t>e;){let a=this.getParentIndex_(t);if(r[a]>s)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=o,r[t]=s}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,o=t.length,s,a,l;for(a=0;a<o;++a)s=t[a],l=e(s),l==og?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,t[r++]=s);t.length=r,i.length=r,this.heapify_()}},m8=iM;var rM=class extends m8{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(Re.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===Te.LOADED||i===Te.ERROR||i===Te.EMPTY){i!==Te.ERROR&&t.removeEventListener(Re.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===Te.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},g8=rM;function _8(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return og;if(!n.wantedTiles[t][e.getKey()])return og;let o=n.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}var oM=class extends ui{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Lt(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Bo&&this.listenerKeys.push(yt(e,Os.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},pp=oM;var sM=class extends pp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Re.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Yl+" "+rp+(this.collapsed_&&this.collapsible_?" "+L2:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=Array.from(new Set(t.flatMap(r=>r.getAttributions(e))));if(!this.overrideCollapsible_){let r=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return i}updateElement_(e){return $(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>J6(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!nr(t,this.renderedAttributions_)){i7(this.ulElement_);for(let r=0,o=t.length;r<o;++r){let s=document.createElement("li");s.innerHTML=t[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(L2),this.collapsed_?S2(this.collapseLabel_,this.label_):S2(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},y8=sM;var aM=class extends pp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(Re.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Yl+" "+rp,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Bm)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:yo}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(Bm);!o&&i===0?this.element.classList.add(Bm):o&&i!==0&&this.element.classList.remove(Bm)}this.label_.style.transform=r}this.rotation_=i}},v8=aM;var lM=class extends pp{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(Re.CLICK,this.handleClick_.bind(this,i),!1);let h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(Re.CLICK,this.handleClick_.bind(this,-i),!1);let p=t+" "+Yl+" "+rp,m=this.element;m.className=p,m.appendChild(u),m.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:yo})):i.setZoom(o)}}},b8=lM;function w8(n){n=n||{};let e=new mr;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new b8(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new v8(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new y8(n.attributionOptions)),e}var cM={ACTIVE:"active"};var uM=class extends ui{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(cM.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(cM.ACTIVE,e)}setMap(e){this.map_=e}};function I8(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:C7,center:n.getConstrainedCenter(r)})}}function fp(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let o=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:yo})}var Ps=uM;var dM=class extends Ps{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==wn.DBLCLICK){let i=e.originalEvent,r=e.map,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();fp(a,s,o,this.duration_),i.preventDefault(),t=!0}return!t}},C8=dM;var hM=class extends Ps{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==wn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==wn.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==wn.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==wn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function mp(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var Fs=hM;function sg(n){let e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}var E8=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Wge=function(n){let e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},Y1=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?Wge(n):!0},T8=wa;var Q1=function(n){let e=n.originalEvent;return e.button==0&&!(n7&&E2&&e.ctrlKey)};var Z1=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var x8=function(n){let e=n.originalEvent;return E2?e.metaKey:e.ctrlKey},S8=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},X1=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},J1=function(n){let e=n.originalEvent;return it(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"};var D8=function(n){let e=n.originalEvent;return it(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var pM=class extends Fs{constructor(e){super({stopDown:Ia}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:sg(Z1,D8);this.condition_=e.onFocusOnly?sg(Y1,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(mp(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();y9(o,a.getResolution()),Zh(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:yo})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},A8=pM;var fM=class extends Fs{constructor(e){e=e||{},super({stopDown:Ia}),this.condition_=e.condition?e.condition:E8,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!J1(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===sp)return;let r=t.getSize(),o=e.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return J1(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return J1(e)&&Q1(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},M8=fM;var mM=class extends Lh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new q9([r])}getGeometry(){return this.geometry_}},R8=mM;var ag={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},gp=class extends Mi{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},gM=class extends Fs{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new R8(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Q1,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new gp(ag.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new gp(t?ag.BOXEND:ag.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gp(ag.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gp(ag.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}},k8=gM;var _M=class extends k8{constructor(e){e=e||{};let t=e.condition?e.condition:S8;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:yo})}},O8=_M;var ic={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var yM=class extends Ps{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Z1(t)&&X1(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Re.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==ic.DOWN||r==ic.LEFT||r==ic.RIGHT||r==ic.UP)){let s=e.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;r==ic.DOWN?c=-a:r==ic.LEFT?l=-a:r==ic.RIGHT?l=a:c=a;let u=[l,c];Zh(u,s.getRotation()),I8(s,u,this.duration_),i.preventDefault(),t=!0}}return!t}},P8=yM;var vM=class extends Ps{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!x8(t)&&X1(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Re.KEYDOWN||e.type==Re.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let o=e.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();fp(a,s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},F8=vM;var bM=class extends Ps{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:T8;this.condition_=e.onFocusOnly?sg(Y1,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Re.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let o;if(e.type==Re.WHEEL&&(o=r.deltaY,t7&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=C1),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-en(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),fp(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},L8=bM;var wM=class extends Fs{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Ia),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;let s=e.map,a=s.getView();a.getConstraints().rotation!==sp&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(mp(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},N8=wM;var IM=class extends Fs{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Ia),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(mp(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},V8=IM;function B8(n){n=n||{};let e=new mr,t=new d8(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new M8),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new C8({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new A8({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new N8),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new V8({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new P8),e.push(new F8({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new L8({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new O8({duration:n.zoomDuration})),e}function z8(n){if(n instanceof wu){n.setMapInternal(null);return}n instanceof ig&&n.getLayers().forEach(z8)}function U8(n,e){if(n instanceof wu){n.setMapInternal(e);return}if(n instanceof ig){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)U8(t[i],e)}}var CM=class extends ui{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=qge(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:C1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ki(),this.pixelToCoordinateTransform_=ki(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||w8(),this.interactions=t.interactions||B8({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new g8(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Gi.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Gi.VIEW,this.handleViewChanged_),this.addChangeListener(Gi.SIZE,this.handleSizeChanged_),this.addChangeListener(Gi.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof kr)&&e.view.then(function(r){i.setView(new kr(r))}),this.controls.addEventListener(Ri.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ri.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ri.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ri.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ri.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ri.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){U8(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:wa,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,t,null,s,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof ig?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:wa,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(Gi.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return km(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?Zn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Gi.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof mr){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){let t=jo(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?Zn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Gi.SIZE)}getView(){return this.get(Gi.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return _8(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new ks(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===rg.POINTERDOWN||i===Re.WHEEL||i===Re.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=t.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===r?r.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){let s=e.viewHints;if(s[bi.ANIMATING]||s[bi.INTERACTING]){let a=Date.now()-e.time>8;r=a?0:8,o=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener($i.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent($i.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new nc(Os.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new nc(Os.LOADSTART,this,e))));let i=this.postRenderFunctions_;for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Lt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Re.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Re.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new p8(this)),this.mapBrowserEventHandler_=new f8(this,this.moveTolerance_);for(let o in wn)this.mapBrowserEventHandler_.addEventListener(wn[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Re.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Re.WHEEL,this.boundHandleBrowserEvent_,T1?{passive:!1}:!1);let i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[yt(i,Re.KEYDOWN,this.handleBrowserEvent,this),yt(i,Re.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Lt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Lt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=yt(e,Vo.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=yt(e,Re.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Lt),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Wo("addlayer",e)),this.layerGroupPropertyListenerKeys_=[yt(e,Vo.PROPERTYCHANGE,this.render,this),yt(e,Re.CHANGE,this.render,this),yt(e,"addlayer",this.handleLayerAdd_,this),yt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){z8(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(t!==void 0&&P2(t)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:xm(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:xt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=xm(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!Hl(this.previousExtent_)&&!Ea(o.extent,this.previousExtent_))&&(this.dispatchEvent(new nc(Os.MOVESTART,this,r)),this.previousExtent_=hu(this.previousExtent_)),this.previousExtent_&&!o.viewHints[bi.ANIMATING]&&!o.viewHints[bi.INTERACTING]&&!Ea(o.extent,this.previousExtent_)&&(this.dispatchEvent(new nc(Os.MOVEEND,this,o)),a1(o.extent,this.previousExtent_))),this.dispatchEvent(new nc(Os.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Os.LOADSTART)||this.hasListener(Os.LOADEND)||this.hasListener($i.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Wo("removelayer",t)),this.set(Gi.LAYERGROUP,e)}setSize(e){this.set(Gi.SIZE,e)}setTarget(e){this.set(Gi.TARGET,e)}setView(e){if(!e||e instanceof kr){this.set(Gi.VIEW,e);return}this.set(Gi.VIEW,new kr);let t=this;e.then(function(i){t.setView(new kr(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(t=[Math.max(0,o),Math.max(0,s)],!P2(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&m1("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!nr(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function qge(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ig({layers:n.layers});t[Gi.LAYERGROUP]=i,t[Gi.TARGET]=n.target,t[Gi.VIEW]=n.view instanceof kr?n.view:new kr;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new mr(n.controls.slice()):(it(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new mr(n.interactions.slice()):(it(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new mr(n.overlays.slice()):(it(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=n.overlays):s=new mr,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var EM=CM;var TM=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return it(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return it(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){it(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},eb=TM;function _p(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function xu(n,e,t){return n+"/"+e+"/"+t}function tb(n){return xu(n[0],n[1],n[2])}function H8(n){return n.split("/").map(Number)}function j8(n){return Kge(n[0],n[1],n[2])}function Kge(n,e,t){return(e<<n)+t}function $8(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let o=e.getFullTileRange(t);return o?o.containsXY(i,r):!0}var xM=class extends eb{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;let e=this.peekFirstKey(),i=H8(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(tb(r.tileCoord)),r.release())})}},nb=xM;var ib=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function Su(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new ib(n,e,t,i)}var rb=ib;var lg={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var SM=class extends wu{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(lg.PRELOAD)}setPreload(e){this.set(lg.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(lg.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(lg.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},G8=SM;function vp(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}function W8(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Float32Array||n instanceof DataView?n:null}var Yge=new Error("disposed"),yp=null;function q8(n){yp||(yp=tn(n.width,n.height,void 0,{willReadFrequently:!0}));let e=yp.canvas,t=n.width;e.width!==t&&(e.width=t);let i=n.height;return e.height!==i&&(e.height=i),yp.clearRect(0,0,t,i),yp.drawImage(n,0,0),yp.getImageData(0,0,t,i).data}var Qge=[256,256],DM=class extends hp{constructor(e){let t=Te.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=vp(this.data_);return e?[e.width,e.height]:Qge}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Te.IDLE&&this.state!==Te.ERROR)return;this.state=Te.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=Te.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=Te.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Yge),this.controller_=null),super.disposeInternal()}},cg=DM;var Zge=10,K8=.25,AM=class{constructor(e,t,i,r,o,s){this.sourceProj_=e,this.targetProj_=t;let a={},l=_u(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){let V=R[0]+"/"+R[1];return a[V]||(a[V]=l(R)),a[V]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&It(r)>=It(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?It(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?It(this.targetProj_.getExtent()):null;let c=mo(i),u=Wh(i),h=Gh(i),p=$h(i),m=this.transformInv_(c),v=this.transformInv_(u),w=this.transformInv_(h),I=this.transformInv_(p),S=Zge+(s?Math.max(0,Math.ceil(Math.log2(Ul(i)/(s*s*256*256)))):0);if(this.addQuad_(c,u,h,p,m,v,w,I,S),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(V,z,q){R=Math.min(R,V.source[0][0],V.source[1][0],V.source[2][0])}),this.triangles_.forEach(V=>{if(Math.max(V.source[0][0],V.source[1][0],V.source[2][0])-R>this.sourceWorldWidth_/2){let z=[[V.source[0][0],V.source[0][1]],[V.source[1][0],V.source[1][1]],[V.source[2][0],V.source[2][1]]];z[0][0]-R>this.sourceWorldWidth_/2&&(z[0][0]-=this.sourceWorldWidth_),z[1][0]-R>this.sourceWorldWidth_/2&&(z[1][0]-=this.sourceWorldWidth_),z[2][0]-R>this.sourceWorldWidth_/2&&(z[2][0]-=this.sourceWorldWidth_);let q=Math.min(z[0][0],z[1][0],z[2][0]);Math.max(z[0][0],z[1][0],z[2][0])-q<this.sourceWorldWidth_/2&&(V.source=z)}})}a={}}addTriangle_(e,t,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[e,t,i]})}addQuad_(e,t,i,r,o,s,a,l,c){let u=WD([o,s,a,l]),h=this.sourceWorldWidth_?It(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&h>.5&&h<1,v=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let I=WD([e,t,i,r]);v=It(I)/this.targetWorldWidth_>K8||v}!m&&this.sourceProj_.isGlobal()&&h&&(v=h>K8||v)}if(!v&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!kn(u,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)v=!0;else if(w=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(c>0){if(!v){let I=[(e[0]+i[0])/2,(e[1]+i[1])/2],S=this.transformInv_(I),R;m?R=(Da(o[0],p)+Da(a[0],p))/2-Da(S[0],p):R=(o[0]+a[0])/2-S[0];let V=(o[1]+a[1])/2-S[1];v=R*R+V*V>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let I=[(t[0]+i[0])/2,(t[1]+i[1])/2],S=this.transformInv_(I),R=[(r[0]+e[0])/2,(r[1]+e[1])/2],V=this.transformInv_(R);this.addQuad_(e,t,I,R,o,s,S,V,c-1),this.addQuad_(R,I,i,r,V,S,a,l,c-1)}else{let I=[(e[0]+t[0])/2,(e[1]+t[1])/2],S=this.transformInv_(I),R=[(i[0]+r[0])/2,(i[1]+r[1])/2],V=this.transformInv_(R);this.addQuad_(e,I,R,r,o,S,V,l,c-1),this.addQuad_(I,t,i,R,S,s,a,V,c-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}w&11||this.addTriangle_(e,i,r,o,a,l),w&14||this.addTriangle_(e,i,t,o,a,s),w&&(w&13||this.addTriangle_(t,r,e,s,l,o),w&7||this.addTriangle_(t,r,i,s,l,a))}calculateSourceExtent(){let e=Xn();return this.triangles_.forEach(function(t,i,r){let o=t.source;pu(e,o[0]),pu(e,o[1]),pu(e,o[2])}),e}getTriangles(){return this.triangles_}},ob=AM;var MM,qo=[];function Y8(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function RM(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function Xge(){if(MM===void 0){let n=tn(6,6,qo);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Y8(n,4,5,4,0),Y8(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;MM=RM(e,0)||RM(e,4)||RM(e,8),Es(n),qo.push(n.canvas)}return MM}function Q8(n,e,t,i){let r=Rm(t,e,n),o=r2(e,i,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);let a=n.getMetersPerUnit();a!==void 0&&(o/=a);let l=n.getExtent();if(!l||Uo(l,r)){let c=r2(n,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}function sb(n,e,t,i){let r=fo(t),o=Q8(n,e,r,i);return(!isFinite(o)||o<=0)&&u1(t,function(s){return o=Q8(n,e,s,i),isFinite(o)&&o>0}),o}function ab(n,e,t,i,r,o,s,a,l,c,u,h,p,m){let v=tn(Math.round(t*n),Math.round(t*e),qo);if(h||(v.imageSmoothingEnabled=!1),l.length===0)return v.canvas;v.scale(t,t);function w(q){return Math.round(q*t)/t}v.globalCompositeOperation="lighter";let I=Xn();l.forEach(function(q,Y,M){r9(I,q.extent)});let S,R=t/i,V=(h?1:1+Math.pow(2,-24))/R;if(!p||l.length!==1||c!==0){if(S=tn(Math.round(It(I)*R),Math.round(Sn(I)*R),qo),h||(S.imageSmoothingEnabled=!1),r&&m){let q=(r[0]-I[0])*R,Y=-(r[3]-I[3])*R,M=It(r)*R,x=Sn(r)*R;S.rect(q,Y,M,x),S.clip()}l.forEach(function(q,Y,M){if(q.image.width>0&&q.image.height>0){if(q.clipExtent){S.save();let H=(q.clipExtent[0]-I[0])*R,O=-(q.clipExtent[3]-I[3])*R,De=It(q.clipExtent)*R,Se=Sn(q.clipExtent)*R;S.rect(h?H:Math.round(H),h?O:Math.round(O),h?De:Math.round(H+De)-Math.round(H),h?Se:Math.round(O+Se)-Math.round(O)),S.clip()}let x=(q.extent[0]-I[0])*R,D=-(q.extent[3]-I[3])*R,B=It(q.extent)*R,U=Sn(q.extent)*R;S.drawImage(q.image,c,c,q.image.width-2*c,q.image.height-2*c,h?x:Math.round(x),h?D:Math.round(D),h?B:Math.round(x+B)-Math.round(x),h?U:Math.round(D+U)-Math.round(D)),q.clipExtent&&S.restore()}})}let z=mo(s);return a.getTriangles().forEach(function(q,Y,M){let x=q.source,D=q.target,B=x[0][0],U=x[0][1],H=x[1][0],O=x[1][1],De=x[2][0],Se=x[2][1],J=w((D[0][0]-z[0])/o),ae=w(-(D[0][1]-z[1])/o),fe=w((D[1][0]-z[0])/o),ke=w(-(D[1][1]-z[1])/o),Ae=w((D[2][0]-z[0])/o),Ge=w(-(D[2][1]-z[1])/o),Ze=B,vt=U;B=0,U=0,H-=Ze,O-=vt,De-=Ze,Se-=vt;let le=[[H,O,0,0,fe-J],[De,Se,0,0,Ae-J],[0,0,H,O,ke-ae],[0,0,De,Se,Ge-ae]],Dn=g9(le);if(!Dn)return;if(v.save(),v.beginPath(),Xge()||!h){v.moveTo(fe,ke);let St=4,Jn=J-fe,Tn=ae-ke;for(let On=0;On<St;On++)v.lineTo(fe+w((On+1)*Jn/St),ke+w(On*Tn/(St-1))),On!=St-1&&v.lineTo(fe+w((On+1)*Jn/St),ke+w((On+1)*Tn/(St-1)));v.lineTo(Ae,Ge)}else v.moveTo(fe,ke),v.lineTo(J,ae),v.lineTo(Ae,Ge);v.clip(),v.transform(Dn[0],Dn[2],Dn[1],Dn[3],J,ae),v.translate(I[0]-Ze,I[3]-vt);let Gn;if(S)Gn=S.canvas,v.scale(V,-V);else{let St=l[0],Jn=St.extent;Gn=St.image,v.scale(It(Jn)/Gn.width,-Sn(Jn)/Gn.height)}v.drawImage(Gn,0,0),v.restore()}),S&&(Es(S),qo.push(S.canvas)),u&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,a.getTriangles().forEach(function(q,Y,M){let x=q.target,D=(x[0][0]-z[0])/o,B=-(x[0][1]-z[1])/o,U=(x[1][0]-z[0])/o,H=-(x[1][1]-z[1])/o,O=(x[2][0]-z[0])/o,De=-(x[2][1]-z[1])/o;v.beginPath(),v.moveTo(U,H),v.lineTo(D,B),v.lineTo(O,De),v.closePath(),v.stroke()}),v.restore()),v.canvas}var kM=class extends cg{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let t=e.sourceProj,i=t.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=t.canWrapX()?r?gr(i,r):i:r;let o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),s=this.targetTileGrid_.getExtent(),a=this.sourceTileGrid_.getExtent(),l=s?gr(o,s):o;if(Ul(l)===0){this.state=Te.EMPTY;return}i&&(a?a=gr(a,i):a=i);let c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,h=sb(t,u,l,c);if(!isFinite(h)||h<=0){this.state=Te.EMPTY;return}let p=e.errorThreshold!==void 0?e.errorThreshold:.5;if(this.triangulation_=new ob(t,u,l,a,h*p,c),this.triangulation_.getTriangles().length===0){this.state=Te.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let m=this.triangulation_.calculateSourceExtent();if(a&&(t.canWrapX()?(m[1]=en(m[1],a[1],a[3]),m[3]=en(m[3],a[1],a[3])):m=gr(m,a)),!Ul(m))this.state=Te.EMPTY;else{let v=0,w=0;t.canWrapX()&&(v=It(i),w=Math.floor((m[0]-i[0])/v)),qh(m.slice(),t,!0).forEach(S=>{let R=this.sourceTileGrid_.getTileRangeForExtentAndZ(S,this.sourceZ_),V=e.getTileFunction;for(let z=R.minX;z<=R.maxX;z++)for(let q=R.minY;q<=R.maxY;q++){let Y=V(this.sourceZ_,z,q,this.pixelRatio_);if(Y){let M=w*v;this.sourceTiles_.push({tile:Y,offset:M})}}++w}),this.sourceTiles_.length===0&&(this.state=Te.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){let e=[],t=!1;if(this.sourceTiles_.forEach(v=>{let w=v.tile;if(!w||w.getState()!==Te.LOADED)return;let I=w.getSize(),S=this.gutter_,R,V=W8(w.getData());V?R=V:(t=!0,R=q8(vp(w.getData())));let z=[I[0]+2*S,I[1]+2*S],q=R instanceof Float32Array,Y=z[0]*z[1],M=q?Float32Array:Uint8ClampedArray,x=new M(R.buffer),D=M.BYTES_PER_ELEMENT,B=D*x.length/Y,U=x.byteLength/z[1],H=Math.floor(U/D/z[0]),O=Y*H,De=x;if(x.length!==O){De=new M(O);let ae=0,fe=0,ke=z[0]*H;for(let Ae=0;Ae<z[1];++Ae){for(let Ge=0;Ge<ke;++Ge)De[ae++]=x[fe+Ge];fe+=U/D}}let Se=this.sourceTileGrid_.getTileCoordExtent(w.tileCoord);Se[0]+=v.offset,Se[2]+=v.offset;let J=this.clipExtent_?.slice();J&&(J[0]+=v.offset,J[2]+=v.offset),e.push({extent:Se,clipExtent:J,data:new Uint8ClampedArray(De.buffer),dataType:M,bytesPerPixel:B,pixelSize:z})}),this.sourceTiles_.length=0,e.length===0){this.state=Te.ERROR,this.changed();return}let i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),o=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),u,h,p=e[0].bytesPerPixel,m=Math.ceil(p/3);for(let v=m-1;v>=0;--v){let w=[];for(let q=0,Y=e.length;q<Y;++q){let M=e[q],x=M.data,D=M.pixelSize,B=D[0],U=D[1],H=tn(B,U,qo),O=H.createImageData(B,U),De=O.data,Se=v*3;for(let J=0,ae=De.length;J<ae;J+=4)De[J]=x[Se],De[J+1]=x[Se+1],De[J+2]=x[Se+2],De[J+3]=255,Se+=p;H.putImageData(O,0,0),w.push({extent:M.extent,clipExtent:M.clipExtent,image:H.canvas})}let I=ab(o,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,w,this.gutter_,!1,!1,!1);for(let q=0,Y=w.length;q<Y;++q){let x=w[q].image.getContext("2d");Es(x),qo.push(x.canvas)}let S=I.getContext("2d"),R=S.getImageData(0,0,I.width,I.height);Es(S),qo.push(I),u||(h=new Uint8ClampedArray(p*R.width*R.height),u=new e[0].dataType(h.buffer));let V=R.data,z=v*3;for(let q=0,Y=V.length;q<Y;q+=4)V[q+3]===255?(h[z]=V[q],h[z+1]=V[q+1],h[z+2]=V[q+2]):(h[z]=0,h[z+1]=0,h[z+2]=0),z+=p}if(t){let v=tn(o,s),w=new ImageData(u,o);v.putImageData(w,0,0),this.reprojData_=v.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(o*this.pixelRatio_),Math.round(s*this.pixelRatio_)],this.state=Te.LOADED,this.changed()}load(){if(this.state!==Te.IDLE&&this.state!==Te.ERROR)return;this.state=Te.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i!==Te.IDLE&&i!==Te.LOADING)return;e++;let r=yt(t,Re.CHANGE,()=>{let o=t.getState();(o==Te.LOADED||o==Te.ERROR||o==Te.EMPTY)&&(Lt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t}){t.getState()==Te.IDLE&&t.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Lt),this.sourcesListenerKeys_=null}},Z8=kM;var OM=class extends hp{constructor(e,t,i,r,o,s,a,l,c,u,h,p){super(o,Te.IDLE,p),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let m=r.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent(),w=this.sourceTileGrid_.getExtent(),I=v?gr(m,v):m;if(Ul(I)===0){this.state=Te.EMPTY;return}let S=e.getExtent();S&&(w?w=gr(w,S):w=S);let R=r.getResolution(this.wrappedTileCoord_[0]),V=sb(e,i,I,R);if(!isFinite(V)||V<=0){this.state=Te.EMPTY;return}let z=u!==void 0?u:.5;if(this.triangulation_=new ob(e,i,I,w,V*z,R),this.triangulation_.getTriangles().length===0){this.state=Te.EMPTY;return}this.sourceZ_=t.getZForResolution(V);let q=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(q[1]=en(q[1],w[1],w[3]),q[3]=en(q[3],w[1],w[3])):q=gr(q,w)),!Ul(q))this.state=Te.EMPTY;else{let Y=0,M=0;e.canWrapX()&&(Y=It(S),M=Math.floor((q[0]-S[0])/Y)),qh(q.slice(),e,!0).forEach(D=>{let B=t.getTileRangeForExtentAndZ(D,this.sourceZ_);for(let U=B.minX;U<=B.maxX;U++)for(let H=B.minY;H<=B.maxY;H++){let O=c(this.sourceZ_,U,H,a);if(O){let De=M*Y;this.sourceTiles_.push({tile:O,offset:De})}}++M}),this.sourceTiles_.length===0&&(this.state=Te.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==Te.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Te.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ab(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Te.LOADED}this.changed()}load(){if(this.state==Te.IDLE){this.state=Te.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==Te.IDLE||i==Te.LOADING){e++;let r=yt(t,Re.CHANGE,o=>{let s=t.getState();(s==Te.LOADED||s==Te.ERROR||s==Te.EMPTY)&&(Lt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==Te.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Lt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Es(this.canvas_.getContext("2d")),qo.push(this.canvas_),this.canvas_=null),super.release()}},lb=OM;function PM(n,e,t,i){return`${n},${xu(e,t,i)}`}function FM(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function e_e(n,e,t){let i=n[t];return i?i.delete(e):!1}function X8(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=gr(e,go(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=gr(e,r))}return e}var LM=class extends W1{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Xn(),this.tempTileRange_=new rb(0,0,0,0),this.tempTileCoord_=_p(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new eb(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let o=this.tileCache_,a=this.getLayer().getSource(),l=PM(a.getKey(),e,t,i),c;if(o.containsKey(l))c=o.get(l);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;o.set(l,c)}return c}getTile(e,t,i,r){let o=this.getOrCreateTile(e,t,i,r);return o||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=Zn(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Uo(o,r))return null;let s=t.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(s.resolution);u>=l.getMinZoom();--u){let h=l.getTileCoordForCoordAndZ(r,u),p=this.getTile(u,h[1],h[2],t);if(!p||p.getState()!==Te.LOADED)continue;let m=l.getOrigin(u),v=jn(l.getTileSize(u)),w=l.getResolution(u),I;if(p instanceof K1)I=p.getImage();else if(p instanceof cg){if(I=vp(p.getData()),!I)continue}else continue;let S=Math.floor(c*((r[0]-m[0])/w-h[1]*v[0])),R=Math.floor(c*((m[1]-r[1])/w-h[2]*v[1])),V=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(I,S+V,R+V)}return null}prepareFrame(e){let t=this.getLayer().getSource();if(!t)return!1;let i=this.getLayer().getSource().getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,o){let s=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),u=xt(l);u in e.wantedTiles||(e.wantedTiles[u]={});let h=e.wantedTiles[u],p=a.getMapInternal(),m=Math.max(i-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),p?p.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let v=i;v>=m;--v){let w=c.getTileRangeForExtentAndZ(t,v,this.tempTileRange_),I=c.getResolution(v);for(let S=w.minX;S<=w.maxX;++S)for(let R=w.minY;R<=w.maxY;++R){let V=this.getTile(v,S,R,e);if(!V||!FM(r,V,v))continue;let q=V.getKey();if(h[q]=!0,V.getState()===Te.IDLE&&!e.tileQueue.isKeyQueued(q)){let Y=_p(v,S,R,this.tempTileCoord_);e.tileQueue.enqueue([V,u,c.getTileCoordCenter(Y),I])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],o=e[1],s=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=PM(a[l],r,o,s);if(i.containsKey(c)){let u=i.get(c);if(u.getState()===Te.LOADED)return u.endTransition(xt(this)),FM(t,u,r),!0}}return!1}findAltTiles_(e,t,i,r){let o=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=o.minX;u<=o.maxX;++u)for(let h=o.minY;h<=o.maxY;++h){let p=PM(c,i,u,h),m=!1;if(a.containsKey(p)){let v=a.get(p);v.getState()===Te.LOADED&&(FM(r,v,i),m=!0)}m||(s=!1)}return s}renderFrame(e,t){this.renderComplete=!0;let i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,s=r.resolution,a=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),p=u.getTileGridForProjection(o),m=p.getZForResolution(s,u.zDirection),v=p.getResolution(m),w=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==w&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=w):this.renderedSourceKey_=w;let I=e.extent,S=u.getTilePixelRatio(l);this.prepareContainer(e,t);let R=this.context.canvas.width,V=this.context.canvas.height,z=i.extent&&go(i.extent,o);z&&(I=gr(I,go(i.extent,o)));let q=v*R/2/S,Y=v*V/2/S,M=[a[0]-q,a[1]-Y,a[0]+q,a[1]+Y],x={},D=c.getPreload();if(e.nextExtent){let Ae=p.getZForResolution(r.nextResolution,u.zDirection),Ge=X8(e,e.nextExtent);this.enqueueTiles(e,Ge,Ae,x,D)}let B=X8(e,I);this.enqueueTiles(e,B,m,x,0),D>0&&setTimeout(()=>{this.enqueueTiles(e,B,m-1,x,D-1)},0);let U=xt(this),H=e.time;for(let Ae of x[m]){let Ge=Ae.getState();if((Ae instanceof lb||Ae instanceof Z8)&&Ge===Te.EMPTY)continue;let Ze=Ae.tileCoord;if(Ge===Te.LOADED&&Ae.getAlpha(U,H)===1){Ae.endTransition(U);continue}if(this.renderComplete=!1,this.findStaleTile_(Ze,x)){e_e(x,Ae,m),e.animate=!0;continue}if(this.findAltTiles_(p,Ze,m+1,x))continue;let Dn=p.getMinZoom();for(let Gn=m-1;Gn>=Dn&&!this.findAltTiles_(p,Ze,Gn,x);--Gn);}let O=v/s*l/S,De=this.getRenderContext(e);ji(this.tempTransform,R/2,V/2,O,O,0,-R/2,-V/2),i.extent&&this.clipUnrotated(De,e,z),u.getInterpolate()||(De.imageSmoothingEnabled=!1),this.preRender(De,e),this.renderedTiles.length=0;let Se=Object.keys(x).map(Number);Se.sort(xr);let J,ae=[],fe=[];for(let Ae=Se.length-1;Ae>=0;--Ae){let Ge=Se[Ae],Ze=u.getTilePixelSize(Ge,l,o),le=p.getResolution(Ge)/v,Dn=Ze[0]*le*O,Gn=Ze[1]*le*O,St=p.getTileCoordForCoordAndZ(mo(M),Ge),Jn=p.getTileCoordExtent(St),Tn=Zn(this.tempTransform,[S*(Jn[0]-M[0])/v,S*(M[3]-Jn[3])/v]),On=S*u.getGutterForProjection(o);for(let Fi of x[Ge]){if(Fi.getState()!==Te.LOADED)continue;let Ns=Fi.tileCoord,za=St[1]-Ns[1],sc=Math.round(Tn[0]-(za-1)*Dn),Vs=St[2]-Ns[2],Yo=Math.round(Tn[1]-(Vs-1)*Gn),or=Math.round(Tn[0]-za*Dn),no=Math.round(Tn[1]-Vs*Gn),Bs=sc-or,zs=Yo-no,Us=Se.length===1,Qo=!1;J=[or,no,or+Bs,no,or+Bs,no+zs,or,no+zs];for(let Ua=0,Zo=ae.length;Ua<Zo;++Ua)if(!Us&&Ge<fe[Ua]){let Pn=ae[Ua];kn([or,no,or+Bs,no+zs],[Pn[0],Pn[3],Pn[4],Pn[7]])&&(Qo||(De.save(),Qo=!0),De.beginPath(),De.moveTo(J[0],J[1]),De.lineTo(J[2],J[3]),De.lineTo(J[4],J[5]),De.lineTo(J[6],J[7]),De.moveTo(Pn[6],Pn[7]),De.lineTo(Pn[4],Pn[5]),De.lineTo(Pn[2],Pn[3]),De.lineTo(Pn[0],Pn[1]),De.clip())}ae.push(J),fe.push(Ge),this.drawTile(Fi,e,or,no,Bs,zs,On,Us),Qo&&De.restore(),this.renderedTiles.unshift(Fi),this.updateUsedTiles(e.usedTiles,u,Fi)}}this.renderedRevision=h,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Ea(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=l,this.renderedProjection=o,this.postRender(this.context,e),i.extent&&De.restore(),De.imageSmoothingEnabled=!0;let ke=(Ae,Ge)=>{let Ze=xt(u),vt=Ge.wantedTiles[Ze],le=vt?Object.keys(vt).length:0;this.updateCacheSize(le),this.tileCache_.expireCache()};return e.postRenderFunctions.push(ke),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,o,s,a,l){let c;if(e instanceof cg){if(c=vp(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),h=xt(this),p=t.layerStatesArray[t.layerIndex],m=p.opacity*(l?e.getAlpha(h,t.time):1),v=m!==u.globalAlpha;v&&(u.save(),u.globalAlpha=m),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),v&&u.restore(),m!==p.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=xt(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},J8=LM;var NM=class extends G8{constructor(e){super(e)}createRenderer(){return new J8(this,{cacheSize:this.getCacheSize()})}},eB=NM;var cb={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var bp=[0,0,0],rc=5,VM=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,it(X6(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,it(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=mo(i)),it(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,it(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,it(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{let s=new rb(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,o,a])}forEachTileCoordParentTileRange(e,t,i,r){let o,s,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=Su(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let o=e[1]*2,s=e[2]*2;return Su(o,o+1,s,s+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],o=e[1],s=e[2];if(t===r)return Su(o,s,o,s,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(o*l),u=Math.floor(s*l);if(t<r)return Su(c,c,u,u,i);let h=Math.floor(l*(o+1))-1,p=Math.floor(l*(s+1))-1;return Su(c,h,u,p,i)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,bp);let r=bp[1],o=bp[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,bp);let s=bp[1],a=bp[2];return Su(r,s,o,a,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=jn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=jn(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*r,a=i[1]-(e[2]+1)*o[1]*r,l=s+o[0]*r,c=a+o[1]*r;return Qr(s,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){let s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),c=jn(this.getTileSize(s),this.tmpSize_),u=a*(e-l[0])/i/c[0],h=a*(l[1]-t)/i/c[1];return r?(u=Mm(u,rc)-1,h=Mm(h,rc)-1):(u=Am(u,rc),h=Am(h,rc)),_p(s,u,h,o)}getTileCoordForXYAndZ_(e,t,i,r,o){let s=this.getOrigin(i),a=this.getResolution(i),l=jn(this.getTileSize(i),this.tmpSize_),c=(e-s[0])/a/l[0],u=(s[1]-t)/a/l[1];return r?(c=Mm(c,rc)-1,u=Mm(u,rc)-1):(c=Am(c,rc),u=Am(u,rc)),_p(i,c,u,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=Nh(this.resolutions_,e,t||0);return en(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return m2(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},BM=VM;function ub(n){let e=n.getDefaultTileGrid();return e||(e=n_e(n),n.setDefaultTileGrid(e)),e}function tB(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),o=db(t);if(!Uo(o,r)){let s=It(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,n.getTileCoordForCoordAndZ(r,i)}return e}function t_e(n,e,t,i){i=i!==void 0?i:"top-left";let r=iB(n,e,t);return new BM({extent:n,origin:o9(n,i),resolutions:r,tileSize:t})}function nB(n){let e=n||{},t=e.extent||Oi("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:iB(t,e.maxZoom,e.tileSize,e.maxResolution)};return new BM(i)}function iB(n,e,t,i){e=e!==void 0?e:42,t=jn(t!==void 0?t:256);let r=Sn(n),o=It(n);i=i>0?i:Math.max(o/t[0],r/t[1]);let s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function n_e(n,e,t,i){let r=db(n);return t_e(r,e,t,i)}function db(n){n=Oi(n);let e=n.getExtent();if(!e){let t=180*Ta.degrees/n.getMetersPerUnit();e=Qr(-t,-t,t,t)}return e}var zM=class extends q1{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&jn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new nb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){let i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o){return Rt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:ub(e)}getTileCacheForProjection(e){let t=this.getProjection();return it(t===null||mu(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=jn(r.getTileSize(e),this.tmpSize);return o==1?s:l7(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();let i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=tB(i,e,t)),$8(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}useTile(e,t,i,r){}},hb=class extends Mi{constructor(e,t){super(e),this.tile=t}},rB=zM;var i_e=/\{z\}/g,r_e=/\{x\}/g,o_e=/\{y\}/g,s_e=/\{-y\}/g;function oB(n,e,t,i,r){return n.replace(i_e,e.toString()).replace(r_e,t.toString()).replace(o_e,i.toString()).replace(s_e,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function sB(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),o;for(o=i;o<=r;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function a_e(n,e){return function(t,i,r){if(!t)return;let o,s=t[0];if(e){let a=e.getFullTileRange(s);a&&(o=a.getHeight()-1)}return oB(n,s,t[1],t[2],o)}}function aB(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=a_e(n[r],e);return l_e(i)}function l_e(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=j8(e),o=Da(r,n.length);return n[o](e,t,i)}}var UM=class n extends rB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=xt(t),r=t.getState(),o;r==Te.LOADING?(this.tileLoadingKeys_[i]=!0,o=cb.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==Te.ERROR?cb.TILELOADERROR:r==Te.LOADED?cb.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new hb(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=sB(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(aB(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){let r=xu(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}},lB=UM;var HM=class extends lB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:c_e,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:K1,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){let i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(let r in this.tileCacheForProjection){let o=this.tileCacheForProjection[r];o.expireCache(o==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!mu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||mu(t,e)))return this.tileGrid;let i=xt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=ub(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){let t=this.getProjection();if(!t||mu(t,e))return this.tileCache;let i=xt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new nb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,o,s){let a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,u=new this.tileClass(a,c!==void 0?Te.IDLE:Te.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(Re.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,i,r,o){let s=this.getProjection();if(!s||!o||mu(s,o))return this.getTileInternal(e,t,i,r,s||o);let a=this.getTileCacheForProjection(o),l=[e,t,i],c,u=tb(l);a.containsKey(u)&&(c=a.get(u));let h=this.getKey();if(c&&c.key==h)return c;let p=this.getTileGridForProjection(s),m=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(l,o),w=new lb(s,p,o,m,l,v,this.getTilePixelRatio(r),this.getGutter(),(I,S,R,V)=>this.getTileInternal(I,S,R,V,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return w.key=h,c?a.replace(u,w):a.set(u,w),w}getTileInternal(e,t,i,r,o){let s=xu(e,t,i),a=this.getKey();if(!this.tileCache.containsKey(s)){let c=this.createTile_(e,t,i,r,o,a);return this.tileCache.set(s,c),c}let l=this.tileCache.get(s);return l.key!=a&&(l=this.createTile_(e,t,i,r,o,a),this.tileCache.replace(s,l)),l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(let t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){let i=Oi(e);if(i){let r=xt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(let e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}};function c_e(n,e){n.getImage().src=e}var cB=HM;var jM=class extends cB{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:nB({extent:db(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},uB=jM;var u_e='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',$M=class extends uB{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[u_e];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},GM=$M;var dB=(()=>{let e=class e{constructor(){this.map=null,this.marker=null,this.vectorLayer=null,this.coordinates=""}ngOnChanges(){let i=this.convertCoordinates(this.coordinates),r=C9(i);this.map?(this.marker&&this.marker.setGeometry(new ep(r)),this.map.getView().setCenter(r),this.map.getView().setZoom(19)):(this.marker=new GD({geometry:new ep(r)}),this.marker.setStyle(new Zl({image:new Iu({src:"https://openlayers.org/en/latest/examples/data/icon.png",anchor:[.5,1]})})),this.vectorLayer=new o8({source:new u8({features:[this.marker]})}),this.map=new EM({target:"map",layers:[new eB({source:new GM}),this.vectorLayer],view:new kr({center:r,zoom:19,projection:"EPSG:3857"})}))}convertCoordinates(i){return[parseFloat(i.split(", ")[0]),parseFloat(i.split(", ")[1])]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=te({type:e,selectors:[["app-map"]],inputs:{coordinates:"coordinates"},standalone:!0,features:[cn,ye],decls:1,vars:0,consts:[["id","map",1,"map-container"]],template:function(r,o){r&1&&G(0,"div",0)},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:400px}"]});let n=e;return n})();var d_e=["*"];function h_e(n,e){if(n&1&&G(0,"span",5),n&2){let t=y(2);f("ngClass",t.icon)}}function p_e(n,e){if(n&1&&(ie(0),T(1,h_e,1,1,"span",4),re()),n&2){let t=y();g(),f("ngIf",t.icon)}}function f_e(n,e){}function m_e(n,e){n&1&&T(0,f_e,0,0,"ng-template")}function g_e(n,e){if(n&1&&(C(0,"span",6),T(1,m_e,1,0,null,7),E()),n&2){let t=y();g(),f("ngTemplateOutlet",t.iconTemplate)}}var hB=(()=>{class n{cd;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"icon":this.iconTemplate=t.template;break}})}constructor(t){this.cd=t}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(i){return new(i||n)(j(et))};static \u0275cmp=te({type:n,selectors:[["p-tag"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[P.HasDecoratorInputTransform,"rounded","rounded",W]},features:[Xe],ngContentSelectors:d_e,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&(_n(),C(0,"span",0),nn(1),T(2,p_e,2,1,"ng-container",1)(3,g_e,2,1,"span",2),C(4,"span",3),oe(5),E()()),i&2&&(ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),g(2),f("ngIf",!r.iconTemplate),g(),f("ngIf",r.iconTemplate),g(2),Ue(r.value))},dependencies:[ft,tt,At,mt],styles:[`@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}
`],encapsulation:2,changeDetection:0})}return n})(),pB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke,Ke]})}return n})();var y_e=(n,e,t,i,r,o,s)=>({"p-timeline p-component":!0,"p-timeline-left":n,"p-timeline-right":e,"p-timeline-top":t,"p-timeline-bottom":i,"p-timeline-alternate":r,"p-timeline-vertical":o,"p-timeline-horizontal":s}),WM=n=>({$implicit:n});function v_e(n,e){n&1&&de(0)}function b_e(n,e){n&1&&de(0)}function w_e(n,e){if(n&1&&(ie(0),T(1,b_e,1,0,"ng-container",5),re()),n&2){let t=y().$implicit,i=y();g(),f("ngTemplateOutlet",i.markerTemplate)("ngTemplateOutletContext",Ie(2,WM,t))}}function I_e(n,e){n&1&&G(0,"div",10),n&2&&N("data-pc-section","marker")}function C_e(n,e){n&1&&G(0,"div",11)}function E_e(n,e){n&1&&de(0)}function T_e(n,e){if(n&1&&(C(0,"div",3)(1,"div",4),T(2,v_e,1,0,"ng-container",5),E(),C(3,"div",6),T(4,w_e,2,4,"ng-container",7)(5,I_e,1,1,"ng-template",null,0,Qt)(7,C_e,1,0,"div",8),E(),C(8,"div",9),T(9,E_e,1,0,"ng-container",5),E()()),n&2){let t=e.$implicit,i=e.last,r=ct(6),o=y();N("data-pc-section","event"),g(),N("data-pc-section","opposite"),g(),f("ngTemplateOutlet",o.oppositeTemplate)("ngTemplateOutletContext",Ie(11,WM,t)),g(),N("data-pc-section","separator"),g(),f("ngIf",o.markerTemplate)("ngIfElse",r),g(3),f("ngIf",!i),g(),N("data-pc-section","content"),g(),f("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",Ie(13,WM,t))}}var fB=(()=>{class n{el;value;style;styleClass;align="left";layout="vertical";templates;contentTemplate;oppositeTemplate;markerTemplate;constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"opposite":this.oppositeTemplate=t.template;break;case"marker":this.markerTemplate=t.template;break}})}static \u0275fac=function(i){return new(i||n)(j(We))};static \u0275cmp=te({type:n,selectors:[["p-timeline"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:15,consts:[["marker",""],[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(i,r){i&1&&(C(0,"div",1),T(1,T_e,10,15,"div",2),E()),i&2&&(ne(r.styleClass),f("ngStyle",r.style)("ngClass",w0(7,y_e,r.align==="left",r.align==="right",r.align==="top",r.align==="bottom",r.align==="alternate",r.layout==="vertical",r.layout==="horizontal")),N("data-pc-name","timeline")("data-pc-section","root"),g(),f("ngForOf",r.value))},dependencies:[ft,si,tt,At,mt],styles:[`@layer primeng{.p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem;min-width:100px}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}}
`],encapsulation:2,changeDetection:0})}return n})(),mB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke]})}return n})();function S_e(n,e){if(n&1&&oe(0),n&2){let t=e.$implicit;zt(" ",t.nome," ")}}function D_e(n,e){n&1&&(C(0,"p"),oe(1,"Arrivo effettivo: --:--"),E())}function A_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E()),n&2){let t=y(2).$implicit;g(),zt("Arrivo effettivo: ",Ui(2,1,t.orarioArrivoEffettivo,"HH:mm"),"")}}function M_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E(),T(3,D_e,2,0,"p")(4,A_e,3,4)),n&2){let t=y().$implicit,i=y();g(),zt("Arrivo previsto: ",Ui(2,2,t.orarioArrivoPrevisto,"HH:mm"),""),g(2),hr(3,i.is00(t.orarioArrivoEffettivo)?3:4)}}function R_e(n,e){n&1&&(C(0,"p"),oe(1,"Partenza effettiva: --:--"),E())}function k_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E()),n&2){let t=y(2).$implicit;g(),zt("Partenza effettiva: ",Ui(2,1,t.orarioPartenzaEffettivo,"HH:mm"),"")}}function O_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E(),T(3,R_e,2,0,"p")(4,k_e,3,4)),n&2){let t=y().$implicit,i=y();g(),zt("Partenza Prevista: ",Ui(2,2,t.orarioPartenzaPrevisto,"HH:mm"),""),g(2),hr(3,i.is00(t.orarioPartenzaEffettivo)?3:4)}}function P_e(n,e){n&1&&(C(0,"p"),oe(1,"Transito effettivo: --:--"),E())}function F_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E()),n&2){let t=y(2).$implicit;g(),zt("Transito effettivo: ",Ui(2,1,t.orarioPassaggioEffettivo,"HH:mm"),"")}}function L_e(n,e){if(n&1&&(C(0,"p"),oe(1),zi(2,"date"),E(),T(3,P_e,2,0,"p")(4,F_e,3,4)),n&2){let t=y().$implicit,i=y();g(),zt("Transito Previsto: ",Ui(2,2,t.orarioPassaggioPrevisto,"HH:mm"),""),g(2),hr(3,i.is00(t.orarioPassaggioEffettivo)?3:4)}}function N_e(n,e){if(n&1&&T(0,M_e,5,5)(1,O_e,5,5)(2,L_e,5,5),n&2){let t=e.$implicit;hr(0,t.orarioArrivoPrevisto?0:-1),g(),hr(1,t.orarioPartenzaPrevisto?1:-1),g(),hr(2,t.orarioPassaggioPrevisto?2:-1)}}function V_e(n,e){if(n&1&&(ie(0),G(1,"app-map",10),re()),n&2){let t=y();g(),f("coordinates",t.lastPosition().coordinate)}}var gB=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.route=r,this.id=Xt(""),this.idSubject=new hi(""),this.lastPosition=ls(()=>{let o={};for(let s=this.percorso().checkpoint.length-1;s>=0;s--){if(this.percorso().checkpoint[s].orarioArrivoPrevisto&&this.percorso().checkpoint[s].orarioPartenzaPrevisto){if(this.is00(this.percorso().checkpoint[s].orarioArrivoEffettivo)&&this.is00(this.percorso().checkpoint[s].orarioPartenzaEffettivo))continue;o=this.percorso().checkpoint[s];break}if(this.percorso().checkpoint[s].orarioPassaggioPrevisto&&this.percorso().checkpoint[s].orarioPassaggioEffettivo){if(!this.is00(this.percorso().checkpoint[s].orarioPassaggioEffettivo)){o=this.percorso().checkpoint[s];break}}else if(this.percorso().checkpoint[s].orarioArrivoPrevisto&&this.percorso().checkpoint[s].orarioArrivoEffettivo){if(!this.is00(this.percorso().checkpoint[s].orarioArrivoEffettivo)){o=this.percorso().checkpoint[s];break}}else if(this.percorso().checkpoint[s].orarioPartenzaPrevisto&&this.percorso().checkpoint[s].orarioPartenzaEffettivo&&!this.is00(this.percorso().checkpoint[s].orarioPartenzaEffettivo)){o=this.percorso().checkpoint[s];break}s===0&&(o=this.percorso().checkpoint[0])}return o}),this.percorso=Xt({}),this.readyToShow=Xt(!1),this.lastTime=ls(()=>{let o=new Date,s=this.lastPosition();return s.orarioArrivoEffettivo&&!this.is00(s.orarioArrivoEffettivo)?s.orarioPartenzaEffettivo&&this.is00(s.orarioPartenzaEffettivo)?o=s.orarioArrivoEffettivo:s.orarioPartenzaEffettivo&&!this.is00(s.orarioPartenzaEffettivo)?o=s.orarioPartenzaEffettivo:o=s.orarioArrivoEffettivo:s.orarioPartenzaEffettivo&&!this.is00(s.orarioPartenzaEffettivo)?o=s.orarioPartenzaEffettivo:s.orarioPassaggioEffettivo&&!this.is00(s.orarioPassaggioEffettivo)?o=s.orarioPassaggioEffettivo:(o=new Date,o.setHours(0),o.setMinutes(0)),o})}ngOnInit(){this.routeSub=this.route.params.subscribe(i=>{this.id.set(i.id),this.idSubject.next(i.id)}),this.idSubject.subscribe(i=>{this.getPercorso()})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}getPercorso(){this.firestoreService.getPercorsi().subscribe(i=>{this.readyToShow.set(!1),this.percorso.set(i.filter(r=>r.id===this.id())[0]),this.percorso.update(r=>{let o=r;for(let s=0;s<r.checkpoint.length;s++)o.checkpoint[s].orarioPassaggioPrevisto&&(o.checkpoint[s].orarioPassaggioPrevisto=o.checkpoint[s].orarioPassaggioPrevisto.toDate(),o.checkpoint[s].orarioPassaggioEffettivo=o.checkpoint[s].orarioPassaggioEffettivo.toDate()),o.checkpoint[s].orarioArrivoPrevisto&&(o.checkpoint[s].orarioArrivoPrevisto=o.checkpoint[s].orarioArrivoPrevisto.toDate(),o.checkpoint[s].orarioArrivoEffettivo=o.checkpoint[s].orarioArrivoEffettivo.toDate()),o.checkpoint[s].orarioPartenzaPrevisto&&(o.checkpoint[s].orarioPartenzaPrevisto=o.checkpoint[s].orarioPartenzaPrevisto.toDate(),o.checkpoint[s].orarioPartenzaEffettivo=o.checkpoint[s].orarioPartenzaEffettivo.toDate());return o}),this.readyToShow.set(!0)})}is00(i){return i?i.getHours()===0&&i.getMinutes()===0:!1}state(){let i=0;if(this.lastPosition()===this.percorso().checkpoint[0]&&this.is00(this.lastPosition().orarioPartenzaEffettivo))return"NON PARTITO";if(this.lastPosition().orarioPartenzaPrevisto&&this.lastPosition().orarioArrivoPrevisto)if(this.is00(this.lastPosition().orarioPartenzaEffettivo)){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}else{if(this.lastPosition().orarioPartenzaPrevisto){let r=this.lastPosition().orarioPartenzaEffettivo.getTime()-this.lastPosition().orarioPartenzaPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioArrivoPrevisto){let r=this.lastPosition().orarioArrivoEffettivo.getTime()-this.lastPosition().orarioArrivoPrevisto.getTime();i=Math.floor(r/(1e3*60))}if(this.lastPosition().orarioPassaggioPrevisto){let r=this.lastPosition().orarioPassaggioEffettivo.getTime()-this.lastPosition().orarioPassaggioPrevisto.getTime();i=Math.floor(r/(1e3*60))}}return i<0?i.toString()+" MIN":i>0?"+"+i.toString()+" MIN":i===0?"IN ORARIO":"NON PARTITO"}};e.\u0275fac=function(r){return new(r||e)(j(t1),j(uo))},e.\u0275cmp=te({type:e,selectors:[["app-tracking"]],standalone:!0,features:[ye],decls:16,vars:8,consts:[[1,"last-detection"],[1,"detection"],[1,"tag-container"],[3,"value"],[1,"map-section"],[1,"timeline"],["pTemplate","content"],["pTemplate","opposite"],[1,"map"],[4,"ngIf"],[3,"coordinates"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"div",1)(2,"h3"),oe(3),E(),C(4,"p"),oe(5),zi(6,"date"),E()(),C(7,"div",2),G(8,"p-tag",3),E()(),C(9,"div",4)(10,"div",5)(11,"p-timeline",3),T(12,S_e,1,1,"ng-template",6)(13,N_e,3,3,"ng-template",7),E()(),C(14,"div",8),T(15,V_e,2,1,"ng-container",9),E()()),r&2&&(g(3),Ue(o.lastPosition().id),g(2),zt("Ultimo rilevamento: ",o.is00(o.lastTime())?"--:--":Ui(6,5,o.lastTime(),"HH:mm"),""),g(3),wC("value",o.state()),g(3),f("value",o.percorso().checkpoint),g(4),f("ngIf",o.readyToShow()))},dependencies:[dB,tt,V0,pB,hB,qe,mB,fB],styles:["[_nghost-%COMP%]     .p-tag{font-size:16px;padding:.5em;background-color:var(--verde)}.last-detection[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.detection[_ngcontent-%COMP%]{flex:1;margin:10px}.tag-container[_ngcontent-%COMP%]{flex:2;align-content:center}.map-section[_ngcontent-%COMP%]{display:flex;flex-direction:row}.timeline[_ngcontent-%COMP%]{flex:1;max-height:inherit;overflow-y:auto;max-height:400px}.map[_ngcontent-%COMP%]{flex:2;max-height:400px}[_nghost-%COMP%]     .p-timeline-event-opposite{font-size:12px}[_nghost-%COMP%]     .p-timeline-event-marker{border-color:var(--verde)}@media (600px < width <= 900px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:2}.timeline[_ngcontent-%COMP%], .map[_ngcontent-%COMP%]{flex:1}}@media (400px < width <= 600px){.detection[_ngcontent-%COMP%]{flex:1;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}}@media (width <= 400px){.detection[_ngcontent-%COMP%]{flex:2;margin:5px}.tag-container[_ngcontent-%COMP%]{flex:1;text-align:center}.map-section[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]{max-height:fit-content;margin:10px auto}}"]});let n=e;return n})();var _B=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:qN,children:[{path:":id",component:gB}]},{path:"login",component:d4},{path:"manage",component:K6,canActivate:[Y6]}];function yB(n){return new _e(3e3,!1)}function B_e(){return new _e(3100,!1)}function z_e(){return new _e(3101,!1)}function U_e(n){return new _e(3001,!1)}function H_e(n){return new _e(3003,!1)}function j_e(n){return new _e(3004,!1)}function $_e(n,e){return new _e(3005,!1)}function G_e(){return new _e(3006,!1)}function W_e(){return new _e(3007,!1)}function q_e(n,e){return new _e(3008,!1)}function K_e(n){return new _e(3002,!1)}function Y_e(n,e,t,i,r){return new _e(3010,!1)}function Q_e(){return new _e(3011,!1)}function Z_e(){return new _e(3012,!1)}function X_e(){return new _e(3200,!1)}function J_e(){return new _e(3202,!1)}function e0e(){return new _e(3013,!1)}function t0e(n){return new _e(3014,!1)}function n0e(n){return new _e(3015,!1)}function i0e(n){return new _e(3016,!1)}function r0e(n,e){return new _e(3404,!1)}function o0e(n){return new _e(3502,!1)}function s0e(n){return new _e(3503,!1)}function a0e(){return new _e(3300,!1)}function l0e(n){return new _e(3504,!1)}function c0e(n){return new _e(3301,!1)}function u0e(n,e){return new _e(3302,!1)}function d0e(n){return new _e(3303,!1)}function h0e(n,e){return new _e(3400,!1)}function p0e(n){return new _e(3401,!1)}function f0e(n){return new _e(3402,!1)}function m0e(n,e){return new _e(3505,!1)}function oc(n){switch(n.length){case 0:return new wl;case 1:return n[0];default:return new zf(n)}}function kB(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,h=u&&a||new Map;l.forEach((p,m)=>{let v=m,w=p;if(m!=="offset")switch(v=n.normalizePropertyName(v,r),w){case Dy:w=t.get(m);break;case ds:w=i.get(m);break;default:w=n.normalizeStyleValue(m,v,w,r);break}h.set(v,w)}),u||o.push(h),a=h,s=c}),r.length)throw o0e(r);return o}function mR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qM(t,"destroy",n)));break}}function qM(n,e,t){let i=t.totalTime,r=!!t.disabled,o=gR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function gR(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function to(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function vB(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var g0e=typeof document>"u"?null:document.documentElement;function _R(n){let e=n.parentNode||n.host||null;return e===g0e?null:e}function _0e(n){return n.substring(1,6)=="ebkit"}var Du=null,bB=!1;function y0e(n){Du||(Du=v0e()||{},bB=Du.style?"WebkitAppearance"in Du.style:!1);let e=!0;return Du.style&&!_0e(n)&&(e=n in Du.style,!e&&bB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Du.style)),e}function v0e(){return typeof document<"u"?document.body:null}function OB(n,e){for(;e;){if(e===n)return!0;e=_R(e)}return!1}function PB(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var yR=(()=>{let e=class e{validateStyleProperty(i){return y0e(i)}matchesElement(i,r){return!1}containsElement(i,r){return OB(i,r)}getParentElement(i){return _R(i)}query(i,r,o){return PB(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,l=[],c){return new wl(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})(),IR=class IR{};IR.NOOP=new yR;var Ru=IR,ku=class{};var b0e=1e3,FB="{{",w0e="}}",LB="ng-enter",JM="ng-leave",pb="ng-trigger",yb=".ng-trigger",wB="ng-animating",eR=".ng-animating";function Ba(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tR(parseFloat(e[1]),e[2])}function tR(n,e){switch(e){case"s":return n*b0e;default:return n}}function vb(n,e,t){return n.hasOwnProperty("duration")?n:I0e(n,e,t)}function I0e(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(yB(n)),{duration:0,delay:0,easing:""};r=tR(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=tR(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(B_e()),a=!0),o<0&&(e.push(z_e()),a=!0),a&&e.splice(l,0,yB(n))}return{duration:r,delay:o,easing:s}}function C0e(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ls(n,e,t){e.forEach((i,r)=>{let o=vR(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Mu(n,e){e.forEach((t,i)=>{let r=vR(i);n.style[r]=""})}function ug(n){return Array.isArray(n)?n.length==1?n[0]:M3(n):n}function E0e(n,e,t){let i=e.params||{},r=NB(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(U_e(o))})}var nR=new RegExp(`${FB}\\s*(.+?)\\s*${w0e}`,"g");function NB(n){let e=[];if(typeof n=="string"){let t;for(;t=nR.exec(n);)e.push(t[1]);nR.lastIndex=0}return e}function hg(n,e,t){let i=`${n}`,r=i.replace(nR,(o,s)=>{let a=e[s];return a==null&&(t.push(H_e(s)),a=""),a.toString()});return r==i?n:r}var T0e=/-+([a-z0-9])/g;function vR(n){return n.replace(T0e,(...e)=>e[1].toUpperCase())}function x0e(n,e){return n===0||e===0}function S0e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,bR(n,a)))}}return e}function eo(n,e,t){switch(e.type){case gt.Trigger:return n.visitTrigger(e,t);case gt.State:return n.visitState(e,t);case gt.Transition:return n.visitTransition(e,t);case gt.Sequence:return n.visitSequence(e,t);case gt.Group:return n.visitGroup(e,t);case gt.Animate:return n.visitAnimate(e,t);case gt.Keyframes:return n.visitKeyframes(e,t);case gt.Style:return n.visitStyle(e,t);case gt.Reference:return n.visitReference(e,t);case gt.AnimateChild:return n.visitAnimateChild(e,t);case gt.AnimateRef:return n.visitAnimateRef(e,t);case gt.Query:return n.visitQuery(e,t);case gt.Stagger:return n.visitStagger(e,t);default:throw j_e(e.type)}}function bR(n,e){return window.getComputedStyle(n)[e]}var D0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bb=class extends ku{normalizePropertyName(e,t){return vR(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(D0e.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push($_e(e,i))}return s+o}};var wb="*";function A0e(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>M0e(i,t,e)):t.push(n),t}function M0e(n,e,t){if(n[0]==":"){let l=R0e(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(n0e(n)),e;let r=i[1],o=i[2],s=i[3];e.push(IB(r,s));let a=r==wb&&s==wb;o[0]=="<"&&!a&&e.push(IB(s,r))}function R0e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(i0e(n)),"* => *"}}var fb=new Set(["true","1"]),mb=new Set(["false","0"]);function IB(n,e){let t=fb.has(n)||mb.has(n),i=fb.has(e)||mb.has(e);return(r,o)=>{let s=n==wb||n==r,a=e==wb||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?fb.has(n):mb.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?fb.has(e):mb.has(e)),s&&a}}var VB=":self",k0e=new RegExp(`s*${VB}s*,?`,"g");function BB(n,e,t,i){return new iR(n).build(e,t,i)}var CB="",iR=class{constructor(e){this._driver=e}build(e,t,i){let r=new rR(t);return this._resetContextStyleTimingState(r),eo(this,ug(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=CB,e.collectedStyles=new Map,e.collectedStyles.set(CB,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(G_e()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==gt.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==gt.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(W_e())}),{type:gt.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{NB(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(q_e(e.name,[...o.values()]))}return{type:gt.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=eo(this,ug(e.animation),t),r=A0e(e.expr,t.errors);return{type:gt.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Au(e.options)}}visitSequence(e,t){return{type:gt.Sequence,steps:e.steps.map(i=>eo(this,i,t)),options:Au(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=eo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:gt.Group,steps:o,options:Au(e.options)}}visitAnimate(e,t){let i=L0e(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:mi({});if(o.type==gt.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=mi(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:gt.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ds?i.push(a):t.errors.push(K_e(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(FB)>=0){o=!0;break}}}),{type:gt.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(Y_e(l,u.startTime,u.endTime,o,r)),h=!1),o=u.startTime),h&&c.set(l,{startTime:o,endTime:r}),t.options&&E0e(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:gt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Q_e()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(S=>{let R=this._makeStyleAst(S,t),V=R.offset!=null?R.offset:F0e(R.styles),z=0;return V!=null&&(o++,z=R.offset=V),l=l||z<0||z>1,a=a||z<c,c=z,s.push(z),R});l&&t.errors.push(Z_e()),a&&t.errors.push(X_e());let h=e.steps.length,p=0;o>0&&o<h?t.errors.push(J_e()):o==0&&(p=r/(h-1));let m=h-1,v=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return u.forEach((S,R)=>{let V=p>0?R==m?1:p*R:s[R],z=V*I;t.currentTime=v+w.delay+z,w.duration=z,this._validateStyleAst(S,t),S.offset=V,i.styles.push(S)}),i}visitReference(e,t){return{type:gt.Reference,animation:eo(this,ug(e.animation),t),options:Au(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:gt.AnimateChild,options:Au(e.options)}}visitAnimateRef(e,t){return{type:gt.AnimateRef,animation:this.visitReference(e.animation,t),options:Au(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=O0e(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,to(t.collectedStyles,t.currentQuerySelector,new Map);let a=eo(this,ug(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:gt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Au(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(e0e());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:vb(e.timings,t.errors,!0);return{type:gt.Stagger,animation:eo(this,ug(e.animation),t),timings:i,options:null}}};function O0e(n){let e=!!n.split(/\s*,\s*/).find(t=>t==VB);return e&&(n=n.replace(k0e,"")),n=n.replace(/@\*/g,yb).replace(/@\w+/g,t=>yb+"-"+t.slice(1)).replace(/:animating/g,eR),[n,e]}function P0e(n){return n?ce({},n):null}var rR=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function F0e(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function L0e(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=vb(n,e).duration;return KM(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=KM(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=vb(t,e);return KM(r.duration,r.delay,r.easing)}function Au(n){return n?(n=ce({},n),n.params&&(n.params=P0e(n.params))):n={},n}function KM(n,e,t){return{duration:n,delay:e,easing:t}}function wR(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var pg=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},N0e=1,V0e=":enter",B0e=new RegExp(V0e,"g"),z0e=":leave",U0e=new RegExp(z0e,"g");function zB(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return new oR().buildKeyframes(n,e,t,i,r,o,s,a,l,c)}var oR=class{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new pg;let h=new sR(e,t,c,r,o,u,[]);h.options=l;let p=l.delay?Ba(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,l),eo(this,i,h);let m=h.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let w=m.length-1;w>=0;w--){let I=m[w];if(I.element===t){v=I;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,h.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[wR(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ba(hg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Ba(i.duration):null,a=i.delay!=null?Ba(i.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==gt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ib);let s=Ba(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>eo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ba(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),eo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?hg(i,t.params,t.errors):i;return vb(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==gt.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ba(r.delay):0;o&&(t.previousNode.type===gt.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ib);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),eo(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let p=h.currentTimeline.currentTime;s=Math.max(s,p)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;eo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Ib={},sR=class n{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ib,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ba(i.duration)),i.delay!=null&&(r.delay=Ba(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=hg(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ib,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new aR(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(B0e,"."+this._enterClassName),e=e.replace(U0e,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(t0e(t)),a}},Cb=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=N0e,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ds),this._currentKeyframe.set(t,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=H0e(e,this._globalTimelineStyles);for(let[a,l]of s){let c=hg(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ds),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===Dy?e.add(h):u===ds&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return wR(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},aR=class extends Cb{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",EB(a)),o.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let p=new Map(e[h]),m=p.get("offset"),v=t+m*i;p.set("offset",EB(v/s)),o.push(p)}i=s,t=0,r="",e=o}return wR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function EB(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function H0e(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,ds)}else for(let[o,s]of r)t.set(o,s)}),t}function TB(n,e,t,i,r,o,s,a,l,c,u,h,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}var YM={},Eb=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return j0e(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){let h=[],p=this.ast.options&&this.ast.options.params||YM,m=a&&a.params||YM,v=this.buildStyles(i,m,h),w=l&&l.params||YM,I=this.buildStyles(r,w,h),S=new Set,R=new Map,V=new Map,z=r==="void",q={params:UB(w,p),delay:this.ast.options?.delay},Y=u?[]:zB(e,t,this.ast.animation,o,s,v,I,q,c,h),M=0;return Y.forEach(x=>{M=Math.max(x.duration+x.delay,M)}),h.length?TB(t,this._triggerName,i,r,z,v,I,[],[],R,V,M,h):(Y.forEach(x=>{let D=x.element,B=to(R,D,new Set);x.preStyleProps.forEach(H=>B.add(H));let U=to(V,D,new Set);x.postStyleProps.forEach(H=>U.add(H)),D!==t&&S.add(D)}),TB(t,this._triggerName,i,r,z,v,I,Y,[...S.values()],R,V,M))}};function j0e(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function UB(n,e){let t=ce({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var lR=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=UB(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=hg(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}};function $0e(n,e,t){return new cR(n,e,t)}var cR=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new lR(r.style,o,i))}),xB(this.states,"true","1"),xB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Eb(e,r,this.states))}),this.fallbackTransition=G0e(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function G0e(n,e,t){let i=[(s,a)=>!0],r={type:gt.Sequence,steps:[],options:null},o={type:gt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Eb(n,o,e)}function xB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var W0e=new pg,uR=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=BB(this._driver,t,i,r);if(i.length)throw s0e(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=kB(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=zB(this._driver,t,o,LB,JM,new Map,new Map,i,W0e,r),s.forEach(u=>{let h=to(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(a0e()),s=[]),r.length)throw l0e(r);a.forEach((u,h)=>{u.forEach((p,m)=>{u.set(m,this._driver.computeStyle(h,m,ds))})});let l=s.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=oc(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw c0e(e);return t}listen(e,t,i,r){let o=gR(t,"","","");return mR(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},SB="ng-animate-queued",q0e=".ng-animate-queued",QM="ng-animate-disabled",K0e=".ng-animate-disabled",Y0e="ng-star-inserted",Q0e=".ng-star-inserted",Z0e=[],HB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ko="__ng_removed",fg=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=eye(r),i){let o=e,{value:s}=o,a=Hb(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},dg="void",ZM=new fg(dg),dR=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw u0e(i,t);if(i==null||i.length==0)throw d0e(t);if(!tye(i))throw h0e(i,t);let o=to(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=to(this._engine.statesByElement,e,new Map);return a.has(t)||(vo(e,pb),vo(e,pb+"-"+t),a.set(t,ZM)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw p0e(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new mg(this.id,t,e),a=this._engine.statesByElement.get(e);a||(vo(e,pb),vo(e,pb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new fg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=ZM),!(c.value===dg)&&l.value===c.value){if(!rye(l.params,c.params)){let w=[],I=o.matchStyles(l.value,l.params,w),S=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Mu(e,I),Ls(e,S)})}return}let p=to(this._engine.playersByElement,e,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let m=o.matchTransition(l.value,c.value,e,c.params),v=!1;if(!m){if(!r)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(vo(e,SB),s.onStart(()=>{wp(e,SB)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let I=this._engine.playersByElement.get(e);if(I){let S=I.indexOf(s);S>=0&&I.splice(S,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,yb,!0);i.forEach(r=>{if(r[Ko])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,dg,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&oc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||ZM,u=new fg(dg),h=new mg(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ko];(!o||o===HB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){vo(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=gR(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,mR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},hR=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new dR(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(gb(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!gb(t))return;let o=t[Ko];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vo(e,QM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wp(e,QM))}removeNode(e,t,i){if(gb(t)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Ko]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return gb(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,eR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ko];if(t&&t.setForRemoval){if(e[Ko]=HB,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(QM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,K0e,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];vo(r,Y0e)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?oc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw f0e(e)}_flushAnimations(e,t){let i=new pg,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(J=>{u.add(J);let ae=this.driver.query(J,q0e,!0);for(let fe=0;fe<ae.length;fe++)u.add(ae[fe])});let h=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=MB(p,this.collectedEnterElements),v=new Map,w=0;m.forEach((J,ae)=>{let fe=LB+w++;v.set(ae,fe),J.forEach(ke=>vo(ke,fe))});let I=[],S=new Set,R=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){let ae=this.collectedLeaveElements[J],fe=ae[Ko];fe&&fe.setForRemoval&&(I.push(ae),S.add(ae),fe.hasAnimation?this.driver.query(ae,Q0e,!0).forEach(ke=>S.add(ke)):R.add(ae))}let V=new Map,z=MB(p,Array.from(S));z.forEach((J,ae)=>{let fe=JM+w++;V.set(ae,fe),J.forEach(ke=>vo(ke,fe))}),e.push(()=>{m.forEach((J,ae)=>{let fe=v.get(ae);J.forEach(ke=>wp(ke,fe))}),z.forEach((J,ae)=>{let fe=V.get(ae);J.forEach(ke=>wp(ke,fe))}),I.forEach(J=>{this.processLeaveNode(J)})});let q=[],Y=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(fe=>{let ke=fe.player,Ae=fe.element;if(q.push(ke),this.collectedEnterElements.length){let St=Ae[Ko];if(St&&St.setForMove){if(St.previousTriggersValues&&St.previousTriggersValues.has(fe.triggerName)){let Jn=St.previousTriggersValues.get(fe.triggerName),Tn=this.statesByElement.get(fe.element);if(Tn&&Tn.has(fe.triggerName)){let On=Tn.get(fe.triggerName);On.value=Jn,Tn.set(fe.triggerName,On)}}ke.destroy();return}}let Ge=!h||!this.driver.containsElement(h,Ae),Ze=V.get(Ae),vt=v.get(Ae),le=this._buildInstruction(fe,i,vt,Ze,Ge);if(le.errors&&le.errors.length){Y.push(le);return}if(Ge){ke.onStart(()=>Mu(Ae,le.fromStyles)),ke.onDestroy(()=>Ls(Ae,le.toStyles)),r.push(ke);return}if(fe.isFallbackTransition){ke.onStart(()=>Mu(Ae,le.fromStyles)),ke.onDestroy(()=>Ls(Ae,le.toStyles)),r.push(ke);return}let Dn=[];le.timelines.forEach(St=>{St.stretchStartingKeyframe=!0,this.disabledNodes.has(St.element)||Dn.push(St)}),le.timelines=Dn,i.append(Ae,le.timelines);let Gn={instruction:le,player:ke,element:Ae};s.push(Gn),le.queriedElements.forEach(St=>to(a,St,[]).push(ke)),le.preStyleProps.forEach((St,Jn)=>{if(St.size){let Tn=l.get(Jn);Tn||l.set(Jn,Tn=new Set),St.forEach((On,Fi)=>Tn.add(Fi))}}),le.postStyleProps.forEach((St,Jn)=>{let Tn=c.get(Jn);Tn||c.set(Jn,Tn=new Set),St.forEach((On,Fi)=>Tn.add(Fi))})});if(Y.length){let J=[];Y.forEach(ae=>{J.push(m0e(ae.triggerName,ae.errors))}),q.forEach(ae=>ae.destroy()),this.reportError(J)}let M=new Map,x=new Map;s.forEach(J=>{let ae=J.element;i.has(ae)&&(x.set(ae,ae),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,M))}),r.forEach(J=>{let ae=J.element;this._getPreviousPlayers(ae,!1,J.namespaceId,J.triggerName,null).forEach(ke=>{to(M,ae,[]).push(ke),ke.destroy()})});let D=I.filter(J=>RB(J,l,c)),B=new Map;AB(B,this.driver,R,c,ds).forEach(J=>{RB(J,l,c)&&D.push(J)});let H=new Map;m.forEach((J,ae)=>{AB(H,this.driver,new Set(J),l,Dy)}),D.forEach(J=>{let ae=B.get(J),fe=H.get(J);B.set(J,new Map([...ae?.entries()??[],...fe?.entries()??[]]))});let O=[],De=[],Se={};s.forEach(J=>{let{element:ae,player:fe,instruction:ke}=J;if(i.has(ae)){if(u.has(ae)){fe.onDestroy(()=>Ls(ae,ke.toStyles)),fe.disabled=!0,fe.overrideTotalTime(ke.totalTime),r.push(fe);return}let Ae=Se;if(x.size>1){let Ze=ae,vt=[];for(;Ze=Ze.parentNode;){let le=x.get(Ze);if(le){Ae=le;break}vt.push(Ze)}vt.forEach(le=>x.set(le,Ae))}let Ge=this._buildAnimation(fe.namespaceId,ke,M,o,H,B);if(fe.setRealPlayer(Ge),Ae===Se)O.push(fe);else{let Ze=this.playersByElement.get(Ae);Ze&&Ze.length&&(fe.parentPlayer=oc(Ze)),r.push(fe)}}else Mu(ae,ke.fromStyles),fe.onDestroy(()=>Ls(ae,ke.toStyles)),De.push(fe),u.has(ae)&&r.push(fe)}),De.forEach(J=>{let ae=o.get(J.element);if(ae&&ae.length){let fe=oc(ae);J.setRealPlayer(fe)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<I.length;J++){let ae=I[J],fe=ae[Ko];if(wp(ae,JM),fe&&fe.hasAnimation)continue;let ke=[];if(a.size){let Ge=a.get(ae);Ge&&Ge.length&&ke.push(...Ge);let Ze=this.driver.query(ae,eR,!0);for(let vt=0;vt<Ze.length;vt++){let le=a.get(Ze[vt]);le&&le.length&&ke.push(...le)}}let Ae=ke.filter(Ge=>!Ge.destroyed);Ae.length?nye(this,ae,Ae):this.processLeaveNode(ae)}return I.length=0,O.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();let ae=this.players.indexOf(J);this.players.splice(ae,1)}),J.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==dg;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==o,h=to(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),h.push(m)})}Mu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,p=t.timelines.map(v=>{let w=v.element;u.add(w);let I=w[Ko];if(I&&I.removedBeforeQueried)return new wl(v.duration,v.delay);let S=w!==l,R=iye((i.get(w)||Z0e).map(M=>M.getRealPlayer())).filter(M=>{let x=M;return x.element?x.element===w:!1}),V=o.get(w),z=s.get(w),q=kB(this._normalizer,v.keyframes,V,z),Y=this._buildPlayer(v,q,R);if(v.subTimeline&&r&&h.add(w),S){let M=new mg(e,a,w);M.setRealPlayer(Y),c.push(M)}return Y});c.forEach(v=>{to(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>J0e(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>vo(v,wB));let m=oc(p);return m.onDestroy(()=>{u.forEach(v=>wp(v,wB)),Ls(l,t.toStyles)}),h.forEach(v=>{to(r,v,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new wl(e.duration,e.delay)}},mg=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new wl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>mR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){to(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function J0e(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function eye(n){return n??null}function gb(n){return n&&n.nodeType===1}function tye(n){return n=="start"||n=="done"}function DB(n,e){let t=n.style.display;return n.style.display=e??"none",t}function AB(n,e,t,i,r){let o=[];t.forEach(l=>o.push(DB(l)));let s=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let p=e.computeStyle(c,h,r);u.set(h,p),(!p||p.length==0)&&(c[Ko]=X0e,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>DB(l,o[a++])),s}function MB(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&t.get(l).push(a)}),t}function vo(n,e){n.classList?.add(e)}function wp(n,e){n.classList?.remove(e)}function nye(n,e,t){oc(t).onDone(()=>n.processLeaveNode(e))}function iye(n){let e=[];return jB(n,e),e}function jB(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof zf?jB(i.players,e):e.push(i)}}function rye(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function RB(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Cp=class{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new hR(e.body,t,i,r),this._timelineEngine=new uR(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],u=BB(this._driver,o,l,c);if(l.length)throw r0e(r,l);c.length&&void 0,a=$0e(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=vB(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=vB(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function oye(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=XM(e[0]),e.length>1&&(i=XM(e[e.length-1]))):e instanceof Map&&(t=XM(e)),t||i?new pR(n,t,i):null}var Ip=class Ip{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Ip.initialStylesByElement.get(e);r||Ip.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ls(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ls(this._element,this._initialStyles),this._endStyles&&(Ls(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ip.initialStylesByElement.delete(this._element),this._startStyles&&(Mu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mu(this._element,this._endStyles),this._endStyles=null),Ls(this._element,this._initialStyles),this._state=3)}};Ip.initialStylesByElement=new WeakMap;var pR=Ip;function XM(n){let e=null;return n.forEach((t,i)=>{sye(i)&&(e=e||new Map,e.set(i,t))}),e}function sye(n){return n==="display"||n==="position"}var Tb=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:bR(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},xb=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return OB(e,t)}getParentElement(e){return _R(e)}query(e,t,i){return PB(e,t,i)}computeStyle(e,t,i){return bR(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(m=>m instanceof Tb);x0e(i,r)&&u.forEach(m=>{m.currentSnapshot.forEach((v,w)=>c.set(w,v))});let h=C0e(t).map(m=>new Map(m));h=S0e(e,h,c);let p=oye(e,h);return new Tb(e,h,l,p)}};var _b="@",$B="@.disabled",Sb=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==_b&&t==$B?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},fR=class extends Sb{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==_b?t.charAt(1)=="."&&t==$B?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==_b){let r=aye(e),o=t.slice(1),s="";return o.charAt(0)!=_b&&([o,s]=lye(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function aye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function lye(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Db=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let h=()=>c.delete(r);u=new Sb(i,r,this.engine,h),c.set(r,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new fR(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var uye=(()=>{let e=class e extends Cp{constructor(i,r,o){super(i,r,o,he(fd,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(Fe(ut),Fe(Ru),Fe(ku))},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let n=e;return n})();function dye(){return new bb}function hye(n,e,t){return new Db(n,e,t)}var GB=[{provide:ku,useFactory:dye},{provide:Cp,useClass:uye},{provide:Dc,useFactory:hye,deps:[q0,Cp,Qe]}],pye=[{provide:Ru,useFactory:()=>new xb},{provide:JI,useValue:"BrowserAnimations"},...GB],Iqe=[{provide:Ru,useClass:yR},{provide:JI,useValue:"NoopAnimations"},...GB];function WB(){return as("NgEagerAnimations"),[...pye]}var qB={apiKey:"AIzaSyDcssjNZoxSROTfUnpTSIEIiMIpo2A-rww",authDomain:"santalucia-d9576.firebaseapp.com",projectId:"santalucia-d9576",storageBucket:"santalucia-d9576.appspot.com",messagingSenderId:"969590860252",appId:"1:969590860252:web:5998cdc474ac44b8f70719"};var KB={providers:[NN(_B),WB(),HL(),FI([aV(()=>lV(qB)),s4(()=>l4()),H6(()=>j6())])]};var CR=(()=>{class n extends ze{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Oe(n)))(r||n)}})();static \u0275cmp=te({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[Me,ye],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,r){i&1&&(Be(),C(0,"svg",0),G(1,"path",1),E()),i&2&&(ne(r.getClassNames()),N("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var fye=["menubar"],mye=(n,e)=>({"p-submenu-list":n,"p-menubar-root-list":e}),YB=n=>({"p-menuitem-link":!0,"p-disabled":n}),gye=()=>({exact:!1}),_ye=(n,e)=>({$implicit:n,root:e});function yye(n,e){if(n&1&&G(0,"li",8),n&2){let t=y().$implicit,i=y();f("ngStyle",i.getItemProp(t,"style"))("ngClass",i.getSeparatorItemClass(t)),N("id",i.getItemId(t))("data-pc-section","separator")}}function vye(n,e){if(n&1&&G(0,"span",19),n&2){let t=y(4).$implicit,i=y();f("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),N("data-pc-section","icon")("tabindex",-1)}}function bye(n,e){if(n&1&&(C(0,"span",20),oe(1),E()),n&2){let t=y(4).$implicit,i=y();f("id",i.getItemLabelId(t)),N("data-pc-section","label"),g(),zt(" ",i.getItemLabel(t)," ")}}function wye(n,e){if(n&1&&G(0,"span",21),n&2){let t=y(4).$implicit,i=y();f("innerHTML",i.getItemLabel(t),Id)("id",i.getItemLabelId(t)),N("data-pc-section","label")}}function Iye(n,e){if(n&1&&(C(0,"span",22),oe(1),E()),n&2){let t=y(4).$implicit,i=y();f("ngClass",i.getItemProp(t,"badgeStyleClass")),g(),Ue(i.getItemProp(t,"badge"))}}function Cye(n,e){n&1&&G(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function Eye(n,e){n&1&&G(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function Tye(n,e){if(n&1&&(ie(0),T(1,Cye,1,2,"AngleDownIcon",24)(2,Eye,1,2,"AngleRightIcon",24),re()),n&2){let t=y(6);g(),f("ngIf",t.root),g(),f("ngIf",!t.root)}}function xye(n,e){}function Sye(n,e){n&1&&T(0,xye,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function Dye(n,e){if(n&1&&(ie(0),T(1,Tye,3,2,"ng-container",11)(2,Sye,1,1,null,23),re()),n&2){let t=y(5);g(),f("ngIf",!t.submenuIconTemplate),g(),f("ngTemplateOutlet",t.submenuIconTemplate)}}function Aye(n,e){if(n&1&&(C(0,"a",15),T(1,vye,1,4,"span",16)(2,bye,2,3,"span",17)(3,wye,1,3,"ng-template",null,2,Qt)(5,Iye,2,2,"span",18)(6,Dye,3,2,"ng-container",11),E()),n&2){let t=ct(4),i=y(3).$implicit,r=y();f("target",r.getItemProp(i,"target"))("ngClass",Ie(11,YB,r.getItemProp(i,"disabled"))),N("href",r.getItemProp(i,"url"),Rc)("data-automationid",r.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),g(),f("ngIf",r.getItemProp(i,"icon")),g(),f("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),g(3),f("ngIf",r.getItemProp(i,"badge")),g(),f("ngIf",r.isItemGroup(i))}}function Mye(n,e){if(n&1&&G(0,"span",19),n&2){let t=y(4).$implicit,i=y();f("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),N("data-pc-section","icon")("tabindex",-1)}}function Rye(n,e){if(n&1&&(C(0,"span",29),oe(1),E()),n&2){let t=y(4).$implicit,i=y();g(),Ue(i.getItemLabel(t))}}function kye(n,e){if(n&1&&G(0,"span",30),n&2){let t=y(4).$implicit,i=y();f("innerHTML",i.getItemLabel(t),Id),N("data-pc-section","label")}}function Oye(n,e){if(n&1&&(C(0,"span",22),oe(1),E()),n&2){let t=y(4).$implicit,i=y();f("ngClass",i.getItemProp(t,"badgeStyleClass")),g(),Ue(i.getItemProp(t,"badge"))}}function Pye(n,e){n&1&&G(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function Fye(n,e){n&1&&G(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),N("data-pc-section","submenuicon"))}function Lye(n,e){if(n&1&&(ie(0),T(1,Pye,1,2,"AngleDownIcon",24)(2,Fye,1,2,"AngleRightIcon",24),re()),n&2){let t=y(6);g(),f("ngIf",t.root),g(),f("ngIf",!t.root)}}function Nye(n,e){}function Vye(n,e){n&1&&T(0,Nye,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function Bye(n,e){if(n&1&&(ie(0),T(1,Lye,3,2,"ng-container",11)(2,Vye,1,1,null,23),re()),n&2){y(5);let t=ct(1);g(),f("ngIf",!t.submenuIconTemplate),g(),f("ngTemplateOutlet",t.submenuIconTemplate)}}function zye(n,e){if(n&1&&(C(0,"a",27),T(1,Mye,1,4,"span",16)(2,Rye,2,1,"span",28)(3,kye,1,2,"ng-template",null,3,Qt)(5,Oye,2,2,"span",18)(6,Bye,3,2,"ng-container",11),E()),n&2){let t=ct(4),i=y(3).$implicit,r=y();f("routerLink",r.getItemProp(i,"routerLink"))("queryParams",r.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(i,"routerLinkActiveOptions")||Jt(20,gye))("target",r.getItemProp(i,"target"))("ngClass",Ie(21,YB,r.getItemProp(i,"disabled")))("fragment",r.getItemProp(i,"fragment"))("queryParamsHandling",r.getItemProp(i,"queryParamsHandling"))("preserveFragment",r.getItemProp(i,"preserveFragment"))("skipLocationChange",r.getItemProp(i,"skipLocationChange"))("replaceUrl",r.getItemProp(i,"replaceUrl"))("state",r.getItemProp(i,"state")),N("data-automationid",r.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),g(),f("ngIf",r.getItemProp(i,"icon")),g(),f("ngIf",r.getItemProp(i,"escape"))("ngIfElse",t),g(3),f("ngIf",r.getItemProp(i,"badge")),g(),f("ngIf",r.isItemGroup(i))}}function Uye(n,e){if(n&1&&(ie(0),T(1,Aye,7,13,"a",13)(2,zye,7,23,"a",14),re()),n&2){let t=y(2).$implicit,i=y();g(),f("ngIf",!i.getItemProp(t,"routerLink")),g(),f("ngIf",i.getItemProp(t,"routerLink"))}}function Hye(n,e){}function jye(n,e){n&1&&T(0,Hye,0,0,"ng-template")}function $ye(n,e){if(n&1&&(ie(0),T(1,jye,1,0,null,31),re()),n&2){let t=y(2).$implicit,i=y();g(),f("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",Nt(2,_ye,t.item,i.root))}}function Gye(n,e){if(n&1){let t=ue();C(0,"p-menubarSub",32),Q("itemClick",function(r){F(t);let o=y(3);return L(o.itemClick.emit(r))})("itemMouseEnter",function(r){F(t);let o=y(3);return L(o.onItemMouseEnter(r))}),E()}if(n&2){let t=y(2).$implicit,i=y();f("itemTemplate",i.itemTemplate)("items",t.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("ariaLabelledBy",i.getItemLabelId(t))}}function Wye(n,e){if(n&1){let t=ue();C(0,"li",9,1)(2,"div",10),Q("click",function(r){F(t);let o=y().$implicit,s=y();return L(s.onItemClick(r,o))})("mouseenter",function(r){F(t);let o=y().$implicit,s=y();return L(s.onItemMouseEnter({$event:r,processedItem:o}))}),T(3,Uye,3,2,"ng-container",11)(4,$ye,2,5,"ng-container",11),E(),T(5,Gye,1,9,"p-menubarSub",12),E()}if(n&2){let t=y(),i=t.$implicit,r=t.index,o=y();ne(o.getItemProp(i,"styleClass")),f("ngStyle",o.getItemProp(i,"style"))("ngClass",o.getItemClass(i))("tooltipOptions",o.getItemProp(i,"tooltipOptions")),N("id",o.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(i))("data-p-focused",o.isItemFocused(i))("data-p-disabled",o.isItemDisabled(i))("aria-label",o.getItemLabel(i))("aria-disabled",o.isItemDisabled(i)||void 0)("aria-haspopup",o.isItemGroup(i)&&!o.getItemProp(i,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(i)?o.isItemActive(i):void 0)("aria-level",o.level+1)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(r)),g(2),N("data-pc-section","content"),g(),f("ngIf",!o.itemTemplate),g(),f("ngIf",o.itemTemplate),g(),f("ngIf",o.isItemVisible(i)&&o.isItemGroup(i))}}function qye(n,e){if(n&1&&T(0,yye,1,4,"li",6)(1,Wye,6,21,"li",7),n&2){let t=e.$implicit,i=y();f("ngIf",i.isItemVisible(t)&&i.getItemProp(t,"separator")),g(),f("ngIf",i.isItemVisible(t)&&!i.getItemProp(t,"separator"))}}var Kye=["menubutton"],Yye=["rootmenu"],Qye=["*"],Zye=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function Xye(n,e){n&1&&de(0)}function Jye(n,e){if(n&1&&(C(0,"div",8),T(1,Xye,1,0,"ng-container",9),E()),n&2){let t=y();g(),f("ngTemplateOutlet",t.startTemplate)}}function eve(n,e){n&1&&G(0,"BarsIcon")}function tve(n,e){}function nve(n,e){n&1&&T(0,tve,0,0,"ng-template")}function ive(n,e){if(n&1){let t=ue();C(0,"a",10,2),Q("click",function(r){F(t);let o=y();return L(o.menuButtonClick(r))})("keydown",function(r){F(t);let o=y();return L(o.menuButtonKeydown(r))}),T(2,eve,1,0,"BarsIcon",11)(3,nve,1,0,null,9),E()}if(n&2){let t=y();N("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),g(2),f("ngIf",!t.menuIconTemplate),g(),f("ngTemplateOutlet",t.menuIconTemplate)}}function rve(n,e){n&1&&de(0)}function ove(n,e){if(n&1&&(C(0,"div",12),T(1,rve,1,0,"ng-container",9),E()),n&2){let t=y();g(),f("ngTemplateOutlet",t.endTemplate)}}function sve(n,e){n&1&&(C(0,"div",12),nn(1),E())}var ER=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new pn;mouseLeft$=this.mouseLeaves.pipe(uw(()=>cw(this.autoHideDelay)),pi(t=>this.autoHide&&t));static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac})}return n})(),ave=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new Z;itemMouseEnter=new Z;menuFocus=new Z;menuBlur=new Z;menuKeydown=new Z;menubarViewChild;mouseLeaveSubscriber;constructor(t,i,r,o){this.el=t,this.renderer=i,this.cd=r,this.menubarService=o}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,i){this.getItemProp(i,"command",{originalEvent:t,item:i.item}),this.itemClick.emit({originalEvent:t,processedItem:i,isFocus:!0})}getItemProp(t,i,r=null){return t&&t.item?ee.getItemValue(t.item[i],r):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemLabelId(t){return`${this.menuId}_${t.key}_label`}getItemClass(t){return lt(ce({},this.getItemProp(t,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)})}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return lt(ce({},this.getItemProp(t,"class")),{"p-menuitem-separator":!0})}isItemVisible(t){return this.getItemProp(t,"visible")!==!1}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return ee.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);let{event:i,processedItem:r}=t;this.itemMouseEnter.emit({originalEvent:i,processedItem:r})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(j(We),j(Gt),j(et),j(ER))};static \u0275cmp=te({type:n,selectors:[["p-menubarSub"]],viewQuery:function(i,r){if(i&1&&Le(fye,7),i&2){let o;me(o=ge())&&(r.menubarViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[P.HasDecoratorInputTransform,"root","root",W],autoZIndex:[P.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[P.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Pe],mobileActive:[P.HasDecoratorInputTransform,"mobileActive","mobileActive",W],autoDisplay:[P.HasDecoratorInputTransform,"autoDisplay","autoDisplay",W],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[P.HasDecoratorInputTransform,"level","level",Pe],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Xe],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(i,r){if(i&1){let o=ue();C(0,"ul",4,0),Q("focus",function(a){return F(o),L(r.menuFocus.emit(a))})("blur",function(a){return F(o),L(r.menuBlur.emit(a))})("keydown",function(a){return F(o),L(r.menuKeydown.emit(a))}),T(2,qye,2,2,"ng-template",5),E()}i&2&&(f("ngClass",Nt(8,mye,!r.root,r.root))("tabindex",0),N("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.root?r.menuId:null)("aria-activedescendant",r.focusedItemId),g(2),f("ngForOf",r.items))},dependencies:()=>[ft,si,tt,At,mt,pl,py,ai,Hd,ch,uh,n],encapsulation:2})}return n})(),QB=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new Z;onBlur=new Z;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Xt([]);number=Xt(0);focusedItemInfo=Xt({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let t=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:t.index!==-1?`${this.id}${ee.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,i,r,o,s,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=o,this.cd=s,this.config=a,this.menubarService=l,af(()=>{let c=this.activeItemPath();ee.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||wt()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}createProcessedItems(t,i=0,r={},o=""){let s=[];return t&&t.forEach((a,l)=>{let c=(o!==""?o+"_":"")+l,u={item:a,index:l,level:i,key:c,parent:r,parentKey:o};u.items=this.createProcessedItems(a.items,i+1,u,c),s.push(u)}),s}getItemProp(t,i){return t?ee.getItemValue(t[i]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){(t.code==="Enter"||t.code==="Space")&&this.menuButtonClick(t)}onItemClick(t){let{originalEvent:i,processedItem:r}=t,o=this.isProcessedItemGroup(r),s=ee.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:u,parentKey:h,item:p}=r;this.activeItemPath.set(this.activeItemPath().filter(m=>c!==m.key&&c.startsWith(m.key))),this.focusedItemInfo.set({index:l,level:u,parentKey:h,item:p}),this.dirty=!s,k.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(o)this.onItemChange(t);else{let l=s?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,l?l.index:-1),this.mobileActive=!1,k.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){k.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,i){let r=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let o=this.focusedItemInfo();this.focusedItemInfo.set(lt(ce({},o),{item:r.item,index:i})),this.scrollInView()}}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedItemId,r=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){let{processedItem:i,isFocus:r}=t;if(ee.isEmpty(i))return;let{index:o,key:s,level:a,parentKey:l,items:c,item:u}=i,h=ee.isNotEmpty(c),p=this.activeItemPath().filter(m=>m.parentKey!==l&&m.parentKey!==s);h&&p.push(i),this.focusedItemInfo.set({index:o,level:a,parentKey:l,item:u}),this.activeItemPath.set(p),h&&(this.dirty=!0),r&&k.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,xn.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,xn.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,i){this.mobileActive&&setTimeout(()=>{k.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&k.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){let t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item}),k.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(r),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&ee.isPrintableCharacter(t.key)&&this.searchItems(t,t.key);break}}findVisibleItem(t){return ee.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&ee.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(i=>i.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&ee.isNotEmpty(t.items)}searchItems(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,o=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(s=>this.isItemMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?ee.isEmpty(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(t));else{let o=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,o),t.preventDefault()}}onArrowRightKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(o=>o.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(t));else{let o=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,o),t.preventDefault()}}onArrowUpKey(t){let i=this.visibleItems[this.focusedItemInfo().index];if(ee.isEmpty(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let s=this.findLastItemIndex();this.changeFocusedItemIndex(t,s)}}else{let o=this.activeItemPath().find(s=>s.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:o?o.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(t);let s=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s)}else{let s=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s)}}t.preventDefault()}onArrowLeftKey(t){let i=this.visibleItems[this.focusedItemInfo().index],r=i?this.activeItemPath().find(o=>o.key===i.parentKey):null;if(r){this.onItemChange({originalEvent:t,processedItem:r});let o=this.activeItemPath().filter(s=>s.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o),t.preventDefault()}else{let o=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:t,processedItem:i})}this.hide()}onEnterKey(t){if(this.focusedItemInfo().index!==-1){let i=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=i&&k.findSingle(i,'a[data-pc-section="action"]');r?r.click():i&&i.click()}t.preventDefault()}findLastFocusedItemIndex(){let t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return ee.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){let i=t>0?ee.findLastIndex(this.visibleItems.slice(0,t),r=>this.isValidItem(r)):-1;return i>-1?i:t}findNextItemIndex(t){let i=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(r=>this.isValidItem(r)):-1;return i>-1?i+t+1:t}bindResizeListener(){Wt(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{k.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){Wt(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{let i=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),r=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);i&&(r?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(i){return new(i||n)(j(ut),j(Bt),j(We),j(Gt),j(et),j(qt),j(ER))};static \u0275cmp=te({type:n,selectors:[["p-menubar"]],contentQueries:function(i,r,o){if(i&1&&pt(o,qe,4),i&2){let s;me(s=ge())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&(Le(Kye,5),Le(Yye,5)),i&2){let o;me(o=ge())&&(r.menubutton=o.first),me(o=ge())&&(r.rootmenu=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[P.HasDecoratorInputTransform,"autoZIndex","autoZIndex",W],baseZIndex:[P.HasDecoratorInputTransform,"baseZIndex","baseZIndex",Pe],autoDisplay:[P.HasDecoratorInputTransform,"autoDisplay","autoDisplay",W],autoHide:[P.HasDecoratorInputTransform,"autoHide","autoHide",W],autoHideDelay:[P.HasDecoratorInputTransform,"autoHideDelay","autoHideDelay",Pe],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[dn([ER]),Xe],ngContentSelectors:Qye,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(i,r){if(i&1){let o=ue();_n(),C(0,"div",3),T(1,Jye,2,1,"div",4)(2,ive,4,7,"a",5),C(3,"p-menubarSub",6,0),Q("itemClick",function(a){return F(o),L(r.onItemClick(a))})("menuFocus",function(a){return F(o),L(r.onMenuFocus(a))})("menuBlur",function(a){return F(o),L(r.onMenuBlur(a))})("menuKeydown",function(a){return F(o),L(r.onKeyDown(a))})("itemMouseEnter",function(a){return F(o),L(r.onItemMouseEnter(a))}),E(),T(5,ove,2,1,"div",7)(6,sve,2,0,"ng-template",null,1,Qt),E()}if(i&2){let o=ct(7);ne(r.styleClass),f("ngClass",Ie(23,Zye,r.mobileActive))("ngStyle",r.style),N("data-pc-section","root")("data-pc-name","menubar"),g(),f("ngIf",r.startTemplate),g(),f("ngIf",r.model&&r.model.length>0),g(),f("items",r.processedItems)("itemTemplate",r.itemTemplate)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("submenuIconTemplate",r.submenuIconTemplate)("activeItemPath",r.activeItemPath()),g(2),f("ngIf",r.endTemplate)("ngIfElse",o)}},dependencies:()=>[ft,tt,At,mt,CR,ave],styles:[`@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}
`],encapsulation:2,changeDetection:0})}return n})(),ZB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,ml,Si,_l,Ke,CR,ch,uh,ml,_l,Ke]})}return n})();var XB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He,Ke]})}return n})();var cve=["*"];function uve(n,e){if(n&1&&(C(0,"span",4),oe(1),E()),n&2){let t=y();g(),Ue(t.label)}}function dve(n,e){if(n&1&&G(0,"span",6),n&2){let t=y(2);ne(t.icon),f("ngClass","p-avatar-icon")}}function hve(n,e){if(n&1&&T(0,dve,1,3,"span",5),n&2){let t=y(),i=ct(6);f("ngIf",t.icon)("ngIfElse",i)}}function pve(n,e){if(n&1){let t=ue();C(0,"img",8),Q("error",function(r){F(t);let o=y(2);return L(o.imageError(r))}),E()}if(n&2){let t=y(2);f("src",t.image,Rc),N("aria-label",t.ariaLabel)}}function fve(n,e){if(n&1&&T(0,pve,1,2,"img",7),n&2){let t=y();f("ngIf",t.image)}}var JB=(()=>{class n{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new Z;containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}}imageError(t){this.onImageError.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=te({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},ngContentSelectors:cve,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(i,r){if(i&1&&(_n(),C(0,"div",2),nn(1),T(2,uve,2,1,"span",3)(3,hve,1,2,"ng-template",null,0,Qt)(5,fve,1,1,"ng-template",null,1,Qt),E()),i&2){let o=ct(4);ne(r.styleClass),f("ngClass",r.containerClass())("ngStyle",r.style),N("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-name","avatar"),g(2),f("ngIf",r.label)("ngIfElse",o)}},dependencies:[ft,tt,mt],styles:[`@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),ez=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ee({type:n});static \u0275inj=Ce({imports:[He]})}return n})();function gve(n,e){n&1&&G(0,"p-avatar",5)}function _ve(n,e){if(n&1){let t=ue();C(0,"a",6),Q("click",function(){let r=F(t).$implicit,o=y();return L(r.url?r.label==="Segui Santa Lucia"?o.navigateToHome():o.navigate(r.url):o.share())}),G(1,"span"),C(2,"span",7),oe(3),E()()}if(n&2){let t=e.$implicit;g(),ne(t.icon),g(2),Ue(t.label)}}function yve(n,e){if(n&1){let t=ue();C(0,"a",9),G(1,"span",10),C(2,"span",7),oe(3,"Gestisci"),E()(),C(4,"a",11),Q("click",function(){F(t);let r=y(2);return L(r.logout())}),G(5,"span",12),C(6,"span",7),oe(7,"Esci"),E()()}}function vve(n,e){n&1&&(C(0,"a",13),G(1,"span",12),C(2,"span",7),oe(3,"Accedi"),E()())}function bve(n,e){if(n&1&&(C(0,"div",8),T(1,yve,8,0)(2,vve,4,0),E()),n&2){let t=y();g(),hr(1,t.isLogged()?1:2)}}var tz=(()=>{let e=class e{constructor(i,r){this.router=i,this.authService=r}ngOnInit(){this.items=[{label:"Segui Santa Lucia",icon:"pi pi-map-marker",url:"/home"},{label:"Condividi",icon:"pi pi-share-alt"}]}navigate(i){this.router.navigate([i])}navigateToHome(){window.location.href="/follow"}share(){navigator.share?navigator.share({title:"Segui Santa Lucia",text:"Descrizione della piattaforma",url:"https://www.tuapiattaforma.com"}).then(()=>{console.log("Condivisione avvenuta con successo")}).catch(i=>{console.error("Errore nella condivisione",i)}):console.log("API Web Share non supportata nel browser")}isLogged(){return this.authService.isLogged()}logout(){this.authService.logout(),window.open("/follow","_self")}};e.\u0275fac=function(r){return new(r||e)(j(Ei),j(Pl))},e.\u0275cmp=te({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ye],decls:5,vars:1,consts:[[1,"card"],[3,"model"],["pTemplate","start"],["pTemplate","item"],["pTemplate","end"],["image","assets/LogoDeputazione.png","shape","circle"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",3,"click"],[1,"ml-2"],[1,"flex","align-items-center","gap-2","auth-section"],["pRipple","","routerLink","/manage",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"],[1,"pi","pi-sliders-h"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px",3,"click"],[1,"pi","pi-sign-in",2,"font-size","larger"],["pRipple","","routerLink","/login",1,"flex","align-items-center","p-menuitem-link",2,"margin","auto 10px"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"p-menubar",1),T(2,gve,1,0,"ng-template",2)(3,_ve,4,3,"ng-template",3)(4,bve,3,1,"ng-template",4),E()()),r&2&&(g(),f("model",o.items))},dependencies:[ZB,QB,pl,qe,XB,ez,JB,ho,Si,ai,He],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited{color:inherit}"]});let n=e;return n})();var nz=(()=>{let e=class e{constructor(i){this.authService=i,this.title="FollowSantaLucia"}ngOnInit(){this.authService.user$.subscribe(i=>{i?this.authService.currentUser.set({email:i.email,username:i.displayName}):this.authService.currentUser.set(null)})}};e.\u0275fac=function(r){return new(r||e)(j(Pl))},e.\u0275cmp=te({type:e,selectors:[["app-root"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,o){r&1&&G(0,"app-navbar")(1,"router-outlet")},dependencies:[kf,tz]});let n=e;return n})();YL(nz,KB).catch(n=>console.error(n));
